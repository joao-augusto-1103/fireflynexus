function XM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ga(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function JM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var SN={exports:{}},em={},EN={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd=Symbol.for("react.element"),ZM=Symbol.for("react.portal"),e4=Symbol.for("react.fragment"),t4=Symbol.for("react.strict_mode"),n4=Symbol.for("react.profiler"),r4=Symbol.for("react.provider"),s4=Symbol.for("react.context"),o4=Symbol.for("react.forward_ref"),i4=Symbol.for("react.suspense"),a4=Symbol.for("react.memo"),l4=Symbol.for("react.lazy"),a_=Symbol.iterator;function c4(t){return t===null||typeof t!="object"?null:(t=a_&&t[a_]||t["@@iterator"],typeof t=="function"?t:null)}var CN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TN=Object.assign,NN={};function wc(t,e,n){this.props=t,this.context=e,this.refs=NN,this.updater=n||CN}wc.prototype.isReactComponent={};wc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kN(){}kN.prototype=wc.prototype;function my(t,e,n){this.props=t,this.context=e,this.refs=NN,this.updater=n||CN}var gy=my.prototype=new kN;gy.constructor=my;TN(gy,wc.prototype);gy.isPureReactComponent=!0;var l_=Array.isArray,jN=Object.prototype.hasOwnProperty,vy={current:null},PN={key:!0,ref:!0,__self:!0,__source:!0};function AN(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)jN.call(e,r)&&!PN.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Pd,type:t,key:o,ref:i,props:s,_owner:vy.current}}function u4(t,e){return{$$typeof:Pd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pd}function d4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c_=/\/+/g;function jg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?d4(""+t.key):e.toString(36)}function af(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Pd:case ZM:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+jg(i,0):r,l_(s)?(n="",t!=null&&(n=t.replace(c_,"$&/")+"/"),af(s,e,n,"",function(u){return u})):s!=null&&(xy(s)&&(s=u4(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(c_,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",l_(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+jg(o,l);i+=af(o,e,n,c,s)}else if(c=c4(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+jg(o,l++),i+=af(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function gh(t,e,n){if(t==null)return t;var r=[],s=0;return af(t,r,"","",function(o){return e.call(n,o,s++)}),r}function h4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qn={current:null},lf={transition:null},f4={ReactCurrentDispatcher:Qn,ReactCurrentBatchConfig:lf,ReactCurrentOwner:vy};function IN(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:gh,forEach:function(t,e,n){gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gh(t,function(){e++}),e},toArray:function(t){return gh(t,function(e){return e})||[]},only:function(t){if(!xy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xe.Component=wc;Xe.Fragment=e4;Xe.Profiler=n4;Xe.PureComponent=my;Xe.StrictMode=t4;Xe.Suspense=i4;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f4;Xe.act=IN;Xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TN({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=vy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)jN.call(e,c)&&!PN.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Pd,type:t.type,key:s,ref:o,props:r,_owner:i}};Xe.createContext=function(t){return t={$$typeof:s4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:r4,_context:t},t.Consumer=t};Xe.createElement=AN;Xe.createFactory=function(t){var e=AN.bind(null,t);return e.type=t,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(t){return{$$typeof:o4,render:t}};Xe.isValidElement=xy;Xe.lazy=function(t){return{$$typeof:l4,_payload:{_status:-1,_result:t},_init:h4}};Xe.memo=function(t,e){return{$$typeof:a4,type:t,compare:e===void 0?null:e}};Xe.startTransition=function(t){var e=lf.transition;lf.transition={};try{t()}finally{lf.transition=e}};Xe.unstable_act=IN;Xe.useCallback=function(t,e){return Qn.current.useCallback(t,e)};Xe.useContext=function(t){return Qn.current.useContext(t)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(t){return Qn.current.useDeferredValue(t)};Xe.useEffect=function(t,e){return Qn.current.useEffect(t,e)};Xe.useId=function(){return Qn.current.useId()};Xe.useImperativeHandle=function(t,e,n){return Qn.current.useImperativeHandle(t,e,n)};Xe.useInsertionEffect=function(t,e){return Qn.current.useInsertionEffect(t,e)};Xe.useLayoutEffect=function(t,e){return Qn.current.useLayoutEffect(t,e)};Xe.useMemo=function(t,e){return Qn.current.useMemo(t,e)};Xe.useReducer=function(t,e,n){return Qn.current.useReducer(t,e,n)};Xe.useRef=function(t){return Qn.current.useRef(t)};Xe.useState=function(t){return Qn.current.useState(t)};Xe.useSyncExternalStore=function(t,e,n){return Qn.current.useSyncExternalStore(t,e,n)};Xe.useTransition=function(){return Qn.current.useTransition()};Xe.version="18.3.1";EN.exports=Xe;var g=EN.exports;const Re=Ga(g),RN=XM({__proto__:null,default:Re},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p4=g,m4=Symbol.for("react.element"),g4=Symbol.for("react.fragment"),v4=Object.prototype.hasOwnProperty,x4=p4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y4={key:!0,ref:!0,__self:!0,__source:!0};function DN(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)v4.call(e,r)&&!y4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:m4,type:t,key:o,ref:i,props:s,_owner:x4.current}}em.Fragment=g4;em.jsx=DN;em.jsxs=DN;SN.exports=em;var a=SN.exports,o0={},ON={exports:{}},Rr={},MN={exports:{}},LN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,z){var K=M.length;M.push(z);e:for(;0<K;){var X=K-1>>>1,ce=M[X];if(0<s(ce,z))M[X]=z,M[K]=ce,K=X;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var z=M[0],K=M.pop();if(K!==z){M[0]=K;e:for(var X=0,ce=M.length,ue=ce>>>1;X<ue;){var ge=2*(X+1)-1,We=M[ge],je=ge+1,de=M[je];if(0>s(We,K))je<ce&&0>s(de,We)?(M[X]=de,M[je]=K,X=je):(M[X]=We,M[ge]=K,X=ge);else if(je<ce&&0>s(de,K))M[X]=de,M[je]=K,X=je;else break e}}return z}function s(M,z){var K=M.sortIndex-z.sortIndex;return K!==0?K:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,m=!1,x=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=M)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function j(M){if(y=!1,b(M),!x)if(n(c)!==null)x=!0,$(I);else{var z=n(u);z!==null&&H(j,z.startTime-M)}}function I(M,z){x=!1,y&&(y=!1,_(T),T=-1),m=!0;var K=p;try{for(b(z),f=n(c);f!==null&&(!(f.expirationTime>z)||M&&!N());){var X=f.callback;if(typeof X=="function"){f.callback=null,p=f.priorityLevel;var ce=X(f.expirationTime<=z);z=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(c)&&r(c),b(z)}else r(c);f=n(c)}if(f!==null)var ue=!0;else{var ge=n(u);ge!==null&&H(j,ge.startTime-z),ue=!1}return ue}finally{f=null,p=K,m=!1}}var V=!1,S=null,T=-1,A=5,R=-1;function N(){return!(t.unstable_now()-R<A)}function k(){if(S!==null){var M=t.unstable_now();R=M;var z=!0;try{z=S(!0,M)}finally{z?P():(V=!1,S=null)}}else V=!1}var P;if(typeof v=="function")P=function(){v(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,L=D.port2;D.port1.onmessage=k,P=function(){L.postMessage(null)}}else P=function(){E(k,0)};function $(M){S=M,V||(V=!0,P())}function H(M,z){T=E(function(){M(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,$(I))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var K=p;p=z;try{return M()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=p;p=M;try{return z()}finally{p=K}},t.unstable_scheduleCallback=function(M,z,K){var X=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?X+K:X):K=X,M){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=K+ce,M={id:d++,callback:z,priorityLevel:M,startTime:K,expirationTime:ce,sortIndex:-1},K>X?(M.sortIndex=K,e(u,M),n(c)===null&&M===n(u)&&(y?(_(T),T=-1):y=!0,H(j,K-X))):(M.sortIndex=ce,e(c,M),x||m||(x=!0,$(I))),M},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(M){var z=p;return function(){var K=p;p=z;try{return M.apply(this,arguments)}finally{p=K}}}})(LN);MN.exports=LN;var w4=MN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b4=g,Ar=w4;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VN=new Set,Hu={};function Ka(t,e){Ql(t,e),Ql(t+"Capture",e)}function Ql(t,e){for(Hu[t]=e,t=0;t<e.length;t++)VN.add(e[t])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i0=Object.prototype.hasOwnProperty,_4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u_={},d_={};function S4(t){return i0.call(d_,t)?!0:i0.call(u_,t)?!1:_4.test(t)?d_[t]=!0:(u_[t]=!0,!1)}function E4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C4(t,e,n,r){if(e===null||typeof e>"u"||E4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){En[t]=new Xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];En[e]=new Xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){En[t]=new Xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){En[t]=new Xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){En[t]=new Xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){En[t]=new Xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){En[t]=new Xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){En[t]=new Xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){En[t]=new Xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var yy=/[\-:]([a-z])/g;function wy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yy,wy);En[e]=new Xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yy,wy);En[e]=new Xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yy,wy);En[e]=new Xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){En[t]=new Xn(t,1,!1,t.toLowerCase(),null,!1,!1)});En.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){En[t]=new Xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function by(t,e,n,r){var s=En.hasOwnProperty(e)?En[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(C4(e,n,s,r)&&(n=null),r||s===null?S4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oo=b4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),vl=Symbol.for("react.portal"),xl=Symbol.for("react.fragment"),_y=Symbol.for("react.strict_mode"),a0=Symbol.for("react.profiler"),FN=Symbol.for("react.provider"),zN=Symbol.for("react.context"),Sy=Symbol.for("react.forward_ref"),l0=Symbol.for("react.suspense"),c0=Symbol.for("react.suspense_list"),Ey=Symbol.for("react.memo"),Jo=Symbol.for("react.lazy"),UN=Symbol.for("react.offscreen"),h_=Symbol.iterator;function Qc(t){return t===null||typeof t!="object"?null:(t=h_&&t[h_]||t["@@iterator"],typeof t=="function"?t:null)}var Rt=Object.assign,Pg;function fu(t){if(Pg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pg=e&&e[1]||""}return`
`+Pg+t}var Ag=!1;function Ig(t,e){if(!t||Ag)return"";Ag=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ag=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fu(t):""}function T4(t){switch(t.tag){case 5:return fu(t.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return t=Ig(t.type,!1),t;case 11:return t=Ig(t.type.render,!1),t;case 1:return t=Ig(t.type,!0),t;default:return""}}function u0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xl:return"Fragment";case vl:return"Portal";case a0:return"Profiler";case _y:return"StrictMode";case l0:return"Suspense";case c0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zN:return(t.displayName||"Context")+".Consumer";case FN:return(t._context.displayName||"Context")+".Provider";case Sy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ey:return e=t.displayName||null,e!==null?e:u0(t.type)||"Memo";case Jo:e=t._payload,t=t._init;try{return u0(t(e))}catch{}}return null}function N4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u0(e);case 8:return e===_y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k4(t){var e=BN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xh(t){t._valueTracker||(t._valueTracker=k4(t))}function $N(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function d0(t,e){var n=e.checked;return Rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function f_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ti(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qN(t,e){e=e.checked,e!=null&&by(t,"checked",e,!1)}function h0(t,e){qN(t,e);var n=Ti(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?f0(t,e.type,n):e.hasOwnProperty("defaultValue")&&f0(t,e.type,Ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function p_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function f0(t,e,n){(e!=="number"||Vf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pu=Array.isArray;function Ol(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ti(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function p0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function m_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(pu(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ti(n)}}function WN(t,e){var n=Ti(e.value),r=Ti(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function g_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yh,GN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yh=yh||document.createElement("div"),yh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j4=["Webkit","ms","Moz","O"];Object.keys(Tu).forEach(function(t){j4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tu[e]=Tu[t]})});function KN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tu.hasOwnProperty(t)&&Tu[t]?(""+e).trim():e+"px"}function YN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=KN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var P4=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g0(t,e){if(e){if(P4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function v0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x0=null;function Cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var y0=null,Ml=null,Ll=null;function v_(t){if(t=Rd(t)){if(typeof y0!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=om(e),y0(t.stateNode,t.type,e))}}function QN(t){Ml?Ll?Ll.push(t):Ll=[t]:Ml=t}function XN(){if(Ml){var t=Ml,e=Ll;if(Ll=Ml=null,v_(t),e)for(t=0;t<e.length;t++)v_(e[t])}}function JN(t,e){return t(e)}function ZN(){}var Rg=!1;function ek(t,e,n){if(Rg)return t(e,n);Rg=!0;try{return JN(t,e,n)}finally{Rg=!1,(Ml!==null||Ll!==null)&&(ZN(),XN())}}function Ku(t,e){var n=t.stateNode;if(n===null)return null;var r=om(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var w0=!1;if(So)try{var Xc={};Object.defineProperty(Xc,"passive",{get:function(){w0=!0}}),window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{w0=!1}function A4(t,e,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Nu=!1,Ff=null,zf=!1,b0=null,I4={onError:function(t){Nu=!0,Ff=t}};function R4(t,e,n,r,s,o,i,l,c){Nu=!1,Ff=null,A4.apply(I4,arguments)}function D4(t,e,n,r,s,o,i,l,c){if(R4.apply(this,arguments),Nu){if(Nu){var u=Ff;Nu=!1,Ff=null}else throw Error(ie(198));zf||(zf=!0,b0=u)}}function Ya(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x_(t){if(Ya(t)!==t)throw Error(ie(188))}function O4(t){var e=t.alternate;if(!e){if(e=Ya(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return x_(s),t;if(o===r)return x_(s),e;o=o.sibling}throw Error(ie(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function nk(t){return t=O4(t),t!==null?rk(t):null}function rk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rk(t);if(e!==null)return e;t=t.sibling}return null}var sk=Ar.unstable_scheduleCallback,y_=Ar.unstable_cancelCallback,M4=Ar.unstable_shouldYield,L4=Ar.unstable_requestPaint,Ut=Ar.unstable_now,V4=Ar.unstable_getCurrentPriorityLevel,Ty=Ar.unstable_ImmediatePriority,ok=Ar.unstable_UserBlockingPriority,Uf=Ar.unstable_NormalPriority,F4=Ar.unstable_LowPriority,ik=Ar.unstable_IdlePriority,tm=null,zs=null;function z4(t){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(tm,t,void 0,(t.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:$4,U4=Math.log,B4=Math.LN2;function $4(t){return t>>>=0,t===0?32:31-(U4(t)/B4|0)|0}var wh=64,bh=4194304;function mu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=mu(l):(o&=i,o!==0&&(r=mu(o)))}else i=n&~s,i!==0?r=mu(i):o!==0&&(r=mu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hs(e),s=1<<n,r|=t[n],e&=~s;return r}function q4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-hs(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=q4(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function _0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ak(){var t=wh;return wh<<=1,!(wh&4194240)&&(wh=64),t}function Dg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ad(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hs(e),t[e]=n}function H4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hs(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Ny(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ht=0;function lk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ck,ky,uk,dk,hk,S0=!1,_h=[],ui=null,di=null,hi=null,Yu=new Map,Qu=new Map,ti=[],G4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w_(t,e){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Yu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(e.pointerId)}}function Jc(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Rd(e),e!==null&&ky(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function K4(t,e,n,r,s){switch(e){case"focusin":return ui=Jc(ui,t,e,n,r,s),!0;case"dragenter":return di=Jc(di,t,e,n,r,s),!0;case"mouseover":return hi=Jc(hi,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Yu.set(o,Jc(Yu.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Qu.set(o,Jc(Qu.get(o)||null,t,e,n,r,s)),!0}return!1}function fk(t){var e=ha(t.target);if(e!==null){var n=Ya(e);if(n!==null){if(e=n.tag,e===13){if(e=tk(n),e!==null){t.blockedOn=e,hk(t.priority,function(){uk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=E0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);x0=r,n.target.dispatchEvent(r),x0=null}else return e=Rd(n),e!==null&&ky(e),t.blockedOn=n,!1;e.shift()}return!0}function b_(t,e,n){cf(t)&&n.delete(e)}function Y4(){S0=!1,ui!==null&&cf(ui)&&(ui=null),di!==null&&cf(di)&&(di=null),hi!==null&&cf(hi)&&(hi=null),Yu.forEach(b_),Qu.forEach(b_)}function Zc(t,e){t.blockedOn===e&&(t.blockedOn=null,S0||(S0=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,Y4)))}function Xu(t){function e(s){return Zc(s,t)}if(0<_h.length){Zc(_h[0],t);for(var n=1;n<_h.length;n++){var r=_h[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ui!==null&&Zc(ui,t),di!==null&&Zc(di,t),hi!==null&&Zc(hi,t),Yu.forEach(e),Qu.forEach(e),n=0;n<ti.length;n++)r=ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)fk(n),n.blockedOn===null&&ti.shift()}var Vl=Oo.ReactCurrentBatchConfig,$f=!0;function Q4(t,e,n,r){var s=ht,o=Vl.transition;Vl.transition=null;try{ht=1,jy(t,e,n,r)}finally{ht=s,Vl.transition=o}}function X4(t,e,n,r){var s=ht,o=Vl.transition;Vl.transition=null;try{ht=4,jy(t,e,n,r)}finally{ht=s,Vl.transition=o}}function jy(t,e,n,r){if($f){var s=E0(t,e,n,r);if(s===null)qg(t,e,r,qf,n),w_(t,r);else if(K4(s,t,e,n,r))r.stopPropagation();else if(w_(t,r),e&4&&-1<G4.indexOf(t)){for(;s!==null;){var o=Rd(s);if(o!==null&&ck(o),o=E0(t,e,n,r),o===null&&qg(t,e,r,qf,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else qg(t,e,r,null,n)}}var qf=null;function E0(t,e,n,r){if(qf=null,t=Cy(r),t=ha(t),t!==null)if(e=Ya(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qf=t,null}function pk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V4()){case Ty:return 1;case ok:return 4;case Uf:case F4:return 16;case ik:return 536870912;default:return 16}default:return 16}}var ai=null,Py=null,uf=null;function mk(){if(uf)return uf;var t,e=Py,n=e.length,r,s="value"in ai?ai.value:ai.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return uf=s.slice(t,1<r?1-r:void 0)}function df(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sh(){return!0}function __(){return!1}function Dr(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sh:__,this.isPropagationStopped=__,this}return Rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sh)},persist:function(){},isPersistent:Sh}),e}var bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ay=Dr(bc),Id=Rt({},bc,{view:0,detail:0}),J4=Dr(Id),Og,Mg,eu,nm=Rt({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eu&&(eu&&t.type==="mousemove"?(Og=t.screenX-eu.screenX,Mg=t.screenY-eu.screenY):Mg=Og=0,eu=t),Og)},movementY:function(t){return"movementY"in t?t.movementY:Mg}}),S_=Dr(nm),Z4=Rt({},nm,{dataTransfer:0}),eL=Dr(Z4),tL=Rt({},Id,{relatedTarget:0}),Lg=Dr(tL),nL=Rt({},bc,{animationName:0,elapsedTime:0,pseudoElement:0}),rL=Dr(nL),sL=Rt({},bc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oL=Dr(sL),iL=Rt({},bc,{data:0}),E_=Dr(iL),aL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cL[t])?!!e[t]:!1}function Iy(){return uL}var dL=Rt({},Id,{key:function(t){if(t.key){var e=aL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=df(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iy,charCode:function(t){return t.type==="keypress"?df(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?df(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hL=Dr(dL),fL=Rt({},nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C_=Dr(fL),pL=Rt({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iy}),mL=Dr(pL),gL=Rt({},bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),vL=Dr(gL),xL=Rt({},nm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yL=Dr(xL),wL=[9,13,27,32],Ry=So&&"CompositionEvent"in window,ku=null;So&&"documentMode"in document&&(ku=document.documentMode);var bL=So&&"TextEvent"in window&&!ku,gk=So&&(!Ry||ku&&8<ku&&11>=ku),T_=String.fromCharCode(32),N_=!1;function vk(t,e){switch(t){case"keyup":return wL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yl=!1;function _L(t,e){switch(t){case"compositionend":return xk(e);case"keypress":return e.which!==32?null:(N_=!0,T_);case"textInput":return t=e.data,t===T_&&N_?null:t;default:return null}}function SL(t,e){if(yl)return t==="compositionend"||!Ry&&vk(t,e)?(t=mk(),uf=Py=ai=null,yl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gk&&e.locale!=="ko"?null:e.data;default:return null}}var EL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EL[t.type]:e==="textarea"}function yk(t,e,n,r){QN(r),e=Wf(e,"onChange"),0<e.length&&(n=new Ay("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ju=null,Ju=null;function CL(t){Pk(t,0)}function rm(t){var e=_l(t);if($N(e))return t}function TL(t,e){if(t==="change")return e}var wk=!1;if(So){var Vg;if(So){var Fg="oninput"in document;if(!Fg){var j_=document.createElement("div");j_.setAttribute("oninput","return;"),Fg=typeof j_.oninput=="function"}Vg=Fg}else Vg=!1;wk=Vg&&(!document.documentMode||9<document.documentMode)}function P_(){ju&&(ju.detachEvent("onpropertychange",bk),Ju=ju=null)}function bk(t){if(t.propertyName==="value"&&rm(Ju)){var e=[];yk(e,Ju,t,Cy(t)),ek(CL,e)}}function NL(t,e,n){t==="focusin"?(P_(),ju=e,Ju=n,ju.attachEvent("onpropertychange",bk)):t==="focusout"&&P_()}function kL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rm(Ju)}function jL(t,e){if(t==="click")return rm(e)}function PL(t,e){if(t==="input"||t==="change")return rm(e)}function AL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ys=typeof Object.is=="function"?Object.is:AL;function Zu(t,e){if(ys(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!i0.call(e,s)||!ys(t[s],e[s]))return!1}return!0}function A_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var n=A_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A_(n)}}function _k(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_k(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sk(){for(var t=window,e=Vf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vf(t.document)}return e}function Dy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IL(t){var e=Sk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_k(n.ownerDocument.documentElement,n)){if(r!==null&&Dy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=I_(n,o);var i=I_(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RL=So&&"documentMode"in document&&11>=document.documentMode,wl=null,C0=null,Pu=null,T0=!1;function R_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T0||wl==null||wl!==Vf(r)||(r=wl,"selectionStart"in r&&Dy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pu&&Zu(Pu,r)||(Pu=r,r=Wf(C0,"onSelect"),0<r.length&&(e=new Ay("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wl)))}function Eh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bl={animationend:Eh("Animation","AnimationEnd"),animationiteration:Eh("Animation","AnimationIteration"),animationstart:Eh("Animation","AnimationStart"),transitionend:Eh("Transition","TransitionEnd")},zg={},Ek={};So&&(Ek=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function sm(t){if(zg[t])return zg[t];if(!bl[t])return t;var e=bl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ek)return zg[t]=e[n];return t}var Ck=sm("animationend"),Tk=sm("animationiteration"),Nk=sm("animationstart"),kk=sm("transitionend"),jk=new Map,D_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){jk.set(t,e),Ka(e,[t])}for(var Ug=0;Ug<D_.length;Ug++){var Bg=D_[Ug],DL=Bg.toLowerCase(),OL=Bg[0].toUpperCase()+Bg.slice(1);zi(DL,"on"+OL)}zi(Ck,"onAnimationEnd");zi(Tk,"onAnimationIteration");zi(Nk,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(kk,"onTransitionEnd");Ql("onMouseEnter",["mouseout","mouseover"]);Ql("onMouseLeave",["mouseout","mouseover"]);Ql("onPointerEnter",["pointerout","pointerover"]);Ql("onPointerLeave",["pointerout","pointerover"]);Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ML=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function O_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,D4(r,e,void 0,t),t.currentTarget=null}function Pk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;O_(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;O_(s,l,u),o=c}}}if(zf)throw t=b0,zf=!1,b0=null,t}function Et(t,e){var n=e[A0];n===void 0&&(n=e[A0]=new Set);var r=t+"__bubble";n.has(r)||(Ak(e,t,2,!1),n.add(r))}function $g(t,e,n){var r=0;e&&(r|=4),Ak(n,t,r,e)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function ed(t){if(!t[Ch]){t[Ch]=!0,VN.forEach(function(n){n!=="selectionchange"&&(ML.has(n)||$g(n,!1,t),$g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ch]||(e[Ch]=!0,$g("selectionchange",!1,e))}}function Ak(t,e,n,r){switch(pk(e)){case 1:var s=Q4;break;case 4:s=X4;break;default:s=jy}n=s.bind(null,e,n,t),s=void 0,!w0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qg(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ha(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}ek(function(){var u=o,d=Cy(n),f=[];e:{var p=jk.get(t);if(p!==void 0){var m=Ay,x=t;switch(t){case"keypress":if(df(n)===0)break e;case"keydown":case"keyup":m=hL;break;case"focusin":x="focus",m=Lg;break;case"focusout":x="blur",m=Lg;break;case"beforeblur":case"afterblur":m=Lg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=S_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=eL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mL;break;case Ck:case Tk:case Nk:m=rL;break;case kk:m=vL;break;case"scroll":m=J4;break;case"wheel":m=yL;break;case"copy":case"cut":case"paste":m=oL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=C_}var y=(e&4)!==0,E=!y&&t==="scroll",_=y?p!==null?p+"Capture":null:p;y=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,_!==null&&(j=Ku(v,_),j!=null&&y.push(td(v,j,b)))),E)break;v=v.return}0<y.length&&(p=new m(p,x,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==x0&&(x=n.relatedTarget||n.fromElement)&&(ha(x)||x[Eo]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?ha(x):null,x!==null&&(E=Ya(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(y=S_,j="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=C_,j="onPointerLeave",_="onPointerEnter",v="pointer"),E=m==null?p:_l(m),b=x==null?p:_l(x),p=new y(j,v+"leave",m,n,d),p.target=E,p.relatedTarget=b,j=null,ha(d)===u&&(y=new y(_,v+"enter",x,n,d),y.target=b,y.relatedTarget=E,j=y),E=j,m&&x)t:{for(y=m,_=x,v=0,b=y;b;b=il(b))v++;for(b=0,j=_;j;j=il(j))b++;for(;0<v-b;)y=il(y),v--;for(;0<b-v;)_=il(_),b--;for(;v--;){if(y===_||_!==null&&y===_.alternate)break t;y=il(y),_=il(_)}y=null}else y=null;m!==null&&M_(f,p,m,y,!1),x!==null&&E!==null&&M_(f,E,x,y,!0)}}e:{if(p=u?_l(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var I=TL;else if(k_(p))if(wk)I=PL;else{I=kL;var V=NL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=jL);if(I&&(I=I(t,u))){yk(f,I,n,d);break e}V&&V(t,p,u),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&f0(p,"number",p.value)}switch(V=u?_l(u):window,t){case"focusin":(k_(V)||V.contentEditable==="true")&&(wl=V,C0=u,Pu=null);break;case"focusout":Pu=C0=wl=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,R_(f,n,d);break;case"selectionchange":if(RL)break;case"keydown":case"keyup":R_(f,n,d)}var S;if(Ry)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yl?vk(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(gk&&n.locale!=="ko"&&(yl||T!=="onCompositionStart"?T==="onCompositionEnd"&&yl&&(S=mk()):(ai=d,Py="value"in ai?ai.value:ai.textContent,yl=!0)),V=Wf(u,T),0<V.length&&(T=new E_(T,t,null,n,d),f.push({event:T,listeners:V}),S?T.data=S:(S=xk(n),S!==null&&(T.data=S)))),(S=bL?_L(t,n):SL(t,n))&&(u=Wf(u,"onBeforeInput"),0<u.length&&(d=new E_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}Pk(f,e)})}function td(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ku(t,n),o!=null&&r.unshift(td(t,o,s)),o=Ku(t,e),o!=null&&r.push(td(t,o,s))),t=t.return}return r}function il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function M_(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ku(n,o),c!=null&&i.unshift(td(n,c,l))):s||(c=Ku(n,o),c!=null&&i.push(td(n,c,l)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var LL=/\r\n?/g,VL=/\u0000|\uFFFD/g;function L_(t){return(typeof t=="string"?t:""+t).replace(LL,`
`).replace(VL,"")}function Th(t,e,n){if(e=L_(e),L_(t)!==e&&n)throw Error(ie(425))}function Hf(){}var N0=null,k0=null;function j0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var P0=typeof setTimeout=="function"?setTimeout:void 0,FL=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,zL=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(UL)}:P0;function UL(t){setTimeout(function(){throw t})}function Wg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xu(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _c=Math.random().toString(36).slice(2),Ms="__reactFiber$"+_c,nd="__reactProps$"+_c,Eo="__reactContainer$"+_c,A0="__reactEvents$"+_c,BL="__reactListeners$"+_c,$L="__reactHandles$"+_c;function ha(t){var e=t[Ms];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Eo]||n[Ms]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F_(t);t!==null;){if(n=t[Ms])return n;t=F_(t)}return e}t=n,n=t.parentNode}return null}function Rd(t){return t=t[Ms]||t[Eo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _l(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function om(t){return t[nd]||null}var I0=[],Sl=-1;function Ui(t){return{current:t}}function Tt(t){0>Sl||(t.current=I0[Sl],I0[Sl]=null,Sl--)}function vt(t,e){Sl++,I0[Sl]=t.current,t.current=e}var Ni={},Fn=Ui(Ni),dr=Ui(!1),ka=Ni;function Xl(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function hr(t){return t=t.childContextTypes,t!=null}function Gf(){Tt(dr),Tt(Fn)}function z_(t,e,n){if(Fn.current!==Ni)throw Error(ie(168));vt(Fn,e),vt(dr,n)}function Ik(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ie(108,N4(t)||"Unknown",s));return Rt({},n,r)}function Kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,ka=Fn.current,vt(Fn,t),vt(dr,dr.current),!0}function U_(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=Ik(t,e,ka),r.__reactInternalMemoizedMergedChildContext=t,Tt(dr),Tt(Fn),vt(Fn,t)):Tt(dr),vt(dr,n)}var uo=null,im=!1,Hg=!1;function Rk(t){uo===null?uo=[t]:uo.push(t)}function qL(t){im=!0,Rk(t)}function Bi(){if(!Hg&&uo!==null){Hg=!0;var t=0,e=ht;try{var n=uo;for(ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}uo=null,im=!1}catch(s){throw uo!==null&&(uo=uo.slice(t+1)),sk(Ty,Bi),s}finally{ht=e,Hg=!1}}return null}var El=[],Cl=0,Yf=null,Qf=0,Lr=[],Vr=0,ja=null,ho=1,fo="";function ra(t,e){El[Cl++]=Qf,El[Cl++]=Yf,Yf=t,Qf=e}function Dk(t,e,n){Lr[Vr++]=ho,Lr[Vr++]=fo,Lr[Vr++]=ja,ja=t;var r=ho;t=fo;var s=32-hs(r)-1;r&=~(1<<s),n+=1;var o=32-hs(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,ho=1<<32-hs(e)+s|n<<s|r,fo=o+t}else ho=1<<o|n<<s|r,fo=t}function Oy(t){t.return!==null&&(ra(t,1),Dk(t,1,0))}function My(t){for(;t===Yf;)Yf=El[--Cl],El[Cl]=null,Qf=El[--Cl],El[Cl]=null;for(;t===ja;)ja=Lr[--Vr],Lr[Vr]=null,fo=Lr[--Vr],Lr[Vr]=null,ho=Lr[--Vr],Lr[Vr]=null}var kr=null,Tr=null,kt=!1,as=null;function Ok(t,e){var n=Ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function B_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kr=t,Tr=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kr=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ja!==null?{id:ho,overflow:fo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kr=t,Tr=null,!0):!1;default:return!1}}function R0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function D0(t){if(kt){var e=Tr;if(e){var n=e;if(!B_(t,e)){if(R0(t))throw Error(ie(418));e=fi(n.nextSibling);var r=kr;e&&B_(t,e)?Ok(r,n):(t.flags=t.flags&-4097|2,kt=!1,kr=t)}}else{if(R0(t))throw Error(ie(418));t.flags=t.flags&-4097|2,kt=!1,kr=t}}}function $_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kr=t}function Nh(t){if(t!==kr)return!1;if(!kt)return $_(t),kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!j0(t.type,t.memoizedProps)),e&&(e=Tr)){if(R0(t))throw Mk(),Error(ie(418));for(;e;)Ok(t,e),e=fi(e.nextSibling)}if($_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tr=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=kr?fi(t.stateNode.nextSibling):null;return!0}function Mk(){for(var t=Tr;t;)t=fi(t.nextSibling)}function Jl(){Tr=kr=null,kt=!1}function Ly(t){as===null?as=[t]:as.push(t)}var WL=Oo.ReactCurrentBatchConfig;function tu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function kh(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q_(t){var e=t._init;return e(t._payload)}function Lk(t){function e(_,v){if(t){var b=_.deletions;b===null?(_.deletions=[v],_.flags|=16):b.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=vi(_,v),_.index=0,_.sibling=null,_}function o(_,v,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<v?(_.flags|=2,v):b):(_.flags|=2,v)):(_.flags|=1048576,v)}function i(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,v,b,j){return v===null||v.tag!==6?(v=Zg(b,_.mode,j),v.return=_,v):(v=s(v,b),v.return=_,v)}function c(_,v,b,j){var I=b.type;return I===xl?d(_,v,b.props.children,j,b.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Jo&&q_(I)===v.type)?(j=s(v,b.props),j.ref=tu(_,v,b),j.return=_,j):(j=xf(b.type,b.key,b.props,null,_.mode,j),j.ref=tu(_,v,b),j.return=_,j)}function u(_,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=ev(b,_.mode,j),v.return=_,v):(v=s(v,b.children||[]),v.return=_,v)}function d(_,v,b,j,I){return v===null||v.tag!==7?(v=wa(b,_.mode,j,I),v.return=_,v):(v=s(v,b),v.return=_,v)}function f(_,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Zg(""+v,_.mode,b),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vh:return b=xf(v.type,v.key,v.props,null,_.mode,b),b.ref=tu(_,null,v),b.return=_,b;case vl:return v=ev(v,_.mode,b),v.return=_,v;case Jo:var j=v._init;return f(_,j(v._payload),b)}if(pu(v)||Qc(v))return v=wa(v,_.mode,b,null),v.return=_,v;kh(_,v)}return null}function p(_,v,b,j){var I=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return I!==null?null:l(_,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vh:return b.key===I?c(_,v,b,j):null;case vl:return b.key===I?u(_,v,b,j):null;case Jo:return I=b._init,p(_,v,I(b._payload),j)}if(pu(b)||Qc(b))return I!==null?null:d(_,v,b,j,null);kh(_,b)}return null}function m(_,v,b,j,I){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(b)||null,l(v,_,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case vh:return _=_.get(j.key===null?b:j.key)||null,c(v,_,j,I);case vl:return _=_.get(j.key===null?b:j.key)||null,u(v,_,j,I);case Jo:var V=j._init;return m(_,v,b,V(j._payload),I)}if(pu(j)||Qc(j))return _=_.get(b)||null,d(v,_,j,I,null);kh(v,j)}return null}function x(_,v,b,j){for(var I=null,V=null,S=v,T=v=0,A=null;S!==null&&T<b.length;T++){S.index>T?(A=S,S=null):A=S.sibling;var R=p(_,S,b[T],j);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(_,S),v=o(R,v,T),V===null?I=R:V.sibling=R,V=R,S=A}if(T===b.length)return n(_,S),kt&&ra(_,T),I;if(S===null){for(;T<b.length;T++)S=f(_,b[T],j),S!==null&&(v=o(S,v,T),V===null?I=S:V.sibling=S,V=S);return kt&&ra(_,T),I}for(S=r(_,S);T<b.length;T++)A=m(S,_,T,b[T],j),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?T:A.key),v=o(A,v,T),V===null?I=A:V.sibling=A,V=A);return t&&S.forEach(function(N){return e(_,N)}),kt&&ra(_,T),I}function y(_,v,b,j){var I=Qc(b);if(typeof I!="function")throw Error(ie(150));if(b=I.call(b),b==null)throw Error(ie(151));for(var V=I=null,S=v,T=v=0,A=null,R=b.next();S!==null&&!R.done;T++,R=b.next()){S.index>T?(A=S,S=null):A=S.sibling;var N=p(_,S,R.value,j);if(N===null){S===null&&(S=A);break}t&&S&&N.alternate===null&&e(_,S),v=o(N,v,T),V===null?I=N:V.sibling=N,V=N,S=A}if(R.done)return n(_,S),kt&&ra(_,T),I;if(S===null){for(;!R.done;T++,R=b.next())R=f(_,R.value,j),R!==null&&(v=o(R,v,T),V===null?I=R:V.sibling=R,V=R);return kt&&ra(_,T),I}for(S=r(_,S);!R.done;T++,R=b.next())R=m(S,_,T,R.value,j),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?T:R.key),v=o(R,v,T),V===null?I=R:V.sibling=R,V=R);return t&&S.forEach(function(k){return e(_,k)}),kt&&ra(_,T),I}function E(_,v,b,j){if(typeof b=="object"&&b!==null&&b.type===xl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case vh:e:{for(var I=b.key,V=v;V!==null;){if(V.key===I){if(I=b.type,I===xl){if(V.tag===7){n(_,V.sibling),v=s(V,b.props.children),v.return=_,_=v;break e}}else if(V.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Jo&&q_(I)===V.type){n(_,V.sibling),v=s(V,b.props),v.ref=tu(_,V,b),v.return=_,_=v;break e}n(_,V);break}else e(_,V);V=V.sibling}b.type===xl?(v=wa(b.props.children,_.mode,j,b.key),v.return=_,_=v):(j=xf(b.type,b.key,b.props,null,_.mode,j),j.ref=tu(_,v,b),j.return=_,_=j)}return i(_);case vl:e:{for(V=b.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(_,v.sibling),v=s(v,b.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=ev(b,_.mode,j),v.return=_,_=v}return i(_);case Jo:return V=b._init,E(_,v,V(b._payload),j)}if(pu(b))return x(_,v,b,j);if(Qc(b))return y(_,v,b,j);kh(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,b),v.return=_,_=v):(n(_,v),v=Zg(b,_.mode,j),v.return=_,_=v),i(_)):n(_,v)}return E}var Zl=Lk(!0),Vk=Lk(!1),Xf=Ui(null),Jf=null,Tl=null,Vy=null;function Fy(){Vy=Tl=Jf=null}function zy(t){var e=Xf.current;Tt(Xf),t._currentValue=e}function O0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fl(t,e){Jf=t,Vy=Tl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function Hr(t){var e=t._currentValue;if(Vy!==t)if(t={context:t,memoizedValue:e,next:null},Tl===null){if(Jf===null)throw Error(ie(308));Tl=t,Jf.dependencies={lanes:0,firstContext:t}}else Tl=Tl.next=t;return e}var fa=null;function Uy(t){fa===null?fa=[t]:fa.push(t)}function Fk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Uy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Co(t,r)}function Co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zo=!1;function By(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Co(t,n)}return s=r.interleaved,s===null?(e.next=e,Uy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Co(t,n)}function hf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ny(t,n)}}function W_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zf(t,e,n,r){var s=t.updateQueue;Zo=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var p=l.lane,m=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,y=l;switch(p=e,m=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(m,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,p=typeof x=="function"?x.call(m,f,p):x,p==null)break e;f=Rt({},f,p);break e;case 2:Zo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Aa|=i,t.lanes=i,t.memoizedState=f}}function H_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ie(191,s));s.call(r)}}}var Dd={},Us=Ui(Dd),rd=Ui(Dd),sd=Ui(Dd);function pa(t){if(t===Dd)throw Error(ie(174));return t}function $y(t,e){switch(vt(sd,e),vt(rd,t),vt(Us,Dd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:m0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=m0(e,t)}Tt(Us),vt(Us,e)}function ec(){Tt(Us),Tt(rd),Tt(sd)}function Uk(t){pa(sd.current);var e=pa(Us.current),n=m0(e,t.type);e!==n&&(vt(rd,t),vt(Us,n))}function qy(t){rd.current===t&&(Tt(Us),Tt(rd))}var Pt=Ui(0);function ep(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gg=[];function Wy(){for(var t=0;t<Gg.length;t++)Gg[t]._workInProgressVersionPrimary=null;Gg.length=0}var ff=Oo.ReactCurrentDispatcher,Kg=Oo.ReactCurrentBatchConfig,Pa=0,It=null,nn=null,fn=null,tp=!1,Au=!1,od=0,HL=0;function jn(){throw Error(ie(321))}function Hy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ys(t[n],e[n]))return!1;return!0}function Gy(t,e,n,r,s,o){if(Pa=o,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ff.current=t===null||t.memoizedState===null?QL:XL,t=n(r,s),Au){o=0;do{if(Au=!1,od=0,25<=o)throw Error(ie(301));o+=1,fn=nn=null,e.updateQueue=null,ff.current=JL,t=n(r,s)}while(Au)}if(ff.current=np,e=nn!==null&&nn.next!==null,Pa=0,fn=nn=It=null,tp=!1,e)throw Error(ie(300));return t}function Ky(){var t=od!==0;return od=0,t}function Rs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?It.memoizedState=fn=t:fn=fn.next=t,fn}function Gr(){if(nn===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var e=fn===null?It.memoizedState:fn.next;if(e!==null)fn=e,nn=t;else{if(t===null)throw Error(ie(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},fn===null?It.memoizedState=fn=t:fn=fn.next=t}return fn}function id(t,e){return typeof e=="function"?e(t):e}function Yg(t){var e=Gr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=nn,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Pa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,It.lanes|=d,Aa|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,ys(r,e.memoizedState)||(cr=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,It.lanes|=o,Aa|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qg(t){var e=Gr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);ys(o,e.memoizedState)||(cr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Bk(){}function $k(t,e){var n=It,r=Gr(),s=e(),o=!ys(r.memoizedState,s);if(o&&(r.memoizedState=s,cr=!0),r=r.queue,Yy(Hk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||fn!==null&&fn.memoizedState.tag&1){if(n.flags|=2048,ad(9,Wk.bind(null,n,r,s,e),void 0,null),pn===null)throw Error(ie(349));Pa&30||qk(n,e,s)}return s}function qk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wk(t,e,n,r){e.value=n,e.getSnapshot=r,Gk(e)&&Kk(t)}function Hk(t,e,n){return n(function(){Gk(e)&&Kk(t)})}function Gk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ys(t,n)}catch{return!0}}function Kk(t){var e=Co(t,1);e!==null&&fs(e,t,1,-1)}function G_(t){var e=Rs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},e.queue=t,t=t.dispatch=YL.bind(null,It,t),[e.memoizedState,t]}function ad(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Yk(){return Gr().memoizedState}function pf(t,e,n,r){var s=Rs();It.flags|=t,s.memoizedState=ad(1|e,n,void 0,r===void 0?null:r)}function am(t,e,n,r){var s=Gr();r=r===void 0?null:r;var o=void 0;if(nn!==null){var i=nn.memoizedState;if(o=i.destroy,r!==null&&Hy(r,i.deps)){s.memoizedState=ad(e,n,o,r);return}}It.flags|=t,s.memoizedState=ad(1|e,n,o,r)}function K_(t,e){return pf(8390656,8,t,e)}function Yy(t,e){return am(2048,8,t,e)}function Qk(t,e){return am(4,2,t,e)}function Xk(t,e){return am(4,4,t,e)}function Jk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zk(t,e,n){return n=n!=null?n.concat([t]):null,am(4,4,Jk.bind(null,e,t),n)}function Qy(){}function ej(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tj(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nj(t,e,n){return Pa&21?(ys(n,e)||(n=ak(),It.lanes|=n,Aa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=n)}function GL(t,e){var n=ht;ht=n!==0&&4>n?n:4,t(!0);var r=Kg.transition;Kg.transition={};try{t(!1),e()}finally{ht=n,Kg.transition=r}}function rj(){return Gr().memoizedState}function KL(t,e,n){var r=gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sj(t))oj(e,n);else if(n=Fk(t,e,n,r),n!==null){var s=Yn();fs(n,t,r,s),ij(n,e,r)}}function YL(t,e,n){var r=gi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sj(t))oj(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,ys(l,i)){var c=e.interleaved;c===null?(s.next=s,Uy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Fk(t,e,s,r),n!==null&&(s=Yn(),fs(n,t,r,s),ij(n,e,r))}}function sj(t){var e=t.alternate;return t===It||e!==null&&e===It}function oj(t,e){Au=tp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ij(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ny(t,n)}}var np={readContext:Hr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},QL={readContext:Hr,useCallback:function(t,e){return Rs().memoizedState=[t,e===void 0?null:e],t},useContext:Hr,useEffect:K_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pf(4194308,4,Jk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pf(4194308,4,t,e)},useInsertionEffect:function(t,e){return pf(4,2,t,e)},useMemo:function(t,e){var n=Rs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KL.bind(null,It,t),[r.memoizedState,t]},useRef:function(t){var e=Rs();return t={current:t},e.memoizedState=t},useState:G_,useDebugValue:Qy,useDeferredValue:function(t){return Rs().memoizedState=t},useTransition:function(){var t=G_(!1),e=t[0];return t=GL.bind(null,t[1]),Rs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=It,s=Rs();if(kt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),pn===null)throw Error(ie(349));Pa&30||qk(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,K_(Hk.bind(null,r,o,t),[t]),r.flags|=2048,ad(9,Wk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Rs(),e=pn.identifierPrefix;if(kt){var n=fo,r=ho;n=(r&~(1<<32-hs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=od++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XL={readContext:Hr,useCallback:ej,useContext:Hr,useEffect:Yy,useImperativeHandle:Zk,useInsertionEffect:Qk,useLayoutEffect:Xk,useMemo:tj,useReducer:Yg,useRef:Yk,useState:function(){return Yg(id)},useDebugValue:Qy,useDeferredValue:function(t){var e=Gr();return nj(e,nn.memoizedState,t)},useTransition:function(){var t=Yg(id)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:Bk,useSyncExternalStore:$k,useId:rj,unstable_isNewReconciler:!1},JL={readContext:Hr,useCallback:ej,useContext:Hr,useEffect:Yy,useImperativeHandle:Zk,useInsertionEffect:Qk,useLayoutEffect:Xk,useMemo:tj,useReducer:Qg,useRef:Yk,useState:function(){return Qg(id)},useDebugValue:Qy,useDeferredValue:function(t){var e=Gr();return nn===null?e.memoizedState=t:nj(e,nn.memoizedState,t)},useTransition:function(){var t=Qg(id)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:Bk,useSyncExternalStore:$k,useId:rj,unstable_isNewReconciler:!1};function os(t,e){if(t&&t.defaultProps){e=Rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function M0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lm={isMounted:function(t){return(t=t._reactInternals)?Ya(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yn(),s=gi(t),o=xo(r,s);o.payload=e,n!=null&&(o.callback=n),e=pi(t,o,s),e!==null&&(fs(e,t,s,r),hf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yn(),s=gi(t),o=xo(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=pi(t,o,s),e!==null&&(fs(e,t,s,r),hf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yn(),r=gi(t),s=xo(n,r);s.tag=2,e!=null&&(s.callback=e),e=pi(t,s,r),e!==null&&(fs(e,t,r,n),hf(e,t,r))}};function Y_(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!Zu(n,r)||!Zu(s,o):!0}function aj(t,e,n){var r=!1,s=Ni,o=e.contextType;return typeof o=="object"&&o!==null?o=Hr(o):(s=hr(e)?ka:Fn.current,r=e.contextTypes,o=(r=r!=null)?Xl(t,s):Ni),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Q_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lm.enqueueReplaceState(e,e.state,null)}function L0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},By(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Hr(o):(o=hr(e)?ka:Fn.current,s.context=Xl(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(M0(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&lm.enqueueReplaceState(s,s.state,null),Zf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tc(t,e){try{var n="",r=e;do n+=T4(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Xg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function V0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZL=typeof WeakMap=="function"?WeakMap:Map;function lj(t,e,n){n=xo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sp||(sp=!0,K0=r),V0(t,e)},n}function cj(t,e,n){n=xo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){V0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){V0(t,e),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function X_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=fV.bind(null,t,e,n),e.then(t,t))}function J_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Z_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xo(-1,1),e.tag=2,pi(n,e,1))),n.lanes|=1),t)}var eV=Oo.ReactCurrentOwner,cr=!1;function Gn(t,e,n,r){e.child=t===null?Vk(e,null,n,r):Zl(e,t.child,n,r)}function eS(t,e,n,r,s){n=n.render;var o=e.ref;return Fl(e,s),r=Gy(t,e,n,r,o,s),n=Ky(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,To(t,e,s)):(kt&&n&&Oy(e),e.flags|=1,Gn(t,e,r,s),e.child)}function tS(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!sw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,uj(t,e,o,r,s)):(t=xf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zu,n(i,r)&&t.ref===e.ref)return To(t,e,s)}return e.flags|=1,t=vi(o,r),t.ref=e.ref,t.return=e,e.child=t}function uj(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Zu(o,r)&&t.ref===e.ref)if(cr=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,To(t,e,s)}return F0(t,e,n,r,s)}function dj(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(kl,_r),_r|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vt(kl,_r),_r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,vt(kl,_r),_r|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,vt(kl,_r),_r|=r;return Gn(t,e,s,n),e.child}function hj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function F0(t,e,n,r,s){var o=hr(n)?ka:Fn.current;return o=Xl(e,o),Fl(e,s),n=Gy(t,e,n,r,o,s),r=Ky(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,To(t,e,s)):(kt&&r&&Oy(e),e.flags|=1,Gn(t,e,n,s),e.child)}function nS(t,e,n,r,s){if(hr(n)){var o=!0;Kf(e)}else o=!1;if(Fl(e,s),e.stateNode===null)mf(t,e),aj(e,n,r),L0(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hr(u):(u=hr(n)?ka:Fn.current,u=Xl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Q_(e,i,r,u),Zo=!1;var p=e.memoizedState;i.state=p,Zf(e,r,i,s),c=e.memoizedState,l!==r||p!==c||dr.current||Zo?(typeof d=="function"&&(M0(e,n,d,r),c=e.memoizedState),(l=Zo||Y_(e,n,l,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,zk(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:os(e.type,l),i.props=u,f=e.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Hr(c):(c=hr(n)?ka:Fn.current,c=Xl(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Q_(e,i,r,c),Zo=!1,p=e.memoizedState,i.state=p,Zf(e,r,i,s);var x=e.memoizedState;l!==f||p!==x||dr.current||Zo?(typeof m=="function"&&(M0(e,n,m,r),x=e.memoizedState),(u=Zo||Y_(e,n,u,r,p,x,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),i.props=r,i.state=x,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return z0(t,e,n,r,o,s)}function z0(t,e,n,r,s,o){hj(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&U_(e,n,!1),To(t,e,o);r=e.stateNode,eV.current=e;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Zl(e,t.child,null,o),e.child=Zl(e,null,l,o)):Gn(t,e,l,o),e.memoizedState=r.state,s&&U_(e,n,!0),e.child}function fj(t){var e=t.stateNode;e.pendingContext?z_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z_(t,e.context,!1),$y(t,e.containerInfo)}function rS(t,e,n,r,s){return Jl(),Ly(s),e.flags|=256,Gn(t,e,n,r),e.child}var U0={dehydrated:null,treeContext:null,retryLane:0};function B0(t){return{baseLanes:t,cachePool:null,transitions:null}}function pj(t,e,n){var r=e.pendingProps,s=Pt.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),vt(Pt,s&1),t===null)return D0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=dm(i,r,0,null),t=wa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=B0(n),e.memoizedState=U0,t):Xy(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return tV(t,e,i,r,l,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=vi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=vi(l,o):(o=wa(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?B0(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=U0,r}return o=t.child,t=o.sibling,r=vi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xy(t,e){return e=dm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jh(t,e,n,r){return r!==null&&Ly(r),Zl(e,t.child,null,n),t=Xy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tV(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Xg(Error(ie(422))),jh(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=dm({mode:"visible",children:r.children},s,0,null),o=wa(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Zl(e,t.child,null,i),e.child.memoizedState=B0(i),e.memoizedState=U0,o);if(!(e.mode&1))return jh(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ie(419)),r=Xg(o,r,void 0),jh(t,e,i,r)}if(l=(i&t.childLanes)!==0,cr||l){if(r=pn,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Co(t,s),fs(r,t,s,-1))}return rw(),r=Xg(Error(ie(421))),jh(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pV.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Tr=fi(s.nextSibling),kr=e,kt=!0,as=null,t!==null&&(Lr[Vr++]=ho,Lr[Vr++]=fo,Lr[Vr++]=ja,ho=t.id,fo=t.overflow,ja=e),e=Xy(e,r.children),e.flags|=4096,e)}function sS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),O0(t.return,e,n)}function Jg(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function mj(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Gn(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sS(t,n,e);else if(t.tag===19)sS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vt(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ep(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Jg(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ep(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Jg(e,!0,n,null,o);break;case"together":Jg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function To(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Aa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nV(t,e,n){switch(e.tag){case 3:fj(e),Jl();break;case 5:Uk(e);break;case 1:hr(e.type)&&Kf(e);break;case 4:$y(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;vt(Xf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vt(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?pj(t,e,n):(vt(Pt,Pt.current&1),t=To(t,e,n),t!==null?t.sibling:null);vt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mj(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,dj(t,e,n)}return To(t,e,n)}var gj,$0,vj,xj;gj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$0=function(){};vj=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,pa(Us.current);var o=null;switch(n){case"input":s=d0(t,s),r=d0(t,r),o=[];break;case"select":s=Rt({},s,{value:void 0}),r=Rt({},r,{value:void 0}),o=[];break;case"textarea":s=p0(t,s),r=p0(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hf)}g0(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Et("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};xj=function(t,e,n,r){n!==r&&(e.flags|=4)};function nu(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rV(t,e,n){var r=e.pendingProps;switch(My(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(e),null;case 1:return hr(e.type)&&Gf(),Pn(e),null;case 3:return r=e.stateNode,ec(),Tt(dr),Tt(Fn),Wy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,as!==null&&(X0(as),as=null))),$0(t,e),Pn(e),null;case 5:qy(e);var s=pa(sd.current);if(n=e.type,t!==null&&e.stateNode!=null)vj(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return Pn(e),null}if(t=pa(Us.current),Nh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ms]=e,r[nd]=o,t=(e.mode&1)!==0,n){case"dialog":Et("cancel",r),Et("close",r);break;case"iframe":case"object":case"embed":Et("load",r);break;case"video":case"audio":for(s=0;s<gu.length;s++)Et(gu[s],r);break;case"source":Et("error",r);break;case"img":case"image":case"link":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"input":f_(r,o),Et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Et("invalid",r);break;case"textarea":m_(r,o),Et("invalid",r)}g0(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Th(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Th(r.textContent,l,t),s=["children",""+l]):Hu.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Et("scroll",r)}switch(n){case"input":xh(r),p_(r,o,!0);break;case"textarea":xh(r),g_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Ms]=e,t[nd]=r,gj(t,e,!1,!1),e.stateNode=t;e:{switch(i=v0(n,r),n){case"dialog":Et("cancel",t),Et("close",t),s=r;break;case"iframe":case"object":case"embed":Et("load",t),s=r;break;case"video":case"audio":for(s=0;s<gu.length;s++)Et(gu[s],t);s=r;break;case"source":Et("error",t),s=r;break;case"img":case"image":case"link":Et("error",t),Et("load",t),s=r;break;case"details":Et("toggle",t),s=r;break;case"input":f_(t,r),s=d0(t,r),Et("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Rt({},r,{value:void 0}),Et("invalid",t);break;case"textarea":m_(t,r),s=p0(t,r),Et("invalid",t);break;default:s=r}g0(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?YN(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&GN(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gu(t,c):typeof c=="number"&&Gu(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hu.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Et("scroll",t):c!=null&&by(t,o,c,i))}switch(n){case"input":xh(t),p_(t,r,!1);break;case"textarea":xh(t),g_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ti(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ol(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ol(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pn(e),null;case 6:if(t&&e.stateNode!=null)xj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=pa(sd.current),pa(Us.current),Nh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ms]=e,(o=r.nodeValue!==n)&&(t=kr,t!==null))switch(t.tag){case 3:Th(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Th(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ms]=e,e.stateNode=r}return Pn(e),null;case 13:if(Tt(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kt&&Tr!==null&&e.mode&1&&!(e.flags&128))Mk(),Jl(),e.flags|=98560,o=!1;else if(o=Nh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ie(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[Ms]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pn(e),o=!1}else as!==null&&(X0(as),as=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?an===0&&(an=3):rw())),e.updateQueue!==null&&(e.flags|=4),Pn(e),null);case 4:return ec(),$0(t,e),t===null&&ed(e.stateNode.containerInfo),Pn(e),null;case 10:return zy(e.type._context),Pn(e),null;case 17:return hr(e.type)&&Gf(),Pn(e),null;case 19:if(Tt(Pt),o=e.memoizedState,o===null)return Pn(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)nu(o,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ep(t),i!==null){for(e.flags|=128,nu(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return vt(Pt,Pt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ut()>nc&&(e.flags|=128,r=!0,nu(o,!1),e.lanes=4194304)}else{if(!r)if(t=ep(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!kt)return Pn(e),null}else 2*Ut()-o.renderingStartTime>nc&&n!==1073741824&&(e.flags|=128,r=!0,nu(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ut(),e.sibling=null,n=Pt.current,vt(Pt,r?n&1|2:n&1),e):(Pn(e),null);case 22:case 23:return nw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_r&1073741824&&(Pn(e),e.subtreeFlags&6&&(e.flags|=8192)):Pn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function sV(t,e){switch(My(e),e.tag){case 1:return hr(e.type)&&Gf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ec(),Tt(dr),Tt(Fn),Wy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qy(e),null;case 13:if(Tt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(Pt),null;case 4:return ec(),null;case 10:return zy(e.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var Ph=!1,On=!1,oV=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Nl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function q0(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var oS=!1;function iV(t,e){if(N0=$f,t=Sk(),Dy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===s&&(l=i),p===o&&++d===r&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(k0={focusedElem:t,selectionRange:n},$f=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,E=x.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:os(e.type,y),E);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(j){Mt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return x=oS,oS=!1,x}function Iu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&q0(e,n,o)}s=s.next}while(s!==r)}}function cm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function W0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yj(t){var e=t.alternate;e!==null&&(t.alternate=null,yj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ms],delete e[nd],delete e[A0],delete e[BL],delete e[$L])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wj(t){return t.tag===5||t.tag===3||t.tag===4}function iS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function H0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hf));else if(r!==4&&(t=t.child,t!==null))for(H0(t,e,n),t=t.sibling;t!==null;)H0(t,e,n),t=t.sibling}function G0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(G0(t,e,n),t=t.sibling;t!==null;)G0(t,e,n),t=t.sibling}var gn=null,is=!1;function $o(t,e,n){for(n=n.child;n!==null;)bj(t,e,n),n=n.sibling}function bj(t,e,n){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(tm,n)}catch{}switch(n.tag){case 5:On||Nl(n,e);case 6:var r=gn,s=is;gn=null,$o(t,e,n),gn=r,is=s,gn!==null&&(is?(t=gn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gn.removeChild(n.stateNode));break;case 18:gn!==null&&(is?(t=gn,n=n.stateNode,t.nodeType===8?Wg(t.parentNode,n):t.nodeType===1&&Wg(t,n),Xu(t)):Wg(gn,n.stateNode));break;case 4:r=gn,s=is,gn=n.stateNode.containerInfo,is=!0,$o(t,e,n),gn=r,is=s;break;case 0:case 11:case 14:case 15:if(!On&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&q0(n,e,i),s=s.next}while(s!==r)}$o(t,e,n);break;case 1:if(!On&&(Nl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Mt(n,e,l)}$o(t,e,n);break;case 21:$o(t,e,n);break;case 22:n.mode&1?(On=(r=On)||n.memoizedState!==null,$o(t,e,n),On=r):$o(t,e,n);break;default:$o(t,e,n)}}function aS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oV),e.forEach(function(r){var s=mV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ts(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:gn=l.stateNode,is=!1;break e;case 3:gn=l.stateNode.containerInfo,is=!0;break e;case 4:gn=l.stateNode.containerInfo,is=!0;break e}l=l.return}if(gn===null)throw Error(ie(160));bj(o,i,s),gn=null,is=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Mt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_j(e,t),e=e.sibling}function _j(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ts(e,t),As(t),r&4){try{Iu(3,t,t.return),cm(3,t)}catch(y){Mt(t,t.return,y)}try{Iu(5,t,t.return)}catch(y){Mt(t,t.return,y)}}break;case 1:ts(e,t),As(t),r&512&&n!==null&&Nl(n,n.return);break;case 5:if(ts(e,t),As(t),r&512&&n!==null&&Nl(n,n.return),t.flags&32){var s=t.stateNode;try{Gu(s,"")}catch(y){Mt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&qN(s,o),v0(l,i);var u=v0(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?YN(s,f):d==="dangerouslySetInnerHTML"?GN(s,f):d==="children"?Gu(s,f):by(s,d,f,u)}switch(l){case"input":h0(s,o);break;case"textarea":WN(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ol(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ol(s,!!o.multiple,o.defaultValue,!0):Ol(s,!!o.multiple,o.multiple?[]:"",!1))}s[nd]=o}catch(y){Mt(t,t.return,y)}}break;case 6:if(ts(e,t),As(t),r&4){if(t.stateNode===null)throw Error(ie(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(y){Mt(t,t.return,y)}}break;case 3:if(ts(e,t),As(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xu(e.containerInfo)}catch(y){Mt(t,t.return,y)}break;case 4:ts(e,t),As(t);break;case 13:ts(e,t),As(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(ew=Ut())),r&4&&aS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(On=(u=On)||d,ts(e,t),On=u):ts(e,t),As(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Se=t,d=t.child;d!==null;){for(f=Se=d;Se!==null;){switch(p=Se,m=p.child,p.tag){case 0:case 11:case 14:case 15:Iu(4,p,p.return);break;case 1:Nl(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){Mt(r,n,y)}}break;case 5:Nl(p,p.return);break;case 22:if(p.memoizedState!==null){cS(f);continue}}m!==null?(m.return=p,Se=m):cS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=KN("display",i))}catch(y){Mt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Mt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ts(e,t),As(t),r&4&&aS(t);break;case 21:break;default:ts(e,t),As(t)}}function As(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wj(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gu(s,""),r.flags&=-33);var o=iS(t);G0(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=iS(t);H0(t,l,i);break;default:throw Error(ie(161))}}catch(c){Mt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aV(t,e,n){Se=t,Sj(t)}function Sj(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var s=Se,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ph;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||On;l=Ph;var u=On;if(Ph=i,(On=c)&&!u)for(Se=s;Se!==null;)i=Se,c=i.child,i.tag===22&&i.memoizedState!==null?uS(s):c!==null?(c.return=i,Se=c):uS(s);for(;o!==null;)Se=o,Sj(o),o=o.sibling;Se=s,Ph=l,On=u}lS(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Se=o):lS(t)}}function lS(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:On||cm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!On)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:os(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&H_(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}H_(e,i,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}On||e.flags&512&&W0(e)}catch(p){Mt(e,e.return,p)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function cS(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function uS(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cm(4,e)}catch(c){Mt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Mt(e,s,c)}}var o=e.return;try{W0(e)}catch(c){Mt(e,o,c)}break;case 5:var i=e.return;try{W0(e)}catch(c){Mt(e,i,c)}}}catch(c){Mt(e,e.return,c)}if(e===t){Se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Se=l;break}Se=e.return}}var lV=Math.ceil,rp=Oo.ReactCurrentDispatcher,Jy=Oo.ReactCurrentOwner,$r=Oo.ReactCurrentBatchConfig,ot=0,pn=null,Gt=null,Sn=0,_r=0,kl=Ui(0),an=0,ld=null,Aa=0,um=0,Zy=0,Ru=null,or=null,ew=0,nc=1/0,co=null,sp=!1,K0=null,mi=null,Ah=!1,li=null,op=0,Du=0,Y0=null,gf=-1,vf=0;function Yn(){return ot&6?Ut():gf!==-1?gf:gf=Ut()}function gi(t){return t.mode&1?ot&2&&Sn!==0?Sn&-Sn:WL.transition!==null?(vf===0&&(vf=ak()),vf):(t=ht,t!==0||(t=window.event,t=t===void 0?16:pk(t.type)),t):1}function fs(t,e,n,r){if(50<Du)throw Du=0,Y0=null,Error(ie(185));Ad(t,n,r),(!(ot&2)||t!==pn)&&(t===pn&&(!(ot&2)&&(um|=n),an===4&&ni(t,Sn)),fr(t,r),n===1&&ot===0&&!(e.mode&1)&&(nc=Ut()+500,im&&Bi()))}function fr(t,e){var n=t.callbackNode;W4(t,e);var r=Bf(t,t===pn?Sn:0);if(r===0)n!==null&&y_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&y_(n),e===1)t.tag===0?qL(dS.bind(null,t)):Rk(dS.bind(null,t)),zL(function(){!(ot&6)&&Bi()}),n=null;else{switch(lk(r)){case 1:n=Ty;break;case 4:n=ok;break;case 16:n=Uf;break;case 536870912:n=ik;break;default:n=Uf}n=Aj(n,Ej.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ej(t,e){if(gf=-1,vf=0,ot&6)throw Error(ie(327));var n=t.callbackNode;if(zl()&&t.callbackNode!==n)return null;var r=Bf(t,t===pn?Sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ip(t,r);else{e=r;var s=ot;ot|=2;var o=Tj();(pn!==t||Sn!==e)&&(co=null,nc=Ut()+500,ya(t,e));do try{dV();break}catch(l){Cj(t,l)}while(1);Fy(),rp.current=o,ot=s,Gt!==null?e=0:(pn=null,Sn=0,e=an)}if(e!==0){if(e===2&&(s=_0(t),s!==0&&(r=s,e=Q0(t,s))),e===1)throw n=ld,ya(t,0),ni(t,r),fr(t,Ut()),n;if(e===6)ni(t,r);else{if(s=t.current.alternate,!(r&30)&&!cV(s)&&(e=ip(t,r),e===2&&(o=_0(t),o!==0&&(r=o,e=Q0(t,o))),e===1))throw n=ld,ya(t,0),ni(t,r),fr(t,Ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:sa(t,or,co);break;case 3:if(ni(t,r),(r&130023424)===r&&(e=ew+500-Ut(),10<e)){if(Bf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Yn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=P0(sa.bind(null,t,or,co),e);break}sa(t,or,co);break;case 4:if(ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-hs(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=Ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lV(r/1960))-r,10<r){t.timeoutHandle=P0(sa.bind(null,t,or,co),r);break}sa(t,or,co);break;case 5:sa(t,or,co);break;default:throw Error(ie(329))}}}return fr(t,Ut()),t.callbackNode===n?Ej.bind(null,t):null}function Q0(t,e){var n=Ru;return t.current.memoizedState.isDehydrated&&(ya(t,e).flags|=256),t=ip(t,e),t!==2&&(e=or,or=n,e!==null&&X0(e)),t}function X0(t){or===null?or=t:or.push.apply(or,t)}function cV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ys(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ni(t,e){for(e&=~Zy,e&=~um,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hs(e),r=1<<n;t[n]=-1,e&=~r}}function dS(t){if(ot&6)throw Error(ie(327));zl();var e=Bf(t,0);if(!(e&1))return fr(t,Ut()),null;var n=ip(t,e);if(t.tag!==0&&n===2){var r=_0(t);r!==0&&(e=r,n=Q0(t,r))}if(n===1)throw n=ld,ya(t,0),ni(t,e),fr(t,Ut()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sa(t,or,co),fr(t,Ut()),null}function tw(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(nc=Ut()+500,im&&Bi())}}function Ia(t){li!==null&&li.tag===0&&!(ot&6)&&zl();var e=ot;ot|=1;var n=$r.transition,r=ht;try{if($r.transition=null,ht=1,t)return t()}finally{ht=r,$r.transition=n,ot=e,!(ot&6)&&Bi()}}function nw(){_r=kl.current,Tt(kl)}function ya(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FL(n)),Gt!==null)for(n=Gt.return;n!==null;){var r=n;switch(My(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gf();break;case 3:ec(),Tt(dr),Tt(Fn),Wy();break;case 5:qy(r);break;case 4:ec();break;case 13:Tt(Pt);break;case 19:Tt(Pt);break;case 10:zy(r.type._context);break;case 22:case 23:nw()}n=n.return}if(pn=t,Gt=t=vi(t.current,null),Sn=_r=e,an=0,ld=null,Zy=um=Aa=0,or=Ru=null,fa!==null){for(e=0;e<fa.length;e++)if(n=fa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}fa=null}return t}function Cj(t,e){do{var n=Gt;try{if(Fy(),ff.current=np,tp){for(var r=It.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tp=!1}if(Pa=0,fn=nn=It=null,Au=!1,od=0,Jy.current=null,n===null||n.return===null){an=1,ld=e,Gt=null;break}e:{var o=t,i=n.return,l=n,c=e;if(e=Sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=J_(i);if(m!==null){m.flags&=-257,Z_(m,i,l,o,e),m.mode&1&&X_(o,u,e),e=m,c=u;var x=e.updateQueue;if(x===null){var y=new Set;y.add(c),e.updateQueue=y}else x.add(c);break e}else{if(!(e&1)){X_(o,u,e),rw();break e}c=Error(ie(426))}}else if(kt&&l.mode&1){var E=J_(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Z_(E,i,l,o,e),Ly(tc(c,l));break e}}o=c=tc(c,l),an!==4&&(an=2),Ru===null?Ru=[o]:Ru.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=lj(o,c,e);W_(o,_);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(mi===null||!mi.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var j=cj(o,l,e);W_(o,j);break e}}o=o.return}while(o!==null)}kj(n)}catch(I){e=I,Gt===n&&n!==null&&(Gt=n=n.return);continue}break}while(1)}function Tj(){var t=rp.current;return rp.current=np,t===null?np:t}function rw(){(an===0||an===3||an===2)&&(an=4),pn===null||!(Aa&268435455)&&!(um&268435455)||ni(pn,Sn)}function ip(t,e){var n=ot;ot|=2;var r=Tj();(pn!==t||Sn!==e)&&(co=null,ya(t,e));do try{uV();break}catch(s){Cj(t,s)}while(1);if(Fy(),ot=n,rp.current=r,Gt!==null)throw Error(ie(261));return pn=null,Sn=0,an}function uV(){for(;Gt!==null;)Nj(Gt)}function dV(){for(;Gt!==null&&!M4();)Nj(Gt)}function Nj(t){var e=Pj(t.alternate,t,_r);t.memoizedProps=t.pendingProps,e===null?kj(t):Gt=e,Jy.current=null}function kj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sV(n,e),n!==null){n.flags&=32767,Gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Gt=null;return}}else if(n=rV(n,e,_r),n!==null){Gt=n;return}if(e=e.sibling,e!==null){Gt=e;return}Gt=e=t}while(e!==null);an===0&&(an=5)}function sa(t,e,n){var r=ht,s=$r.transition;try{$r.transition=null,ht=1,hV(t,e,n,r)}finally{$r.transition=s,ht=r}return null}function hV(t,e,n,r){do zl();while(li!==null);if(ot&6)throw Error(ie(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(H4(t,o),t===pn&&(Gt=pn=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ah||(Ah=!0,Aj(Uf,function(){return zl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$r.transition,$r.transition=null;var i=ht;ht=1;var l=ot;ot|=4,Jy.current=null,iV(t,n),_j(n,t),IL(k0),$f=!!N0,k0=N0=null,t.current=n,aV(n),L4(),ot=l,ht=i,$r.transition=o}else t.current=n;if(Ah&&(Ah=!1,li=t,op=s),o=t.pendingLanes,o===0&&(mi=null),z4(n.stateNode),fr(t,Ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sp)throw sp=!1,t=K0,K0=null,t;return op&1&&t.tag!==0&&zl(),o=t.pendingLanes,o&1?t===Y0?Du++:(Du=0,Y0=t):Du=0,Bi(),null}function zl(){if(li!==null){var t=lk(op),e=$r.transition,n=ht;try{if($r.transition=null,ht=16>t?16:t,li===null)var r=!1;else{if(t=li,li=null,op=0,ot&6)throw Error(ie(331));var s=ot;for(ot|=4,Se=t.current;Se!==null;){var o=Se,i=o.child;if(Se.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Se=u;Se!==null;){var d=Se;switch(d.tag){case 0:case 11:case 15:Iu(8,d,o)}var f=d.child;if(f!==null)f.return=d,Se=f;else for(;Se!==null;){d=Se;var p=d.sibling,m=d.return;if(yj(d),d===u){Se=null;break}if(p!==null){p.return=m,Se=p;break}Se=m}}}var x=o.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}Se=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Se=i;else e:for(;Se!==null;){if(o=Se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Iu(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Se=_;break e}Se=o.return}}var v=t.current;for(Se=v;Se!==null;){i=Se;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,Se=b;else e:for(i=v;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cm(9,l)}}catch(I){Mt(l,l.return,I)}if(l===i){Se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Se=j;break e}Se=l.return}}if(ot=s,Bi(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(tm,t)}catch{}r=!0}return r}finally{ht=n,$r.transition=e}}return!1}function hS(t,e,n){e=tc(n,e),e=lj(t,e,1),t=pi(t,e,1),e=Yn(),t!==null&&(Ad(t,1,e),fr(t,e))}function Mt(t,e,n){if(t.tag===3)hS(t,t,n);else for(;e!==null;){if(e.tag===3){hS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){t=tc(n,t),t=cj(e,t,1),e=pi(e,t,1),t=Yn(),e!==null&&(Ad(e,1,t),fr(e,t));break}}e=e.return}}function fV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yn(),t.pingedLanes|=t.suspendedLanes&n,pn===t&&(Sn&n)===n&&(an===4||an===3&&(Sn&130023424)===Sn&&500>Ut()-ew?ya(t,0):Zy|=n),fr(t,e)}function jj(t,e){e===0&&(t.mode&1?(e=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):e=1);var n=Yn();t=Co(t,e),t!==null&&(Ad(t,e,n),fr(t,n))}function pV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jj(t,n)}function mV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),jj(t,n)}var Pj;Pj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dr.current)cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cr=!1,nV(t,e,n);cr=!!(t.flags&131072)}else cr=!1,kt&&e.flags&1048576&&Dk(e,Qf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mf(t,e),t=e.pendingProps;var s=Xl(e,Fn.current);Fl(e,n),s=Gy(null,e,r,t,s,n);var o=Ky();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hr(r)?(o=!0,Kf(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,By(e),s.updater=lm,e.stateNode=s,s._reactInternals=e,L0(e,r,t,n),e=z0(null,e,r,!0,o,n)):(e.tag=0,kt&&o&&Oy(e),Gn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=vV(r),t=os(r,t),s){case 0:e=F0(null,e,r,t,n);break e;case 1:e=nS(null,e,r,t,n);break e;case 11:e=eS(null,e,r,t,n);break e;case 14:e=tS(null,e,r,os(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),F0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),nS(t,e,r,s,n);case 3:e:{if(fj(e),t===null)throw Error(ie(387));r=e.pendingProps,o=e.memoizedState,s=o.element,zk(t,e),Zf(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=tc(Error(ie(423)),e),e=rS(t,e,r,n,s);break e}else if(r!==s){s=tc(Error(ie(424)),e),e=rS(t,e,r,n,s);break e}else for(Tr=fi(e.stateNode.containerInfo.firstChild),kr=e,kt=!0,as=null,n=Vk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jl(),r===s){e=To(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return Uk(e),t===null&&D0(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,j0(r,s)?i=null:o!==null&&j0(r,o)&&(e.flags|=32),hj(t,e),Gn(t,e,i,n),e.child;case 6:return t===null&&D0(e),null;case 13:return pj(t,e,n);case 4:return $y(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zl(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),eS(t,e,r,s,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,vt(Xf,r._currentValue),r._currentValue=i,o!==null)if(ys(o.value,i)){if(o.children===s.children&&!dr.current){e=To(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=xo(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),O0(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ie(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),O0(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Gn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fl(e,n),s=Hr(s),r=r(s),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,s=os(r,e.pendingProps),s=os(r.type,s),tS(t,e,r,s,n);case 15:return uj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),mf(t,e),e.tag=1,hr(r)?(t=!0,Kf(e)):t=!1,Fl(e,n),aj(e,r,s),L0(e,r,s,n),z0(null,e,r,!0,t,n);case 19:return mj(t,e,n);case 22:return dj(t,e,n)}throw Error(ie(156,e.tag))};function Aj(t,e){return sk(t,e)}function gV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,e,n,r){return new gV(t,e,n,r)}function sw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vV(t){if(typeof t=="function")return sw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sy)return 11;if(t===Ey)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=Ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xf(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")sw(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case xl:return wa(n.children,s,o,e);case _y:i=8,s|=8;break;case a0:return t=Ur(12,n,e,s|2),t.elementType=a0,t.lanes=o,t;case l0:return t=Ur(13,n,e,s),t.elementType=l0,t.lanes=o,t;case c0:return t=Ur(19,n,e,s),t.elementType=c0,t.lanes=o,t;case UN:return dm(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FN:i=10;break e;case zN:i=9;break e;case Sy:i=11;break e;case Ey:i=14;break e;case Jo:i=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Ur(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function wa(t,e,n,r){return t=Ur(7,t,r,e),t.lanes=n,t}function dm(t,e,n,r){return t=Ur(22,t,r,e),t.elementType=UN,t.lanes=n,t.stateNode={isHidden:!1},t}function Zg(t,e,n){return t=Ur(6,t,null,e),t.lanes=n,t}function ev(t,e,n){return e=Ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dg(0),this.expirationTimes=Dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ow(t,e,n,r,s,o,i,l,c){return t=new xV(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ur(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},By(o),t}function yV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ij(t){if(!t)return Ni;t=t._reactInternals;e:{if(Ya(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(hr(n))return Ik(t,n,e)}return e}function Rj(t,e,n,r,s,o,i,l,c){return t=ow(n,r,!0,t,s,o,i,l,c),t.context=Ij(null),n=t.current,r=Yn(),s=gi(n),o=xo(r,s),o.callback=e??null,pi(n,o,s),t.current.lanes=s,Ad(t,s,r),fr(t,r),t}function hm(t,e,n,r){var s=e.current,o=Yn(),i=gi(s);return n=Ij(n),e.context===null?e.context=n:e.pendingContext=n,e=xo(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pi(s,e,i),t!==null&&(fs(t,s,i,o),hf(t,s,i)),i}function ap(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iw(t,e){fS(t,e),(t=t.alternate)&&fS(t,e)}function wV(){return null}var Dj=typeof reportError=="function"?reportError:function(t){console.error(t)};function aw(t){this._internalRoot=t}fm.prototype.render=aw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));hm(t,e,null,null)};fm.prototype.unmount=aw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ia(function(){hm(null,t,null,null)}),e[Eo]=null}};function fm(t){this._internalRoot=t}fm.prototype.unstable_scheduleHydration=function(t){if(t){var e=dk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ti.length&&e!==0&&e<ti[n].priority;n++);ti.splice(n,0,t),n===0&&fk(t)}};function lw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pS(){}function bV(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ap(i);o.call(u)}}var i=Rj(e,r,t,0,null,!1,!1,"",pS);return t._reactRootContainer=i,t[Eo]=i.current,ed(t.nodeType===8?t.parentNode:t),Ia(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ap(c);l.call(u)}}var c=ow(t,0,!1,null,null,!1,!1,"",pS);return t._reactRootContainer=c,t[Eo]=c.current,ed(t.nodeType===8?t.parentNode:t),Ia(function(){hm(e,c,n,r)}),c}function mm(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=ap(i);l.call(c)}}hm(e,i,t,s)}else i=bV(n,e,t,s,r);return ap(i)}ck=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mu(e.pendingLanes);n!==0&&(Ny(e,n|1),fr(e,Ut()),!(ot&6)&&(nc=Ut()+500,Bi()))}break;case 13:Ia(function(){var r=Co(t,1);if(r!==null){var s=Yn();fs(r,t,1,s)}}),iw(t,1)}};ky=function(t){if(t.tag===13){var e=Co(t,134217728);if(e!==null){var n=Yn();fs(e,t,134217728,n)}iw(t,134217728)}};uk=function(t){if(t.tag===13){var e=gi(t),n=Co(t,e);if(n!==null){var r=Yn();fs(n,t,e,r)}iw(t,e)}};dk=function(){return ht};hk=function(t,e){var n=ht;try{return ht=t,e()}finally{ht=n}};y0=function(t,e,n){switch(e){case"input":if(h0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=om(r);if(!s)throw Error(ie(90));$N(r),h0(r,s)}}}break;case"textarea":WN(t,n);break;case"select":e=n.value,e!=null&&Ol(t,!!n.multiple,e,!1)}};JN=tw;ZN=Ia;var _V={usingClientEntryPoint:!1,Events:[Rd,_l,om,QN,XN,tw]},ru={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SV={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nk(t),t===null?null:t.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||wV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{tm=Ih.inject(SV),zs=Ih}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_V;Rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lw(e))throw Error(ie(200));return yV(t,e,null,n)};Rr.createRoot=function(t,e){if(!lw(t))throw Error(ie(299));var n=!1,r="",s=Dj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ow(t,1,!1,null,null,n,!1,r,s),t[Eo]=e.current,ed(t.nodeType===8?t.parentNode:t),new aw(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=nk(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return Ia(t)};Rr.hydrate=function(t,e,n){if(!pm(e))throw Error(ie(200));return mm(null,t,e,!0,n)};Rr.hydrateRoot=function(t,e,n){if(!lw(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Dj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=Rj(e,null,t,1,n??null,s,!1,o,i),t[Eo]=e.current,ed(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new fm(e)};Rr.render=function(t,e,n){if(!pm(e))throw Error(ie(200));return mm(null,t,e,!1,n)};Rr.unmountComponentAtNode=function(t){if(!pm(t))throw Error(ie(40));return t._reactRootContainer?(Ia(function(){mm(null,null,t,!1,function(){t._reactRootContainer=null,t[Eo]=null})}),!0):!1};Rr.unstable_batchedUpdates=tw;Rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pm(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return mm(t,e,n,!1,r)};Rr.version="18.3.1-next-f1338f8080-20240426";function Oj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oj)}catch(t){console.error(t)}}Oj(),ON.exports=Rr;var Es=ON.exports;const EV=Ga(Es);var mS=Es;o0.createRoot=mS.createRoot,o0.hydrateRoot=mS.hydrateRoot;var Mj={exports:{}},CV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TV=CV,NV=TV;function Lj(){}function Vj(){}Vj.resetWarningCache=Lj;var kV=function(){function t(r,s,o,i,l,c){if(c!==NV){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Vj,resetWarningCache:Lj};return n.PropTypes=n,n};Mj.exports=kV();var cw=Mj.exports;const Ie=Ga(cw);function jV(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Fj=g,PV=jV(Fj);function gS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var IV=!!(typeof window<"u"&&window.document&&window.document.createElement);function RV(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],l;function c(){l=t(i.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){AV(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var x=l;return l=void 0,i=[],x};var p=f.prototype;return p.UNSAFE_componentWillMount=function(){i.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var x=i.indexOf(this);i.splice(x,1),c()},p.render=function(){return PV.createElement(o,this.props)},f}(Fj.PureComponent);return gS(u,"displayName","SideEffect("+r(o)+")"),gS(u,"canUseDOM",IV),u}}var DV=RV;const OV=Ga(DV);var MV=typeof Element<"u",LV=typeof Map=="function",VV=typeof Set=="function",FV=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function yf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!yf(t[r],e[r]))return!1;return!0}var o;if(LV&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!yf(r.value[1],e.get(r.value[0])))return!1;return!0}if(VV&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(FV&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(MV&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!yf(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var zV=function(e,n){try{return yf(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const UV=Ga(zV);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var vS=Object.getOwnPropertySymbols,BV=Object.prototype.hasOwnProperty,$V=Object.prototype.propertyIsEnumerable;function qV(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function WV(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var HV=WV()?Object.assign:function(t,e){for(var n,r=qV(t),s,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var i in n)BV.call(n,i)&&(r[i]=n[i]);if(vS){s=vS(n);for(var l=0;l<s.length;l++)$V.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const GV=Ga(HV);var ba={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},$e={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys($e).map(function(t){return $e[t]});var Nt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},lp={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},cd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},KV=Object.keys(lp).reduce(function(t,e){return t[lp[e]]=e,t},{}),YV=[$e.NOSCRIPT,$e.SCRIPT,$e.STYLE],us="data-react-helmet",QV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XV=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},JV=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),nr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZV=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},xS=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},eF=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},J0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},tF=function(e){var n=Ul(e,$e.TITLE),r=Ul(e,cd.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Ul(e,cd.DEFAULT_TITLE);return n||s||void 0},nF=function(e){return Ul(e,cd.ON_CHANGE_CLIENT_STATE)||function(){}},tv=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return nr({},r,s)},{})},rF=function(e,n){return n.filter(function(r){return typeof r[$e.BASE]<"u"}).map(function(r){return r[$e.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var o=Object.keys(s),i=0;i<o.length;i++){var l=o[i],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},su=function(e,n,r){var s={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&aF("Helmet: "+e+' should be of type "Array". Instead found type "'+QV(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,i){var l={};i.filter(function(p){for(var m=void 0,x=Object.keys(p),y=0;y<x.length;y++){var E=x[y],_=E.toLowerCase();n.indexOf(_)!==-1&&!(m===Nt.REL&&p[m].toLowerCase()==="canonical")&&!(_===Nt.REL&&p[_].toLowerCase()==="stylesheet")&&(m=_),n.indexOf(E)!==-1&&(E===Nt.INNER_HTML||E===Nt.CSS_TEXT||E===Nt.ITEM_PROP)&&(m=E)}if(!m||!p[m])return!1;var v=p[m].toLowerCase();return s[m]||(s[m]={}),l[m]||(l[m]={}),s[m][v]?!1:(l[m][v]=!0,!0)}).reverse().forEach(function(p){return o.push(p)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=GV({},s[d],l[d]);s[d]=f}return o},[]).reverse()},Ul=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},sF=function(e){return{baseTag:rF([Nt.HREF,Nt.TARGET],e),bodyAttributes:tv(ba.BODY,e),defer:Ul(e,cd.DEFER),encode:Ul(e,cd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:tv(ba.HTML,e),linkTags:su($e.LINK,[Nt.REL,Nt.HREF],e),metaTags:su($e.META,[Nt.NAME,Nt.CHARSET,Nt.HTTPEQUIV,Nt.PROPERTY,Nt.ITEM_PROP],e),noscriptTags:su($e.NOSCRIPT,[Nt.INNER_HTML],e),onChangeClientState:nF(e),scriptTags:su($e.SCRIPT,[Nt.SRC,Nt.INNER_HTML],e),styleTags:su($e.STYLE,[Nt.CSS_TEXT],e),title:tF(e),titleAttributes:tv(ba.TITLE,e)}},Z0=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Z0(e)},0)}}(),yS=function(e){return clearTimeout(e)},oF=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Z0:global.requestAnimationFrame||Z0,iF=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||yS:global.cancelAnimationFrame||yS,aF=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},ou=null,lF=function(e){ou&&iF(ou),e.defer?ou=oF(function(){wS(e,function(){ou=null})}):(wS(e),ou=null)},wS=function(e,n){var r=e.baseTag,s=e.bodyAttributes,o=e.htmlAttributes,i=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,p=e.title,m=e.titleAttributes;ex($e.BODY,s),ex($e.HTML,o),cF(p,m);var x={baseTag:al($e.BASE,r),linkTags:al($e.LINK,i),metaTags:al($e.META,l),noscriptTags:al($e.NOSCRIPT,c),scriptTags:al($e.SCRIPT,d),styleTags:al($e.STYLE,f)},y={},E={};Object.keys(x).forEach(function(_){var v=x[_],b=v.newTags,j=v.oldTags;b.length&&(y[_]=b),j.length&&(E[_]=x[_].oldTags)}),n&&n(),u(e,y,E)},zj=function(e){return Array.isArray(e)?e.join(""):e},cF=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=zj(e)),ex($e.TITLE,n)},ex=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(us),o=s?s.split(","):[],i=[].concat(o),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),o.indexOf(u)===-1&&o.push(u);var f=i.indexOf(u);f!==-1&&i.splice(f,1)}for(var p=i.length-1;p>=0;p--)r.removeAttribute(i[p]);o.length===i.length?r.removeAttribute(us):r.getAttribute(us)!==l.join(",")&&r.setAttribute(us,l.join(","))}},al=function(e,n){var r=document.head||document.querySelector($e.HEAD),s=r.querySelectorAll(e+"["+us+"]"),o=Array.prototype.slice.call(s),i=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Nt.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Nt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(us,"true"),o.some(function(p,m){return l=m,u.isEqualNode(p)})?o.splice(l,1):i.push(u)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return r.appendChild(c)}),{oldTags:o,newTags:i}},Uj=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},uF=function(e,n,r,s){var o=Uj(r),i=zj(n);return o?"<"+e+" "+us+'="true" '+o+">"+J0(i,s)+"</"+e+">":"<"+e+" "+us+'="true">'+J0(i,s)+"</"+e+">"},dF=function(e,n,r){return n.reduce(function(s,o){var i=Object.keys(o).filter(function(u){return!(u===Nt.INNER_HTML||u===Nt.CSS_TEXT)}).reduce(function(u,d){var f=typeof o[d]>"u"?d:d+'="'+J0(o[d],r)+'"';return u?u+" "+f:f},""),l=o.innerHTML||o.cssText||"",c=YV.indexOf(e)===-1;return s+"<"+e+" "+us+'="true" '+i+(c?"/>":">"+l+"</"+e+">")},"")},Bj=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[lp[s]||s]=e[s],r},n)},hF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[KV[s]||s]=e[s],r},n)},fF=function(e,n,r){var s,o=(s={key:n},s[us]=!0,s),i=Bj(r,o);return[Re.createElement($e.TITLE,i,n)]},pF=function(e,n){return n.map(function(r,s){var o,i=(o={key:s},o[us]=!0,o);return Object.keys(r).forEach(function(l){var c=lp[l]||l;if(c===Nt.INNER_HTML||c===Nt.CSS_TEXT){var u=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[c]=r[l]}),Re.createElement(e,i)})},io=function(e,n,r){switch(e){case $e.TITLE:return{toComponent:function(){return fF(e,n.title,n.titleAttributes)},toString:function(){return uF(e,n.title,n.titleAttributes,r)}};case ba.BODY:case ba.HTML:return{toComponent:function(){return Bj(n)},toString:function(){return Uj(n)}};default:return{toComponent:function(){return pF(e,n)},toString:function(){return dF(e,n,r)}}}},$j=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,o=e.htmlAttributes,i=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,f=e.title,p=f===void 0?"":f,m=e.titleAttributes;return{base:io($e.BASE,n,s),bodyAttributes:io(ba.BODY,r,s),htmlAttributes:io(ba.HTML,o,s),link:io($e.LINK,i,s),meta:io($e.META,l,s),noscript:io($e.NOSCRIPT,c,s),script:io($e.SCRIPT,u,s),style:io($e.STYLE,d,s),title:io($e.TITLE,{title:p,titleAttributes:m},s)}},mF=function(e){var n,r;return r=n=function(s){ZV(o,s);function o(){return XV(this,o),eF(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!UV(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case $e.SCRIPT:case $e.NOSCRIPT:return{innerHTML:c};case $e.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,p=l.nestedChildren;return nr({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[nr({},f,this.mapNestedChildrenToProps(u,p))]),c))},o.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,p=l.newChildProps,m=l.nestedChildren;switch(d.type){case $e.TITLE:return nr({},f,(c={},c[d.type]=m,c.titleAttributes=nr({},p),c));case $e.BODY:return nr({},f,{bodyAttributes:nr({},p)});case $e.HTML:return nr({},f,{htmlAttributes:nr({},p)})}return nr({},f,(u={},u[d.type]=nr({},p),u))},o.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=nr({},c);return Object.keys(l).forEach(function(d){var f;u=nr({},u,(f={},f[d]=l[d],f))}),u},o.prototype.warnOnInvalidChildren=function(l,c){return!0},o.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Re.Children.forEach(l,function(f){if(!(!f||!f.props)){var p=f.props,m=p.children,x=xS(p,["children"]),y=hF(x);switch(u.warnOnInvalidChildren(f,m),f.type){case $e.LINK:case $e.META:case $e.NOSCRIPT:case $e.SCRIPT:case $e.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:y,nestedChildren:m});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:y,nestedChildren:m});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},o.prototype.render=function(){var l=this.props,c=l.children,u=xS(l,["children"]),d=nr({},u);return c&&(d=this.mapChildrenToProps(c,d)),Re.createElement(e,d)},JV(o,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),o}(Re.Component),n.propTypes={base:Ie.object,bodyAttributes:Ie.object,children:Ie.oneOfType([Ie.arrayOf(Ie.node),Ie.node]),defaultTitle:Ie.string,defer:Ie.bool,encodeSpecialCharacters:Ie.bool,htmlAttributes:Ie.object,link:Ie.arrayOf(Ie.object),meta:Ie.arrayOf(Ie.object),noscript:Ie.arrayOf(Ie.object),onChangeClientState:Ie.func,script:Ie.arrayOf(Ie.object),style:Ie.arrayOf(Ie.object),title:Ie.string,titleAttributes:Ie.object,titleTemplate:Ie.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=$j({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},gF=function(){return null},vF=OV(sF,lF,$j)(gF),tx=mF(vF);tx.renderStatic=tx.rewind;const qj=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),gm=g.createContext({}),vm=g.createContext(null),xm=typeof document<"u",uw=xm?g.useLayoutEffect:g.useEffect,Wj=g.createContext({strict:!1}),dw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),xF="framerAppearId",Hj="data-"+dw(xF);function yF(t,e,n,r){const{visualElement:s}=g.useContext(gm),o=g.useContext(Wj),i=g.useContext(vm),l=g.useContext(qj).reducedMotion,c=g.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;g.useInsertionEffect(()=>{u&&u.update(n,i)});const d=g.useRef(!!(n[Hj]&&!window.HandoffComplete));return uw(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function jl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wF(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):jl(n)&&(n.current=r))},[e])}function ud(t){return typeof t=="string"||Array.isArray(t)}function ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const hw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fw=["initial",...hw];function wm(t){return ym(t.animate)||fw.some(e=>ud(t[e]))}function Gj(t){return!!(wm(t)||t.variants)}function bF(t,e){if(wm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ud(n)?n:void 0,animate:ud(r)?r:void 0}}return t.inherit!==!1?e:{}}function _F(t){const{initial:e,animate:n}=bF(t,g.useContext(gm));return g.useMemo(()=>({initial:e,animate:n}),[bS(e),bS(n)])}function bS(t){return Array.isArray(t)?t.join(" "):t}const _S={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dd={};for(const t in _S)dd[t]={isEnabled:e=>_S[t].some(n=>!!e[n])};function SF(t){for(const e in t)dd[e]={...dd[e],...t[e]}}const pw=g.createContext({}),Kj=g.createContext({}),EF=Symbol.for("motionComponentSymbol");function CF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&SF(t);function o(l,c){let u;const d={...g.useContext(qj),...l,layoutId:TF(l)},{isStatic:f}=d,p=_F(l),m=r(l,f);if(!f&&xm){p.visualElement=yF(s,m,d,e);const x=g.useContext(Kj),y=g.useContext(Wj).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,y,t,x))}return g.createElement(gm.Provider,{value:p},u&&p.visualElement?g.createElement(u,{visualElement:p.visualElement,...d}):null,n(s,l,wF(m,p.visualElement,c),m,f,p.visualElement))}const i=g.forwardRef(o);return i[EF]=s,i}function TF({layoutId:t}){const e=g.useContext(pw).id;return e&&t!==void 0?e+"-"+t:t}function NF(t){function e(r,s={}){return CF(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const kF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mw(t){return typeof t!="string"||t.includes("-")?!1:!!(kF.indexOf(t)>-1||/[A-Z]/.test(t))}const cp={};function jF(t){Object.assign(cp,t)}const Od=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qa=new Set(Od);function Yj(t,{layout:e,layoutId:n}){return Qa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cp[t]||t==="opacity")}const mr=t=>!!(t&&t.getVelocity),PF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AF=Od.length;function IF(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<AF;i++){const l=Od[i];if(t[l]!==void 0){const c=PF[l]||l;o+=`${c}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const Qj=t=>e=>typeof e=="string"&&e.startsWith(t),Xj=Qj("--"),nx=Qj("var(--"),RF=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,DF=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ki=(t,e,n)=>Math.min(Math.max(n,t),e),Xa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ou={...Xa,transform:t=>ki(0,1,t)},Rh={...Xa,default:1},Mu=t=>Math.round(t*1e5)/1e5,bm=/(-)?([\d]*\.?[\d])+/g,Jj=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,OF=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Md(t){return typeof t=="string"}const Ld=t=>({test:e=>Md(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qo=Ld("deg"),Bs=Ld("%"),De=Ld("px"),MF=Ld("vh"),LF=Ld("vw"),SS={...Bs,parse:t=>Bs.parse(t)/100,transform:t=>Bs.transform(t*100)},ES={...Xa,transform:Math.round},Zj={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,size:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,rotate:Qo,rotateX:Qo,rotateY:Qo,rotateZ:Qo,scale:Rh,scaleX:Rh,scaleY:Rh,scaleZ:Rh,skew:Qo,skewX:Qo,skewY:Qo,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Ou,originX:SS,originY:SS,originZ:De,zIndex:ES,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:ES};function gw(t,e,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const f in e){const p=e[f];if(Xj(f)){o[f]=p;continue}const m=Zj[f],x=DF(p,m);if(Qa.has(f)){if(c=!0,i[f]=x,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=x):s[f]=x}if(e.transform||(c||r?s.transform=IF(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${p} ${m}`}}const vw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eP(t,e,n){for(const r in e)!mr(e[r])&&!Yj(r,n)&&(t[r]=e[r])}function VF({transformTemplate:t},e,n){return g.useMemo(()=>{const r=vw();return gw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function FF(t,e,n){const r=t.style||{},s={};return eP(s,r,t),Object.assign(s,VF(t,e,n)),t.transformValues?t.transformValues(s):s}function zF(t,e,n){const r={},s=FF(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const UF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function up(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UF.has(t)}let tP=t=>!up(t);function BF(t){t&&(tP=e=>e.startsWith("on")?!up(e):t(e))}try{BF(require("@emotion/is-prop-valid").default)}catch{}function $F(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(tP(s)||n===!0&&up(s)||!e&&!up(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function CS(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function qF(t,e,n){const r=CS(e,t.x,t.width),s=CS(n,t.y,t.height);return`${r} ${s}`}const WF={offset:"stroke-dashoffset",array:"stroke-dasharray"},HF={offset:"strokeDashoffset",array:"strokeDasharray"};function GF(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?WF:HF;t[o.offset]=De.transform(-r);const i=De.transform(e),l=De.transform(n);t[o.array]=`${i} ${l}`}function xw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,p){if(gw(t,u,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:x,dimensions:y}=t;m.transform&&(y&&(x.transform=m.transform),delete m.transform),y&&(s!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=qF(y,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&GF(m,i,l,c,!1)}const nP=()=>({...vw(),attrs:{}}),yw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function KF(t,e,n,r){const s=g.useMemo(()=>{const o=nP();return xw(o,e,{enableHardwareAcceleration:!1},yw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};eP(o,t.style,t),s.style={...o,...s.style}}return s}function YF(t=!1){return(n,r,s,{latestValues:o},i)=>{const c=(mw(n)?KF:zF)(r,o,i,n),d={...$F(r,typeof n=="string",t),...c,ref:s},{children:f}=r,p=g.useMemo(()=>mr(f)?f.get():f,[f]);return g.createElement(n,{...d,children:p})}}function rP(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const sP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oP(t,e,n,r){rP(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(sP.has(s)?s:dw(s),e.attrs[s])}function ww(t,e){const{style:n}=t,r={};for(const s in n)(mr(n[s])||e.style&&mr(e.style[s])||Yj(s,t))&&(r[s]=n[s]);return r}function iP(t,e){const n=ww(t,e);for(const r in t)if(mr(t[r])||mr(e[r])){const s=Od.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function bw(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function aP(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const dp=t=>Array.isArray(t),QF=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),XF=t=>dp(t)?t[t.length-1]||0:t;function wf(t){const e=mr(t)?t.get():t;return QF(e)?e.toValue():e}function JF({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const i={latestValues:ZF(r,s,o,t),renderState:e()};return n&&(i.mount=l=>n(r,l,i)),i}const lP=t=>(e,n)=>{const r=g.useContext(gm),s=g.useContext(vm),o=()=>JF(t,e,r,s);return n?o():aP(o)};function ZF(t,e,n,r){const s={},o=r(t,{});for(const p in o)s[p]=wf(o[p]);let{initial:i,animate:l}=t;const c=wm(t),u=Gj(t);e&&u&&!c&&t.inherit!==!1&&(i===void 0&&(i=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!ym(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const x=bw(t,m);if(!x)return;const{transitionEnd:y,transition:E,..._}=x;for(const v in _){let b=_[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(s[v]=b)}for(const v in y)s[v]=y[v]}),s}const Lt=t=>t;class TS{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function e3(t){let e=new TS,n=new TS,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,p=f?e:n;return u&&i.add(c),p.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(c),i.has(d)&&(l.schedule(d),t())}s=!1,o&&(o=!1,l.process(c))}};return l}const Dh=["prepare","read","update","preRender","render","postRender"],t3=40;function n3(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Dh.reduce((f,p)=>(f[p]=e3(()=>n=!0),f),{}),i=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,t3),1),s.timestamp=f,s.isProcessing=!0,Dh.forEach(i),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:Dh.reduce((f,p)=>{const m=o[p];return f[p]=(x,y=!1,E=!1)=>(n||c(),m.schedule(x,y,E)),f},{}),cancel:f=>Dh.forEach(p=>o[p].cancel(f)),state:s,steps:o}}const{schedule:xt,cancel:No,state:Rn,steps:nv}=n3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lt,!0),r3={useVisualState:lP({scrapeMotionValuesFromProps:iP,createRenderState:nP,onMount:(t,e,{renderState:n,latestValues:r})=>{xt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),xt.render(()=>{xw(n,r,{enableHardwareAcceleration:!1},yw(e.tagName),t.transformTemplate),oP(e,n)})}})},s3={useVisualState:lP({scrapeMotionValuesFromProps:ww,createRenderState:vw})};function o3(t,{forwardMotionProps:e=!1},n,r){return{...mw(t)?r3:s3,preloadedFeatures:n,useRender:YF(e),createVisualElement:r,Component:t}}function po(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const cP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function _m(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const i3=t=>e=>cP(e)&&t(e,_m(e));function yo(t,e,n,r){return po(t,e,i3(n),r)}const a3=(t,e)=>n=>e(t(n)),xi=(...t)=>t.reduce(a3);function uP(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const NS=uP("dragHorizontal"),kS=uP("dragVertical");function dP(t){let e=!1;if(t==="y")e=kS();else if(t==="x")e=NS();else{const n=NS(),r=kS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function hP(){const t=dP(!0);return t?(t(),!1):!0}class $i{constructor(e){this.isMounted=!1,this.node=e}update(){}}function jS(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||hP())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&xt.update(()=>l[r](o,i))};return yo(t.current,n,s,{passive:!t.getProps()[r]})}class l3 extends $i{mount(){this.unmount=xi(jS(this.node,!0),jS(this.node,!1))}unmount(){}}class c3 extends $i{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xi(po(this.node.current,"focus",()=>this.onFocus()),po(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fP=(t,e)=>e?t===e?!0:fP(t,e.parentElement):!1;function rv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,_m(n))}class u3 extends $i{constructor(){super(...arguments),this.removeStartListeners=Lt,this.removeEndListeners=Lt,this.removeAccessibleListeners=Lt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=yo(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();xt.update(()=>{!f&&!fP(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=yo(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=xi(o,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||rv("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&xt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=po(this.node.current,"keyup",i),rv("down",(l,c)=>{this.startPress(l,c)})},n=po(this.node.current,"keydown",e),r=()=>{this.isPressing&&rv("cancel",(o,i)=>this.cancelPress(o,i))},s=po(this.node.current,"blur",r);this.removeAccessibleListeners=xi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&xt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hP()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&xt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=yo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=po(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const rx=new WeakMap,sv=new WeakMap,d3=t=>{const e=rx.get(t.target);e&&e(t)},h3=t=>{t.forEach(d3)};function f3({root:t,...e}){const n=t||document;sv.has(n)||sv.set(n,{});const r=sv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(h3,{root:t,...e})),r[s]}function p3(t,e,n){const r=f3(e);return rx.set(t,n),r.observe(t),()=>{rx.delete(t),r.unobserve(t)}}const m3={some:0,all:1};class g3 extends $i{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:m3[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return p3(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(v3(e,n))&&this.startObserver()}unmount(){}}function v3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const x3={inView:{Feature:g3},tap:{Feature:u3},focus:{Feature:c3},hover:{Feature:l3}};function pP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function y3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function w3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Sm(t,e,n){const r=t.getProps();return bw(r,e,n!==void 0?n:r.custom,y3(t),w3(t))}let b3=Lt,_w=Lt;const yi=t=>t*1e3,wo=t=>t/1e3,_3={current:!1},mP=t=>Array.isArray(t)&&typeof t[0]=="number";function gP(t){return!!(!t||typeof t=="string"&&vP[t]||mP(t)||Array.isArray(t)&&t.every(gP))}const vu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vu([0,.65,.55,1]),circOut:vu([.55,0,1,.45]),backIn:vu([.31,.01,.66,-.59]),backOut:vu([.33,1.53,.69,.99])};function xP(t){if(t)return mP(t)?vu(t):Array.isArray(t)?t.map(xP):vP[t]}function S3(t,e,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=xP(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function E3(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const yP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C3=1e-7,T3=12;function N3(t,e,n,r,s){let o,i,l=0;do i=e+(n-e)/2,o=yP(i,r,s)-t,o>0?n=i:e=i;while(Math.abs(o)>C3&&++l<T3);return i}function Vd(t,e,n,r){if(t===e&&n===r)return Lt;const s=o=>N3(o,0,1,t,n);return o=>o===0||o===1?o:yP(s(o),e,r)}const k3=Vd(.42,0,1,1),j3=Vd(0,0,.58,1),wP=Vd(.42,0,.58,1),P3=t=>Array.isArray(t)&&typeof t[0]!="number",bP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_P=t=>e=>1-t(1-e),Sw=t=>1-Math.sin(Math.acos(t)),SP=_P(Sw),A3=bP(Sw),EP=Vd(.33,1.53,.69,.99),Ew=_P(EP),I3=bP(Ew),R3=t=>(t*=2)<1?.5*Ew(t):.5*(2-Math.pow(2,-10*(t-1))),D3={linear:Lt,easeIn:k3,easeInOut:wP,easeOut:j3,circIn:Sw,circInOut:A3,circOut:SP,backIn:Ew,backInOut:I3,backOut:EP,anticipate:R3},PS=t=>{if(Array.isArray(t)){_w(t.length===4);const[e,n,r,s]=t;return Vd(e,n,r,s)}else if(typeof t=="string")return D3[t];return t},Cw=(t,e)=>n=>!!(Md(n)&&OF.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),CP=(t,e,n)=>r=>{if(!Md(r))return r;const[s,o,i,l]=r.match(bm);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},O3=t=>ki(0,255,t),ov={...Xa,transform:t=>Math.round(O3(t))},ma={test:Cw("rgb","red"),parse:CP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ov.transform(t)+", "+ov.transform(e)+", "+ov.transform(n)+", "+Mu(Ou.transform(r))+")"};function M3(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const sx={test:Cw("#"),parse:M3,transform:ma.transform},Pl={test:Cw("hsl","hue"),parse:CP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bs.transform(Mu(e))+", "+Bs.transform(Mu(n))+", "+Mu(Ou.transform(r))+")"},Wn={test:t=>ma.test(t)||sx.test(t)||Pl.test(t),parse:t=>ma.test(t)?ma.parse(t):Pl.test(t)?Pl.parse(t):sx.parse(t),transform:t=>Md(t)?t:t.hasOwnProperty("red")?ma.transform(t):Pl.transform(t)},At=(t,e,n)=>-n*t+n*e+t;function iv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function L3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,i=0;if(!e)s=o=i=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=iv(c,l,t+1/3),o=iv(c,l,t),i=iv(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const av=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},V3=[sx,ma,Pl],F3=t=>V3.find(e=>e.test(t));function AS(t){const e=F3(t);let n=e.parse(t);return e===Pl&&(n=L3(n)),n}const TP=(t,e)=>{const n=AS(t),r=AS(e),s={...n};return o=>(s.red=av(n.red,r.red,o),s.green=av(n.green,r.green,o),s.blue=av(n.blue,r.blue,o),s.alpha=At(n.alpha,r.alpha,o),ma.transform(s))};function z3(t){var e,n;return isNaN(t)&&Md(t)&&(((e=t.match(bm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Jj))===null||n===void 0?void 0:n.length)||0)>0}const NP={regex:RF,countKey:"Vars",token:"${v}",parse:Lt},kP={regex:Jj,countKey:"Colors",token:"${c}",parse:Wn.parse},jP={regex:bm,countKey:"Numbers",token:"${n}",parse:Xa.parse};function lv(t,{regex:e,countKey:n,token:r,parse:s}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(s)))}function hp(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&lv(n,NP),lv(n,kP),lv(n,jP),n}function PP(t){return hp(t).values}function AP(t){const{values:e,numColors:n,numVars:r,tokenised:s}=hp(t),o=e.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(NP.token,i[c]):c<r+n?l=l.replace(kP.token,Wn.transform(i[c])):l=l.replace(jP.token,Mu(i[c]));return l}}const U3=t=>typeof t=="number"?0:t;function B3(t){const e=PP(t);return AP(t)(e.map(U3))}const ji={test:z3,parse:PP,createTransformer:AP,getAnimatableNone:B3},IP=(t,e)=>n=>`${n>0?e:t}`;function RP(t,e){return typeof t=="number"?n=>At(t,e,n):Wn.test(t)?TP(t,e):t.startsWith("var(")?IP(t,e):OP(t,e)}const DP=(t,e)=>{const n=[...t],r=n.length,s=t.map((o,i)=>RP(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},$3=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=RP(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},OP=(t,e)=>{const n=ji.createTransformer(e),r=hp(t),s=hp(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?xi(DP(r.values,s.values),n):IP(t,e)},hd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},IS=(t,e)=>n=>At(t,e,n);function q3(t){return typeof t=="number"?IS:typeof t=="string"?Wn.test(t)?TP:OP:Array.isArray(t)?DP:typeof t=="object"?$3:IS}function W3(t,e,n){const r=[],s=n||q3(t[0]),o=t.length-1;for(let i=0;i<o;i++){let l=s(t[i],t[i+1]);if(e){const c=Array.isArray(e)?e[i]||Lt:e;l=xi(c,l)}r.push(l)}return r}function MP(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(_w(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=W3(e,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=hd(t[d],t[d+1],u);return i[d](f)};return n?u=>c(ki(t[0],t[o-1],u)):c}function H3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=hd(0,e,r);t.push(At(n,1,s))}}function G3(t){const e=[0];return H3(e,t.length-1),e}function K3(t,e){return t.map(n=>n*e)}function Y3(t,e){return t.map(()=>e||wP).splice(0,t.length-1)}function fp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=P3(r)?r.map(PS):PS(r),o={done:!1,value:e[0]},i=K3(n&&n.length===e.length?n:G3(e),t),l=MP(i,e,{ease:Array.isArray(s)?s:Y3(e,s)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}function LP(t,e){return e?t*(1e3/e):0}const Q3=5;function VP(t,e,n){const r=Math.max(e-Q3,0);return LP(n-t(r),e-r)}const cv=.001,X3=.01,RS=10,J3=.05,Z3=1;function e5({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o;b3(t<=yi(RS));let i=1-e;i=ki(J3,Z3,i),t=ki(X3,RS,wo(t)),i<1?(s=u=>{const d=u*i,f=d*t,p=d-n,m=ox(u,i),x=Math.exp(-f);return cv-p/m*x},o=u=>{const f=u*i*t,p=f*n+n,m=Math.pow(i,2)*Math.pow(u,2)*t,x=Math.exp(-f),y=ox(Math.pow(u,2),i);return(-s(u)+cv>0?-1:1)*((p-m)*x)/y}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-cv+d*f},o=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=n5(s,o,l);if(t=yi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const t5=12;function n5(t,e,n){let r=n;for(let s=1;s<t5;s++)r=r-t(r)/e(r);return r}function ox(t,e){return t*Math.sqrt(1-e*e)}const r5=["duration","bounce"],s5=["stiffness","damping","mass"];function DS(t,e){return e.some(n=>t[n]!==void 0)}function o5(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!DS(t,s5)&&DS(t,r5)){const n=e5(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function FP({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=o5({...r,velocity:-wo(r.velocity||0)}),m=f||0,x=c/(2*Math.sqrt(l*u)),y=o-s,E=wo(Math.sqrt(l/u)),_=Math.abs(y)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let v;if(x<1){const b=ox(E,x);v=j=>{const I=Math.exp(-x*E*j);return o-I*((m+x*E*y)/b*Math.sin(b*j)+y*Math.cos(b*j))}}else if(x===1)v=b=>o-Math.exp(-E*b)*(y+(m+E*y)*b);else{const b=E*Math.sqrt(x*x-1);v=j=>{const I=Math.exp(-x*E*j),V=Math.min(b*j,300);return o-I*((m+x*E*y)*Math.sinh(V)+b*y*Math.cosh(V))/b}}return{calculatedDuration:p&&d||null,next:b=>{const j=v(b);if(p)i.done=b>=d;else{let I=m;b!==0&&(x<1?I=VP(v,b,j):I=0);const V=Math.abs(I)<=n,S=Math.abs(o-j)<=e;i.done=V&&S}return i.value=i.done?o:j,i}}}function OS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=T=>l!==void 0&&T<l||c!==void 0&&T>c,x=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let y=n*e;const E=f+y,_=i===void 0?E:i(E);_!==E&&(y=_-f);const v=T=>-y*Math.exp(-T/r),b=T=>_+v(T),j=T=>{const A=v(T),R=b(T);p.done=Math.abs(A)<=u,p.value=p.done?_:R};let I,V;const S=T=>{m(p.value)&&(I=T,V=FP({keyframes:[p.value,x(p.value)],velocity:VP(b,T,p.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:T=>{let A=!1;return!V&&I===void 0&&(A=!0,j(T),S(T)),I!==void 0&&T>I?V.next(T-I):(!A&&j(T),p)}}}const i5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>xt.update(e,!0),stop:()=>No(e),now:()=>Rn.isProcessing?Rn.timestamp:performance.now()}},MS=2e4;function LS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<MS;)e+=n,r=t.next(e);return e>=MS?1/0:e}const a5={decay:OS,inertia:OS,tween:fp,keyframes:fp,spring:FP};function pp({autoplay:t=!0,delay:e=0,driver:n=i5,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,x=!1,y,E;const _=()=>{E=new Promise(X=>{y=X})};_();let v;const b=a5[s]||fp;let j;b!==fp&&typeof r[0]!="number"&&(j=MP([0,100],r,{clamp:!1}),r=[0,100]);const I=b({...p,keyframes:r});let V;l==="mirror"&&(V=b({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let S="idle",T=null,A=null,R=null;I.calculatedDuration===null&&o&&(I.calculatedDuration=LS(I));const{calculatedDuration:N}=I;let k=1/0,P=1/0;N!==null&&(k=N+i,P=k*(o+1)-i);let D=0;const L=X=>{if(A===null)return;m>0&&(A=Math.min(A,X)),m<0&&(A=Math.min(X-P/m,A)),T!==null?D=T:D=Math.round(X-A)*m;const ce=D-e*(m>=0?1:-1),ue=m>=0?ce<0:ce>P;D=Math.max(ce,0),S==="finished"&&T===null&&(D=P);let ge=D,We=I;if(o){const Ye=Math.min(D,P)/k;let q=Math.floor(Ye),he=Ye%1;!he&&Ye>=1&&(he=1),he===1&&q--,q=Math.min(q,o+1),!!(q%2)&&(l==="reverse"?(he=1-he,i&&(he-=i/k)):l==="mirror"&&(We=V)),ge=ki(0,1,he)*k}const je=ue?{done:!1,value:r[0]}:We.next(ge);j&&(je.value=j(je.value));let{done:de}=je;!ue&&N!==null&&(de=m>=0?D>=P:D<=0);const Pe=T===null&&(S==="finished"||S==="running"&&de);return f&&f(je.value),Pe&&M(),je},$=()=>{v&&v.stop(),v=void 0},H=()=>{S="idle",$(),y(),_(),A=R=null},M=()=>{S="finished",d&&d(),$(),y()},z=()=>{if(x)return;v||(v=n(L));const X=v.now();c&&c(),T!==null?A=X-T:(!A||S==="finished")&&(A=X),S==="finished"&&_(),R=A,T=null,S="running",v.start()};t&&z();const K={then(X,ce){return E.then(X,ce)},get time(){return wo(D)},set time(X){X=yi(X),D=X,T!==null||!v||m===0?T=X:A=v.now()-X/m},get duration(){const X=I.calculatedDuration===null?LS(I):I.calculatedDuration;return wo(X)},get speed(){return m},set speed(X){X===m||!v||(m=X,K.time=wo(D))},get state(){return S},play:z,pause:()=>{S="paused",T=D},stop:()=>{x=!0,S!=="idle"&&(S="idle",u&&u(),H())},cancel:()=>{R!==null&&L(R),H()},complete:()=>{S="finished"},sample:X=>(A=0,L(X))};return K}function l5(t){let e;return()=>(e===void 0&&(e=t()),e)}const c5=l5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),u5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Oh=10,d5=2e4,h5=(t,e)=>e.type==="spring"||t==="backgroundColor"||!gP(e.ease);function f5(t,e,{onUpdate:n,onComplete:r,...s}){if(!(c5()&&u5.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:f,duration:p=300,ease:m,times:x}=s;if(h5(e,s)){const b=pp({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const I=[];let V=0;for(;!j.done&&V<d5;)j=b.sample(V),I.push(j.value),V+=Oh;x=void 0,f=I,p=V-Oh,m="linear"}const y=S3(t.owner.current,e,f,{...s,duration:p,ease:m,times:x}),E=()=>{u=!1,y.cancel()},_=()=>{u=!0,xt.update(E),l(),d()};return y.onfinish=()=>{u||(t.set(E3(f,s)),r&&r(),_())},{then(b,j){return c.then(b,j)},attachTimeline(b){return y.timeline=b,y.onfinish=null,Lt},get time(){return wo(y.currentTime||0)},set time(b){y.currentTime=yi(b)},get speed(){return y.playbackRate},set speed(b){y.playbackRate=b},get duration(){return wo(p)},play:()=>{i||(y.play(),No(E))},pause:()=>y.pause(),stop:()=>{if(i=!0,y.playState==="idle")return;const{currentTime:b}=y;if(b){const j=pp({...s,autoplay:!1});t.setWithVelocity(j.sample(b-Oh).value,j.sample(b).value,Oh)}_()},complete:()=>{u||y.finish()},cancel:_}}function p5({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Lt,pause:Lt,stop:Lt,then:o=>(o(),Promise.resolve()),cancel:Lt,complete:Lt});return e?pp({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const m5={type:"spring",stiffness:500,damping:25,restSpeed:10},g5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),v5={type:"keyframes",duration:.8},x5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},y5=(t,{keyframes:e})=>e.length>2?v5:Qa.has(t)?t.startsWith("scale")?g5(e[1]):m5:x5,ix=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ji.test(e)||e==="0")&&!e.startsWith("url(")),w5=new Set(["brightness","contrast","saturate","opacity"]);function b5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bm)||[];if(!r)return t;const s=n.replace(r,"");let o=w5.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const _5=/([a-z-]*)\(.*?\)/g,ax={...ji,getAnimatableNone:t=>{const e=t.match(_5);return e?e.map(b5).join(" "):t}},S5={...Zj,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:ax,WebkitFilter:ax},Tw=t=>S5[t];function zP(t,e){let n=Tw(t);return n!==ax&&(n=ji),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const UP=t=>/^0[^.\s]+$/.test(t);function E5(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||UP(t)}function C5(t,e,n,r){const s=ix(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:t.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),E5(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=zP(e,l)}return o}function T5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Nw(t,e){return t[e]||t.default||t}const N5={skipAnimations:!1},kw=(t,e,n,r={})=>s=>{const o=Nw(r,t)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-yi(i);const c=C5(e,t,n,o),u=c[0],d=c[c.length-1],f=ix(t,u),p=ix(t,d);let m={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:x=>{e.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(T5(o)||(m={...m,...y5(t,m)}),m.duration&&(m.duration=yi(m.duration)),m.repeatDelay&&(m.repeatDelay=yi(m.repeatDelay)),!f||!p||_3.current||o.type===!1||N5.skipAnimations)return p5(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const x=f5(e,t,m);if(x)return x}return pp(m)};function mp(t){return!!(mr(t)&&t.add)}const BP=t=>/^\-?\d*\.?\d+$/.test(t);function jw(t,e){t.indexOf(e)===-1&&t.push(e)}function Pw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Aw{constructor(){this.subscriptions=[]}add(e){return jw(this.subscriptions,e),()=>Pw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const k5=t=>!isNaN(parseFloat(t));class j5{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=Rn;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,xt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>xt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=k5(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Aw);const r=this.events[e].add(n);return e==="change"?()=>{r(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?LP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rc(t,e){return new j5(t,e)}const $P=t=>e=>e.test(t),P5={test:t=>t==="auto",parse:t=>t},qP=[Xa,De,Bs,Qo,LF,MF,P5],iu=t=>qP.find($P(t)),A5=[...qP,Wn,ji],I5=t=>A5.find($P(t));function R5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,rc(n))}function D5(t,e){const n=Sm(t,e);let{transitionEnd:r={},transition:s={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=XF(o[i]);R5(t,i,l)}}function O5(t,e,n){var r,s;const o=Object.keys(e).filter(l=>!t.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),d!=null&&(typeof d=="string"&&(BP(d)||UP(d))?d=parseFloat(d):!I5(d)&&ji.test(u)&&(d=zP(c,u)),t.addValue(c,rc(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function M5(t,e){return e?(e[t]||e.default||e).from:void 0}function L5(t,e,n){const r={};for(const s in t){const o=M5(s,e);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function V5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function F5(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function WP(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const p=t.getValue(f),m=l[f];if(!p||m===void 0||d&&V5(d,f))continue;const x={delay:n,elapsed:0,...Nw(o||{},f)};if(window.HandoffAppearAnimations){const _=t.getProps()[Hj];if(_){const v=window.HandoffAppearAnimations(_,f,p,xt);v!==null&&(x.elapsed=v,x.isHandoff=!0)}}let y=!x.isHandoff&&!F5(p,m);if(x.type==="spring"&&(p.getVelocity()||x.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(kw(f,p,m,t.shouldReduceMotion&&Qa.has(f)?{type:!1}:x));const E=p.animation;mp(c)&&(c.add(f),E.then(()=>c.remove(f))),u.push(E)}return i&&Promise.all(u).then(()=>{i&&D5(t,i)}),u}function lx(t,e,n={}){const r=Sm(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(WP(t,r,n)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return z5(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function z5(t,e,n=0,r=0,s=1,o){const i=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(U5).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(lx(u,e,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function U5(t,e){return t.sortNodePosition(e)}function B5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>lx(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=lx(t,e,n);else{const s=typeof e=="function"?Sm(t,e,n.custom):e;r=Promise.all(WP(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const $5=[...hw].reverse(),q5=hw.length;function W5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>B5(t,n,r)))}function H5(t){let e=W5(t);const n=K5();let r=!0;const s=(c,u)=>{const d=Sm(t,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function o(c){e=c(t)}function i(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},p=[],m=new Set;let x={},y=1/0;for(let _=0;_<q5;_++){const v=$5[_],b=n[v],j=d[v]!==void 0?d[v]:f[v],I=ud(j),V=v===u?b.isActive:null;V===!1&&(y=_);let S=j===f[v]&&j!==d[v]&&I;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...x},!b.isActive&&V===null||!j&&!b.prevProp||ym(j)||typeof j=="boolean")continue;let A=G5(b.prevProp,j)||v===u&&b.isActive&&!S&&I||_>y&&I,R=!1;const N=Array.isArray(j)?j:[j];let k=N.reduce(s,{});V===!1&&(k={});const{prevResolvedValues:P={}}=b,D={...P,...k},L=$=>{A=!0,m.has($)&&(R=!0,m.delete($)),b.needsAnimating[$]=!0};for(const $ in D){const H=k[$],M=P[$];if(x.hasOwnProperty($))continue;let z=!1;dp(H)&&dp(M)?z=!pP(H,M):z=H!==M,z?H!==void 0?L($):m.add($):H!==void 0&&m.has($)?L($):b.protectedKeys[$]=!0}b.prevProp=j,b.prevResolvedValues=k,b.isActive&&(x={...x,...k}),r&&t.blockInitialAnimation&&(A=!1),A&&(!S||R)&&p.push(...N.map($=>({animation:$,options:{type:v,...c}})))}if(m.size){const _={};m.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(_[v]=b)}),p.push({animation:_})}let E=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(p):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var x;return(x=m.animationState)===null||x===void 0?void 0:x.setActive(c,u)}),n[c].isActive=u;const p=i(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function G5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pP(e,t):!1}function na(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K5(){return{animate:na(!0),whileInView:na(),whileHover:na(),whileTap:na(),whileDrag:na(),whileFocus:na(),exit:na()}}class Y5 extends $i{constructor(e){super(e),e.animationState||(e.animationState=H5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ym(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Q5=0;class X5 extends $i{constructor(){super(...arguments),this.id=Q5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const J5={animation:{Feature:Y5},exit:{Feature:X5}},VS=(t,e)=>Math.abs(t-e);function Z5(t,e){const n=VS(t.x,e.x),r=VS(t.y,e.y);return Math.sqrt(n**2+r**2)}class HP{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=dv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Z5(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:x}=f,{timestamp:y}=Rn;this.history.push({...x,timestamp:y});const{onStart:E,onMove:_}=this.handlers;p||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=uv(p,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=dv(f.type==="pointercancel"?this.lastMoveEventInfo:uv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,E),x&&x(f,E)},!cP(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=_m(e),l=uv(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Rn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,dv(l,this.history)),this.removeListeners=xi(yo(this.contextWindow,"pointermove",this.handlePointerMove),yo(this.contextWindow,"pointerup",this.handlePointerUp),yo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),No(this.updatePoint)}}function uv(t,e){return e?{point:e(t.point)}:t}function FS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dv({point:t},e){return{point:t,delta:FS(t,GP(e)),offset:FS(t,e6(e)),velocity:t6(e,.1)}}function e6(t){return t[0]}function GP(t){return t[t.length-1]}function t6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=GP(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>yi(e)));)n--;if(!r)return{x:0,y:0};const o=wo(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ir(t){return t.max-t.min}function cx(t,e=0,n=.01){return Math.abs(t-e)<=n}function zS(t,e,n,r=.5){t.origin=r,t.originPoint=At(e.min,e.max,t.origin),t.scale=Ir(n)/Ir(e),(cx(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=At(n.min,n.max,t.origin)-t.originPoint,(cx(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Lu(t,e,n,r){zS(t.x,e.x,n.x,r?r.originX:void 0),zS(t.y,e.y,n.y,r?r.originY:void 0)}function US(t,e,n){t.min=n.min+e.min,t.max=t.min+Ir(e)}function n6(t,e,n){US(t.x,e.x,n.x),US(t.y,e.y,n.y)}function BS(t,e,n){t.min=e.min-n.min,t.max=t.min+Ir(e)}function Vu(t,e,n){BS(t.x,e.x,n.x),BS(t.y,e.y,n.y)}function r6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?At(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?At(n,t,r.max):Math.min(t,n)),t}function $S(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function s6(t,{top:e,left:n,bottom:r,right:s}){return{x:$S(t.x,n,s),y:$S(t.y,e,r)}}function qS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function o6(t,e){return{x:qS(t.x,e.x),y:qS(t.y,e.y)}}function i6(t,e){let n=.5;const r=Ir(t),s=Ir(e);return s>r?n=hd(e.min,e.max-r,t.min):r>s&&(n=hd(t.min,t.max-s,e.min)),ki(0,1,n)}function a6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ux=.35;function l6(t=ux){return t===!1?t=0:t===!0&&(t=ux),{x:WS(t,"left","right"),y:WS(t,"top","bottom")}}function WS(t,e,n){return{min:HS(t,e),max:HS(t,n)}}function HS(t,e){return typeof t=="number"?t:t[e]||0}const GS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Al=()=>({x:GS(),y:GS()}),KS=()=>({min:0,max:0}),Ht=()=>({x:KS(),y:KS()});function Mr(t){return[t("x"),t("y")]}function KP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function c6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function u6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hv(t){return t===void 0||t===1}function dx({scale:t,scaleX:e,scaleY:n}){return!hv(t)||!hv(e)||!hv(n)}function oa(t){return dx(t)||YP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function YP(t){return YS(t.x)||YS(t.y)}function YS(t){return t&&t!=="0%"}function gp(t,e,n){const r=t-n,s=e*r;return n+s}function QS(t,e,n,r,s){return s!==void 0&&(t=gp(t,s,r)),gp(t,n,r)+e}function hx(t,e=0,n=1,r,s){t.min=QS(t.min,e,n,r,s),t.max=QS(t.max,e,n,r,s)}function QP(t,{x:e,y:n}){hx(t.x,e.translate,e.scale,e.originPoint),hx(t.y,n.translate,n.scale,n.originPoint)}function d6(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Il(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,QP(t,i)),r&&oa(o.latestValues)&&Il(t,o.latestValues))}e.x=XS(e.x),e.y=XS(e.y)}function XS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ei(t,e){t.min=t.min+e,t.max=t.max+e}function JS(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,i=At(t.min,t.max,o);hx(t,e[n],e[r],i,e.scale)}const h6=["x","scaleX","originX"],f6=["y","scaleY","originY"];function Il(t,e){JS(t.x,e,h6),JS(t.y,e,f6)}function XP(t,e){return KP(u6(t.getBoundingClientRect(),e))}function p6(t,e,n){const r=XP(t,n),{scroll:s}=e;return s&&(ei(r.x,s.offset.x),ei(r.y,s.offset.y)),r}const JP=({current:t})=>t?t.ownerDocument.defaultView:null,m6=new WeakMap;class g6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_m(d,"page").point)},o=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:x}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dP(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mr(E=>{let _=this.getAxisMotionValue(E).get()||0;if(Bs.test(_)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[E];b&&(_=Ir(b)*(parseFloat(_)/100))}}this.originPoint[E]=_}),x&&xt.update(()=>x(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:x,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:E}=f;if(m&&this.currentDirection===null){this.currentDirection=v6(E),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),y&&y(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Mr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new HP(e,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:JP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&xt.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Mh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=r6(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&jl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=s6(s.layoutBox,n):this.constraints=!1,this.elastic=l6(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Mr(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=a6(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=p6(r,s.root,this.visualElement.getTransformPagePoint());let i=o6(s.layout.layoutBox,o);if(n){const l=n(c6(i));this.hasMutatedConstraints=!!l,l&&(i=KP(l))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Mr(d=>{if(!Mh(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(kw(e,r,0,n))}stopAnimation(){Mr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mr(n=>{const{drag:r}=this.getProps();if(!Mh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(e[n]-At(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mr(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=i6({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mr(i=>{if(!Mh(i,e,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(At(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;m6.set(this.visualElement,this);const e=this.visualElement.current,n=yo(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();jl(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=po(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=ux,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Mh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function v6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class x6 extends $i{constructor(e){super(e),this.removeGroupControls=Lt,this.removeListeners=Lt,this.controls=new g6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZS=t=>(e,n)=>{t&&xt.update(()=>t(e,n))};class y6 extends $i{constructor(){super(...arguments),this.removePointerDownListener=Lt}onPointerDown(e){this.session=new HP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ZS(e),onStart:ZS(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&xt.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=yo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function w6(){const t=g.useContext(vm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=g.useId();return g.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const au={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=eE(t,e.target.x),r=eE(t,e.target.y);return`${n}% ${r}%`}},b6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ji.parse(t);if(s.length>5)return r;const o=ji.createTransformer(t),i=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+i]/=l,s[1+i]/=c;const u=At(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class _6 extends Re.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;jF(S6),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||xt.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZP(t){const[e,n]=w6(),r=g.useContext(pw);return Re.createElement(_6,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(Kj),isPresent:e,safeToRemove:n})}const S6={borderRadius:{...au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:au,borderTopRightRadius:au,borderBottomLeftRadius:au,borderBottomRightRadius:au,boxShadow:b6},eA=["TopLeft","TopRight","BottomLeft","BottomRight"],E6=eA.length,tE=t=>typeof t=="string"?parseFloat(t):t,nE=t=>typeof t=="number"||De.test(t);function C6(t,e,n,r,s,o){s?(t.opacity=At(0,n.opacity!==void 0?n.opacity:1,T6(r)),t.opacityExit=At(e.opacity!==void 0?e.opacity:1,0,N6(r))):o&&(t.opacity=At(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<E6;i++){const l=`border${eA[i]}Radius`;let c=rE(e,l),u=rE(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||nE(c)===nE(u)?(t[l]=Math.max(At(tE(c),tE(u),r),0),(Bs.test(u)||Bs.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=At(e.rotate||0,n.rotate||0,r))}function rE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const T6=tA(0,.5,SP),N6=tA(.5,.95,Lt);function tA(t,e,n){return r=>r<t?0:r>e?1:n(hd(t,e,r))}function sE(t,e){t.min=e.min,t.max=e.max}function Or(t,e){sE(t.x,e.x),sE(t.y,e.y)}function oE(t,e,n,r,s){return t-=e,t=gp(t,1/n,r),s!==void 0&&(t=gp(t,1/s,r)),t}function k6(t,e=0,n=1,r=.5,s,o=t,i=t){if(Bs.test(e)&&(e=parseFloat(e),e=At(i.min,i.max,e/100)-i.min),typeof e!="number")return;let l=At(o.min,o.max,r);t===o&&(l-=e),t.min=oE(t.min,e,n,l,s),t.max=oE(t.max,e,n,l,s)}function iE(t,e,[n,r,s],o,i){k6(t,e[n],e[r],e[s],e.scale,o,i)}const j6=["x","scaleX","originX"],P6=["y","scaleY","originY"];function aE(t,e,n,r){iE(t.x,e,j6,n?n.x:void 0,r?r.x:void 0),iE(t.y,e,P6,n?n.y:void 0,r?r.y:void 0)}function lE(t){return t.translate===0&&t.scale===1}function nA(t){return lE(t.x)&&lE(t.y)}function A6(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function rA(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function cE(t){return Ir(t.x)/Ir(t.y)}class I6{constructor(){this.members=[]}add(e){jw(this.members,e),e.scheduleRender()}remove(e){if(Pw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uE(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=t.x.scale*e.x,l=t.y.scale*e.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const R6=(t,e)=>t.depth-e.depth;class D6{constructor(){this.children=[],this.isDirty=!1}add(e){jw(this.children,e),this.isDirty=!0}remove(e){Pw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(R6),this.isDirty=!1,this.children.forEach(e)}}function O6(t,e){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(No(r),t(o-e))};return xt.read(r,!0),()=>No(r)}function M6(t){window.MotionDebug&&window.MotionDebug.record(t)}function L6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function V6(t,e,n){const r=mr(t)?t:rc(t);return r.start(kw("",r,e,n)),r.animation}const dE=["","X","Y","Z"],F6={visibility:"hidden"},hE=1e3;let z6=0;const ia={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function sA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=e==null?void 0:e()){this.id=z6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ia.totalNodes=ia.resolvedTargetDeltas=ia.recalculatedProjection=0,this.nodes.forEach($6),this.nodes.forEach(K6),this.nodes.forEach(Y6),this.nodes.forEach(q6),M6(ia)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new D6)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Aw),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=L6(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=O6(p,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(pE))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||ez,{onLayoutAnimationStart:E,onLayoutAnimationComplete:_}=d.getProps(),v=!this.targetLayout||!rA(this.targetLayout,x)||m,b=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...Nw(y,"layout"),onPlay:E,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else p||pE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,No(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q6),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fE);return}this.isUpdating||this.nodes.forEach(H6),this.isUpdating=!1,this.nodes.forEach(G6),this.nodes.forEach(U6),this.nodes.forEach(B6),this.clearAllSnapshots();const l=performance.now();Rn.delta=ki(0,1e3/60,l-Rn.timestamp),Rn.timestamp=l,Rn.isProcessing=!0,nv.update.process(Rn),nv.preRender.process(Rn),nv.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(W6),this.sharedNodes.forEach(X6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!nA(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||oa(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),tz(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Ht();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(ei(l.x,c.offset.x),ei(l.y,c.offset.y)),l}removeElementScroll(i){const l=Ht();Or(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Or(l,i);const{scroll:p}=this.root;p&&(ei(l.x,-p.offset.x),ei(l.y,-p.offset.y))}ei(l.x,d.offset.x),ei(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=Ht();Or(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Il(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),oa(d.latestValues)&&Il(c,d.latestValues)}return oa(this.latestValues)&&Il(c,this.latestValues),c}removeTransform(i){const l=Ht();Or(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!oa(u.latestValues))continue;dx(u.latestValues)&&u.updateSnapshot();const d=Ht(),f=u.measurePageBox();Or(d,f),aE(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return oa(this.latestValues)&&aE(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Vu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Or(this.target,this.layout.layoutBox),QP(this.target,this.targetDelta)):Or(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Vu(this.relativeTargetOrigin,this.target,m.target),Or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ia.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dx(this.parent.latestValues)||YP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Or(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;d6(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:x}=l;if(!x){this.projectionTransform&&(this.projectionDelta=Al(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Al(),this.projectionDeltaWithTransform=Al());const y=this.projectionTransform;Lu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=uE(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ia.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ht(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=m!==x,E=this.getStack(),_=!E||E.members.length<=1,v=!!(y&&!_&&this.options.crossfade===!0&&!this.path.some(Z6));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const I=j/1e3;mE(f.x,i.x,I),mE(f.y,i.y,I),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),J6(this.relativeTarget,this.relativeTargetOrigin,p,I),b&&A6(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ht()),Or(b,this.relativeTarget)),y&&(this.animationValues=d,C6(d,u,this.latestValues,I,v,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(No(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{bf.hasAnimatedSinceResize=!0,this.currentAnimation=V6(0,hE,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&oA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ht();const f=Ir(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const p=Ir(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+p}Or(l,c),Il(l,d),Lu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new I6),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<dE.length;d++){const f="rotate"+dE[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F6;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=wf(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=wf(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=uE(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:x}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in cp){if(p[y]===void 0)continue;const{correct:E,applyTo:_}=cp[y],v=u.transform==="none"?p[y]:E(p[y],f);if(_){const b=_.length;for(let j=0;j<b;j++)u[_[j]]=v}else u[y]=v}return this.options.layoutId&&(u.pointerEvents=f===this?wf(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(fE),this.root.sharedNodes.clear()}}}function U6(t){t.updateLayout()}function B6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,i=n.source!==t.layout.source;o==="size"?Mr(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],m=Ir(p);p.min=r[f].min,p.max=p.min+m}):oA(o,n.layoutBox,r)&&Mr(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],m=Ir(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const l=Al();Lu(l,r,n.layoutBox);const c=Al();i?Lu(c,t.applyTransform(s,!0),n.measuredBox):Lu(c,r,n.layoutBox);const u=!nA(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const x=Ht();Vu(x,n.layoutBox,p.layoutBox);const y=Ht();Vu(y,r,m.layoutBox),rA(x,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function $6(t){ia.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function q6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function W6(t){t.clearSnapshot()}function fE(t){t.clearMeasurements()}function H6(t){t.isLayoutDirty=!1}function G6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function K6(t){t.resolveTargetDelta()}function Y6(t){t.calcProjection()}function Q6(t){t.resetRotation()}function X6(t){t.removeLeadSnapshot()}function mE(t,e,n){t.translate=At(e.translate,0,n),t.scale=At(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function gE(t,e,n,r){t.min=At(e.min,n.min,r),t.max=At(e.max,n.max,r)}function J6(t,e,n,r){gE(t.x,e.x,n.x,r),gE(t.y,e.y,n.y,r)}function Z6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ez={duration:.45,ease:[.4,0,.1,1]},vE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),xE=vE("applewebkit/")&&!vE("chrome/")?Math.round:Lt;function yE(t){t.min=xE(t.min),t.max=xE(t.max)}function tz(t){yE(t.x),yE(t.y)}function oA(t,e,n){return t==="position"||t==="preserve-aspect"&&!cx(cE(e),cE(n),.2)}const nz=sA({attachResizeListener:(t,e)=>po(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fv={current:void 0},iA=sA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fv.current){const t=new nz({});t.mount(window),t.setOptions({layoutScroll:!0}),fv.current=t}return fv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rz={pan:{Feature:y6},drag:{Feature:x6,ProjectionNode:iA,MeasureLayout:ZP}},sz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function oz(t){const e=sz.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function fx(t,e,n=1){const[r,s]=oz(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return BP(i)?parseFloat(i):i}else return nx(s)?fx(s,e,n+1):s}function iz(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const o=s.get();if(!nx(o))return;const i=fx(o,r);i&&s.set(i)});for(const s in e){const o=e[s];if(!nx(o))continue;const i=fx(o,r);i&&(e[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:e,transitionEnd:n}}const az=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),aA=t=>az.has(t),lz=t=>Object.keys(t).some(aA),wE=t=>t===Xa||t===De,bE=(t,e)=>parseFloat(t.split(", ")[e]),_E=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return bE(s[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?bE(o[1],t):0}},cz=new Set(["x","y","z"]),uz=Od.filter(t=>!cz.has(t));function dz(t){const e=[];return uz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const sc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_E(4,13),y:_E(5,14)};sc.translateX=sc.x;sc.translateY=sc.y;const hz=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=sc[u](r,o)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=sc[u](c,o)}),t},fz=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(aA);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],f=iu(d);const p=e[c];let m;if(dp(p)){const x=p.length,y=p[0]===null?1:0;d=p[y],f=iu(d);for(let E=y;E<x&&p[E]!==null;E++)m?_w(iu(p[E])===m):m=iu(p[E])}else m=iu(p);if(f!==m)if(wE(f)&&wE(m)){const x=u.get();typeof x=="string"&&u.set(parseFloat(x)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&m===De&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):e[c]=f.transform(p):(i||(o=dz(t),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=hz(e,t,l);return o.length&&o.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),xm&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function pz(t,e,n,r){return lz(e)?fz(t,e,n,r):{target:e,transitionEnd:r}}const mz=(t,e,n,r)=>{const s=iz(t,e,r);return e=s.target,r=s.transitionEnd,pz(t,e,n,r)},px={current:null},lA={current:!1};function gz(){if(lA.current=!0,!!xm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>px.current=t.matches;t.addListener(e),e()}else px.current=!1}function vz(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],i=n[s];if(mr(o))t.addValue(s,o),mp(r)&&r.add(s);else if(mr(i))t.addValue(s,rc(o,{owner:t})),mp(r)&&r.remove(s);else if(i!==o)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(s);t.addValue(s,rc(l!==void 0?l:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const SE=new WeakMap,cA=Object.keys(dd),xz=cA.length,EE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yz=fw.length;class wz{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>xt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=wm(n),this.isVariantNode=Gj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];l[f]!==void 0&&mr(p)&&(p.set(l[f],!1),mp(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,SE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),lA.current||gz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:px.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){SE.delete(this.current),this.projection&&this.projection.unmount(),No(this.notifyUpdate),No(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Qa.has(e),s=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&xt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,o){let i,l;for(let c=0;c<xz;c++){const u=cA[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=dd[u];p&&(i=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&jl(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:p,layoutRoot:m})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<EE.length;r++){const s=EE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=e["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=vz(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<yz;r++){const s=fw[r],o=this.props[s];(ud(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=rc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=bw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!mr(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Aw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class uA extends wz{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},o){let i=L5(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){O5(this,r,i);const l=mz(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function bz(t){return window.getComputedStyle(t)}class _z extends uA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Qa.has(n)){const r=Tw(n);return r&&r.default||0}else{const r=bz(e),s=(Xj(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XP(e,n)}build(e,n,r,s){gw(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ww(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){rP(e,n,r,s)}}class Sz extends uA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Qa.has(n)){const r=Tw(n);return r&&r.default||0}return n=sP.has(n)?n:dw(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ht()}scrapeMotionValuesFromProps(e,n){return iP(e,n)}build(e,n,r,s){xw(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){oP(e,n,r,s)}mount(e){this.isSVGTag=yw(e.tagName),super.mount(e)}}const Ez=(t,e)=>mw(t)?new Sz(e,{enableHardwareAcceleration:!1}):new _z(e,{enableHardwareAcceleration:!0}),Cz={layout:{ProjectionNode:iA,MeasureLayout:ZP}},Tz={...J5,...x3,...rz,...Cz},Ee=NF((t,e)=>o3(t,e,Tz,Ez));function dA(){const t=g.useRef(!1);return uw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Nz(){const t=dA(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>xt.postRender(r),[r]),e]}class kz extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jz({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(e||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),g.createElement(kz,{isPresent:e,childRef:r,sizeRef:s},g.cloneElement(t,{ref:r}))}const pv=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=aP(Pz),c=g.useId(),u=g.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return g.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(t=g.createElement(jz,{isPresent:n},t)),g.createElement(vm.Provider,{value:u},t)};function Pz(){return new Map}function Az(t){return g.useEffect(()=>()=>t(),[])}const aa=t=>t.key||"";function Iz(t,e){t.forEach(n=>{const r=aa(n);e.set(r,n)})}function Rz(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const Iw=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=g.useContext(pw).forceRender||Nz()[0],c=dA(),u=Rz(t);let d=u;const f=g.useRef(new Map).current,p=g.useRef(d),m=g.useRef(new Map).current,x=g.useRef(!0);if(uw(()=>{x.current=!1,Iz(u,m),p.current=d}),Az(()=>{x.current=!0,m.clear(),f.clear()}),x.current)return g.createElement(g.Fragment,null,d.map(v=>g.createElement(pv,{key:aa(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},v)));d=[...d];const y=p.current.map(aa),E=u.map(aa),_=y.length;for(let v=0;v<_;v++){const b=y[v];E.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((v,b)=>{if(E.indexOf(b)!==-1)return;const j=m.get(b);if(!j)return;const I=y.indexOf(b);let V=v;if(!V){const S=()=>{f.delete(b);const T=Array.from(m.keys()).filter(A=>!E.includes(A));if(T.forEach(A=>m.delete(A)),p.current=u.filter(A=>{const R=aa(A);return R===b||T.includes(R)}),!f.size){if(c.current===!1)return;l(),r&&r()}};V=g.createElement(pv,{key:aa(j),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:o,mode:i},j),f.set(b,V)}d.splice(I,0,V)}),d=d.map(v=>{const b=v.key;return f.has(b)?v:g.createElement(pv,{key:aa(v),isPresent:!0,presenceAffectsLayout:o,mode:i},v)}),g.createElement(g.Fragment,null,f.size?d:d.map(v=>g.cloneElement(v)))};var Dz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Oz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fe=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},u)=>g.createElement("svg",{ref:u,...Dz,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${Oz(t)}`,...c},[...e.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},mx=fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),ps=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Mz=fe("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),CE=fe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Lz=fe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),Vz=fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),TE=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Fz=fe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),mv=fe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),zz=fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Uz=fe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),sr=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),gv=fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Lh=fe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),ua=fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),_a=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Bl=fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Bz=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),hA=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),fA=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),$z=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),qz=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ir=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Vh=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Wz=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),vp=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),bn=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),xp=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$l=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ms=fe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Rw=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),NE=fe("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),pA=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Hz=fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),kE=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),mA=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),jE=fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Gz=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),PE=fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),gx=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),AE=fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Sa=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),yp=fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Kz=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Yz=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Qz=fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Xz=fe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Jz=fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Kn=fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),vv=fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),gs=fe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Ea=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),xv=fe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),IE=fe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Er=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),wp=fe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Fh=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),gA=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),vA=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Cr=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),wi=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oc=fe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ls=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),_f=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Zz=fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Fu=fe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),xu=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),e9=fe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),qr=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ra=fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ar=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),t9=fe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Dw=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),n9=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),yu=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),r9=fe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Br=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vs=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),s9=fe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),RE=fe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),pr=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bp=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),o9=fe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function xA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=xA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=xA(t))&&(r&&(r+=" "),r+=e);return r}function i9(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=wA(e))&&(r&&(r+=" "),r+=n);return r}function wA(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=wA(t[r]))&&(n&&(n+=" "),n+=e);return n}var Ow="-";function a9(t){var e=c9(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(Ow);return c[0]===""&&c.length!==1&&c.shift(),bA(c,e)||l9(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function bA(t,e){var i;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?bA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var o=t.join(Ow);return(i=e.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var DE=/^\[(.+)\]$/;function l9(t){if(DE.test(t)){var e=DE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function c9(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=d9(Object.entries(t.classGroups),n);return s.forEach(function(o){var i=o[0],l=o[1];vx(l,r,i,e)}),r}function vx(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var o=s===""?e:OE(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(u9(s)){vx(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];vx(c,OE(e,l),n,r)})})}function OE(t,e){var n=t;return e.split(Ow).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function u9(t){return t.isThemeGetter}function d9(t,e){return e?t.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[e+c,u]})):i});return[r,o]}):t}function h9(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var _A="!";function f9(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(i){for(var l=[],c=0,u=0,d,f=0;f<i.length;f++){var p=i[f];if(c===0){if(p===r&&(n||i.slice(f,f+s)===e)){l.push(i.slice(u,f)),u=f+s;continue}if(p==="/"){d=f;continue}}p==="["?c++:p==="]"&&c--}var m=l.length===0?i:i.substring(u),x=m.startsWith(_A),y=x?m.substring(1):m,E=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:E}}}function p9(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function m9(t){return{cache:h9(t.cacheSize),splitModifiers:f9(t),...a9(t)}}var g9=/\s+/;function v9(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(g9).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,p=r(f?d.substring(0,f):d),m=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:i};if(p=r(d),!p)return{isTailwindClass:!1,originalClassName:i};m=!1}var x=p9(c).join(":"),y=u?x+_A:x;return{isTailwindClass:!0,modifierId:y,classGroupId:p,originalClassName:i,hasPostfixModifier:m}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function x9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,o,i=l;function l(u){var d=e[0],f=e.slice(1),p=f.reduce(function(m,x){return x(m)},d());return r=m9(p),s=r.cache.get,o=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=v9(u,r);return o(u,f),f}return function(){return i(i9.apply(null,arguments))}}function St(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var SA=/^\[(?:([a-z-]+):)?(.+)\]$/i,y9=/^\d+\/\d+$/,w9=new Set(["px","full","screen"]),b9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S9=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ns(t){return ga(t)||w9.has(t)||y9.test(t)||xx(t)}function xx(t){return Ja(t,"length",j9)}function E9(t){return Ja(t,"size",EA)}function C9(t){return Ja(t,"position",EA)}function T9(t){return Ja(t,"url",P9)}function zh(t){return Ja(t,"number",ga)}function ga(t){return!Number.isNaN(Number(t))}function N9(t){return t.endsWith("%")&&ga(t.slice(0,-1))}function lu(t){return ME(t)||Ja(t,"number",ME)}function Je(t){return SA.test(t)}function cu(){return!0}function qo(t){return b9.test(t)}function k9(t){return Ja(t,"",A9)}function Ja(t,e,n){var r=SA.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function j9(t){return _9.test(t)}function EA(){return!1}function P9(t){return t.startsWith("url(")}function ME(t){return Number.isInteger(Number(t))}function A9(t){return S9.test(t)}function I9(){var t=St("colors"),e=St("spacing"),n=St("blur"),r=St("brightness"),s=St("borderColor"),o=St("borderRadius"),i=St("borderSpacing"),l=St("borderWidth"),c=St("contrast"),u=St("grayscale"),d=St("hueRotate"),f=St("invert"),p=St("gap"),m=St("gradientColorStops"),x=St("gradientColorStopPositions"),y=St("inset"),E=St("margin"),_=St("opacity"),v=St("padding"),b=St("saturate"),j=St("scale"),I=St("sepia"),V=St("skew"),S=St("space"),T=St("translate"),A=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},N=function(){return["auto",Je,e]},k=function(){return[Je,e]},P=function(){return["",ns]},D=function(){return["auto",ga,Je]},L=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},$=function(){return["solid","dashed","dotted","double","none"]},H=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},M=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",Je]},K=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},X=function(){return[ga,zh]},ce=function(){return[ga,Je]};return{cacheSize:500,theme:{colors:[cu],spacing:[ns],blur:["none","",qo,Je],brightness:X(),borderColor:[t],borderRadius:["none","","full",qo,Je],borderSpacing:k(),borderWidth:P(),contrast:X(),grayscale:z(),hueRotate:ce(),invert:z(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[N9,xx],inset:N(),margin:N(),opacity:X(),padding:k(),saturate:X(),scale:X(),sepia:z(),skew:ce(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[qo]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(L(),[Je])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lu]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",lu]}],"grid-cols":[{"grid-cols":[cu]}],"col-start-end":[{col:["auto",{span:["full",lu]},Je]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[cu]}],"row-start-end":[{row:["auto",{span:[lu]},Je]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(M())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(M(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(M(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Je,e]}],"min-w":[{"min-w":["min","max","fit",Je,ns]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[qo]},qo,Je]}],h:[{h:[Je,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Je,ns]}],"max-h":[{"max-h":[Je,e,"min","max","fit"]}],"font-size":[{text:["base",qo,xx]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zh]}],"font-family":[{font:[cu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",ga,zh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Je,ns]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat($(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ns]}],"underline-offset":[{"underline-offset":["auto",Je,ns]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(L(),[C9])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",E9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat($(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat($())}],"outline-offset":[{"outline-offset":[Je,ns]}],"outline-w":[{outline:[ns]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[ns]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",qo,k9]}],"shadow-color":[{shadow:[cu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":H()}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qo,Je]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[lu,Je]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ns,zh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var R9=x9(I9);function qe(...t){return R9(yA(t))}function LE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CA(...t){return e=>{let n=!1;const r=t.map(s=>{const o=LE(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():LE(t[s],null)}}}}function pt(...t){return g.useCallback(CA(...t),t)}function Da(t){const e=O9(t),n=g.forwardRef((r,s)=>{const{children:o,...i}=r,l=g.Children.toArray(o),c=l.find(L9);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...i,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var D9=Da("Slot");function O9(t){const e=g.forwardRef((n,r)=>{const{children:s,...o}=n;if(g.isValidElement(s)){const i=F9(s),l=V9(o,s.props);return s.type!==g.Fragment&&(l.ref=r?CA(r,i):i),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TA=Symbol("radix.slottable");function M9(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=TA,e}function L9(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TA}function V9(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function F9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const VE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FE=yA,Em=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return FE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const p=VE(d)||VE(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(x=>{let[y,E]=x;return Array.isArray(E)?E.includes({...o,...l}[y]):{...o,...l}[y]===E})?[...u,f,p]:u},[]);return FE(t,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},z9=Em("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=Re.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?D9:"button";return a.jsx(i,{className:qe(z9({variant:e,size:n,className:t})),ref:o,...s})});Q.displayName="Button";function Te(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function U9(t,e){const n=g.createContext(e),r=o=>{const{children:i,...l}=o,c=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=t+"Provider";function s(o){const i=g.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function eo(t,e=[]){let n=[];function r(o,i){const l=g.createContext(i),c=n.length;n=[...n,i];const u=f=>{var _;const{scope:p,children:m,...x}=f,y=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,E=g.useMemo(()=>x,Object.values(x));return a.jsx(y.Provider,{value:E,children:m})};u.displayName=o+"Provider";function d(f,p){var y;const m=((y=p==null?void 0:p[t])==null?void 0:y[c])||l,x=g.useContext(m);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,B9(s,...e)]}function B9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Mw(t){const e=t+"CollectionProvider",[n,r]=eo(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:E,children:_}=y,v=Re.useRef(null),b=Re.useRef(new Map).current;return a.jsx(s,{scope:E,itemMap:b,collectionRef:v,children:_})};i.displayName=e;const l=t+"CollectionSlot",c=Da(l),u=Re.forwardRef((y,E)=>{const{scope:_,children:v}=y,b=o(l,_),j=pt(E,b.collectionRef);return a.jsx(c,{ref:j,children:v})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Da(d),m=Re.forwardRef((y,E)=>{const{scope:_,children:v,...b}=y,j=Re.useRef(null),I=pt(E,j),V=o(d,_);return Re.useEffect(()=>(V.itemMap.set(j,{ref:j,...b}),()=>void V.itemMap.delete(j))),a.jsx(p,{[f]:"",ref:I,children:v})});m.displayName=d;function x(y){const E=o(t+"CollectionConsumer",y);return Re.useCallback(()=>{const v=E.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((V,S)=>b.indexOf(V.ref.current)-b.indexOf(S.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},x,r]}var $9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=$9.reduce((t,e)=>{const n=Da(`Primitive.${e}`),r=g.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function NA(t,e){t&&Es.flushSync(()=>t.dispatchEvent(e))}function Kr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function q9(t,e=globalThis==null?void 0:globalThis.document){const n=Kr(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var W9="DismissableLayer",yx="dismissableLayer.update",H9="dismissableLayer.pointerDownOutside",G9="dismissableLayer.focusOutside",zE,kA=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=t,u=g.useContext(kA),[d,f]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),x=pt(e,S=>f(S)),y=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(E),v=d?y.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=_,I=Y9(S=>{const T=S.target,A=[...u.branches].some(R=>R.contains(T));!j||A||(s==null||s(S),i==null||i(S),S.defaultPrevented||l==null||l())},p),V=Q9(S=>{const T=S.target;[...u.branches].some(R=>R.contains(T))||(o==null||o(S),i==null||i(S),S.defaultPrevented||l==null||l())},p);return q9(S=>{v===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},p),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),UE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=zE)}},[d,p,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),UE())},[d,u]),g.useEffect(()=>{const S=()=>m({});return document.addEventListener(yx,S),()=>document.removeEventListener(yx,S)},[]),a.jsx(Be.div,{...c,ref:x,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:Te(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Te(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Te(t.onPointerDownCapture,I.onPointerDownCapture)})});Sc.displayName=W9;var K9="DismissableLayerBranch",jA=g.forwardRef((t,e)=>{const n=g.useContext(kA),r=g.useRef(null),s=pt(e,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(Be.div,{...t,ref:s})});jA.displayName=K9;function Y9(t,e=globalThis==null?void 0:globalThis.document){const n=Kr(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){PA(H9,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Q9(t,e=globalThis==null?void 0:globalThis.document){const n=Kr(t),r=g.useRef(!1);return g.useEffect(()=>{const s=o=>{o.target&&!r.current&&PA(G9,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UE(){const t=new CustomEvent(yx);document.dispatchEvent(t)}function PA(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?NA(s,o):s.dispatchEvent(o)}var X9=Sc,J9=jA,Cn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Z9="Portal",Fd=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,o]=g.useState(!1);Cn(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?EV.createPortal(a.jsx(Be.div,{...r,ref:e}),i):null});Fd.displayName=Z9;function eU(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Mo=t=>{const{present:e,children:n}=t,r=tU(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=pt(r.ref,nU(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};Mo.displayName="Presence";function tU(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),o=g.useRef("none"),i=t?"mounted":"unmounted",[l,c]=eU(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Uh(r.current);o.current=l==="mounted"?u:"none"},[l]),Cn(()=>{const u=r.current,d=s.current;if(d!==t){const p=o.current,m=Uh(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Cn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const y=Uh(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&y&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=m=>{m.target===e&&(o.current=Uh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Uh(t){return(t==null?void 0:t.animationName)||"none"}function nU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rU=RN[" useInsertionEffect ".trim().toString()]||Cn;function Oa({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=sU({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=g.useCallback(d=>{var f;if(l){const p=oU(d)?d(t):d;p!==t&&((f=i.current)==null||f.call(i,p))}else o(d)},[l,t,o,i]);return[c,u]}function sU({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),o=g.useRef(e);return rU(()=>{o.current=e},[e]),g.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function oU(t){return typeof t=="function"}var AA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iU="VisuallyHidden",Cm=g.forwardRef((t,e)=>a.jsx(Be.span,{...t,ref:e,style:{...AA,...t.style}}));Cm.displayName=iU;var aU=Cm,Lw="ToastProvider",[Vw,lU,cU]=Mw("Toast"),[IA,one]=eo("Toast",[cU]),[uU,Tm]=IA(Lw),RA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lw}\`. Expected non-empty \`string\`.`),a.jsx(Vw.Provider,{scope:e,children:a.jsx(uU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};RA.displayName=Lw;var DA="ToastViewport",dU=["F8"],wx="toast.viewportPause",bx="toast.viewportResume",OA=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dU,label:s="Notifications ({hotkey})",...o}=t,i=Tm(DA,n),l=lU(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),p=pt(e,f,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;g.useEffect(()=>{const E=_=>{var b;r.length!==0&&r.every(j=>_[j]||_.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),g.useEffect(()=>{const E=c.current,_=f.current;if(x&&E&&_){const v=()=>{if(!i.isClosePausedRef.current){const V=new CustomEvent(wx);_.dispatchEvent(V),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const V=new CustomEvent(bx);_.dispatchEvent(V),i.isClosePausedRef.current=!1}},j=V=>{!E.contains(V.relatedTarget)&&b()},I=()=>{E.contains(document.activeElement)||b()};return E.addEventListener("focusin",v),E.addEventListener("focusout",j),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",I),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",j),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",I),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[x,i.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:E})=>{const v=l().map(b=>{const j=b.ref.current,I=[j,...EU(j)];return E==="forwards"?I:I.reverse()});return(E==="forwards"?v.reverse():v).flat()},[l]);return g.useEffect(()=>{const E=f.current;if(E){const _=v=>{var I,V,S;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const T=document.activeElement,A=v.shiftKey;if(v.target===E&&A){(I=u.current)==null||I.focus();return}const k=y({tabbingDirection:A?"backwards":"forwards"}),P=k.findIndex(D=>D===T);yv(k.slice(P+1))?v.preventDefault():A?(V=u.current)==null||V.focus():(S=d.current)==null||S.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[l,y]),a.jsxs(J9,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(_x,{ref:u,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"forwards"});yv(E)}}),a.jsx(Vw.Slot,{scope:n,children:a.jsx(Be.ol,{tabIndex:-1,...o,ref:p})}),x&&a.jsx(_x,{ref:d,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"backwards"});yv(E)}})]})});OA.displayName=DA;var MA="ToastFocusProxy",_x=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=Tm(MA,n);return a.jsx(Cm,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});_x.displayName=MA;var zd="Toast",hU="toast.swipeStart",fU="toast.swipeMove",pU="toast.swipeCancel",mU="toast.swipeEnd",LA=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[l,c]=Oa({prop:r,defaultProp:s??!0,onChange:o,caller:zd});return a.jsx(Mo,{present:n||l,children:a.jsx(xU,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:Kr(t.onPause),onResume:Kr(t.onResume),onSwipeStart:Te(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Te(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});LA.displayName=zd;var[gU,vU]=IA(zd,{onClose(){}}),xU=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...x}=t,y=Tm(zd,n),[E,_]=g.useState(null),v=pt(e,D=>_(D)),b=g.useRef(null),j=g.useRef(null),I=s||y.duration,V=g.useRef(0),S=g.useRef(I),T=g.useRef(0),{onToastAdd:A,onToastRemove:R}=y,N=Kr(()=>{var L;(E==null?void 0:E.contains(document.activeElement))&&((L=y.viewport)==null||L.focus()),i()}),k=g.useCallback(D=>{!D||D===1/0||(window.clearTimeout(T.current),V.current=new Date().getTime(),T.current=window.setTimeout(N,D))},[N]);g.useEffect(()=>{const D=y.viewport;if(D){const L=()=>{k(S.current),u==null||u()},$=()=>{const H=new Date().getTime()-V.current;S.current=S.current-H,window.clearTimeout(T.current),c==null||c()};return D.addEventListener(wx,$),D.addEventListener(bx,L),()=>{D.removeEventListener(wx,$),D.removeEventListener(bx,L)}}},[y.viewport,I,c,u,k]),g.useEffect(()=>{o&&!y.isClosePausedRef.current&&k(I)},[o,I,y.isClosePausedRef,k]),g.useEffect(()=>(A(),()=>R()),[A,R]);const P=g.useMemo(()=>E?qA(E):null,[E]);return y.viewport?a.jsxs(a.Fragment,{children:[P&&a.jsx(yU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:P}),a.jsx(gU,{scope:n,onClose:N,children:Es.createPortal(a.jsx(Vw.ItemSlot,{scope:n,children:a.jsx(X9,{asChild:!0,onEscapeKeyDown:Te(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||N(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Be.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Te(t.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Te(t.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:Te(t.onPointerMove,D=>{if(!b.current)return;const L=D.clientX-b.current.x,$=D.clientY-b.current.y,H=!!j.current,M=["left","right"].includes(y.swipeDirection),z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,K=M?z(0,L):0,X=M?0:z(0,$),ce=D.pointerType==="touch"?10:2,ue={x:K,y:X},ge={originalEvent:D,delta:ue};H?(j.current=ue,Bh(fU,f,ge,{discrete:!1})):BE(ue,y.swipeDirection,ce)?(j.current=ue,Bh(hU,d,ge,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(L)>ce||Math.abs($)>ce)&&(b.current=null)}),onPointerUp:Te(t.onPointerUp,D=>{const L=j.current,$=D.target;if($.hasPointerCapture(D.pointerId)&&$.releasePointerCapture(D.pointerId),j.current=null,b.current=null,L){const H=D.currentTarget,M={originalEvent:D,delta:L};BE(L,y.swipeDirection,y.swipeThreshold)?Bh(mU,m,M,{discrete:!0}):Bh(pU,p,M,{discrete:!0}),H.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),yU=t=>{const{__scopeToast:e,children:n,...r}=t,s=Tm(zd,e),[o,i]=g.useState(!1),[l,c]=g.useState(!1);return _U(()=>i(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Fd,{asChild:!0,children:a.jsx(Cm,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},wU="ToastTitle",VA=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Be.div,{...r,ref:e})});VA.displayName=wU;var bU="ToastDescription",FA=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Be.div,{...r,ref:e})});FA.displayName=bU;var zA="ToastAction",UA=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx($A,{altText:n,asChild:!0,children:a.jsx(Fw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zA}\`. Expected non-empty \`string\`.`),null)});UA.displayName=zA;var BA="ToastClose",Fw=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=vU(BA,n);return a.jsx($A,{asChild:!0,children:a.jsx(Be.button,{type:"button",...r,ref:e,onClick:Te(t.onClick,s.onClose)})})});Fw.displayName=BA;var $A=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function qA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),SU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...qA(r))}}),e}function Bh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?NA(s,o):s.dispatchEvent(o)}var BE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function _U(t=()=>{}){const e=Kr(t);Cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function SU(t){return t.nodeType===t.ELEMENT_NODE}function EU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var CU=RA,WA=OA,HA=LA,GA=VA,KA=FA,YA=UA,QA=Fw;const TU=CU,XA=Re.forwardRef(({className:t,...e},n)=>a.jsx(WA,{ref:n,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));XA.displayName=WA.displayName;const NU=Em("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),JA=Re.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(HA,{ref:r,className:qe(NU({variant:e}),t),...n}));JA.displayName=HA.displayName;const kU=Re.forwardRef(({className:t,...e},n)=>a.jsx(YA,{ref:n,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));kU.displayName=YA.displayName;const ZA=Re.forwardRef(({className:t,...e},n)=>a.jsx(QA,{ref:n,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(pr,{className:"h-4 w-4"})}));ZA.displayName=QA.displayName;const e2=Re.forwardRef(({className:t,...e},n)=>a.jsx(GA,{ref:n,className:qe("text-sm font-semibold",t),...e}));e2.displayName=GA.displayName;const t2=Re.forwardRef(({className:t,...e},n)=>a.jsx(KA,{ref:n,className:qe("text-sm opacity-90",t),...e}));t2.displayName=KA.displayName;const jU=5;let wv=0;function PU(){return wv=(wv+1)%Number.MAX_VALUE,wv.toString()}const Hn={state:{toasts:[]},listeners:[],getState:()=>Hn.state,setState:t=>{typeof t=="function"?Hn.state=t(Hn.state):Hn.state={...Hn.state,...t},Hn.listeners.forEach(e=>e(Hn.state))},subscribe:t=>(Hn.listeners.push(t),()=>{Hn.listeners=Hn.listeners.filter(e=>e!==t)})},AU=({...t})=>{const e=PU(),n=s=>Hn.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===e?{...i,...s}:i)})),r=()=>Hn.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==e)}));return Hn.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,jU)})),{id:e,dismiss:r,update:n}};function gr(){const[t,e]=g.useState(Hn.getState());return g.useEffect(()=>Hn.subscribe(r=>{e(r)}),[]),g.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:AU,toasts:t.toasts}}function IU(){const{toasts:t}=gr();return a.jsxs(TU,{children:[t.map(({id:e,title:n,description:r,action:s,...o})=>a.jsxs(JA,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(e2,{children:n}),r&&a.jsx(t2,{children:r})]}),s,a.jsx(ZA,{})]},e)),a.jsx(XA,{})]})}var RU=RN[" useId ".trim().toString()]||(()=>{}),DU=0;function bo(t){const[e,n]=g.useState(RU());return Cn(()=>{t||n(r=>r??String(DU++))},[t]),t||(e?`radix-${e}`:"")}const OU=["top","right","bottom","left"],Pi=Math.min,Sr=Math.max,_p=Math.round,$h=Math.floor,$s=t=>({x:t,y:t}),MU={left:"right",right:"left",bottom:"top",top:"bottom"},LU={start:"end",end:"start"};function Sx(t,e,n){return Sr(t,Pi(e,n))}function ko(t,e){return typeof t=="function"?t(e):t}function jo(t){return t.split("-")[0]}function Ec(t){return t.split("-")[1]}function zw(t){return t==="x"?"y":"x"}function Uw(t){return t==="y"?"height":"width"}const VU=new Set(["top","bottom"]);function Fs(t){return VU.has(jo(t))?"y":"x"}function Bw(t){return zw(Fs(t))}function FU(t,e,n){n===void 0&&(n=!1);const r=Ec(t),s=Bw(t),o=Uw(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Sp(i)),[i,Sp(i)]}function zU(t){const e=Sp(t);return[Ex(t),e,Ex(e)]}function Ex(t){return t.replace(/start|end/g,e=>LU[e])}const $E=["left","right"],qE=["right","left"],UU=["top","bottom"],BU=["bottom","top"];function $U(t,e,n){switch(t){case"top":case"bottom":return n?e?qE:$E:e?$E:qE;case"left":case"right":return e?UU:BU;default:return[]}}function qU(t,e,n,r){const s=Ec(t);let o=$U(jo(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Ex)))),o}function Sp(t){return t.replace(/left|right|bottom|top/g,e=>MU[e])}function WU(t){return{top:0,right:0,bottom:0,left:0,...t}}function n2(t){return typeof t!="number"?WU(t):{top:t,right:t,bottom:t,left:t}}function Ep(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function WE(t,e,n){let{reference:r,floating:s}=t;const o=Fs(e),i=Bw(e),l=Uw(i),c=jo(e),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Ec(e)){case"start":m[i]-=p*(n&&u?-1:1);break;case"end":m[i]+=p*(n&&u?-1:1);break}return m}const HU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=WE(u,r,c),p=r,m={},x=0;for(let y=0;y<l.length;y++){const{name:E,fn:_}=l[y],{x:v,y:b,data:j,reset:I}=await _({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:t,floating:e}});d=v??d,f=b??f,m={...m,[E]:{...m[E],...j}},I&&x<=50&&(x++,typeof I=="object"&&(I.placement&&(p=I.placement),I.rects&&(u=I.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):I.rects),{x:d,y:f}=WE(u,p,c)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function fd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=ko(e,t),x=n2(m),E=l[p?f==="floating"?"reference":"floating":f],_=Ep(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},I=Ep(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(_.top-I.top+x.top)/j.y,bottom:(I.bottom-_.bottom+x.bottom)/j.y,left:(_.left-I.left+x.left)/j.x,right:(I.right-_.right+x.right)/j.x}}const GU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ko(t,e)||{};if(u==null)return{};const f=n2(d),p={x:n,y:r},m=Bw(s),x=Uw(m),y=await i.getDimensions(u),E=m==="y",_=E?"top":"left",v=E?"bottom":"right",b=E?"clientHeight":"clientWidth",j=o.reference[x]+o.reference[m]-p[m]-o.floating[x],I=p[m]-o.reference[m],V=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=V?V[b]:0;(!S||!await(i.isElement==null?void 0:i.isElement(V)))&&(S=l.floating[b]||o.floating[x]);const T=j/2-I/2,A=S/2-y[x]/2-1,R=Pi(f[_],A),N=Pi(f[v],A),k=R,P=S-y[x]-N,D=S/2-y[x]/2+T,L=Sx(k,D,P),$=!c.arrow&&Ec(s)!=null&&D!==L&&o.reference[x]/2-(D<k?R:N)-y[x]/2<0,H=$?D<k?D-k:D-P:0;return{[m]:p[m]+H,data:{[m]:L,centerOffset:D-L-H,...$&&{alignmentOffset:H}},reset:$}}}),KU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...E}=ko(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=jo(s),v=Fs(l),b=jo(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),I=p||(b||!y?[Sp(l)]:zU(l)),V=x!=="none";!p&&V&&I.push(...qU(l,y,x,j));const S=[l,...I],T=await fd(e,E),A=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[_]),f){const D=FU(s,i,j);A.push(T[D[0]],T[D[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(D=>D<=0)){var N,k;const D=(((N=o.flip)==null?void 0:N.index)||0)+1,L=S[D];if(L&&(!(f==="alignment"?v!==Fs(L):!1)||R.every(M=>Fs(M.placement)===v?M.overflows[0]>0:!0)))return{data:{index:D,overflows:R},reset:{placement:L}};let $=(k=R.filter(H=>H.overflows[0]<=0).sort((H,M)=>H.overflows[1]-M.overflows[1])[0])==null?void 0:k.placement;if(!$)switch(m){case"bestFit":{var P;const H=(P=R.filter(M=>{if(V){const z=Fs(M.placement);return z===v||z==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(z=>z>0).reduce((z,K)=>z+K,0)]).sort((M,z)=>M[1]-z[1])[0])==null?void 0:P[0];H&&($=H);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function HE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function GE(t){return OU.some(e=>t[e]>=0)}const YU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ko(t,e);switch(r){case"referenceHidden":{const o=await fd(e,{...s,elementContext:"reference"}),i=HE(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:GE(i)}}}case"escaped":{const o=await fd(e,{...s,altBoundary:!0}),i=HE(o,n.floating);return{data:{escapedOffsets:i,escaped:GE(i)}}}default:return{}}}}},r2=new Set(["left","top"]);async function QU(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=jo(n),l=Ec(n),c=Fs(n)==="y",u=r2.has(i)?-1:1,d=o&&c?-1:1,f=ko(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const XU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=e,c=await QU(e,t);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},JU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:E=>{let{x:_,y:v}=E;return{x:_,y:v}}},...c}=ko(t,e),u={x:n,y:r},d=await fd(e,c),f=Fs(jo(s)),p=zw(f);let m=u[p],x=u[f];if(o){const E=p==="y"?"top":"left",_=p==="y"?"bottom":"right",v=m+d[E],b=m-d[_];m=Sx(v,m,b)}if(i){const E=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=x+d[E],b=x-d[_];x=Sx(v,x,b)}const y=l.fn({...e,[p]:m,[f]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:o,[f]:i}}}}}},ZU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ko(t,e),d={x:n,y:r},f=Fs(s),p=zw(f);let m=d[p],x=d[f];const y=ko(l,e),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const b=p==="y"?"height":"width",j=o.reference[p]-o.floating[b]+E.mainAxis,I=o.reference[p]+o.reference[b]-E.mainAxis;m<j?m=j:m>I&&(m=I)}if(u){var _,v;const b=p==="y"?"width":"height",j=r2.has(jo(s)),I=o.reference[f]-o.floating[b]+(j&&((_=i.offset)==null?void 0:_[f])||0)+(j?0:E.crossAxis),V=o.reference[f]+o.reference[b]+(j?0:((v=i.offset)==null?void 0:v[f])||0)-(j?E.crossAxis:0);x<I?x=I:x>V&&(x=V)}return{[p]:m,[f]:x}}}},eB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:l}=e,{apply:c=()=>{},...u}=ko(t,e),d=await fd(e,u),f=jo(s),p=Ec(s),m=Fs(s)==="y",{width:x,height:y}=o.floating;let E,_;f==="top"||f==="bottom"?(E=f,_=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,E=p==="end"?"top":"bottom");const v=y-d.top-d.bottom,b=x-d.left-d.right,j=Pi(y-d[E],v),I=Pi(x-d[_],b),V=!e.middlewareData.shift;let S=j,T=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=v),V&&!p){const R=Sr(d.left,0),N=Sr(d.right,0),k=Sr(d.top,0),P=Sr(d.bottom,0);m?T=x-2*(R!==0||N!==0?R+N:Sr(d.left,d.right)):S=y-2*(k!==0||P!==0?k+P:Sr(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:S});const A=await i.getDimensions(l.floating);return x!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function Nm(){return typeof window<"u"}function Cc(t){return s2(t)?(t.nodeName||"").toLowerCase():"#document"}function jr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function to(t){var e;return(e=(s2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function s2(t){return Nm()?t instanceof Node||t instanceof jr(t).Node:!1}function ws(t){return Nm()?t instanceof Element||t instanceof jr(t).Element:!1}function Xs(t){return Nm()?t instanceof HTMLElement||t instanceof jr(t).HTMLElement:!1}function KE(t){return!Nm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof jr(t).ShadowRoot}const tB=new Set(["inline","contents"]);function Ud(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=bs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!tB.has(s)}const nB=new Set(["table","td","th"]);function rB(t){return nB.has(Cc(t))}const sB=[":popover-open",":modal"];function km(t){return sB.some(e=>{try{return t.matches(e)}catch{return!1}})}const oB=["transform","translate","scale","rotate","perspective"],iB=["transform","translate","scale","rotate","perspective","filter"],aB=["paint","layout","strict","content"];function $w(t){const e=qw(),n=ws(t)?bs(t):t;return oB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||iB.some(r=>(n.willChange||"").includes(r))||aB.some(r=>(n.contain||"").includes(r))}function lB(t){let e=Ai(t);for(;Xs(e)&&!ic(e);){if($w(e))return e;if(km(e))return null;e=Ai(e)}return null}function qw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cB=new Set(["html","body","#document"]);function ic(t){return cB.has(Cc(t))}function bs(t){return jr(t).getComputedStyle(t)}function jm(t){return ws(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ai(t){if(Cc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KE(t)&&t.host||to(t);return KE(e)?e.host:e}function o2(t){const e=Ai(t);return ic(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xs(e)&&Ud(e)?e:o2(e)}function pd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=o2(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=jr(s);if(o){const l=Cx(i);return e.concat(i,i.visualViewport||[],Ud(s)?s:[],l&&n?pd(l):[])}return e.concat(s,pd(s,[],n))}function Cx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function i2(t){const e=bs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Xs(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,l=_p(n)!==o||_p(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Ww(t){return ws(t)?t:t.contextElement}function ql(t){const e=Ww(t);if(!Xs(e))return $s(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=i2(e);let i=(o?_p(n.width):n.width)/r,l=(o?_p(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const uB=$s(0);function a2(t){const e=jr(t);return!qw()||!e.visualViewport?uB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==jr(t)?!1:e}function Ma(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Ww(t);let i=$s(1);e&&(r?ws(r)&&(i=ql(r)):i=ql(t));const l=dB(o,n,r)?a2(o):$s(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=jr(o),m=r&&ws(r)?jr(r):r;let x=p,y=Cx(x);for(;y&&r&&m!==x;){const E=ql(y),_=y.getBoundingClientRect(),v=bs(y),b=_.left+(y.clientLeft+parseFloat(v.paddingLeft))*E.x,j=_.top+(y.clientTop+parseFloat(v.paddingTop))*E.y;c*=E.x,u*=E.y,d*=E.x,f*=E.y,c+=b,u+=j,x=jr(y),y=Cx(x)}}return Ep({width:d,height:f,x:c,y:u})}function Pm(t,e){const n=jm(t).scrollLeft;return e?e.left+n:Ma(to(t)).left+n}function l2(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Pm(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function hB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=to(r),l=e?km(e.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=$s(1);const d=$s(0),f=Xs(r);if((f||!f&&!o)&&((Cc(r)!=="body"||Ud(i))&&(c=jm(r)),Xs(r))){const m=Ma(r);u=ql(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=i&&!f&&!o?l2(i,c):$s(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function fB(t){return Array.from(t.getClientRects())}function pB(t){const e=to(t),n=jm(t),r=t.ownerDocument.body,s=Sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Pm(t);const l=-n.scrollTop;return bs(r).direction==="rtl"&&(i+=Sr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}const YE=25;function mB(t,e){const n=jr(t),r=to(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=qw();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Pm(r);if(u<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,x=Math.abs(r.clientWidth-f.clientWidth-m);x<=YE&&(o-=x)}else u<=YE&&(o+=u);return{width:o,height:i,x:l,y:c}}const gB=new Set(["absolute","fixed"]);function vB(t,e){const n=Ma(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Xs(t)?ql(t):$s(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function QE(t,e,n){let r;if(e==="viewport")r=mB(t,n);else if(e==="document")r=pB(to(t));else if(ws(e))r=vB(e,n);else{const s=a2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ep(r)}function c2(t,e){const n=Ai(t);return n===e||!ws(n)||ic(n)?!1:bs(n).position==="fixed"||c2(n,e)}function xB(t,e){const n=e.get(t);if(n)return n;let r=pd(t,[],!1).filter(l=>ws(l)&&Cc(l)!=="body"),s=null;const o=bs(t).position==="fixed";let i=o?Ai(t):t;for(;ws(i)&&!ic(i);){const l=bs(i),c=$w(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&gB.has(s.position)||Ud(i)&&!c&&c2(t,i))?r=r.filter(d=>d!==i):s=l,i=Ai(i)}return e.set(t,r),r}function yB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?km(e)?[]:xB(e,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=QE(e,d,s);return u.top=Sr(f.top,u.top),u.right=Pi(f.right,u.right),u.bottom=Pi(f.bottom,u.bottom),u.left=Sr(f.left,u.left),u},QE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wB(t){const{width:e,height:n}=i2(t);return{width:e,height:n}}function bB(t,e,n){const r=Xs(e),s=to(e),o=n==="fixed",i=Ma(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=$s(0);function u(){c.x=Pm(s)}if(r||!r&&!o)if((Cc(e)!=="body"||Ud(s))&&(l=jm(e)),r){const m=Ma(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?l2(s,l):$s(0),f=i.left+l.scrollLeft-c.x-d.x,p=i.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function bv(t){return bs(t).position==="static"}function XE(t,e){if(!Xs(t)||bs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return to(t)===n&&(n=n.ownerDocument.body),n}function u2(t,e){const n=jr(t);if(km(t))return n;if(!Xs(t)){let s=Ai(t);for(;s&&!ic(s);){if(ws(s)&&!bv(s))return s;s=Ai(s)}return n}let r=XE(t,e);for(;r&&rB(r)&&bv(r);)r=XE(r,e);return r&&ic(r)&&bv(r)&&!$w(r)?n:r||lB(t)||n}const _B=async function(t){const e=this.getOffsetParent||u2,n=this.getDimensions,r=await n(t.floating);return{reference:bB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SB(t){return bs(t).direction==="rtl"}const EB={convertOffsetParentRelativeRectToViewportRelativeRect:hB,getDocumentElement:to,getClippingRect:yB,getOffsetParent:u2,getElementRects:_B,getClientRects:fB,getDimensions:wB,getScale:ql,isElement:ws,isRTL:SB};function d2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function CB(t,e){let n=null,r;const s=to(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=u;if(l||e(),!p||!m)return;const x=$h(f),y=$h(s.clientWidth-(d+p)),E=$h(s.clientHeight-(f+m)),_=$h(d),b={rootMargin:-x+"px "+-y+"px "+-E+"px "+-_+"px",threshold:Sr(0,Pi(1,c))||1};let j=!0;function I(V){const S=V[0].intersectionRatio;if(S!==c){if(!j)return i();S?i(!1,S):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!d2(u,t.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(I,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,b)}n.observe(t)}return i(!0),o}function TB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ww(t),d=s||o?[...u?pd(u):[],...pd(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const f=u&&l?CB(u,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let x,y=c?Ma(t):null;c&&E();function E(){const _=Ma(t);y&&!d2(y,_)&&n(),y=_,x=requestAnimationFrame(E)}return n(),()=>{var _;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const NB=XU,kB=JU,jB=KU,PB=eB,AB=YU,JE=GU,IB=ZU,RB=(t,e,n)=>{const r=new Map,s={platform:EB,...n},o={...s.platform,_c:r};return HU(t,e,{...s,platform:o})};var DB=typeof document<"u",OB=function(){},Sf=DB?g.useLayoutEffect:OB;function Cp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Cp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Cp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function h2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZE(t,e){const n=h2(t);return Math.round(e*n)/n}function _v(t){const e=g.useRef(t);return Sf(()=>{e.current=t}),e}function MB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=g.useState(r);Cp(p,r)||m(r);const[x,y]=g.useState(null),[E,_]=g.useState(null),v=g.useCallback(M=>{M!==V.current&&(V.current=M,y(M))},[]),b=g.useCallback(M=>{M!==S.current&&(S.current=M,_(M))},[]),j=o||x,I=i||E,V=g.useRef(null),S=g.useRef(null),T=g.useRef(d),A=c!=null,R=_v(c),N=_v(s),k=_v(u),P=g.useCallback(()=>{if(!V.current||!S.current)return;const M={placement:e,strategy:n,middleware:p};N.current&&(M.platform=N.current),RB(V.current,S.current,M).then(z=>{const K={...z,isPositioned:k.current!==!1};D.current&&!Cp(T.current,K)&&(T.current=K,Es.flushSync(()=>{f(K)}))})},[p,e,n,N,k]);Sf(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const D=g.useRef(!1);Sf(()=>(D.current=!0,()=>{D.current=!1}),[]),Sf(()=>{if(j&&(V.current=j),I&&(S.current=I),j&&I){if(R.current)return R.current(j,I,P);P()}},[j,I,P,R,A]);const L=g.useMemo(()=>({reference:V,floating:S,setReference:v,setFloating:b}),[v,b]),$=g.useMemo(()=>({reference:j,floating:I}),[j,I]),H=g.useMemo(()=>{const M={position:n,left:0,top:0};if(!$.floating)return M;const z=ZE($.floating,d.x),K=ZE($.floating,d.y);return l?{...M,transform:"translate("+z+"px, "+K+"px)",...h2($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:K}},[n,l,$.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:P,refs:L,elements:$,floatingStyles:H}),[d,P,L,$,H])}const LB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JE({element:r.current,padding:s}).fn(n):{}:r?JE({element:r,padding:s}).fn(n):{}}}},VB=(t,e)=>({...NB(t),options:[t,e]}),FB=(t,e)=>({...kB(t),options:[t,e]}),zB=(t,e)=>({...IB(t),options:[t,e]}),UB=(t,e)=>({...jB(t),options:[t,e]}),BB=(t,e)=>({...PB(t),options:[t,e]}),$B=(t,e)=>({...AB(t),options:[t,e]}),qB=(t,e)=>({...LB(t),options:[t,e]});var WB="Arrow",f2=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return a.jsx(Be.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});f2.displayName=WB;var HB=f2;function GB(t){const[e,n]=g.useState(void 0);return Cn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Hw="Popper",[p2,Tc]=eo(Hw),[KB,m2]=p2(Hw),g2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return a.jsx(KB,{scope:e,anchor:r,onAnchorChange:s,children:n})};g2.displayName=Hw;var v2="PopperAnchor",x2=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=m2(v2,n),i=g.useRef(null),l=pt(e,i),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:a.jsx(Be.div,{...s,ref:l})});x2.displayName=v2;var Gw="PopperContent",[YB,QB]=p2(Gw),y2=g.forwardRef((t,e)=>{var de,Pe,Ye,q,he,te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:x,...y}=t,E=m2(Gw,n),[_,v]=g.useState(null),b=pt(e,Ae=>v(Ae)),[j,I]=g.useState(null),V=GB(j),S=(V==null?void 0:V.width)??0,T=(V==null?void 0:V.height)??0,A=r+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],k=N.length>0,P={padding:R,boundary:N.filter(JB),altBoundary:k},{refs:D,floatingStyles:L,placement:$,isPositioned:H,middlewareData:M}=MB({strategy:"fixed",placement:A,whileElementsMounted:(...Ae)=>TB(...Ae,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[VB({mainAxis:s+T,alignmentAxis:i}),c&&FB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zB():void 0,...P}),c&&UB({...P}),BB({...P,apply:({elements:Ae,rects:Ve,availableWidth:Qe,availableHeight:nt})=>{const{width:rt,height:ft}=Ve.reference,F=Ae.floating.style;F.setProperty("--radix-popper-available-width",`${Qe}px`),F.setProperty("--radix-popper-available-height",`${nt}px`),F.setProperty("--radix-popper-anchor-width",`${rt}px`),F.setProperty("--radix-popper-anchor-height",`${ft}px`)}}),j&&qB({element:j,padding:l}),ZB({arrowWidth:S,arrowHeight:T}),p&&$B({strategy:"referenceHidden",...P})]}),[z,K]=_2($),X=Kr(x);Cn(()=>{H&&(X==null||X())},[H,X]);const ce=(de=M.arrow)==null?void 0:de.x,ue=(Pe=M.arrow)==null?void 0:Pe.y,ge=((Ye=M.arrow)==null?void 0:Ye.centerOffset)!==0,[We,je]=g.useState();return Cn(()=>{_&&je(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:H?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(q=M.transformOrigin)==null?void 0:q.x,(he=M.transformOrigin)==null?void 0:he.y].join(" "),...((te=M.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(YB,{scope:n,placedSide:z,onArrowChange:I,arrowX:ce,arrowY:ue,shouldHideArrow:ge,children:a.jsx(Be.div,{"data-side":z,"data-align":K,...y,ref:b,style:{...y.style,animation:H?void 0:"none"}})})})});y2.displayName=Gw;var w2="PopperArrow",XB={top:"bottom",right:"left",bottom:"top",left:"right"},b2=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=QB(w2,r),i=XB[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(HB,{...s,ref:n,style:{...s.style,display:"block"}})})});b2.displayName=w2;function JB(t){return t!==null}var ZB=t=>({name:"transformOrigin",options:t,fn(e){var E,_,v;const{placement:n,rects:r,middlewareData:s}=e,i=((E=s.arrow)==null?void 0:E.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=_2(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",y="";return u==="bottom"?(x=i?f:`${p}px`,y=`${-c}px`):u==="top"?(x=i?f:`${p}px`,y=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,y=i?f:`${m}px`):u==="left"&&(x=`${r.floating.width+c}px`,y=i?f:`${m}px`),{data:{x,y}}}});function _2(t){const[e,n="center"]=t.split("-");return[e,n]}var S2=g2,Am=x2,Kw=y2,Yw=b2,[Im,ine]=eo("Tooltip",[Tc]),Qw=Tc(),e$="TooltipProvider",eC="tooltip.open",[ane,E2]=Im(e$),C2="Tooltip",[lne,Rm]=Im(C2),Tx="TooltipTrigger",t$=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Rm(Tx,n),o=E2(Tx,n),i=Qw(n),l=g.useRef(null),c=pt(e,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Am,{asChild:!0,...i,children:a.jsx(Be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Te(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Te(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Te(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Te(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Te(t.onBlur,s.onClose),onClick:Te(t.onClick,s.onClose)})})});t$.displayName=Tx;var n$="TooltipPortal",[cne,r$]=Im(n$,{forceMount:void 0}),ac="TooltipContent",T2=g.forwardRef((t,e)=>{const n=r$(ac,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=Rm(ac,t.__scopeTooltip);return a.jsx(Mo,{present:r||i.open,children:i.disableHoverableContent?a.jsx(N2,{side:s,...o,ref:e}):a.jsx(s$,{side:s,...o,ref:e})})}),s$=g.forwardRef((t,e)=>{const n=Rm(ac,t.__scopeTooltip),r=E2(ac,t.__scopeTooltip),s=g.useRef(null),o=pt(e,s),[i,l]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=g.useCallback(()=>{l(null),f(!1)},[f]),m=g.useCallback((x,y)=>{const E=x.currentTarget,_={x:x.clientX,y:x.clientY},v=c$(_,E.getBoundingClientRect()),b=u$(_,v),j=d$(y.getBoundingClientRect()),I=f$([...b,...j]);l(I),f(!0)},[f]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(c&&d){const x=E=>m(E,d),y=E=>m(E,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",y)}}},[c,d,m,p]),g.useEffect(()=>{if(i){const x=y=>{const E=y.target,_={x:y.clientX,y:y.clientY},v=(c==null?void 0:c.contains(E))||(d==null?void 0:d.contains(E)),b=!h$(_,i);v?p():b&&(p(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,i,u,p]),a.jsx(N2,{...t,ref:o})}),[o$,i$]=Im(C2,{isInside:!1}),a$=M9("TooltipContent"),N2=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,c=Rm(ac,n),u=Qw(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(eC,d),()=>document.removeEventListener(eC,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Sc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Kw,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(a$,{children:r}),a.jsx(o$,{scope:n,isInside:!0,children:a.jsx(aU,{id:c.contentId,role:"tooltip",children:s||r})})]})})});T2.displayName=ac;var k2="TooltipArrow",l$=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Qw(n);return i$(k2,n).isInside?null:a.jsx(Yw,{...s,...r,ref:e})});l$.displayName=k2;function c$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function u$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function d$(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function h$(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o],c=e[i],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function f$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),p$(e)}function p$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var j2=T2;const m$=Re.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(j2,{ref:r,sideOffset:e,className:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));m$.displayName=j2.displayName;var Sv="focusScope.autoFocusOnMount",Ev="focusScope.autoFocusOnUnmount",tC={bubbles:!1,cancelable:!0},g$="FocusScope",Dm=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[l,c]=g.useState(null),u=Kr(s),d=Kr(o),f=g.useRef(null),p=pt(e,y=>c(y)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(b){if(m.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:Xo(f.current,{select:!0})},E=function(b){if(m.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Xo(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const I of b)I.removedNodes.length>0&&Xo(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const v=new MutationObserver(_);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),v.disconnect()}}},[r,l,m.paused]),g.useEffect(()=>{if(l){rC.add(m);const y=document.activeElement;if(!l.contains(y)){const _=new CustomEvent(Sv,tC);l.addEventListener(Sv,u),l.dispatchEvent(_),_.defaultPrevented||(v$(_$(P2(l)),{select:!0}),document.activeElement===y&&Xo(l))}return()=>{l.removeEventListener(Sv,u),setTimeout(()=>{const _=new CustomEvent(Ev,tC);l.addEventListener(Ev,d),l.dispatchEvent(_),_.defaultPrevented||Xo(y??document.body,{select:!0}),l.removeEventListener(Ev,d),rC.remove(m)},0)}}},[l,u,d,m]);const x=g.useCallback(y=>{if(!n&&!r||m.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(E&&_){const v=y.currentTarget,[b,j]=x$(v);b&&j?!y.shiftKey&&_===j?(y.preventDefault(),n&&Xo(b,{select:!0})):y.shiftKey&&_===b&&(y.preventDefault(),n&&Xo(j,{select:!0})):_===v&&y.preventDefault()}},[n,r,m.paused]);return a.jsx(Be.div,{tabIndex:-1,...i,ref:p,onKeyDown:x})});Dm.displayName=g$;function v$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Xo(r,{select:e}),document.activeElement!==n)return}function x$(t){const e=P2(t),n=nC(e,t),r=nC(e.reverse(),t);return[n,r]}function P2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nC(t,e){for(const n of t)if(!y$(n,{upTo:e}))return n}function y$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function w$(t){return t instanceof HTMLInputElement&&"select"in t}function Xo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&w$(t)&&e&&t.select()}}var rC=b$();function b$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sC(t,e),t.unshift(e)},remove(e){var n;t=sC(t,e),(n=t[0])==null||n.resume()}}}function sC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _$(t){return t.filter(e=>e.tagName!=="A")}var Cv=0;function Xw(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??oC()),document.body.insertAdjacentElement("beforeend",t[1]??oC()),Cv++,()=>{Cv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cv--}},[])}function oC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ls=function(){return Ls=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ls.apply(this,arguments)};function A2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Za(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function S$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ef="right-scroll-bar-position",Cf="width-before-scroll-bar",E$="with-scroll-bars-hidden",C$="--removed-body-scroll-bar-size";function Tv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function T$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var N$=typeof window<"u"?g.useLayoutEffect:g.useEffect,iC=new WeakMap;function k$(t,e){var n=T$(e||null,function(r){return t.forEach(function(s){return Tv(s,r)})});return N$(function(){var r=iC.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(l){o.has(l)||Tv(l,null)}),o.forEach(function(l){s.has(l)||Tv(l,i)})}iC.set(n,t)},[t]),n}function j$(t){return t}function P$(t,e){e===void 0&&(e=j$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function A$(t){t===void 0&&(t={});var e=P$(null);return e.options=Ls({async:!0,ssr:!1},t),e}var I2=function(t){var e=t.sideCar,n=A2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Ls({},n))};I2.isSideCarExport=!0;function I$(t,e){return t.useMedium(e),I2}var R2=A$(),Nv=function(){},Om=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Nv,onWheelCapture:Nv,onTouchMoveCapture:Nv}),s=r[0],o=r[1],i=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,x=t.noIsolation,y=t.inert,E=t.allowPinchZoom,_=t.as,v=_===void 0?"div":_,b=t.gapMode,j=A2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=p,V=k$([n,e]),S=Ls(Ls({},j),s);return g.createElement(g.Fragment,null,d&&g.createElement(I,{sideCar:R2,removeScrollBar:u,shards:f,noRelative:m,noIsolation:x,inert:y,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:b}),i?g.cloneElement(g.Children.only(l),Ls(Ls({},S),{ref:V})):g.createElement(v,Ls({},S,{className:c,ref:V}),l))});Om.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Om.classNames={fullWidth:Cf,zeroRight:Ef};var aC,R$=function(){if(aC)return aC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=R$();return e&&t.setAttribute("nonce",e),t}function O$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function M$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var L$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=D$())&&(O$(e,n),M$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},V$=function(){var t=L$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},D2=function(){var t=V$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},F$={left:0,top:0,right:0,gap:0},kv=function(t){return parseInt(t||"",10)||0},z$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[kv(n),kv(r),kv(s)]},U$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return F$;var e=z$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},B$=D2(),Wl="data-scroll-locked",$$=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(E$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ef,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Cf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ef," .").concat(Ef,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(C$,": ").concat(l,`px;
  }
`)},lC=function(){var t=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(t)?t:0},q$=function(){g.useEffect(function(){return document.body.setAttribute(Wl,(lC()+1).toString()),function(){var t=lC()-1;t<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,t.toString())}},[])},W$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;q$();var o=g.useMemo(function(){return U$(s)},[s]);return g.createElement(B$,{styles:$$(o,!e,s,n?"":"!important")})},Nx=!1;if(typeof window<"u")try{var qh=Object.defineProperty({},"passive",{get:function(){return Nx=!0,!0}});window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{Nx=!1}var ll=Nx?{passive:!1}:!1,H$=function(t){return t.tagName==="TEXTAREA"},O2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!H$(t)&&n[e]==="visible")},G$=function(t){return O2(t,"overflowY")},K$=function(t){return O2(t,"overflowX")},cC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=M2(t,r);if(s){var o=L2(t,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Y$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Q$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},M2=function(t,e){return t==="v"?G$(e):K$(e)},L2=function(t,e){return t==="v"?Y$(e):Q$(e)},X$=function(t,e){return t==="h"&&e==="rtl"?-1:1},J$=function(t,e,n,r,s){var o=X$(t,window.getComputedStyle(e).direction),i=o*r,l=n.target,c=e.contains(l),u=!1,d=i>0,f=0,p=0;do{if(!l)break;var m=L2(t,l),x=m[0],y=m[1],E=m[2],_=y-E-o*x;(x||_)&&M2(t,l)&&(f+=_,p+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(p)<1||!s&&-i>p))&&(u=!0),u},Wh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uC=function(t){return[t.deltaX,t.deltaY]},dC=function(t){return t&&"current"in t?t.current:t},Z$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},t8=0,cl=[];function n8(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(t8++)[0],o=g.useState(D2)[0],i=g.useRef(t);g.useEffect(function(){i.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=S$([t.lockRef.current],(t.shards||[]).map(dC),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var _=Wh(y),v=n.current,b="deltaX"in y?y.deltaX:v[0]-_[0],j="deltaY"in y?y.deltaY:v[1]-_[1],I,V=y.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in y&&S==="h"&&V.type==="range")return!1;var T=cC(S,V);if(!T)return!0;if(T?I=S:(I=S==="v"?"h":"v",T=cC(S,V)),!T)return!1;if(!r.current&&"changedTouches"in y&&(b||j)&&(r.current=I),!I)return!0;var A=r.current||I;return J$(A,E,y,A==="h"?b:j,!0)},[]),c=g.useCallback(function(y){var E=y;if(!(!cl.length||cl[cl.length-1]!==o)){var _="deltaY"in E?uC(E):Wh(E),v=e.current.filter(function(I){return I.name===E.type&&(I.target===E.target||E.target===I.shadowParent)&&Z$(I.delta,_)})[0];if(v&&v.should){E.cancelable&&E.preventDefault();return}if(!v){var b=(i.current.shards||[]).map(dC).filter(Boolean).filter(function(I){return I.contains(E.target)}),j=b.length>0?l(E,b[0]):!i.current.noIsolation;j&&E.cancelable&&E.preventDefault()}}},[]),u=g.useCallback(function(y,E,_,v){var b={name:y,delta:E,target:_,should:v,shadowParent:r8(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(j){return j!==b})},1)},[]),d=g.useCallback(function(y){n.current=Wh(y),r.current=void 0},[]),f=g.useCallback(function(y){u(y.type,uC(y),y.target,l(y,t.lockRef.current))},[]),p=g.useCallback(function(y){u(y.type,Wh(y),y.target,l(y,t.lockRef.current))},[]);g.useEffect(function(){return cl.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ll),document.addEventListener("touchmove",c,ll),document.addEventListener("touchstart",d,ll),function(){cl=cl.filter(function(y){return y!==o}),document.removeEventListener("wheel",c,ll),document.removeEventListener("touchmove",c,ll),document.removeEventListener("touchstart",d,ll)}},[]);var m=t.removeScrollBar,x=t.inert;return g.createElement(g.Fragment,null,x?g.createElement(o,{styles:e8(s)}):null,m?g.createElement(W$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function r8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const s8=I$(R2,n8);var V2=g.forwardRef(function(t,e){return g.createElement(Om,Ls({},t,{ref:e,sideCar:s8}))});V2.classNames=Om.classNames;const Jw=V2;var o8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ul=new WeakMap,Hh=new WeakMap,Gh={},jv=0,F2=function(t){return t&&(t.host||F2(t.parentNode))},i8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=F2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},a8=function(t,e,n,r){var s=i8(e,Array.isArray(t)?t:[t]);Gh[n]||(Gh[n]=new WeakMap);var o=Gh[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var m=p.getAttribute(r),x=m!==null&&m!=="false",y=(ul.get(p)||0)+1,E=(o.get(p)||0)+1;ul.set(p,y),o.set(p,E),i.push(p),y===1&&x&&Hh.set(p,!0),E===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),l.clear(),jv++,function(){i.forEach(function(f){var p=ul.get(f)-1,m=o.get(f)-1;ul.set(f,p),o.set(f,m),p||(Hh.has(f)||f.removeAttribute(r),Hh.delete(f)),m||f.removeAttribute(n)}),jv--,jv||(ul=new WeakMap,ul=new WeakMap,Hh=new WeakMap,Gh={})}},Zw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||o8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),a8(r,s,n,"aria-hidden")):function(){return null}},Mm="Dialog",[z2,une]=eo(Mm),[l8,Cs]=z2(Mm),U2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,l=g.useRef(null),c=g.useRef(null),[u,d]=Oa({prop:r,defaultProp:s??!1,onChange:o,caller:Mm});return a.jsx(l8,{scope:e,triggerRef:l,contentRef:c,contentId:bo(),titleId:bo(),descriptionId:bo(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};U2.displayName=Mm;var B2="DialogTrigger",$2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(B2,n),o=pt(e,s.triggerRef);return a.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nb(s.open),...r,ref:o,onClick:Te(t.onClick,s.onOpenToggle)})});$2.displayName=B2;var eb="DialogPortal",[c8,q2]=z2(eb,{forceMount:void 0}),W2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Cs(eb,e);return a.jsx(c8,{scope:e,forceMount:n,children:g.Children.map(r,i=>a.jsx(Mo,{present:n||o.open,children:a.jsx(Fd,{asChild:!0,container:s,children:i})}))})};W2.displayName=eb;var Tp="DialogOverlay",H2=g.forwardRef((t,e)=>{const n=q2(Tp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Cs(Tp,t.__scopeDialog);return o.modal?a.jsx(Mo,{present:r||o.open,children:a.jsx(d8,{...s,ref:e})}):null});H2.displayName=Tp;var u8=Da("DialogOverlay.RemoveScroll"),d8=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(Tp,n);return a.jsx(Jw,{as:u8,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Be.div,{"data-state":nb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),La="DialogContent",G2=g.forwardRef((t,e)=>{const n=q2(La,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Cs(La,t.__scopeDialog);return a.jsx(Mo,{present:r||o.open,children:o.modal?a.jsx(h8,{...s,ref:e}):a.jsx(f8,{...s,ref:e})})});G2.displayName=La;var h8=g.forwardRef((t,e)=>{const n=Cs(La,t.__scopeDialog),r=g.useRef(null),s=pt(e,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return Zw(o)},[]),a.jsx(K2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Te(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Te(t.onFocusOutside,o=>o.preventDefault())})}),f8=g.forwardRef((t,e)=>{const n=Cs(La,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(K2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),K2=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,l=Cs(La,n),c=g.useRef(null),u=pt(e,c);return Xw(),a.jsxs(a.Fragment,{children:[a.jsx(Dm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Sc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nb(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(p8,{titleId:l.titleId}),a.jsx(g8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tb="DialogTitle",Y2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(tb,n);return a.jsx(Be.h2,{id:s.titleId,...r,ref:e})});Y2.displayName=tb;var Q2="DialogDescription",X2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(Q2,n);return a.jsx(Be.p,{id:s.descriptionId,...r,ref:e})});X2.displayName=Q2;var J2="DialogClose",Z2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(J2,n);return a.jsx(Be.button,{type:"button",...r,ref:e,onClick:Te(t.onClick,()=>s.onOpenChange(!1))})});Z2.displayName=J2;function nb(t){return t?"open":"closed"}var eI="DialogTitleWarning",[dne,tI]=U9(eI,{contentName:La,titleName:tb,docsSlug:"dialog"}),p8=({titleId:t})=>{const e=tI(eI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},m8="DialogDescriptionWarning",g8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tI(m8).contentName}}.`;return g.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},v8=U2,x8=$2,y8=W2,nI=H2,rI=G2,sI=Y2,oI=X2,w8=Z2;const Mn=v8,Tf=x8,b8=y8,iI=Re.forwardRef(({className:t,...e},n)=>a.jsx(nI,{ref:n,className:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));iI.displayName=nI.displayName;const xn=Re.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(b8,{children:[a.jsx(iI,{}),a.jsxs(rI,{ref:r,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(w8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(pr,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xn.displayName=rI.displayName;const yn=({className:t,...e})=>a.jsx("div",{className:qe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});yn.displayName="DialogHeader";const wn=Re.forwardRef(({className:t,...e},n)=>a.jsx(sI,{ref:n,className:qe("text-lg font-semibold leading-none tracking-tight",t),...e}));wn.displayName=sI.displayName;const Lm=Re.forwardRef(({className:t,...e},n)=>a.jsx(oI,{ref:n,className:qe("text-sm text-muted-foreground",t),...e}));Lm.displayName=oI.displayName;const me=Re.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));me.displayName="Input";var _8="Label",aI=g.forwardRef((t,e)=>a.jsx(Be.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aI.displayName=_8;var lI=aI;const S8=Em("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),re=Re.forwardRef(({className:t,...e},n)=>a.jsx(lI,{ref:n,className:qe(S8(),t),...e}));re.displayName=lI.displayName;const md=Re.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));md.displayName="Textarea";function hC(t,[e,n]){return Math.min(n,Math.max(e,t))}var E8=g.createContext(void 0);function rb(t){const e=g.useContext(E8);return t||e||"ltr"}function C8(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var T8=[" ","Enter","ArrowUp","ArrowDown"],N8=[" ","Enter"],Va="Select",[Vm,Fm,k8]=Mw(Va),[Nc,hne]=eo(Va,[k8,Tc]),zm=Tc(),[j8,qi]=Nc(Va),[P8,A8]=Nc(Va),cI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:m,form:x}=t,y=zm(e),[E,_]=g.useState(null),[v,b]=g.useState(null),[j,I]=g.useState(!1),V=rb(u),[S,T]=Oa({prop:r,defaultProp:s??!1,onChange:o,caller:Va}),[A,R]=Oa({prop:i,defaultProp:l,onChange:c,caller:Va}),N=g.useRef(null),k=E?x||!!E.closest("form"):!0,[P,D]=g.useState(new Set),L=Array.from(P).map($=>$.props.value).join(";");return a.jsx(S2,{...y,children:a.jsxs(j8,{required:m,scope:e,trigger:E,onTriggerChange:_,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:I,contentId:bo(),value:A,onValueChange:R,open:S,onOpenChange:T,dir:V,triggerPointerDownPosRef:N,disabled:p,children:[a.jsx(Vm.Provider,{scope:e,children:a.jsx(P8,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback($=>{D(H=>new Set(H).add($))},[]),onNativeOptionRemove:g.useCallback($=>{D(H=>{const M=new Set(H);return M.delete($),M})},[]),children:n})}),k?a.jsxs(RI,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:$=>R($.target.value),disabled:p,form:x,children:[A===void 0?a.jsx("option",{value:""}):null,Array.from(P)]},L):null]})})};cI.displayName=Va;var uI="SelectTrigger",dI=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=zm(n),i=qi(uI,n),l=i.disabled||r,c=pt(e,i.onTriggerChange),u=Fm(n),d=g.useRef("touch"),[f,p,m]=OI(y=>{const E=u().filter(b=>!b.disabled),_=E.find(b=>b.value===i.value),v=MI(E,y,_);v!==void 0&&i.onValueChange(v.value)}),x=y=>{l||(i.onOpenChange(!0),m()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(Am,{asChild:!0,...o,children:a.jsx(Be.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":DI(i.value)?"":void 0,...s,ref:c,onClick:Te(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&x(y)}),onPointerDown:Te(s.onPointerDown,y=>{d.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Te(s.onKeyDown,y=>{const E=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(E&&y.key===" ")&&T8.includes(y.key)&&(x(),y.preventDefault())})})})});dI.displayName=uI;var hI="SelectValue",fI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=t,c=qi(hI,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=pt(e,c.onValueNodeChange);return Cn(()=>{u(d)},[u,d]),a.jsx(Be.span,{...l,ref:f,style:{pointerEvents:"none"},children:DI(c.value)?a.jsx(a.Fragment,{children:i}):o})});fI.displayName=hI;var I8="SelectIcon",pI=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(Be.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});pI.displayName=I8;var R8="SelectPortal",mI=t=>a.jsx(Fd,{asChild:!0,...t});mI.displayName=R8;var Fa="SelectContent",gI=g.forwardRef((t,e)=>{const n=qi(Fa,t.__scopeSelect),[r,s]=g.useState();if(Cn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Es.createPortal(a.jsx(vI,{scope:t.__scopeSelect,children:a.jsx(Vm.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),o):null}return a.jsx(xI,{...t,ref:e})});gI.displayName=Fa;var ss=10,[vI,Wi]=Nc(Fa),D8="SelectContentImpl",O8=Da("SelectContent.RemoveScroll"),xI=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:x,hideWhenDetached:y,avoidCollisions:E,..._}=t,v=qi(Fa,n),[b,j]=g.useState(null),[I,V]=g.useState(null),S=pt(e,de=>j(de)),[T,A]=g.useState(null),[R,N]=g.useState(null),k=Fm(n),[P,D]=g.useState(!1),L=g.useRef(!1);g.useEffect(()=>{if(b)return Zw(b)},[b]),Xw();const $=g.useCallback(de=>{const[Pe,...Ye]=k().map(te=>te.ref.current),[q]=Ye.slice(-1),he=document.activeElement;for(const te of de)if(te===he||(te==null||te.scrollIntoView({block:"nearest"}),te===Pe&&I&&(I.scrollTop=0),te===q&&I&&(I.scrollTop=I.scrollHeight),te==null||te.focus(),document.activeElement!==he))return},[k,I]),H=g.useCallback(()=>$([T,b]),[$,T,b]);g.useEffect(()=>{P&&H()},[P,H]);const{onOpenChange:M,triggerPointerDownPosRef:z}=v;g.useEffect(()=>{if(b){let de={x:0,y:0};const Pe=q=>{var he,te;de={x:Math.abs(Math.round(q.pageX)-(((he=z.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(q.pageY)-(((te=z.current)==null?void 0:te.y)??0))}},Ye=q=>{de.x<=10&&de.y<=10?q.preventDefault():b.contains(q.target)||M(!1),document.removeEventListener("pointermove",Pe),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[b,M,z]),g.useEffect(()=>{const de=()=>M(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[M]);const[K,X]=OI(de=>{const Pe=k().filter(he=>!he.disabled),Ye=Pe.find(he=>he.ref.current===document.activeElement),q=MI(Pe,de,Ye);q&&setTimeout(()=>q.ref.current.focus())}),ce=g.useCallback((de,Pe,Ye)=>{const q=!L.current&&!Ye;(v.value!==void 0&&v.value===Pe||q)&&(A(de),q&&(L.current=!0))},[v.value]),ue=g.useCallback(()=>b==null?void 0:b.focus(),[b]),ge=g.useCallback((de,Pe,Ye)=>{const q=!L.current&&!Ye;(v.value!==void 0&&v.value===Pe||q)&&N(de)},[v.value]),We=r==="popper"?kx:yI,je=We===kx?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:x,hideWhenDetached:y,avoidCollisions:E}:{};return a.jsx(vI,{scope:n,content:b,viewport:I,onViewportChange:V,itemRefCallback:ce,selectedItem:T,onItemLeave:ue,itemTextRefCallback:ge,focusSelectedItem:H,selectedItemText:R,position:r,isPositioned:P,searchRef:K,children:a.jsx(Jw,{as:O8,allowPinchZoom:!0,children:a.jsx(Dm,{asChild:!0,trapped:v.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Te(s,de=>{var Pe;(Pe=v.trigger)==null||Pe.focus({preventScroll:!0}),de.preventDefault()}),children:a.jsx(Sc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(We,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:de=>de.preventDefault(),..._,...je,onPlaced:()=>D(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Te(_.onKeyDown,de=>{const Pe=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Pe&&de.key.length===1&&X(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let q=k().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(de.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const he=de.target,te=q.indexOf(he);q=q.slice(te+1)}setTimeout(()=>$(q)),de.preventDefault()}})})})})})})});xI.displayName=D8;var M8="SelectItemAlignedPosition",yI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=qi(Fa,n),i=Wi(Fa,n),[l,c]=g.useState(null),[u,d]=g.useState(null),f=pt(e,S=>d(S)),p=Fm(n),m=g.useRef(!1),x=g.useRef(!0),{viewport:y,selectedItem:E,selectedItemText:_,focusSelectedItem:v}=i,b=g.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&y&&E&&_){const S=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),R=_.getBoundingClientRect();if(o.dir!=="rtl"){const he=R.left-T.left,te=A.left-he,Ae=S.left-te,Ve=S.width+Ae,Qe=Math.max(Ve,T.width),nt=window.innerWidth-ss,rt=hC(te,[ss,Math.max(ss,nt-Qe)]);l.style.minWidth=Ve+"px",l.style.left=rt+"px"}else{const he=T.right-R.right,te=window.innerWidth-A.right-he,Ae=window.innerWidth-S.right-te,Ve=S.width+Ae,Qe=Math.max(Ve,T.width),nt=window.innerWidth-ss,rt=hC(te,[ss,Math.max(ss,nt-Qe)]);l.style.minWidth=Ve+"px",l.style.right=rt+"px"}const N=p(),k=window.innerHeight-ss*2,P=y.scrollHeight,D=window.getComputedStyle(u),L=parseInt(D.borderTopWidth,10),$=parseInt(D.paddingTop,10),H=parseInt(D.borderBottomWidth,10),M=parseInt(D.paddingBottom,10),z=L+$+P+M+H,K=Math.min(E.offsetHeight*5,z),X=window.getComputedStyle(y),ce=parseInt(X.paddingTop,10),ue=parseInt(X.paddingBottom,10),ge=S.top+S.height/2-ss,We=k-ge,je=E.offsetHeight/2,de=E.offsetTop+je,Pe=L+$+de,Ye=z-Pe;if(Pe<=ge){const he=N.length>0&&E===N[N.length-1].ref.current;l.style.bottom="0px";const te=u.clientHeight-y.offsetTop-y.offsetHeight,Ae=Math.max(We,je+(he?ue:0)+te+H),Ve=Pe+Ae;l.style.height=Ve+"px"}else{const he=N.length>0&&E===N[0].ref.current;l.style.top="0px";const Ae=Math.max(ge,L+y.offsetTop+(he?ce:0)+je)+Ye;l.style.height=Ae+"px",y.scrollTop=Pe-ge+y.offsetTop}l.style.margin=`${ss}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,l,u,y,E,_,o.dir,r]);Cn(()=>b(),[b]);const[j,I]=g.useState();Cn(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const V=g.useCallback(S=>{S&&x.current===!0&&(b(),v==null||v(),x.current=!1)},[b,v]);return a.jsx(V8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:V,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(Be.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});yI.displayName=M8;var L8="SelectPopperPosition",kx=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ss,...o}=t,i=zm(n);return a.jsx(Kw,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kx.displayName=L8;var[V8,sb]=Nc(Fa,{}),jx="SelectViewport",wI=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Wi(jx,n),i=sb(jx,n),l=pt(e,o.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Vm.Slot,{scope:n,children:a.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Te(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const x=window.innerHeight-ss*2,y=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),_=Math.max(y,E);if(_<x){const v=_+m,b=Math.min(x,v),j=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});wI.displayName=jx;var bI="SelectGroup",[F8,z8]=Nc(bI),U8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=bo();return a.jsx(F8,{scope:n,id:s,children:a.jsx(Be.div,{role:"group","aria-labelledby":s,...r,ref:e})})});U8.displayName=bI;var _I="SelectLabel",SI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=z8(_I,n);return a.jsx(Be.div,{id:s.id,...r,ref:e})});SI.displayName=_I;var Np="SelectItem",[B8,EI]=Nc(Np),CI=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,l=qi(Np,n),c=Wi(Np,n),u=l.value===r,[d,f]=g.useState(o??""),[p,m]=g.useState(!1),x=pt(e,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),y=bo(),E=g.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(B8,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:g.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Vm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(Be.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:Te(i.onFocus,()=>m(!0)),onBlur:Te(i.onBlur,()=>m(!1)),onClick:Te(i.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:Te(i.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:Te(i.onPointerDown,v=>{E.current=v.pointerType}),onPointerMove:Te(i.onPointerMove,v=>{var b;E.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):E.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(i.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Te(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(N8.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});CI.displayName=Np;var wu="SelectItemText",TI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=qi(wu,n),l=Wi(wu,n),c=EI(wu,n),u=A8(wu,n),[d,f]=g.useState(null),p=pt(e,_=>f(_),c.onItemTextChange,_=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,_,c.value,c.disabled)}),m=d==null?void 0:d.textContent,x=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:E}=u;return Cn(()=>(y(x),()=>E(x)),[y,E,x]),a.jsxs(a.Fragment,{children:[a.jsx(Be.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Es.createPortal(o.children,i.valueNode):null]})});TI.displayName=wu;var NI="SelectItemIndicator",kI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return EI(NI,n).isSelected?a.jsx(Be.span,{"aria-hidden":!0,...r,ref:e}):null});kI.displayName=NI;var Px="SelectScrollUpButton",jI=g.forwardRef((t,e)=>{const n=Wi(Px,t.__scopeSelect),r=sb(Px,t.__scopeSelect),[s,o]=g.useState(!1),i=pt(e,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(AI,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});jI.displayName=Px;var Ax="SelectScrollDownButton",PI=g.forwardRef((t,e)=>{const n=Wi(Ax,t.__scopeSelect),r=sb(Ax,t.__scopeSelect),[s,o]=g.useState(!1),i=pt(e,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(AI,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});PI.displayName=Ax;var AI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Wi("SelectScrollButton",n),i=g.useRef(null),l=Fm(n),c=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Cn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Te(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Te(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Te(s.onPointerLeave,()=>{c()})})}),$8="SelectSeparator",II=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Be.div,{"aria-hidden":!0,...r,ref:e})});II.displayName=$8;var Ix="SelectArrow",q8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zm(n),o=qi(Ix,n),i=Wi(Ix,n);return o.open&&i.position==="popper"?a.jsx(Yw,{...s,...r,ref:e}):null});q8.displayName=Ix;var W8="SelectBubbleInput",RI=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),o=pt(r,s),i=C8(e);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[i,e]),a.jsx(Be.select,{...n,style:{...AA,...n.style},ref:o,defaultValue:e})});RI.displayName=W8;function DI(t){return t===""||t===void 0}function OI(t){const e=Kr(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(i=>{const l=n.current+i;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function MI(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=H8(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function H8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var G8=cI,LI=dI,K8=fI,Y8=pI,Q8=mI,VI=gI,X8=wI,FI=SI,zI=CI,J8=TI,Z8=kI,UI=jI,BI=PI,$I=II;const lt=G8,ct=K8,it=Re.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(LI,{ref:r,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(Y8,{asChild:!0,children:a.jsx(hA,{className:"h-4 w-4 opacity-50"})})]}));it.displayName=LI.displayName;const qI=Re.forwardRef(({className:t,...e},n)=>a.jsx(UI,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(qz,{className:"h-4 w-4"})}));qI.displayName=UI.displayName;const WI=Re.forwardRef(({className:t,...e},n)=>a.jsx(BI,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(hA,{className:"h-4 w-4"})}));WI.displayName=BI.displayName;const at=Re.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(Q8,{children:a.jsxs(VI,{ref:s,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(qI,{}),a.jsx(X8,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(WI,{})]})}));at.displayName=VI.displayName;const e7=Re.forwardRef(({className:t,...e},n)=>a.jsx(FI,{ref:n,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));e7.displayName=FI.displayName;const ae=Re.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(zI,{ref:r,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Z8,{children:a.jsx(Bz,{className:"h-4 w-4"})})}),a.jsx(J8,{children:e})]}));ae.displayName=zI.displayName;const t7=Re.forwardRef(({className:t,...e},n)=>a.jsx($I,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",t),...e}));t7.displayName=$I.displayName;const n7=Em("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function cs({className:t,variant:e,...n}){return a.jsx("div",{className:qe(n7({variant:e}),t),...n})}const en=Re.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:qe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));en.displayName="Card";const un=Re.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:qe("flex flex-col space-y-1.5 p-6",t),...e}));un.displayName="CardHeader";const dn=Re.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:qe("text-2xl font-semibold leading-none tracking-tight",t),...e}));dn.displayName="CardTitle";const va=Re.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:qe("text-sm text-muted-foreground",t),...e}));va.displayName="CardDescription";const tn=Re.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:qe("p-6 pt-0",t),...e}));tn.displayName="CardContent";const r7=Re.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:qe("flex items-center p-6 pt-0",t),...e}));r7.displayName="CardFooter";var Pv="rovingFocusGroup.onEntryFocus",s7={bubbles:!1,cancelable:!0},Bd="RovingFocusGroup",[Rx,HI,o7]=Mw(Bd),[i7,GI]=eo(Bd,[o7]),[a7,l7]=i7(Bd),KI=g.forwardRef((t,e)=>a.jsx(Rx.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Rx.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(c7,{...t,ref:e})})}));KI.displayName=Bd;var c7=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=g.useRef(null),m=pt(e,p),x=rb(o),[y,E]=Oa({prop:i,defaultProp:l??null,onChange:c,caller:Bd}),[_,v]=g.useState(!1),b=Kr(u),j=HI(n),I=g.useRef(!1),[V,S]=g.useState(0);return g.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Pv,b),()=>T.removeEventListener(Pv,b)},[b]),a.jsx(a7,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:y,onItemFocus:g.useCallback(T=>E(T),[E]),onItemShiftTab:g.useCallback(()=>v(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>S(T=>T-1),[]),children:a.jsx(Be.div,{tabIndex:_||V===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Te(t.onMouseDown,()=>{I.current=!0}),onFocus:Te(t.onFocus,T=>{const A=!I.current;if(T.target===T.currentTarget&&A&&!_){const R=new CustomEvent(Pv,s7);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=j().filter($=>$.focusable),k=N.find($=>$.active),P=N.find($=>$.id===y),L=[k,P,...N].filter(Boolean).map($=>$.ref.current);XI(L,d)}}I.current=!1}),onBlur:Te(t.onBlur,()=>v(!1))})})}),YI="RovingFocusGroupItem",QI=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=t,c=bo(),u=o||c,d=l7(YI,n),f=d.currentTabStopId===u,p=HI(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:y}=d;return g.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),a.jsx(Rx.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(Be.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Te(t.onMouseDown,E=>{r?d.onItemFocus(u):E.preventDefault()}),onFocus:Te(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Te(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){d.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const _=h7(E,d.orientation,d.dir);if(_!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let b=p().filter(j=>j.focusable).map(j=>j.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const j=b.indexOf(E.currentTarget);b=d.loop?f7(b,j+1):b.slice(j+1)}setTimeout(()=>XI(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:y!=null}):i})})});QI.displayName=YI;var u7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function h7(t,e,n){const r=d7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return u7[r]}function XI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function f7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var p7=KI,m7=QI,Um="Tabs",[g7,fne]=eo(Um,[GI]),JI=GI(),[v7,ob]=g7(Um),ZI=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=rb(l),[f,p]=Oa({prop:r,onChange:s,defaultProp:o??"",caller:Um});return a.jsx(v7,{scope:n,baseId:bo(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:c,children:a.jsx(Be.div,{dir:d,"data-orientation":i,...u,ref:e})})});ZI.displayName=Um;var eR="TabsList",tR=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=ob(eR,n),i=JI(n);return a.jsx(p7,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(Be.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});tR.displayName=eR;var nR="TabsTrigger",rR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=ob(nR,n),l=JI(n),c=iR(i.baseId,r),u=aR(i.baseId,r),d=r===i.value;return a.jsx(m7,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:Te(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Te(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Te(t.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});rR.displayName=nR;var sR="TabsContent",oR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,l=ob(sR,n),c=iR(l.baseId,r),u=aR(l.baseId,r),d=r===l.value,f=g.useRef(d);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(Mo,{present:s||d,children:({present:p})=>a.jsx(Be.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});oR.displayName=sR;function iR(t,e){return`${t}-trigger-${e}`}function aR(t,e){return`${t}-content-${e}`}var x7=ZI,lR=tR,cR=rR,uR=oR;const za=x7,Ii=Re.forwardRef(({className:t,...e},n)=>a.jsx(lR,{ref:n,className:qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ii.displayName=lR.displayName;const rn=Re.forwardRef(({className:t,...e},n)=>a.jsx(cR,{ref:n,className:qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));rn.displayName=cR.displayName;const sn=Re.forwardRef(({className:t,...e},n)=>a.jsx(uR,{ref:n,className:qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));sn.displayName=uR.displayName;const y7=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function lc(t,e,n){const r=w7(t),{webkitRelativePath:s}=t,o=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof r.path!="string"&&fC(r,"path",o),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),fC(r,"relativePath",o),r}function w7(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),s=y7.get(r);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function fC(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const b7=[".DS_Store","Thumbs.db"];function _7(t){return Za(this,void 0,void 0,function*(){return kp(t)&&S7(t.dataTransfer)?N7(t.dataTransfer,t.type):E7(t)?C7(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?T7(t):[]})}function S7(t){return kp(t)}function E7(t){return kp(t)&&kp(t.target)}function kp(t){return typeof t=="object"&&t!==null}function C7(t){return Dx(t.target.files).map(e=>lc(e))}function T7(t){return Za(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>lc(n))})}function N7(t,e){return Za(this,void 0,void 0,function*(){if(t.items){const n=Dx(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(k7));return pC(dR(r))}return pC(Dx(t.files).map(n=>lc(n)))})}function pC(t){return t.filter(e=>b7.indexOf(e.name)===-1)}function Dx(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function k7(t){if(typeof t.webkitGetAsEntry!="function")return mC(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?hR(e):mC(t,e)}function dR(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?dR(n):[n]],[])}function mC(t,e){return Za(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const i=yield o.getFile();return i.handle=o,lc(i)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return lc(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function j7(t){return Za(this,void 0,void 0,function*(){return t.isDirectory?hR(t):P7(t)})}function hR(t){const e=t.createReader();return new Promise((n,r)=>{const s=[];function o(){e.readEntries(i=>Za(this,void 0,void 0,function*(){if(i.length){const l=Promise.all(i.map(j7));s.push(l),o()}else try{const l=yield Promise.all(s);n(l)}catch(l){r(l)}}),i=>{r(i)})}o()})}function P7(t){return Za(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const s=lc(r,t.fullPath);e(s)},r=>{n(r)})})})}var Av=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return n.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):s===l})}return!0};function gC(t){return R7(t)||I7(t)||pR(t)||A7()}function A7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R7(t){if(Array.isArray(t))return Ox(t)}function vC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(n),!0).forEach(function(r){fR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gd(t,e){return M7(t)||O7(t,e)||pR(t,e)||D7()}function D7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pR(t,e){if(t){if(typeof t=="string")return Ox(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ox(t,e)}}function Ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function M7(t){if(Array.isArray(t))return t}var L7=typeof Av=="function"?Av:Av.default,V7="file-invalid-type",F7="file-too-large",z7="file-too-small",U7="too-many-files",B7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:V7,message:"File type must be ".concat(r)}},yC=function(e){return{code:F7,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},wC=function(e){return{code:z7,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},$7={code:U7,message:"Too many files"};function mR(t,e){var n=t.type==="application/x-moz-file"||L7(t,e);return[n,n?null:B7(e)]}function gR(t,e,n){if(da(t.size))if(da(e)&&da(n)){if(t.size>n)return[!1,yC(n)];if(t.size<e)return[!1,wC(e)]}else{if(da(e)&&t.size<e)return[!1,wC(e)];if(da(n)&&t.size>n)return[!1,yC(n)]}return[!0,null]}function da(t){return t!=null}function q7(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,o=t.multiple,i=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&i>=1&&e.length>i?!1:e.every(function(c){var u=mR(c,n),d=gd(u,1),f=d[0],p=gR(c,r,s),m=gd(p,1),x=m[0],y=l?l(c):null;return f&&x&&!y})}function jp(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Kh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function bC(t){t.preventDefault()}function W7(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function H7(t){return t.indexOf("Edge/")!==-1}function G7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return W7(t)||H7(t)}function Is(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return e.some(function(l){return!jp(r)&&l&&l.apply(void 0,[r].concat(o)),jp(r)})}}function K7(){return"showOpenFilePicker"in window}function Y7(t){if(da(t)){var e=Object.entries(t).filter(function(n){var r=gd(n,2),s=r[0],o=r[1],i=!0;return vR(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(o)||!o.every(xR))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(n,r){var s=gd(r,2),o=s[0],i=s[1];return xC(xC({},n),{},fR({},o,i))},{});return[{description:"Files",accept:e}]}return t}function Q7(t){if(da(t))return Object.entries(t).reduce(function(e,n){var r=gd(n,2),s=r[0],o=r[1];return[].concat(gC(e),[s],gC(o))},[]).filter(function(e){return vR(e)||xR(e)}).join(",")}function X7(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function J7(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function vR(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function xR(t){return/^.*\.[\w]+$/.test(t)}var Z7=["children"],eq=["open"],tq=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],nq=["refKey","onChange","onClick"];function rq(t){return iq(t)||oq(t)||yR(t)||sq()}function sq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iq(t){if(Array.isArray(t))return Mx(t)}function Iv(t,e){return cq(t)||lq(t,e)||yR(t,e)||aq()}function aq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yR(t,e){if(t){if(typeof t=="string")return Mx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mx(t,e)}}function Mx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function cq(t){if(Array.isArray(t))return t}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){Lx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pp(t,e){if(t==null)return{};var n=uq(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var ib=g.forwardRef(function(t,e){var n=t.children,r=Pp(t,Z7),s=ab(r),o=s.open,i=Pp(s,eq);return g.useImperativeHandle(e,function(){return{open:o}},[o]),Re.createElement(g.Fragment,null,n(jt(jt({},i),{},{open:o})))});ib.displayName="Dropzone";var wR={disabled:!1,getFilesFromEvent:_7,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ib.defaultProps=wR;ib.propTypes={children:Ie.func,accept:Ie.objectOf(Ie.arrayOf(Ie.string)),multiple:Ie.bool,preventDropOnDocument:Ie.bool,noClick:Ie.bool,noKeyboard:Ie.bool,noDrag:Ie.bool,noDragEventsBubbling:Ie.bool,minSize:Ie.number,maxSize:Ie.number,maxFiles:Ie.number,disabled:Ie.bool,getFilesFromEvent:Ie.func,onFileDialogCancel:Ie.func,onFileDialogOpen:Ie.func,useFsAccessApi:Ie.bool,autoFocus:Ie.bool,onDragEnter:Ie.func,onDragLeave:Ie.func,onDragOver:Ie.func,onDrop:Ie.func,onDropAccepted:Ie.func,onDropRejected:Ie.func,onError:Ie.func,validator:Ie.func};var Vx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ab(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=jt(jt({},wR),t),n=e.accept,r=e.disabled,s=e.getFilesFromEvent,o=e.maxSize,i=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,x=e.onDropRejected,y=e.onFileDialogCancel,E=e.onFileDialogOpen,_=e.useFsAccessApi,v=e.autoFocus,b=e.preventDropOnDocument,j=e.noClick,I=e.noKeyboard,V=e.noDrag,S=e.noDragEventsBubbling,T=e.onError,A=e.validator,R=g.useMemo(function(){return Q7(n)},[n]),N=g.useMemo(function(){return Y7(n)},[n]),k=g.useMemo(function(){return typeof E=="function"?E:SC},[E]),P=g.useMemo(function(){return typeof y=="function"?y:SC},[y]),D=g.useRef(null),L=g.useRef(null),$=g.useReducer(dq,Vx),H=Iv($,2),M=H[0],z=H[1],K=M.isFocused,X=M.isFileDialogActive,ce=g.useRef(typeof window<"u"&&window.isSecureContext&&_&&K7()),ue=function(){!ce.current&&X&&setTimeout(function(){if(L.current){var be=L.current.files;be.length||(z({type:"closeDialog"}),P())}},300)};g.useEffect(function(){return window.addEventListener("focus",ue,!1),function(){window.removeEventListener("focus",ue,!1)}},[L,X,P,ce]);var ge=g.useRef([]),We=function(be){D.current&&D.current.contains(be.target)||(be.preventDefault(),ge.current=[])};g.useEffect(function(){return b&&(document.addEventListener("dragover",bC,!1),document.addEventListener("drop",We,!1)),function(){b&&(document.removeEventListener("dragover",bC),document.removeEventListener("drop",We))}},[D,b]),g.useEffect(function(){return!r&&v&&D.current&&D.current.focus(),function(){}},[D,v,r]);var je=g.useCallback(function(Z){T?T(Z):console.error(Z)},[T]),de=g.useCallback(function(Z){Z.preventDefault(),Z.persist(),le(Z),ge.current=[].concat(rq(ge.current),[Z.target]),Kh(Z)&&Promise.resolve(s(Z)).then(function(be){if(!(jp(Z)&&!S)){var He=be.length,wt=He>0&&q7({files:be,accept:R,minSize:i,maxSize:o,multiple:l,maxFiles:c,validator:A}),$t=He>0&&!wt;z({isDragAccept:wt,isDragReject:$t,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Z)}}).catch(function(be){return je(be)})},[s,u,je,S,R,i,o,l,c,A]),Pe=g.useCallback(function(Z){Z.preventDefault(),Z.persist(),le(Z);var be=Kh(Z);if(be&&Z.dataTransfer)try{Z.dataTransfer.dropEffect="copy"}catch{}return be&&f&&f(Z),!1},[f,S]),Ye=g.useCallback(function(Z){Z.preventDefault(),Z.persist(),le(Z);var be=ge.current.filter(function(wt){return D.current&&D.current.contains(wt)}),He=be.indexOf(Z.target);He!==-1&&be.splice(He,1),ge.current=be,!(be.length>0)&&(z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Kh(Z)&&d&&d(Z))},[D,d,S]),q=g.useCallback(function(Z,be){var He=[],wt=[];Z.forEach(function($t){var Jn=mR($t,R),Zn=Iv(Jn,2),xr=Zn[0],Ts=Zn[1],Qr=gR($t,i,o),Bn=Iv(Qr,2),Xr=Bn[0],yr=Bn[1],Xt=A?A($t):null;if(xr&&Xr&&!Xt)He.push($t);else{var er=[Ts,yr];Xt&&(er=er.concat(Xt)),wt.push({file:$t,errors:er.filter(function(Jr){return Jr})})}}),(!l&&He.length>1||l&&c>=1&&He.length>c)&&(He.forEach(function($t){wt.push({file:$t,errors:[$7]})}),He.splice(0)),z({acceptedFiles:He,fileRejections:wt,isDragReject:wt.length>0,type:"setFiles"}),p&&p(He,wt,be),wt.length>0&&x&&x(wt,be),He.length>0&&m&&m(He,be)},[z,l,R,i,o,c,p,m,x,A]),he=g.useCallback(function(Z){Z.preventDefault(),Z.persist(),le(Z),ge.current=[],Kh(Z)&&Promise.resolve(s(Z)).then(function(be){jp(Z)&&!S||q(be,Z)}).catch(function(be){return je(be)}),z({type:"reset"})},[s,q,je,S]),te=g.useCallback(function(){if(ce.current){z({type:"openDialog"}),k();var Z={multiple:l,types:N};window.showOpenFilePicker(Z).then(function(be){return s(be)}).then(function(be){q(be,null),z({type:"closeDialog"})}).catch(function(be){X7(be)?(P(be),z({type:"closeDialog"})):J7(be)?(ce.current=!1,L.current?(L.current.value=null,L.current.click()):je(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):je(be)});return}L.current&&(z({type:"openDialog"}),k(),L.current.value=null,L.current.click())},[z,k,P,_,q,je,N,l]),Ae=g.useCallback(function(Z){!D.current||!D.current.isEqualNode(Z.target)||(Z.key===" "||Z.key==="Enter"||Z.keyCode===32||Z.keyCode===13)&&(Z.preventDefault(),te())},[D,te]),Ve=g.useCallback(function(){z({type:"focus"})},[]),Qe=g.useCallback(function(){z({type:"blur"})},[]),nt=g.useCallback(function(){j||(G7()?setTimeout(te,0):te())},[j,te]),rt=function(be){return r?null:be},ft=function(be){return I?null:rt(be)},F=function(be){return V?null:rt(be)},le=function(be){S&&be.stopPropagation()},ne=g.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},be=Z.refKey,He=be===void 0?"ref":be,wt=Z.role,$t=Z.onKeyDown,Jn=Z.onFocus,Zn=Z.onBlur,xr=Z.onClick,Ts=Z.onDragEnter,Qr=Z.onDragOver,Bn=Z.onDragLeave,Xr=Z.onDrop,yr=Pp(Z,tq);return jt(jt(Lx({onKeyDown:ft(Is($t,Ae)),onFocus:ft(Is(Jn,Ve)),onBlur:ft(Is(Zn,Qe)),onClick:rt(Is(xr,nt)),onDragEnter:F(Is(Ts,de)),onDragOver:F(Is(Qr,Pe)),onDragLeave:F(Is(Bn,Ye)),onDrop:F(Is(Xr,he)),role:typeof wt=="string"&&wt!==""?wt:"presentation"},He,D),!r&&!I?{tabIndex:0}:{}),yr)}},[D,Ae,Ve,Qe,nt,de,Pe,Ye,he,I,V,r]),_e=g.useCallback(function(Z){Z.stopPropagation()},[]),ze=g.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},be=Z.refKey,He=be===void 0?"ref":be,wt=Z.onChange,$t=Z.onClick,Jn=Pp(Z,nq),Zn=Lx({accept:R,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:rt(Is(wt,he)),onClick:rt(Is($t,_e)),tabIndex:-1},He,L);return jt(jt({},Zn),Jn)}},[L,n,l,he,r]);return jt(jt({},M),{},{isFocused:K&&!r,getRootProps:ne,getInputProps:ze,rootRef:D,inputRef:L,open:rt(te)})}function dq(t,e){switch(e.type){case"focus":return jt(jt({},t),{},{isFocused:!0});case"blur":return jt(jt({},t),{},{isFocused:!1});case"openDialog":return jt(jt({},Vx),{},{isFileDialogActive:!0});case"closeDialog":return jt(jt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return jt(jt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return jt(jt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return jt({},Vx);default:return t}}function SC(){}const hq=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(i&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},_R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,l=i?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let p=(l&15)<<2|u>>6,m=u&63;c||(m=64,i||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||u==null||f==null)throw new pq;const p=o<<2|l>>4;if(r.push(p),u!==64){const m=l<<4&240|u>>2;if(r.push(m),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mq=function(t){const e=bR(t);return _R.encodeByteArray(e,!0)},Ap=function(t){return mq(t).replace(/\./g,"")},SR=function(t){try{return _R.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=()=>gq().__FIREBASE_DEFAULTS__,xq=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SR(t[1]);return e&&JSON.parse(e)},Bm=()=>{try{return hq()||vq()||xq()||yq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ER=t=>{var e,n;return(n=(e=Bm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},wq=t=>{const e=ER(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CR=()=>{var t;return(t=Bm())==null?void 0:t.config},TR=t=>{var e;return(e=Bm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[Ap(JSON.stringify(n)),Ap(JSON.stringify(i)),l].join(".")}const zu={};function Sq(){const t={prod:[],emulator:[]};for(const e of Object.keys(zu))zu[e]?t.emulator.push(e):t.prod.push(e);return t}function Eq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let EC=!1;function kR(t,e){if(typeof window>"u"||typeof document>"u"||!kc(window.location.host)||zu[t]===e||zu[t]||EC)return;zu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=Sq().prod.length>0;function i(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{EC=!0,i()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Eq(r),m=n("text"),x=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),E=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),d(E,y);const j=u();c(v,_),b.append(v,x,E,j),document.body.appendChild(b)}o?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function Tq(){var e;const t=(e=Bm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pq(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Aq(){return!Tq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iq(){try{return typeof indexedDB=="object"}catch{return!1}}function Rq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq="FirebaseError";class Lo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dq,Object.setPrototypeOf(this,Lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$d.prototype.create)}}class $d{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?Oq(o,r):"Error",l=`${this.serviceName}: ${i} (${s}).`;return new Lo(s,l,r)}}function Oq(t,e){return t.replace(Mq,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Mq=/\{\$([^}]+)}/g;function Lq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ua(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(CC(o)&&CC(i)){if(!Ua(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function CC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vq(t,e){const n=new Fq(t,e);return n.subscribe.bind(n)}class Fq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zq(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rv),s.error===void 0&&(s.error=Rv),s.complete===void 0&&(s.complete=Rv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t){return t&&t._delegate?t._delegate:t}class Ba{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($q(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&i.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Bq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bq(t){return t===la?void 0:t}function $q(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const Wq={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},Hq=Ze.INFO,Gq={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},Kq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Gq[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lb{constructor(e){this.name=e,this._logLevel=Hq,this._logHandler=Kq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const Yq=(t,e)=>e.some(n=>t instanceof n);let TC,NC;function Qq(){return TC||(TC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xq(){return NC||(NC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jR=new WeakMap,Fx=new WeakMap,PR=new WeakMap,Dv=new WeakMap,cb=new WeakMap;function Jq(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(bi(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&jR.set(n,t)}).catch(()=>{}),cb.set(e,t),e}function Zq(t){if(Fx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Fx.set(t,e)}let zx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eW(t){zx=t(zx)}function tW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ov(this),e,...n);return PR.set(r,e.sort?e.sort():[e]),bi(r)}:Xq().includes(t)?function(...e){return t.apply(Ov(this),e),bi(jR.get(this))}:function(...e){return bi(t.apply(Ov(this),e))}}function nW(t){return typeof t=="function"?tW(t):(t instanceof IDBTransaction&&Zq(t),Yq(t,Qq())?new Proxy(t,zx):t)}function bi(t){if(t instanceof IDBRequest)return Jq(t);if(Dv.has(t))return Dv.get(t);const e=nW(t);return e!==t&&(Dv.set(t,e),cb.set(e,t)),e}const Ov=t=>cb.get(t);function rW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),l=bi(i);return r&&i.addEventListener("upgradeneeded",c=>{r(bi(i.result),c.oldVersion,c.newVersion,bi(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const sW=["get","getKey","getAll","getAllKeys","count"],oW=["put","add","delete","clear"],Mv=new Map;function kC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mv.get(e))return Mv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=oW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||sW.includes(n)))return;const o=async function(i,...l){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Mv.set(e,o),o}eW(t=>({...t,get:(e,n,r)=>kC(e,n)||t.get(e,n,r),has:(e,n)=>!!kC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ux="@firebase/app",jC="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new lb("@firebase/app"),lW="@firebase/app-compat",cW="@firebase/analytics-compat",uW="@firebase/analytics",dW="@firebase/app-check-compat",hW="@firebase/app-check",fW="@firebase/auth",pW="@firebase/auth-compat",mW="@firebase/database",gW="@firebase/data-connect",vW="@firebase/database-compat",xW="@firebase/functions",yW="@firebase/functions-compat",wW="@firebase/installations",bW="@firebase/installations-compat",_W="@firebase/messaging",SW="@firebase/messaging-compat",EW="@firebase/performance",CW="@firebase/performance-compat",TW="@firebase/remote-config",NW="@firebase/remote-config-compat",kW="@firebase/storage",jW="@firebase/storage-compat",PW="@firebase/firestore",AW="@firebase/ai",IW="@firebase/firestore-compat",RW="firebase",DW="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="[DEFAULT]",OW={[Ux]:"fire-core",[lW]:"fire-core-compat",[uW]:"fire-analytics",[cW]:"fire-analytics-compat",[hW]:"fire-app-check",[dW]:"fire-app-check-compat",[fW]:"fire-auth",[pW]:"fire-auth-compat",[mW]:"fire-rtdb",[gW]:"fire-data-connect",[vW]:"fire-rtdb-compat",[xW]:"fire-fn",[yW]:"fire-fn-compat",[wW]:"fire-iid",[bW]:"fire-iid-compat",[_W]:"fire-fcm",[SW]:"fire-fcm-compat",[EW]:"fire-perf",[CW]:"fire-perf-compat",[TW]:"fire-rc",[NW]:"fire-rc-compat",[kW]:"fire-gcs",[jW]:"fire-gcs-compat",[PW]:"fire-fst",[IW]:"fire-fst-compat",[AW]:"fire-vertex","fire-js":"fire-js",[RW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new Map,MW=new Map,$x=new Map;function PC(t,e){try{t.container.addComponent(e)}catch(n){Po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cc(t){const e=t.name;if($x.has(e))return Po.debug(`There were multiple attempts to register component ${e}.`),!1;$x.set(e,t);for(const n of Ip.values())PC(n,t);for(const n of MW.values())PC(n,t);return!0}function ub(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new $d("app","Firebase",LW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=DW;function AR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Bx,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _i.create("bad-app-name",{appName:String(s)});if(n||(n=CR()),!n)throw _i.create("no-options");const o=Ip.get(s);if(o){if(Ua(n,o.options)&&Ua(r,o.config))return o;throw _i.create("duplicate-app",{appName:s})}const i=new qq(s);for(const c of $x.values())i.addComponent(c);const l=new VW(n,r,i);return Ip.set(s,l),l}function IR(t=Bx){const e=Ip.get(t);if(!e&&t===Bx&&CR())return AR();if(!e)throw _i.create("no-app",{appName:t});return e}function Si(t,e,n){let r=OW[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const i=[`Unable to register library "${r}" with version "${e}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&i.push("and"),o&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Po.warn(i.join(" "));return}cc(new Ba(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW="firebase-heartbeat-database",zW=1,vd="firebase-heartbeat-store";let Lv=null;function RR(){return Lv||(Lv=rW(FW,zW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vd)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),Lv}async function UW(t){try{const n=(await RR()).transaction(vd),r=await n.objectStore(vd).get(DR(t));return await n.done,r}catch(e){if(e instanceof Lo)Po.warn(e.message);else{const n=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Po.warn(n.message)}}}async function AC(t,e){try{const r=(await RR()).transaction(vd,"readwrite");await r.objectStore(vd).put(e,DR(t)),await r.done}catch(n){if(n instanceof Lo)Po.warn(n.message);else{const r=_i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Po.warn(r.message)}}}function DR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=1024,$W=30;class qW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=IC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>$W){const i=GW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Po.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IC(),{heartbeatsToSend:r,unsentEntries:s}=WW(this._heartbeatsCache.heartbeats),o=Ap(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Po.warn(n),""}}}function IC(){return new Date().toISOString().substring(0,10)}function WW(t,e=BW){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),RC(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),RC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iq()?Rq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RC(t){return Ap(JSON.stringify({version:2,heartbeats:t})).length}function GW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(t){cc(new Ba("platform-logger",e=>new iW(e),"PRIVATE")),cc(new Ba("heartbeat",e=>new qW(e),"PRIVATE")),Si(Ux,jC,t),Si(Ux,jC,"esm2020"),Si("fire-js","")}KW("");var DC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,OR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function A(){}A.prototype=T.prototype,S.F=T.prototype,S.prototype=new A,S.prototype.constructor=S,S.D=function(R,N,k){for(var P=Array(arguments.length-2),D=2;D<arguments.length;D++)P[D-2]=arguments[D];return T.prototype[N].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,T,A){A||(A=0);const R=Array(16);if(typeof T=="string")for(var N=0;N<16;++N)R[N]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(N=0;N<16;++N)R[N]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=S.g[0],A=S.g[1],N=S.g[2];let k=S.g[3],P;P=T+(k^A&(N^k))+R[0]+3614090360&4294967295,T=A+(P<<7&4294967295|P>>>25),P=k+(N^T&(A^N))+R[1]+3905402710&4294967295,k=T+(P<<12&4294967295|P>>>20),P=N+(A^k&(T^A))+R[2]+606105819&4294967295,N=k+(P<<17&4294967295|P>>>15),P=A+(T^N&(k^T))+R[3]+3250441966&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(k^A&(N^k))+R[4]+4118548399&4294967295,T=A+(P<<7&4294967295|P>>>25),P=k+(N^T&(A^N))+R[5]+1200080426&4294967295,k=T+(P<<12&4294967295|P>>>20),P=N+(A^k&(T^A))+R[6]+2821735955&4294967295,N=k+(P<<17&4294967295|P>>>15),P=A+(T^N&(k^T))+R[7]+4249261313&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(k^A&(N^k))+R[8]+1770035416&4294967295,T=A+(P<<7&4294967295|P>>>25),P=k+(N^T&(A^N))+R[9]+2336552879&4294967295,k=T+(P<<12&4294967295|P>>>20),P=N+(A^k&(T^A))+R[10]+4294925233&4294967295,N=k+(P<<17&4294967295|P>>>15),P=A+(T^N&(k^T))+R[11]+2304563134&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(k^A&(N^k))+R[12]+1804603682&4294967295,T=A+(P<<7&4294967295|P>>>25),P=k+(N^T&(A^N))+R[13]+4254626195&4294967295,k=T+(P<<12&4294967295|P>>>20),P=N+(A^k&(T^A))+R[14]+2792965006&4294967295,N=k+(P<<17&4294967295|P>>>15),P=A+(T^N&(k^T))+R[15]+1236535329&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(N^k&(A^N))+R[1]+4129170786&4294967295,T=A+(P<<5&4294967295|P>>>27),P=k+(A^N&(T^A))+R[6]+3225465664&4294967295,k=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(k^T))+R[11]+643717713&4294967295,N=k+(P<<14&4294967295|P>>>18),P=A+(k^T&(N^k))+R[0]+3921069994&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(N^k&(A^N))+R[5]+3593408605&4294967295,T=A+(P<<5&4294967295|P>>>27),P=k+(A^N&(T^A))+R[10]+38016083&4294967295,k=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(k^T))+R[15]+3634488961&4294967295,N=k+(P<<14&4294967295|P>>>18),P=A+(k^T&(N^k))+R[4]+3889429448&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(N^k&(A^N))+R[9]+568446438&4294967295,T=A+(P<<5&4294967295|P>>>27),P=k+(A^N&(T^A))+R[14]+3275163606&4294967295,k=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(k^T))+R[3]+4107603335&4294967295,N=k+(P<<14&4294967295|P>>>18),P=A+(k^T&(N^k))+R[8]+1163531501&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(N^k&(A^N))+R[13]+2850285829&4294967295,T=A+(P<<5&4294967295|P>>>27),P=k+(A^N&(T^A))+R[2]+4243563512&4294967295,k=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(k^T))+R[7]+1735328473&4294967295,N=k+(P<<14&4294967295|P>>>18),P=A+(k^T&(N^k))+R[12]+2368359562&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(A^N^k)+R[5]+4294588738&4294967295,T=A+(P<<4&4294967295|P>>>28),P=k+(T^A^N)+R[8]+2272392833&4294967295,k=T+(P<<11&4294967295|P>>>21),P=N+(k^T^A)+R[11]+1839030562&4294967295,N=k+(P<<16&4294967295|P>>>16),P=A+(N^k^T)+R[14]+4259657740&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(A^N^k)+R[1]+2763975236&4294967295,T=A+(P<<4&4294967295|P>>>28),P=k+(T^A^N)+R[4]+1272893353&4294967295,k=T+(P<<11&4294967295|P>>>21),P=N+(k^T^A)+R[7]+4139469664&4294967295,N=k+(P<<16&4294967295|P>>>16),P=A+(N^k^T)+R[10]+3200236656&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(A^N^k)+R[13]+681279174&4294967295,T=A+(P<<4&4294967295|P>>>28),P=k+(T^A^N)+R[0]+3936430074&4294967295,k=T+(P<<11&4294967295|P>>>21),P=N+(k^T^A)+R[3]+3572445317&4294967295,N=k+(P<<16&4294967295|P>>>16),P=A+(N^k^T)+R[6]+76029189&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(A^N^k)+R[9]+3654602809&4294967295,T=A+(P<<4&4294967295|P>>>28),P=k+(T^A^N)+R[12]+3873151461&4294967295,k=T+(P<<11&4294967295|P>>>21),P=N+(k^T^A)+R[15]+530742520&4294967295,N=k+(P<<16&4294967295|P>>>16),P=A+(N^k^T)+R[2]+3299628645&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(N^(A|~k))+R[0]+4096336452&4294967295,T=A+(P<<6&4294967295|P>>>26),P=k+(A^(T|~N))+R[7]+1126891415&4294967295,k=T+(P<<10&4294967295|P>>>22),P=N+(T^(k|~A))+R[14]+2878612391&4294967295,N=k+(P<<15&4294967295|P>>>17),P=A+(k^(N|~T))+R[5]+4237533241&4294967295,A=N+(P<<21&4294967295|P>>>11),P=T+(N^(A|~k))+R[12]+1700485571&4294967295,T=A+(P<<6&4294967295|P>>>26),P=k+(A^(T|~N))+R[3]+2399980690&4294967295,k=T+(P<<10&4294967295|P>>>22),P=N+(T^(k|~A))+R[10]+4293915773&4294967295,N=k+(P<<15&4294967295|P>>>17),P=A+(k^(N|~T))+R[1]+2240044497&4294967295,A=N+(P<<21&4294967295|P>>>11),P=T+(N^(A|~k))+R[8]+1873313359&4294967295,T=A+(P<<6&4294967295|P>>>26),P=k+(A^(T|~N))+R[15]+4264355552&4294967295,k=T+(P<<10&4294967295|P>>>22),P=N+(T^(k|~A))+R[6]+2734768916&4294967295,N=k+(P<<15&4294967295|P>>>17),P=A+(k^(N|~T))+R[13]+1309151649&4294967295,A=N+(P<<21&4294967295|P>>>11),P=T+(N^(A|~k))+R[4]+4149444226&4294967295,T=A+(P<<6&4294967295|P>>>26),P=k+(A^(T|~N))+R[11]+3174756917&4294967295,k=T+(P<<10&4294967295|P>>>22),P=N+(T^(k|~A))+R[2]+718787259&4294967295,N=k+(P<<15&4294967295|P>>>17),P=A+(k^(N|~T))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+k&4294967295}r.prototype.v=function(S,T){T===void 0&&(T=S.length);const A=T-this.blockSize,R=this.C;let N=this.h,k=0;for(;k<T;){if(N==0)for(;k<=A;)s(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<T;)if(R[N++]=S.charCodeAt(k++),N==this.blockSize){s(this,R),N=0;break}}else for(;k<T;)if(R[N++]=S[k++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=T},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var A=S.length-8;A<S.length;++A)S[A]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,A=0;A<4;++A)for(let R=0;R<32;R+=8)S[T++]=this.g[A]>>>R&255;return S};function o(S,T){var A=l;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=T(S)}function i(S,T){this.h=T;const A=[];let R=!0;for(let N=S.length-1;N>=0;N--){const k=S[N]|0;R&&k==T||(A[N]=k,R=!1)}this.g=A}var l={};function c(S){return-128<=S&&S<128?o(S,function(T){return new i([T|0],T<0?-1:0)}):new i([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return E(u(-S));const T=[];let A=1;for(let R=0;S>=A;R++)T[R]=S/A|0,A*=4294967296;return new i(T,0)}function d(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return E(d(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(T,8));let R=f;for(let k=0;k<S.length;k+=8){var N=Math.min(8,S.length-k);const P=parseInt(S.substring(k,k+N),T);N<8?(N=u(Math.pow(T,N)),R=R.j(N).add(u(P))):(R=R.j(A),R=R.add(u(P)))}return R}var f=c(0),p=c(1),m=c(16777216);t=i.prototype,t.m=function(){if(y(this))return-E(this).m();let S=0,T=1;for(let A=0;A<this.g.length;A++){const R=this.i(A);S+=(R>=0?R:4294967296+R)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(y(this))return"-"+E(this).toString(S);const T=u(Math.pow(S,6));var A=this;let R="";for(;;){const N=j(A,T).g;A=_(A,N.j(T));let k=((A.g.length>0?A.g[0]:A.h)>>>0).toString(S);if(A=N,x(A))return k+R;for(;k.length<6;)k="0"+k;R=k+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=_(this,S),y(S)?-1:x(S)?0:1};function E(S){const T=S.g.length,A=[];for(let R=0;R<T;R++)A[R]=~S.g[R];return new i(A,~S.h).add(p)}t.abs=function(){return y(this)?E(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),A=[];let R=0;for(let N=0;N<=T;N++){let k=R+(this.i(N)&65535)+(S.i(N)&65535),P=(k>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);R=P>>>16,k&=65535,P&=65535,A[N]=P<<16|k}return new i(A,A[A.length-1]&-2147483648?-1:0)};function _(S,T){return S.add(E(T))}t.j=function(S){if(x(this)||x(S))return f;if(y(this))return y(S)?E(this).j(E(S)):E(E(this).j(S));if(y(S))return E(this.j(E(S)));if(this.l(m)<0&&S.l(m)<0)return u(this.m()*S.m());const T=this.g.length+S.g.length,A=[];for(var R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<S.g.length;N++){const k=this.i(R)>>>16,P=this.i(R)&65535,D=S.i(N)>>>16,L=S.i(N)&65535;A[2*R+2*N]+=P*L,v(A,2*R+2*N),A[2*R+2*N+1]+=k*L,v(A,2*R+2*N+1),A[2*R+2*N+1]+=P*D,v(A,2*R+2*N+1),A[2*R+2*N+2]+=k*D,v(A,2*R+2*N+2)}for(S=0;S<T;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=T;S<2*T;S++)A[S]=0;return new i(A,0)};function v(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function b(S,T){this.g=S,this.h=T}function j(S,T){if(x(T))throw Error("division by zero");if(x(S))return new b(f,f);if(y(S))return T=j(E(S),T),new b(E(T.g),E(T.h));if(y(T))return T=j(S,E(T)),new b(E(T.g),T.h);if(S.g.length>30){if(y(S)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var A=p,R=T;R.l(S)<=0;)A=I(A),R=I(R);var N=V(A,1),k=V(R,1);for(R=V(R,2),A=V(A,2);!x(R);){var P=k.add(R);P.l(S)<=0&&(N=N.add(A),k=P),R=V(R,1),A=V(A,1)}return T=_(S,N.j(T)),new b(N,T)}for(N=f;S.l(T)>=0;){for(A=Math.max(1,Math.floor(S.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),k=u(A),P=k.j(T);y(P)||P.l(S)>0;)A-=R,k=u(A),P=k.j(T);x(k)&&(k=p),N=N.add(k),S=_(S,P)}return new b(N,S)}t.B=function(S){return j(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<T;R++)A[R]=this.i(R)&S.i(R);return new i(A,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<T;R++)A[R]=this.i(R)|S.i(R);return new i(A,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<T;R++)A[R]=this.i(R)^S.i(R);return new i(A,this.h^S.h)};function I(S){const T=S.g.length+1,A=[];for(let R=0;R<T;R++)A[R]=S.i(R)<<1|S.i(R-1)>>>31;return new i(A,S.h)}function V(S,T){const A=T>>5;T%=32;const R=S.g.length-A,N=[];for(let k=0;k<R;k++)N[k]=T>0?S.i(k+A)>>>T|S.i(k+A+1)<<32-T:S.i(k+A);return new i(N,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,OR=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,Ei=i}).apply(typeof DC<"u"?DC:typeof self<"u"?self:typeof window<"u"?window:{});var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MR,bu,LR,Nf,qx,VR,FR,zR;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yh=="object"&&Yh];for(var w=0;w<h.length;++w){var C=h[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(h,w){if(w)e:{var C=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var W=h[O];if(!(W in C))break e;C=C[W]}h=h[h.length-1],O=C[h],w=w(O),w!=O&&w!=null&&e(C,h,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(w){var C=[],O;for(O in w)Object.prototype.hasOwnProperty.call(w,O)&&C.push([O,w[O]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},i=this||self;function l(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function c(h,w,C){return h.call.apply(h.bind,arguments)}function u(h,w,C){return u=c,u.apply(null,arguments)}function d(h,w){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function f(h,w){function C(){}C.prototype=w.prototype,h.Z=w.prototype,h.prototype=new C,h.prototype.constructor=h,h.Ob=function(O,W,G){for(var pe=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)pe[Ge-2]=arguments[Ge];return w.prototype[W].apply(O,pe)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function m(h){const w=h.length;if(w>0){const C=Array(w);for(let O=0;O<w;O++)C[O]=h[O];return C}return[]}function x(h,w){for(let O=1;O<arguments.length;O++){const W=arguments[O];var C=typeof W;if(C=C!="object"?C:W?Array.isArray(W)?"array":C:"null",C=="array"||C=="object"&&typeof W.length=="number"){C=h.length||0;const G=W.length||0;h.length=C+G;for(let pe=0;pe<G;pe++)h[C+pe]=W[pe]}else h.push(W)}}class y{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function E(h){i.setTimeout(()=>{throw h},0)}function _(){var h=S;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class v{constructor(){this.h=this.g=null}add(w,C){const O=b.get();O.set(w,C),this.h?this.h.next=O:this.g=O,this.h=O}}var b=new y(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let I,V=!1,S=new v,T=()=>{const h=Promise.resolve(void 0);I=()=>{h.then(A)}};function A(){for(var h;h=_();){try{h.h.call(h.g)}catch(C){E(C)}var w=b;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}V=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const C=()=>{};i.addEventListener("test",C,w),i.removeEventListener("test",C,w)}catch{}return h}();function P(h){return/^[\s\xa0]*$/.test(h)}function D(h,w){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}f(D,N),D.prototype.init=function(h,w){const C=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(C=="mouseover"?w=h.fromElement:C=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var L="closure_listenable_"+(Math.random()*1e6|0),$=0;function H(h,w,C,O,W){this.listener=h,this.proxy=null,this.src=w,this.type=C,this.capture=!!O,this.ha=W,this.key=++$,this.da=this.fa=!1}function M(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function z(h,w,C){for(const O in h)w.call(C,h[O],O,h)}function K(h,w){for(const C in h)w.call(void 0,h[C],C,h)}function X(h){const w={};for(const C in h)w[C]=h[C];return w}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,w){let C,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(C in O)h[C]=O[C];for(let G=0;G<ce.length;G++)C=ce[G],Object.prototype.hasOwnProperty.call(O,C)&&(h[C]=O[C])}}function ge(h){this.src=h,this.g={},this.h=0}ge.prototype.add=function(h,w,C,O,W){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const pe=je(h,w,O,W);return pe>-1?(w=h[pe],C||(w.fa=!1)):(w=new H(w,this.src,G,!!O,W),w.fa=C,h.push(w)),w};function We(h,w){const C=w.type;if(C in h.g){var O=h.g[C],W=Array.prototype.indexOf.call(O,w,void 0),G;(G=W>=0)&&Array.prototype.splice.call(O,W,1),G&&(M(w),h.g[C].length==0&&(delete h.g[C],h.h--))}}function je(h,w,C,O){for(let W=0;W<h.length;++W){const G=h[W];if(!G.da&&G.listener==w&&G.capture==!!C&&G.ha==O)return W}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Pe={};function Ye(h,w,C,O,W){if(O&&O.once)return te(h,w,C,O,W);if(Array.isArray(w)){for(let G=0;G<w.length;G++)Ye(h,w[G],C,O,W);return null}return C=F(C),h&&h[L]?h.J(w,C,l(O)?!!O.capture:!!O,W):q(h,w,C,!1,O,W)}function q(h,w,C,O,W,G){if(!w)throw Error("Invalid event type");const pe=l(W)?!!W.capture:!!W;let Ge=rt(h);if(Ge||(h[de]=Ge=new ge(h)),C=Ge.add(w,C,O,pe,G),C.proxy)return C;if(O=he(),C.proxy=O,O.src=h,O.listener=C,h.addEventListener)k||(W=pe),W===void 0&&(W=!1),h.addEventListener(w.toString(),O,W);else if(h.attachEvent)h.attachEvent(Qe(w.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function he(){function h(C){return w.call(h.src,h.listener,C)}const w=nt;return h}function te(h,w,C,O,W){if(Array.isArray(w)){for(let G=0;G<w.length;G++)te(h,w[G],C,O,W);return null}return C=F(C),h&&h[L]?h.K(w,C,l(O)?!!O.capture:!!O,W):q(h,w,C,!0,O,W)}function Ae(h,w,C,O,W){if(Array.isArray(w))for(var G=0;G<w.length;G++)Ae(h,w[G],C,O,W);else O=l(O)?!!O.capture:!!O,C=F(C),h&&h[L]?(h=h.i,G=String(w).toString(),G in h.g&&(w=h.g[G],C=je(w,C,O,W),C>-1&&(M(w[C]),Array.prototype.splice.call(w,C,1),w.length==0&&(delete h.g[G],h.h--)))):h&&(h=rt(h))&&(w=h.g[w.toString()],h=-1,w&&(h=je(w,C,O,W)),(C=h>-1?w[h]:null)&&Ve(C))}function Ve(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[L])We(w.i,h);else{var C=h.type,O=h.proxy;w.removeEventListener?w.removeEventListener(C,O,h.capture):w.detachEvent?w.detachEvent(Qe(C),O):w.addListener&&w.removeListener&&w.removeListener(O),(C=rt(w))?(We(C,h),C.h==0&&(C.src=null,w[de]=null)):M(h)}}}function Qe(h){return h in Pe?Pe[h]:Pe[h]="on"+h}function nt(h,w){if(h.da)h=!0;else{w=new D(w,this);const C=h.listener,O=h.ha||h.src;h.fa&&Ve(h),h=C.call(O,w)}return h}function rt(h){return h=h[de],h instanceof ge?h:null}var ft="__closure_events_fn_"+(Math.random()*1e9>>>0);function F(h){return typeof h=="function"?h:(h[ft]||(h[ft]=function(w){return h.handleEvent(w)}),h[ft])}function le(){R.call(this),this.i=new ge(this),this.M=this,this.G=null}f(le,R),le.prototype[L]=!0,le.prototype.removeEventListener=function(h,w,C,O){Ae(this,h,w,C,O)};function ne(h,w){var C,O=h.G;if(O)for(C=[];O;O=O.G)C.push(O);if(h=h.M,O=w.type||w,typeof w=="string")w=new N(w,h);else if(w instanceof N)w.target=w.target||h;else{var W=w;w=new N(O,h),ue(w,W)}W=!0;let G,pe;if(C)for(pe=C.length-1;pe>=0;pe--)G=w.g=C[pe],W=_e(G,O,!0,w)&&W;if(G=w.g=h,W=_e(G,O,!0,w)&&W,W=_e(G,O,!1,w)&&W,C)for(pe=0;pe<C.length;pe++)G=w.g=C[pe],W=_e(G,O,!1,w)&&W}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const C=h.g[w];for(let O=0;O<C.length;O++)M(C[O]);delete h.g[w],h.h--}}this.G=null},le.prototype.J=function(h,w,C,O){return this.i.add(String(h),w,!1,C,O)},le.prototype.K=function(h,w,C,O){return this.i.add(String(h),w,!0,C,O)};function _e(h,w,C,O){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let G=0;G<w.length;++G){const pe=w[G];if(pe&&!pe.da&&pe.capture==C){const Ge=pe.listener,Jt=pe.ha||pe.src;pe.fa&&We(h.i,pe),W=Ge.call(Jt,O)!==!1&&W}}return W&&!O.defaultPrevented}function ze(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:i.setTimeout(h,w||0)}function Z(h){h.g=ze(()=>{h.g=null,h.i&&(h.i=!1,Z(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class be extends R{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Z(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function He(h){R.call(this),this.h=h,this.g={}}f(He,R);var wt=[];function $t(h){z(h.g,function(w,C){this.g.hasOwnProperty(C)&&Ve(w)},h),h.g={}}He.prototype.N=function(){He.Z.N.call(this),$t(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=i.JSON.stringify,Zn=i.JSON.parse,xr=class{stringify(h){return i.JSON.stringify(h,void 0)}parse(h){return i.JSON.parse(h,void 0)}};function Ts(){}function Qr(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xr(){N.call(this,"d")}f(Xr,N);function yr(){N.call(this,"c")}f(yr,N);var Xt={},er=null;function Jr(){return er=er||new le}Xt.Ia="serverreachability";function so(h){N.call(this,Xt.Ia,h)}f(so,N);function Ns(h){const w=Jr();ne(w,new so(w))}Xt.STAT_EVENT="statevent";function rl(h,w){N.call(this,Xt.STAT_EVENT,h),this.stat=w}f(rl,N);function Ft(h){const w=Jr();ne(w,new rl(w,h))}Xt.Ja="timingevent";function oo(h,w){N.call(this,Xt.Ja,h),this.size=w}f(oo,N);function Zr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){h()},w)}function U(){this.g=!0}U.prototype.ua=function(){this.g=!1};function se(h,w,C,O,W,G){h.info(function(){if(h.g)if(G){var pe="",Ge=G.split("&");for(let mt=0;mt<Ge.length;mt++){var Jt=Ge[mt].split("=");if(Jt.length>1){const cn=Jt[0];Jt=Jt[1];const Ps=cn.split("_");pe=Ps.length>=2&&Ps[1]=="type"?pe+(cn+"="+Jt+"&"):pe+(cn+"=redacted&")}}}else pe=null;else pe=G;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+w+`
`+C+`
`+pe})}function oe(h,w,C,O,W,G,pe){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+w+`
`+C+`
`+G+" "+pe})}function ve(h,w,C,O){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+B(h,C)+(O?" "+O:"")})}function $n(h,w){h.info(function(){return"TIMEOUT: "+w})}U.prototype.info=function(){};function B(h,w){if(!h.g)return w;if(!w)return null;try{const G=JSON.parse(w);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var C=G[h];if(!(C.length<2)){var O=C[1];if(Array.isArray(O)&&!(O.length<1)){var W=O[0];if(W!="noop"&&W!="stop"&&W!="close")for(let pe=1;pe<O.length;pe++)O[pe]=""}}}}return Jn(G)}catch{return w}}var Y={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bt;function Nn(){}f(Nn,Ts),Nn.prototype.g=function(){return new XMLHttpRequest},bt=new Nn;function ks(h){return encodeURIComponent(String(h))}function kn(h){var w=1;h=h.split(":");const C=[];for(;w>0&&h.length;)C.push(h.shift()),w--;return h.length&&C.push(h.join(":")),C}function mn(h,w,C,O){this.j=h,this.i=w,this.l=C,this.S=O||1,this.V=new He(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new es}function es(){this.i=null,this.g="",this.h=!1}var Vc={},Fc={};function vg(h,w,C){h.M=1,h.A=lh(js(w)),h.u=C,h.R=!0,T1(h,null)}function T1(h,w){h.F=Date.now(),ah(h),h.B=js(h.A);var C=h.B,O=h.S;Array.isArray(O)||(O=[String(O)]),F1(C.i,"t",O),h.C=0,C=h.j.L,h.h=new es,h.g=r_(h.j,C?w:null,!h.u),h.P>0&&(h.O=new be(u(h.Y,h,h.g),h.P)),w=h.V,C=h.g,O=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(wt[0]=W.toString()),W=wt);for(let G=0;G<W.length;G++){const pe=Ye(C,W[G],O||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=h.J?X(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),Ns(),se(h.i,h.v,h.B,h.l,h.S,h.u)}mn.prototype.ba=function(h){h=h.target;const w=this.O;w&&zo(h)==3?w.j():this.Y(h)},mn.prototype.Y=function(h){try{if(h==this.g)e:{const Ge=zo(this.g),Jt=this.g.ya(),mt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||H1(this.g)))){this.K||Ge!=4||Jt==7||(Jt==8||mt<=0?Ns(3):Ns(2)),xg(this);var w=this.g.ca();this.X=w;var C=DM(this);if(this.o=w==200,oe(this.i,this.v,this.B,this.l,this.S,Ge,w),this.o){if(this.U&&!this.L){t:{if(this.g){var O,W=this.g;if((O=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(O)){var G=O;break t}}G=null}if(h=G)ve(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yg(this,h);else{this.o=!1,this.m=3,Ft(12),Ji(this),zc(this);break e}}if(this.R){h=!0;let cn;for(;!this.K&&this.C<C.length;)if(cn=OM(this,C),cn==Fc){Ge==4&&(this.m=4,Ft(14),h=!1),ve(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==Vc){this.m=4,Ft(15),ve(this.i,this.l,C,"[Invalid Chunk]"),h=!1;break}else ve(this.i,this.l,cn,null),yg(this,cn);if(N1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||C.length!=0||this.h.h||(this.m=1,Ft(16),h=!1),this.o=this.o&&h,!h)ve(this.i,this.l,C,"[Invalid Chunked Response]"),Ji(this),zc(this);else if(C.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Ng(pe),pe.P=!0,Ft(11))}}else ve(this.i,this.l,C,null),yg(this,C);Ge==4&&Ji(this),this.o&&!this.K&&(Ge==4?Z1(this.j,this):(this.o=!1,ah(this)))}else YM(this.g),w==400&&C.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),Ji(this),zc(this)}}}catch{}finally{}};function DM(h){if(!N1(h))return h.g.la();const w=H1(h.g);if(w==="")return"";let C="";const O=w.length,W=zo(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ji(h),zc(h),"";h.h.i=new i.TextDecoder}for(let G=0;G<O;G++)h.h.h=!0,C+=h.h.i.decode(w[G],{stream:!(W&&G==O-1)});return w.length=0,h.h.g+=C,h.C=0,h.h.g}function N1(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function OM(h,w){var C=h.C,O=w.indexOf(`
`,C);return O==-1?Fc:(C=Number(w.substring(C,O)),isNaN(C)?Vc:(O+=1,O+C>w.length?Fc:(w=w.slice(O,O+C),h.C=O+C,w)))}mn.prototype.cancel=function(){this.K=!0,Ji(this)};function ah(h){h.T=Date.now()+h.H,k1(h,h.H)}function k1(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Zr(u(h.aa,h),w)}function xg(h){h.D&&(i.clearTimeout(h.D),h.D=null)}mn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?($n(this.i,this.B),this.M!=2&&(Ns(),Ft(17)),Ji(this),this.m=2,zc(this)):k1(this,this.T-h)};function zc(h){h.j.I==0||h.K||Z1(h.j,h)}function Ji(h){xg(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,$t(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function yg(h,w){try{var C=h.j;if(C.I!=0&&(C.g==h||wg(C.h,h))){if(!h.L&&wg(C.h,h)&&C.I==3){try{var O=C.Ba.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<h.F)fh(C),dh(C);else break e;Tg(C),Ft(18)}}else C.xa=W[1],0<C.xa-C.K&&W[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Zr(u(C.Va,C),6e3));A1(C.h)<=1&&C.ta&&(C.ta=void 0)}else ea(C,11)}else if((h.L||C.g==h)&&fh(C),!P(w))for(W=C.Ba.g.parse(w),w=0;w<W.length;w++){let mt=W[w];const cn=mt[0];if(!(cn<=C.K))if(C.K=cn,mt=mt[1],C.I==2)if(mt[0]=="c"){C.M=mt[1],C.ba=mt[2];const Ps=mt[3];Ps!=null&&(C.ka=Ps,C.j.info("VER="+C.ka));const ta=mt[4];ta!=null&&(C.za=ta,C.j.info("SVER="+C.za));const Uo=mt[5];Uo!=null&&typeof Uo=="number"&&Uo>0&&(O=1.5*Uo,C.O=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;const Bo=h.g;if(Bo){const mh=Bo.g?Bo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mh){var G=O.h;G.g||mh.indexOf("spdy")==-1&&mh.indexOf("quic")==-1&&mh.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(bg(G,G.h),G.h=null))}if(O.G){const kg=Bo.g?Bo.g.getResponseHeader("X-HTTP-Session-Id"):null;kg&&(O.wa=kg,_t(O.J,O.G,kg))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-h.F,C.j.info("Handshake RTT: "+C.T+"ms")),O=C;var pe=h;if(O.na=n_(O,O.L?O.ba:null,O.W),pe.L){I1(O.h,pe);var Ge=pe,Jt=O.O;Jt&&(Ge.H=Jt),Ge.D&&(xg(Ge),ah(Ge)),O.g=pe}else X1(O);C.i.length>0&&hh(C)}else mt[0]!="stop"&&mt[0]!="close"||ea(C,7);else C.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?ea(C,7):Cg(C):mt[0]!="noop"&&C.l&&C.l.qa(mt),C.A=0)}}Ns(4)}catch{}}var MM=class{constructor(h,w){this.g=h,this.map=w}};function j1(h){this.l=h||10,i.PerformanceNavigationTiming?(h=i.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function P1(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function A1(h){return h.h?1:h.g?h.g.size:0}function wg(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function bg(h,w){h.g?h.g.add(w):h.h=w}function I1(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}j1.prototype.cancel=function(){if(this.i=R1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function R1(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const C of h.g.values())w=w.concat(C.G);return w}return m(h.i)}var D1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LM(h,w){if(h){h=h.split("&");for(let C=0;C<h.length;C++){const O=h[C].indexOf("=");let W,G=null;O>=0?(W=h[C].substring(0,O),G=h[C].substring(O+1)):W=h[C],w(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Vo(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof Vo?(this.l=h.l,Uc(this,h.j),this.o=h.o,this.g=h.g,Bc(this,h.u),this.h=h.h,_g(this,z1(h.i)),this.m=h.m):h&&(w=String(h).match(D1))?(this.l=!1,Uc(this,w[1]||"",!0),this.o=$c(w[2]||""),this.g=$c(w[3]||"",!0),Bc(this,w[4]),this.h=$c(w[5]||"",!0),_g(this,w[6]||"",!0),this.m=$c(w[7]||"")):(this.l=!1,this.i=new Wc(null,this.l))}Vo.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(qc(w,O1,!0),":");var C=this.g;return(C||w=="file")&&(h.push("//"),(w=this.o)&&h.push(qc(w,O1,!0),"@"),h.push(ks(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&h.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&h.push("/"),h.push(qc(C,C.charAt(0)=="/"?zM:FM,!0))),(C=this.i.toString())&&h.push("?",C),(C=this.m)&&h.push("#",qc(C,BM)),h.join("")},Vo.prototype.resolve=function(h){const w=js(this);let C=!!h.j;C?Uc(w,h.j):C=!!h.o,C?w.o=h.o:C=!!h.g,C?w.g=h.g:C=h.u!=null;var O=h.h;if(C)Bc(w,h.u);else if(C=!!h.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var W=w.h.lastIndexOf("/");W!=-1&&(O=w.h.slice(0,W+1)+O)}if(W=O,W==".."||W==".")O="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){O=W.lastIndexOf("/",0)==0,W=W.split("/");const G=[];for(let pe=0;pe<W.length;){const Ge=W[pe++];Ge=="."?O&&pe==W.length&&G.push(""):Ge==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),O&&pe==W.length&&G.push("")):(G.push(Ge),O=!0)}O=G.join("/")}else O=W}return C?w.h=O:C=h.i.toString()!=="",C?_g(w,z1(h.i)):C=!!h.m,C&&(w.m=h.m),w};function js(h){return new Vo(h)}function Uc(h,w,C){h.j=C?$c(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Bc(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function _g(h,w,C){w instanceof Wc?(h.i=w,$M(h.i,h.l)):(C||(w=qc(w,UM)),h.i=new Wc(w,h.l))}function _t(h,w,C){h.i.set(w,C)}function lh(h){return _t(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function $c(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function qc(h,w,C){return typeof h=="string"?(h=encodeURI(h).replace(w,VM),C&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function VM(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var O1=/[#\/\?@]/g,FM=/[#\?:]/g,zM=/[#\?]/g,UM=/[#\?@]/g,BM=/#/g;function Wc(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Zi(h){h.g||(h.g=new Map,h.h=0,h.i&&LM(h.i,function(w,C){h.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}t=Wc.prototype,t.add=function(h,w){Zi(this),this.i=null,h=sl(this,h);let C=this.g.get(h);return C||this.g.set(h,C=[]),C.push(w),this.h+=1,this};function M1(h,w){Zi(h),w=sl(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function L1(h,w){return Zi(h),w=sl(h,w),h.g.has(w)}t.forEach=function(h,w){Zi(this),this.g.forEach(function(C,O){C.forEach(function(W){h.call(w,W,O,this)},this)},this)};function V1(h,w){Zi(h);let C=[];if(typeof w=="string")L1(h,w)&&(C=C.concat(h.g.get(sl(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)C=C.concat(h[w]);return C}t.set=function(h,w){return Zi(this),this.i=null,h=sl(this,h),L1(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=V1(this,h),h.length>0?String(h[0]):w):w};function F1(h,w,C){M1(h,w),C.length>0&&(h.i=null,h.g.set(sl(h,w),m(C)),h.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let O=0;O<w.length;O++){var C=w[O];const W=ks(C);C=V1(this,C);for(let G=0;G<C.length;G++){let pe=W;C[G]!==""&&(pe+="="+ks(C[G])),h.push(pe)}}return this.i=h.join("&")};function z1(h){const w=new Wc;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function sl(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function $M(h,w){w&&!h.j&&(Zi(h),h.i=null,h.g.forEach(function(C,O){const W=O.toLowerCase();O!=W&&(M1(this,O),F1(this,W,C))},h)),h.j=w}function qM(h,w){const C=new U;if(i.Image){const O=new Image;O.onload=d(Fo,C,"TestLoadImage: loaded",!0,w,O),O.onerror=d(Fo,C,"TestLoadImage: error",!1,w,O),O.onabort=d(Fo,C,"TestLoadImage: abort",!1,w,O),O.ontimeout=d(Fo,C,"TestLoadImage: timeout",!1,w,O),i.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else w(!1)}function WM(h,w){const C=new U,O=new AbortController,W=setTimeout(()=>{O.abort(),Fo(C,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:O.signal}).then(G=>{clearTimeout(W),G.ok?Fo(C,"TestPingServer: ok",!0,w):Fo(C,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),Fo(C,"TestPingServer: error",!1,w)})}function Fo(h,w,C,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(C)}catch{}}function HM(){this.g=new xr}function Sg(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Sg,Ts),Sg.prototype.g=function(){return new ch(this.i,this.h)};function ch(h,w){le.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ch,le),t=ch.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,Gc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||i).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hc(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof i.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;U1(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function U1(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Hc(this):Gc(this),this.readyState==3&&U1(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Hc(this))},t.Na=function(h){this.g&&(this.response=h,Hc(this))},t.ga=function(){this.g&&Hc(this)};function Hc(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Gc(h)}t.setRequestHeader=function(h,w){this.A.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var C=w.next();!C.done;)C=C.value,h.push(C[0]+": "+C[1]),C=w.next();return h.join(`\r
`)};function Gc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function B1(h){let w="";return z(h,function(C,O){w+=O,w+=":",w+=C,w+=`\r
`}),w}function Eg(h,w,C){e:{for(O in C){var O=!1;break e}O=!0}O||(C=B1(C),typeof h=="string"?C!=null&&ks(C):_t(h,w,C))}function Ot(h){le.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ot,le);var GM=/^https?$/i,KM=["POST","PUT"];t=Ot.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,w,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bt.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(G){$1(this,G);return}if(h=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)C.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const G of O.keys())C.set(G,O.get(G));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(G=>G.toLowerCase()=="content-type"),W=i.FormData&&h instanceof i.FormData,!(Array.prototype.indexOf.call(KM,w,void 0)>=0)||O||W||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,pe]of C)this.g.setRequestHeader(G,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){$1(this,G)}};function $1(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,q1(h),uh(h)}function q1(h){h.A||(h.A=!0,ne(h,"complete"),ne(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ne(this,"complete"),ne(this,"abort"),uh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uh(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?W1(this):this.Xa())},t.Xa=function(){W1(this)};function W1(h){if(h.h&&typeof o<"u"){if(h.v&&zo(h)==4)setTimeout(h.Ca.bind(h),0);else if(ne(h,"readystatechange"),zo(h)==4){h.h=!1;try{const G=h.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var C;if(!(C=w)){var O;if(O=G===0){let pe=String(h.D).match(D1)[1]||null;!pe&&i.self&&i.self.location&&(pe=i.self.location.protocol.slice(0,-1)),O=!GM.test(pe?pe.toLowerCase():"")}C=O}if(C)ne(h,"complete"),ne(h,"success");else{h.o=6;try{var W=zo(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",q1(h)}}finally{uh(h)}}}}function uh(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const C=h.g;h.g=null,w||ne(h,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function zo(h){return h.g?h.g.readyState:0}t.ca=function(){try{return zo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Zn(w)}};function H1(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function YM(h){const w={};h=(h.g&&zo(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(P(h[O]))continue;var C=kn(h[O]);const W=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const G=w[W]||[];w[W]=G,G.push(C)}K(w,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kc(h,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[h]||w}function G1(h){this.za=0,this.i=[],this.j=new U,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Kc("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Kc("baseRetryDelayMs",5e3,h),this.Za=Kc("retryDelaySeedMs",1e4,h),this.Ta=Kc("forwardChannelMaxRetries",2,h),this.va=Kc("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new j1(h&&h.concurrentRequestLimit),this.Ba=new HM,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=G1.prototype,t.ka=8,t.I=1,t.connect=function(h,w,C,O){Ft(0),this.W=h,this.H=w||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.J=n_(this,null,this.W),hh(this)};function Cg(h){if(K1(h),h.I==3){var w=h.V++,C=js(h.J);if(_t(C,"SID",h.M),_t(C,"RID",w),_t(C,"TYPE","terminate"),Yc(h,C),w=new mn(h,h.j,w),w.M=2,w.A=lh(js(C)),C=!1,i.navigator&&i.navigator.sendBeacon)try{C=i.navigator.sendBeacon(w.A.toString(),"")}catch{}!C&&i.Image&&(new Image().src=w.A,C=!0),C||(w.g=r_(w.j,null),w.g.ea(w.A)),w.F=Date.now(),ah(w)}t_(h)}function dh(h){h.g&&(Ng(h),h.g.cancel(),h.g=null)}function K1(h){dh(h),h.v&&(i.clearTimeout(h.v),h.v=null),fh(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&i.clearTimeout(h.m),h.m=null)}function hh(h){if(!P1(h.h)&&!h.m){h.m=!0;var w=h.Ea;I||T(),V||(I(),V=!0),S.add(w,h),h.D=0}}function QM(h,w){return A1(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Zr(u(h.Ea,h,w),e_(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new mn(this,this.j,h);let G=this.o;if(this.U&&(G?(G=X(G),ue(G,this.U)):G=this.U),this.u!==null||this.R||(W.J=G,G=null),this.S)e:{for(var w=0,C=0;C<this.i.length;C++){t:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,w>4096){w=C;break e}if(w===4096||C===this.i.length-1){w=C+1;break e}}w=1e3}else w=1e3;w=Q1(this,W,w),C=js(this.J),_t(C,"RID",h),_t(C,"CVER",22),this.G&&_t(C,"X-HTTP-Session-Id",this.G),Yc(this,C),G&&(this.R?w="headers="+ks(B1(G))+"&"+w:this.u&&Eg(C,this.u,G)),bg(this.h,W),this.Ra&&_t(C,"TYPE","init"),this.S?(_t(C,"$req",w),_t(C,"SID","null"),W.U=!0,vg(W,C,null)):vg(W,C,w),this.I=2}}else this.I==3&&(h?Y1(this,h):this.i.length==0||P1(this.h)||Y1(this))};function Y1(h,w){var C;w?C=w.l:C=h.V++;const O=js(h.J);_t(O,"SID",h.M),_t(O,"RID",C),_t(O,"AID",h.K),Yc(h,O),h.u&&h.o&&Eg(O,h.u,h.o),C=new mn(h,h.j,C,h.D+1),h.u===null&&(C.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Q1(h,C,1e3),C.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),bg(h.h,C),vg(C,O,w)}function Yc(h,w){h.H&&z(h.H,function(C,O){_t(w,O,C)}),h.l&&z({},function(C,O){_t(w,O,C)})}function Q1(h,w,C){C=Math.min(h.i.length,C);const O=h.l?u(h.l.Ka,h.l,h):null;e:{var W=h.i;let Ge=-1;for(;;){const Jt=["count="+C];Ge==-1?C>0?(Ge=W[0].g,Jt.push("ofs="+Ge)):Ge=0:Jt.push("ofs="+Ge);let mt=!0;for(let cn=0;cn<C;cn++){var G=W[cn].g;const Ps=W[cn].map;if(G-=Ge,G<0)Ge=Math.max(0,W[cn].g-100),mt=!1;else try{G="req"+G+"_"||"";try{var pe=Ps instanceof Map?Ps:Object.entries(Ps);for(const[ta,Uo]of pe){let Bo=Uo;l(Uo)&&(Bo=Jn(Uo)),Jt.push(G+ta+"="+encodeURIComponent(Bo))}}catch(ta){throw Jt.push(G+"type="+encodeURIComponent("_badmap")),ta}}catch{O&&O(Ps)}}if(mt){pe=Jt.join("&");break e}}pe=void 0}return h=h.i.splice(0,C),w.G=h,pe}function X1(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;I||T(),V||(I(),V=!0),S.add(w,h),h.A=0}}function Tg(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Zr(u(h.Da,h),e_(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,J1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Zr(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),dh(this),J1(this))};function Ng(h){h.B!=null&&(i.clearTimeout(h.B),h.B=null)}function J1(h){h.g=new mn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=js(h.na);_t(w,"RID","rpc"),_t(w,"SID",h.M),_t(w,"AID",h.K),_t(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&_t(w,"TO",h.ia),_t(w,"TYPE","xmlhttp"),Yc(h,w),h.u&&h.o&&Eg(w,h.u,h.o),h.O&&(h.g.H=h.O);var C=h.g;h=h.ba,C.M=1,C.A=lh(js(w)),C.u=null,C.R=!0,T1(C,h)}t.Va=function(){this.C!=null&&(this.C=null,dh(this),Tg(this),Ft(19))};function fh(h){h.C!=null&&(i.clearTimeout(h.C),h.C=null)}function Z1(h,w){var C=null;if(h.g==w){fh(h),Ng(h),h.g=null;var O=2}else if(wg(h.h,w))C=w.G,I1(h.h,w),O=1;else return;if(h.I!=0){if(w.o)if(O==1){C=w.u?w.u.length:0,w=Date.now()-w.F;var W=h.D;O=Jr(),ne(O,new oo(O,C)),hh(h)}else X1(h);else if(W=w.m,W==3||W==0&&w.X>0||!(O==1&&QM(h,w)||O==2&&Tg(h)))switch(C&&C.length>0&&(w=h.h,w.i=w.i.concat(C)),W){case 1:ea(h,5);break;case 4:ea(h,10);break;case 3:ea(h,6);break;default:ea(h,2)}}}function e_(h,w){let C=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(C*=2),C*w}function ea(h,w){if(h.j.info("Error code "+w),w==2){var C=u(h.bb,h),O=h.Ua;const W=!O;O=new Vo(O||"//www.google.com/images/cleardot.gif"),i.location&&i.location.protocol=="http"||Uc(O,"https"),lh(O),W?qM(O.toString(),C):WM(O.toString(),C)}else Ft(2);h.I=0,h.l&&h.l.pa(w),t_(h),K1(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function t_(h){if(h.I=0,h.ja=[],h.l){const w=R1(h.h);(w.length!=0||h.i.length!=0)&&(x(h.ja,w),x(h.ja,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.oa()}}function n_(h,w,C){var O=C instanceof Vo?js(C):new Vo(C);if(O.g!="")w&&(O.g=w+"."+O.g),Bc(O,O.u);else{var W=i.location;O=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const G=new Vo(null);O&&Uc(G,O),w&&(G.g=w),W&&Bc(G,W),C&&(G.h=C),O=G}return C=h.G,w=h.wa,C&&w&&_t(O,C,w),_t(O,"VER",h.ka),Yc(h,O),O}function r_(h,w,C){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new Ot(new Sg({ab:C})):new Ot(h.ma),w.Fa(h.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function s_(){}t=s_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ph(){}ph.prototype.g=function(h,w){return new wr(h,w)};function wr(h,w){le.call(this),this.g=new G1(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!P(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new ol(this)}f(wr,le),wr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){Cg(this.g)},wr.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var C={};C.__data__=h,h=C}else this.v&&(C={},C.__data__=Jn(h),h=C);w.i.push(new MM(w.Ya++,h)),w.I==3&&hh(w)},wr.prototype.N=function(){this.g.l=null,delete this.j,Cg(this.g),delete this.g,wr.Z.N.call(this)};function o_(h){Xr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const C in w){h=C;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}f(o_,Xr);function i_(){yr.call(this),this.status=1}f(i_,yr);function ol(h){this.g=h}f(ol,s_),ol.prototype.ra=function(){ne(this.g,"a")},ol.prototype.qa=function(h){ne(this.g,new o_(h))},ol.prototype.pa=function(h){ne(this.g,new i_)},ol.prototype.oa=function(){ne(this.g,"b")},ph.prototype.createWebChannel=ph.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,zR=function(){return new ph},FR=function(){return Jr()},VR=Xt,qx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Y.NO_ERROR=0,Y.TIMEOUT=8,Y.HTTP_ERROR=6,Nf=Y,Ce.COMPLETE="complete",LR=Ce,Qr.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",le.prototype.listen=le.prototype.J,bu=Qr,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,MR=Ot}).apply(typeof Yh<"u"?Yh:typeof self<"u"?self:typeof window<"u"?window:{});const OC="@firebase/firestore",MC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new lb("@firebase/firestore");function fl(){return $a.logLevel}function we(t,...e){if($a.logLevel<=Ze.DEBUG){const n=e.map(db);$a.debug(`Firestore (${Pc}): ${t}`,...n)}}function Ao(t,...e){if($a.logLevel<=Ze.ERROR){const n=e.map(db);$a.error(`Firestore (${Pc}): ${t}`,...n)}}function uc(t,...e){if($a.logLevel<=Ze.WARN){const n=e.map(db);$a.warn(`Firestore (${Pc}): ${t}`,...n)}}function db(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UR(t,r,n)}function UR(t,e,n){let r=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ao(r),new Error(r)}function ut(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||UR(e,s,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Lo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class QW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XW{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _o,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _o)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new BR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class JW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new JW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.m;return this.m=o.token,we("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=tH(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function Wx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Vv(s)===Vv(o)?et(s,o):Vv(s)?1:-1}return et(t.length,e.length)}const nH=55296,rH=57343;function Vv(t){const e=t.charCodeAt(0);return e>=nH&&e<=rH}function dc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="__name__";class Os{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Os.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Os?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Os.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return et(e.length,n.length)}static compareSegments(e,n){const r=Os.isNumericId(e),s=Os.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Os.extractNumericId(e).compare(Os.extractNumericId(n)):Wx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class gt extends Os{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const sH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Os{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return sH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VC}static keyField(){return new _n([VC])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new xe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new xe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(i=!i,s++):l!=="."||i?(r+=l,s++):(o(),s++)}if(o(),i)throw new xe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(gt.fromString(e))}static fromName(e){return new Ne(gt.fromString(e).popFirst(5))}static empty(){return new Ne(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e,n){if(!n)throw new xe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oH(t,e,n,r){if(e===!0&&r===!0)throw new xe(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FC(t){if(!Ne.isDocumentKey(t))throw new xe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zC(t){if(Ne.isDocumentKey(t))throw new xe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$m(t);throw new xe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wd(t,e){if(!qR(t))throw new xe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new xe(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=-62135596800,BC=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BC);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UC)throw new xe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BC}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wd(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:Yt("string",Ct._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Ct(0,0))}static max(){return new Fe(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function iH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new Ri(s,Ne.empty(),e)}function aH(t){return new Ri(t.readTime,t.key,xd)}class Ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ri(Fe.min(),Ne.empty(),xd)}static max(){return new Ri(Fe.max(),Ne.empty(),xd)}}function lH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==cH)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let s=0,o=0,i=!1;e.forEach(l=>{++s,l.next(()=>{++o,i&&o===s&&n()},c=>r(c))}),i=!0,o===s&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(s=>s?ee.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,s)=>{const o=e.length,i=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{i[u]=d,++l,l===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new ee((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function dH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=-1;function Wm(t){return t==null}function Rp(t){return t===0&&1/t==-1/0}function hH(t){return typeof t=="number"&&Number.isInteger(t)&&!Rp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="";function fH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$C(e)),e=pH(t.get(n),e);return $C(e)}function pH(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case WR:n+="";break;default:n+=o}}return n}function $C(t){return t+WR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qh(this.root,e,this.comparator,!0)}}class Qh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??vn.RED,this.left=s??vn.EMPTY,this.right=o??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new vn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WC(this.data.getIterator())}getIteratorFrom(e){return new WC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class WC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new ln(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new GR("Invalid base64 string: "+o):o}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const mH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=mH.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="server_timestamp",YR="__type__",QR="__previous_value__",XR="__local_write_time__";function pb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[YR])==null?void 0:r.stringValue)===KR}function Hm(t){const e=t.mapValue.fields[QR];return pb(e)?Hm(e):e}function yd(t){const e=Di(t.mapValue.fields[XR].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n,r,s,o,i,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Dp="(default)";class wd{constructor(e,n){this.projectId=e,this.database=n||Dp}static empty(){return new wd("","")}get isDefaultDatabase(){return this.database===Dp}isEqual(e){return e instanceof wd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="__type__",ZR="__max__",Xh={mapValue:{fields:{__type__:{stringValue:ZR}}}},eD="__vector__",Op="value";function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pb(t)?4:xH(t)?9007199254740991:vH(t)?10:11:Oe(28295,{value:t})}function Js(t,e){if(t===e)return!0;const n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yd(t).isEqual(yd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=Di(s.timestampValue),l=Di(o.timestampValue);return i.seconds===l.seconds&&i.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Oi(s.bytesValue).isEqual(Oi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return zt(s.geoPointValue.latitude)===zt(o.geoPointValue.latitude)&&zt(s.geoPointValue.longitude)===zt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return zt(s.integerValue)===zt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=zt(s.doubleValue),l=zt(o.doubleValue);return i===l?Rp(i)===Rp(l):isNaN(i)&&isNaN(l)}return!1}(t,e);case 9:return dc(t.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},l=o.mapValue.fields||{};if(qC(i)!==qC(l))return!1;for(const c in i)if(i.hasOwnProperty(c)&&(l[c]===void 0||!Js(i[c],l[c])))return!1;return!0}(t,e);default:return Oe(52216,{left:t})}}function bd(t,e){return(t.values||[]).find(n=>Js(n,e))!==void 0}function hc(t,e){if(t===e)return 0;const n=Mi(t),r=Mi(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(o,i){const l=zt(o.integerValue||o.doubleValue),c=zt(i.integerValue||i.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return HC(t.timestampValue,e.timestampValue);case 4:return HC(yd(t),yd(e));case 5:return Wx(t.stringValue,e.stringValue);case 6:return function(o,i){const l=Oi(o),c=Oi(i);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const l=o.split("/"),c=i.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=et(l[u],c[u]);if(d!==0)return d}return et(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const l=et(zt(o.latitude),zt(i.latitude));return l!==0?l:et(zt(o.longitude),zt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GC(t.arrayValue,e.arrayValue);case 10:return function(o,i){var p,m,x,y;const l=o.fields||{},c=i.fields||{},u=(p=l[Op])==null?void 0:p.arrayValue,d=(m=c[Op])==null?void 0:m.arrayValue,f=et(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return f!==0?f:GC(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===Xh.mapValue&&i===Xh.mapValue)return 0;if(o===Xh.mapValue)return 1;if(i===Xh.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=i.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=Wx(c[f],d[f]);if(p!==0)return p;const m=hc(l[c[f]],u[d[f]]);if(m!==0)return m}return et(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function HC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Di(t),r=Di(e),s=et(n.seconds,r.seconds);return s!==0?s:et(n.nanos,r.nanos)}function GC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=hc(n[s],r[s]);if(o)return o}return et(n.length,r.length)}function fc(t){return Hx(t)}function Hx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Hx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${Hx(n.fields[i])}`;return s+"}"}(t.mapValue):Oe(61005,{value:t})}function kf(t){switch(Mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hm(t);return e?16+kf(e):16;case 5:return 2*t.stringValue.length;case 6:return Oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+kf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Hi(r.fields,(o,i)=>{s+=o.length+kf(i)}),s}(t.mapValue);default:throw Oe(13486,{value:t})}}function KC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gx(t){return!!t&&"integerValue"in t}function mb(t){return!!t&&"arrayValue"in t}function YC(t){return!!t&&"nullValue"in t}function QC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jf(t){return!!t&&"mapValue"in t}function vH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[JR])==null?void 0:r.stringValue)===eD}function Uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return{...t}}function xH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=_n.emptyPath(),r={},s=[];e.forEach((i,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}i?r[l.lastSegment()]=Uu(i):s.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());jf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];jf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Hi(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new lr(Uu(this.value))}}function tD(t){const e=[];return Hi(t.fields,(n,r)=>{const s=new _n([n]);if(jf(r)){const o=tD(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r,s,o,i,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=l}static newInvalidDocument(e){return new Ln(e,0,Fe.min(),Fe.min(),Fe.min(),lr.empty(),0)}static newFoundDocument(e,n,r,s){return new Ln(e,1,n,Fe.min(),r,s,0)}static newNoDocument(e,n){return new Ln(e,2,n,Fe.min(),Fe.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,Fe.min(),Fe.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.position=e,this.inclusive=n}}function XC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=Ne.comparator(Ne.fromName(i.referenceValue),n.key):r=hc(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Js(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n="asc"){this.field=e,this.dir=n}}function yH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{}class Kt extends nD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bH(e,n,r):n==="array-contains"?new EH(e,r):n==="in"?new CH(e,r):n==="not-in"?new TH(e,r):n==="array-contains-any"?new NH(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _H(e,r):new SH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hc(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _s extends nD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _s(e,n)}matches(e){return rD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rD(t){return t.op==="and"}function sD(t){return wH(t)&&rD(t)}function wH(t){for(const e of t.filters)if(e instanceof _s)return!1;return!0}function Kx(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(sD(t))return t.filters.map(e=>Kx(e)).join(",");{const e=t.filters.map(n=>Kx(n)).join(",");return`${t.op}(${e})`}}function oD(t,e){return t instanceof Kt?function(r,s){return s instanceof Kt&&r.op===s.op&&r.field.isEqual(s.field)&&Js(r.value,s.value)}(t,e):t instanceof _s?function(r,s){return s instanceof _s&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,l)=>o&&oD(i,s.filters[l]),!0):!1}(t,e):void Oe(19439)}function iD(t){return t instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`}(t):t instanceof _s?function(n){return n.op.toString()+" {"+n.getFilters().map(iD).join(" ,")+"}"}(t):"Filter"}class bH extends Kt{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class _H extends Kt{constructor(e,n){super(e,"in",n),this.keys=aD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SH extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=aD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class EH extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mb(n)&&bd(n.arrayValue,this.value)}}class CH extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bd(this.value.arrayValue,n)}}class TH extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bd(this.value.arrayValue,n)}}class NH extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,n=null,r=[],s=[],o=null,i=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=l,this.Te=null}}function ZC(t,e=null,n=[],r=[],s=null,o=null,i=null){return new kH(t,e,n,r,s,o,i)}function gb(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fc(r)).join(",")),e.Te=n}return e.Te}function vb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JC(t.startAt,e.startAt)&&JC(t.endAt,e.endAt)}function Yx(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n=null,r=[],s=[],o=null,i="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jH(t,e,n,r,s,o,i,l){return new Rc(t,e,n,r,s,o,i,l)}function Gm(t){return new Rc(t)}function eT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lD(t){return t.collectionGroup!==null}function Bu(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let l=new ln(_n.comparator);return i.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new _d(o,r))}),n.has(_n.keyField().canonicalString())||e.Ie.push(new _d(_n.keyField(),r))}return e.Ie}function qs(t){const e=Ue(t);return e.Ee||(e.Ee=PH(e,Bu(t))),e.Ee}function PH(t,e){if(t.limitType==="F")return ZC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new _d(s.field,o)});const n=t.endAt?new Mp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mp(t.startAt.position,t.startAt.inclusive):null;return ZC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qx(t,e){const n=t.filters.concat([e]);return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xx(t,e,n){return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Km(t,e){return vb(qs(t),qs(e))&&t.limitType===e.limitType}function cD(t){return`${gb(qs(t))}|lt:${t.limitType}`}function pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>iD(s)).join(", ")}]`),Wm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fc(s)).join(",")),`Target(${r})`}(qs(t))}; limitType=${t.limitType})`}function Ym(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Bu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,l,c){const u=XC(i,l,c);return i.inclusive?u<=0:u<0}(r.startAt,Bu(r),s)||r.endAt&&!function(i,l,c){const u=XC(i,l,c);return i.inclusive?u>=0:u>0}(r.endAt,Bu(r),s))}(t,e)}function AH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uD(t){return(e,n)=>{let r=!1;for(const s of Bu(t)){const o=IH(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function IH(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(o,i,l){const c=i.data.field(o),u=l.data.field(o);return c!==null&&u!==null?hc(c,u):Oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return HR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new Dt(Ne.comparator);function Io(){return RH}const dD=new Dt(Ne.comparator);function _u(...t){let e=dD;for(const n of t)e=e.insert(n.key,n);return e}function hD(t){let e=dD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xa(){return $u()}function fD(){return $u()}function $u(){return new el(t=>t.toString(),(t,e)=>t.isEqual(e))}const DH=new Dt(Ne.comparator),OH=new ln(Ne.comparator);function tt(...t){let e=OH;for(const n of t)e=e.add(n);return e}const MH=new ln(et);function LH(){return MH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(e)?"-0":e}}function pD(t){return{integerValue:""+t}}function VH(t,e){return hH(e)?pD(e):xb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this._=void 0}}function FH(t,e,n){return t instanceof Sd?function(s,o){const i={fields:{[YR]:{stringValue:KR},[XR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&pb(o)&&(o=Hm(o)),o&&(i.fields[QR]=o),{mapValue:i}}(n,e):t instanceof Ed?gD(t,e):t instanceof Cd?vD(t,e):function(s,o){const i=mD(s,o),l=tT(i)+tT(s.Ae);return Gx(i)&&Gx(s.Ae)?pD(l):xb(s.serializer,l)}(t,e)}function zH(t,e,n){return t instanceof Ed?gD(t,e):t instanceof Cd?vD(t,e):n}function mD(t,e){return t instanceof Lp?function(r){return Gx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Sd extends Qm{}class Ed extends Qm{constructor(e){super(),this.elements=e}}function gD(t,e){const n=xD(e);for(const r of t.elements)n.some(s=>Js(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cd extends Qm{constructor(e){super(),this.elements=e}}function vD(t,e){let n=xD(e);for(const r of t.elements)n=n.filter(s=>!Js(s,r));return{arrayValue:{values:n}}}class Lp extends Qm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tT(t){return zt(t.integerValue||t.doubleValue)}function xD(t){return mb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n){this.field=e,this.transform=n}}function BH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ed&&s instanceof Ed||r instanceof Cd&&s instanceof Cd?dc(r.elements,s.elements,Js):r instanceof Lp&&s instanceof Lp?Js(r.Ae,s.Ae):r instanceof Sd&&s instanceof Sd}(t.transform,e.transform)}class $H{constructor(e,n){this.version=e,this.transformResults=n}}class xs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xs}static exists(e){return new xs(void 0,e)}static updateTime(e){return new xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xm{}function yD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yb(t.key,xs.none()):new Hd(t.key,t.data,xs.none());{const n=t.data,r=lr.empty();let s=new ln(_n.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new Gi(t.key,r,new Nr(s.toArray()),xs.none())}}function qH(t,e,n){t instanceof Hd?function(s,o,i){const l=s.value.clone(),c=rT(s.fieldTransforms,o,i.transformResults);l.setAll(c),o.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Gi?function(s,o,i){if(!Pf(s.precondition,o))return void o.convertToUnknownDocument(i.version);const l=rT(s.fieldTransforms,o,i.transformResults),c=o.data;c.setAll(wD(s)),c.setAll(l),o.convertToFoundDocument(i.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function qu(t,e,n,r){return t instanceof Hd?function(o,i,l,c){if(!Pf(o.precondition,i))return l;const u=o.value.clone(),d=sT(o.fieldTransforms,c,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gi?function(o,i,l,c){if(!Pf(o.precondition,i))return l;const u=sT(o.fieldTransforms,c,i),d=i.data;return d.setAll(wD(o)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,i,l){return Pf(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):l}(t,e,n)}function WH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=mD(r.transform,s||null);o!=null&&(n===null&&(n=lr.empty()),n.set(r.field,o))}return n||null}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&dc(r,s,(o,i)=>BH(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends Xm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gi extends Xm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rT(t,e,n){const r=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,l=e.data.field(o.field);r.set(o.field,zH(i,l,n[s]))}return r}function sT(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,FH(o,i,e))}return r}class yb extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HH extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&qH(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fD();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let l=this.applyToLocalView(i,o.mutatedFields);l=n.has(s.key)?null:l;const c=yD(i,l);c!==null&&r.set(s.key,c),i.isValidDocument()||i.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(n,r)=>nT(n,r))&&dc(this.baseMutations,e.baseMutations,(n,r)=>nT(n,r))}}class wb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return DH}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new wb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,st;function QH(t){switch(t){case J.OK:return Oe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function bD(t){if(t===void 0)return Ao("GRPC error has no .code"),J.UNKNOWN;switch(t){case qt.OK:return J.OK;case qt.CANCELLED:return J.CANCELLED;case qt.UNKNOWN:return J.UNKNOWN;case qt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case qt.INTERNAL:return J.INTERNAL;case qt.UNAVAILABLE:return J.UNAVAILABLE;case qt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case qt.NOT_FOUND:return J.NOT_FOUND;case qt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case qt.ABORTED:return J.ABORTED;case qt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case qt.DATA_LOSS:return J.DATA_LOSS;default:return Oe(39323,{code:t})}}(st=qt||(qt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH=new Ei([4294967295,4294967295],0);function oT(t){const e=XH().encode(t),n=new OR;return n.update(e),new Uint8Array(n.digest())}function iT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ei([n,r],0),new Ei([s,o],0)]}class bb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ei.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ei.fromNumber(r)));return s.compare(JH)===1&&(s=new Ei([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oT(e),[r,s]=iT(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);if(!this.we(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new bb(o,s,n);return r.forEach(l=>i.insert(l)),i}insert(e){if(this.ge===0)return;const n=oT(e),[r,s]=iT(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);this.Se(i)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jm(Fe.min(),s,new Dt(et),Io(),tt())}}class Gd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gd(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class _D{constructor(e,n){this.targetId=e,this.Ce=n}}class SD{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class aT{constructor(){this.ve=0,this.Fe=lT(),this.Me=Tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Oe(38017,{changeType:o})}}),new Gd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Io(),this.Je=Jh(),this.He=Jh(),this.Ye=new Dt(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Yx(o))if(r===0){const i=new Ne(o.path);this.et(n,i,Ln.newNoDocument(i,Fe.min()))}else ut(r===1,20013,{expectedCount:r});else{const i=this._t(n);if(i!==r){const l=this.ut(e),c=l?this.ct(l,e,i):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,l;try{i=Oi(r).toUint8Array()}catch(c){if(c instanceof GR)return uc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new bb(i,s,o)}catch(c){return uc(c instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Ge.ht(),l=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,i)=>{const l=this.ot(i);if(l){if(o.current&&Yx(l.target)){const c=new Ne(l.target.path);this.It(c).has(i)||this.Et(i,c)||this.et(i,c,Ln.newNoDocument(c,e))}o.Be&&(n.set(i,o.ke()),o.qe())}});let r=tt();this.He.forEach((o,i)=>{let l=!0;i.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.je.forEach((o,i)=>i.setReadTime(e));const s=new Jm(e,n,this.Ye,this.je,r);return this.je=Io(),this.Je=Jh(),this.He=Jh(),this.Ye=new Dt(et),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new aT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ln(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ln(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jh(){return new Dt(Ne.comparator)}function lT(){return new Dt(Ne.comparator)}const eG=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),tG=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),nG=(()=>({and:"AND",or:"OR"}))();class rG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jx(t,e){return t.useProto3Json||Wm(e)?e:{value:e}}function Vp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ED(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sG(t,e){return Vp(t,e.toTimestamp())}function Ws(t){return ut(!!t,49232),Fe.fromTimestamp(function(n){const r=Di(n);return new Ct(r.seconds,r.nanos)}(t))}function _b(t,e){return Zx(t,e).canonicalString()}function Zx(t,e){const n=function(s){return new gt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CD(t){const e=gt.fromString(t);return ut(PD(e),10190,{key:e.toString()}),e}function ey(t,e){return _b(t.databaseId,e.path)}function Fv(t,e){const n=CD(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(ND(n))}function TD(t,e){return _b(t.databaseId,e)}function oG(t){const e=CD(t);return e.length===4?gt.emptyPath():ND(e)}function ty(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ND(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cT(t,e,n){return{name:ey(t,e),fields:n.value.mapValue.fields}}function iG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(ut(d===void 0||typeof d=="string",58123),Tn.fromBase64String(d||"")):(ut(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Tn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,l=i&&function(u){const d=u.code===void 0?J.UNKNOWN:bD(u.code);return new xe(d,u.message||"")}(i);n=new SD(r,s,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Fv(t,r.document.name),o=Ws(r.document.updateTime),i=r.document.createTime?Ws(r.document.createTime):Fe.min(),l=new lr({mapValue:{fields:r.document.fields}}),c=Ln.newFoundDocument(s,o,i,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Af(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Fv(t,r.document),o=r.readTime?Ws(r.readTime):Fe.min(),i=Ln.newNoDocument(s,o),l=r.removedTargetIds||[];n=new Af([],l,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Fv(t,r.document),o=r.removedTargetIds||[];n=new Af([],o,s,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new YH(s,o),l=r.targetId;n=new _D(l,i)}}return n}function aG(t,e){let n;if(e instanceof Hd)n={update:cT(t,e.key,e.value)};else if(e instanceof yb)n={delete:ey(t,e.key)};else if(e instanceof Gi)n={update:cT(t,e.key,e.data),updateMask:gG(e.fieldMask)};else{if(!(e instanceof HH))return Oe(16599,{Vt:e.type});n={verify:ey(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const l=i.transform;if(l instanceof Sd)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ed)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Cd)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Lp)return{fieldPath:i.field.canonicalString(),increment:l.Ae};throw Oe(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:sG(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Oe(27497)}(t,e.precondition)),n}function lG(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map(n=>function(s,o){let i=s.updateTime?Ws(s.updateTime):Ws(o);return i.isEqual(Fe.min())&&(i=Ws(o)),new $H(i,s.transformResults||[])}(n,e))):[]}function cG(t,e){return{documents:[TD(t,e.path)]}}function uG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TD(t,s);const o=function(u){if(u.length!==0)return jD(_s.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:ml(p.field),direction:fG(p.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const l=Jx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function dG(t){let e=oG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ut(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const p=kD(f);return p instanceof _s&&sD(p)?p.getFilters():[p]}(n.where));let i=[];n.orderBy&&(i=function(f){return f.map(p=>function(x){return new _d(gl(x.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Wm(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,m=f.values||[];return new Mp(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new Mp(m,p)}(n.endAt)),jH(e,s,i,o,l,"F",c,u)}function hG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gl(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gl(n.unaryFilter.field);return Kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gl(n.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=gl(n.unaryFilter.field);return Kt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Kt.create(gl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _s.create(n.compositeFilter.filters.map(r=>kD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(n.compositeFilter.op))}(t):Oe(30097,{filter:t})}function fG(t){return eG[t]}function pG(t){return tG[t]}function mG(t){return nG[t]}function ml(t){return{fieldPath:t.canonicalString()}}function gl(t){return _n.fromServerFormat(t.fieldPath)}function jD(t){return t instanceof Kt?function(n){if(n.op==="=="){if(QC(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NAN"}};if(YC(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QC(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NAN"}};if(YC(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(n.field),op:pG(n.op),value:n.value}}}(t):t instanceof _s?function(n){const r=n.getFilters().map(s=>jD(s));return r.length===1?r[0]:{compositeFilter:{op:mG(n.op),filters:r}}}(t):Oe(54877,{filter:t})}function gG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r,s,o=Fe.min(),i=Fe.min(),l=Tn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e){this.yt=e}}function xG(t){const e=dG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(){this.Cn=new wG}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ri.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class wG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ln(gt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ln(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AD=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(AD,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pc(0)}static cr(){return new pc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="LruGarbageCollector",bG=1048576;function hT([t,e],[n,r]){const s=et(t,n);return s===0?et(e,r):s}class _G{constructor(e){this.Ir=e,this.buffer=new ln(hT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(dT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ic(n)?we(dT,"Ignoring IndexedDB error during garbage collection: ",n):await Ac(n)}await this.Vr(3e5)})}}class EG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(qm.ce);const r=new _G(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(uT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,i,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,i=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),fl()<=Ze.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${s} in `+(l-i)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:f})))}}function CG(t,e){return new EG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this.changes=new el(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&qu(r.mutation,s,Nr.empty(),Ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const s=xa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=_u();return o.forEach((l,c)=>{i=i.insert(l,c.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=xa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,l)=>{n.set(i,l)})})}computeViews(e,n,r,s){let o=Io();const i=$u(),l=function(){return $u()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Gi)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),qu(d.mutation,u,d.mutation.getFieldMask(),Ct.now())):i.set(u.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>l.set(u,new NG(d,i.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=$u();let s=new Dt((i,l)=>i-l),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const l of i)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Nr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||tt()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const i=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=fD();d.forEach(p=>{if(!o.has(p)){const m=yD(n.get(p),r.get(p));m!==null&&f.set(p,m),o=o.add(p)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ee.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return Ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ee.resolve(xa());let l=xd,c=o;return i.next(u=>ee.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,tt())).next(d=>({batchId:l,changes:hD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let s=_u();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=_u();return this.indexManager.getCollectionParents(e,o).next(l=>ee.forEach(l,c=>{const u=function(f,p){return new Rc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{i=i.insert(f,p)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((c,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,Ln.newInvalidDocument(d)))});let l=_u();return i.forEach((c,u)=>{const d=o.get(c);d!==void 0&&qu(d.mutation,u,Nr.empty(),Ct.now()),Ym(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ws(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:xG(s.bundledQuery),readTime:Ws(s.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(){this.overlays=new Dt(Ne.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xa();return ee.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const s=xa(),o=n.length+1,i=new Ne(n.child("")),l=this.overlays.getIteratorFrom(i);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Dt((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=xa(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=xa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return ee.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new KH(n,r));let o=this.qr.get(n);o===void 0&&(o=tt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.Qr=new ln(hn.$r),this.Ur=new ln(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Ne(new gt([])),r=new hn(n,e),s=new hn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],i=>{this.Gr(i),o.push(i.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new gt([])),r=new hn(n,e),s=new hn(n,e+1);let o=tt();return this.Ur.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ln(hn.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new GH(o,n,r,s);this.mutationQueue.push(i);for(const l of s)this.Zr=this.Zr.add(new hn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(i)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?fb:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],i=>{const l=this.Xr(i.Yr);o.push(l)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(et);return n.forEach(s=>{const o=new hn(s,0),i=new hn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,i],l=>{r=r.add(l.Yr)})}),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ne.isDocumentKey(o)||(o=o.child(""));const i=new hn(new Ne(o),0);let l=new ln(et);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},i),ee.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,s=>{const o=new hn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new hn(n,0),s=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.ri=e,this.docs=function(){return new Dt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=Io();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Ln.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Io();const i=n.path,l=new Ne(i.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||lH(aH(d),r)<=0||(s.has(d.key)||Ym(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Oe(9500)}ii(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DG(this)}getSize(e){return ee.resolve(this.size)}}class DG extends TG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e){this.persistence=e,this.si=new el(n=>gb(n),vb),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Sb,this.targetCount=0,this.ai=pc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new pc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((i,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),ee.waitFor(o).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.ui={},this.overlays={},this.ci=new qm(0),this.li=!1,this.li=!0,this.hi=new AG,this.referenceDelegate=e(this),this.Pi=new OG(this),this.indexManager=new yG,this.remoteDocumentCache=function(s){return new RG(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new vG(n),this.Ii=new jG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new IG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const s=new MG(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return ee.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class MG extends uH{constructor(e){super(),this.currentSequenceNumber=e}}class Eb{constructor(e){this.persistence=e,this.Ri=new Sb,this.Vi=null}static mi(e){return new Eb(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,r=>{const s=Ne.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fp{constructor(e,n){this.persistence=e,this.pi=new el(r=>fH(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=CG(this,n)}static mi(e,n){return new Fp(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ee.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?ee.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,i=>this.br(e,i,n).next(l=>{l||(r++,o.removeEntry(i,Fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kf(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=tt(),s=tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Cb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Aq()?8:dH(zn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new LG;return this.Ss(e,n,i).next(l=>{if(o.result=l,this.Vs)return this.bs(e,n,i,l.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(fl()<=Ze.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(fl()<=Ze.DEBUG&&we("QueryEngine","Query:",pl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(fl()<=Ze.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(n))):ee.resolve())}ys(e,n){if(eT(n))return ee.resolve(null);let r=qs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xx(n,null,"F"),r=qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=tt(...o);return this.ps.getDocuments(e,i).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,i,c.readTime)?this.ys(e,Xx(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return eT(n)||s.isEqual(Fe.min())?ee.resolve(null):this.ps.getDocuments(e,r).next(o=>{const i=this.Ds(n,o);return this.Cs(n,i,r,s)?ee.resolve(null):(fl()<=Ze.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pl(n)),this.vs(e,i,n,iH(s,xd)).next(l=>l))})}Ds(e,n){let r=new ln(uD(e));return n.forEach((s,o)=>{Ym(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return fl()<=Ze.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",pl(n)),this.ps.getDocumentsMatchingQuery(e,n,Ri.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LocalStore",FG=3e8;class zG{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Dt(et),this.xs=new el(o=>gb(o),vb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function UG(t,e,n,r){return new zG(t,e,n,r)}async function RD(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],l=[];let c=tt();for(const u of s){i.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:i,addedBatchIds:l}))})})}function BG(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,p=f.keys();let m=ee.resolve();return p.forEach(x=>{m=m.next(()=>d.getEntry(c,x)).next(y=>{const E=u.docVersions.get(x);ut(E!==null,48541),y.version.compareTo(E)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=tt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function DD(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function $G(t,e){const n=Ue(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Tn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(y,E,_){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=FG?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,d)&&l.push(n.Pi.updateTargetData(o,m))});let c=Io(),u=tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(qG(o,i,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(Fe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return ee.waitFor(l).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=s,o))}function qG(t,e,n){let r=tt(),s=tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=Io();return n.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(l,c.readTime),i=i.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),i=i.insert(l,c)):we(Tb,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:i,qs:s}})}function WG(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HG(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,ee.resolve(s)):n.Pi.allocateTargetId(r).next(i=>(s=new ci(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ny(t,e,n){const r=Ue(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Ic(i))throw i;we(Tb,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function fT(t,e,n){const r=Ue(t);let s=Fe.min(),o=tt();return r.persistence.runTransaction("Execute query","readwrite",i=>function(c,u,d){const f=Ue(c),p=f.xs.get(d);return p!==void 0?ee.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,i,qs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(i,l.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(i,e,n?s:Fe.min(),n?o:tt())).next(l=>(GG(r,AH(e),l),{documents:l,Qs:o})))}function GG(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class pT{constructor(){this.activeTargetIds=LH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KG{constructor(){this.Mo=new pT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="ConnectivityMonitor";class gT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(mT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(mT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function ry(){return Zh===null?Zh=function(){return 268435456+Math.round(2147483648*Math.random())}():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="RestConnection",QG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Dp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const i=ry(),l=this.zo(e,n.toUriEncodedString());we(zv,`Sending RPC '${e}' ${i}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,o);const{host:u}=new URL(l),d=kc(u);return this.Jo(e,l,c,r,d).then(f=>(we(zv,`Received RPC '${e}' ${i}: `,f),f),f=>{throw uc(zv,`RPC '${e}' ${i} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,o,i){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=QG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class ZG extends XG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const i=ry();return new Promise((l,c)=>{const u=new MR;u.setWithCredentials(!0),u.listenOnce(LR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nf.NO_ERROR:const f=u.getResponseJson();we(An,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),l(f);break;case Nf.TIMEOUT:we(An,`RPC '${e}' ${i} timed out`),c(new xe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const p=u.getStatus();if(we(An,`RPC '${e}' ${i} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const y=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(v)>=0?v:J.UNKNOWN}(x.status);c(new xe(y,x.message))}else c(new xe(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new xe(J.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:i,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{we(An,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);we(An,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=ry(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=zR(),l=FR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");we(An,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=i.createWebChannel(d,c);this.I_(f);let p=!1,m=!1;const x=new JG({Yo:E=>{m?we(An,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(we(An,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),we(An,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),y=(E,_,v)=>{E.listen(_,b=>{try{v(b)}catch(j){setTimeout(()=>{throw j},0)}})};return y(f,bu.EventType.OPEN,()=>{m||(we(An,`RPC '${e}' stream ${s} transport opened.`),x.o_())}),y(f,bu.EventType.CLOSE,()=>{m||(m=!0,we(An,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(f))}),y(f,bu.EventType.ERROR,E=>{m||(m=!0,uc(An,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),x.a_(new xe(J.UNAVAILABLE,"The operation could not be completed")))}),y(f,bu.EventType.MESSAGE,E=>{var _;if(!m){const v=E.data[0];ut(!!v,16349);const b=v,j=(b==null?void 0:b.error)||((_=b[0])==null?void 0:_.error);if(j){we(An,`RPC '${e}' stream ${s} received error:`,j);const I=j.status;let V=function(A){const R=qt[A];if(R!==void 0)return bD(R)}(I),S=j.message;V===void 0&&(V=J.INTERNAL,S="Unknown error status: "+I+" with message "+j.message),m=!0,x.a_(new xe(V,S)),f.close()}else we(An,`RPC '${e}' stream ${s} received:`,v),x.u_(v)}}),y(l,VR.STAT_EVENT,E=>{E.stat===qx.PROXY?we(An,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===qx.NOPROXY&&we(An,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Uv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){return new rG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="PersistentStream";class MD{constructor(e,n,r,s,o,i,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ao(n.toString()),Ao("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new xe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return we(vT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(we(vT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eK extends MD{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iG(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?Fe.min():i.readTime?Ws(i.readTime):Fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ty(this.serializer),n.addTarget=function(o,i){let l;const c=i.target;if(l=Yx(c)?{documents:cG(o,c)}:{query:uG(o,c).ft},l.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){l.resumeToken=ED(o,i.resumeToken);const u=Jx(o,i.expectedCount);u!==null&&(l.expectedCount=u)}else if(i.snapshotVersion.compareTo(Fe.min())>0){l.readTime=Vp(o,i.snapshotVersion.toTimestamp());const u=Jx(o,i.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=hG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ty(this.serializer),n.removeTarget=e,this.q_(n)}}class tK extends MD{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lG(e.writeResults,e.commitTime),r=Ws(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ty(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aG(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{}class rK extends nK{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new xe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Go(e,Zx(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(J.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Ho(e,Zx(n,r),s,i,l,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(J.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class sK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ao(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="RemoteStore";class oK{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(i=>{r.enqueueAndForget(async()=>{tl(this)&&(we(qa,"Restarting streams for network reachability change."),await async function(c){const u=Ue(c);u.Ea.add(4),await Kd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await eg(u)}(this))})}),this.Ra=new sK(r,s)}}async function eg(t){if(tl(t))for(const e of t.da)await e(!0)}async function Kd(t){for(const e of t.da)await e(!1)}function LD(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pb(n)?jb(n):Dc(n).O_()&&kb(n,e))}function Nb(t,e){const n=Ue(t),r=Dc(n);n.Ia.delete(e),r.O_()&&VD(n,e),n.Ia.size===0&&(r.O_()?r.L_():tl(n)&&n.Ra.set("Unknown"))}function kb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dc(t).Y_(e)}function VD(t,e){t.Va.Ue(e),Dc(t).Z_(e)}function jb(t){t.Va=new ZH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Dc(t).start(),t.Ra.ua()}function Pb(t){return tl(t)&&!Dc(t).x_()&&t.Ia.size>0}function tl(t){return Ue(t).Ea.size===0}function FD(t){t.Va=void 0}async function iK(t){t.Ra.set("Online")}async function aK(t){t.Ia.forEach((e,n)=>{kb(t,e)})}async function lK(t,e){FD(t),Pb(t)?(t.Ra.ha(e),jb(t)):t.Ra.set("Unknown")}async function cK(t,e,n){if(t.Ra.set("Online"),e instanceof SD&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const l of o.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,i),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){we(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zp(t,r)}else if(e instanceof Af?t.Va.Ze(e):e instanceof _D?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await DD(t.localStore);n.compareTo(r)>=0&&await function(o,i){const l=o.Va.Tt(i);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(c.resumeToken,i))}}),l.targetMismatches.forEach((c,u)=>{const d=o.Ia.get(c);if(!d)return;o.Ia.set(c,d.withResumeToken(Tn.EMPTY_BYTE_STRING,d.snapshotVersion)),VD(o,c);const f=new ci(d.target,c,u,d.sequenceNumber);kb(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){we(qa,"Failed to raise snapshot:",r),await zp(t,r)}}async function zp(t,e,n){if(!Ic(e))throw e;t.Ea.add(1),await Kd(t),t.Ra.set("Offline"),n||(n=()=>DD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(qa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await eg(t)})}function zD(t,e){return e().catch(n=>zp(t,n,e))}async function tg(t){const e=Ue(t),n=Li(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fb;for(;uK(e);)try{const s=await WG(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,dK(e,s)}catch(s){await zp(e,s)}UD(e)&&BD(e)}function uK(t){return tl(t)&&t.Ta.length<10}function dK(t,e){t.Ta.push(e);const n=Li(t);n.O_()&&n.X_&&n.ea(e.mutations)}function UD(t){return tl(t)&&!Li(t).x_()&&t.Ta.length>0}function BD(t){Li(t).start()}async function hK(t){Li(t).ra()}async function fK(t){const e=Li(t);for(const n of t.Ta)e.ea(n.mutations)}async function pK(t,e,n){const r=t.Ta.shift(),s=wb.from(r,e,n);await zD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await tg(t)}async function mK(t,e){e&&Li(t).X_&&await async function(r,s){if(function(i){return QH(i)&&i!==J.ABORTED}(s.code)){const o=r.Ta.shift();Li(r).B_(),await zD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await tg(r)}}(t,e),UD(t)&&BD(t)}async function xT(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),we(qa,"RemoteStore received new credentials");const r=tl(n);n.Ea.add(3),await Kd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await eg(n)}async function gK(t,e){const n=Ue(t);e?(n.Ea.delete(2),await eg(n)):e||(n.Ea.add(2),await Kd(n),n.Ra.set("Unknown"))}function Dc(t){return t.ma||(t.ma=function(n,r,s){const o=Ue(n);return o.sa(),new eK(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:iK.bind(null,t),t_:aK.bind(null,t),r_:lK.bind(null,t),H_:cK.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Pb(t)?jb(t):t.Ra.set("Unknown")):(await t.ma.stop(),FD(t))})),t.ma}function Li(t){return t.fa||(t.fa=function(n,r,s){const o=Ue(n);return o.sa(),new tK(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hK.bind(null,t),r_:mK.bind(null,t),ta:fK.bind(null,t),na:pK.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await tg(t)):(await t.fa.stop(),t.Ta.length>0&&(we(qa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,l=new Ab(e,n,i,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ib(t,e){if(Ao("AsyncQueue",`${e}: ${t}`),Ic(t))return new xe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static emptySet(e){return new Hl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=_u(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.ga=new Dt(Ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class mc{constructor(e,n,r,s,o,i,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(l=>{i.push({type:0,doc:l})}),new mc(e,n,Hl.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class xK{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ue(n),o=s.queries;s.queries=wT(),o.forEach((i,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new xe(J.ABORTED,"Firestore shutting down"))}}function wT(){return new el(t=>cD(t),Km)}async function Rb(t,e){const n=Ue(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new vK,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const l=Ib(i,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Ob(n)}async function Db(t,e){const n=Ue(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.Sa.indexOf(e);i>=0&&(o.Sa.splice(i,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yK(t,e){const n=Ue(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const l of i.Sa)l.Fa(s)&&(r=!0);i.wa=s}}r&&Ob(n)}function wK(t,e,n){const r=Ue(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Ob(t){t.Ca.forEach(e=>{e.next()})}var sy,bT;(bT=sy||(sy={})).Ma="default",bT.Cache="cache";class Mb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.key=e}}class qD{constructor(e){this.key=e}}class bK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=uD(e),this.tu=new Hl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yT,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=Ym(this.query,f)?f:null,x=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?x!==y&&(r.track({type:3,doc:m}),E=!0):this.su(p,m)||(r.track({type:2,doc:m}),E=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(c||u)&&(l=!0)),E&&(m?(i=i.add(m),o=y?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:i,iu:r,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,f)=>function(m,x){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:E})}};return y(m)-y(x)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,i.length!==0||u?{snapshot:new mc(this.query,e.tu,o,i,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new qD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new $D(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lb="SyncEngine";class _K{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SK{constructor(e){this.key=e,this.hu=!1}}class EK{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new el(l=>cD(l),Km),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Ne.comparator),this.Au=new Map,this.Ru=new Sb,this.Vu={},this.mu=new Map,this.fu=pc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CK(t,e,n=!0){const r=QD(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await WD(r,e,n,!0),s}async function TK(t,e){const n=QD(t);await WD(n,e,!0,!1)}async function WD(t,e,n,r){const s=await HG(t.localStore,qs(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await NK(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&LD(t.remoteStore,s),l}async function NK(t,e,n,r,s){t.pu=(f,p,m)=>async function(y,E,_,v){let b=E.view.ru(_);b.Cs&&(b=await fT(y.localStore,E.query,!1).then(({documents:S})=>E.view.ru(S,b)));const j=v&&v.targetChanges.get(E.targetId),I=v&&v.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(b,y.isPrimaryClient,j,I);return ST(y,E.targetId,V.au),V.snapshot}(t,f,p,m);const o=await fT(t.localStore,e,!0),i=new bK(e,o.Qs),l=i.ru(o.documents),c=Gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(l,t.isPrimaryClient,c);ST(t,n,u.au);const d=new _K(e,n,i);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function kK(t,e,n){const r=Ue(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(i=>!Km(i,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ny(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Nb(r.remoteStore,s.targetId),oy(r,s.targetId)}).catch(Ac)):(oy(r,s.targetId),await ny(r.localStore,s.targetId,!0))}async function jK(t,e){const n=Ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nb(n.remoteStore,r.targetId))}async function PK(t,e,n){const r=LK(t);try{const s=await function(i,l){const c=Ue(i),u=Ct.now(),d=l.reduce((m,x)=>m.add(x.key),tt());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=Io(),y=tt();return c.Ns.getEntries(m,d).next(E=>{x=E,x.forEach((_,v)=>{v.isValidDocument()||(y=y.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,x)).next(E=>{f=E;const _=[];for(const v of l){const b=WH(v,f.get(v.key).overlayedDocument);b!=null&&_.push(new Gi(v.key,b,tD(b.value.mapValue),xs.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,_,l)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(f,y);return c.documentOverlayCache.saveOverlays(m,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:hD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,l,c){let u=i.Vu[i.currentUser.toKey()];u||(u=new Dt(et)),u=u.insert(l,c),i.Vu[i.currentUser.toKey()]=u}(r,s.batchId,n),await Yd(r,s.changes),await tg(r.remoteStore)}catch(s){const o=Ib(s,"Failed to persist write");n.reject(o)}}async function HD(t,e){const n=Ue(t);try{const r=await $G(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Au.get(o);i&&(ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.hu=!0:s.modifiedDocuments.size>0?ut(i.hu,14607):s.removedDocuments.size>0&&(ut(i.hu,42227),i.hu=!1))}),await Yd(n,r,e)}catch(r){await Ac(r)}}function _T(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,i)=>{const l=i.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(i,l){const c=Ue(i);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(l)&&(u=!0)}),u&&Ob(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AK(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let i=new Dt(Ne.comparator);i=i.insert(o,Ln.newNoDocument(o,Fe.min()));const l=tt().add(o),c=new Jm(Fe.min(),new Map,new Dt(et),i,l);await HD(r,c),r.du=r.du.remove(o),r.Au.delete(e),Vb(r)}else await ny(r.localStore,e,!1).then(()=>oy(r,e,n)).catch(Ac)}async function IK(t,e){const n=Ue(t),r=e.batch.batchId;try{const s=await BG(n.localStore,e);KD(n,r,null),GD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,s)}catch(s){await Ac(s)}}async function RK(t,e,n){const r=Ue(t);try{const s=await function(i,l){const c=Ue(i);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(ut(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);KD(r,e,n),GD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yd(r,s)}catch(s){await Ac(s)}}function GD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function KD(t,e,n){const r=Ue(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||YD(t,r)})}function YD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Nb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Vb(t))}function ST(t,e,n){for(const r of n)r instanceof $D?(t.Ru.addReference(r.key,e),DK(t,r)):r instanceof qD?(we(Lb,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||YD(t,r.key)):Oe(19791,{wu:r})}function DK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(Lb,"New document in limbo: "+n),t.Eu.add(r),Vb(t))}function Vb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(gt.fromString(e)),r=t.fu.next();t.Au.set(r,new SK(n)),t.du=t.du.insert(n,r),LD(t.remoteStore,new ci(qs(Gm(n.path)),r,"TargetPurposeLimboResolution",qm.ce))}}async function Yd(t,e,n){const r=Ue(t),s=[],o=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{i.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Cb.As(c.targetId,u);o.push(f)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(c,u){const d=Ue(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(u,p=>ee.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>ee.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Ic(f))throw f;we(Tb,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=d.Ms.get(p),x=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(p,y)}}}(r.localStore,o))}async function OK(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){we(Lb,"User change. New user:",e.toKey());const r=await RD(n.localStore,e);n.currentUser=e,function(o,i){o.mu.forEach(l=>{l.forEach(c=>{c.reject(new xe(J.CANCELLED,i))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yd(n,r.Ls)}}function MK(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let s=tt();const o=n.Iu.get(e);if(!o)return s;for(const i of o){const l=n.Tu.get(i);s=s.unionWith(l.view.nu)}return s}}function QD(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AK.bind(null,e),e.Pu.H_=yK.bind(null,e.eventManager),e.Pu.yu=wK.bind(null,e.eventManager),e}function LK(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RK.bind(null,e),e}class Up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UG(this.persistence,new VG,e.initialUser,this.serializer)}Cu(e){return new ID(Eb.mi,this.serializer)}Du(e){return new KG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Up.provider={build:()=>new Up};class VK extends Up{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Fp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new ID(r=>Fp.mi(r,n),this.serializer)}}class iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OK.bind(null,this.syncEngine),await gK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xK}()}createDatastore(e){const n=Zm(e.databaseInfo.databaseId),r=function(o){return new ZG(o)}(e.databaseInfo);return function(o,i,l,c){return new rK(o,i,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,l){return new oK(r,s,o,i,l)}(this.localStore,this.datastore,e.asyncQueue,n=>_T(this.syncEngine,n,0),function(){return gT.v()?new gT:new YG}())}createSyncEngine(e,n){return function(s,o,i,l,c,u,d){const f=new EK(s,o,i,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ue(s);we(qa,"RemoteStore shutting down."),o.Ea.add(5),await Kd(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}iy.provider={build:()=>new iy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ao("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="FirestoreClient";class FK{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dn.UNAUTHENTICATED,this.clientId=hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{we(Vi,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(we(Vi,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ib(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bv(t,e){t.asyncQueue.verifyOperationInProgress(),we(Vi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ET(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zK(t);we(Vi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>xT(e.remoteStore,s)),t._onlineComponents=e}async function zK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Vi,"Using user provided OfflineComponentProvider");try{await Bv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===J.FAILED_PRECONDITION||s.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;uc("Error using user provided cache. Falling back to memory cache: "+n),await Bv(t,new Up)}}else we(Vi,"Using default OfflineComponentProvider"),await Bv(t,new VK(void 0));return t._offlineComponents}async function XD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Vi,"Using user provided OnlineComponentProvider"),await ET(t,t._uninitializedComponentsProvider._online)):(we(Vi,"Using default OnlineComponentProvider"),await ET(t,new iy))),t._onlineComponents}function UK(t){return XD(t).then(e=>e.syncEngine)}async function Bp(t){const e=await XD(t),n=e.eventManager;return n.onListen=CK.bind(null,e.syncEngine),n.onUnlisten=kK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jK.bind(null,e.syncEngine),n}function BK(t,e,n={}){const r=new _o;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,l,c,u){const d=new Fb({next:p=>{d.Nu(),i.enqueueAndForget(()=>Db(o,f));const m=p.docs.has(l);!m&&p.fromCache?u.reject(new xe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?u.reject(new xe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Mb(Gm(l.path),d,{includeMetadataChanges:!0,qa:!0});return Rb(o,f)}(await Bp(t),t.asyncQueue,e,n,r)),r.promise}function $K(t,e,n={}){const r=new _o;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,l,c,u){const d=new Fb({next:p=>{d.Nu(),i.enqueueAndForget(()=>Db(o,f)),p.fromCache&&c.source==="server"?u.reject(new xe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Mb(l,d,{includeMetadataChanges:!0,qa:!0});return Rb(o,f)}(await Bp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="firestore.googleapis.com",TT=!0;class NT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZD,this.ssl=TT}else this.host=e.host,this.ssl=e.ssl??TT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bG)throw new xe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ng{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YW;switch(r.type){case"firstParty":return new ZW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CT.get(n);r&&(we("ComponentProvider","Removing Datastore"),CT.delete(n),r.terminate())}(this),Promise.resolve()}}function qK(t,e,n,r={}){var u;t=Wr(t,ng);const s=kc(e),o=t._getSettings(),i={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(NR(`https://${l}`),kR("Firestore",!0)),o.host!==ZD&&o.host!==l&&uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:s,emulatorOptions:r};if(!Ua(c,i)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Dn.MOCK_USER;else{d=_q(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Dn(p)}t._authCredentials=new QW(new BR(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wd(n,Bt._jsonSchema))return new Bt(e,r||null,new Ne(gt.fromString(n.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Yt("string",Bt._jsonSchemaVersion),referencePath:Yt("string")};class Ci extends Ki{constructor(e,n,r){super(e,n,Gm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new Ne(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function $v(t,e,...n){if(t=Un(t),$R("collection","path",e),t instanceof ng){const r=gt.fromString(e,...n);return zC(r),new Ci(t,null,r)}{if(!(t instanceof Bt||t instanceof Ci))throw new xe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return zC(r),new Ci(t.firestore,null,r)}}function Eu(t,e,...n){if(t=Un(t),arguments.length===1&&(e=hb.newId()),$R("doc","path",e),t instanceof ng){const r=gt.fromString(e,...n);return FC(r),new Bt(t,null,new Ne(r))}{if(!(t instanceof Bt||t instanceof Ci))throw new xe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return FC(r),new Bt(t.firestore,t instanceof Ci?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="AsyncQueue";class jT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OD(this,"async_queue_retry"),this._c=()=>{const r=Uv();r&&we(kT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Uv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new _o;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ic(e))throw e;we(kT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ao("INTERNAL UNHANDLED ERROR: ",PT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ab.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&Oe(47125,{Pc:PT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function PT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Fi extends ng{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new jT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jT(e),this._firestoreClient=void 0,await e}}}function WK(t,e){const n=typeof t=="object"?t:IR(),r=typeof t=="string"?t:e||Dp,s=ub(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=wq("firestore");o&&qK(s,...o)}return s}function rg(t){if(t._terminated)throw new xe(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HK(t),t._firestoreClient}function HK(t){var r,s,o;const e=t._freezeSettings(),n=function(l,c,u,d){return new gH(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,JD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fr(Tn.fromBase64String(e))}catch(n){throw new xe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fr(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wd(e,Fr._jsonSchema))return Fr.fromBase64String(e.bytes)}}Fr._jsonSchemaVersion="firestore/bytes/1.0",Fr._jsonSchema={type:Yt("string",Fr._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hs._jsonSchemaVersion}}static fromJSON(e){if(Wd(e,Hs._jsonSchema))return new Hs(e.latitude,e.longitude)}}Hs._jsonSchemaVersion="firestore/geoPoint/1.0",Hs._jsonSchema={type:Yt("string",Hs._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wd(e,Gs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Gs(e.vectorValues);throw new xe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gs._jsonSchemaVersion="firestore/vectorValue/1.0",Gs._jsonSchema={type:Yt("string",Gs._jsonSchemaVersion),vectorValues:Yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK=/^__.*__$/;class KK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hd(e,this.data,n,this.fieldTransforms)}}class eO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class zb{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $p(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tO(this.Ac)&&GK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zm(e)}Cc(e,n,r,s=!1){return new zb({Ac:e,methodName:n,Dc:r,path:_n.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ub(t){const e=t._freezeSettings(),n=Zm(t._databaseId);return new YK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QK(t,e,n,r,s,o={}){const i=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);$b("Data must be an object, but it was:",i,r);const l=nO(r,i);let c,u;if(o.merge)c=new Nr(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const p=ay(e,f,n);if(!i.contains(p))throw new xe(J.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);sO(d,p)||d.push(p)}c=new Nr(d),u=i.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=i.fieldTransforms;return new KK(new lr(l),c,u)}class ig extends og{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ig}}class Bb extends og{_toFieldTransform(e){return new UH(e.path,new Sd)}isEqual(e){return e instanceof Bb}}function XK(t,e,n,r){const s=t.Cc(1,e,n);$b("Data must be an object, but it was:",s,r);const o=[],i=lr.empty();Hi(r,(c,u)=>{const d=qb(e,c,n);u=Un(u);const f=s.yc(d);if(u instanceof ig)o.push(d);else{const p=Qd(u,f);p!=null&&(o.push(d),i.set(d,p))}});const l=new Nr(o);return new eO(i,l,s.fieldTransforms)}function JK(t,e,n,r,s,o){const i=t.Cc(1,e,n),l=[ay(e,r,n)],c=[s];if(o.length%2!=0)throw new xe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)l.push(ay(e,o[p])),c.push(o[p+1]);const u=[],d=lr.empty();for(let p=l.length-1;p>=0;--p)if(!sO(u,l[p])){const m=l[p];let x=c[p];x=Un(x);const y=i.yc(m);if(x instanceof ig)u.push(m);else{const E=Qd(x,y);E!=null&&(u.push(m),d.set(m,E))}}const f=new Nr(u);return new eO(d,f,i.fieldTransforms)}function ZK(t,e,n,r=!1){return Qd(n,t.Cc(r?4:3,e))}function Qd(t,e){if(rO(t=Un(t)))return $b("Unsupported field value:",e,t),nO(t,e);if(t instanceof og)return function(r,s){if(!tO(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const l of r){let c=Qd(l,s.wc(i));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ct.fromDate(r);return{timestampValue:Vp(s.serializer,o)}}if(r instanceof Ct){const o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vp(s.serializer,o)}}if(r instanceof Hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fr)return{bytesValue:ED(s.serializer,r._byteString)};if(r instanceof Bt){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_b(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Gs)return function(i,l){return{mapValue:{fields:{[JR]:{stringValue:eD},[Op]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return xb(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${$m(r)}`)}(t,e)}function nO(t,e){const n={};return HR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(t,(r,s)=>{const o=Qd(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Hs||t instanceof Fr||t instanceof Bt||t instanceof og||t instanceof Gs)}function $b(t,e,n){if(!rO(n)||!qR(n)){const r=$m(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ay(t,e,n){if((e=Un(e))instanceof sg)return e._internalPath;if(typeof e=="string")return qb(t,e);throw $p("Field path arguments must be of type string or ",t,!1,void 0,n)}const eY=new RegExp("[~\\*/\\[\\]]");function qb(t,e,n){if(e.search(eY)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sg(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $p(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||i)&&(c+=" (found",o&&(c+=` in field ${r}`),i&&(c+=` in document ${s}`),c+=")"),new xe(J.INVALID_ARGUMENT,l+t+c)}function sO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tY extends oO{data(){return super.data()}}function Wb(t,e){return typeof e=="string"?qb(t,e):e instanceof sg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hb{}class aO extends Hb{}function IT(t,e,...n){let r=[];e instanceof Hb&&r.push(e),r=r.concat(n),function(o){const i=o.filter(c=>c instanceof Kb).length,l=o.filter(c=>c instanceof Gb).length;if(i>1||i>0&&l>0)throw new xe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Gb extends aO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gb(e,n,r)}_apply(e){const n=this._parse(e);return lO(e._query,n),new Ki(e.firestore,e.converter,Qx(e._query,n))}_parse(e){const n=Ub(e.firestore);return function(o,i,l,c,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new xe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){OT(f,d);const x=[];for(const y of f)x.push(DT(c,o,y));p={arrayValue:{values:x}}}else p=DT(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||OT(f,d),p=ZK(l,i,f,d==="in"||d==="not-in");return Kt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Kb extends Hb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_s.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let i=s;const l=o.getFlattenedFilters();for(const c of l)lO(i,c),i=Qx(i,c)}(e._query,n),new Ki(e.firestore,e.converter,Qx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yb extends aO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yb(e,n)}_apply(e){const n=function(s,o,i){if(s.startAt!==null)throw new xe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new xe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _d(o,i)}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(s,o){const i=s.explicitOrderBy.concat([o]);return new Rc(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function RT(t,e="asc"){const n=e,r=Wb("orderBy",t);return Yb._create(r,n)}function DT(t,e,n){if(typeof(n=Un(n))=="string"){if(n==="")throw new xe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lD(e)&&n.indexOf("/")!==-1)throw new xe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!Ne.isDocumentKey(r))throw new xe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KC(t,new Ne(r))}if(n instanceof Bt)return KC(t,n._key);throw new xe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$m(n)}.`)}function OT(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lO(t,e){const n=function(s,o){for(const i of s)for(const l of i.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new xe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nY{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hi(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Op].arrayValue)==null?void 0:s.values)==null?void 0:o.map(i=>zt(i.doubleValue));return new Gs(n)}convertGeoPoint(e){return new Hs(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yd(e));default:return null}}convertTimestamp(e){const n=Di(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);ut(PD(r),9688,{name:e});const s=new wd(r.get(1),r.get(3)),o=new Ne(r.popFirst(5));return s.isEqual(n)||Ao(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends oO{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Yt("string",Ca._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class If extends Ca{data(e={}){return super.data(e)}}class Ta{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Cu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new If(this._firestore,this._userDataWriter,r.key,r,new Cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(l=>{const c=new If(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Cu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new If(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Cu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=i.indexOf(l.doc.key),i=i.delete(l.doc.key)),l.type!==1&&(i=i.add(l.doc),d=i.indexOf(l.doc.key)),{type:sY(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){t=Wr(t,Bt);const e=Wr(t.firestore,Fi);return BK(rg(e),t._key).then(n=>cO(e,t,n))}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:Yt("string",Ta._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Qb extends nY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function oY(t){t=Wr(t,Ki);const e=Wr(t.firestore,Fi),n=rg(e),r=new Qb(e);return iO(t._query),$K(n,t._query).then(s=>new Ta(e,r,t,s))}function iY(t,e,n,...r){t=Wr(t,Bt);const s=Wr(t.firestore,Fi),o=Ub(s);let i;return i=typeof(e=Un(e))=="string"||e instanceof sg?JK(o,"updateDoc",t._key,e,n,r):XK(o,"updateDoc",t._key,e),Xb(s,[i.toMutation(t._key,xs.exists(!0))])}function aY(t){return Xb(Wr(t.firestore,Fi),[new yb(t._key,xs.none())])}function lY(t,e){const n=Wr(t.firestore,Fi),r=Eu(t),s=rY(t.converter,e);return Xb(n,[QK(Ub(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,xs.exists(!1))]).then(()=>r)}function cY(t,...e){var c,u,d;t=Un(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||AT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(AT(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let o,i,l;if(t instanceof Bt)i=Wr(t.firestore,Fi),l=Gm(t._key.path),o={next:f=>{e[r]&&e[r](cO(i,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Wr(t,Ki);i=Wr(f.firestore,Fi),l=f._query;const p=new Qb(i);o={next:m=>{e[r]&&e[r](new Ta(i,p,f,m))},error:e[r+1],complete:e[r+2]},iO(t._query)}return function(p,m,x,y){const E=new Fb(y),_=new Mb(m,E,x);return p.asyncQueue.enqueueAndForget(async()=>Rb(await Bp(p),_)),()=>{E.Nu(),p.asyncQueue.enqueueAndForget(async()=>Db(await Bp(p),_))}}(rg(i),l,s,o)}function Xb(t,e){return function(r,s){const o=new _o;return r.asyncQueue.enqueueAndForget(async()=>PK(await UK(r),s,o)),o.promise}(rg(t),e)}function cO(t,e,n){const r=n.docs.get(e._key),s=new Qb(t);return new Ca(t,s,e._key,r,new Cu(n.hasPendingWrites,n.fromCache),e.converter)}function qv(){return new Bb("serverTimestamp")}(function(e,n=!0){(function(s){Pc=s})(jc),cc(new Ba("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),l=new Fi(new XW(r.getProvider("auth-internal")),new eH(i,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new xe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(u.options.projectId,d)}(i,s),i);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Si(OC,MC,e),Si(OC,MC,"esm2020")})();var uY="firebase",dY="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(uY,dY,"app");function uO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hY=uO,dO=new $d("auth","Firebase",uO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=new lb("@firebase/auth");function fY(t,...e){qp.logLevel<=Ze.WARN&&qp.warn(`Auth (${jc}): ${t}`,...e)}function Rf(t,...e){qp.logLevel<=Ze.ERROR&&qp.error(`Auth (${jc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,...e){throw Jb(t,...e)}function Ks(t,...e){return Jb(t,...e)}function hO(t,e,n){const r={...hY(),[e]:n};return new $d("auth","Firebase",r).create(e,{appName:t.name})}function Na(t){return hO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dO.create(t,...e)}function Le(t,e,...n){if(!t)throw Jb(e,...n)}function mo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rf(e),new Error(e)}function Do(t,e){t||mo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function pY(){return LT()==="http:"||LT()==="https:"}function LT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pY()||kq()||"connection"in navigator)?navigator.onLine:!0}function gY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Do(n>e,"Short delay should be less than long delay!"),this.isMobile=Cq()||jq()}get(){return mY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e){Do(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yY=new Xd(3e4,6e4);function e1(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oc(t,e,n,r,s={}){return pO(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const l=qd({key:t.config.apiKey,...i}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...o};return Nq()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&kc(t.emulatorConfig.host)&&(u.credentials="include"),fO.fetch()(await mO(t,t.config.apiHost,n,l),u)})}async function pO(t,e,n){t._canInitEmulator=!1;const r={...vY,...e};try{const s=new bY(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw ef(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const l=o.ok?i.errorMessage:i.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(t,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw ef(t,"email-already-in-use",i);if(c==="USER_DISABLED")throw ef(t,"user-disabled",i);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hO(t,d,u);Ro(t,d)}}catch(s){if(s instanceof Lo)throw s;Ro(t,"network-request-failed",{message:String(s)})}}async function wY(t,e,n,r,s={}){const o=await Oc(t,e,n,r,s);return"mfaPendingCredential"in o&&Ro(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function mO(t,e,n,r){const s=`${e}${n}?${r}`,o=t,i=o.config.emulator?Zb(t.config,s):`${t.config.apiScheme}://${s}`;return xY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(i).toString():i}class bY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ks(this.auth,"network-request-failed")),yY.get())})}}function ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ks(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Y(t,e){return Oc(t,"POST","/v1/accounts:delete",e)}async function Wp(t,e){return Oc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SY(t,e=!1){const n=Un(t),r=await n.getIdToken(e),s=t1(r);Le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Wu(Wv(s.auth_time)),issuedAtTime:Wu(Wv(s.iat)),expirationTime:Wu(Wv(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Wv(t){return Number(t)*1e3}function t1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const s=SR(n);return s?JSON.parse(s):(Rf("Failed to decode base64 JWT payload"),null)}catch(s){return Rf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function VT(t){const e=t1(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lo&&EY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Td(t,Wp(e,{idToken:n}));Le(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(f=s.providerUserInfo)!=null&&f.length?gO(s.providerUserInfo):[],i=NY(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(i!=null&&i.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new cy(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function TY(t){const e=Un(t);await Hp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NY(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function gO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kY(t,e){const n=await pO(t,{},async()=>{const r=qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=await mO(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&kc(t.emulatorConfig.host)&&(c.credentials="include"),fO.fetch()(i,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jY(t,e){return Oc(t,"POST","/v2/accounts:revokeToken",e1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=VT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await kY(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new Gl;return r&&(Le(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(Le(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(Le(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new CY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Td(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SY(this,e)}reload(){return TY(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vs(this.auth.app))return Promise.reject(Na(this.auth));const e=await this.getIdToken();return await Td(this,_Y(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,i=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:x,stsTokenManager:y}=n;Le(f&&y,e,"internal-error");const E=Gl.fromJSON(this.name,y);Le(typeof f=="string",e,"internal-error"),Wo(r,e.name),Wo(s,e.name),Le(typeof p=="boolean",e,"internal-error"),Le(typeof m=="boolean",e,"internal-error"),Wo(o,e.name),Wo(i,e.name),Wo(l,e.name),Wo(c,e.name),Wo(u,e.name),Wo(d,e.name);const _=new ds({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:i,phoneNumber:o,tenantId:l,stsTokenManager:E,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(_.providerData=x.map(v=>({...v}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Gl;s.updateFromServerResponse(n);const o=new ds({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Hp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Le(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?gO(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),l=new Gl;l.updateFromIdToken(r);const c=new ds({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:i}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new cy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=new Map;function go(t){Do(t instanceof Function,"Expected a class definition");let e=FT.get(t);return e?(Do(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vO.type="NONE";const zT=vO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t,e,n){return`firebase:${t}:${e}:${n}`}class Kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Df(this.userKey,s.apiKey,o),this.fullPersistenceKey=Df("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wp(this.auth,{idToken:e}).catch(()=>{});return n?ds._fromGetAccountInfoResponse(this.auth,n,e):null}return ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kl(go(zT),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||go(zT);const i=Df(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(i);if(d){let f;if(typeof d=="string"){const p=await Wp(e,{idToken:d}).catch(()=>{});if(!p)break;f=await ds._fromGetAccountInfoResponse(e,p,d)}else f=ds._fromJSON(e,d);u!==o&&(l=f),o=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Kl(o,e,r):(o=c[0],l&&await o._set(i,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new Kl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SO(e))return"Blackberry";if(EO(e))return"Webos";if(yO(e))return"Safari";if((e.includes("chrome/")||wO(e))&&!e.includes("edge/"))return"Chrome";if(_O(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xO(t=zn()){return/firefox\//i.test(t)}function yO(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wO(t=zn()){return/crios\//i.test(t)}function bO(t=zn()){return/iemobile/i.test(t)}function _O(t=zn()){return/android/i.test(t)}function SO(t=zn()){return/blackberry/i.test(t)}function EO(t=zn()){return/webos/i.test(t)}function n1(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PY(t=zn()){var e;return n1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function AY(){return Pq()&&document.documentMode===10}function CO(t=zn()){return n1(t)||_O(t)||EO(t)||SO(t)||/windows phone/i.test(t)||bO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e=[]){let n;switch(t){case"Browser":n=UT(zn());break;case"Worker":n=`${UT(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,l)=>{try{const c=e(o);i(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RY(t,e={}){return Oc(t,"GET","/v2/passwordPolicy",e1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DY=6;class OY{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BT(this),this.idTokenSubscription=new BT(this),this.beforeStateQueue=new IY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=go(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wp(this,{idToken:e}),r=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Vs(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vs(this.app))return Promise.reject(Na(this));const n=e?Un(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vs(this.app)?Promise.reject(Na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vs(this.app)?Promise.reject(Na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RY(this),n=new OY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $d("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&go(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[go(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let i=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(l,this,"internal-error"),l.then(()=>{i||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{i=!0,c()}}else{const c=e.addObserver(n);return()=>{i=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&fY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function r1(t){return Un(t)}class BT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vq(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LY(t){s1=t}function VY(t){return s1.loadJS(t)}function FY(){return s1.gapiScript}function zY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t,e){const n=ub(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ua(o,e??{}))return s;Ro(s,"already-initialized")}return n.initialize({options:e})}function BY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(go);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $Y(t,e,n){const r=r1(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=NO(e),{host:i,port:l}=qY(e),c=l===null?"":`:${l}`,u={url:`${o}//${i}${c}/`},d=Object.freeze({host:i,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Ua(u,r.config.emulator)&&Ua(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,kc(i)?(NR(`${o}//${i}${c}`),kR("Auth",!0)):s||WY()}function NO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qY(t){const e=NO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:$T(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:$T(i)}}}function $T(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mo("not implemented")}_getIdTokenResponse(e){return mo("not implemented")}_linkToIdToken(e,n){return mo("not implemented")}_getReauthenticationResolver(e){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e){return wY(t,"POST","/v1/accounts:signInWithIdp",e1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY="http://localhost";class Wa extends kO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ro("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const i=new Wa(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yl(e,n)}buildRequest(){const e={requestUri:HY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends jO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Jd{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Jd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Jd{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Jd{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.TWITTER_SIGN_IN_METHOD="twitter.com";ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ds._fromIdTokenResponse(e,r,s),i=qT(r);return new gc({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=qT(r);return new gc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function qT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Lo{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Gp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Gp(e,n,r,s)}}function PO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(t,o,e,r):o})}async function GY(t,e,n=!1){const r=await Td(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KY(t,e,n=!1){const{auth:r}=t;if(Vs(r.app))return Promise.reject(Na(r));const s="reauthenticate";try{const o=await Td(t,PO(r,s,e,t),n);Le(o.idToken,r,"internal-error");const i=t1(o.idToken);Le(i,r,"internal-error");const{sub:l}=i;return Le(t.uid===l,r,"user-mismatch"),gc._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ro(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YY(t,e,n=!1){if(Vs(t.app))return Promise.reject(Na(t));const r="signIn",s=await PO(t,r,e),o=await gc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}function QY(t,e,n,r){return Un(t).onIdTokenChanged(e,n,r)}function XY(t,e,n){return Un(t).beforeAuthStateChanged(e,n)}const Kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kp,"1"),this.storage.removeItem(Kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JY=1e3,ZY=10;class IO extends AO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,l,c)=>{this.notifyListeners(i,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);AY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZY):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},JY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IO.type="LOCAL";const eQ=IO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO extends AO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RO.type="SESSION";const DO=RO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ag(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(i).map(async u=>u(n.origin,o)),c=await tQ(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ag.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((l,c)=>{const u=o1("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(p.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(){return window}function rQ(t){Ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){return typeof Ys().WorkerGlobalScope<"u"&&typeof Ys().importScripts=="function"}async function sQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function iQ(){return OO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="firebaseLocalStorageDb",aQ=1,Yp="firebaseLocalStorage",LO="fbase_key";class Zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lg(t,e){return t.transaction([Yp],e?"readwrite":"readonly").objectStore(Yp)}function lQ(){const t=indexedDB.deleteDatabase(MO);return new Zd(t).toPromise()}function uy(){const t=indexedDB.open(MO,aQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yp,{keyPath:LO})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yp)?e(r):(r.close(),await lQ(),e(await uy()))})})}async function WT(t,e,n){const r=lg(t,!0).put({[LO]:e,value:n});return new Zd(r).toPromise()}async function cQ(t,e){const n=lg(t,!1).get(e),r=await new Zd(n).toPromise();return r===void 0?null:r.value}function HT(t,e){const n=lg(t,!0).delete(e);return new Zd(n).toPromise()}const uQ=800,dQ=3;class VO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ag._getInstance(iQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await sQ(),!this.activeServiceWorker)return;this.sender=new nQ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await WT(e,Kp,"1"),await HT(e,Kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=lg(s,!1).getAll();return new Zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VO.type="LOCAL";const hQ=VO;new Xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(t,e){return e?go(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends kO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pQ(t){return YY(t.auth,new i1(t),t.bypassAuthState)}function mQ(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),KY(n,new i1(t),t.bypassAuthState)}async function gQ(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),GY(n,new i1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:l}=e;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pQ;case"linkViaPopup":case"linkViaRedirect":return gQ;case"reauthViaPopup":case"reauthViaRedirect":return mQ;default:Ro(this.auth,"internal-error")}}resolve(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ=new Xd(2e3,1e4);class Rl extends FO{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Rl.currentPopupAction&&Rl.currentPopupAction.cancel(),Rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Do(this.filter.length===1,"Popup operations only handle one event");const e=o1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vQ.get())};e()}}Rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xQ="pendingRedirect",Of=new Map;class yQ extends FO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const r=await wQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wQ(t,e){const n=SQ(e),r=_Q(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function bQ(t,e){Of.set(t._key(),e)}function _Q(t){return go(t._redirectPersistence)}function SQ(t){return Df(xQ,t.config.apiKey,t.name)}async function EQ(t,e,n=!1){if(Vs(t.app))return Promise.reject(Na(t));const r=r1(t),s=fQ(r,e),i=await new yQ(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ=10*60*1e3;class TQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zO(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ks(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(GT(e))}saveEventToCache(e){this.cachedEventUids.add(GT(e)),this.lastProcessedEventTime=Date.now()}}function GT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kQ(t,e={}){return Oc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PQ=/^https?/;async function AQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kQ(t);for(const n of e)try{if(IQ(n))return}catch{}Ro(t,"unauthorized-domain")}function IQ(t){const e=ly(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!PQ.test(n))return!1;if(jQ.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ=new Xd(3e4,6e4);function KT(){const t=Ys().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DQ(t){return new Promise((e,n)=>{var s,o,i;function r(){KT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KT(),n(Ks(t,"network-request-failed"))},timeout:RQ.get()})}if((o=(s=Ys().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((i=Ys().gapi)!=null&&i.load)r();else{const l=zY("iframefcb");return Ys()[l]=()=>{gapi.load?r():n(Ks(t,"network-request-failed"))},VY(`${FY()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function OQ(t){return Mf=Mf||DQ(t),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MQ=new Xd(5e3,15e3),LQ="__/auth/iframe",VQ="emulator/auth/iframe",FQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UQ(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zb(e,VQ):`https://${t.config.authDomain}/${LQ}`,r={apiKey:e.apiKey,appName:t.name,v:jc},s=zQ.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${qd(r).slice(1)}`}async function BQ(t){const e=await OQ(t),n=Ys().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:UQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FQ,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=Ks(t,"network-request-failed"),l=Ys().setTimeout(()=>{o(i)},MQ.get());function c(){Ys().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qQ=500,WQ=600,HQ="_blank",GQ="http://localhost";class YT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KQ(t,e,n,r=qQ,s=WQ){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...$Q,width:r.toString(),height:s.toString(),top:o,left:i},u=zn().toLowerCase();n&&(l=wO(u)?HQ:n),xO(u)&&(e=e||GQ,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,x])=>`${p}${m}=${x},`,"");if(PY(u)&&l!=="_self")return YQ(e||"",l),new YT(null);const f=window.open(e||"",l,d);Le(f,t,"popup-blocked");try{f.focus()}catch{}return new YT(f)}function YQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ="__/auth/handler",XQ="emulator/auth/handler",JQ=encodeURIComponent("fac");async function QT(t,e,n,r,s,o){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jc,eventId:s};if(e instanceof jO){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",Lq(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))i[d]=f}if(e instanceof Jd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const l=i;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${JQ}=${encodeURIComponent(c)}`:"";return`${ZQ(t)}?${qd(l).slice(1)}${u}`}function ZQ({config:t}){return t.emulator?Zb(t,XQ):`https://${t.authDomain}/${QQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="webStorageSupport";class eX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DO,this._completeRedirectFn=EQ,this._overrideRedirectResult=bQ}async _openPopup(e,n,r,s){var i;Do((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await QT(e,n,r,ly(),s);return KQ(e,o,o1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await QT(e,n,r,ly(),s);return rQ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Do(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BQ(e),r=new TQ(e);return n.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hv,{type:Hv},s=>{var i;const o=(i=s==null?void 0:s[0])==null?void 0:i[Hv];o!==void 0&&n(!!o),Ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CO()||yO()||n1()}}const tX=eX;var XT="@firebase/auth",JT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sX(t){cc(new Ba("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:l}=r.options;Le(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:i,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TO(t)},u=new MY(r,s,o,c);return BY(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cc(new Ba("auth-internal",e=>{const n=r1(e.getProvider("auth").getImmediate());return(r=>new nX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(XT,JT,rX(t)),Si(XT,JT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oX=5*60,iX=TR("authIdTokenMaxAge")||oX;let ZT=null;const aX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iX)return;const s=n==null?void 0:n.token;ZT!==s&&(ZT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lX(t=IR()){const e=ub(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UY(t,{popupRedirectResolver:tX,persistence:[hQ,eQ,DO]}),r=TR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=aX(o.toString());XY(n,i,()=>i(n.currentUser)),QY(n,l=>i(l))}}const s=ER("auth");return s&&$Y(n,`http://${s}`),n}function cX(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}LY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ks("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",cX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sX("Browser");const uX={apiKey:"AIzaSyDZa2C8AZc902HNuRWS0jP2KxfFoX5npyA",authDomain:"firefly-nexus.firebaseapp.com",projectId:"firefly-nexus",storageBucket:"firefly-nexus.firebasestorage.app",messagingSenderId:"981611156212",appId:"1:981611156212:web:aa09e09bbc3995617704a1",measurementId:"G-BG7KGG32F2"},UO=AR(uX),Ho=WK(UO);lX(UO);class dX{constructor(){this.collections={clientes:"clientes",ordensServico:"ordens_servico",ordensVenda:"ordens_venda",produtos:"produtos",categorias:"categorias",movimentacoes:"movimentacoes",financeiro:"financeiro",usuarios:"usuarios",configuracoes:"configuracoes"},this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes"},this.isFirebaseAvailable=!1,this.initialized=!1,this.initPromise=this.init()}async init(){if(!this.initialized)try{await this.checkFirebaseAvailability(),this.initialized=!0}catch(e){throw console.error("[FirebaseService] Erro na inicialização:",e),this.initialized=!1,e}}async checkFirebaseAvailability(){try{console.log("[FirebaseService] ===== VERIFICANDO FIREBASE ====="),console.log("[FirebaseService] Verificando disponibilidade do Firebase..."),console.log("[FirebaseService] db object:",Ho);const e=Eu(Ho,"test","test");console.log("[FirebaseService] testDoc criado:",e);const n=await MT(e);console.log("[FirebaseService] getDoc result:",n),this.isFirebaseAvailable=!0,console.log("[FirebaseService] ✅ Firebase disponível"),console.log("[FirebaseService] ===== FIREBASE OK =====")}catch(e){console.log("[FirebaseService] ❌ Firebase não disponível, usando localStorage como fallback"),console.log("[FirebaseService] Erro:",e.message),console.log("[FirebaseService] Stack:",e.stack),this.isFirebaseAvailable=!1,console.log("[FirebaseService] ===== FIREBASE FALHOU =====")}}async saveData(e,n,r=null){if(console.log(`[FirebaseService] Salvando dados em ${e}:`,n),this.initialized||await this.initPromise,console.log("[FirebaseService] Firebase disponível:",this.isFirebaseAvailable),!this.isFirebaseAvailable)return console.log("[FirebaseService] Firebase não disponível, salvando no localStorage"),this.saveToLocalStorage(e,n,r);try{if(r){const s=Eu(Ho,e,r);return await iY(s,{...n,updatedAt:qv()}),console.log(`[FirebaseService] Documento ${r} atualizado com sucesso`),r}else{const s=await lY($v(Ho,e),{...n,createdAt:qv(),updatedAt:qv()});return console.log(`[FirebaseService] Novo documento criado com ID: ${s.id}`),s.id}}catch(s){return console.error(`[FirebaseService] Erro ao salvar dados em ${e}, usando localStorage:`,s),this.saveToLocalStorage(e,n,r)}}saveToLocalStorage(e,n,r=null){try{console.log(`[FirebaseService] saveToLocalStorage chamado para ${e}:`,n);const s=this.localStorageKeys[e];if(!s)throw new Error(`Chave localStorage não encontrada para ${e}`);if(console.log(`[FirebaseService] Chave localStorage: ${s}`),e==="configuracoes"){const i={...n,id:r||"config",updatedAt:new Date().toISOString()};return localStorage.setItem(s,JSON.stringify(i)),window.dispatchEvent(new Event("storage")),r||"config"}const o=JSON.parse(localStorage.getItem(s)||"[]");if(console.log(`[FirebaseService] Dados existentes em ${s}:`,o),r){const i=o.findIndex(l=>l.id===r);i!==-1&&(o[i]={...n,id:r,updatedAt:new Date().toISOString()})}else{const i=r||Date.now().toString(),l={...n,id:i,createdAt:new Date().toISOString()};o.push(l),console.log("[FirebaseService] Novo item adicionado:",l)}return console.log(`[FirebaseService] Salvando dados finais em ${s}:`,o),localStorage.setItem(s,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:s,data:o}})),console.log(`[FirebaseService] Evento localStorageChange disparado para ${s}`),r||Date.now().toString()}catch(s){throw console.error("[FirebaseService] Erro ao salvar no localStorage:",s),s}}async getData(e){if(console.log(`[FirebaseService] getData chamado para ${e}`),this.initialized||(console.log(`[FirebaseService] Aguardando inicialização para ${e}`),await this.initPromise),console.log(`[FirebaseService] Firebase disponível para ${e}: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)return console.log(`[FirebaseService] Usando localStorage para ${e}`),this.getFromLocalStorage(e);try{const n=new Promise((o,i)=>setTimeout(()=>i(new Error("Timeout")),2e3)),r=(async()=>{const o=IT($v(Ho,e),RT("createdAt","desc")),i=await oY(o),l=[];return i.forEach(c=>{l.push({id:c.id,...c.data()})}),l})(),s=await Promise.race([r,n]);return console.log(`[FirebaseService] Dados carregados do Firebase para ${e}:`,s.length),s}catch(n){return console.warn(`[FirebaseService] Erro ao buscar dados de ${e}, usando localStorage:`,n.message),this.getFromLocalStorage(e)}}getFromLocalStorage(e){try{const n=this.localStorageKeys[e];if(!n)return console.warn(`Chave localStorage não encontrada para ${e}`),e==="configuracoes"?null:[];console.log(`[FirebaseService] getFromLocalStorage para ${e}, chave: ${n}`);const r=localStorage.getItem(n);console.log("[FirebaseService] Dados brutos do localStorage:",r);const s=JSON.parse(r||(e==="configuracoes"?"null":"[]"));if(console.log("[FirebaseService] Dados parseados:",s),e==="configuracoes")return s;const o=Array.isArray(s)?s:[];return console.log(`[FirebaseService] Retornando array para ${e}:`,o),o}catch(n){return console.error("[FirebaseService] Erro ao buscar do localStorage:",n),e==="configuracoes"?null:[]}}async getDocument(e,n){try{const r=Eu(Ho,e,n),s=await MT(r);return s.exists()?{id:s.id,...s.data()}:null}catch(r){return console.error(`Erro ao buscar documento ${n} de ${e}:`,r),null}}async deleteDocument(e,n){if(!this.isFirebaseAvailable)return this.deleteFromLocalStorage(e,n);try{return await aY(Eu(Ho,e,n)),!0}catch(r){return console.error(`Erro ao deletar documento ${n} de ${e}:`,r),this.deleteFromLocalStorage(e,n)}}deleteFromLocalStorage(e,n){try{const r=this.localStorageKeys[e];if(!r)return console.warn(`Chave localStorage não encontrada para ${e}`),!1;const o=JSON.parse(localStorage.getItem(r)||"[]").filter(i=>i.id!==n);return localStorage.setItem(r,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:r,data:o}})),!0}catch(r){return console.error("[FirebaseService] Erro ao deletar do localStorage:",r),!1}}async subscribeToCollection(e,n){if(console.log(`[FirebaseService] ===== SUBSCRIBE TO COLLECTION ${e} =====`),this.initialized||(console.log(`[FirebaseService] Aguardando inicialização para ${e}`),await this.initPromise),console.log(`[FirebaseService] subscribeToCollection para ${e}, Firebase disponível: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable){console.log(`[FirebaseService] Firebase não disponível, usando localStorage para ${e}`);const s=this.localStorageKeys[e];if(!s)return console.warn(`Chave localStorage não encontrada para ${e}`),()=>{};const o=this.getFromLocalStorage(e);console.log(`[FirebaseService] Dados iniciais para ${e}:`,o),n(o);const i=l=>{if(l.detail&&l.detail.key===s)console.log(`[FirebaseService] Evento localStorageChange recebido para ${e}:`,l.detail.data),n(l.detail.data);else{const c=this.getFromLocalStorage(e);console.log(`[FirebaseService] Fallback - recarregando dados para ${e}:`,c),n(c)}};return window.addEventListener("localStorageChange",i),()=>{window.removeEventListener("localStorageChange",i)}}console.log(`[FirebaseService] Firebase disponível, configurando onSnapshot para ${e}`);const r=IT($v(Ho,e),RT("createdAt","desc"));return cY(r,s=>{const o=[];s.forEach(i=>{o.push({id:i.id,...i.data()})}),console.log(`[FirebaseService] onSnapshot recebido para ${e}:`,o),n(o)},s=>{console.error(`[FirebaseService] Erro no onSnapshot para ${e}:`,s);const o=this.getFromLocalStorage(e);console.log("[FirebaseService] Fallback para localStorage:",o),n(o)})}async saveCliente(e,n=null){return await this.saveData(this.collections.clientes,e,n)}async getClientes(){return await this.getData(this.collections.clientes)}async deleteCliente(e){return await this.deleteDocument(this.collections.clientes,e)}subscribeToClientes(e){return this.subscribeToCollection(this.collections.clientes,e)}async saveOS(e,n=null){return await this.saveData(this.collections.ordensServico,e,n)}async getOS(){return await this.getData(this.collections.ordensServico)}async deleteOS(e){return await this.deleteDocument(this.collections.ordensServico,e)}subscribeToOS(e){return this.subscribeToCollection(this.collections.ordensServico,e)}async saveOV(e,n=null){return await this.saveData(this.collections.ordensVenda,e,n)}async getOV(){return await this.getData(this.collections.ordensVenda)}async deleteOV(e){return await this.deleteDocument(this.collections.ordensVenda,e)}subscribeToOV(e){return this.subscribeToCollection(this.collections.ordensVenda,e)}async saveProduto(e,n=null){return await this.saveData(this.collections.produtos,e,n)}async getProdutos(){return await this.getData(this.collections.produtos)}async deleteProduto(e){return await this.deleteDocument(this.collections.produtos,e)}subscribeToProdutos(e){return this.subscribeToCollection(this.collections.produtos,e)}async saveCategoria(e,n=null){return await this.saveData(this.collections.categorias,e,n)}async getCategorias(){return await this.getData(this.collections.categorias)}async deleteCategoria(e){return await this.deleteDocument(this.collections.categorias,e)}subscribeToCategorias(e){return this.subscribeToCollection(this.collections.categorias,e)}async saveMovimentacao(e,n=null){return await this.saveData(this.collections.movimentacoes,e,n)}async getMovimentacoes(){return await this.getData(this.collections.movimentacoes)}async deleteMovimentacao(e){return await this.deleteDocument(this.collections.movimentacoes,e)}subscribeToMovimentacoes(e){return this.subscribeToCollection(this.collections.movimentacoes,e)}async saveFinanceiro(e,n=null){return await this.saveData(this.collections.financeiro,e,n)}async getFinanceiro(){return await this.getData(this.collections.financeiro)}async deleteFinanceiro(e){return await this.deleteDocument(this.collections.financeiro,e)}subscribeToFinanceiro(e){return this.subscribeToCollection(this.collections.financeiro,e)}async saveUsuario(e,n=null){return await this.saveData(this.collections.usuarios,e,n)}async getUsuarios(){return await this.getData(this.collections.usuarios)}async deleteUsuario(e){return await this.deleteDocument(this.collections.usuarios,e)}subscribeToUsuarios(e){return this.subscribeToCollection(this.collections.usuarios,e)}async saveConfiguracao(e,n=null){try{if(console.log("[FirebaseService] 🚀 Salvando configuração:",e),!n)try{const s=await this.getData(this.collections.configuracoes);s.length>0?(n=s[0].id,console.log("[FirebaseService] ✅ Configuração existente encontrada, ID:",n)):console.log("[FirebaseService] 📝 Criando nova configuração")}catch(s){console.warn("[FirebaseService] ⚠️ Erro ao buscar configuração existente:",s)}const r=await this.saveData(this.collections.configuracoes,e,n);return localStorage.removeItem("crm_config_cache"),console.log("[FirebaseService] ✅ Configuração salva com sucesso:",r),r}catch(r){console.error("[FirebaseService] ❌ Erro ao salvar configuração:",r);try{return localStorage.setItem("crm_configuracoes",JSON.stringify(e)),localStorage.setItem("crm_idioma",e.idioma||"pt-BR"),console.log("[FirebaseService] ✅ Fallback: Configuração salva no localStorage"),"localStorage"}catch(s){throw console.error("[FirebaseService] ❌ Erro no fallback localStorage:",s),r}}}async getConfiguracao(){const e=localStorage.getItem("crm_config_cache");if(e)try{const s=JSON.parse(e),o=s.timestamp;if(Date.now()-o<5*60*1e3)return console.log("[FirebaseService] Usando configuração do cache"),s.config}catch(s){console.warn("[FirebaseService] Erro ao ler cache de configuração:",s)}const n=await this.getData(this.collections.configuracoes),r=n.length>0?n[0]:null;return r&&localStorage.setItem("crm_config_cache",JSON.stringify({config:r,timestamp:Date.now()})),r}async migrateFromLocalStorage(){console.log("Iniciando migração do localStorage para Firebase...");const e=[{key:"crm_clientes",collection:this.collections.clientes},{key:"crm_os",collection:this.collections.ordensServico},{key:"crm_ov",collection:this.collections.ordensVenda},{key:"crm_produtos",collection:this.collections.produtos},{key:"crm_categorias",collection:this.collections.categorias},{key:"crm_movimentacoes",collection:this.collections.movimentacoes},{key:"crm_financeiro",collection:this.collections.financeiro},{key:"crm_usuarios",collection:this.collections.usuarios}];for(const n of e)try{const r=JSON.parse(localStorage.getItem(n.key)||"[]");if(Array.isArray(r)&&r.length>0){console.log(`Migrando ${r.length} itens de ${n.key}...`);for(const s of r){const{id:o,...i}=s;await this.saveData(n.collection,i)}console.log(`Migração de ${n.key} concluída!`)}}catch(r){console.error(`Erro ao migrar ${n.key}:`,r)}try{const n=localStorage.getItem("crm_configuracoes");if(n){const r=JSON.parse(n);await this.saveConfiguracao(r),console.log("Configurações migradas!")}}catch(n){console.error("Erro ao migrar configurações:",n)}console.log("Migração concluída!")}}const zr=new dX,Yi=(t,e={})=>{const[n,r]=g.useState([]),[s,o]=g.useState(!0),[i,l]=g.useState(null),{enableRealtime:c=!0,onError:u=null}=e;return g.useEffect(()=>{let p=null;return(async()=>{try{if(o(!0),l(null),console.log(`[useFirebaseData] ===== INÍCIO CARREGAMENTO ${t} =====`),console.log(`[useFirebaseData] enableRealtime: ${c}`),c)console.log(`[useFirebaseData] Configurando escuta em tempo real para ${t}`),p=await zr.subscribeToCollection(t,x=>{console.log(`[useFirebaseData] Dados recebidos de ${t}:`,x),console.log("[useFirebaseData] Tipo dos dados:",typeof x,Array.isArray(x)),r(Array.isArray(x)?x:[]),o(!1)});else{console.log(`[useFirebaseData] Carregando dados uma única vez para ${t}`);const x=await zr.getData(t);console.log(`[useFirebaseData] Dados carregados de ${t}:`,x),console.log("[useFirebaseData] Tipo dos dados:",typeof x,Array.isArray(x)),r(Array.isArray(x)?x:[]),o(!1)}console.log(`[useFirebaseData] ===== FIM CARREGAMENTO ${t} =====`)}catch(x){console.error(`[useFirebaseData] Erro ao carregar dados de ${t}:`,x),l(x),o(!1),u&&u(x)}})(),()=>{p&&p()}},[t,c,u]),{data:n,loading:s,error:i,save:async(p,m=null)=>{try{console.log(`[useFirebaseData] Salvando item em ${t}:`,p);const x=await zr.saveData(t,p,m);return console.log(`[useFirebaseData] Item salvo com sucesso em ${t}:`,x),x}catch(x){throw console.error(`[useFirebaseData] Erro ao salvar em ${t}:`,x),l(x),x}},remove:async p=>{try{console.log(`[useFirebaseData] Removendo item ${p} de ${t}`);const m=await zr.deleteDocument(t,p);return console.log(`[useFirebaseData] Item removido com sucesso de ${t}`),m}catch(m){throw console.error(`[useFirebaseData] Erro ao deletar de ${t}:`,m),l(m),m}},refresh:()=>{o(!0),zr.getData(t).then(r).finally(()=>o(!1))}}},Mc=()=>Yi("clientes"),cg=()=>Yi("ordens_servico"),eh=()=>Yi("ordens_venda"),th=()=>Yi("produtos"),nh=()=>Yi("categorias"),a1=()=>Yi("movimentacoes"),ug=()=>Yi("financeiro"),l1=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0),console.log("[useConfiguracoesLoja] Carregando configurações da loja...");const c=await zr.getData("configuracoes_loja");console.log("[useConfiguracoesLoja] Configurações carregadas:",c),!c||c.length===0?e({nomeEmpresa:"MultiSmart",descricao:"Manutenção e Comércio de Celulares e Tablets",endereco:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""}):e(c[0]),r(!1)}catch(c){console.error("[useConfiguracoesLoja] Erro ao carregar configurações:",c),o(c),r(!1),e({nomeEmpresa:"MultiSmart",descricao:"Manutenção e Comércio de Celulares e Tablets",endereco:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""})}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{if(console.log("[useConfiguracoesLoja] Salvando configurações:",l),t&&t.id){const c=await zr.saveData("configuracoes_loja",l,t.id);return e({...l,id:t.id}),c}else{const c=await zr.saveData("configuracoes_loja",l);return e({...l,id:c.id}),c}}catch(c){throw console.error("[useConfiguracoesLoja] Erro ao salvar configurações:",c),o(c),c}}}},Lc=()=>{const t=Yi("usuarios");console.log("[useUsuarios] Hook result completo:",t),console.log("[useUsuarios] result.data:",t.data),console.log("[useUsuarios] result.loading:",t.loading),console.log("[useUsuarios] result.error:",t.error);const e=Array.isArray(t.data)?t.data:[];return console.log("[useUsuarios] usuarios finais:",e),{...t,usuarios:e,saveUsuario:t.save}},c1=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0);const c=new Promise((f,p)=>setTimeout(()=>p(new Error("Timeout")),500)),u=zr.getConfiguracao(),d=await Promise.race([u,c]);e(d),r(!1),console.log("[useConfiguracao] Configuração carregada:",d)}catch(c){console.warn("[useConfiguracao] Erro ao carregar configuração, usando padrão:",c.message),e({nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"}),o(c),r(!1)}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{const c=await zr.saveConfiguracao(l);return e(l),c}catch(c){throw console.error("Erro ao salvar configuração:",c),o(c),c}}}},hX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(vr),{data:r,loading:s,save:o,remove:i}=Mc(),{data:l}=eh(),[c,u]=g.useState(""),[d,f]=g.useState(null),[p,m]=g.useState(null),[x,y]=g.useState("grid"),[E,_]=g.useState("nome"),[v,b]=g.useState("asc"),[j,I]=g.useState("todos"),[V,S]=g.useState(!0),[T,A]=g.useState(!1),[R,N]=g.useState("basico"),[k,P]=g.useState({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),{toast:D}=gr(),L=(q=null)=>{var he,te,Ae,Ve,Qe,nt;q?(f(q),P({nome:q.nome||"",telefone:q.telefone||"",email:q.email||"",endereco:q.endereco||"",observacoes:q.observacoes||"",categoria:q.categoria||"cliente",dataNascimento:q.dataNascimento||"",cpf:q.cpf||"",empresa:q.empresa||"",website:q.website||"",foto:q.foto||null,redesSociais:{instagram:((he=q.redesSociais)==null?void 0:he.instagram)||"",facebook:((te=q.redesSociais)==null?void 0:te.facebook)||"",linkedin:((Ae=q.redesSociais)==null?void 0:Ae.linkedin)||""},preferencias:{formaContato:((Ve=q.preferencias)==null?void 0:Ve.formaContato)||"telefone",horarioContato:((Qe=q.preferencias)==null?void 0:Qe.horarioContato)||"comercial",newsletter:((nt=q.preferencias)==null?void 0:nt.newsletter)||!1}}),console.log("[Clientes] Editando cliente:",q)):(f(null),P({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),console.log("[Clientes] Novo cliente, formulário limpo")),e("clientes"),console.log("[Clientes] Dialog de cliente aberto")},$=()=>{n("clientes"),console.log("[Clientes] Dialog de cliente fechado")},H=async q=>{if(q.preventDefault(),console.log("[Clientes] Submissão do formulário de cliente:",k,d),!k.nome){D({title:"Campo obrigatório",description:"Nome é obrigatório!",variant:"destructive"});return}if(!k.telefone){D({title:"Campo obrigatório",description:"Telefone é obrigatório! Navegando para aba de contato...",variant:"destructive"}),N("contato");return}try{const he={...k,createdAt:d?d.createdAt:new Date().toISOString()};await o(he,d==null?void 0:d.id),d?(console.log("[Clientes] Cliente atualizado:",he),D({title:"Sucesso!",description:"Cliente atualizado com sucesso!"})):(console.log("[Clientes] Cliente cadastrado:",he),D({title:"Sucesso!",description:"Cliente cadastrado com sucesso!"})),$()}catch(he){console.error("[Clientes] Erro ao salvar cliente:",he),D({title:"Erro",description:"Erro ao salvar cliente. Tente novamente.",variant:"destructive"})}},M=async q=>{try{await i(q),console.log("[Clientes] Cliente removido:",q),D({title:"Sucesso!",description:"Cliente removido com sucesso!"})}catch(he){console.error("[Clientes] Erro ao remover cliente:",he),D({title:"Erro",description:"Erro ao remover cliente. Tente novamente.",variant:"destructive"})}},z=q=>{const he=l.filter(Qe=>Qe.clienteId===q.id),te=he.length,Ae=he.reduce((Qe,nt)=>Qe+(nt.total||0),0),Ve=he.length>0?new Date(Math.max(...he.map(Qe=>new Date(Qe.createdAt)))):null;return{totalCompras:te,totalGasto:Ae,ultimaCompra:Ve,ticketMedio:te>0?Ae/te:0,status:te===0?"novo":Ae>1e3?"vip":Ve&&Date.now()-Ve.getTime()<30*24*60*60*1e3?"ativo":"inativo"}},K=()=>{const q=r.length,he=r.filter(Ve=>l.some(Qe=>Qe.clienteId===Ve.id)).length,te=r.filter(Ve=>{const Qe=new Date(Ve.createdAt);return Date.now()-Qe.getTime()<30*24*60*60*1e3}).length,Ae=r.filter(Ve=>z(Ve).status==="vip").length;return{total:q,comCompras:he,novos:te,vip:Ae}},X=r.filter(q=>{const he=q.nome.toLowerCase().includes(c.toLowerCase())||q.telefone.includes(c)||q.email&&q.email.toLowerCase().includes(c.toLowerCase()),te=z(q),Ae=j==="todos"||j==="vip"&&te.status==="vip"||j==="novos"&&te.totalCompras===0||j==="ativos"&&te.status==="ativo"||j==="inativos"&&te.status==="inativo";return he&&Ae}).sort((q,he)=>{let te=0;switch(E){case"nome":te=q.nome.localeCompare(he.nome);break;case"data":te=new Date(q.createdAt)-new Date(he.createdAt);break;case"compras":te=z(q).totalCompras-z(he).totalCompras;break;case"gasto":te=z(q).totalGasto-z(he).totalGasto;break;default:te=q.nome.localeCompare(he.nome)}return v==="asc"?te:-te}),ce=q=>{navigator.clipboard.writeText(q),D({title:"Copiado!",description:"Informação copiada para a área de transferência"})},ue=q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q),ge=q=>{const he=q[0];if(!he)return;if(!he.type.startsWith("image/")){D({title:"Tipo de arquivo inválido!",description:"Por favor, selecione apenas imagens.",variant:"destructive"});return}if(he.size>2*1024*1024){D({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 2MB.",variant:"destructive"});return}const te=new FileReader;te.onload=()=>{const Ae=new Image;Ae.onload=()=>{const Ve=document.createElement("canvas"),Qe=Ve.getContext("2d");let{width:nt,height:rt}=Ae;const ft=1e3;nt>rt?nt>ft&&(rt=rt*ft/nt,nt=ft):rt>ft&&(nt=nt*ft/rt,rt=ft),Ve.width=nt,Ve.height=rt,Qe.drawImage(Ae,0,0,nt,rt);const F=Ve.toDataURL("image/jpeg",.9);P(le=>({...le,foto:F})),D({title:"Foto adicionada!",description:"Foto do cliente carregada com sucesso."})},Ae.src=te.result},te.onerror=()=>{D({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},te.readAsDataURL(he)},{getRootProps:We,getInputProps:je,isDragActive:de}=ab({onDrop:ge,accept:{"image/*":[]},multiple:!1}),Pe=()=>{P(q=>({...q,foto:null})),D({title:"Foto removida!",description:"Foto do cliente removida com sucesso."})},Ye=K();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-6 text-white",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",children:"👥 Clientes"}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie sua base de clientes com inteligência"})]}),a.jsx(Ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(Mn,{open:t.clientes,onOpenChange:$,children:[a.jsxs(Q,{onClick:()=>L(),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 text-white",size:"lg",children:[a.jsx(yu,{className:"h-5 w-5 mr-2"}),"Novo Cliente"]}),a.jsxs(xn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(yn,{children:[a.jsxs(wn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(yu,{className:"h-6 w-6 text-blue-500"}),d?"Editar Cliente":"Novo Cliente"]}),a.jsx(Lm,{children:"Preencha as informações do cliente. Campos obrigatórios marcados com *."})]}),a.jsxs("form",{onSubmit:H,className:"space-y-6",children:[a.jsxs(za,{value:R,onValueChange:N,className:"w-full",children:[a.jsxs(Ii,{className:"grid w-full grid-cols-3",children:[a.jsx(rn,{value:"basico",children:"Básico"}),a.jsx(rn,{value:"contato",children:"Contato"}),a.jsx(rn,{value:"preferencias",children:"Preferências"})]}),a.jsxs(sn,{value:"basico",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx(re,{className:"text-sm font-medium",children:"Foto do Cliente"}),k.foto?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:k.foto,alt:"Foto do cliente",className:"w-32 h-32 rounded-full object-cover border-4 border-slate-200 dark:border-slate-700 shadow-lg"}),a.jsx(Q,{type:"button",variant:"destructive",size:"icon",onClick:Pe,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full",children:a.jsx(pr,{className:"h-3 w-3"})})]}):a.jsxs("div",{...We(),className:`w-32 h-32 border-2 border-dashed rounded-full flex flex-col items-center justify-center cursor-pointer transition-all duration-200 ${de?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[a.jsx("input",{...je()}),a.jsx(_a,{className:"h-8 w-8 text-slate-400 mb-2"}),a.jsx("p",{className:"text-xs text-slate-500 text-center px-2",children:de?"🎯 Solte a foto aqui":"📷 Arraste uma foto ou clique para selecionar"})]}),a.jsx("p",{className:"text-xs text-slate-500 text-center",children:"PNG, JPG até 2MB • Redimensionada para 1000x1000px"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"nome",children:"Nome Completo *"}),a.jsx(me,{id:"nome",value:k.nome,onChange:q=>P({...k,nome:q.target.value}),placeholder:"João Silva",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"categoria",children:"Categoria"}),a.jsxs(lt,{value:k.categoria,onValueChange:q=>P({...k,categoria:q}),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"cliente",children:"Cliente"}),a.jsx(ae,{value:"fornecedor",children:"Fornecedor"}),a.jsx(ae,{value:"parceiro",children:"Parceiro"}),a.jsx(ae,{value:"vip",children:"VIP"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"cpf",children:"CPF"}),a.jsx(me,{id:"cpf",value:k.cpf,onChange:q=>P({...k,cpf:q.target.value}),placeholder:"000.000.000-00"})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),a.jsx(me,{id:"dataNascimento",type:"date",value:k.dataNascimento,onChange:q=>P({...k,dataNascimento:q.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"empresa",children:"Empresa"}),a.jsx(me,{id:"empresa",value:k.empresa,onChange:q=>P({...k,empresa:q.target.value}),placeholder:"Nome da empresa"})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"observacoes",children:"Observações"}),a.jsx(md,{id:"observacoes",value:k.observacoes,onChange:q=>P({...k,observacoes:q.target.value}),placeholder:"Informações adicionais sobre o cliente",rows:3})]})]}),a.jsxs(sn,{value:"contato",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"telefone",children:"Telefone *"}),a.jsx(me,{id:"telefone",value:k.telefone,onChange:q=>P({...k,telefone:q.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"email",children:"E-mail"}),a.jsx(me,{id:"email",type:"email",value:k.email,onChange:q=>P({...k,email:q.target.value}),placeholder:"email@exemplo.com"})]})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"endereco",children:"Endereço"}),a.jsx(md,{id:"endereco",value:k.endereco,onChange:q=>P({...k,endereco:q.target.value}),placeholder:"Endereço completo",rows:2})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"website",children:"Website"}),a.jsx(me,{id:"website",value:k.website,onChange:q=>P({...k,website:q.target.value}),placeholder:"https://exemplo.com"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(re,{children:"Redes Sociais"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"instagram",className:"text-sm",children:"Instagram"}),a.jsx(me,{id:"instagram",value:k.redesSociais.instagram,onChange:q=>P({...k,redesSociais:{...k.redesSociais,instagram:q.target.value}}),placeholder:"@usuario"})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"facebook",className:"text-sm",children:"Facebook"}),a.jsx(me,{id:"facebook",value:k.redesSociais.facebook,onChange:q=>P({...k,redesSociais:{...k.redesSociais,facebook:q.target.value}}),placeholder:"facebook.com/usuario"})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"linkedin",className:"text-sm",children:"LinkedIn"}),a.jsx(me,{id:"linkedin",value:k.redesSociais.linkedin,onChange:q=>P({...k,redesSociais:{...k.redesSociais,linkedin:q.target.value}}),placeholder:"linkedin.com/in/usuario"})]})]})]})]}),a.jsxs(sn,{value:"preferencias",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"formaContato",children:"Forma de Contato Preferida"}),a.jsxs(lt,{value:k.preferencias.formaContato,onValueChange:q=>P({...k,preferencias:{...k.preferencias,formaContato:q}}),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"telefone",children:"Telefone"}),a.jsx(ae,{value:"email",children:"E-mail"}),a.jsx(ae,{value:"whatsapp",children:"WhatsApp"}),a.jsx(ae,{value:"instagram",children:"Instagram"})]})]})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"horarioContato",children:"Horário de Contato"}),a.jsxs(lt,{value:k.preferencias.horarioContato,onValueChange:q=>P({...k,preferencias:{...k.preferencias,horarioContato:q}}),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"comercial",children:"Comercial (9h-18h)"}),a.jsx(ae,{value:"manha",children:"Manhã (6h-12h)"}),a.jsx(ae,{value:"tarde",children:"Tarde (12h-18h)"}),a.jsx(ae,{value:"noite",children:"Noite (18h-22h)"}),a.jsx(ae,{value:"livre",children:"Qualquer horário"})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"newsletter",checked:k.preferencias.newsletter,onChange:q=>P({...k,preferencias:{...k.preferencias,newsletter:q.target.checked}}),className:"rounded"}),a.jsx(re,{htmlFor:"newsletter",children:"Receber newsletter e promoções"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600",children:d?"Atualizar Cliente":"Cadastrar Cliente"}),a.jsx(Q,{type:"button",variant:"outline",onClick:$,children:"Cancelar"})]})]})]})]})})]}),V&&a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(vs,{className:"h-5 w-5 text-blue-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Total"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ye.total})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(ls,{className:"h-5 w-5 text-green-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Compraram"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ye.comCompras})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(_f,{className:"h-5 w-5 text-yellow-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"VIP"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ye.vip})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(yu,{className:"h-5 w-5 text-purple-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Novos"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ye.novos})]})]})})]})]}),a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar clientes...",value:c,onChange:q=>u(q.target.value),className:"pl-10"})]}),a.jsxs(lt,{value:j,onValueChange:I,children:[a.jsxs(it,{className:"w-full sm:w-40",children:[a.jsx(Rw,{className:"h-4 w-4 mr-2"}),a.jsx(ct,{})]}),a.jsxs(at,{children:[a.jsx(ae,{value:"todos",children:"Todos"}),a.jsx(ae,{value:"vip",children:"VIP"}),a.jsx(ae,{value:"novos",children:"Novos"}),a.jsx(ae,{value:"ativos",children:"Ativos"}),a.jsx(ae,{value:"inativos",children:"Inativos"})]})]}),a.jsxs(lt,{value:E,onValueChange:_,children:[a.jsxs(it,{className:"w-full sm:w-40",children:[a.jsx(sr,{className:"h-4 w-4 mr-2"}),a.jsx(ct,{})]}),a.jsxs(at,{children:[a.jsx(ae,{value:"nome",children:"Nome"}),a.jsx(ae,{value:"data",children:"Data"}),a.jsx(ae,{value:"compras",children:"Compras"}),a.jsx(ae,{value:"gasto",children:"Gasto"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q,{variant:v==="asc"?"default":"outline",size:"sm",onClick:()=>b(v==="asc"?"desc":"asc"),children:v==="asc"?a.jsx(Fz,{className:"h-4 w-4"}):a.jsx(Lz,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex border border-slate-200 dark:border-slate-700 rounded-lg",children:[a.jsx(Q,{variant:x==="grid"?"default":"ghost",size:"sm",onClick:()=>y("grid"),className:"rounded-r-none",children:a.jsx(sr,{className:"h-4 w-4"})}),a.jsx(Q,{variant:x==="list"?"default":"ghost",size:"sm",onClick:()=>y("list"),className:"rounded-l-none",children:a.jsx(vs,{className:"h-4 w-4"})})]})]})]})}),a.jsx(Iw,{mode:"wait",children:s?a.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Carregando clientes..."})]}):a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:x==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:X.map((q,he)=>{const te=z(q),Ae={novo:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",vip:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"};return x==="grid"?a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:he*.05},whileHover:{y:-5},className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[q.foto?a.jsx("img",{src:q.foto,alt:q.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:q.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-lg group-hover:text-blue-600 transition-colors",children:q.nome}),a.jsx(cs,{className:Ae[te.status],children:te.status==="novo"?"Novo":te.status==="vip"?"VIP":te.status==="ativo"?"Ativo":"Inativo"})]})]}),a.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(q),A(!0)},className:"h-8 w-8",children:a.jsx($l,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>L(q),className:"h-8 w-8",children:a.jsx(gs,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>M(q.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(qr,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[a.jsx(Ea,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:q.telefone}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ce(q.telefone),className:"h-6 w-6 ml-auto",children:a.jsx(Vh,{className:"h-3 w-3"})})]}),q.email&&a.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[a.jsx(Sa,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm truncate",children:q.email}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ce(q.email),className:"h-6 w-6 ml-auto",children:a.jsx(Vh,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:te.totalCompras}),a.jsx("p",{className:"text-xs text-slate-500",children:"Compras"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:ue(te.totalGasto)}),a.jsx("p",{className:"text-xs text-slate-500",children:"Total Gasto"})]})]})]})]},q.id):a.jsx(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:he*.05},className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[q.foto?a.jsx("img",{src:q.foto,alt:q.nome,className:"w-10 h-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:q.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:q.nome}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(Ea,{className:"h-3 w-3"}),q.telefone,q.email&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsx(Sa,{className:"h-3 w-3"}),q.email]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium",children:[te.totalCompras," compras"]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:ue(te.totalGasto)})]}),a.jsx(cs,{className:Ae[te.status],children:te.status==="novo"?"Novo":te.status==="vip"?"VIP":te.status==="ativo"?"Ativo":"Inativo"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(q),A(!0)},className:"h-8 w-8",children:a.jsx($l,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>L(q),className:"h-8 w-8",children:a.jsx(gs,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>M(q.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(qr,{className:"h-4 w-4"})})]})]})]})},q.id)})},x)}),!s&&X.length===0&&a.jsxs(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(vs,{className:"h-12 w-12 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:c?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:c?"Tente buscar com outros termos":"Comece cadastrando seu primeiro cliente"}),!c&&a.jsxs(Q,{onClick:()=>L(),className:"bg-gradient-to-r from-blue-600 to-purple-600",children:[a.jsx(yu,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Cliente"]})]}),a.jsx(Mn,{open:T,onOpenChange:A,children:a.jsx(xn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:p&&a.jsxs(a.Fragment,{children:[a.jsx(yn,{children:a.jsxs(wn,{className:"text-2xl font-bold flex items-center gap-3",children:[p.foto?a.jsx("img",{src:p.foto,alt:p.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:p.nome.charAt(0).toUpperCase()}),p.nome]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(en,{children:[a.jsx(un,{className:"pb-3",children:a.jsxs(dn,{className:"text-lg flex items-center gap-2",children:[a.jsx(ls,{className:"h-5 w-5 text-blue-500"}),"Compras"]})}),a.jsxs(tn,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:z(p).totalCompras}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total de compras realizadas"})]})]}),a.jsxs(en,{children:[a.jsx(un,{className:"pb-3",children:a.jsxs(dn,{className:"text-lg flex items-center gap-2",children:[a.jsx(ar,{className:"h-5 w-5 text-green-500"}),"Total Gasto"]})}),a.jsxs(tn,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:ue(z(p).totalGasto)}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor total gasto"})]})]})]}),a.jsxs(en,{children:[a.jsx(un,{children:a.jsxs(dn,{className:"text-lg flex items-center gap-2",children:[a.jsx(ms,{className:"h-5 w-5 text-purple-500"}),"Informações de Contato"]})}),a.jsxs(tn,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ea,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:p.telefone}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ce(p.telefone),className:"h-6 w-6 ml-auto",children:a.jsx(Vh,{className:"h-3 w-3"})})]}),p.email&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sa,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:p.email}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ce(p.email),className:"h-6 w-6 ml-auto",children:a.jsx(Vh,{className:"h-3 w-3"})})]}),p.endereco&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(yp,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:p.endereco})]})]})]})]})]})})})]})},fX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(vr),{data:r,loading:s,save:o,remove:i}=cg(),{data:l}=Mc(),{save:c}=ug(),{config:u}=l1(),[d,f]=g.useState(""),[p,m]=g.useState("Todos"),[x,y]=g.useState("grid"),[E,_]=g.useState(null),[v,b]=g.useState({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),{toast:j}=gr();console.log("[OS] ===== DADOS CARREGADOS ====="),console.log("[OS] Ordens:",r),console.log("[OS] Clientes:",l),console.log("[OS] Loading:",s);const I=(L=null)=>{L?(_(L),b({...L,valor:L.valor?L.valor.toString():""}),console.log("[OS] Editando OS:",L)):(_(null),b({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),console.log("[OS] Nova OS, formulário limpo")),e("os"),console.log("[OS] Dialog de OS aberto")},V=()=>{n("os"),console.log("[OS] Dialog de OS fechado")},S=async(L,$)=>{try{if($==="add"){const H={descricao:`Recebimento da OS: ${L.numero}`,valor:parseFloat(L.valor),dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`os-${L.id}`};await c(H),console.log("[OS] ✅ Entrada financeira criada:",H)}}catch(H){console.error("[OS] ❌ Erro ao atualizar financeiro:",H)}},T=async L=>{if(L.preventDefault(),!v.clienteNome||!v.clienteTelefone||!v.titulo||!v.senha||!v.valor){j({title:"Erro",description:"Todos os campos obrigatórios devem ser preenchidos!",variant:"destructive"});return}try{const $={numero:E?E.numero:`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,...v,valor:parseFloat(v.valor),createdAt:E?E.createdAt:new Date().toISOString()};await o($,E==null?void 0:E.id),j(E?{title:"Sucesso!",description:"OS atualizada com sucesso!"}:{title:"Sucesso!",description:"OS criada com sucesso!"}),$.status==="Concluída"?await S($,"add"):await S($,"remove"),b({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),_(null),V()}catch($){console.error("[OS] ❌ Erro ao salvar OS:",$),j({title:"Erro",description:"Erro ao salvar ordem de serviço. Tente novamente.",variant:"destructive"})}},A=async L=>{try{const $=r==null?void 0:r.find(H=>H.id===L);$&&await S($,"remove"),await i(L),j({title:"Sucesso!",description:"OS removida com sucesso!"})}catch($){console.error("[OS] ❌ Erro ao remover OS:",$),j({title:"Erro",description:"Erro ao remover ordem de serviço. Tente novamente.",variant:"destructive"})}},R=L=>{const $=new Date().toLocaleDateString("pt-BR"),H=L.numero||`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,M=u||{},z=M.nomeEmpresa||"MultiSmart",K=M.descricao||"Manutenção e Comércio de Celulares e Tablets",X=M.endereco||"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",ce=M.cnpj||"47.309.271/0001-97",ue=M.telefone||"(17)3345-1016",ge=M.whatsapp||"(17)99157-1263",We=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Ordem de Serviço - ${H}</title>
          <meta charset="UTF-8">
          <style>
            @page {
              size: A4;
              margin: 0.5cm;
            }
            
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 0;
              color: #000; 
              font-size: 12px;
              line-height: 1.3;
            }
            
            .page {
              width: 21cm;
              height: 29.7cm;
              page-break-after: always;
              position: relative;
              border: 1px solid #ccc;
              box-sizing: border-box;
            }
            
            .page:last-child {
              page-break-after: avoid;
            }
            
            .cut-line {
              border-top: 2px dashed #000;
              margin: 14.85cm 0;
              position: relative;
            }
            
            .cut-line::before {
              content: "CORTE AQUI";
              position: absolute;
              top: -8px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 0 10px;
              font-size: 10px;
              font-weight: bold;
            }
            
            .os-container {
              padding: 20px;
              height: 14.35cm;
              box-sizing: border-box;
              position: relative;
            }
            
            .header {
              text-align: center;
              margin-bottom: 25px;
              border-bottom: 2px solid #000;
              padding-bottom: 15px;
            }
            
            .company-name {
              font-size: 28px;
              font-weight: bold;
              color: #2E8B57;
              margin-bottom: 5px;
              text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            }
            
            .company-subtitle {
              font-size: 14px;
              color: #666;
              margin-bottom: 10px;
            }
            
            .company-info {
              font-size: 11px;
              line-height: 1.4;
            }
            
            .os-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin: 20px 0;
              padding: 10px;
              background: #f5f5f5;
              border-radius: 5px;
            }
            
            .os-number {
              font-size: 24px;
              font-weight: bold;
              color: #2E8B57;
            }
            
            .os-date {
              font-size: 14px;
              font-weight: bold;
            }
            
            .form-section {
              display: grid;
              grid-template-columns: 1fr 1fr 1fr;
              gap: 20px;
              margin-bottom: 20px;
            }
            
            .form-column {
              display: flex;
              flex-direction: column;
            }
            
            .form-field {
              margin-bottom: 15px;
            }
            
            .form-label {
              font-weight: bold;
              font-size: 11px;
              margin-bottom: 5px;
              display: block;
            }
            
            .form-input {
              border: none;
              border-bottom: 1px solid #000;
              padding: 5px 0;
              font-size: 12px;
              width: 100%;
              background: transparent;
            }
            
            .form-textarea {
              border: 1px solid #ccc;
              padding: 8px;
              font-size: 11px;
              width: 100%;
              min-height: 60px;
              resize: none;
              background: #fafafa;
            }
            
            .phone-input {
              font-family: monospace;
              letter-spacing: 1px;
            }
            
            .terms-section {
              margin-top: 20px;
              padding: 15px;
              border: 1px solid #000;
              border-radius: 5px;
            }
            
            .terms-title {
              text-align: center;
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 15px;
              border-bottom: 1px dashed #000;
              padding-bottom: 5px;
            }
            
            .terms-list {
              list-style: none;
              padding: 0;
              margin: 0;
            }
            
            .terms-list li {
              margin-bottom: 8px;
              font-size: 11px;
              line-height: 1.4;
            }
            
            .dots-grid {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 5px;
              margin-top: 10px;
            }
            
            .dot {
              width: 8px;
              height: 8px;
              background: #000;
              border-radius: 50%;
              margin: 0 auto;
            }
            
            .footer-section {
              display: grid;
              grid-template-columns: 1fr 1fr 2fr;
              gap: 20px;
              margin-top: 20px;
              padding-top: 15px;
              border-top: 1px solid #000; 
            }
            
            .signature-line {
              border-bottom: 1px solid #000;
              padding: 5px 0;
              text-align: center;
              font-size: 11px;
              font-weight: bold;
            }
            
            .print-info {
              font-size: 10px;
              color: #666;
              text-align: center; 
              margin-top: 10px;
            }
            
            @media print {
              .page {
                border: none;
              }
              .cut-line {
                border-top: 2px dashed #000;
              }
            }
          </style>
        </head>
        <body>
          <!-- Primeira OS -->
          <div class="page">
            <div class="os-container">
              <div class="header">
                <div class="company-name">${z}</div>
                <div class="company-subtitle">${K}</div>
                <div class="company-info">
                  ${X}<br>
                  CNPJ: ${ce} | Fone: ${ue} | WhatsApp: ${ge}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${$}</div>
                <div class="os-number">N°O.S.: ${H}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${L.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitação/Reclamação:</label>
                    <div class="form-textarea">${L.observacoes||""}</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${L.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Serviços executados/peças:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${L.clienteTelefone||"(  )     -    "}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                </div>
              </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorização para execução de serviço ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias será sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados após análise serão comunicados posteriormente.</li>
                  <li>4 - Não haverá garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                </div>
              </div>
              
              <div class="footer-section">
                <div class="signature-line">Pin: ${L.senha||""}</div>
                <div class="signature-line">Senha: ${L.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>
          
          <!-- Linha de corte -->
          <div class="cut-line"></div>
          
          <!-- Segunda OS (cópia) -->
          <div class="page">
            <div class="os-container">
          <div class="header">
                <div class="company-name">${z}</div>
                <div class="company-subtitle">${K}</div>
                <div class="company-info">
                  ${X}<br>
                  CNPJ: ${ce} | Fone: ${ue} | WhatsApp: ${ge}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${$}</div>
                <div class="os-number">N°O.S.: ${H}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${L.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitação/Reclamação:</label>
                    <div class="form-textarea">${L.observacoes||""}</div>
                  </div>
          </div>
          
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${L.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Serviços executados/peças:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
            </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${L.clienteTelefone||"(  )     -    "}</div>
            </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
            </div>
            </div>
            </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorização para execução de serviço ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias será sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados após análise serão comunicados posteriormente.</li>
                  <li>4 - Não haverá garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
          </div>

              <div class="footer-section">
                <div class="signature-line">Pin: ${L.senha||""}</div>
                <div class="signature-line">Senha: ${L.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>

          <div class="print-info">
            Impresso em: ${new Date().toLocaleString("pt-BR")} | MultiSmart CRM System
          </div>
        </body>
      </html>
    `,je=window.open("","_blank","width=800,height=600");je.document.write(We),je.document.close(),je.focus(),setTimeout(()=>{je.print()},500)},N=L=>{const $=l.find(H=>H.id===parseInt(L));$&&b({...v,clienteNome:$.nome,clienteTelefone:$.telefone})},k=(r||[]).filter(L=>{var M,z,K,X;const $=((M=L.clienteNome)==null?void 0:M.toLowerCase().includes(d.toLowerCase()))||((z=L.numero)==null?void 0:z.toLowerCase().includes(d.toLowerCase()))||((K=L.titulo)==null?void 0:K.toLowerCase().includes(d.toLowerCase()))||((X=L.clienteTelefone)==null?void 0:X.toLowerCase().includes(d.toLowerCase())),H=p==="Todos"||L.status===p;return $&&H}),P=L=>{switch(L){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Em Andamento":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluída":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},D={total:(r==null?void 0:r.length)||0,pendentes:(r==null?void 0:r.filter(L=>L.status==="Pendente").length)||0,emAndamento:(r==null?void 0:r.filter(L=>L.status==="Em Andamento").length)||0,concluidas:(r==null?void 0:r.filter(L=>L.status==="Concluída").length)||0,valorTotal:(r==null?void 0:r.reduce((L,$)=>L+($.valor||0),0))||0};return a.jsxs("div",{className:"space-y-8",children:[a.jsx(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[a.jsx(wi,{className:"h-10 w-10"}),"Ordens de Serviço"]}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie e acompanhe todos os seus serviços"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(Q,{onClick:()=>y(x==="grid"?"list":"grid"),variant:"secondary",className:"bg-white/20 hover:bg-white/30 border-white/30",children:[x==="grid"?a.jsx($l,{className:"h-4 w-4 mr-2"}):a.jsx(wi,{className:"h-4 w-4 mr-2"}),x==="grid"?"Lista":"Cards"]}),a.jsxs(Mn,{open:t.os,onOpenChange:V,children:[a.jsxs(Q,{onClick:()=>I(),className:"bg-white text-blue-600 hover:bg-blue-50 shadow-lg",children:[a.jsx(Er,{className:"h-5 w-5 mr-2"}),"Nova OS"]}),a.jsxs(xn,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[a.jsx(yn,{children:a.jsx(wn,{children:E?"Editar OS":"Nova Ordem de Serviço"})}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.length>0&&a.jsxs("div",{children:[a.jsx(re,{children:"Selecionar Cliente Existente"}),a.jsxs(lt,{onValueChange:N,children:[a.jsx(it,{children:a.jsx(ct,{placeholder:"Escolha um cliente..."})}),a.jsx(at,{children:l.map(L=>a.jsxs(ae,{value:L.id.toString(),children:[L.nome," - ",L.telefone]},L.id))})]})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"clienteNome",children:"Nome do Cliente *"}),a.jsx(me,{id:"clienteNome",value:v.clienteNome,onChange:L=>b({...v,clienteNome:L.target.value}),placeholder:"Nome do cliente",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"clienteTelefone",children:"Telefone do Cliente *"}),a.jsx(me,{id:"clienteTelefone",value:v.clienteTelefone,onChange:L=>b({...v,clienteTelefone:L.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"titulo",children:"Descrição/Título *"}),a.jsx(me,{id:"titulo",value:v.titulo,onChange:L=>b({...v,titulo:L.target.value}),placeholder:"Ex: Troca de tela, reparo de bateria...",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"senha",children:"Senha do Dispositivo *"}),a.jsx(me,{id:"senha",value:v.senha,onChange:L=>b({...v,senha:L.target.value}),placeholder:"Senha ou PIN",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"valor",children:"Valor do Serviço (R$) *"}),a.jsx(me,{id:"valor",type:"number",step:"0.01",value:v.valor,onChange:L=>b({...v,valor:L.target.value}),placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"status",children:"Status"}),a.jsxs(lt,{value:v.status,onValueChange:L=>b({...v,status:L}),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"Pendente",children:"Pendente"}),a.jsx(ae,{value:"Em Andamento",children:"Em Andamento"}),a.jsx(ae,{value:"Concluída",children:"Concluída"})]})]})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"observacoes",children:"Observações"}),a.jsx(md,{id:"observacoes",value:v.observacoes,onChange:L=>b({...v,observacoes:L.target.value}),placeholder:"Observações adicionais",rows:3})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{type:"submit",className:"flex-1",children:E?"Atualizar":"Criar OS"}),a.jsx(Q,{type:"button",variant:"outline",onClick:V,children:"Cancelar"})]})]})]})]})]})]})}),a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:D.total})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(ms,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Pendentes"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:D.pendentes})]}),a.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Em Andamento"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:D.emAndamento})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(wi,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Concluídas"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:D.concluidas})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Bl,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Valor Total"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D.valorTotal)})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(bn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})]}),a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx(me,{placeholder:"Buscar por cliente, número, descrição ou telefone...",value:d,onChange:L=>f(L.target.value),className:"pl-12 h-12 text-lg"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(lt,{value:p,onValueChange:m,children:[a.jsxs(it,{className:"w-48 h-12",children:[a.jsx(Rw,{className:"h-4 w-4 mr-2"}),a.jsx(ct,{})]}),a.jsxs(at,{children:[a.jsx(ae,{value:"Todos",children:"Todos os Status"}),a.jsx(ae,{value:"Pendente",children:"Pendentes"}),a.jsx(ae,{value:"Em Andamento",children:"Em Andamento"}),a.jsx(ae,{value:"Concluída",children:"Concluídas"})]})]}),a.jsxs(Q,{variant:"outline",className:"h-12",children:[a.jsx(xp,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})}),a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:s?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Carregando ordens de serviço..."})]}):a.jsx(a.Fragment,{children:x==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map((L,$)=>a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:$*.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-xl",children:L.numero}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${P(L.status)}`,children:L.status})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>R(L),className:"h-10 w-10 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:a.jsx(wp,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>I(L),className:"h-10 w-10 hover:bg-green-100 dark:hover:bg-green-900/30",children:a.jsx(gs,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>A(L.id),className:"h-10 w-10 hover:bg-red-100 dark:hover:bg-red-900/30",children:a.jsx(qr,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(Br,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:L.clienteNome}),a.jsxs("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[a.jsx(Ea,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:L.clienteTelefone})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:a.jsx(s9,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsx("div",{children:a.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-sm",children:L.titulo})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(bn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx("div",{children:a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:L.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L.valor):"R$ 0,00"})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:a.jsx(oc,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Senha: ",a.jsx("span",{className:"font-mono font-semibold",children:L.senha})]})})]}),L.observacoes&&a.jsx("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:L.observacoes})}),a.jsxs("div",{className:"flex items-center space-x-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(ua,{className:"h-4 w-4 text-slate-400"}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Criada em: ",new Date(L.createdAt).toLocaleDateString("pt-BR")]})]})]})]},L.id))}):a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"OS"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Serviço"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Valor"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Data"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:k.map((L,$)=>a.jsxs(Ee.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:$*.05},className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:L.numero})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:L.clienteNome}),a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:L.clienteTelefone})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-slate-900 dark:text-white max-w-xs truncate",children:L.titulo})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${P(L.status)}`,children:L.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:L.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L.valor):"R$ 0,00"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(L.createdAt).toLocaleDateString("pt-BR")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>R(L),className:"h-8 w-8",children:a.jsx(wp,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>I(L),className:"h-8 w-8",children:a.jsx(gs,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>A(L.id),className:"h-8 w-8 text-red-500 hover:text-red-700",children:a.jsx(qr,{className:"h-4 w-4"})})]})})]},L.id))})]})})})})}),!s&&k.length===0&&a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[a.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:a.jsx(ms,{className:"h-10 w-10 text-slate-400"})}),a.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:d||p!=="Todos"?"Nenhuma OS encontrada":"Nenhuma OS cadastrada"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-6 max-w-md mx-auto",children:d||p!=="Todos"?"Tente ajustar os filtros ou buscar com outros termos":"Comece criando sua primeira ordem de serviço e organize seus atendimentos"}),!d&&p==="Todos"&&a.jsxs(Q,{onClick:()=>I(),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[a.jsx(Er,{className:"h-5 w-5 mr-2"}),"Criar Primeira OS"]})]})]})},pX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(vr),{toast:r}=gr(),{data:s,save:o,remove:i}=eh(),{data:l}=Mc(),{data:c,save:u}=th(),{data:d}=nh(),{save:f}=a1(),[p,m]=g.useState(""),[x,y]=g.useState("todas"),[E,_]=g.useState(""),[v,b]=g.useState([]),[j,I]=g.useState(null),[V,S]=g.useState("selecionar"),[T,A]=g.useState(""),[R,N]=g.useState([]),[k,P]=g.useState(!1);g.useState(""),g.useState([]),g.useState(!1);const[D,L]=g.useState({}),[$,H]=g.useState({}),[M,z]=g.useState({}),[K,X]=g.useState(!1),[ce,ue]=g.useState([]),[ge,We]=g.useState({tipo:"porcentagem",valor:0}),[je,de]=g.useState(!1),[Pe,Ye]=g.useState("recentes");g.useState(!1);const[q,he]=g.useState(null),[te,Ae]=g.useState({clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0});g.useEffect(()=>{console.log("[OV] Clientes carregados:",l),console.log("[OV] Produtos carregados:",c),console.log("[OV] Categorias carregadas:",d),console.log("[OV] Ordens carregadas:",s)},[l,c,d,s]);const Ve=async U=>{try{await o(U),r({title:"Sucesso!",description:"Ordem de Venda criada com sucesso!"})}catch(se){console.error("[OV] Erro ao salvar OV:",se),r({title:"Erro!",description:"Erro ao criar Ordem de Venda.",variant:"destructive"})}},Qe=(U=null)=>{he(U),Ae(U?{clienteId:U.clienteId,clienteNome:U.clienteNome,produtos:U.produtos,status:U.status,total:U.total}:{clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0}),e("ov")},nt=()=>{he(null),n("ov"),console.log("[OV] Dialog de OV fechado")},rt=U=>U.reduce((se,oe)=>se+oe.preco*oe.quantidade,0),ft=(U,se,oe)=>{const ve=[...te.produtos];if(se==="produtoId"){const B=c.find(Y=>Y.id===oe);B&&(ve[U]={...ve[U],produtoId:oe,nome:B.nome,preco:B.preco})}else ve[U][se]=se==="quantidade"||se==="preco"?parseFloat(oe)||0:oe;const $n=rt(ve);Ae({...te,produtos:ve,total:$n})},F=()=>{Ae({...te,produtos:[...te.produtos,{produtoId:"",nome:"",preco:0,quantidade:1}]})},le=U=>{const se=te.produtos.filter((ve,$n)=>$n!==U),oe=rt(se);Ae({...te,produtos:se,total:oe})},ne=(U,se)=>{const oe=JSON.parse(localStorage.getItem("crm_financeiro")||"[]");let ve=oe;if(se==="add"){if(!oe.find(B=>B.origemId===`ov-${U.id}`)){const B={id:Date.now(),descricao:`Recebimento da OV: ${U.numero}`,valor:U.total,dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`ov-${U.id}`,createdAt:new Date().toISOString()};ve=[...oe,B]}}else se==="remove"&&(ve=oe.filter($n=>$n.origemId!==`ov-${U.id}`));localStorage.setItem("crm_financeiro",JSON.stringify(ve)),window.dispatchEvent(new Event("storage"))},_e=async U=>{if(U.preventDefault(),!te.clienteNome||te.produtos.length===0||te.produtos.some(oe=>!oe.nome)){r({title:"Erro",description:"Cliente e pelo menos um produto são obrigatórios!",variant:"destructive"});return}const se={numero:q?q.numero:`OV${String(s.length+1).padStart(4,"0")}`,...te,createdAt:q?q.createdAt:new Date().toISOString()};try{q?(await o(se,q.id),r({title:"Sucesso!",description:"OV atualizada com sucesso!"})):(await o(se),r({title:"Sucesso!",description:"OV criada com sucesso!"})),se.status==="Concluída"?ne(se,"add"):ne(se,"remove"),nt()}catch(oe){console.error("[OV] Erro ao salvar OV:",oe),r({title:"Erro!",description:"Erro ao salvar OV.",variant:"destructive"})}},ze=async U=>{try{const se=s.find(oe=>oe.id===U);if(!se){r({title:"Erro!",description:"OV não encontrada",variant:"destructive"});return}ne(se,"remove"),await i(U),r({title:"Sucesso!",description:"OV removida com sucesso!"}),console.log(`✅ OV ${se.numero} removida com sucesso`)}catch(se){console.error("❌ Erro ao excluir OV:",se),r({title:"Erro!",description:"Erro ao excluir a OV. Tente novamente.",variant:"destructive"})}},Z=U=>{if(A(U),U.length>0){const se=l.filter(oe=>{var ve;return oe.nome.toLowerCase().includes(U.toLowerCase())||oe.telefone.includes(U)||((ve=oe.email)==null?void 0:ve.toLowerCase().includes(U.toLowerCase()))});N(se),P(!0)}else N([]),P(!1)},be=U=>{I(U),A(U.nome),P(!1)},He=(U,se)=>{if(L(oe=>({...oe,[U]:se})),se.length>0){const oe=c.filter(ve=>ve.nome.toLowerCase().includes(se.toLowerCase())||ve.codigo.toLowerCase().includes(se.toLowerCase()));H(ve=>({...ve,[U]:oe})),z(ve=>({...ve,[U]:!0}))}else H(oe=>({...oe,[U]:[]})),z(oe=>({...oe,[U]:!1}))},wt=(U,se)=>{ft(U,"produtoId",se.id),L(oe=>({...oe,[U]:se.nome})),z(oe=>({...oe,[U]:!1}))};g.useEffect(()=>{V!=="selecionar"&&(A(""),N([]),P(!1))},[V]),g.useEffect(()=>{t.ov||(A(""),N([]),P(!1),L({}),H({}),z({}))},[t.ov]);const $t=U=>{const se=v.find(oe=>oe.id===U.id);b(se?v.map(oe=>oe.id===U.id?{...oe,quantidade:oe.quantidade+1}:oe):[...v,{...U,quantidade:1}]),r({title:"Produto adicionado!",description:`${U.nome} foi adicionado ao carrinho`})},Jn=U=>{b(v.filter(se=>se.id!==U)),r({title:"Produto removido!",description:"Produto removido do carrinho"})},Zn=(U,se)=>{if(se<=0){Jn(U);return}b(v.map(oe=>oe.id===U?{...oe,quantidade:se}:oe))},xr=()=>v.reduce((U,se)=>U+se.preco*se.quantidade,0),Ts=()=>{if(v.length===0){r({title:"Carrinho vazio!",description:"Adicione produtos ao carrinho antes de finalizar",variant:"destructive"});return}if(!j){r({title:"Cliente não informado!",description:"Selecione um cliente antes de finalizar",variant:"destructive"});return}X(!0)},Qr=()=>{b([]),I(null),setClienteDigitado(""),S("selecionar"),ue([]),We({tipo:"porcentagem",valor:0}),r({title:"Venda cancelada",description:"Carrinho limpo"})},Bn=()=>{ue([...ce,{id:Date.now(),tipo:"dinheiro",valor:0,observacao:""}])},Xr=U=>{ue(ce.filter(se=>se.id!==U))},yr=(U,se,oe)=>{ue(ce.map(ve=>ve.id===U?{...ve,[se]:oe}:ve))},Xt=()=>{const U=xr();return ge.tipo==="porcentagem"?U*(1-ge.valor/100):Math.max(0,U-ge.valor)},er=()=>ce.reduce((U,se)=>U+se.valor,0),Jr=async U=>{try{for(const se of U){const oe=c.find(ve=>ve.id===se.produtoId);if(oe){const ve=oe.quantidade-se.quantidade;await u({...oe,quantidade:ve},oe.id),await f({produtoId:se.produtoId,produto:se.nome,tipo:"saida",quantidade:se.quantidade,observacao:`Venda - OV ${s.length+1}`,data:new Date().toISOString(),usuario:"Sistema",createdAt:new Date().toISOString()}),console.log(`✅ Baixa realizada: ${se.nome} - ${se.quantidade} unidades`)}}r({title:"Estoque atualizado!",description:"Baixa realizada com sucesso no estoque"})}catch(se){console.error("❌ Erro ao dar baixa no estoque:",se),r({title:"Erro no estoque!",description:"Erro ao atualizar o estoque. Verifique manualmente.",variant:"destructive"})}},so=async()=>{const U=Xt(),se=er();if(se<U){r({title:"Valor insuficiente!",description:`Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U)} | Pago: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(se)}`,variant:"destructive"});return}const oe={numero:`OV${String(s.length+1).padStart(4,"0")}`,clienteId:j.id||null,clienteNome:j.nome,produtos:v.map(ve=>({produtoId:ve.id,nome:ve.nome,preco:ve.preco,quantidade:ve.quantidade})),status:"Concluída",total:U,desconto:ge,formasPagamento:ce,troco:se-U,createdAt:new Date().toISOString()};try{await Ve(oe),await Jr(v),ne(oe,"add"),b([]),I(null),setClienteDigitado(""),S("selecionar"),ue([]),We({tipo:"porcentagem",valor:0}),X(!1),r({title:"Venda finalizada!",description:`OV criada com sucesso. Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U)}. Estoque atualizado.`})}catch(ve){console.error("[OV] Erro ao finalizar pagamento:",ve),r({title:"Erro!",description:"Erro ao finalizar a venda.",variant:"destructive"})}},Ns=c.filter(U=>{const se=U.nome.toLowerCase().includes(p.toLowerCase())||U.codigo.toLowerCase().includes(p.toLowerCase()),oe=x==="todas"||U.categoriaId===x;return se&&oe}),rl=new Date().toISOString().slice(0,10),Ft=s.filter(U=>{var oe,ve;return((oe=U.createdAt)!=null&&oe.toDate?U.createdAt.toDate().toISOString().slice(0,10):(ve=U.createdAt)==null?void 0:ve.slice(0,10))===rl}).sort((U,se)=>{var $n,B;const oe=($n=U.createdAt)!=null&&$n.toDate?U.createdAt.toDate():new Date(U.createdAt),ve=(B=se.createdAt)!=null&&B.toDate?se.createdAt.toDate():new Date(se.createdAt);return Pe==="recentes"?ve-oe:oe-ve}),oo=Ft.filter(U=>U.clienteNome.toLowerCase().includes(E.toLowerCase())||U.numero.toLowerCase().includes(E.toLowerCase())),Zr=U=>{switch(U){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Processando":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluída":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelada":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Ordens de Venda"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Catálogo de produtos e carrinho de vendas"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Mn,{open:t.ov,onOpenChange:nt,children:[a.jsxs(Q,{onClick:()=>Qe(),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(Er,{className:"h-4 w-4 mr-2"}),"Nova OV Manual"]}),a.jsxs(xn,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(yn,{children:a.jsxs(wn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(ls,{className:"h-6 w-6 text-blue-500"}),q?"Editar OV":"Nova Ordem de Venda"]})}),a.jsxs("form",{onSubmit:_e,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Br,{className:"h-5 w-5 text-blue-500"}),"Informações do Cliente"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Cliente Cadastrado"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(me,{value:T,onChange:U=>Z(U.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),a.jsx(Cr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),k&&R.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:R.map(U=>a.jsx("div",{onClick:()=>{Ae({...te,clienteId:U.id.toString(),clienteNome:U.nome}),A(U.nome),P(!1)},className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx(Br,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:U.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:[U.telefone," ",U.email&&`• ${U.email}`]})]})]})},U.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome, telefone ou email do cliente para buscar"}),l.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Cadastre clientes no módulo Clientes primeiro"})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"clienteNome",className:"text-sm font-medium",children:"Nome do Cliente"}),a.jsx(me,{id:"clienteNome",value:te.clienteNome,onChange:U=>Ae({...te,clienteNome:U.target.value}),placeholder:"Digite o nome do cliente",className:"mt-1",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use este campo se o cliente não estiver cadastrado"})]})]}),te.clienteNome&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["✅ Cliente: ",a.jsx("span",{className:"font-semibold",children:te.clienteNome})]})})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Kn,{className:"h-5 w-5 text-green-500"}),"Produtos"]}),a.jsxs(Q,{type:"button",onClick:F,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[a.jsx(Er,{className:"h-4 w-4 mr-1"}),"Adicionar Produto"]})]}),a.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:te.produtos.map((U,se)=>{var oe;return a.jsxs("div",{className:"bg-white dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white",children:["Produto ",se+1]}),te.produtos.length>1&&a.jsx(Q,{type:"button",variant:"ghost",size:"icon",onClick:()=>le(se),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(qr,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Produto Cadastrado"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(me,{value:D[se]||"",onChange:ve=>He(se,ve.target.value),placeholder:"Digite o nome ou código do produto...",className:"pr-10"}),a.jsx(Cr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),M[se]&&((oe=$[se])==null?void 0:oe.length)>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:$[se].map(ve=>a.jsx("div",{onClick:()=>wt(se,ve),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[ve.imagem&&a.jsx("img",{src:ve.imagem,alt:ve.nome,className:"w-8 h-8 object-cover rounded border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:ve.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Código: ",ve.codigo," | Estoque: ",ve.quantidade," | ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ve.preco)]})]})]})},ve.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome ou código do produto para buscar"}),c.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Cadastre produtos no módulo Estoque primeiro"})]}),a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Nome do Produto"}),a.jsx(me,{value:U.nome,onChange:ve=>ft(se,"nome",ve.target.value),placeholder:"Nome do produto",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Preço Unitário"}),a.jsx(me,{type:"number",step:"0.01",value:U.preco,onChange:ve=>ft(se,"preco",ve.target.value),placeholder:"0.00",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Quantidade"}),a.jsx(me,{type:"number",min:"1",value:U.quantidade,onChange:ve=>ft(se,"quantidade",ve.target.value),className:"mt-1"})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Subtotal:"}),a.jsx("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U.preco*U.quantidade)})]})})]},se)})})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"status",className:"text-sm font-medium",children:"Status da OV"}),a.jsxs(lt,{value:te.status,onValueChange:U=>Ae({...te,status:U}),className:"mt-1",children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"Pendente",children:"Pendente"}),a.jsx(ae,{value:"Processando",children:"Processando"}),a.jsx(ae,{value:"Concluída",children:"Concluída"}),a.jsx(ae,{value:"Cancelada",children:"Cancelada"})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Total da OV"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(te.total)})]})})]})}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2",children:q?"Atualizar OV":"Criar OV"}),a.jsx(Q,{type:"button",variant:"outline",onClick:nt,className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(Q,{onClick:()=>de(!0),variant:"outline",className:"border-blue-500 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:["Ver OVs do Dia (",Ft.length,")"]})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar produtos...",value:p,onChange:U=>m(U.target.value),className:"pl-10"})]}),a.jsxs(lt,{value:x,onValueChange:y,children:[a.jsx(it,{className:"w-48",children:a.jsx(ct,{placeholder:"Categoria"})}),a.jsxs(at,{children:[a.jsx(ae,{value:"todas",children:"Todas as categorias"}),d.map(U=>a.jsx(ae,{value:U.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:U.cor}}),U.nome]})},U.id))]})]})]}),a.jsx("div",{className:"space-y-6",children:d.map(U=>{const se=Ns.filter(oe=>oe.categoriaId===U.id);return se.length===0?null:a.jsxs("div",{children:[a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 border rounded-lg p-3 mb-4",style:{borderColor:U.cor},children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:U.nome}),a.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[se.length," produtos"]})]})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:se.map((oe,ve)=>a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ve*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex gap-3",children:[oe.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:oe.imagem,alt:oe.nome,className:"w-16 h-16 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:oe.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",oe.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(bn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(oe.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Kn,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${oe.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[oe.quantidade," ",oe.quantidade<=5&&"(Baixo)"]})]})]}),a.jsxs(Q,{size:"sm",onClick:()=>$t(oe),className:"w-full mt-2 bg-green-500 hover:bg-green-600 text-white",disabled:oe.quantidade<=0,children:[a.jsx(Er,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})]})},oe.id))})]},U.id)})}),Ns.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Kn,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:p?"Nenhum produto encontrado":"Nenhum produto cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:p?"Tente buscar com outros termos":"Cadastre produtos no módulo de Estoque"})]})]}),a.jsxs("div",{className:"w-80 bg-white dark:bg-slate-800 rounded-lg border p-4 h-fit sticky top-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(ls,{className:"h-5 w-5"}),"Carrinho"]}),v.length>0&&a.jsx(Q,{size:"sm",variant:"outline",onClick:Qr,children:a.jsx(pr,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs(re,{className:"text-sm font-medium",children:["Cliente ",l.length>0&&`(${l.length} cadastrados)`]}),a.jsx("div",{className:"mb-2",children:a.jsx("span",{className:"text-xs text-slate-500",children:l.length===0?"Nenhum cliente encontrado":`${l.length} cliente(s) disponível(is)`})}),a.jsx("div",{className:"space-y-2 mb-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(me,{value:T,onChange:U=>Z(U.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),a.jsx(Cr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),k&&R.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:R.map(U=>a.jsx("div",{onClick:()=>be(U),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx(Br,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:U.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:[U.telefone," ",U.email&&`• ${U.email}`]})]})]})},U.id))})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"💡 Digite o nome, telefone ou email do cliente para buscar"}),j&&a.jsxs("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:["✅ Cliente selecionado: ",j.nome]}),l.length===0&&a.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:"⚠️ Nenhum cliente cadastrado. Digite o nome do cliente abaixo."})]})})]}),a.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:v.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ls,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Seu carrinho está vazio"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Adicione produtos do catálogo"})]}):v.map(U=>a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:U.nome}),a.jsx("p",{className:"text-xs text-slate-500",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U.preco)})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Zn(U.id,U.quantidade-1),className:"h-6 w-6 p-0",children:a.jsx(Qz,{className:"h-3 w-3"})}),a.jsx("span",{className:"text-sm w-6 text-center",children:U.quantidade}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Zn(U.id,U.quantidade+1),className:"h-6 w-6 p-0",children:a.jsx(Er,{className:"h-3 w-3"})})]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Jn(U.id),className:"h-6 w-6 p-0 text-red-500",children:a.jsx(pr,{className:"h-3 w-3"})})]},U.id))}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"font-semibold",children:"Total:"}),a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",xr().toFixed(2)]})]}),a.jsx(Q,{onClick:Ts,className:"w-full bg-green-600 hover:bg-green-700",disabled:v.length===0||!j,children:"Finalizar Venda"})]})]})]}),a.jsx(Mn,{open:je,onOpenChange:de,children:a.jsxs(xn,{className:"max-w-7xl max-h-[95vh] flex flex-col bg-white dark:bg-slate-900",children:[a.jsxs(yn,{className:"pb-4 flex-shrink-0",children:[a.jsxs(wn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(ls,{className:"h-6 w-6 text-blue-500"}),"Ordens de Venda do Dia",a.jsxs("span",{className:"text-lg font-normal text-slate-500",children:["(",Ft.length," OVs)"]})]}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Todas as ordens de venda criadas hoje (",new Date().toLocaleDateString("pt-BR"),")"]})]}),a.jsxs("div",{className:"mb-6 space-y-4 flex-shrink-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar OVs por cliente ou número...",value:E,onChange:U=>_(U.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(re,{className:"text-sm font-medium",children:"Ordenar por:"}),a.jsxs(lt,{value:Pe,onValueChange:Ye,children:[a.jsx(it,{className:"w-48",children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"recentes",children:"Mais Recentes"}),a.jsx(ae,{value:"antigas",children:"Mais Antigas"})]})]})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[oo.length," OV(s) encontrada(s)"]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",maxHeight:"calc(95vh - 200px)"},children:[a.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),oo.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ls,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-slate-900 dark:text-white mb-2",children:E?"Nenhuma OV encontrada":"Nenhuma OV criada hoje"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:E?"Tente buscar com outros termos":"As OVs criadas hoje aparecerão aqui"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:oo.map((U,se)=>{var oe;return a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:se*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:U.numero}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Zr(U.status)}`,children:U.status})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>Qe(U),className:"h-7 w-7 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/20",children:a.jsx(gs,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>ze(U.id),className:"h-7 w-7 p-0 text-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20",children:a.jsx(qr,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(Br,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:U.clienteNome})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[a.jsx(ls,{className:"h-4 w-4"}),a.jsxs("span",{children:[U.produtos.length," produto(s)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bn,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U.total)})]})]}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date((oe=U.createdAt)!=null&&oe.toDate?U.createdAt.toDate():U.createdAt).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})})]}),a.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:a.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:U.produtos.map((ve,$n)=>a.jsxs("div",{className:"flex justify-between items-center text-xs bg-slate-50 dark:bg-slate-700/50 p-2 rounded",children:[a.jsx("span",{className:"font-medium truncate flex-1 mr-2",children:ve.nome}),a.jsxs("span",{className:"text-slate-500 whitespace-nowrap",children:[ve.quantidade,"x ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ve.preco)]})]},$n))})})]})},U.id)})})]})]})}),a.jsx(Mn,{open:K,onOpenChange:X,children:a.jsxs(xn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(yn,{children:a.jsx(wn,{children:"Finalizar Venda - Formas de Pagamento"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Resumo da Venda"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cliente:"}),a.jsx("span",{className:"font-medium",children:j==null?void 0:j.nome})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Original:"}),a.jsxs("span",{children:["R$ ",xr().toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Desconto:"}),a.jsx("span",{className:"text-red-600",children:ge.valor>0?ge.tipo==="porcentagem"?`${ge.valor}% (${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(xr()*ge.valor/100)})`:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ge.valor):a.jsx("span",{className:"text-slate-500",children:"Nenhum desconto"})})]}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[a.jsx("span",{children:"Total Final:"}),a.jsxs("span",{className:"text-green-600",children:["R$ ",Xt().toFixed(2)]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold",children:"Desconto"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(lt,{value:ge.tipo,onValueChange:U=>We({...ge,tipo:U}),children:[a.jsx(it,{className:"w-32",children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"porcentagem",children:"%"}),a.jsx(ae,{value:"valor",children:"R$"})]})]}),a.jsx(me,{type:"number",step:ge.tipo==="porcentagem"?"1":"0.01",min:"0",max:ge.tipo==="porcentagem"?"100":xr(),value:ge.valor,onChange:U=>We({...ge,valor:parseFloat(U.target.value)||0}),placeholder:"0",className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold",children:"Formas de Pagamento"}),a.jsxs(Q,{size:"sm",onClick:Bn,children:[a.jsx(Er,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),a.jsx("div",{className:"space-y-3",children:ce.map((U,se)=>a.jsxs("div",{className:"flex gap-3 items-center p-3 border rounded-lg",children:[a.jsxs(lt,{value:U.tipo,onValueChange:oe=>yr(U.id,"tipo",oe),children:[a.jsx(it,{className:"w-32",children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"dinheiro",children:"Dinheiro"}),a.jsx(ae,{value:"cartao_debito",children:"Cartão Débito"}),a.jsx(ae,{value:"cartao_credito",children:"Cartão Crédito"}),a.jsx(ae,{value:"pix",children:"PIX"}),a.jsx(ae,{value:"cheque",children:"Cheque"}),a.jsx(ae,{value:"outros",children:"Outros"})]})]}),a.jsx(me,{type:"number",step:"0.01",min:"0",value:U.valor,onChange:oe=>yr(U.id,"valor",parseFloat(oe.target.value)||0),placeholder:"Valor",className:"flex-1"}),a.jsx(me,{value:U.observacao,onChange:oe=>yr(U.id,"observacao",oe.target.value),placeholder:"Observação",className:"flex-1"}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Xr(U.id),className:"text-red-500",children:a.jsx(pr,{className:"h-4 w-4"})})]},U.id))})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Pago:"}),a.jsxs("span",{className:"font-semibold",children:["R$ ",er().toFixed(2)]})]}),er()>Xt()&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Troco:"}),a.jsxs("span",{className:"font-semibold",children:["R$ ",(er()-Xt()).toFixed(2)]})]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Q,{onClick:so,className:"flex-1 bg-green-600 hover:bg-green-700",disabled:ce.length===0||er()<Xt(),children:"Finalizar Pagamento"}),a.jsx(Q,{variant:"outline",onClick:()=>X(!1),className:"flex-1",children:"Cancelar"})]})]})]})})]})};var dg={exports:{}},BO={};function $O(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=$O(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function eN(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=$O(t))&&(r&&(r+=" "),r+=e);return r}const mX=Object.freeze(Object.defineProperty({__proto__:null,clsx:eN,default:eN},Symbol.toStringTag,{value:"Module"})),gX=JM(mX);var Vt={},no={};Object.defineProperty(no,"__esModule",{value:!0});no.dontSetMe=bX;no.findInArray=vX;no.int=wX;no.isFunction=xX;no.isNum=yX;function vX(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function xX(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function yX(t){return typeof t=="number"&&!isNaN(t)}function wX(t){return parseInt(t,10)}function bX(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var nl={};Object.defineProperty(nl,"__esModule",{value:!0});nl.browserPrefixToKey=WO;nl.browserPrefixToStyle=_X;nl.default=void 0;nl.getPrefix=qO;const Gv=["Moz","Webkit","O","ms"];function qO(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Gv.length;r++)if(WO(e,Gv[r])in n)return Gv[r];return""}function WO(t,e){return e?"".concat(e).concat(SX(t)):t}function _X(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function SX(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}nl.default=qO();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.addClassName=KO;Vt.addEvent=TX;Vt.addUserSelectStyles=LX;Vt.createCSSTransform=RX;Vt.createSVGTransform=DX;Vt.getTouch=OX;Vt.getTouchIdentifier=MX;Vt.getTranslation=u1;Vt.innerHeight=PX;Vt.innerWidth=AX;Vt.matchesSelector=GO;Vt.matchesSelectorAndParentsTo=CX;Vt.offsetXYFromParent=IX;Vt.outerHeight=kX;Vt.outerWidth=jX;Vt.removeClassName=YO;Vt.removeEvent=NX;Vt.removeUserSelectStyles=VX;var Pr=no,tN=EX(nl);function HO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(HO=function(r){return r?n:e})(t)}function EX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=HO(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var i=s?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let tf="";function GO(t,e){return tf||(tf=(0,Pr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Pr.isFunction)(t[n])})),(0,Pr.isFunction)(t[tf])?t[tf](e):!1}function CX(t,e,n){let r=t;do{if(GO(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function TX(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function NX(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function kX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Pr.int)(n.borderTopWidth),e+=(0,Pr.int)(n.borderBottomWidth),e}function jX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Pr.int)(n.borderLeftWidth),e+=(0,Pr.int)(n.borderRightWidth),e}function PX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Pr.int)(n.paddingTop),e-=(0,Pr.int)(n.paddingBottom),e}function AX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Pr.int)(n.paddingLeft),e-=(0,Pr.int)(n.paddingRight),e}function IX(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-s.left)/n,i=(t.clientY+e.scrollTop-s.top)/n;return{x:o,y:i}}function RX(t,e){const n=u1(t,e,"px");return{[(0,tN.browserPrefixToKey)("transform",tN.default)]:n}}function DX(t,e){return u1(t,e,"")}function u1(t,e,n){let{x:r,y:s}=t,o="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const i="".concat(typeof e.x=="string"?e.x:e.x+n),l="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(i,", ").concat(l,")")+o}return o}function OX(t,e){return t.targetTouches&&(0,Pr.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Pr.findInArray)(t.changedTouches,n=>e===n.identifier)}function MX(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function LX(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&KO(t.body,"react-draggable-transparent-selection")}function VX(t){if(t)try{if(t.body&&YO(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function KO(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function YO(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.canDragX=UX;ro.canDragY=BX;ro.createCoreData=qX;ro.createDraggableData=WX;ro.getBoundPosition=FX;ro.getControlPosition=$X;ro.snapToGrid=zX;var br=no,Dl=Vt;function FX(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:HX(r);const s=d1(t);if(typeof r=="string"){const{ownerDocument:o}=s,i=o.defaultView;let l;if(r==="parent"?l=s.parentNode:l=o.querySelector(r),!(l instanceof i.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=l,u=i.getComputedStyle(s),d=i.getComputedStyle(c);r={left:-s.offsetLeft+(0,br.int)(d.paddingLeft)+(0,br.int)(u.marginLeft),top:-s.offsetTop+(0,br.int)(d.paddingTop)+(0,br.int)(u.marginTop),right:(0,Dl.innerWidth)(c)-(0,Dl.outerWidth)(s)-s.offsetLeft+(0,br.int)(d.paddingRight)-(0,br.int)(u.marginRight),bottom:(0,Dl.innerHeight)(c)-(0,Dl.outerHeight)(s)-s.offsetTop+(0,br.int)(d.paddingBottom)-(0,br.int)(u.marginBottom)}}return(0,br.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,br.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,br.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,br.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function zX(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function UX(t){return t.props.axis==="both"||t.props.axis==="x"}function BX(t){return t.props.axis==="both"||t.props.axis==="y"}function $X(t,e,n){const r=typeof e=="number"?(0,Dl.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=d1(n),o=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Dl.offsetXYFromParent)(r||t,o,n.props.scale)}function qX(t,e,n){const r=!(0,br.isNum)(t.lastX),s=d1(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function WX(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function HX(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function d1(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var hg={},fg={};Object.defineProperty(fg,"__esModule",{value:!0});fg.default=GX;function GX(){}Object.defineProperty(hg,"__esModule",{value:!0});hg.default=void 0;var Kv=YX(g),tr=h1(cw),KX=h1(Es),In=Vt,Go=ro,Yv=no,uu=h1(fg);function h1(t){return t&&t.__esModule?t:{default:t}}function QO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(QO=function(r){return r?n:e})(t)}function YX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=QO(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var i=s?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function qn(t,e,n){return e=QX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QX(t){var e=XX(t,"string");return typeof e=="symbol"?e:String(e)}function XX(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const rs={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ko=rs.mouse,pg=class extends Kv.Component{constructor(){super(...arguments),qn(this,"dragging",!1),qn(this,"lastX",NaN),qn(this,"lastY",NaN),qn(this,"touchIdentifier",null),qn(this,"mounted",!1),qn(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,In.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,In.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,In.getTouchIdentifier)(e);this.touchIdentifier=s;const o=(0,Go.getControlPosition)(e,s,this);if(o==null)return;const{x:i,y:l}=o,c=(0,Go.createCoreData)(this,i,l);(0,uu.default)("DraggableCore: handleDragStart: %j",c),(0,uu.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,In.addUserSelectStyles)(r),this.dragging=!0,this.lastX=i,this.lastY=l,(0,In.addEvent)(r,Ko.move,this.handleDrag),(0,In.addEvent)(r,Ko.stop,this.handleDragStop))}),qn(this,"handleDrag",e=>{const n=(0,Go.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX,c=s-this.lastY;if([l,c]=(0,Go.snapToGrid)(this.props.grid,l,c),!l&&!c)return;r=this.lastX+l,s=this.lastY+c}const o=(0,Go.createCoreData)(this,r,s);if((0,uu.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),qn(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Go.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,u=s-this.lastY||0;[c,u]=(0,Go.snapToGrid)(this.props.grid,c,u),r=this.lastX+c,s=this.lastY+u}const o=(0,Go.createCoreData)(this,r,s);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,In.removeUserSelectStyles)(l.ownerDocument),(0,uu.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,uu.default)("DraggableCore: Removing handlers"),(0,In.removeEvent)(l.ownerDocument,Ko.move,this.handleDrag),(0,In.removeEvent)(l.ownerDocument,Ko.stop,this.handleDragStop))}),qn(this,"onMouseDown",e=>(Ko=rs.mouse,this.handleDragStart(e))),qn(this,"onMouseUp",e=>(Ko=rs.mouse,this.handleDragStop(e))),qn(this,"onTouchStart",e=>(Ko=rs.touch,this.handleDragStart(e))),qn(this,"onTouchEnd",e=>(Ko=rs.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,In.addEvent)(e,rs.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,In.removeEvent)(n,rs.mouse.move,this.handleDrag),(0,In.removeEvent)(n,rs.touch.move,this.handleDrag),(0,In.removeEvent)(n,rs.mouse.stop,this.handleDragStop),(0,In.removeEvent)(n,rs.touch.stop,this.handleDragStop),(0,In.removeEvent)(e,rs.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,In.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:KX.default.findDOMNode(this)}render(){return Kv.cloneElement(Kv.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};hg.default=pg;qn(pg,"displayName","DraggableCore");qn(pg,"propTypes",{allowAnyClick:tr.default.bool,children:tr.default.node.isRequired,disabled:tr.default.bool,enableUserSelectHack:tr.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:tr.default.arrayOf(tr.default.number),handle:tr.default.string,cancel:tr.default.string,nodeRef:tr.default.object,onStart:tr.default.func,onDrag:tr.default.func,onStop:tr.default.func,onMouseDown:tr.default.func,scale:tr.default.number,className:Yv.dontSetMe,style:Yv.dontSetMe,transform:Yv.dontSetMe});qn(pg,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=p(g),n=d(cw),r=d(Es),s=d(gX),o=Vt,i=ro,l=no,c=d(hg),u=d(fg);function d(v){return v&&v.__esModule?v:{default:v}}function f(v){if(typeof WeakMap!="function")return null;var b=new WeakMap,j=new WeakMap;return(f=function(I){return I?j:b})(v)}function p(v,b){if(!b&&v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var j=f(b);if(j&&j.has(v))return j.get(v);var I={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in v)if(S!=="default"&&Object.prototype.hasOwnProperty.call(v,S)){var T=V?Object.getOwnPropertyDescriptor(v,S):null;T&&(T.get||T.set)?Object.defineProperty(I,S,T):I[S]=v[S]}return I.default=v,j&&j.set(v,I),I}function m(){return m=Object.assign?Object.assign.bind():function(v){for(var b=1;b<arguments.length;b++){var j=arguments[b];for(var I in j)Object.prototype.hasOwnProperty.call(j,I)&&(v[I]=j[I])}return v},m.apply(this,arguments)}function x(v,b,j){return b=y(b),b in v?Object.defineProperty(v,b,{value:j,enumerable:!0,configurable:!0,writable:!0}):v[b]=j,v}function y(v){var b=E(v,"string");return typeof b=="symbol"?b:String(b)}function E(v,b){if(typeof v!="object"||v===null)return v;var j=v[Symbol.toPrimitive];if(j!==void 0){var I=j.call(v,b||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(v)}class _ extends e.Component{static getDerivedStateFromProps(b,j){let{position:I}=b,{prevPropsPosition:V}=j;return I&&(!V||I.x!==V.x||I.y!==V.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:I,prevPropsPosition:V}),{x:I.x,y:I.y,prevPropsPosition:{...I}}):null}constructor(b){super(b),x(this,"onDragStart",(j,I)=>{if((0,u.default)("Draggable: onDragStart: %j",I),this.props.onStart(j,(0,i.createDraggableData)(this,I))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(j,I)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",I);const V=(0,i.createDraggableData)(this,I),S={x:V.x,y:V.y,slackX:0,slackY:0};if(this.props.bounds){const{x:A,y:R}=S;S.x+=this.state.slackX,S.y+=this.state.slackY;const[N,k]=(0,i.getBoundPosition)(this,S.x,S.y);S.x=N,S.y=k,S.slackX=this.state.slackX+(A-S.x),S.slackY=this.state.slackY+(R-S.y),V.x=S.x,V.y=S.y,V.deltaX=S.x-this.state.x,V.deltaY=S.y-this.state.y}if(this.props.onDrag(j,V)===!1)return!1;this.setState(S)}),x(this,"onDragStop",(j,I)=>{if(!this.state.dragging||this.props.onStop(j,(0,i.createDraggableData)(this,I))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",I);const S={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:A,y:R}=this.props.position;S.x=A,S.y=R}this.setState(S)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,j;return(b=(j=this.props)===null||j===void 0||(j=j.nodeRef)===null||j===void 0?void 0:j.current)!==null&&b!==void 0?b:r.default.findDOMNode(this)}render(){const{axis:b,bounds:j,children:I,defaultPosition:V,defaultClassName:S,defaultClassNameDragging:T,defaultClassNameDragged:A,position:R,positionOffset:N,scale:k,...P}=this.props;let D={},L=null;const H=!!!R||this.state.dragging,M=R||V,z={x:(0,i.canDragX)(this)&&H?this.state.x:M.x,y:(0,i.canDragY)(this)&&H?this.state.y:M.y};this.state.isElementSVG?L=(0,o.createSVGTransform)(z,N):D=(0,o.createCSSTransform)(z,N);const K=(0,s.default)(I.props.className||"",S,{[T]:this.state.dragging,[A]:this.state.dragged});return e.createElement(c.default,m({},P,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(I),{className:K,style:{...I.props.style,...D},transform:L}))}}t.default=_,x(_,"displayName","Draggable"),x(_,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),x(_,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(BO);const{default:XO,DraggableCore:JX}=BO;dg.exports=XO;dg.exports.default=XO;dg.exports.DraggableCore=JX;var ZX=dg.exports;const eJ=Ga(ZX);var Wt=globalThis&&globalThis.__assign||function(){return Wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Wt.apply(this,arguments)},nN={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},rN={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},nf={width:"20px",height:"20px",position:"absolute",zIndex:1},tJ={top:Wt(Wt({},nN),{top:"-5px"}),right:Wt(Wt({},rN),{left:void 0,right:"-5px"}),bottom:Wt(Wt({},nN),{top:void 0,bottom:"-5px"}),left:Wt(Wt({},rN),{left:"-5px"}),topRight:Wt(Wt({},nf),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Wt(Wt({},nf),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Wt(Wt({},nf),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Wt(Wt({},nf),{left:"-10px",top:"-10px",cursor:"nw-resize"})},nJ=g.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,s=t.replaceStyles,o=t.className,i=g.useCallback(function(u){e(u,n)},[e,n]),l=g.useCallback(function(u){e(u,n)},[e,n]),c=g.useMemo(function(){return Wt(Wt({position:"absolute",userSelect:"none"},tJ[n]),s??{})},[s,n]);return a.jsx("div",{className:o||void 0,style:c,onMouseDown:i,onTouchStart:l,children:r})}),rJ=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ds=globalThis&&globalThis.__assign||function(){return Ds=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ds.apply(this,arguments)},sJ={width:"auto",height:"auto"},rf=function(t,e,n){return Math.max(Math.min(t,n),e)},sN=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},dl=function(t,e){return new RegExp(t,"i").test(e)},sf=function(t){return!!(t.touches&&t.touches.length)},oJ=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},oN=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(o,i,l){return Math.abs(i-t)<Math.abs(e[o]-t)?l:o},0),s=Math.abs(e[r]-t);return n===0||s<n?e[r]:t},Qv=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},of=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var s=Number(t.replace("%",""))/100;return e*s}if(t.endsWith("vw")){var s=Number(t.replace("vw",""))/100;return n*s}if(t.endsWith("vh")){var s=Number(t.replace("vh",""))/100;return r*s}}return t},iJ=function(t,e,n,r,s,o,i){return r=of(r,t.width,e,n),s=of(s,t.height,e,n),o=of(o,t.width,e,n),i=of(i,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof i>"u"?void 0:Number(i)}},aJ=function(t){return Array.isArray(t)?t:[t,t]},lJ=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],iN="__resizable_base__",cJ=function(t){rJ(e,t);function e(n){var r,s,o,i,l=t.call(this,n)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var c=l.parentNode;if(!c)return null;var u=l.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(iN):u.className+=iN,c.appendChild(u),u},l.removeBase=function(c){var u=l.parentNode;u&&u.removeChild(c)},l.state={isResizing:!1,width:(s=(r=l.propsSize)===null||r===void 0?void 0:r.width)!==null&&s!==void 0?s:"auto",height:(i=(o=l.propsSize)===null||o===void 0?void 0:o.height)!==null&&i!==void 0?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||sJ},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,o=this.resizable.offsetHeight,i=this.resizable.style.position;i!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=i}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,s=function(l){var c;if(typeof n.state[l]>"u"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&(!((c=n.propsSize[l])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var u=n.getParentSize(),d=Number(n.state[l].toString().replace("px","")),f=d/u[l]*100;return"".concat(f,"%")}return Qv(n.state[l])},o=r&&typeof r.width<"u"&&!this.state.isResizing?Qv(r.width):s("width"),i=r&&typeof r.height<"u"&&!this.state.isResizing?Qv(r.height):s("height");return{width:o,height:i}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=s),this.removeBase(n),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var s=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof s>"u"||s==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var s=this.props.boundsByDirection,o=this.state.direction,i=s&&dl("left",o),l=s&&dl("top",o),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=i?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=l?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var s=this.props.scale||1,o=aJ(this.props.resizeRatio||1),i=o[0],l=o[1],c=this.state,u=c.direction,d=c.original,f=this.props,p=f.lockAspectRatio,m=f.lockAspectRatioExtraHeight,x=f.lockAspectRatioExtraWidth,y=d.width,E=d.height,_=m||0,v=x||0;return dl("right",u)&&(y=d.width+(n-d.x)*i/s,p&&(E=(y-v)/this.ratio+_)),dl("left",u)&&(y=d.width-(n-d.x)*i/s,p&&(E=(y-v)/this.ratio+_)),dl("bottom",u)&&(E=d.height+(r-d.y)*l/s,p&&(y=(E-_)*this.ratio+v)),dl("top",u)&&(E=d.height-(r-d.y)*l/s,p&&(y=(E-_)*this.ratio+v)),{newWidth:y,newHeight:E}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,s,o){var i=this.props,l=i.lockAspectRatio,c=i.lockAspectRatioExtraHeight,u=i.lockAspectRatioExtraWidth,d=typeof o.width>"u"?10:o.width,f=typeof s.width>"u"||s.width<0?n:s.width,p=typeof o.height>"u"?10:o.height,m=typeof s.height>"u"||s.height<0?r:s.height,x=c||0,y=u||0;if(l){var E=(p-x)*this.ratio+y,_=(m-x)*this.ratio+y,v=(d-y)/this.ratio+x,b=(f-y)/this.ratio+x,j=Math.max(d,E),I=Math.min(f,_),V=Math.max(p,v),S=Math.min(m,b);n=rf(n,j,I),r=rf(r,V,S)}else n=rf(n,d,f),r=rf(r,p,m);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var s=r.getBoundingClientRect();this.parentLeft=s.left*n,this.parentTop=s.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var i=this.resizable.getBoundingClientRect(),l=i.left,c=i.top,u=i.right,d=i.bottom;this.resizableLeft=l*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var s=0,o=0;if(n.nativeEvent&&oJ(n.nativeEvent)?(s=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&sf(n.nativeEvent)&&(s=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var i=this.props.onResizeStart(n,r,this.resizable);if(i===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",l=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:s,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Ds(Ds({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(f)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&sf(n))try{n.preventDefault(),n.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,i=s.maxHeight,l=s.minWidth,c=s.minHeight,u=sf(n)?n.touches[0].clientX:n.clientX,d=sf(n)?n.touches[0].clientY:n.clientY,f=this.state,p=f.direction,m=f.original,x=f.width,y=f.height,E=this.getParentSize(),_=iJ(E,this.window.innerWidth,this.window.innerHeight,o,i,l,c);o=_.maxWidth,i=_.maxHeight,l=_.minWidth,c=_.minHeight;var v=this.calculateNewSizeFromDirection(u,d),b=v.newHeight,j=v.newWidth,I=this.calculateNewMaxFromBoundary(o,i);this.props.snap&&this.props.snap.x&&(j=oN(j,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=oN(b,this.props.snap.y,this.props.snapGap));var V=this.calculateNewSizeFromAspectRatio(j,b,{width:I.maxWidth,height:I.maxHeight},{width:l,height:c});if(j=V.newWidth,b=V.newHeight,this.props.grid){var S=sN(j,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),T=sN(b,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),A=this.props.snapGap||0,R=A===0||Math.abs(S-j)<=A?S:j,N=A===0||Math.abs(T-b)<=A?T:b;j=R,b=N}var k={width:j-m.width,height:b-m.height};if(this.delta=k,x&&typeof x=="string"){if(x.endsWith("%")){var P=j/E.width*100;j="".concat(P,"%")}else if(x.endsWith("vw")){var D=j/this.window.innerWidth*100;j="".concat(D,"vw")}else if(x.endsWith("vh")){var L=j/this.window.innerHeight*100;j="".concat(L,"vh")}}if(y&&typeof y=="string"){if(y.endsWith("%")){var P=b/E.height*100;b="".concat(P,"%")}else if(y.endsWith("vw")){var D=b/this.window.innerWidth*100;b="".concat(D,"vw")}else if(y.endsWith("vh")){var L=b/this.window.innerHeight*100;b="".concat(L,"vh")}}var $={width:this.createSizeForCssProperty(j,"width"),height:this.createSizeForCssProperty(b,"height")};this.flexDir==="row"?$.flexBasis=$.width:this.flexDir==="column"&&($.flexBasis=$.height);var H=this.state.width!==$.width,M=this.state.height!==$.height,z=this.state.flexBasis!==$.flexBasis,K=H||M||z;K&&Es.flushSync(function(){r.setState($)}),this.props.onResize&&K&&this.props.onResize(n,p,this.resizable,k)}},e.prototype.onMouseUp=function(n){var r,s,o=this.state,i=o.isResizing,l=o.direction;o.original,!(!i||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,l,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Ds(Ds({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,s;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(s=n.height)!==null&&s!==void 0?s:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,s=r.enable,o=r.handleStyles,i=r.handleClasses,l=r.handleWrapperStyle,c=r.handleWrapperClass,u=r.handleComponent;if(!s)return null;var d=Object.keys(s).map(function(f){return s[f]!==!1?a.jsx(nJ,{direction:f,onResizeStart:n.onResizeStart,replaceStyles:o&&o[f],className:i&&i[f],children:u&&u[f]?u[f]:null},f):null});return a.jsx("div",{className:c,style:l,children:d})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(i,l){return lJ.indexOf(l)!==-1||(i[l]=n.props[l]),i},{}),s=Ds(Ds(Ds({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return a.jsxs(o,Ds({style:s,className:this.props.className},r,{ref:function(i){i&&(n.resizable=i)},children:[this.state.isResizing&&a.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(g.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dy=function(t,e){return dy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},dy(t,e)};function uJ(t,e){dy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Zt=function(){return Zt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zt.apply(this,arguments)};function dJ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var hJ={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},fJ=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}};(function(t){uJ(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,s=n.top,o=this.getDraggablePosition(),i=o.x,l=o.y;this.draggable.setState({x:i-r,y:l-s}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,s=n.y;return{x:r,y:s}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var s=this.getDraggablePosition();if(this.originalPosition=s,!!this.props.bounds){var o=this.getParent(),i=this.props.scale,l;if(this.props.bounds==="parent")l=o;else if(this.props.bounds==="body"){var c=o.getBoundingClientRect(),u=c.left,d=c.top,f=document.body.getBoundingClientRect(),p=-(u-o.offsetLeft*i-f.left)/i,m=-(d-o.offsetTop*i-f.top)/i,x=(document.body.offsetWidth-this.resizable.size.width*i)/i+p,y=(document.body.offsetHeight-this.resizable.size.height*i)/i+m;return this.setState({bounds:{top:m,right:x,bottom:y,left:p}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var E=o.getBoundingClientRect(),_=E.left,v=E.top,b=-(_-o.offsetLeft*i)/i,j=-(v-o.offsetTop*i)/i,x=(window.innerWidth-this.resizable.size.width*i)/i+b,y=(window.innerHeight-this.resizable.size.height*i)/i+j;return this.setState({bounds:{top:j,right:x,bottom:y,left:b}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(o instanceof HTMLElement))){var I=l.getBoundingClientRect(),V=I.left,S=I.top,T=o.getBoundingClientRect(),A=T.left,R=T.top,N=(V-A)/i,k=S-R;if(this.resizable){this.updateOffsetFromParent();var P=this.offsetFromParent;this.setState({bounds:{top:k-P.top,right:N+(l.offsetWidth-this.resizable.size.width)-P.left/i,bottom:k+(l.offsetHeight-this.resizable.size.height)-P.top,left:N-P.left/i}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var s=this.offsetFromParent,o=s.left,i=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,Zt(Zt({},r),{x:r.x+o,y:r.y+i}));if(this.props.dragAxis==="x")return this.props.onDrag(n,Zt(Zt({},r),{x:r.x+o,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,Zt(Zt({},r),{x:this.originalPosition.x+o,y:r.y+i,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var s=this.offsetFromParent,o=s.left,i=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,Zt(Zt({},r),{x:r.x+o,y:r.y+i}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,Zt(Zt({},r),{x:r.x+o,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,Zt(Zt({},r),{x:this.originalPosition.x+o,y:r.y+i,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,s){n.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,i=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+i.left,y:l.y+i.top},this.originalPosition=l,this.props.bounds){var c=this.getParent(),u=void 0;this.props.bounds==="parent"?u=c:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(u instanceof HTMLElement||u===window)&&c instanceof HTMLElement){var f=this.getMaxSizesFromProps(),p=f.maxWidth,m=f.maxHeight,x=this.getParentSize();if(p&&typeof p=="string")if(p.endsWith("%")){var y=Number(p.replace("%",""))/100;p=x.width*y}else p.endsWith("px")&&(p=Number(p.replace("px","")));if(m&&typeof m=="string")if(m.endsWith("%")){var y=Number(m.replace("%",""))/100;m=x.height*y}else m.endsWith("px")&&(m=Number(m.replace("px","")));var E=d.getBoundingClientRect(),_=E.left,v=E.top,b=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),j=b.left,I=b.top,V=this.getOffsetWidth(u),S=this.getOffsetHeight(u),T=r.toLowerCase().endsWith("left"),A=r.toLowerCase().endsWith("right"),R=r.startsWith("top"),N=r.startsWith("bottom");if((T||R)&&this.resizable){var k=(_-j)/o+this.resizable.size.width;this.setState({maxWidth:k>Number(p)?p:k})}if(A||this.props.lockAspectRatio&&!T&&!R){var k=V+(j-_)/o;this.setState({maxWidth:k>Number(p)?p:k})}if((R||T)&&this.resizable){var k=(v-I)/o+this.resizable.size.height;this.setState({maxHeight:k>Number(m)?m:k})}if(N||this.props.lockAspectRatio&&!R&&!T){var k=S+(I-v)/o;this.setState({maxHeight:k>Number(m)?m:k})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,s)},e.prototype.onResize=function(n,r,s,o){var i=this,l={x:this.originalPosition.x,y:this.originalPosition.y},c=-o.width,u=-o.height,d=["top","left","topLeft","bottomLeft","topRight"];d.includes(r)&&(r==="bottomLeft"?l.x+=c:(r==="topRight"||(l.x+=c),l.y+=u));var f=this.draggable.state;(l.x!==f.x||l.y!==f.y)&&Es.flushSync(function(){i.draggable.setState(l)}),this.updateOffsetFromParent();var p=this.offsetFromParent,m=this.getDraggablePosition().x+p.left,x=this.getDraggablePosition().y+p.top;this.resizingPosition={x:m,y:x},this.props.onResize&&this.props.onResize(n,r,s,o,{x:m,y:x})},e.prototype.onResizeStop=function(n,r,s,o){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),l=i.maxWidth,c=i.maxHeight;this.setState({maxWidth:l,maxHeight:c}),this.props.onResizeStop&&this.props.onResizeStop(n,r,s,o,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),s=this.getSelfElement();if(!r||s===null)return{top:0,left:0};var o=r.getBoundingClientRect(),i=o.left,l=o.top,c=s.getBoundingClientRect(),u=this.getDraggablePosition(),d=r.scrollLeft,f=r.scrollTop;this.offsetFromParent={left:c.left-i+d-u.x*n,top:c.top-l+f-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,s=r.disableDragging,o=r.style,i=r.dragHandleClassName,l=r.position,c=r.onMouseDown,u=r.onMouseUp,d=r.dragAxis,f=r.dragGrid,p=r.bounds,m=r.enableUserSelectHack,x=r.cancel,y=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var E=r.resizeHandleStyles,_=r.resizeHandleClasses,v=r.resizeHandleComponent,b=r.enableResizing,j=r.resizeGrid,I=r.resizeHandleWrapperClass,V=r.resizeHandleWrapperStyle,S=r.scale,T=r.allowAnyClick,A=r.dragPositionOffset,R=dJ(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),N=this.props.default?Zt({},this.props.default):void 0;delete R.default;var k=s||i?{cursor:"auto"}:{cursor:"move"},P=Zt(Zt(Zt({},hJ),k),o),D=this.offsetFromParent,L=D.left,$=D.top,H;l&&(H={x:l.x-L,y:l.y-$});var M=this.state.resizing?void 0:H,z=this.state.resizing?"both":d;return g.createElement(eJ,{ref:function(K){K&&(n.draggable=K)},handle:i?".".concat(i):void 0,defaultPosition:N,onMouseDown:c,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:z,disabled:s,grid:f,bounds:p?this.state.bounds:void 0,position:M,enableUserSelectHack:m,cancel:x,scale:S,allowAnyClick:T,nodeRef:this.resizableElement,positionOffset:A},g.createElement(cJ,Zt({},R,{ref:function(K){K&&(n.resizable=K,n.resizableElement.current=K.resizable)},defaultSize:N,size:this.props.size,enable:typeof b=="boolean"?fJ(b):b,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:P,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:j,handleWrapperClass:I,handleWrapperStyle:V,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:E,handleClasses:_,handleComponent:v,scale:this.props.scale}),y))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e})(g.PureComponent);const pJ=()=>{const{dialogs:t,openDialog:e,closeDialog:n,produtoParaReporEstoque:r,limparProdutoParaReporEstoque:s,darkMode:o}=g.useContext(vr),{toast:i}=gr(),{data:l,loading:c,save:u,remove:d}=nh(),{data:f,loading:p,save:m,remove:x}=th(),{data:y,loading:E,save:_,remove:v}=a1(),[b,j]=g.useState(""),[I,V]=g.useState(!1),[S,T]=g.useState(!1),[A,R]=g.useState(!1),[N,k]=g.useState(!1),[P,D]=g.useState(null),[L,$]=g.useState(""),[H,M]=g.useState(!1),[z,K]=g.useState(null),[X,ce]=g.useState(null),[ue,ge]=g.useState({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),[We,je]=g.useState({nome:"",cor:"#8b5cf6"}),[de,Pe]=g.useState({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),[Ye,q]=g.useState(""),[he,te]=g.useState([]),[Ae,Ve]=g.useState(!1),[Qe,nt]=g.useState(null),[rt,ft]=g.useState(!1),[F,le]=g.useState("personalizada"),[ne,_e]=g.useState([]),[ze,Z]=g.useState(null),[be,He]=g.useState(null);g.useState(!1),g.useRef(null),g.useEffect(()=>{t.produto&&(K(null),ge({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),V(!0),n("produto")),t.movimentacao&&(r?(Pe({produtoId:r.id,tipo:"entrada",quantidade:"",observacao:`Reposição de estoque - ${r.nome}`}),q(r.nome),s()):(Pe({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),q(""),te([]),Ve(!1)),R(!0),n("movimentacao"))},[t,n,r,s]);const wt=async B=>{if(B.preventDefault(),!We.nome){i({title:"Erro",description:"Nome da categoria é obrigatório!",variant:"destructive"});return}try{await u({nome:We.nome,cor:We.cor,createdAt:X?X.createdAt:new Date().toISOString()},X==null?void 0:X.id),i({title:"Sucesso!",description:X?"Categoria atualizada!":"Categoria criada!"}),je({nome:"",cor:"#8b5cf6"}),ce(null),T(!1)}catch(Y){console.error("[Estoque] ❌ Erro ao salvar categoria:",Y),i({title:"Erro",description:"Erro ao salvar categoria. Tente novamente.",variant:"destructive"})}},$t=async B=>{try{const Y=f.filter(Ce=>Ce.categoriaId===B);for(const Ce of Y)await x(Ce.id);await d(B),Qe===B&&nt(null),i({title:"Sucesso!",description:"Categoria e produtos vinculados removidos!"})}catch(Y){console.error("[Estoque] ❌ Erro ao remover categoria:",Y),i({title:"Erro",description:"Erro ao remover categoria. Tente novamente.",variant:"destructive"})}},Jn=async B=>{if(B.preventDefault(),console.log("[Estoque] ===== INICIANDO CADASTRO DE PRODUTO ====="),console.log("[Estoque] FormData:",ue),!ue.nome||!ue.codigo||!ue.preco||!ue.quantidade||!ue.categoriaId){console.log("[Estoque] ❌ Campos obrigatórios não preenchidos"),i({title:"Erro",description:"Todos os campos são obrigatórios!",variant:"destructive"});return}try{const Y={nome:ue.nome,codigo:ue.codigo,preco:parseFloat(ue.preco),quantidade:parseInt(ue.quantidade),categoriaId:ue.categoriaId,imagem:ue.imagem,createdAt:z?z.createdAt:new Date().toISOString()};console.log("[Estoque] ProdutoData preparado:",Y),console.log("[Estoque] Salvando produto..."),console.log("[Estoque] editingProduto?.id:",z==null?void 0:z.id);const Ce=await m(Y,z==null?void 0:z.id);console.log("[Estoque] ✅ Produto salvo com ID:",Ce),console.log("[Estoque] Verificando se produto aparece na lista..."),console.log("[Estoque] Forçando refresh dos dados..."),setTimeout(()=>{console.log("[Estoque] Produtos após salvamento:",f),console.log("[Estoque] Total de produtos:",f==null?void 0:f.length),console.log("[Estoque] Verificando localStorage:",JSON.parse(localStorage.getItem("crm_produtos")||"[]").length)},1e3),i({title:"Sucesso!",description:z?"Produto atualizado!":"Produto cadastrado!"}),ge({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),K(null),V(!1),console.log("[Estoque] ===== PRODUTO CADASTRADO COM SUCESSO ====="),console.log("[Estoque] Formulário limpo e dialog fechado")}catch(Y){console.error("[Estoque] ❌ Erro ao salvar produto:",Y),i({title:"Erro",description:"Erro ao salvar produto. Tente novamente.",variant:"destructive"})}},Zn=B=>{ge({nome:B.nome,codigo:B.codigo,preco:B.preco.toString(),quantidade:B.quantidade.toString(),categoriaId:B.categoriaId.toString(),imagem:B.imagem||null}),K(B),V(!0)},xr=B=>{Pe({produtoId:B.id,tipo:"entrada",quantidade:"",observacao:`Reposição de estoque - ${B.nome}`}),q(B.nome),R(!0),M(!1)},Ts=(B,Y)=>{const Ce=f.find(bt=>bt.id===Y);if(Ce){const bt=B==="entrada"?`Reposição de estoque - ${Ce.nome}`:`Saída de estoque - ${Ce.nome}`;Pe(Nn=>({...Nn,tipo:B,observacao:bt}))}},Qr=async B=>{try{await x(B),i({title:"Sucesso!",description:"Produto removido!"})}catch(Y){console.error("[Estoque] ❌ Erro ao remover produto:",Y),i({title:"Erro",description:"Erro ao remover produto. Tente novamente.",variant:"destructive"})}},Bn=(B,Y)=>{D(B),$(Y),k(!0)},Xr=B=>{if(q(B),B.length>0){const Y=f.filter(Ce=>Ce.nome.toLowerCase().includes(B.toLowerCase())||Ce.codigo.toLowerCase().includes(B.toLowerCase()));te(Y),Ve(!0)}else te([]),Ve(!1)},yr=B=>{Pe({...de,produtoId:B.id}),q(B.nome),Ve(!1)};g.useEffect(()=>{A||(q(""),te([]),Ve(!1))},[A]);const Xt=async B=>{if(B.preventDefault(),!de.produtoId||!de.quantidade){i({title:"Erro",description:"Produto e quantidade são obrigatórios!",variant:"destructive"});return}try{const Y=f.find(Nn=>Nn.id===de.produtoId),Ce=parseInt(de.quantidade);if(de.tipo==="saida"&&Y.quantidade<Ce){i({title:"Erro",description:"Quantidade insuficiente em estoque!",variant:"destructive"});return}await _({produtoId:de.produtoId,produtoNome:Y.nome,tipo:de.tipo,quantidade:Ce,observacao:de.observacao,createdAt:new Date().toISOString()});const bt={...Y,quantidade:de.tipo==="entrada"?Y.quantidade+Ce:Y.quantidade-Ce};await m(bt,Y.id),i({title:"Sucesso!",description:`Movimentação de ${de.tipo} registrada!`}),Pe({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),R(!1)}catch(Y){console.error("[Estoque] ❌ Erro ao registrar movimentação:",Y),i({title:"Erro",description:"Erro ao registrar movimentação. Tente novamente.",variant:"destructive"})}},er=new Date().toISOString().slice(0,10),Jr=(y||[]).filter(B=>{var Ce;const Y=(Ce=B.createdAt)!=null&&Ce.toDate?B.createdAt.toDate().toISOString():B.createdAt;return(Y==null?void 0:Y.slice(0,10))===er}),so=(f||[]).filter(B=>{var Y,Ce;return((Y=B.nome)==null?void 0:Y.toLowerCase().includes(b.toLowerCase()))||((Ce=B.codigo)==null?void 0:Ce.toLowerCase().includes(b.toLowerCase()))}),Ns=B=>{if(console.log("[Estoque] ===== UPLOAD DE IMAGEM ====="),console.log("[Estoque] Arquivos aceitos:",B),B.length===0){console.log("[Estoque] ❌ Nenhum arquivo aceito");return}const Y=B[0];if(console.log("[Estoque] Arquivo selecionado:",Y),Y.size>2*1024*1024){console.log("[Estoque] ❌ Arquivo muito grande:",Y.size),i({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 2MB.",variant:"destructive"});return}const Ce=new FileReader;Ce.onload=()=>{const bt=new Image;bt.onload=()=>{const Nn=document.createElement("canvas"),ks=Nn.getContext("2d"),kn=1e3;let{width:mn,height:es}=bt;mn>es?mn>kn&&(es=es*kn/mn,mn=kn):es>kn&&(mn=mn*kn/es,es=kn),Nn.width=mn,Nn.height=es,ks.drawImage(bt,0,0,mn,es);const Vc=Nn.toDataURL("image/jpeg",.9);console.log("[Estoque] ✅ Imagem comprimida, tamanho original:",Ce.result.length,"comprimida:",Vc.length),ge(Fc=>({...Fc,imagem:Vc}))},bt.src=Ce.result},Ce.onerror=()=>{console.log("[Estoque] ❌ Erro ao ler arquivo"),i({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},Ce.readAsDataURL(Y)},{getRootProps:rl,getInputProps:Ft,isDragActive:oo}=ab({onDrop:Ns,accept:{"image/*":[]}}),Zr=f.filter(B=>B.quantidade<=5),U=B=>{Z(B)},se=(B,Y)=>{B.preventDefault(),He(Y)},oe=()=>{if(ze!==null&&be!==null&&ze!==be){const B=[...ne],Y=B[ze];B.splice(ze,1),B.splice(be,0,Y),_e(B)}Z(null),He(null)},ve=async()=>{try{console.log("[Estoque] 🚀 Iniciando salvamento da nova ordem das categorias"),console.log("[Estoque] Categorias reordenadas:",ne.map(Y=>({id:Y.id,nome:Y.nome,ordemAtual:Y.ordem})));let B=0;for(let Y=0;Y<ne.length;Y++){const Ce=ne[Y];Ce.ordem!==Y?(console.log(`[Estoque] Atualizando categoria "${Ce.nome}" (ID: ${Ce.id}) da ordem ${Ce.ordem} para ${Y}`),await u({...Ce,ordem:Y},Ce.id),B++):console.log(`[Estoque] Categoria "${Ce.nome}" já está na ordem correta (${Y}), pulando...`)}console.log(`[Estoque] ✅ Salvamento concluído! ${B} categorias atualizadas`),i({title:"Sucesso!",description:`Ordem de ${B} categorias salva com sucesso!`}),ft(!1)}catch(B){console.error("[Estoque] ❌ Erro ao salvar ordem das categorias:",B),i({title:"Erro!",description:"Erro ao salvar ordem das categorias.",variant:"destructive"})}},$n=B=>{let Y=[...l];switch(B){case"alfabetica":Y.sort((Ce,bt)=>Ce.nome.localeCompare(bt.nome));break;case"mais_produtos":Y.sort((Ce,bt)=>{const Nn=f.filter(kn=>kn.categoriaId===Ce.id).length;return f.filter(kn=>kn.categoriaId===bt.id).length-Nn});break;case"menos_produtos":Y.sort((Ce,bt)=>{const Nn=f.filter(kn=>kn.categoriaId===Ce.id).length,ks=f.filter(kn=>kn.categoriaId===bt.id).length;return Nn-ks});break;default:Y.sort((Ce,bt)=>(Ce.ordem||0)-(bt.ordem||0))}_e(Y)};return g.useEffect(()=>{rt&&_e([...l])},[rt,l]),console.log("[Estoque] Produtos:",f==null?void 0:f.length,"Categorias:",l==null?void 0:l.length),a.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen",children:[a.jsxs("aside",{className:"w-full lg:w-64 bg-slate-100 dark:bg-slate-900 border-r border-b lg:border-b-0 h-auto lg:h-screen flex flex-col",children:[a.jsxs("div",{className:"p-4 flex flex-col gap-2",children:[a.jsx(Q,{onClick:()=>nt(null),variant:Qe===null?"default":"outline",className:"w-full justify-start",children:"Todos os Produtos"}),a.jsxs(Q,{onClick:()=>{ce(null),je({nome:"",cor:"#8b5cf6"}),T(!0)},variant:"outline",className:"w-full justify-start bg-violet-500 text-white hover:bg-violet-600",children:[a.jsx(Er,{className:"h-4 w-4 mr-2"}),a.jsx(NE,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:a.jsx("ul",{className:"space-y-1",children:l.map(B=>a.jsxs("li",{className:"flex items-center justify-between group",children:[a.jsx(Q,{onClick:()=>nt(B.id),variant:Qe===B.id?"default":"ghost",className:"flex-1 justify-start text-left border-l-2",style:{borderLeftColor:B.cor},children:B.nome}),a.jsx("button",{title:"Editar categoria",className:"p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-800",onClick:()=>{ce(B),je({nome:B.nome,cor:B.cor||"#8b5cf6"}),T(!0)},children:a.jsx(gs,{className:"h-4 w-4"})}),a.jsx("button",{title:"Excluir categoria",className:"p-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>$t(B.id),children:a.jsx(qr,{className:"h-4 w-4 text-red-500"})})]},B.id))})})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx("div",{className:"p-4 lg:p-6 border-b bg-white dark:bg-slate-800",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900 dark:text-white",children:"Estoque"}),a.jsx("p",{className:"text-sm lg:text-base text-slate-600 dark:text-slate-400",children:"Gerencie categorias, produtos e movimentações"})]}),Zr.length>0&&a.jsxs(Ee.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:()=>M(!0),className:"bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded-lg p-3 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 transition-all duration-200 cursor-pointer flex items-center gap-2 lg:gap-3 min-w-0 flex-shrink-0 w-full lg:w-auto",children:[a.jsx(ps,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-500 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Estoque Crítico"}),a.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:[Zr.length," produto(s)"]})]})]})]})}),a.jsxs(za,{defaultValue:"produtos",className:"flex-1",children:[a.jsxs("div",{className:"px-4 lg:px-6 pt-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-4 gap-4",children:[a.jsxs(Ii,{className:"h-12 px-1",children:[a.jsx(rn,{value:"produtos",className:"px-6",children:"Produtos"}),a.jsx(rn,{value:"movimentacoes",className:"px-6",children:"Movimentações"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Mn,{open:S,onOpenChange:T,children:[a.jsx(Tf,{asChild:!0,children:a.jsx(Q,{variant:"outline",size:"sm",children:"Nova Categoria"})}),a.jsxs(xn,{className:`sm:max-w-lg bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(yn,{children:a.jsxs(wn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(NE,{className:"h-6 w-6 text-purple-500"}),X?"Editar Categoria":"Nova Categoria"]})}),a.jsxs("form",{onSubmit:wt,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Fu,{className:"h-5 w-5 text-blue-500"}),"Informações da Categoria"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Nome da Categoria *"}),a.jsx(me,{value:We.nome,onChange:B=>je({...We,nome:B.target.value}),placeholder:"Ex: Eletrônicos, Roupas, Acessórios...",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Cor da Categoria *"}),a.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[a.jsx(me,{type:"color",value:We.cor,onChange:B=>je({...We,cor:B.target.value}),className:"w-16 h-10 rounded-lg border-2 border-slate-300 dark:border-slate-600"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-slate-300 dark:border-slate-600",style:{backgroundColor:We.cor}}),a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:We.cor})]})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Escolha uma cor que represente bem sua categoria"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2",children:X?"Atualizar Categoria":"Criar Categoria"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{T(!1),ce(null),je({nome:"",cor:"#8b5cf6"})},className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(Mn,{open:I,onOpenChange:V,children:[a.jsx(Tf,{asChild:!0,children:a.jsx(Q,{size:"sm",className:"bg-gradient-to-r from-orange-500 to-red-500",children:"Novo Produto"})}),a.jsxs(xn,{className:`sm:max-w-2xl bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(yn,{children:a.jsxs(wn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(Kn,{className:"h-6 w-6 text-green-500"}),z?"Editar Produto":"Novo Produto"]})}),a.jsxs("form",{onSubmit:Jn,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Kn,{className:"h-5 w-5 text-blue-500"}),"Informações Básicas"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Nome do Produto *"}),a.jsx(me,{value:ue.nome,onChange:B=>{if(ge({...ue,nome:B.target.value}),!ue.codigo&&B.target.value){const Y=B.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,6)+String(Date.now()).slice(-4);ge(Ce=>({...Ce,codigo:Y}))}},placeholder:"Ex: Mouse Gamer RGB",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Preço *"}),a.jsx(me,{type:"number",step:"0.01",value:ue.preco,onChange:B=>ge({...ue,preco:B.target.value}),placeholder:"0.00",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Quantidade *"}),a.jsx(me,{type:"number",value:ue.quantidade,onChange:B=>ge({...ue,quantidade:B.target.value}),placeholder:"0",className:"mt-1",required:!0})]})]})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Fu,{className:"h-5 w-5 text-purple-500"}),"Categoria"]}),a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Categoria *"}),a.jsxs(lt,{value:ue.categoriaId,onValueChange:B=>ge({...ue,categoriaId:B}),className:"mt-1",children:[a.jsx(it,{children:a.jsx(ct,{placeholder:"Selecione uma categoria..."})}),a.jsx(at,{children:l.map(B=>a.jsx(ae,{value:B.id.toString(),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:B.cor}}),B.nome]})},B.id))})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5 text-orange-500"}),"Código do Produto"]}),a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Código (Gerado Automaticamente)"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(me,{value:ue.codigo,onChange:B=>ge({...ue,codigo:B.target.value}),placeholder:"Será gerado automaticamente",className:"pr-10",required:!0}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",title:"Gerado automaticamente"})})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Código gerado automaticamente baseado no nome do produto"})]})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(_a,{className:"h-5 w-5 text-indigo-500"}),"Imagem do Produto"]}),a.jsxs("div",{...rl(),className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all duration-200 ${oo?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 scale-105":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/70"} ${ue.imagem?"bg-slate-50 dark:bg-slate-800/50":""}`,children:[a.jsx("input",{...Ft()}),ue.imagem?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:ue.imagem,alt:"Preview do produto",className:"max-w-full max-h-40 object-contain rounded-lg border-2 border-slate-200 dark:border-slate-700 shadow-lg"}),a.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),ge({...ue,imagem:null})},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(pr,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"✨ Clique ou arraste para alterar a imagem"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center",children:a.jsx(_a,{className:"w-10 h-10 text-slate-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:oo?"🎯 Solte a imagem aqui":"📷 Arraste uma imagem ou clique para selecionar"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"PNG, JPG até 2MB • Redimensionada para 1000x1000px"})]})]})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2",children:z?"Atualizar Produto":"Cadastrar Produto"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{V(!1),K(null),ge({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null})},className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(Mn,{open:A,onOpenChange:R,children:[a.jsx(Tf,{asChild:!0,children:a.jsx(Q,{size:"sm",variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50",children:"Movimentação"})}),a.jsxs(xn,{className:`sm:max-w-lg bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(yn,{children:a.jsxs(wn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(ar,{className:"h-6 w-6 text-orange-500"}),"Nova Movimentação"]})}),a.jsxs("form",{onSubmit:Xt,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Kn,{className:"h-5 w-5 text-blue-500"}),"Dados da Movimentação"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(re,{className:"text-sm font-medium",children:"Produto *"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(me,{value:Ye,onChange:B=>Xr(B.target.value),placeholder:"Digite o nome ou código do produto...",className:"pr-10"}),a.jsx(Cr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Ae&&he.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:he.map(B=>a.jsx("div",{onClick:()=>yr(B),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[B.imagem&&a.jsx("img",{src:B.imagem,alt:B.nome,className:"w-8 h-8 object-cover rounded border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:B.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Código: ",B.codigo," | Estoque: ",B.quantidade]})]})]})},B.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome ou código do produto para buscar"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Tipo de Movimentação *"}),a.jsxs(lt,{value:de.tipo,onValueChange:B=>Ts(B,de.produtoId),className:"mt-1",children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"entrada",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ar,{className:"h-4 w-4 text-green-500"}),"Entrada"]})}),a.jsx(ae,{value:"saida",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ra,{className:"h-4 w-4 text-red-500"}),"Saída"]})})]})]})]}),a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Quantidade *"}),a.jsx(me,{type:"number",min:"1",value:de.quantidade,onChange:B=>Pe({...de,quantidade:B.target.value}),placeholder:"0",className:"mt-1",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(re,{className:"text-sm font-medium",children:"Observação"}),a.jsx(me,{value:de.observacao,onChange:B=>Pe({...de,observacao:B.target.value}),placeholder:"Ex: Compra, venda, ajuste de estoque...",className:"mt-1"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Descreva o motivo da movimentação"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2",children:"Registrar Movimentação"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{R(!1),Pe({produtoId:"",tipo:"entrada",quantidade:"",observacao:""})},className:"flex-1",children:"Cancelar"})]})]})]})]})]})]}),a.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-4"})]}),a.jsxs(sn,{value:"produtos",className:"px-4 lg:px-6 pt-4 space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-auto sm:max-w-sm",children:[a.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar por nome ou código...",value:b,onChange:B=>j(B.target.value),className:"w-full sm:w-auto pl-10"})]}),a.jsxs(Q,{onClick:()=>ft(!0),variant:"outline",size:"sm",className:"bg-black text-white hover:bg-gray-800 dark:bg-gray-900 dark:hover:bg-gray-800",children:[a.jsx(sr,{className:"h-4 w-4 mr-2"}),"Reordenar Categorias"]})]}),Qe===null?l.map(B=>a.jsxs("div",{children:[a.jsx("div",{className:`bg-slate-100 dark:bg-slate-800/50 rounded-lg p-3 mb-4 border-2 ${o?"":"shadow-sm"}`,style:{borderColor:B.cor},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:B.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:B.nome}),a.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[so.filter(Y=>Y.categoriaId===B.id).length," produtos"]})]}),a.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{K(null),ge({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:B.id.toString(),imagem:null}),V(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white border-blue-500",children:[a.jsx(Er,{className:"h-4 w-4 mr-1"}),"Novo Produto"]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:so.filter(Y=>Y.categoriaId===B.id).map((Y,Ce)=>a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ce*.1},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${o?"":"shadow-sm"}`,children:a.jsxs("div",{className:"flex gap-3",children:[Y.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:Y.imagem,alt:Y.nome,className:"w-20 h-20 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>Bn(Y.imagem,Y.nome)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:Y.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",Y.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(bn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Y.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(sr,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${Y.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[Y.quantidade," ",Y.quantidade<=5&&"(Baixo)"]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>Zn(Y),className:"h-6 w-6",children:a.jsx(gs,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>Qr(Y.id),className:"h-6 w-6 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(qr,{className:"h-3 w-3"})})]})]})},Y.id))})]},B.id)):l.filter(B=>B.id===Qe).map(B=>a.jsxs("div",{children:[a.jsx("div",{className:`bg-slate-100 dark:bg-slate-800/50 rounded-lg p-3 mb-4 border-2 ${o?"":"shadow-sm"}`,style:{borderColor:B.cor},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:B.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:B.nome}),a.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[so.filter(Y=>Y.categoriaId===B.id).length," produtos"]})]}),a.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{K(null),ge({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:B.id.toString(),imagem:null}),V(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white border-blue-500",children:[a.jsx(Er,{className:"h-4 w-4 mr-1"}),"Novo Produto"]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:so.filter(Y=>Y.categoriaId===B.id).map((Y,Ce)=>a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ce*.1},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${o?"":"shadow-sm"}`,children:a.jsxs("div",{className:"flex gap-3",children:[Y.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:Y.imagem,alt:Y.nome,className:"w-20 h-20 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>Bn(Y.imagem,Y.nome)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:Y.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",Y.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(bn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Y.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(sr,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${Y.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[Y.quantidade," ",Y.quantidade<=5&&"(Baixo)"]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>Zn(Y),className:"h-6 w-6",children:a.jsx(gs,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>Qr(Y.id),className:"h-6 w-6 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(qr,{className:"h-3 w-3"})})]})]})},Y.id))})]},B.id))]}),a.jsxs(sn,{value:"movimentacoes",className:"px-4 lg:px-6 pt-4 space-y-4",children:[Jr.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:a.jsx(sr,{className:"h-8 w-8 text-slate-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-1",children:"Nenhuma movimentação hoje"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"As movimentações de entrada e saída aparecerão aqui"})]}),a.jsxs(Q,{onClick:()=>R(!0),size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white",children:[a.jsx(Er,{className:"h-4 w-4 mr-2"}),"Nova Movimentação"]})]})}),Jr.map(B=>{var Y;return a.jsx(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`bg-white dark:bg-slate-800/50 p-4 rounded-lg border-2 shadow-sm hover:shadow-md transition-all duration-200 ${B.tipo==="entrada"?"border-green-200 dark:border-green-700 bg-green-50/30 dark:bg-green-900/10":"border-red-200 dark:border-red-700 bg-red-50/30 dark:bg-red-900/10"}`,children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:`p-2 rounded-full ${B.tipo==="entrada"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:B.tipo==="entrada"?a.jsx(ar,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):a.jsx(Ra,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:B.produtoNome}),a.jsxs("p",{className:`text-sm font-medium ${B.tipo==="entrada"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:[B.tipo==="entrada"?"Entrada":"Saída"," de ",B.quantidade," unidades"]})]})]}),B.observacao&&a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2 bg-slate-100 dark:bg-slate-700/50 p-2 rounded border-l-2 border-slate-300 dark:border-slate-600",children:[a.jsx("span",{className:"font-medium",children:"Obs:"})," ",B.observacao]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[a.jsx(Kn,{className:"h-3 w-3"}),new Date((Y=B.createdAt)!=null&&Y.toDate?B.createdAt.toDate():B.createdAt).toLocaleString("pt-BR")]})]})})},B.id)})]})]})]}),a.jsx(Mn,{open:N,onOpenChange:k,children:a.jsxs(xn,{className:`sm:max-w-4xl max-w-[90vw] bg-white dark:bg-slate-900 border-0 p-0 overflow-hidden ${o?"":"shadow-2xl"}`,children:[a.jsx(yn,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:a.jsxs(wn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(o9,{className:"h-7 w-7"}),L]})}),a.jsx("div",{className:"relative bg-slate-50 dark:bg-slate-800 min-h-[60vh] flex items-center justify-center p-8",children:P&&a.jsxs("div",{className:"relative group",children:[a.jsxs(Ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"relative overflow-hidden rounded-2xl shadow-2xl",children:[a.jsx("img",{src:P,alt:L,className:"max-w-full max-h-[60vh] object-contain rounded-2xl transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 rounded-2xl"}),a.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsxs(Q,{size:"sm",variant:"secondary",onClick:()=>{const B=document.createElement("a");B.href=P,B.download=`${L}.jpg`,B.click()},className:"bg-white/90 hover:bg-white text-slate-900 shadow-lg",children:[a.jsx(xp,{className:"h-4 w-4 mr-2"}),"Download"]})})]}),a.jsx(Ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.1},className:"mt-6 text-center",children:a.jsx("div",{className:"bg-white dark:bg-slate-700 rounded-xl p-4 shadow-lg",children:a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:L})})})]})}),a.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(_a,{className:"h-4 w-4"}),"Clique fora da imagem ou use ESC para fechar"]}),a.jsx(Q,{variant:"outline",onClick:()=>k(!1),className:"bg-white dark:bg-slate-700",children:"Fechar"})]})]})}),a.jsx(Mn,{open:rt,onOpenChange:ft,children:a.jsxs(xn,{className:`sm:max-w-3xl bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 ${o?"shadow-2xl shadow-slate-900/50":"shadow-2xl border-slate-200"}`,children:[a.jsx(yn,{children:a.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs(wn,{className:"flex items-center gap-3 text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[a.jsx(Ee.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:a.jsx(sr,{className:"h-6 w-6 text-blue-500"})}),"Reordenar Categorias"]}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Organize suas categorias da forma que preferir"})]})}),a.jsxs(Ee.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.3},children:[a.jsxs(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.3},className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[a.jsxs(re,{className:"text-sm font-semibold flex items-center gap-2 mb-3",children:[a.jsx(ar,{className:"h-4 w-4 text-blue-500"}),"Tipo de Ordenação:"]}),a.jsxs(lt,{value:F,onValueChange:B=>{le(B),$n(B)},children:[a.jsx(it,{className:"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 hover:border-blue-400 transition-colors",children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"personalizada",children:"🎯 Personalizada (Arrastar e Soltar)"}),a.jsx(ae,{value:"alfabetica",children:"🔤 Ordem Alfabética"}),a.jsx(ae,{value:"mais_produtos",children:"📈 Mais Produtos"}),a.jsx(ae,{value:"menos_produtos",children:"📉 Menos Produtos"})]})]})]}),a.jsx(Ee.div,{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:ne.map((B,Y)=>{const Ce=f.filter(bt=>bt.categoriaId===B.id);return a.jsxs(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*Y,duration:.3},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},draggable:F==="personalizada",onDragStart:()=>U(Y),onDragOver:bt=>se(bt,Y),onDrop:oe,className:`group relative p-4 rounded-xl cursor-move transition-all duration-300 ${ze===Y?"border-2 border-blue-400 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 shadow-lg shadow-blue-500/20 scale-105":"border border-slate-200 dark:border-slate-700 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm hover:border-slate-300 dark:hover:border-slate-600 hover:shadow-lg hover:shadow-slate-500/10"} ${o?"":"bg-white/70"}`,style:{borderLeftColor:B.cor,borderLeftWidth:"4px",boxShadow:ze===Y?`0 10px 25px -5px ${B.cor}20`:void 0},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Ee.div,{className:"w-6 h-6 rounded-full shadow-lg",style:{backgroundColor:B.cor},whileHover:{scale:1.2},transition:{type:"spring",stiffness:300}}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:B.nome}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[Ce.length," produto",Ce.length!==1?"s":""]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Ee.div,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400},children:["#",Y+1]}),F==="personalizada"&&a.jsxs(Ee.div,{className:"flex flex-col gap-1",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:[a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"})]})]})]}),a.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},B.id)})}),a.jsxs(Ee.div,{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},children:[a.jsx(Q,{variant:"outline",onClick:()=>ft(!1),className:"hover:bg-slate-100 dark:hover:bg-slate-700 transition-all duration-200",children:"Cancelar"}),a.jsx(Ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(Q,{onClick:ve,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(sr,{className:"h-4 w-4 mr-2"}),"Salvar Ordem"]})})]})]})]})}),a.jsx(Mn,{open:H,onOpenChange:M,children:a.jsxs(xn,{className:`sm:max-w-2xl bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(yn,{children:a.jsxs(wn,{className:"flex items-center gap-2",children:[a.jsx(ps,{className:"h-5 w-5 text-yellow-500"}),"Estoque Crítico"]})}),a.jsx("div",{className:"space-y-3",children:Zr.map(B=>{const Y=l.find(Ce=>Ce.id===B.categoriaId);return a.jsx(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:B.nome}),a.jsxs("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:["Categoria: ",(Y==null?void 0:Y.nome)||"Sem categoria"," | Estoque: ",a.jsx("span",{className:"font-bold",children:B.quantidade})," unidades"]})]}),a.jsx(Q,{size:"sm",onClick:()=>xr(B),className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Repor Estoque"})]})},B.id)})})]})})]})},mJ=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(vr),{toast:r}=gr(),{data:s,loading:o,save:i,remove:l}=ug(),[c,u]=g.useState(""),[d,f]=g.useState(!1),[p,m]=g.useState(null),[x,y]=g.useState({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"});g.useEffect(()=>{t.lancamento&&(m(null),y({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"}),f(!0),n("lancamento"))},[t,n]),console.log("[Financeiro] ===== DADOS CARREGADOS ====="),console.log("[Financeiro] Lançamentos:",s),console.log("[Financeiro] Loading:",o);const E=async D=>{if(D.preventDefault(),!x.descricao||!x.valor||!x.dataVencimento){r({title:"Erro",description:"Todos os campos obrigatórios devem ser preenchidos!",variant:"destructive"});return}try{const L={descricao:x.descricao,valor:parseFloat(x.valor),dataVencimento:x.dataVencimento,tipo:x.tipo,status:x.status,createdAt:p?p.createdAt:new Date().toISOString()};await i(L,p==null?void 0:p.id),r(p?{title:"Sucesso!",description:"Lançamento atualizado com sucesso!"}:{title:"Sucesso!",description:"Lançamento criado com sucesso!"}),y({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"}),m(null),f(!1)}catch(L){console.error("[Financeiro] ❌ Erro ao salvar lançamento:",L),r({title:"Erro",description:"Erro ao salvar lançamento. Tente novamente.",variant:"destructive"})}},_=D=>{m(D),y({descricao:D.descricao,valor:D.valor.toString(),dataVencimento:D.dataVencimento,tipo:D.tipo,status:D.status}),f(!0)},v=async D=>{try{await l(D),r({title:"Sucesso!",description:"Lançamento removido com sucesso!"})}catch(L){console.error("[Financeiro] ❌ Erro ao remover lançamento:",L),r({title:"Erro",description:"Erro ao remover lançamento. Tente novamente.",variant:"destructive"})}},b=D=>{const L=s.map($=>{if($.id===D){const H=$.status==="Pendente"?$.tipo==="receber"?"Recebido":"Pago":"Pendente";return{...$,status:H}}return $});saveLancamentos(L),r({title:"Sucesso!",description:"Status atualizado com sucesso!"})},j=s.filter(D=>D.descricao.toLowerCase().includes(c.toLowerCase())),I=j.filter(D=>D.tipo==="receber"),V=j.filter(D=>D.tipo==="pagar"),S=I.filter(D=>D.status==="Pendente").reduce((D,L)=>D+L.valor,0),T=V.filter(D=>D.status==="Pendente").reduce((D,L)=>D+L.valor,0),A=I.filter(D=>D.status==="Recebido").reduce((D,L)=>D+L.valor,0),R=V.filter(D=>D.status==="Pago").reduce((D,L)=>D+L.valor,0),N=(D,L)=>D==="Pendente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":D==="Recebido"&&L==="receber"||D==="Pago"&&L==="pagar"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300",k=(D,L)=>{if(L!=="Pendente")return!1;const $=new Date;return $.setHours(0,0,0,0),new Date(D)<$},P=({conta:D,index:L})=>a.jsx(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:L*.05},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border transition-all duration-300 ${k(D.dataVencimento,D.status)?"border-red-400 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-700 hover:shadow-lg"}`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center flex-wrap gap-x-3 gap-y-2",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:D.descricao}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(D.status,D.tipo)}`,children:D.status}),k(D.dataVencimento,D.status)&&a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",children:"Vencido"})]}),a.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-2 mt-2",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(bn,{className:"h-4 w-4"}),a.jsx("span",{className:`font-semibold ${D.tipo==="receber"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D.valor)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(ua,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:new Date(D.dataVencimento).toLocaleDateString("pt-BR",{timeZone:"UTC"})})]})]})]}),a.jsxs("div",{className:"flex space-x-1 self-start sm:self-center",children:[a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>b(D.id),className:D.status==="Pendente"?"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-400 dark:hover:text-yellow-300",children:D.status==="Pendente"?`Marcar como ${D.tipo==="receber"?"Recebido":"Pago"}`:"Marcar como Pendente"}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>_(D),className:"h-8 w-8",children:a.jsx(gs,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>v(D.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(qr,{className:"h-4 w-4"})})]})]})},D.id);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Financeiro"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Controle suas contas a pagar e receber"})]}),a.jsxs(Mn,{open:d,onOpenChange:f,children:[a.jsx(Tf,{asChild:!0,children:a.jsxs(Q,{className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[a.jsx(Er,{className:"h-4 w-4 mr-2"}),"Novo Lançamento"]})}),a.jsxs(xn,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[a.jsx(yn,{children:a.jsx(wn,{children:p?"Editar Lançamento":"Novo Lançamento"})}),a.jsxs("form",{onSubmit:E,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(re,{htmlFor:"descricao",children:"Descrição *"}),a.jsx(me,{id:"descricao",value:x.descricao,onChange:D=>y({...x,descricao:D.target.value}),placeholder:"Descrição do lançamento",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"valor",children:"Valor *"}),a.jsx(me,{id:"valor",type:"number",step:"0.01",value:x.valor,onChange:D=>y({...x,valor:D.target.value}),placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{htmlFor:"dataVencimento",children:"Data de Vencimento *"}),a.jsx(me,{id:"dataVencimento",type:"date",value:x.dataVencimento,onChange:D=>y({...x,dataVencimento:D.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(re,{children:"Tipo"}),a.jsxs(lt,{value:x.tipo,onValueChange:D=>y({...x,tipo:D}),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"receber",children:"Conta a Receber"}),a.jsx(ae,{value:"pagar",children:"Conta a Pagar"})]})]})]}),a.jsxs("div",{children:[a.jsx(re,{children:"Status"}),a.jsxs(lt,{value:x.status,onValueChange:D=>y({...x,status:D}),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"Pendente",children:"Pendente"}),a.jsx(ae,{value:x.tipo==="receber"?"Recebido":"Pago",children:x.tipo==="receber"?"Recebido":"Pago"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{type:"submit",className:"flex-1",children:p?"Atualizar":"Criar"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{f(!1),m(null),y({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"})},children:"Cancelar"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"A Receber"}),a.jsx("p",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S)})]}),a.jsx(ar,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]})}),a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"A Pagar"}),a.jsx("p",{className:"text-xl font-bold text-red-700 dark:text-red-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T)})]}),a.jsx(Ra,{className:"h-8 w-8 text-red-600 dark:text-red-400"})]})}),a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Recebido"}),a.jsx("p",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A)})]}),a.jsx(bn,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})}),a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:"Pago"}),a.jsx("p",{className:"text-xl font-bold text-purple-700 dark:text-purple-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R)})]}),a.jsx(bn,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})]})})]}),a.jsxs(za,{defaultValue:"receber",className:"w-full",children:[a.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[a.jsx(rn,{value:"receber",children:"Contas a Receber"}),a.jsx(rn,{value:"pagar",children:"Contas a Pagar"})]}),a.jsxs(sn,{value:"receber",className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar por descrição...",value:c,onChange:D=>u(D.target.value),className:"max-w-sm pl-10"})]}),a.jsx("div",{className:"space-y-3",children:I.map((D,L)=>a.jsx(P,{conta:D,index:L},D.id))}),I.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ar,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a receber"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Suas contas a receber aparecerão aqui"})]})]}),a.jsxs(sn,{value:"pagar",className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar por descrição...",value:c,onChange:D=>u(D.target.value),className:"max-w-sm pl-10"})]}),a.jsx("div",{className:"space-y-3",children:V.map((D,L)=>a.jsx(P,{conta:D,index:L},D.id))}),V.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ra,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a pagar"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Suas contas a pagar aparecerão aqui"})]})]})]})]})};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function Qt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ke(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ke(t){ke(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||vc(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function on(t,e){ke(2,arguments);var n=Ke(t),r=Qt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Yr(t,e){ke(2,arguments);var n=Ke(t),r=Qt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var i=o.getDate();return s>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function gJ(t,e){ke(2,arguments);var n=Ke(t).getTime(),r=Qt(e);return new Date(n+r)}var vJ={};function Qi(){return vJ}function Zs(t,e){var n,r,s,o,i,l,c,u;ke(1,arguments);var d=Qi(),f=Qt((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(t),m=p.getDay(),x=(m<f?7:0)+m-f;return p.setDate(p.getDate()-x),p.setHours(0,0,0,0),p}function Ha(t){return ke(1,arguments),Zs(t,{weekStartsOn:1})}function xJ(t){ke(1,arguments);var e=Ke(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=Ha(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var i=Ha(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function yJ(t){ke(1,arguments);var e=xJ(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Ha(n);return r}function Nd(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function xc(t){ke(1,arguments);var e=Ke(t);return e.setHours(0,0,0,0),e}var wJ=864e5;function vo(t,e){ke(2,arguments);var n=xc(t),r=xc(e),s=n.getTime()-Nd(n),o=r.getTime()-Nd(r);return Math.round((s-o)/wJ)}function hy(t,e){ke(2,arguments);var n=Qt(e),r=n*7;return on(t,r)}function JO(t,e){ke(2,arguments);var n=Qt(e);return Yr(t,n*12)}function bJ(t){ke(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(vc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=Ke(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function _J(t){ke(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(vc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=Ke(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function ur(t,e){ke(2,arguments);var n=xc(t),r=xc(e);return n.getTime()===r.getTime()}function f1(t){return ke(1,arguments),t instanceof Date||vc(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function SJ(t){if(ke(1,arguments),!f1(t)&&typeof t!="number")return!1;var e=Ke(t);return!isNaN(Number(e))}function kd(t,e){ke(2,arguments);var n=Ke(t),r=Ke(e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}var EJ=6048e5;function CJ(t,e,n){ke(2,arguments);var r=Zs(t,n),s=Zs(e,n),o=r.getTime()-Nd(r),i=s.getTime()-Nd(s);return Math.round((o-i)/EJ)}function jd(t){ke(1,arguments);var e=Ke(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Vn(t){ke(1,arguments);var e=Ke(t);return e.setDate(1),e.setHours(0,0,0,0),e}function aN(t){ke(1,arguments);var e=Ke(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function fy(t){ke(1,arguments);var e=Ke(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function p1(t,e){var n,r,s,o,i,l,c,u;ke(1,arguments);var d=Qi(),f=Qt((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(t),m=p.getDay(),x=(m<f?-7:0)+6-(m-f);return p.setDate(p.getDate()+x),p.setHours(23,59,59,999),p}function ZO(t){return ke(1,arguments),p1(t,{weekStartsOn:1})}function TJ(t,e){ke(2,arguments);var n=Qt(e);return gJ(t,-n)}var NJ=864e5;function kJ(t){ke(1,arguments);var e=Ke(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/NJ)+1}function Qp(t){ke(1,arguments);var e=1,n=Ke(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function eM(t){ke(1,arguments);var e=Ke(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Qp(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=Qp(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function jJ(t){ke(1,arguments);var e=eM(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Qp(n);return r}var PJ=6048e5;function AJ(t){ke(1,arguments);var e=Ke(t),n=Qp(e).getTime()-jJ(e).getTime();return Math.round(n/PJ)+1}function Xp(t,e){var n,r,s,o,i,l,c,u;ke(1,arguments);var d=Qi(),f=Qt((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(t),m=p.getUTCDay(),x=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-x),p.setUTCHours(0,0,0,0),p}function tM(t,e){var n,r,s,o,i,l,c,u;ke(1,arguments);var d=Ke(t),f=d.getUTCFullYear(),p=Qi(),m=Qt((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(f+1,0,m),x.setUTCHours(0,0,0,0);var y=Xp(x,e),E=new Date(0);E.setUTCFullYear(f,0,m),E.setUTCHours(0,0,0,0);var _=Xp(E,e);return d.getTime()>=y.getTime()?f+1:d.getTime()>=_.getTime()?f:f-1}function IJ(t,e){var n,r,s,o,i,l,c,u;ke(1,arguments);var d=Qi(),f=Qt((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=tM(t,e),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var x=Xp(m,e);return x}var RJ=6048e5;function DJ(t,e){ke(1,arguments);var n=Ke(t),r=Xp(n,e).getTime()-IJ(n,e).getTime();return Math.round(r/RJ)+1}function dt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var OJ={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return dt(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):dt(r+1,2)},d:function(e,n){return dt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return dt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return dt(e.getUTCHours(),n.length)},m:function(e,n){return dt(e.getUTCMinutes(),n.length)},s:function(e,n){return dt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return dt(o,n.length)}};const Yo=OJ;var hl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MJ={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Yo.y(e,n)},Y:function(e,n,r,s){var o=tM(e,s),i=o>0?o:1-o;if(n==="YY"){var l=i%100;return dt(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):dt(i,n.length)},R:function(e,n){var r=eM(e);return dt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return dt(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return dt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return dt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Yo.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return dt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var o=DJ(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):dt(o,n.length)},I:function(e,n,r){var s=AJ(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):dt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Yo.d(e,n)},D:function(e,n,r){var s=kJ(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):dt(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return dt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return dt(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return dt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),o;switch(s===12?o=hl.noon:s===0?o=hl.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),o;switch(s>=17?o=hl.evening:s>=12?o=hl.afternoon:s>=4?o=hl.morning:o=hl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Yo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Yo.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):dt(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):dt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Yo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Yo.s(e,n)},S:function(e,n){return Yo.S(e,n)},X:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return cN(i);case"XXXX":case"XX":return ca(i);case"XXXXX":case"XXX":default:return ca(i,":")}},x:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"x":return cN(i);case"xxxx":case"xx":return ca(i);case"xxxxx":case"xxx":default:return ca(i,":")}},O:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+lN(i,":");case"OOOO":default:return"GMT"+ca(i,":")}},z:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+lN(i,":");case"zzzz":default:return"GMT"+ca(i,":")}},t:function(e,n,r,s){var o=s._originalDate||e,i=Math.floor(o.getTime()/1e3);return dt(i,n.length)},T:function(e,n,r,s){var o=s._originalDate||e,i=o.getTime();return dt(i,n.length)}};function lN(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var i=e||"";return n+String(s)+i+dt(o,2)}function cN(t,e){if(t%60===0){var n=t>0?"-":"+";return n+dt(Math.abs(t)/60,2)}return ca(t,e)}function ca(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),o=dt(Math.floor(s/60),2),i=dt(s%60,2);return r+o+n+i}const LJ=MJ;var uN=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},nM=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},VJ=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return uN(e,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",uN(s,n)).replace("{{time}}",nM(o,n))},FJ={p:nM,P:VJ};const zJ=FJ;var UJ=["D","DD"],BJ=["YY","YYYY"];function $J(t){return UJ.indexOf(t)!==-1}function qJ(t){return BJ.indexOf(t)!==-1}function dN(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var WJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HJ=function(e,n,r){var s,o=WJ[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const GJ=HJ;function Xv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var KJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XJ={date:Xv({formats:KJ,defaultWidth:"full"}),time:Xv({formats:YJ,defaultWidth:"full"}),dateTime:Xv({formats:QJ,defaultWidth:"full"})};const JJ=XJ;var ZJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eZ=function(e,n,r,s){return ZJ[e]};const tZ=eZ;function du(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,i=n!=null&&n.width?String(n.width):o;s=t.formattingValues[i]||t.formattingValues[o]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var nZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lZ=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cZ={ordinalNumber:lZ,era:du({values:nZ,defaultWidth:"wide"}),quarter:du({values:rZ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:du({values:sZ,defaultWidth:"wide"}),day:du({values:oZ,defaultWidth:"wide"}),dayPeriod:du({values:iZ,defaultWidth:"wide",formattingValues:aZ,defaultFormattingWidth:"wide"})};const uZ=cZ;function hu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;var i=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?hZ(l,function(f){return f.test(i)}):dZ(l,function(f){return f.test(i)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(i.length);return{value:u,rest:d}}}function dZ(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function hZ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function fZ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],o=e.match(t.parsePattern);if(!o)return null;var i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;var l=e.slice(s.length);return{value:i,rest:l}}}var pZ=/^(\d+)(th|st|nd|rd)?/i,mZ=/\d+/i,gZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vZ={any:[/^b/i,/^(a|c)/i]},xZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yZ={any:[/1/i,/2/i,/3/i,/4/i]},wZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Z={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TZ={ordinalNumber:fZ({matchPattern:pZ,parsePattern:mZ,valueCallback:function(e){return parseInt(e,10)}}),era:hu({matchPatterns:gZ,defaultMatchWidth:"wide",parsePatterns:vZ,defaultParseWidth:"any"}),quarter:hu({matchPatterns:xZ,defaultMatchWidth:"wide",parsePatterns:yZ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:hu({matchPatterns:wZ,defaultMatchWidth:"wide",parsePatterns:bZ,defaultParseWidth:"any"}),day:hu({matchPatterns:_Z,defaultMatchWidth:"wide",parsePatterns:SZ,defaultParseWidth:"any"}),dayPeriod:hu({matchPatterns:EZ,defaultMatchWidth:"any",parsePatterns:CZ,defaultParseWidth:"any"})};const NZ=TZ;var kZ={code:"en-US",formatDistance:GJ,formatLong:JJ,formatRelative:tZ,localize:uZ,match:NZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};const rM=kZ;var jZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AZ=/^'([^]*?)'?$/,IZ=/''/g,RZ=/[a-zA-Z]/;function Qs(t,e,n){var r,s,o,i,l,c,u,d,f,p,m,x,y,E,_,v,b,j;ke(2,arguments);var I=String(e),V=Qi(),S=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:V.locale)!==null&&r!==void 0?r:rM,T=Qt((o=(i=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:V.firstWeekContainsDate)!==null&&i!==void 0?i:(f=V.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Qt((m=(x=(y=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(_=n.locale)===null||_===void 0||(v=_.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&y!==void 0?y:V.weekStartsOn)!==null&&x!==void 0?x:(b=V.locale)===null||b===void 0||(j=b.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&m!==void 0?m:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var R=Ke(t);if(!SJ(R))throw new RangeError("Invalid time value");var N=Nd(R),k=TJ(R,N),P={firstWeekContainsDate:T,weekStartsOn:A,locale:S,_originalDate:R},D=I.match(PZ).map(function(L){var $=L[0];if($==="p"||$==="P"){var H=zJ[$];return H(L,S.formatLong)}return L}).join("").match(jZ).map(function(L){if(L==="''")return"'";var $=L[0];if($==="'")return DZ(L);var H=LJ[$];if(H)return!(n!=null&&n.useAdditionalWeekYearTokens)&&qJ(L)&&dN(L,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&$J(L)&&dN(L,e,String(t)),H(k,L,S.localize,P);if($.match(RZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return L}).join("");return D}function DZ(t){var e=t.match(AZ);return e?e[1].replace(IZ,"'"):t}function OZ(t){ke(1,arguments);var e=Ke(t),n=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var MZ=6048e5;function LZ(t){ke(1,arguments);var e=Ke(t),n=Ha(e).getTime()-yJ(e).getTime();return Math.round(n/MZ)+1}function VZ(t){ke(1,arguments);var e=Ke(t),n=e.getTime();return n}function FZ(t){return ke(1,arguments),Math.floor(VZ(t)/1e3)}function zZ(t,e){var n,r,s,o,i,l,c,u;ke(1,arguments);var d=Ke(t),f=d.getFullYear(),p=Qi(),m=Qt((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setFullYear(f+1,0,m),x.setHours(0,0,0,0);var y=Zs(x,e),E=new Date(0);E.setFullYear(f,0,m),E.setHours(0,0,0,0);var _=Zs(E,e);return d.getTime()>=y.getTime()?f+1:d.getTime()>=_.getTime()?f:f-1}function UZ(t,e){var n,r,s,o,i,l,c,u;ke(1,arguments);var d=Qi(),f=Qt((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=zZ(t,e),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var x=Zs(m,e);return x}var BZ=6048e5;function $Z(t,e){ke(1,arguments);var n=Ke(t),r=Zs(n,e).getTime()-UZ(n,e).getTime();return Math.round(r/BZ)+1}function qZ(t){ke(1,arguments);var e=Ke(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function WZ(t,e){return ke(1,arguments),CJ(qZ(t),Vn(t),e)+1}function py(t,e){ke(2,arguments);var n=Ke(t),r=Ke(e);return n.getTime()>r.getTime()}function sM(t,e){ke(2,arguments);var n=Ke(t),r=Ke(e);return n.getTime()<r.getTime()}function m1(t,e){ke(2,arguments);var n=Ke(t),r=Ke(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function HZ(t,e){ke(2,arguments);var n=Ke(t),r=Ke(e);return n.getFullYear()===r.getFullYear()}function Jv(t,e){ke(2,arguments);var n=Qt(e);return on(t,-n)}function Zv(t,e){ke(2,arguments);var n=Ke(t),r=Qt(e),s=n.getFullYear(),o=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var l=OZ(i);return n.setMonth(r,Math.min(o,l)),n}function hN(t,e){ke(2,arguments);var n=Ke(t),r=Qt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function fN(t,e){ke(2,arguments);var n=Qt(e);return Yr(t,-n)}function pN(t,e){ke(2,arguments);var n=Qt(e);return JO(t,-n)}var Me=function(){return Me=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Me.apply(this,arguments)};function GZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function oM(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function rh(t){return t.mode==="multiple"}function sh(t){return t.mode==="range"}function mg(t){return t.mode==="single"}var KZ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function YZ(t,e){return Qs(t,"LLLL y",e)}function QZ(t,e){return Qs(t,"d",e)}function XZ(t,e){return Qs(t,"LLLL",e)}function JZ(t){return"".concat(t)}function ZZ(t,e){return Qs(t,"cccccc",e)}function eee(t,e){return Qs(t,"yyyy",e)}var tee=Object.freeze({__proto__:null,formatCaption:YZ,formatDay:QZ,formatMonthCaption:XZ,formatWeekNumber:JZ,formatWeekdayName:ZZ,formatYearCaption:eee}),nee=function(t,e,n){return Qs(t,"do MMMM (EEEE)",n)},ree=function(){return"Month: "},see=function(){return"Go to next month"},oee=function(){return"Go to previous month"},iee=function(t,e){return Qs(t,"cccc",e)},aee=function(t){return"Week n. ".concat(t)},lee=function(){return"Year: "},cee=Object.freeze({__proto__:null,labelDay:nee,labelMonthDropdown:ree,labelNext:see,labelPrevious:oee,labelWeekNumber:aee,labelWeekday:iee,labelYearDropdown:lee});function uee(){var t="buttons",e=KZ,n=rM,r={},s={},o=1,i={},l=new Date;return{captionLayout:t,classNames:e,formatters:tee,labels:cee,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function dee(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,o=t.fromDate,i=t.toDate;return r?o=Vn(r):e&&(o=new Date(e,0,1)),s?i=jd(s):n&&(i=new Date(n,11,31)),{fromDate:o?xc(o):void 0,toDate:i?xc(i):void 0}}var iM=g.createContext(void 0);function hee(t){var e,n=t.initialProps,r=uee(),s=dee(n),o=s.fromDate,i=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(mg(n)||rh(n)||sh(n))&&(c=n.onSelect);var u=Me(Me(Me({},r),n),{captionLayout:l,classNames:Me(Me({},r.classNames),n.classNames),components:Me({},n.components),formatters:Me(Me({},r.formatters),n.formatters),fromDate:o,labels:Me(Me({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Me(Me({},r.modifiers),n.modifiers),modifiersClassNames:Me(Me({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Me(Me({},r.styles),n.styles),toDate:i});return a.jsx(iM.Provider,{value:u,children:t.children})}function yt(){var t=g.useContext(iM);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function aM(t){var e=yt(),n=e.locale,r=e.classNames,s=e.styles,o=e.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function fee(t){return a.jsx("svg",Me({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function lM(t){var e,n,r=t.onChange,s=t.value,o=t.children,i=t.caption,l=t.className,c=t.style,u=yt(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:fee;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function pee(t){var e,n=yt(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(HZ(r,s))for(var p=Vn(r),m=r.getMonth();m<=s.getMonth();m++)f.push(Zv(p,m));else for(var p=Vn(new Date),m=0;m<=11;m++)f.push(Zv(p,m));var x=function(E){var _=Number(E.target.value),v=Zv(Vn(t.displayMonth),_);t.onChange(v)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:lM;return a.jsx(y,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:f.map(function(E){return a.jsx("option",{value:E.getMonth(),children:l(E,{locale:i})},E.getMonth())})})}function mee(t){var e,n=t.displayMonth,r=yt(),s=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var m=s.getFullYear(),x=o.getFullYear(),y=m;y<=x;y++)p.push(hN(fy(new Date),y));var E=function(v){var b=hN(Vn(n),Number(v.target.value));t.onChange(b)},_=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:lM;return a.jsx(_,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:E,value:n.getFullYear(),caption:d(n,{locale:i}),children:p.map(function(v){return a.jsx("option",{value:v.getFullYear(),children:d(v,{locale:i})},v.getFullYear())})})}function gee(t,e){var n=g.useState(t),r=n[0],s=n[1],o=e===void 0?r:e;return[o,s]}function vee(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,o=t.toDate,i=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(o&&kd(o,s)<0){var u=-1*(c-1);s=Yr(o,u)}return i&&kd(s,i)<0&&(s=i),Vn(s)}function xee(){var t=yt(),e=vee(t),n=gee(e,t.month),r=n[0],s=n[1],o=function(i){var l;if(!t.disableNavigation){var c=Vn(i);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,o]}function yee(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Vn(t),o=Vn(Yr(s,r)),i=kd(o,s),l=[],c=0;c<i;c++){var u=Yr(s,c);l.push(u)}return n&&(l=l.reverse()),l}function wee(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Vn(t);if(!n)return Yr(l,i);var c=kd(n,t);if(!(c<o))return Yr(l,i)}}function bee(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Vn(t);if(!n)return Yr(l,-i);var c=kd(l,n);if(!(c<=0))return Yr(l,-i)}}var cM=g.createContext(void 0);function _ee(t){var e=yt(),n=xee(),r=n[0],s=n[1],o=yee(r,e),i=wee(r,e),l=bee(r,e),c=function(f){return o.some(function(p){return m1(f,p)})},u=function(f,p){c(f)||(p&&sM(f,p)?s(Yr(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return a.jsx(cM.Provider,{value:d,children:t.children})}function oh(){var t=g.useContext(cM);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function mN(t){var e,n=yt(),r=n.classNames,s=n.styles,o=n.components,i=oh().goToMonth,l=function(d){i(Yr(d,t.displayIndex?-t.displayIndex:0))},c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:aM,u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:u}),a.jsx(pee,{onChange:l,displayMonth:t.displayMonth}),a.jsx(mee,{onChange:l,displayMonth:t.displayMonth})]})}function See(t){return a.jsx("svg",Me({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Eee(t){return a.jsx("svg",Me({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Jp=g.forwardRef(function(t,e){var n=yt(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var i=o.join(" "),l=Me(Me({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),a.jsx("button",Me({},t,{ref:e,type:"button",className:i,style:l}))});function Cee(t){var e,n,r=yt(),s=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var p=u(t.previousMonth,{locale:o}),m=[i.nav_button,i.nav_button_previous].join(" "),x=d(t.nextMonth,{locale:o}),y=[i.nav_button,i.nav_button_next].join(" "),E=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:Eee,_=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:See;return a.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&a.jsx(Jp,{name:"previous-month","aria-label":p,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?a.jsx(E,{className:i.nav_icon,style:l.nav_icon}):a.jsx(_,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&a.jsx(Jp,{name:"next-month","aria-label":x,className:y,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?a.jsx(_,{className:i.nav_icon,style:l.nav_icon}):a.jsx(E,{className:i.nav_icon,style:l.nav_icon})})]})}function gN(t){var e=yt().numberOfMonths,n=oh(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(x){return m1(t.displayMonth,x)}),c=l===0,u=l===i.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){r&&o(r)},m=function(){s&&o(s)};return a.jsx(Cee,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:m})}function Tee(t){var e,n=yt(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:aM,u;return s?u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?u=a.jsx(mN,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(mN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(gN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(gN,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:r.caption,style:o.caption,children:u})}function Nee(t){var e=yt(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function kee(t,e,n){for(var r=n?Ha(new Date):Zs(new Date,{locale:t,weekStartsOn:e}),s=[],o=0;o<7;o++){var i=on(r,o);s.push(i)}return s}function jee(){var t=yt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,o=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=kee(s,o,i);return a.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function Pee(){var t,e=yt(),n=e.classNames,r=e.styles,s=e.components,o=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:jee;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(o,{})})}function Aee(t){var e=yt(),n=e.locale,r=e.formatters.formatDay;return a.jsx(a.Fragment,{children:r(t.date,{locale:n})})}var g1=g.createContext(void 0);function Iee(t){if(!rh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(g1.Provider,{value:e,children:t.children})}return a.jsx(Ree,{initialProps:t.initialProps,children:t.children})}function Ree(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,o=e.max,i=function(u,d,f){var p,m;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var x=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!x){var y=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!y){var E=r?oM([],r,!0):[];if(d.selected){var _=E.findIndex(function(v){return ur(u,v)});E.splice(_,1)}else E.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,E,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,f=r.some(function(p){return ur(p,u)});return!!(d&&!f)});var c={selected:r,onDayClick:i,modifiers:l};return a.jsx(g1.Provider,{value:c,children:n})}function v1(){var t=g.useContext(g1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Dee(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?ur(s,t)&&ur(r,t)?void 0:ur(s,t)?{from:s,to:void 0}:ur(r,t)?void 0:py(r,t)?{from:t,to:s}:{from:r,to:t}:s?py(t,s)?{from:s,to:t}:{from:t,to:s}:r?sM(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var x1=g.createContext(void 0);function Oee(t){if(!sh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(x1.Provider,{value:e,children:t.children})}return a.jsx(Mee,{initialProps:t.initialProps,children:t.children})}function Mee(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},o=s.from,i=s.to,l=e.min,c=e.max,u=function(m,x,y){var E,_;(E=e.onDayClick)===null||E===void 0||E.call(e,m,x,y);var v=Dee(m,r);(_=e.onSelect)===null||_===void 0||_.call(e,v,m,x,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],ur(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:Jv(o,l-1),before:on(o,l-1)}),o&&i&&d.disabled.push({after:o,before:on(o,l-1)}),!o&&i&&d.disabled.push({after:Jv(i,l-1),before:on(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:on(o,-c+1)}),d.disabled.push({after:on(o,c-1)})),o&&i){var f=vo(i,o)+1,p=c-f;d.disabled.push({before:Jv(o,p)}),d.disabled.push({after:on(i,p)})}!o&&i&&(d.disabled.push({before:on(i,-c+1)}),d.disabled.push({after:on(i,c-1)}))}return a.jsx(x1.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function y1(){var t=g.useContext(x1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Lf(t){return Array.isArray(t)?oM([],t,!0):t!==void 0?[t]:[]}function Lee(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Lf(s)}),e}var Ss;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ss||(Ss={}));var Vee=Ss.Selected,ao=Ss.Disabled,Fee=Ss.Hidden,zee=Ss.Today,e0=Ss.RangeEnd,t0=Ss.RangeMiddle,n0=Ss.RangeStart,Uee=Ss.Outside;function Bee(t,e,n){var r,s=(r={},r[Vee]=Lf(t.selected),r[ao]=Lf(t.disabled),r[Fee]=Lf(t.hidden),r[zee]=[t.today],r[e0]=[],r[t0]=[],r[n0]=[],r[Uee]=[],r);return t.fromDate&&s[ao].push({before:t.fromDate}),t.toDate&&s[ao].push({after:t.toDate}),rh(t)?s[ao]=s[ao].concat(e.modifiers[ao]):sh(t)&&(s[ao]=s[ao].concat(n.modifiers[ao]),s[n0]=n.modifiers[n0],s[t0]=n.modifiers[t0],s[e0]=n.modifiers[e0]),s}var uM=g.createContext(void 0);function $ee(t){var e=yt(),n=v1(),r=y1(),s=Bee(e,n,r),o=Lee(e.modifiers),i=Me(Me({},s),o);return a.jsx(uM.Provider,{value:i,children:t.children})}function dM(){var t=g.useContext(uM);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function qee(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Wee(t){return!!(t&&typeof t=="object"&&"from"in t)}function Hee(t){return!!(t&&typeof t=="object"&&"after"in t)}function Gee(t){return!!(t&&typeof t=="object"&&"before"in t)}function Kee(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Yee(t,e){var n,r=e.from,s=e.to;if(r&&s){var o=vo(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=vo(t,r)>=0&&vo(s,t)>=0;return i}return s?ur(s,t):r?ur(r,t):!1}function Qee(t){return f1(t)}function Xee(t){return Array.isArray(t)&&t.every(f1)}function Jee(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Qee(n))return ur(t,n);if(Xee(n))return n.includes(t);if(Wee(n))return Yee(t,n);if(Kee(n))return n.dayOfWeek.includes(t.getDay());if(qee(n)){var r=vo(n.before,t),s=vo(n.after,t),o=r>0,i=s<0,l=py(n.before,n.after);return l?i&&o:o||i}return Hee(n)?vo(t,n.after)>0:Gee(n)?vo(n.before,t)>0:typeof n=="function"?n(t):!1})}function w1(t,e,n){var r=Object.keys(e).reduce(function(o,i){var l=e[i];return Jee(t,l)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!m1(t,n)&&(s.outside=!0),s}function Zee(t,e){for(var n=Vn(t[0]),r=jd(t[t.length-1]),s,o,i=n;i<=r;){var l=w1(i,e),c=!l.disabled&&!l.hidden;if(!c){i=on(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=on(i,1)}return o||s}var ete=365;function hM(t,e){var n=e.moveBy,r=e.direction,s=e.context,o=e.modifiers,i=e.retry,l=i===void 0?{count:0,lastFocused:t}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,p={day:on,week:hy,month:Yr,year:JO,startOfWeek:function(E){return s.ISOWeek?Ha(E):Zs(E,{locale:f,weekStartsOn:c})},endOfWeek:function(E){return s.ISOWeek?ZO(E):p1(E,{locale:f,weekStartsOn:c})}},m=p[n](t,r==="after"?1:-1);r==="before"&&u?m=bJ([u,m]):r==="after"&&d&&(m=_J([d,m]));var x=!0;if(o){var y=w1(m,o);x=!y.disabled&&!y.hidden}return x?m:l.count>ete?l.lastFocused:hM(m,{moveBy:n,direction:r,context:s,modifiers:o,retry:Me(Me({},l),{count:l.count+1})})}var fM=g.createContext(void 0);function tte(t){var e=oh(),n=dM(),r=g.useState(),s=r[0],o=r[1],i=g.useState(),l=i[0],c=i[1],u=Zee(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),o(void 0)},p=function(E){o(E)},m=yt(),x=function(E,_){if(s){var v=hM(s,{moveBy:E,direction:_,context:m,modifiers:n});ur(s,v)||(e.goToDate(v,s),p(v))}},y={focusedDay:s,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return a.jsx(fM.Provider,{value:y,children:t.children})}function b1(){var t=g.useContext(fM);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function nte(t,e){var n=dM(),r=w1(t,n,e);return r}var _1=g.createContext(void 0);function rte(t){if(!mg(t.initialProps)){var e={selected:void 0};return a.jsx(_1.Provider,{value:e,children:t.children})}return a.jsx(ste,{initialProps:t.initialProps,children:t.children})}function ste(t){var e=t.initialProps,n=t.children,r=function(o,i,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,o,i,l),i.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,o,i,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,o,o,i,l)},s={selected:e.selected,onDayClick:r};return a.jsx(_1.Provider,{value:s,children:n})}function pM(){var t=g.useContext(_1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function ote(t,e){var n=yt(),r=pM(),s=v1(),o=y1(),i=b1(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,p=i.focus,m=i.focusMonthBefore,x=i.focusMonthAfter,y=i.focusYearBefore,E=i.focusYearAfter,_=i.focusStartOfWeek,v=i.focusEndOfWeek,b=function(H){var M,z,K,X;mg(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,t,e,H):rh(n)?(z=s.onDayClick)===null||z===void 0||z.call(s,t,e,H):sh(n)?(K=o.onDayClick)===null||K===void 0||K.call(o,t,e,H):(X=n.onDayClick)===null||X===void 0||X.call(n,t,e,H)},j=function(H){var M;p(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,H)},I=function(H){var M;f(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,H)},V=function(H){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,H)},S=function(H){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,H)},T=function(H){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,H)},A=function(H){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,H)},R=function(H){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,H)},N=function(H){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,H)},k=function(H){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,H)},P=function(H){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,H)},D=function(H){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,H)},L=function(H){var M;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),u();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),d();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?y():m();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?E():x();break;case"Home":H.preventDefault(),H.stopPropagation(),_();break;case"End":H.preventDefault(),H.stopPropagation(),v();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,H)},$={onClick:b,onFocus:j,onBlur:I,onKeyDown:L,onKeyUp:D,onMouseEnter:V,onMouseLeave:S,onPointerEnter:T,onPointerLeave:A,onTouchCancel:R,onTouchEnd:N,onTouchMove:k,onTouchStart:P};return $}function ite(){var t=yt(),e=pM(),n=v1(),r=y1(),s=mg(t)?e.selected:rh(t)?n.selected:sh(t)?r.selected:void 0;return s}function ate(t){return Object.values(Ss).includes(t)}function lte(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(ate(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function cte(t,e){var n=Me({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Me(Me({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function ute(t,e,n){var r,s,o,i=yt(),l=b1(),c=nte(t,e),u=ote(t,c),d=ite(),f=!!(i.onDayClick||i.mode!=="default");g.useEffect(function(){var V;c.outside||l.focusedDay&&f&&ur(l.focusedDay,t)&&((V=n.current)===null||V===void 0||V.focus())},[l.focusedDay,t,n,f,c.outside]);var p=lte(i,c).join(" "),m=cte(i,c),x=!!(c.outside&&!i.showOutsideDays||c.hidden),y=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:Aee,E=a.jsx(y,{date:t,displayMonth:e,activeModifiers:c}),_={style:m,className:p,children:E,role:"gridcell"},v=l.focusTarget&&ur(l.focusTarget,t)&&!c.outside,b=l.focusedDay&&ur(l.focusedDay,t),j=Me(Me(Me({},_),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||v?0:-1,r)),u),I={isButton:f,isHidden:x,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:_};return I}function dte(t){var e=g.useRef(null),n=ute(t.date,t.displayMonth,e);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(Jp,Me({name:"day",ref:e},n.buttonProps)):a.jsx("div",Me({},n.divProps))}function hte(t){var e=t.number,n=t.dates,r=yt(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(m){s(e,n,m)};return a.jsx(Jp,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:p,children:d})}function fte(t){var e,n,r=yt(),s=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:dte,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:hte,d;return i&&(d=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[d,t.dates.map(function(f){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:t.displayMonth,date:f})},FZ(f))})]})}function vN(t,e,n){for(var r=n!=null&&n.ISOWeek?ZO(e):p1(e,n),s=n!=null&&n.ISOWeek?Ha(t):Zs(t,n),o=vo(r,s),i=[],l=0;l<=o;l++)i.push(on(s,l));var c=i.reduce(function(u,d){var f=n!=null&&n.ISOWeek?LZ(d):$Z(d,n),p=u.find(function(m){return m.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function pte(t,e){var n=vN(Vn(t),jd(t),e);if(e!=null&&e.useFixedWeeks){var r=WZ(t,e);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=hy(o,6-r),l=vN(hy(o,1),i,e);n.push.apply(n,l)}}return n}function mte(t){var e,n,r,s=yt(),o=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,m=s.ISOWeek,x=pte(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:o,weekStartsOn:f,firstWeekContainsDate:p}),y=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Pee,E=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:fte,_=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:Nee;return a.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&a.jsx(y,{}),a.jsx("tbody",{className:i.tbody,style:l.tbody,children:x.map(function(v){return a.jsx(E,{displayMonth:t.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),a.jsx(_,{displayMonth:t.displayMonth})]})}function gte(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var vte=gte()?g.useLayoutEffect:g.useEffect,r0=!1,xte=0;function xN(){return"react-day-picker-".concat(++xte)}function yte(t){var e,n=t??(r0?xN():null),r=g.useState(n),s=r[0],o=r[1];return vte(function(){s===null&&o(xN())},[]),g.useEffect(function(){r0===!1&&(r0=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function wte(t){var e,n,r=yt(),s=r.dir,o=r.classNames,i=r.styles,l=r.components,c=oh().displayMonths,u=yte(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],p=i.month,m=t.displayIndex===0,x=t.displayIndex===c.length-1,y=!m&&!x;s==="rtl"&&(e=[m,x],x=e[0],m=e[1]),m&&(f.push(o.caption_start),p=Me(Me({},p),i.caption_start)),x&&(f.push(o.caption_end),p=Me(Me({},p),i.caption_end)),y&&(f.push(o.caption_between),p=Me(Me({},p),i.caption_between));var E=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:Tee;return a.jsxs("div",{className:f.join(" "),style:p,children:[a.jsx(E,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(mte,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function bte(t){var e=yt(),n=e.classNames,r=e.styles;return a.jsx("div",{className:n.months,style:r.months,children:t.children})}function _te(t){var e,n,r=t.initialProps,s=yt(),o=b1(),i=oh(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Me(Me({},s.styles.root),s.style),p=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var E;return Me(Me({},x),(E={},E[y]=r[y],E))},{}),m=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:bte;return a.jsx("div",Me({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:a.jsx(m,{children:i.displayMonths.map(function(x,y){return a.jsx(wte,{displayIndex:y,displayMonth:x},y)})})}))}function Ste(t){var e=t.children,n=GZ(t,["children"]);return a.jsx(hee,{initialProps:n,children:a.jsx(_ee,{children:a.jsx(rte,{initialProps:n,children:a.jsx(Iee,{initialProps:n,children:a.jsx(Oee,{initialProps:n,children:a.jsx($ee,{children:a.jsx(tte,{children:e})})})})})})})}function Ete(t){return a.jsx(Ste,Me({},t,{children:a.jsx(_te,{initialProps:t})}))}function mM({className:t,classNames:e,showOutsideDays:n=!0,...r}){return a.jsx(Ete,{showOutsideDays:n,className:qe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:qe("h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:qe("h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>a.jsx(fA,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx($z,{className:"h-4 w-4"})},...r})}mM.displayName="Calendar";var gg="Popover",[gM,gne]=eo(gg,[Tc]),ih=Tc(),[Cte,Xi]=gM(gg),vM=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=t,l=ih(e),c=g.useRef(null),[u,d]=g.useState(!1),[f,p]=Oa({prop:r,defaultProp:s??!1,onChange:o,caller:gg});return a.jsx(S2,{...l,children:a.jsx(Cte,{scope:e,contentId:bo(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:i,children:n})})};vM.displayName=gg;var xM="PopoverAnchor",Tte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Xi(xM,n),o=ih(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(Am,{...o,...r,ref:e})});Tte.displayName=xM;var yM="PopoverTrigger",wM=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Xi(yM,n),o=ih(n),i=pt(e,s.triggerRef),l=a.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":CM(s.open),...r,ref:i,onClick:Te(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Am,{asChild:!0,...o,children:l})});wM.displayName=yM;var S1="PopoverPortal",[Nte,kte]=gM(S1,{forceMount:void 0}),bM=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Xi(S1,e);return a.jsx(Nte,{scope:e,forceMount:n,children:a.jsx(Mo,{present:n||o.open,children:a.jsx(Fd,{asChild:!0,container:s,children:r})})})};bM.displayName=S1;var yc="PopoverContent",_M=g.forwardRef((t,e)=>{const n=kte(yc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Xi(yc,t.__scopePopover);return a.jsx(Mo,{present:r||o.open,children:o.modal?a.jsx(Pte,{...s,ref:e}):a.jsx(Ate,{...s,ref:e})})});_M.displayName=yc;var jte=Da("PopoverContent.RemoveScroll"),Pte=g.forwardRef((t,e)=>{const n=Xi(yc,t.__scopePopover),r=g.useRef(null),s=pt(e,r),o=g.useRef(!1);return g.useEffect(()=>{const i=r.current;if(i)return Zw(i)},[]),a.jsx(Jw,{as:jte,allowPinchZoom:!0,children:a.jsx(SM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Te(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Te(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ate=g.forwardRef((t,e)=>{const n=Xi(yc,t.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(SM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),SM=g.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=Xi(yc,n),m=ih(n);return Xw(),a.jsx(Dm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Sc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:a.jsx(Kw,{"data-state":CM(p.open),role:"dialog",id:p.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),EM="PopoverClose",Ite=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Xi(EM,n);return a.jsx(Be.button,{type:"button",...r,ref:e,onClick:Te(t.onClick,()=>s.onOpenChange(!1))})});Ite.displayName=EM;var Rte="PopoverArrow",Dte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ih(n);return a.jsx(Yw,{...s,...r,ref:e})});Dte.displayName=Rte;function CM(t){return t?"open":"closed"}var Ote=vM,Mte=wM,Lte=bM,TM=_M;const Vte=Ote,Fte=Mte,NM=Re.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>a.jsx(Lte,{children:a.jsx(TM,{ref:s,align:e,sideOffset:n,className:qe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));NM.displayName=TM.displayName;const zte=Re.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx("div",{ref:s,role:n?"none":"separator","aria-orientation":e,className:qe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));zte.displayName="Separator";const Ute=()=>{g.useContext(vr);const{toast:t}=gr();Mc();const{ordens:e}=cg(),{ordens:n}=eh();th(),nh();const{financeiro:r}=ug(),{movimentacoes:s}=a1(),[o,i]=g.useState("graficos"),[l,c]=g.useState({from:on(new Date,-30),to:new Date}),[u,d]=g.useState(null),[f,p]=g.useState(""),[m,x]=g.useState("all"),[y,E]=g.useState("grid"),[_,v]=g.useState(!1),b=[{label:"Últimos 7 dias",value:"7d",from:on(new Date,-7),to:new Date},{label:"Últimos 30 dias",value:"30d",from:on(new Date,-30),to:new Date},{label:"Últimos 90 dias",value:"90d",from:on(new Date,-90),to:new Date},{label:"Este mês",value:"month",from:Vn(new Date),to:jd(new Date)},{label:"Mês passado",value:"lastMonth",from:Vn(fN(new Date,1)),to:jd(fN(new Date,1))},{label:"Este ano",value:"year",from:fy(new Date),to:aN(new Date)},{label:"Ano passado",value:"lastYear",from:fy(pN(new Date,1)),to:aN(pN(new Date,1))}];n.filter(N=>{const k=new Date(N.createdAt);return k>=l.from&&k<=l.to}),e.filter(N=>{const k=new Date(N.createdAt);return k>=l.from&&k<=l.to}),r.filter(N=>{const k=new Date(N.createdAt);return k>=l.from&&k<=l.to}),s.filter(N=>{const k=new Date(N.createdAt);return k>=l.from&&k<=l.to});const j=[{id:"vendas-diarias",title:"Vendas Diárias",description:"Evolução das vendas por dia",icon:sr,color:"bg-blue-500",type:"bar"},{id:"fluxo-caixa",title:"Fluxo de Caixa",description:"Entradas e saídas de dinheiro",icon:ar,color:"bg-green-500",type:"line"},{id:"produtos-vendidos",title:"Produtos Mais Vendidos",description:"Ranking dos produtos por quantidade",icon:Kn,color:"bg-purple-500",type:"horizontalBar"},{id:"categorias-vendas",title:"Vendas por Categoria",description:"Distribuição de vendas por categoria",icon:xv,color:"bg-orange-500",type:"pie"},{id:"clientes-top",title:"Top Clientes",description:"Clientes que mais compraram",icon:vs,color:"bg-indigo-500",type:"bar"},{id:"receitas-despesas",title:"Receitas vs Despesas",description:"Comparativo mensal de receitas e despesas",icon:bn,color:"bg-emerald-500",type:"composed"},{id:"ticket-medio",title:"Ticket Médio",description:"Valor médio por venda ao longo do tempo",icon:Lh,color:"bg-cyan-500",type:"line"},{id:"conversao-vendas",title:"Taxa de Conversão",description:"Percentual de conversão de propostas em vendas",icon:xu,color:"bg-pink-500",type:"area"}],I=[{id:"vendas-por-periodo",title:"Vendas por Período",category:"Vendas",icon:ua,color:"bg-blue-500"},{id:"vendas-por-cliente",title:"Vendas por Cliente",category:"Vendas",icon:vs,color:"bg-indigo-500"},{id:"vendas-por-produto",title:"Vendas por Produto",category:"Vendas",icon:Kn,color:"bg-purple-500"},{id:"vendas-por-categoria",title:"Vendas por Categoria",category:"Vendas",icon:Fu,color:"bg-orange-500"},{id:"vendas-por-vendedor",title:"Vendas por Vendedor",category:"Vendas",icon:Br,color:"bg-green-500"},{id:"vendas-por-regiao",title:"Vendas por Região",category:"Vendas",icon:yp,color:"bg-red-500"},{id:"vendas-por-canal",title:"Vendas por Canal",category:"Vendas",icon:pA,color:"bg-cyan-500"},{id:"vendas-por-forma-pagamento",title:"Vendas por Forma de Pagamento",category:"Vendas",icon:Wz,color:"bg-yellow-500"},{id:"ticket-medio-cliente",title:"Ticket Médio por Cliente",category:"Vendas",icon:Lh,color:"bg-pink-500"},{id:"frequencia-compra",title:"Frequência de Compra",category:"Vendas",icon:ir,color:"bg-teal-500"},{id:"receitas-periodo",title:"Receitas por Período",category:"Financeiro",icon:ar,color:"bg-emerald-500"},{id:"despesas-periodo",title:"Despesas por Período",category:"Financeiro",icon:Ra,color:"bg-red-500"},{id:"fluxo-caixa-detalhado",title:"Fluxo de Caixa Detalhado",category:"Financeiro",icon:bn,color:"bg-green-500"},{id:"contas-receber",title:"Contas a Receber",category:"Financeiro",icon:ir,color:"bg-yellow-500"},{id:"contas-pagar",title:"Contas a Pagar",category:"Financeiro",icon:ps,color:"bg-orange-500"},{id:"margem-lucro",title:"Margem de Lucro",category:"Financeiro",icon:xu,color:"bg-purple-500"},{id:"roi-produtos",title:"ROI por Produto",category:"Financeiro",icon:sr,color:"bg-indigo-500"},{id:"custo-venda",title:"Custo por Venda",category:"Financeiro",icon:Lh,color:"bg-cyan-500"},{id:"lucratividade-categoria",title:"Lucratividade por Categoria",category:"Financeiro",icon:xv,color:"bg-pink-500"},{id:"projecao-receitas",title:"Projeção de Receitas",category:"Financeiro",icon:ar,color:"bg-teal-500"},{id:"estoque-atual",title:"Estoque Atual",category:"Estoque",icon:Kn,color:"bg-blue-500"},{id:"produtos-baixo-estoque",title:"Produtos com Baixo Estoque",category:"Estoque",icon:ps,color:"bg-red-500"},{id:"produtos-sem-estoque",title:"Produtos sem Estoque",category:"Estoque",icon:pr,color:"bg-red-600"},{id:"movimentacao-estoque",title:"Movimentação de Estoque",category:"Estoque",icon:mx,color:"bg-green-500"},{id:"giro-estoque",title:"Giro de Estoque",category:"Estoque",icon:Fh,color:"bg-purple-500"},{id:"valor-estoque",title:"Valor do Estoque",category:"Estoque",icon:bn,color:"bg-yellow-500"},{id:"produtos-vencidos",title:"Produtos Vencidos",category:"Estoque",icon:ua,color:"bg-orange-500"},{id:"produtos-proximo-vencimento",title:"Produtos Próximos ao Vencimento",category:"Estoque",icon:ir,color:"bg-yellow-600"},{id:"entradas-estoque",title:"Entradas de Estoque",category:"Estoque",icon:Vz,color:"bg-green-600"},{id:"saidas-estoque",title:"Saídas de Estoque",category:"Estoque",icon:zz,color:"bg-red-600"},{id:"clientes-cadastrados",title:"Clientes Cadastrados",category:"Clientes",icon:vs,color:"bg-indigo-500"},{id:"clientes-ativos",title:"Clientes Ativos",category:"Clientes",icon:Bl,color:"bg-green-500"},{id:"clientes-inativos",title:"Clientes Inativos",category:"Clientes",icon:pr,color:"bg-red-500"},{id:"novos-clientes",title:"Novos Clientes",category:"Clientes",icon:Er,color:"bg-blue-500"},{id:"clientes-fidelidade",title:"Clientes Fidelidade",category:"Clientes",icon:_f,color:"bg-yellow-500"},{id:"segmentacao-clientes",title:"Segmentação de Clientes",category:"Clientes",icon:jE,color:"bg-purple-500"},{id:"satisfacao-clientes",title:"Satisfação dos Clientes",category:"Clientes",icon:kE,color:"bg-pink-500"},{id:"clientes-potenciais",title:"Clientes Potenciais",category:"Clientes",icon:xu,color:"bg-cyan-500"},{id:"historico-cliente",title:"Histórico por Cliente",category:"Clientes",icon:ms,color:"bg-teal-500"},{id:"geolocalizacao-clientes",title:"Geolocalização de Clientes",category:"Clientes",icon:yp,color:"bg-orange-500"},{id:"catalogo-produtos",title:"Catálogo de Produtos",category:"Produtos",icon:Kn,color:"bg-blue-500"},{id:"produtos-mais-vendidos",title:"Produtos Mais Vendidos",category:"Produtos",icon:ar,color:"bg-green-500"},{id:"produtos-menos-vendidos",title:"Produtos Menos Vendidos",category:"Produtos",icon:Ra,color:"bg-red-500"},{id:"produtos-lucrativos",title:"Produtos Mais Lucrativos",category:"Produtos",icon:bn,color:"bg-yellow-500"},{id:"produtos-sazonalidade",title:"Sazonalidade de Produtos",category:"Produtos",icon:ua,color:"bg-purple-500"},{id:"preco-produtos",title:"Análise de Preços",category:"Produtos",icon:Fu,color:"bg-indigo-500"},{id:"margem-produtos",title:"Margem por Produto",category:"Produtos",icon:Lh,color:"bg-cyan-500"},{id:"produtos-categoria",title:"Produtos por Categoria",category:"Produtos",icon:jE,color:"bg-orange-500"},{id:"produtos-fornecedor",title:"Produtos por Fornecedor",category:"Produtos",icon:t9,color:"bg-teal-500"},{id:"produtos-promocao",title:"Produtos em Promoção",category:"Produtos",icon:bp,color:"bg-pink-500"},{id:"ordens-servico",title:"Ordens de Serviço",category:"Serviços",icon:ms,color:"bg-blue-500"},{id:"servicos-concluidos",title:"Serviços Concluídos",category:"Serviços",icon:Bl,color:"bg-green-500"},{id:"servicos-pendentes",title:"Serviços Pendentes",category:"Serviços",icon:ir,color:"bg-yellow-500"},{id:"servicos-atrasados",title:"Serviços Atrasados",category:"Serviços",icon:ps,color:"bg-red-500"},{id:"tempo-medio-servico",title:"Tempo Médio de Serviço",category:"Serviços",icon:ir,color:"bg-purple-500"},{id:"servicos-tecnico",title:"Serviços por Técnico",category:"Serviços",icon:Br,color:"bg-indigo-500"},{id:"servicos-tipo",title:"Serviços por Tipo",category:"Serviços",icon:Fu,color:"bg-orange-500"},{id:"satisfacao-servicos",title:"Satisfação dos Serviços",category:"Serviços",icon:_f,color:"bg-yellow-500"},{id:"custos-servicos",title:"Custos dos Serviços",category:"Serviços",icon:bn,color:"bg-green-500"},{id:"agendamentos",title:"Agendamentos",category:"Serviços",icon:ua,color:"bg-cyan-500"},{id:"performance-vendedores",title:"Performance dos Vendedores",category:"Performance",icon:Uz,color:"bg-yellow-600"},{id:"metas-vendas",title:"Metas de Vendas",category:"Performance",icon:xu,color:"bg-purple-500"},{id:"conversao-leads",title:"Conversão de Leads",category:"Performance",icon:ar,color:"bg-green-500"},{id:"tempo-resposta",title:"Tempo de Resposta",category:"Performance",icon:ir,color:"bg-blue-500"},{id:"produtividade-equipe",title:"Produtividade da Equipe",category:"Performance",icon:mx,color:"bg-indigo-500"},{id:"eficiencia-processos",title:"Eficiência dos Processos",category:"Performance",icon:bp,color:"bg-yellow-500"},{id:"qualidade-atendimento",title:"Qualidade do Atendimento",category:"Performance",icon:_f,color:"bg-pink-500"},{id:"retencao-clientes",title:"Retenção de Clientes",category:"Performance",icon:kE,color:"bg-red-500"},{id:"crescimento-receita",title:"Crescimento da Receita",category:"Performance",icon:ar,color:"bg-emerald-500"},{id:"market-share",title:"Market Share",category:"Performance",icon:xv,color:"bg-cyan-500"}],V=N=>{c({from:N.from,to:N.to})},S=async N=>{v(!0);try{await new Promise(k=>setTimeout(k,1e3)),t({title:"Relatório gerado!",description:"O relatório foi processado com sucesso."}),d(N)}catch{t({title:"Erro",description:"Erro ao gerar o relatório.",variant:"destructive"})}finally{v(!1)}},T=N=>{t({title:"Exportando...",description:`Relatório sendo exportado em formato ${N}`})},A=I.filter(N=>{const k=m==="all"||N.category===m,P=N.title.toLowerCase().includes(f.toLowerCase());return k&&P}),R=["all",...new Set(I.map(N=>N.category))];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatórios"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Análise completa e detalhada do seu negócio"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(Vte,{children:[a.jsx(Fte,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"w-full sm:w-[280px] justify-start",children:[a.jsx(ua,{className:"mr-2 h-4 w-4"}),l!=null&&l.from?l.to?a.jsxs(a.Fragment,{children:[Qs(l.from,"dd/MM/yyyy")," - ",Qs(l.to,"dd/MM/yyyy")]}):Qs(l.from,"dd/MM/yyyy"):a.jsx("span",{children:"Selecione um período"})]})}),a.jsx(NM,{className:"w-auto p-0",align:"end",children:a.jsx(mM,{initialFocus:!0,mode:"range",defaultMonth:l==null?void 0:l.from,selected:l,onSelect:c,numberOfMonths:2})})]}),a.jsxs(lt,{onValueChange:N=>{const k=b.find(P=>P.value===N);k&&V(k)},children:[a.jsx(it,{className:"w-full sm:w-[180px]",children:a.jsx(ct,{placeholder:"Período rápido"})}),a.jsx(at,{children:b.map(N=>a.jsx(ae,{value:N.value,children:N.label},N.value))})]})]})]}),a.jsxs(za,{value:o,onValueChange:i,className:"w-full",children:[a.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[a.jsxs(rn,{value:"graficos",className:"flex items-center gap-2",children:[a.jsx(sr,{className:"h-4 w-4"}),"Relatórios Gráficos"]}),a.jsxs(rn,{value:"lista",className:"flex items-center gap-2",children:[a.jsx(PE,{className:"h-4 w-4"}),"Relatórios em Lista"]})]}),a.jsx(sn,{value:"graficos",className:"space-y-6 pt-6",children:a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:j.map(N=>a.jsxs(en,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:[a.jsxs(un,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:`p-2 rounded-lg ${N.color}`,children:a.jsx(N.icon,{className:"h-5 w-5 text-white"})}),a.jsx(cs,{variant:"secondary",className:"text-xs",children:N.type})]}),a.jsx(dn,{className:"text-lg",children:N.title}),a.jsx(va,{className:"text-sm",children:N.description})]}),a.jsx(tn,{className:"pt-0",children:a.jsxs(Q,{onClick:()=>S(N.id),className:"w-full",disabled:_,children:[_?a.jsx(Fh,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx($l,{className:"h-4 w-4 mr-2"}),"Visualizar"]})})]},N.id))})}),a.jsxs(sn,{value:"lista",className:"space-y-6 pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar relatórios...",value:f,onChange:N=>p(N.target.value),className:"pl-10"})]}),a.jsxs(lt,{value:m,onValueChange:x,children:[a.jsx(it,{className:"w-full sm:w-[200px]",children:a.jsx(ct,{placeholder:"Categoria"})}),a.jsx(at,{children:R.map(N=>a.jsx(ae,{value:N,children:N==="all"?"Todas as Categorias":N},N))})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q,{variant:y==="grid"?"default":"outline",size:"sm",onClick:()=>E("grid"),children:a.jsx(Hz,{className:"h-4 w-4"})}),a.jsx(Q,{variant:y==="list"?"default":"outline",size:"sm",onClick:()=>E("list"),children:a.jsx(PE,{className:"h-4 w-4"})})]})]}),a.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:qe("gap-4",y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"space-y-3"),children:a.jsx(Iw,{children:A.map((N,k)=>a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:k*.05},children:y==="grid"?a.jsxs(en,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer h-full",children:[a.jsxs(un,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:`p-2 rounded-lg ${N.color}`,children:a.jsx(N.icon,{className:"h-5 w-5 text-white"})}),a.jsx(cs,{variant:"outline",className:"text-xs",children:N.category})]}),a.jsx(dn,{className:"text-base",children:N.title})]}),a.jsx(tn,{className:"pt-0",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Q,{size:"sm",onClick:()=>S(N.id),className:"flex-1",disabled:_,children:[_?a.jsx(Fh,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx($l,{className:"h-3 w-3 mr-1"}),"Ver"]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>T("PDF"),children:a.jsx(xp,{className:"h-3 w-3"})})]})})]}):a.jsx(en,{className:"group hover:shadow-md transition-all duration-300 cursor-pointer",children:a.jsx(tn,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${N.color}`,children:a.jsx(N.icon,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:N.title}),a.jsx("p",{className:"text-sm text-slate-500",children:N.category})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Q,{size:"sm",onClick:()=>S(N.id),disabled:_,children:[_?a.jsx(Fh,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx($l,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>T("PDF"),children:a.jsx(xp,{className:"h-3 w-3"})}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>T("Excel"),children:a.jsx(ms,{className:"h-3 w-3"})})]})]})})})},N.id))})}),a.jsx("div",{className:"mt-8 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400",children:[a.jsxs("span",{children:["Total de relatórios: ",A.length]}),a.jsxs("span",{children:["Categoria: ",m==="all"?"Todas":m]})]})})]})]})]})},lo=Re.forwardRef(({className:t,checked:e,onCheckedChange:n,...r},s)=>a.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>n==null?void 0:n(!e),className:qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e?"bg-primary":"bg-input",t),ref:s,...r,children:a.jsx("span",{className:qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",e?"translate-x-5":"translate-x-0")})}));lo.displayName="Switch";const yN={"pt-BR":{"nav.dashboard":"Dashboard","nav.clientes":"Clientes","nav.os":"Ordens de Serviço","nav.ov":"Ordens de Venda","nav.estoque":"Estoque","nav.financeiro":"Financeiro","nav.relatorios":"Relatórios","nav.configuracoes":"Configurações","config.titulo":"Configurações","config.descricao":"Gerencie todas as configurações do sistema","config.salvar":"Salvar Configurações","config.restaurarPadroes":"Restaurar Padrões","config.tabs.personalizacao":"Personalização","config.tabs.usuarios":"Usuários","config.tabs.seguranca":"Segurança","config.tabs.impressao":"Impressão","config.tabs.sistema":"Sistema","config.tabs.loja":"Loja","config.personalizacao.titulo":"Personalização do Sistema","config.personalizacao.descricao":"Configure a aparência e identidade visual do sistema","config.tema":"Tema","config.tema.descricao":"Escolha entre tema claro, escuro ou automático do sistema","config.tema.light":"Claro","config.tema.dark":"Escuro","config.tema.system":"Sistema","config.corPrimaria":"Cor Primária","config.corPrimaria.descricao":"Cor principal usada em botões, links e elementos destacados","config.corSecundaria":"Cor Secundária","config.corSecundaria.descricao":"Cor complementar usada em gradientes e elementos secundários","config.nomeEmpresa":"Nome da Empresa","config.nomeEmpresa.descricao":"Nome que aparecerá no cabeçalho e título do sistema","config.logoEmpresa":"Logo da Empresa","config.logoEmpresa.descricao":"Imagem que aparecerá no cabeçalho do sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal da interface do usuário","config.idioma.pt-BR":"Português (Brasil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Español","config.idioma.zh-CN":"中文 (简体)","config.idioma ja-JP":"日本語","config.usuarios.titulo":"Configurações de Usuários","config.usuarios.descricao":"Gerencie configurações relacionadas aos usuários do sistema","config.permitirCadastro":"Permitir Cadastro","config.permitirCadastro.descricao":"Permite que novos usuários se cadastrem no sistema","config.requerAprovacao":"Requer Aprovação","config.requerAprovacao.descricao":"Novos cadastros precisam ser aprovados por um administrador","config.limiteUsuarios":"Limite de Usuários","config.limiteUsuarios.descricao":"Número máximo de usuários permitidos no sistema","config.notificacaoNovosUsuarios":"Notificar Novos Usuários","config.notificacaoNovosUsuarios.descricao":"Enviar notificações quando novos usuários se cadastrarem","usuarios.tipos.admin":"Administrador","usuarios.tipos.financeiro":"Financeiro","usuarios.tipos.comum":"Comum","usuarios.status.ativo":"Ativo","usuarios.status.inativo":"Inativo","usuarios.erros.nomeObrigatorio":"Nome é obrigatório","usuarios.erros.nomeMinimo":"Nome deve ter pelo menos 2 caracteres","usuarios.erros.emailObrigatorio":"Email é obrigatório","usuarios.erros.emailInvalido":"Email inválido","usuarios.erros.telefoneInvalido":"Telefone inválido","usuarios.edicao.titulo":"Editar Usuário","usuarios.edicao.descricao":"Edite as informações do usuário","usuarios.edicao.cancelar":"Cancelar","usuarios.edicao.salvar":"Salvar","usuarios.edicao.salvando":"Salvando...","usuarios.edicao.erro":"Erro ao salvar","usuarios.edicao.erroDescricao":"Não foi possível salvar as alterações","usuarios.remocao.titulo":"Remover Usuário","usuarios.remocao.descricao":"Tem certeza que deseja remover este usuário?","usuarios.remocao.cancelar":"Cancelar","usuarios.remocao.confirmar":"Remover","usuarios.remocao.removendo":"Removendo...","usuarios.remocao.erro":"Erro ao remover","usuarios.remocao.erroDescricao":"Não foi possível remover o usuário","usuarios.remocao.erroConfirmacao":"Confirmação necessária","usuarios.remocao.erroConfirmacaoDescricao":'Digite "CONFIRMAR" para remover o usuário',"usuarios.remocao.aviso.titulo":"Atenção!","usuarios.remocao.aviso.descricao":"Esta ação não pode ser desfeita.","usuarios.remocao.aviso.item1":"O usuário perderá acesso ao sistema","usuarios.remocao.aviso.item2":"Todos os dados do usuário serão removidos","usuarios.remocao.aviso.item3":"Esta ação não pode ser desfeita","usuarios.remocao.confirmacao.label":"Confirmação","usuarios.remocao.confirmacao.descricao":'Digite "CONFIRMAR" para confirmar a remoção',"usuarios.remocao.confirmacao.placeholder":"CONFIRMAR","usuarios.cadastro.form.nome":"Nome","usuarios.cadastro.form.nomePlaceholder":"Digite o nome completo","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Digite o email","usuarios.cadastro.form.telefone":"Telefone","usuarios.cadastro.form.telefonePlaceholder":"Digite o telefone","usuarios.cadastro.form.tipo":"Tipo de Usuário","usuarios.cadastro.form.senha":"Senha","usuarios.cadastro.form.senhaPlaceholder":"Digite a senha","usuarios.cadastro.form.confirmarSenha":"Confirmar Senha","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirme a senha","usuarios.listagem.titulo":"Usuários","usuarios.listagem.descricao":"Gerencie os usuários do sistema","usuarios.filtros.titulo":"Filtros","usuarios.busca":"Buscar","usuarios.busca.placeholder":"Buscar por nome ou email...","usuarios.filtros.tipo":"Tipo","usuarios.filtros.status":"Status","usuarios.filtros.todos":"Todos","usuarios.lista.titulo":"Lista de Usuários","usuarios.lista.descricao":"Usuários encontrados","usuarios.adicionar":"Adicionar Usuário","usuarios.tabela.nome":"Nome","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Tipo","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Último Acesso","usuarios.tabela.acoes":"Ações","usuarios.lista.vazia":"Nenhum usuário encontrado","config.seguranca.titulo":"Configurações de Segurança","config.seguranca.descricao":"Configure as políticas de segurança e autenticação","config.autenticacaoDoisFatores":"Autenticação 2 Fatores","config.autenticacaoDoisFatores.descricao":"Requer segundo fator de autenticação para login","config.tempoSessao":"Tempo da Sessão (min)","config.tempoSessao.descricao":"Tempo em minutos antes da sessão expirar automaticamente","config.tentativasLogin":"Tentativas de Login","config.tentativasLogin.descricao":"Número de tentativas de login antes do bloqueio","config.bloqueioAutomatico":"Bloqueio Automático","config.bloqueioAutomatico.descricao":"Bloqueia automaticamente após tentativas falhas","config.auditoriaAtivada":"Auditoria Ativada","config.auditoriaAtivada.descricao":"Registra todas as ações dos usuários no sistema","config.impressao.titulo":"Configurações de Impressão","config.impressao.descricao":"Configure as opções padrão para impressão de documentos","config.formatoPadrao":"Formato Padrão","config.formatoPadrao.descricao":"Formato de papel padrão para impressões","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientação","config.orientacao.descricao":"Orientação padrão da página para impressões","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisagem","config.margens":"Margens","config.margens.descricao":"Configuração das margens padrão para impressões","config.margens.normal":"Normal","config.margens.estreita":"Estreita","config.margens.larga":"Larga","config.cabecalhoPersonalizado":"Cabeçalho Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir cabeçalho personalizado nas impressões","config.rodapePersonalizado":"Rodapé Personalizado","config.rodapePersonalizado.descricao":"Incluir rodapé personalizado nas impressões","config.sistema.titulo":"Configurações do Sistema","config.sistema.descricao":"Configurações técnicas e de performance do sistema","config.backupAutomatico":"Backup Automático","config.backupAutomatico.descricao":"Realizar backups automáticos dos dados","config.frequenciaBackup":"Frequência Backup","config.frequenciaBackup.descricao":"Com que frequência os backups devem ser realizados","config.frequencia.diario":"Diário","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensal","config.notificacoesEmail":"Notificações Email","config.notificacoesEmail.descricao":"Enviar notificações importantes por email","config.cacheAtivo":"Cache Ativo","config.cacheAtivo.descricao":"Ativar sistema de cache para melhorar performance","config.logsAtivo":"Logs Ativo","config.logsAtivo.descricao":"Manter registros detalhados das atividades do sistema","msg.configuracoesSalvas":"Configurações salvas com sucesso!","msg.configuracoesRestauradas":"Configurações restauradas para os padrões!","msg.descricaoRestaurada":"Todas as configurações foram restauradas para os valores padrão.","msg.arquivoInvalido":"Arquivo inválido! Por favor, selecione uma imagem.","msg.logoRemovido":"Logo removido com sucesso!","msg.erroUpload":"Erro no upload da imagem. Tente novamente.","common.salvar":"Salvar","common.cancelar":"Cancelar","config.logoDescricao":"Arraste uma imagem ou clique para selecionar","config.logoTipos":"PNG, JPG ou GIF (máx. 5MB)","config.removerLogo":"Remover Logo","config.selecionarArquivo":"clique para selecionar"},"en-US":{"nav.dashboard":"Dashboard","nav.clientes":"Clients","nav.os":"Service Orders","nav.ov":"Sales Orders","nav.estoque":"Inventory","nav.financeiro":"Financial","nav.relatorios":"Reports","nav.configuracoes":"Settings","config.titulo":"Settings","config.descricao":"Manage all system settings","config.salvar":"Save Settings","config.restaurarPadroes":"Restore Defaults","config.personalizacao.titulo":"System Personalization","config.personalizacao.descricao":"Configure system appearance and visual identity","config.tema":"Theme","config.tema.descricao":"Choose between light, dark or system automatic theme","config.tema.light":"Light","config.tema.dark":"Dark","config.tema.system":"System","config.corPrimaria":"Primary Color","config.corPrimaria.descricao":"Main color used in buttons, links and highlighted elements","config.corSecundaria":"Secondary Color","config.corSecundaria.descricao":"Complementary color used in gradients and secondary elements","config.nomeEmpresa":"Company Name","config.nomeEmpresa.descricao":"Name that will appear in the header and system title","config.logoEmpresa":"Company Logo","config.logoEmpresa.descricao":"Image that will appear in the system header","config.idioma":"Language","config.idioma.descricao":"Main language of the user interface","config.idioma.pt-BR":"Portuguese (Brazil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Spanish","config.idioma.zh-CN":"Chinese (Simplified)","config.idioma ja-JP":"Japanese","config.usuarios.titulo":"User Settings","config.usuarios.descricao":"Manage user-related system settings","config.permitirCadastro":"Allow Registration","config.permitirCadastro.descricao":"Allows new users to register in the system","config.requerAprovacao":"Require Approval","config.requerAprovacao.descricao":"New registrations need to be approved by an administrator","config.limiteUsuarios":"User Limit","config.limiteUsuarios.descricao":"Maximum number of users allowed in the system","config.notificacaoNovosUsuarios":"Notify New Users","config.notificacaoNovosUsuarios.descricao":"Send notifications when new users register","usuarios.tipos.admin":"Administrator","usuarios.tipos.financeiro":"Financial","usuarios.tipos.comum":"Common","usuarios.status.ativo":"Active","usuarios.status.inativo":"Inactive","usuarios.erros.nomeObrigatorio":"Name is required","usuarios.erros.nomeMinimo":"Name must have at least 2 characters","usuarios.erros.emailObrigatorio":"Email is required","usuarios.erros.emailInvalido":"Invalid email","usuarios.erros.telefoneInvalido":"Invalid phone","usuarios.edicao.titulo":"Edit User","usuarios.edicao.descricao":"Edit user information","usuarios.edicao.cancelar":"Cancel","usuarios.edicao.salvar":"Save","usuarios.edicao.salvando":"Saving...","usuarios.edicao.erro":"Error saving","usuarios.edicao.erroDescricao":"Could not save changes","usuarios.remocao.titulo":"Remove User","usuarios.remocao.descricao":"Are you sure you want to remove this user?","usuarios.remocao.cancelar":"Cancel","usuarios.remocao.confirmar":"Remove","usuarios.remocao.removendo":"Removing...","usuarios.remocao.erro":"Error removing","usuarios.remocao.erroDescricao":"Could not remove user","usuarios.remocao.erroConfirmacao":"Confirmation required","usuarios.remocao.erroConfirmacaoDescricao":'Type "CONFIRM" to remove the user',"usuarios.remocao.aviso.titulo":"Warning!","usuarios.remocao.aviso.descricao":"This action cannot be undone.","usuarios.remocao.aviso.item1":"The user will lose access to the system","usuarios.remocao.aviso.item2":"All user data will be removed","usuarios.remocao.aviso.item3":"This action cannot be undone","usuarios.remocao.confirmacao.label":"Confirmation","usuarios.remocao.confirmacao.descricao":'Type "CONFIRM" to confirm removal',"usuarios.remocao.confirmacao.placeholder":"CONFIRM","usuarios.cadastro.form.nome":"Name","usuarios.cadastro.form.nomePlaceholder":"Enter full name","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Enter email","usuarios.cadastro.form.telefone":"Phone","usuarios.cadastro.form.telefonePlaceholder":"Enter phone","usuarios.cadastro.form.tipo":"User Type","usuarios.cadastro.form.senha":"Password","usuarios.cadastro.form.senhaPlaceholder":"Enter password","usuarios.cadastro.form.confirmarSenha":"Confirm Password","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirm password","usuarios.listagem.titulo":"Users","usuarios.listagem.descricao":"Manage system users","usuarios.filtros.titulo":"Filters","usuarios.busca":"Search","usuarios.busca.placeholder":"Search by name or email...","usuarios.filtros.tipo":"Type","usuarios.filtros.status":"Status","usuarios.filtros.todos":"All","usuarios.lista.titulo":"User List","usuarios.lista.descricao":"Users found","usuarios.adicionar":"Add User","usuarios.tabela.nome":"Name","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Type","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Last Access","usuarios.tabela.acoes":"Actions","usuarios.lista.vazia":"No users found","config.seguranca.titulo":"Security Settings","config.seguranca.descricao":"Configure security and authentication policies","config.autenticacaoDoisFatores":"Two-Factor Authentication","config.autenticacaoDoisFatores.descricao":"Requires second authentication factor for login","config.tempoSessao":"Session Time (min)","config.tempoSessao.descricao":"Time in minutes before session expires automatically","config.tentativasLogin":"Login Attempts","config.tentativasLogin.descricao":"Number of login attempts before blocking","config.bloqueioAutomatico":"Automatic Lock","config.bloqueioAutomatico.descricao":"Automatically blocks after failed attempts","config.auditoriaAtivada":"Audit Enabled","config.auditoriaAtivada.descricao":"Records all user actions in the system","config.impressao.titulo":"Print Settings","config.impressao.descricao":"Configure default options for document printing","config.formatoPadrao":"Default Format","config.formatoPadrao.descricao":"Default paper format for printing","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Letter","config.orientacao":"Orientation","config.orientacao.descricao":"Default page orientation for printing","config.orientacao.retrato":"Portrait","config.orientacao.paisagem":"Landscape","config.margens":"Margins","config.margens.descricao":"Default margin configuration for printing","config.margens.normal":"Normal","config.margens.estreita":"Narrow","config.margens.larga":"Wide","config.cabecalhoPersonalizado":"Custom Header","config.cabecalhoPersonalizado.descricao":"Include custom header in prints","config.rodapePersonalizado":"Custom Footer","config.rodapePersonalizado.descricao":"Include custom footer in prints","config.sistema.titulo":"System Settings","config.sistema.descricao":"Technical and performance system settings","config.backupAutomatico":"Automatic Backup","config.backupAutomatico.descricao":"Perform automatic data backups","config.frequenciaBackup":"Backup Frequency","config.frequenciaBackup.descricao":"How often backups should be performed","config.frequencia.diario":"Daily","config.frequencia.semanal":"Weekly","config.frequencia.mensal":"Monthly","config.notificacoesEmail":"Email Notifications","config.notificacoesEmail.descricao":"Send important notifications by email","config.cacheAtivo":"Cache Active","config.cacheAtivo.descricao":"Enable cache system to improve performance","config.logsAtivo":"Logs Active","config.logsAtivo.descricao":"Keep detailed records of system activities","msg.configuracoesSalvas":"Settings saved successfully!","msg.configuracoesRestauradas":"Settings restored to defaults!","msg.descricaoRestaurada":"All settings have been restored to default values.","msg.arquivoInvalido":"Invalid file! Please select an image.","msg.logoRemovido":"Logo removed successfully!","msg.erroUpload":"Upload error. Please try again.","common.salvar":"Save","common.cancelar":"Cancel","config.logoDescricao":"Drag an image or click to select","config.logoTipos":"PNG, JPG or GIF (max. 5MB)","config.removerLogo":"Remove Logo","config.selecionarArquivo":"click to select"},"es-ES":{"nav.dashboard":"Panel","nav.clientes":"Clientes","nav.os":"Órdenes de Servicio","nav.ov":"Órdenes de Venta","nav.estoque":"Inventario","nav.financeiro":"Financiero","nav.relatorios":"Reportes","nav.configuracoes":"Configuraciones","config.titulo":"Configuraciones","config.descricao":"Gestionar todas las configuraciones del sistema","config.salvar":"Guardar Configuraciones","config.restaurarPadroes":"Restaurar Predeterminados","config.personalizacao.titulo":"Personalización del Sistema","config.personalizacao.descricao":"Configurar apariencia e identidad visual del sistema","config.tema":"Tema","config.tema.descricao":"Elegir entre tema claro, oscuro o automático del sistema","config.tema.light":"Claro","config.tema.dark":"Oscuro","config.tema.system":"Sistema","config.corPrimaria":"Color Primario","config.corPrimaria.descricao":"Color principal usado en botones, enlaces y elementos destacados","config.corSecundaria":"Color Secundario","config.corSecundaria.descricao":"Color complementario usado en gradientes y elementos secundarios","config.nomeEmpresa":"Nombre de la Empresa","config.nomeEmpresa.descricao":"Nombre que aparecerá en el encabezado y título del sistema","config.logoEmpresa":"Logo de la Empresa","config.logoEmpresa.descricao":"Imagen que aparecerá en el encabezado del sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal de la interfaz de usuario","config.idioma.pt-BR":"Portugués (Brasil)","config.idioma.en-US":"Inglés (EE.UU.)","config.idioma.es-ES":"Español","config.idioma.zh-CN":"Chino (Simplificado)","config.idioma ja-JP":"Japonés","config.usuarios.titulo":"Configuraciones de Usuarios","config.usuarios.descricao":"Gestionar configuraciones relacionadas con usuarios del sistema","config.permitirCadastro":"Permitir Registro","config.permitirCadastro.descricao":"Permite que nuevos usuarios se registren en el sistema","config.requerAprovacao":"Requiere Aprobación","config.requerAprovacao.descricao":"Nuevos registros necesitan ser aprobados por un administrador","config.limiteUsuarios":"Límite de Usuários","config.limiteUsuarios.descricao":"Número máximo de usuarios permitidos en el sistema","config.notificacaoNovosUsuarios":"Notificar Nuevos Usuarios","config.notificacaoNovosUsuarios.descricao":"Enviar notificaciones cuando nuevos usuarios se registren","config.seguranca.titulo":"Configuraciones de Seguridad","config.seguranca.descricao":"Configurar políticas de seguridad y autenticación","config.autenticacaoDoisFatores":"Autenticación de Dos Factores","config.autenticacaoDoisFatores.descricao":"Requiere segundo factor de autenticación para inicio de sesión","config.tempoSessao":"Tiempo de Sesión (min)","config.tempoSessao.descricao":"Tiempo en minutos antes de que la sesión expire automáticamente","config.tentativasLogin":"Intentos de Inicio de Sesión","config.tentativasLogin.descricao":"Número de intentos de inicio de sesión antes del bloqueo","config.bloqueioAutomatico":"Bloqueo Automático","config.bloqueioAutomatico.descricao":"Bloquea automáticamente después de intentos fallidos","config.auditoriaAtivada":"Auditoría Activada","config.auditoriaAtivada.descricao":"Registra todas las acciones de los usuarios en el sistema","config.impressao.titulo":"Configuraciones de Impresión","config.impressao.descricao":"Configurar opciones predeterminadas para impresión de documentos","config.formatoPadrao":"Formato Predeterminado","config.formatoPadrao.descricao":"Formato de papel predeterminado para impresiones","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientación","config.orientacao.descricao":"Orientación predeterminada de la página para impresiones","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisaje","config.margens":"Márgenes","config.margens.descricao":"Configuración de los márgenes predeterminados para impresiones","config.margens.normal":"Normal","config.margens.estreita":"Estrecha","config.margens.larga":"Ancha","config.cabecalhoPersonalizado":"Encabezado Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir encabezado personalizado en las impresiones","config.rodapePersonalizado":"Pie de Página Personalizado","config.rodapePersonalizado.descricao":"Incluir pie de página personalizado en las impresiones","config.sistema.titulo":"Configuraciones del Sistema","config.sistema.descricao":"Configuraciones técnicas y de rendimiento del sistema","config.backupAutomatico":"Copia de Seguridad Automática","config.backupAutomatico.descricao":"Realizar copias de seguridad automáticas de los datos","config.frequenciaBackup":"Frecuencia de Copia de Seguridad","config.frequenciaBackup.descricao":"Con qué frecuencia deben realizarse las copias de seguridad","config.frequencia.diario":"Diario","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensual","config.notificacoesEmail":"Notificaciones por Correo","config.notificacoesEmail.descricao":"Enviar notificaciones importantes por correo electrónico","config.cacheAtivo":"Caché Activo","config.cacheAtivo.descricao":"Activar sistema de caché para mejorar el rendimiento","config.logsAtivo":"Registros Activos","config.logsAtivo.descricao":"Mantener registros detallados de las actividades del sistema","msg.configuracoesSalvas":"¡Configuraciones guardadas exitosamente!","msg.configuracoesRestauradas":"¡Configuraciones restauradas a los valores predeterminados!","msg.descricaoRestaurada":"Todas las configuraciones han sido restauradas a los valores predeterminados.","msg.arquivoInvalido":"¡Archivo inválido! Por favor selecciona una imagen.","msg.logoRemovido":"¡Logo eliminado exitosamente!","msg.erroUpload":"Error en la carga. Inténtalo de nuevo.","common.salvar":"Guardar","common.cancelar":"Cancelar","config.logoDescricao":"Arrastra una imagen o haz clic para seleccionar","config.logoTipos":"PNG, JPG o GIF (máx. 5MB)","config.removerLogo":"Eliminar Logo","config.selecionarArquivo":"haz clic para seleccionar"},"zh-CN":{"nav.dashboard":"仪表板","nav.clientes":"客户","nav.os":"服务订单","nav.ov":"销售订单","nav.estoque":"库存","nav.financeiro":"财务","nav.relatorios":"报告","nav.configuracoes":"设置","config.titulo":"设置","config.descricao":"管理系统所有设置","config.salvar":"保存设置","config.restaurarPadroes":"恢复默认值","config.personalizacao.titulo":"系统个性化","config.personalizacao.descricao":"配置系统外观和视觉标识","config.tema":"主题","config.tema.descricao":"在浅色、深色或系统自动主题之间选择","config.tema.light":"浅色","config.tema.dark":"深色","config.tema.system":"系统","config.corPrimaria":"主色","config.corPrimaria.descricao":"按钮、链接和突出元素中使用的主色","config.corSecundaria":"副色","config.corSecundaria.descricao":"渐变和次要元素中使用的互补色","config.nomeEmpresa":"公司名称","config.nomeEmpresa.descricao":"将显示在系统标题和页眉中的名称","config.logoEmpresa":"公司标志","config.logoEmpresa.descricao":"将显示在系统页眉中的图像","config.idioma":"语言","config.idioma.descricao":"用户界面的主要语言","config.idioma.pt-BR":"葡萄牙语（巴西）","config.idioma.en-US":"英语（美国）","config.idioma.es-ES":"西班牙语","config.idioma.zh-CN":"中文（简体）","config.idioma ja-JP":"日语","config.usuarios.titulo":"用户设置","config.usuarios.descricao":"管理系统用户相关设置","config.permitirCadastro":"允许注册","config.permitirCadastro.descricao":"允许新用户在系统中注册","config.requerAprovacao":"需要批准","config.requerAprovacao.descricao":"新注册需要管理员批准","config.limiteUsuarios":"用户限制","config.limiteUsuarios.descricao":"系统中允许的最大用户数","config.notificacaoNovosUsuarios":"通知新用户","config.notificacaoNovosUsuarios.descricao":"新用户注册时发送通知","config.seguranca.titulo":"安全设置","config.seguranca.descricao":"配置安全和认证策略","config.autenticacaoDoisFatores":"双因素认证","config.autenticacaoDoisFatores.descricao":"登录需要第二认证因素","config.tempoSessao":"会话时间（分钟）","config.tempoSessao.descricao":"会话自动过期前的分钟数","config.tentativasLogin":"登录尝试","config.tentativasLogin.descricao":"阻塞前的登录尝试次数","config.bloqueioAutomatico":"自动锁定","config.bloqueioAutomatico.descricao":"失败尝试后自动阻塞","config.auditoriaAtivada":"启用审计","config.auditoriaAtivada.descricao":"记录系统中所有用户操作","config.impressao.titulo":"打印设置","config.impressao.descricao":"配置文档打印的默认选项","config.formatoPadrao":"默认格式","config.formatoPadrao.descricao":"打印的默认纸张格式","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"信纸","config.orientacao":"方向","config.orientacao.descricao":"打印的默认页面方向","config.orientacao.retrato":"纵向","config.orientacao.paisagem":"横向","config.margens":"边距","config.margens.descricao":"打印的默认边距配置","config.margens.normal":"正常","config.margens.estreita":"窄","config.margens.larga":"宽","config.cabecalhoPersonalizado":"自定义页眉","config.cabecalhoPersonalizado.descricao":"在打印中包含自定义页眉","config.rodapePersonalizado":"自定义页脚","config.rodapePersonalizado.descricao":"在打印中包含自定义页脚","config.sistema.titulo":"系统设置","config.sistema.descricao":"系统技术和性能设置","config.backupAutomatico":"自动备份","config.backupAutomatico.descricao":"执行数据自动备份","config.frequenciaBackup":"备份频率","config.frequenciaBackup.descricao":"备份应执行的频率","config.frequencia.diario":"每日","config.frequencia.semanal":"每周","config.frequencia.mensal":"每月","config.notificacoesEmail":"电子邮件通知","config.notificacoesEmail.descricao":"通过电子邮件发送重要通知","config.cacheAtivo":"缓存激活","config.cacheAtivo.descricao":"启用缓存系统以提高性能","config.logsAtivo":"日志激活","config.logsAtivo.descricao":"保持系统活动的详细记录","msg.configuracoesSalvas":"设置保存成功！","msg.configuracoesRestauradas":"设置已恢复为默认值！","msg.descricaoRestaurada":"所有设置已恢复为默认值。","msg.arquivoInvalido":"无效文件！请选择图片。","msg.logoRemovido":"标志移除成功！","msg.erroUpload":"上传错误。请重试。","common.salvar":"保存","common.cancelar":"取消","config.logoDescricao":"拖拽图片或点击选择","config.logoTipos":"PNG、JPG 或 GIF（最大 5MB）","config.removerLogo":"移除标志","config.selecionarArquivo":"点击选择"},"ja-JP":{"nav.dashboard":"ダッシュボード","nav.clientes":"クライアント","nav.os":"サービス注文","nav.ov":"販売注文","nav.estoque":"在庫","nav.financeiro":"財務","nav.relatorios":"レポート","nav.configuracoes":"設定","config.titulo":"設定","config.descricao":"システムのすべての設定を管理","config.salvar":"設定を保存","config.restaurarPadroes":"デフォルトに戻す","config.personalizacao.titulo":"システムパーソナライズ","config.personalizacao.descricao":"システムの外観と視覚的アイデンティティを構成","config.tema":"テーマ","config.tema.descricao":"ライト、ダーク、またはシステム自動テーマから選択","config.tema.light":"ライト","config.tema.dark":"ダーク","config.tema.system":"システム","config.corPrimaria":"プライマリカラー","config.corPrimaria.descricao":"ボタン、リンク、強調要素で使用されるメインカラー","config.corSecundaria":"セカンダリカラー","config.corSecundaria.descricao":"グラデーションとセカンダリ要素で使用される補完カラー","config.nomeEmpresa":"会社名","config.nomeEmpresa.descricao":"システムのタイトルとヘッダーに表示される名前","config.logoEmpresa":"会社のロゴ","config.logoEmpresa.descricao":"システムのヘッダーに表示される画像","config.idioma":"言語","config.idioma.descricao":"ユーザーインターフェースの主要言語","config.idioma.pt-BR":"ポルトガル語（ブラジル）","config.idioma.en-US":"英語（米国）","config.idioma.es-ES":"スペイン語","config.idioma.zh-CN":"中国語（簡体字）","config.idioma ja-JP":"日本語","config.usuarios.titulo":"ユーザー設定","config.usuarios.descricao":"システムユーザーの関連設定を管理","config.permitirCadastro":"登録を許可","config.permitirCadastro.descricao":"新しいユーザーがシステムに登録することを許可","config.requerAprovacao":"承認が必要","config.requerAprovacao.descricao":"新しい登録は管理者による承認が必要","config.limiteUsuarios":"ユーザーリミット","config.limiteUsuarios.descricao":"システムで許可される最大ユーザー数","config.notificacaoNovosUsuarios":"新規ユーザーに通知","config.notificacaoNovosUsuarios.descricao":"新しいユーザーが登録したときに通知を送信","config.seguranca.titulo":"セキュリティ設定","config.seguranca.descricao":"セキュリティと認証ポリシーを構成","config.autenticacaoDoisFatores":"二要素認証","config.autenticacaoDoisFatores.descricao":"ログインに第二認証要素が必要","config.tempoSessao":"セッション時間（分）","config.tempoSessao.descricao":"セッションが自動的に期限切れになるまでの分数","config.tentativasLogin":"ログイン試行","config.tentativasLogin.descricao":"ブロック前のログイン試行回数","config.bloqueioAutomatico":"自動ロック","config.bloqueioAutomatico.descricao":"失敗した試行後に自動的にブロック","config.auditoriaAtivada":"監査有効","config.auditoriaAtivada.descricao":"システム内のすべてのユーザー操作を記録","config.impressao.titulo":"印刷設定","config.impressao.descricao":"ドキュメント印刷のデフォルトオプションを構成","config.formatoPadrao":"デフォルトフォーマット","config.formatoPadrao.descricao":"印刷のデフォルト用紙フォーマット","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"レター","config.orientacao":"方向","config.orientacao.descricao":"印刷のデフォルトページ方向","config.orientacao.retrato":"縦","config.orientacao.paisagem":"横","config.margens":"マージン","config.margens.descricao":"印刷のデフォルトマージン構成","config.margens.normal":"標準","config.margens.estreita":"狭い","config.margens.larga":"広い","config.cabecalhoPersonalizado":"カスタムヘッダー","config.cabecalhoPersonalizado.descricao":"印刷にカスタムヘッダーを含める","config.rodapePersonalizado":"カスタムフッター","config.rodapePersonalizado.descricao":"印刷にカスタムフッターを含める","config.sistema.titulo":"システム設定","config.sistema.descricao":"システムの技術的およびパフォーマンス設定","config.backupAutomatico":"自動バックアップ","config.backupAutomatico.descricao":"データの自動バックアップを実行","config.frequenciaBackup":"バックアップ頻度","config.frequenciaBackup.descricao":"バックアップを実行する頻度","config.frequencia.diario":"毎日","config.frequencia.semanal":"毎週","config.frequencia.mensal":"毎月","config.notificacoesEmail":"メール通知","config.notificacoesEmail.descricao":"重要な通知をメールで送信","config.cacheAtivo":"キャッシュ有効","config.cacheAtivo.descricao":"パフォーマンス向上のためのキャッシュシステムを有効化","config.logsAtivo":"ログ有効","config.logsAtivo.descricao":"システム活動の詳細な記録を保持","msg.configuracoesSalvas":"設定が正常に保存されました！","msg.configuracoesRestauradas":"設定がデフォルト値に復元されました！","msg.descricaoRestaurada":"すべての設定がデフォルト値に復元されました。","msg.arquivoInvalido":"無効なファイルです！画像を選択してください。","msg.logoRemovido":"ロゴが正常に削除されました！","msg.erroUpload":"アップロードエラー。再試行してください。","common.salvar":"保存","common.cancelar":"キャンセル","config.logoDescricao":"画像をドラッグするかクリックして選択","config.logoTipos":"PNG、JPG、または GIF（最大 5MB）","config.removerLogo":"ロゴを削除","config.selecionarArquivo":"クリックして選択"}},ye=(t,e="pt-BR")=>(yN[e]||yN["pt-BR"])[t]||t,Bte=()=>{g.useContext(vr);const{toast:t}=gr(),{usuarios:e,saveUsuario:n}=Lc(),[r,s]=g.useState({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),[o,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(""),f=g.useRef(null),p=(I,V)=>{s(S=>({...S,[I]:V}))},m=I=>{I.preventDefault(),I.stopPropagation(),I.type==="dragenter"||I.type==="dragover"?c(!0):I.type==="dragleave"&&c(!1)},x=I=>{I.preventDefault(),I.stopPropagation(),c(!1),I.dataTransfer.files&&I.dataTransfer.files[0]&&y(I.dataTransfer.files[0])},y=I=>{if(I.type.startsWith("image/")){if(I.size>1048576){t({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const V=new FileReader;V.onload=S=>{E(S.target.result,T=>{d(T),s(A=>({...A,foto:T}))})},V.readAsDataURL(I)}else t({title:"Arquivo inválido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},E=(I,V)=>{const S=document.createElement("canvas"),T=S.getContext("2d"),A=new Image;A.onload=()=>{let{width:N,height:k}=A;N>k?N>200&&(k=k*200/N,N=200):k>200&&(N=N*200/k,k=200),S.width=N,S.height=k,T.drawImage(A,0,0,N,k);const P=S.toDataURL("image/jpeg",.7);V(P)},A.src=I},_=I=>{I.target.files&&I.target.files[0]&&y(I.target.files[0])},v=()=>{d(""),s(I=>({...I,foto:""})),f.current&&(f.current.value="")},b=()=>r.nome.trim()?r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?r.senha?r.senha.length<6?(t({title:"Erro de validação",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),!1):r.senha!==r.confirmarSenha?(t({title:"Erro de validação",description:"As senhas não coincidem.",variant:"destructive"}),!1):!0:(t({title:"Erro de validação",description:"A senha é obrigatória.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"Por favor, insira um email válido.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"O email é obrigatório.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"O nome é obrigatório.",variant:"destructive"}),!1),j=async I=>{if(I.preventDefault(),!!b()){i(!0);try{if(e.some(S=>S.email===r.email)){t({title:"Erro de validação",description:"Este email já está cadastrado.",variant:"destructive"}),i(!1);return}const V={nome:r.nome,email:r.email,senha:r.senha,telefone:r.telefone,endereco:r.endereco,tipo:r.tipoUsuario,foto:r.foto,status:"ativo",dataCriacao:new Date().toISOString(),ultimoAcesso:null};await n(V),t({title:"Usuário cadastrado!",description:`${r.nome} foi cadastrado com sucesso.`,variant:"default"}),s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")}catch(V){console.error("Erro ao cadastrar usuário:",V),t({title:"Erro ao cadastrar",description:"Ocorreu um erro ao cadastrar o usuário. Tente novamente.",variant:"destructive"})}finally{i(!1)}}};return a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Br,{className:"h-5 w-5"}),"Informações Pessoais"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"nome",children:"Nome Completo *"}),a.jsx(me,{id:"nome",type:"text",value:r.nome,onChange:I=>p("nome",I.target.value),placeholder:"Digite o nome completo",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"email",children:"Email *"}),a.jsx(me,{id:"email",type:"email",value:r.email,onChange:I=>p("email",I.target.value),placeholder:"usuario@exemplo.com",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"telefone",children:"Telefone"}),a.jsx(me,{id:"telefone",type:"tel",value:r.telefone,onChange:I=>p("telefone",I.target.value),placeholder:"(11) 99999-9999"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"endereco",children:"Endereço"}),a.jsx(me,{id:"endereco",type:"text",value:r.endereco,onChange:I=>p("endereco",I.target.value),placeholder:"Rua, número, bairro, cidade"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(mA,{className:"h-5 w-5"}),"Foto do Usuário"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${l?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:x,children:u?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:u,alt:"Preview da foto",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),a.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:v,children:a.jsx(pr,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var I;return(I=f.current)==null?void 0:I.click()},className:"mt-2",children:"Trocar imagem"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dw,{className:"h-8 w-8 mx-auto text-slate-400"}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),a.jsx("p",{children:"ou"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var I;return(I=f.current)==null?void 0:I.click()},className:"mt-2",children:"Selecione uma imagem"})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF até 1MB"})]})}),a.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:_,className:"hidden"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(gx,{className:"h-5 w-5"}),"Informações de Acesso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"senha",children:"Senha *"}),a.jsx(me,{id:"senha",type:"password",value:r.senha,onChange:I=>p("senha",I.target.value),placeholder:"Mínimo 6 caracteres",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"confirmarSenha",children:"Confirmar Senha *"}),a.jsx(me,{id:"confirmarSenha",type:"password",value:r.confirmarSenha,onChange:I=>p("confirmarSenha",I.target.value),placeholder:"Digite a senha novamente",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"tipoUsuario",children:"Tipo de Usuário"}),a.jsxs(lt,{value:r.tipoUsuario,onValueChange:I=>p("tipoUsuario",I),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"comum",children:"Usuário Comum"}),a.jsx(ae,{value:"financeiro",children:"Usuário Financeiro"}),a.jsx(ae,{value:"administrador",children:"Administrador"})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")},disabled:o,children:"Limpar"}),a.jsx(Q,{type:"submit",disabled:o,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cadastrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yu,{className:"h-4 w-4 mr-2"}),"Cadastrar Usuário"]})})]})]})},$te=({usuario:t,isOpen:e,onClose:n,onSave:r})=>{const{currentLanguage:s}=g.useContext(vr),{toast:o}=gr(),{saveUsuario:i}=Lc(),[l,c]=g.useState({nome:"",email:"",telefone:"",tipo:"comum",foto:""}),[u,d]=g.useState(!1),[f,p]=g.useState({}),[m,x]=g.useState(!1),[y,E]=g.useState(""),_=g.useRef(null);g.useEffect(()=>{t&&(console.log("[EditarUsuarioModal] Inicializando com usuário:",t),c({nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}),E(t.foto||""),p({}),console.log("[EditarUsuarioModal] FormData inicializado:",{nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}))},[t]);const v=(D,L)=>{c($=>({...$,[D]:L})),f[D]&&p($=>({...$,[D]:""}))},b=D=>{D.preventDefault(),D.stopPropagation(),D.type==="dragenter"||D.type==="dragover"?x(!0):D.type==="dragleave"&&x(!1)},j=D=>{D.preventDefault(),D.stopPropagation(),x(!1),D.dataTransfer.files&&D.dataTransfer.files[0]&&I(D.dataTransfer.files[0])},I=D=>{if(D.type.startsWith("image/")){if(D.size>1048576){o({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const L=new FileReader;L.onload=$=>{V($.target.result,H=>{E(H),c(M=>({...M,foto:H}))})},L.readAsDataURL(D)}else o({title:"Arquivo inválido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},V=(D,L)=>{const $=document.createElement("canvas"),H=$.getContext("2d"),M=new Image;M.onload=()=>{let{width:K,height:X}=M;K>X?K>200&&(X=X*200/K,K=200):X>200&&(K=K*200/X,X=200),$.width=K,$.height=X,H.drawImage(M,0,0,K,X);const ce=$.toDataURL("image/jpeg",.7);L(ce)},M.src=D},S=D=>{D.target.files&&D.target.files[0]&&I(D.target.files[0])},T=()=>{E(""),c(D=>({...D,foto:""})),_.current&&(_.current.value="")},A=D=>{const L=D.replace(/\D/g,"");return L.length<=11?L.replace(/(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3"):D},R=D=>{const L=A(D.target.value);v("telefone",L)},N=()=>{const D={};return l.nome.trim()?l.nome.trim().length<2&&(D.nome=ye("usuarios.erros.nomeMinimo",s)):D.nome=ye("usuarios.erros.nomeObrigatorio",s),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(D.email=ye("usuarios.erros.emailInvalido",s)):D.email=ye("usuarios.erros.emailObrigatorio",s),l.telefone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(l.telefone)&&(D.telefone=ye("usuarios.erros.telefoneInvalido",s)),p(D),Object.keys(D).length===0},k=async D=>{if(D.preventDefault(),!!N()){d(!0);try{const L={...t,nome:l.nome.trim(),email:l.email.trim().toLowerCase(),telefone:l.telefone,tipo:l.tipo,foto:l.foto};console.log("[EditarUsuarioModal] Salvando usuário atualizado:",L),console.log("[EditarUsuarioModal] Foto atual:",l.foto),await i(L,t.id),o({title:ye("usuarios.edicao.sucesso",s),description:ye("usuarios.edicao.sucessoDescricao",s),variant:"default"}),r(L),n()}catch{o({title:ye("usuarios.edicao.erro",s),description:ye("usuarios.edicao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{d(!1)}}},P=()=>{u||n()};return t?a.jsx(Mn,{open:e,onOpenChange:P,children:a.jsxs(xn,{className:"sm:max-w-md",children:[a.jsxs(yn,{children:[a.jsxs(wn,{className:"flex items-center gap-2",children:[a.jsx(gs,{className:"h-5 w-5"}),ye("usuarios.edicao.titulo",s)]}),a.jsx(Lm,{children:ye("usuarios.edicao.descricao",s)})]}),a.jsxs("form",{onSubmit:k,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"edit-nome",className:"flex items-center gap-2",children:[a.jsx(Br,{className:"h-4 w-4"}),ye("usuarios.cadastro.form.nome",s)]}),a.jsx(me,{id:"edit-nome",type:"text",value:l.nome,onChange:D=>v("nome",D.target.value),placeholder:ye("usuarios.cadastro.form.nomePlaceholder",s),className:f.nome?"border-red-500":""}),f.nome&&a.jsx("p",{className:"text-sm text-red-500",children:f.nome})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"edit-email",className:"flex items-center gap-2",children:[a.jsx(Sa,{className:"h-4 w-4"}),ye("usuarios.cadastro.form.email",s)]}),a.jsx(me,{id:"edit-email",type:"email",value:l.email,onChange:D=>v("email",D.target.value),placeholder:ye("usuarios.cadastro.form.emailPlaceholder",s),className:f.email?"border-red-500":""}),f.email&&a.jsx("p",{className:"text-sm text-red-500",children:f.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"edit-telefone",className:"flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),ye("usuarios.cadastro.form.telefone",s)]}),a.jsx(me,{id:"edit-telefone",type:"tel",value:l.telefone,onChange:R,placeholder:ye("usuarios.cadastro.form.telefonePlaceholder",s),className:f.telefone?"border-red-500":""}),f.telefone&&a.jsx("p",{className:"text-sm text-red-500",children:f.telefone})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"edit-tipo",className:"flex items-center gap-2",children:[a.jsx(oc,{className:"h-4 w-4"}),ye("usuarios.cadastro.form.tipo",s)]}),a.jsxs(lt,{value:l.tipo,onValueChange:D=>v("tipo",D),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"comum",children:ye("usuarios.tipos.comum",s)}),a.jsx(ae,{value:"financeiro",children:ye("usuarios.tipos.financeiro",s)}),a.jsx(ae,{value:"admin",children:ye("usuarios.tipos.admin",s)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{className:"flex items-center gap-2",children:[a.jsx(mA,{className:"h-4 w-4"}),"Foto do Usuário"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${m?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:b,onDragLeave:b,onDragOver:b,onDrop:j,children:y?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:y,alt:"Preview da foto",className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),a.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0",onClick:T,children:a.jsx(pr,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var D;return(D=_.current)==null?void 0:D.click()},className:"mt-1",children:"Trocar imagem"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dw,{className:"h-6 w-6 mx-auto text-slate-400"}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),a.jsx("p",{children:"ou"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var D;return(D=_.current)==null?void 0:D.click()},className:"mt-1",children:"Selecione uma imagem"})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF até 1MB"})]})}),a.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsxs(Q,{type:"button",variant:"outline",onClick:P,disabled:u,children:[a.jsx(pr,{className:"h-4 w-4 mr-2"}),ye("usuarios.edicao.cancelar",s)]}),a.jsx(Q,{type:"submit",disabled:u,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),ye("usuarios.edicao.salvando",s)]}):a.jsxs(a.Fragment,{children:[a.jsx(vA,{className:"h-4 w-4 mr-2"}),ye("usuarios.edicao.salvar",s)]})})]})]})]})}):null},qte=({usuario:t,isOpen:e,onClose:n,onConfirm:r})=>{const{currentLanguage:s}=g.useContext(vr),{toast:o}=gr(),[i,l]=g.useState(!1),[c,u]=g.useState(""),d=async()=>{if(c!=="CONFIRMAR"){o({title:ye("usuarios.remocao.erroConfirmacao",s),description:ye("usuarios.remocao.erroConfirmacaoDescricao",s),variant:"destructive",duration:4e3});return}l(!0);try{await new Promise(m=>setTimeout(m,1500)),r(t.id)}catch{o({title:ye("usuarios.remocao.erro",s),description:ye("usuarios.remocao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{l(!1)}},f=()=>{i||(u(""),n())},p=m=>{u(m.target.value)};return t?a.jsx(Mn,{open:e,onOpenChange:f,children:a.jsxs(xn,{className:"sm:max-w-md",children:[a.jsxs(yn,{children:[a.jsxs(wn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(ps,{className:"h-5 w-5"}),ye("usuarios.remocao.titulo",s)]}),a.jsx(Lm,{children:ye("usuarios.remocao.descricao",s)})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-lg",children:t.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:t.nome}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-2 py-1 rounded",children:t.tipo==="admin"?ye("usuarios.tipos.admin",s):t.tipo==="financeiro"?ye("usuarios.tipos.financeiro",s):ye("usuarios.tipos.comum",s)}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.status==="ativo"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300"}`,children:t.status==="ativo"?ye("usuarios.status.ativo",s):ye("usuarios.status.inativo",s)})]})]})]})}),a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ps,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:ye("usuarios.remocao.aviso.titulo",s)}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:ye("usuarios.remocao.aviso.descricao",s)}),a.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-2 list-disc list-inside space-y-1",children:[a.jsx("li",{children:ye("usuarios.remocao.aviso.item1",s)}),a.jsx("li",{children:ye("usuarios.remocao.aviso.item2",s)}),a.jsx("li",{children:ye("usuarios.remocao.aviso.item3",s)})]})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.remocao.confirmacao.label",s)}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ye("usuarios.remocao.confirmacao.descricao",s)}),a.jsx("input",{type:"text",value:c,onChange:p,placeholder:ye("usuarios.remocao.confirmacao.placeholder",s),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:i})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsxs(Q,{type:"button",variant:"outline",onClick:f,disabled:i,children:[a.jsx(pr,{className:"h-4 w-4 mr-2"}),ye("usuarios.remocao.cancelar",s)]}),a.jsx(Q,{onClick:d,disabled:i||c!=="CONFIRMAR",className:"bg-red-600 hover:bg-red-700 text-white",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),ye("usuarios.remocao.removendo",s)]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),ye("usuarios.remocao.confirmar",s)]})})]})]})]})}):null},Wte=({usuariosExternos:t,onAddUsuario:e})=>{const{currentLanguage:n}=g.useContext(vr),{toast:r}=gr(),{data:s,loading:o}=Lc(),[i,l]=g.useState([]),[c,u]=g.useState(""),[d,f]=g.useState("todos"),[p,m]=g.useState("todos"),[x,y]=g.useState(!1),[E,_]=g.useState(!1),[v,b]=g.useState(null);g.useEffect(()=>{s&&s.length>0&&l(s)},[s]);const j=i.filter(k=>{const P=k.nome.toLowerCase().includes(c.toLowerCase()),D=d==="todos"||k.tipo===d,L=p==="todos"||k.status===p;return P&&D&&L});g.useEffect(()=>{l(t)},[t]),g.useEffect(()=>{const k=()=>{const D=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[UsuariosListagem] Usuários carregados do localStorage:",D);const L=D.map($=>({...$,status:$.status||"ativo",ultimoAcesso:$.ultimoAcesso||new Date().toISOString(),tipo:$.tipo||$.tipoUsuario||"comum"}));l(L)};k();const P=()=>{k()};return window.addEventListener("storage",P),()=>{window.removeEventListener("storage",P)}},[]);const I=k=>{b(k),y(!0)},V=k=>{b(k),_(!0)},S=(k,P)=>{l(D=>D.map(L=>L.id===k?{...L,status:P}:L)),r({title:"Status alterado!",description:`Status do usuário alterado para ${P==="ativo"?"ativo":"inativo"}`,variant:"default",duration:3e3})},T=k=>{l(P=>P.filter(D=>D.id!==k)),_(!1),b(null),r({title:"Usuário removido!",description:"Usuário removido com sucesso do sistema",variant:"default",duration:3e3})},A=k=>{l(P=>P.map(D=>D.id===k.id?k:D)),y(!1),b(null),r({title:"Usuário atualizado!",description:"Dados do usuário atualizados com sucesso",variant:"default",duration:3e3})},R=k=>{const P={admin:{label:"Administrador",variant:"default"},financeiro:{label:"Financeiro",variant:"secondary"},comum:{label:"Comum",variant:"outline"}},D=P[k]||P.comum;return a.jsx(cs,{variant:D.variant,children:D.label})},N=k=>a.jsx(cs,{variant:k==="ativo"?"default":"destructive",children:k==="ativo"?"Ativo":"Inativo"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:ye("usuarios.listagem.titulo",n)}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:ye("usuarios.listagem.descricao",n)})]}),a.jsxs(en,{children:[a.jsx(un,{children:a.jsxs(dn,{className:"flex items-center gap-2",children:[a.jsx(Rw,{className:"h-5 w-5"}),ye("usuarios.filtros.titulo",n)]})}),a.jsx(tn,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:ye("usuarios.busca",n)}),a.jsxs("div",{className:"relative",children:[a.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),a.jsx(me,{placeholder:ye("usuarios.busca.placeholder",n),value:c,onChange:k=>u(k.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:ye("usuarios.filtros.tipo",n)}),a.jsxs(lt,{value:d,onValueChange:f,children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"todos",children:ye("usuarios.filtros.todos",n)}),a.jsx(ae,{value:"admin",children:ye("usuarios.tipos.admin",n)}),a.jsx(ae,{value:"financeiro",children:ye("usuarios.tipos.financeiro",n)}),a.jsx(ae,{value:"comum",children:ye("usuarios.tipos.comum",n)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:ye("usuarios.filtros.status",n)}),a.jsxs(lt,{value:p,onValueChange:m,children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"todos",children:ye("usuarios.filtros.todos",n)}),a.jsx(ae,{value:"ativo",children:ye("usuarios.status.ativo",n)}),a.jsx(ae,{value:"inativo",children:ye("usuarios.status.inativo",n)})]})]})]})]})})]}),a.jsxs(en,{children:[a.jsx(un,{children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx(dn,{children:ye("usuarios.lista.titulo",n)}),a.jsx(va,{children:o?"Carregando usuários...":`${ye("usuarios.lista.descricao",n)} (${j.length} ${j.length===1?"usuário":"usuários"})`})]})})}),a.jsx(tn,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.nome",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.email",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.tipo",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.status",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.ultimoAcesso",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.acoes",n)})]})}),a.jsx("tbody",{children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Carregando usuários..."})}):j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhum usuário encontrado"})}):j.map(k=>a.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[k.foto?a.jsx("img",{src:k.foto,alt:k.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold",children:k.nome.charAt(0).toUpperCase()}),a.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:k.nome})]})}),a.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:k.email}),a.jsx("td",{className:"p-4",children:R(k.tipo)}),a.jsx("td",{className:"p-4",children:N(k.status)}),a.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:new Date(k.ultimoAcesso).toLocaleDateString("pt-BR")}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>I(k),className:"hover:bg-blue-50 hover:border-blue-200",children:a.jsx(gs,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>S(k.id,k.status==="ativo"?"inativo":"ativo"),className:k.status==="ativo"?"hover:bg-red-50 hover:border-red-200":"hover:bg-green-50 hover:border-green-200",children:k.status==="ativo"?a.jsx(r9,{className:"h-4 w-4"}):a.jsx(n9,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>V(k),className:"hover:bg-red-50 hover:border-red-200",children:a.jsx(qr,{className:"h-4 w-4"})})]})})]},k.id))})]})})})]}),x&&v&&a.jsx($te,{usuario:v,isOpen:x,onClose:()=>y(!1),onSave:A}),E&&v&&a.jsx(qte,{usuario:v,isOpen:E,onClose:()=>_(!1),onConfirm:T})]})},Hte=({usuarioLogado:t})=>{g.useContext(vr);const{toast:e}=gr(),{config:n,loading:r,saveConfig:s}=c1(),{config:o,saveConfig:i}=l1();Lc();const[l,c]=g.useState("usuarios"),[u,d]=g.useState({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0}),[f,p]=g.useState({nomeEmpresa:"",descricao:"",endereco:"",telefone:"",whatsapp:"",cnpj:"",email:"",site:"",logo:""}),[m,x]=g.useState(!1),[y,E]=g.useState("");g.useEffect(()=>{n&&d(S=>({...S,...n}))},[n]),g.useEffect(()=>{o&&p({nomeEmpresa:o.nomeEmpresa||"",descricao:o.descricao||"",endereco:o.endereco||"",telefone:o.telefone||"",whatsapp:o.whatsapp||"",cnpj:o.cnpj||"",email:o.email||"",site:o.site||"",logo:o.logo||""})},[o]),g.useEffect(()=>{n&&E(n.logo||"")},[n]);const _=(S,T)=>{d(A=>({...A,[S]:T}))},v=(S,T)=>{p(A=>({...A,[S]:T}))},b=S=>{const T=S.target.files[0];if(T){const A=new FileReader;A.onload=R=>{const N=R.target.result;E(N),d(k=>({...k,logo:N}))},A.readAsDataURL(T)}},j=()=>{E(""),d(S=>({...S,logo:""}))},I=async()=>{if(!f.nomeEmpresa||!f.endereco||!f.telefone){e({title:"Erro",description:"Na aba 'Loja': Nome da empresa, endereço e telefone são obrigatórios!",variant:"destructive"});return}x(!0);try{await s(u),await i(f),e({title:"Sucesso!",description:"Todas as configurações foram salvas com sucesso!"})}catch(S){console.error("Erro ao salvar configurações:",S),e({title:"Erro",description:"Erro ao salvar configurações. Tente novamente.",variant:"destructive"})}finally{x(!1)}},V=()=>{d({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0})};return r?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),a.jsx("p",{className:"ml-4 text-lg text-slate-600 dark:text-slate-400",children:"Carregando configurações..."})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsx(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:a.jsx(wi,{className:"h-10 w-10"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Configurações do Sistema"}),a.jsx("p",{className:"text-purple-100 text-lg",children:"Gerencie todas as configurações e preferências"})]})]})}),a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsxs(za,{defaultValue:"loja",className:"w-full",children:[a.jsxs(Ii,{className:"grid w-full grid-cols-6 bg-slate-100 dark:bg-slate-700/50 rounded-none border-b border-slate-200 dark:border-slate-600",children:[a.jsxs(rn,{value:"loja",className:"flex items-center gap-2",children:[a.jsx(gv,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Loja"})]}),a.jsxs(rn,{value:"personalizacao",className:"flex items-center gap-2",children:[a.jsx(vv,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Personalização"})]}),a.jsxs(rn,{value:"usuarios",className:"flex items-center gap-2",children:[a.jsx(vs,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Usuários"})]}),a.jsxs(rn,{value:"seguranca",className:"flex items-center gap-2",children:[a.jsx(oc,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Segurança"})]}),a.jsxs(rn,{value:"impressao",className:"flex items-center gap-2",children:[a.jsx(wp,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Impressão"})]}),a.jsxs(rn,{value:"sistema",className:"flex items-center gap-2",children:[a.jsx(vp,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sistema"})]})]}),a.jsxs(sn,{value:"loja",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(gv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações da Loja"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure os dados da sua empresa que aparecerão nos documentos impressos (ordens de serviço, orçamentos, etc.)"})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(gv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações Básicas"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"loja-nomeEmpresa",children:"Nome da Empresa *"}),a.jsx(me,{id:"loja-nomeEmpresa",value:f.nomeEmpresa,onChange:S=>v("nomeEmpresa",S.target.value),placeholder:"Ex: MultiSmart",className:"h-12",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecerá nos documentos impressos (ordens de serviço, orçamentos)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"loja-descricao",children:"Descrição dos Serviços"}),a.jsx(me,{id:"loja-descricao",value:f.descricao,onChange:S=>v("descricao",S.target.value),placeholder:"Ex: Manutenção e Comércio de Celulares e Tablets",className:"h-12"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Descrição que aparecerá abaixo do nome da empresa nos documentos"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Ea,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações de Contato"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"loja-telefone",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),"Telefone *"]}),a.jsx(me,{id:"loja-telefone",value:f.telefone,onChange:S=>v("telefone",S.target.value),placeholder:"(17) 3345-1016",className:"h-12",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Telefone que aparecerá nos documentos impressos"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"loja-whatsapp",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Yz,{className:"h-4 w-4"}),"WhatsApp"]}),a.jsx(me,{id:"loja-whatsapp",value:f.whatsapp,onChange:S=>v("whatsapp",S.target.value),placeholder:"(17) 99157-1263",className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"loja-email",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Sa,{className:"h-4 w-4"}),"E-mail"]}),a.jsx(me,{id:"loja-email",type:"email",value:f.email,onChange:S=>v("email",S.target.value),placeholder:"contato@multismart.com",className:"h-12"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"loja-site",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(pA,{className:"h-4 w-4"}),"Site/URL"]}),a.jsx(me,{id:"loja-site",value:f.site,onChange:S=>v("site",S.target.value),placeholder:"https://www.multismart.com",className:"h-12"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(yp,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Endereço"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"loja-endereco",children:"Endereço Completo *"}),a.jsx(md,{id:"loja-endereco",value:f.endereco,onChange:S=>v("endereco",S.target.value),placeholder:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",rows:3,className:"resize-none",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Endereço completo que aparecerá nos documentos impressos"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(ms,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Documentos"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"loja-cnpj",children:"CNPJ"}),a.jsx(me,{id:"loja-cnpj",value:f.cnpj,onChange:S=>v("cnpj",S.target.value),placeholder:"47.309.271/0001-97",className:"h-12"})]})]})]})]}),a.jsxs(sn,{value:"personalizacao",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(vv,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Personalização do Sistema"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure a aparência visual do sistema (cores, tema, idioma) e o nome que aparece no cabeçalho da interface"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(_a,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Logo do Sistema"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(re,{className:"text-sm font-medium",children:"Upload do Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(me,{type:"file",accept:"image/*",onChange:b,className:"flex-1"}),a.jsxs(Q,{type:"button",variant:"outline",onClick:()=>document.querySelector('input[type="file"]').click(),children:[a.jsx(Dw,{className:"h-4 w-4 mr-2"}),"Escolher"]})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Logo que aparecerá no cabeçalho do sistema. Formatos aceitos: JPG, PNG, GIF. Tamanho recomendado: 200x200px"})]}),y&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y,alt:"Preview do logo",className:"w-24 h-24 object-contain border-2 border-slate-200 dark:border-slate-700 rounded-lg"}),a.jsx(Q,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:j,children:a.jsx(pr,{className:"h-3 w-3"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs(en,{children:[a.jsxs(un,{children:[a.jsxs(dn,{className:"flex items-center gap-2",children:[a.jsx(vv,{className:"h-5 w-5"}),"Aparência"]}),a.jsx(va,{children:"Configure cores e tema do sistema"})]}),a.jsxs(tn,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Tema"}),a.jsxs(lt,{value:u.tema,onValueChange:S=>_("tema",S),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"light",children:"Claro"}),a.jsx(ae,{value:"dark",children:"Escuro"}),a.jsx(ae,{value:"system",children:"Sistema"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Cor Primária"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(me,{type:"color",value:u.corPrimaria,onChange:S=>_("corPrimaria",S.target.value),className:"w-16 h-10 p-1 border rounded"}),a.jsx(me,{value:u.corPrimaria,onChange:S=>_("corPrimaria",S.target.value),className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Cor Secundária"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(me,{type:"color",value:u.corSecundaria,onChange:S=>_("corSecundaria",S.target.value),className:"w-16 h-10 p-1 border rounded"}),a.jsx(me,{value:u.corSecundaria,onChange:S=>_("corSecundaria",S.target.value),className:"flex-1"})]})]})]})]})]}),a.jsxs(en,{children:[a.jsxs(un,{children:[a.jsxs(dn,{className:"flex items-center gap-2",children:[a.jsx(wi,{className:"h-5 w-5"}),"Sistema"]}),a.jsx(va,{children:"Configurações gerais do sistema"})]}),a.jsxs(tn,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"nomeEmpresa",children:"Nome da Empresa"}),a.jsx(me,{id:"nomeEmpresa",value:u.nomeEmpresa,onChange:S=>_("nomeEmpresa",S.target.value),placeholder:"Nome da empresa"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecerá no cabeçalho da interface do sistema"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Idioma"}),a.jsxs(lt,{value:u.idioma,onValueChange:S=>_("idioma",S),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"pt-BR",children:"Português (Brasil)"}),a.jsx(ae,{value:"en-US",children:"English (US)"}),a.jsx(ae,{value:"es-ES",children:"Español"})]})]})]})]})]})]})]}),a.jsxs(sn,{value:"usuarios",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(vs,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Gerenciamento de Usuários"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure como novos usuários podem se cadastrar no sistema e gerencie usuários existentes"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(en,{children:[a.jsxs(un,{children:[a.jsx(dn,{children:"Configurações de Usuários"}),a.jsx(va,{children:"Configure como os usuários interagem com o sistema"})]}),a.jsxs(tn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(re,{children:"Permitir Cadastro"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Permite que novos usuários se cadastrem"})]}),a.jsx(lo,{checked:u.permitirCadastro,onCheckedChange:S=>_("permitirCadastro",S)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(re,{children:"Requer Aprovação"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Novos cadastros precisam de aprovação"})]}),a.jsx(lo,{checked:u.requerAprovacao,onCheckedChange:S=>_("requerAprovacao",S)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Limite de Usuários"}),a.jsx(me,{type:"number",value:u.limiteUsuarios,onChange:S=>_("limiteUsuarios",parseInt(S.target.value)),min:"1",max:"100"})]})]})]}),a.jsxs(en,{children:[a.jsxs(un,{children:[a.jsx(dn,{children:"Usuários do Sistema"}),a.jsx(va,{children:"Gerencie usuários existentes"})]}),a.jsx(tn,{children:a.jsxs(za,{value:l,onValueChange:c,children:[a.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[a.jsx(rn,{value:"usuarios",children:"Usuários"}),a.jsx(rn,{value:"cadastro",children:"Novo Usuário"})]}),a.jsx(sn,{value:"usuarios",className:"mt-4",children:a.jsx(Wte,{usuarioLogado:t})}),a.jsx(sn,{value:"cadastro",className:"mt-4",children:a.jsx(Bte,{})})]})})]})]})]}),a.jsxs(sn,{value:"seguranca",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(oc,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações de Segurança"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure autenticação de dois fatores, tempo de sessão, tentativas de login e monitoramento de atividades"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(en,{children:[a.jsx(un,{children:a.jsx(dn,{children:"Autenticação"})}),a.jsxs(tn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(re,{children:"2FA (Dois Fatores)"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Autenticação de dois fatores"})]}),a.jsx(lo,{checked:u.autenticacaoDoisFatores,onCheckedChange:S=>_("autenticacaoDoisFatores",S)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Tempo de Sessão (minutos)"}),a.jsx(me,{type:"number",value:u.tempoSessao,onChange:S=>_("tempoSessao",parseInt(S.target.value)),min:"5",max:"480"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Tentativas de Login"}),a.jsx(me,{type:"number",value:u.tentativasLogin,onChange:S=>_("tentativasLogin",parseInt(S.target.value)),min:"1",max:"10"})]})]})]}),a.jsxs(en,{children:[a.jsx(un,{children:a.jsx(dn,{children:"Monitoramento"})}),a.jsxs(tn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(re,{children:"Bloqueio Automático"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bloqueia após tentativas falhadas"})]}),a.jsx(lo,{checked:u.bloqueioAutomatico,onCheckedChange:S=>_("bloqueioAutomatico",S)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(re,{children:"Auditoria Ativada"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra ações dos usuários"})]}),a.jsx(lo,{checked:u.auditoriaAtivada,onCheckedChange:S=>_("auditoriaAtivada",S)})]})]})]})]})]}),a.jsxs(sn,{value:"impressao",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(wp,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações de Impressão"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure o formato, orientação, margens e fonte dos documentos que serão impressos (ordens de serviço, orçamentos, etc.)"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(en,{children:[a.jsx(un,{children:a.jsx(dn,{children:"Formato do Documento"})}),a.jsxs(tn,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Formato Padrão"}),a.jsxs(lt,{value:u.formatoPadrao,onValueChange:S=>_("formatoPadrao",S),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"A4",children:"A4"}),a.jsx(ae,{value:"A3",children:"A3"}),a.jsx(ae,{value:"Letter",children:"Letter"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Orientação"}),a.jsxs(lt,{value:u.orientacaoPadrao,onValueChange:S=>_("orientacaoPadrao",S),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"retrato",children:"Retrato"}),a.jsx(ae,{value:"paisagem",children:"Paisagem"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Margem (cm)"}),a.jsx(me,{type:"number",value:u.margemPadrao,onChange:S=>_("margemPadrao",parseFloat(S.target.value)),min:"0.5",max:"5",step:"0.1"})]})]})]}),a.jsxs(en,{children:[a.jsx(un,{children:a.jsx(dn,{children:"Fonte e Estilo"})}),a.jsxs(tn,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Fonte Padrão"}),a.jsxs(lt,{value:u.fontePadrao,onValueChange:S=>_("fontePadrao",S),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"Arial",children:"Arial"}),a.jsx(ae,{value:"Times New Roman",children:"Times New Roman"}),a.jsx(ae,{value:"Calibri",children:"Calibri"}),a.jsx(ae,{value:"Helvetica",children:"Helvetica"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Tamanho da Fonte"}),a.jsx(me,{type:"number",value:u.tamanhoFonte,onChange:S=>_("tamanhoFonte",parseInt(S.target.value)),min:"8",max:"24"})]})]})]})]})]}),a.jsxs(sn,{value:"sistema",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(vp,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações do Sistema"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure backup automático, frequência de backup, retenção de dados e monitoramento do sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(en,{children:[a.jsx(un,{children:a.jsx(dn,{children:"Backup e Recuperação"})}),a.jsxs(tn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(re,{children:"Backup Automático"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Backup automático dos dados"})]}),a.jsx(lo,{checked:u.backupAutomatico,onCheckedChange:S=>_("backupAutomatico",S)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Frequência do Backup"}),a.jsxs(lt,{value:u.frequenciaBackup,onValueChange:S=>_("frequenciaBackup",S),children:[a.jsx(it,{children:a.jsx(ct,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"hora",children:"A cada hora"}),a.jsx(ae,{value:"diario",children:"Diário"}),a.jsx(ae,{value:"semanal",children:"Semanal"}),a.jsx(ae,{value:"mensal",children:"Mensal"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Retenção (dias)"}),a.jsx(me,{type:"number",value:u.retencaoBackup,onChange:S=>_("retencaoBackup",parseInt(S.target.value)),min:"1",max:"365"})]})]})]}),a.jsxs(en,{children:[a.jsx(un,{children:a.jsx(dn,{children:"Monitoramento"})}),a.jsxs(tn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(re,{children:"Logs Ativados"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra atividades do sistema"})]}),a.jsx(lo,{checked:u.logsAtivados,onCheckedChange:S=>_("logsAtivados",S)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(re,{children:"Monitoramento Ativo"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monitora performance do sistema"})]}),a.jsx(lo,{checked:u.monitoramentoAtivo,onCheckedChange:S=>_("monitoramentoAtivo",S)})]})]})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50",children:[a.jsx(Q,{onClick:I,disabled:m,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 h-12 text-lg",children:m?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vA,{className:"h-5 w-5 mr-2"}),"Salvar Todas as Configurações"]})}),a.jsxs(Q,{onClick:V,variant:"outline",className:"h-12 px-8",children:[a.jsx(gA,{className:"h-5 w-5 mr-2"}),"Restaurar Padrões"]})]})]})]})},wN=()=>{const{openDialog:t,setActiveModule:e,definirProdutoParaReporEstoque:n,darkMode:r}=g.useContext(vr),{data:s,loading:o}=Mc(),{data:i,loading:l}=cg(),{data:c,loading:u}=eh(),{data:d,loading:f}=th(),{data:p,loading:m}=nh(),{data:x,loading:y}=ug(),[E,_]=g.useState({clientes:0,os:0,ov:0,produtos:0,contasReceber:0,contasPagar:0,estoqueCritico:0,osPendentes:0,osConcluidas:0,faturamentoMes:0}),[v,b]=g.useState(!1);g.useEffect(()=>{var N,k;if(console.log("[Dashboard] ===== ATUALIZANDO ESTATÍSTICAS ====="),console.log("[Dashboard] Dados recebidos:",{clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,financeiro:(x==null?void 0:x.length)||0}),!o&&!l&&!u&&!f&&!y){const P=((N=x==null?void 0:x.filter(z=>z.tipo==="receber"&&z.status==="Pendente"))==null?void 0:N.reduce((z,K)=>z+(K.valor||0),0))||0,D=((k=x==null?void 0:x.filter(z=>z.tipo==="pagar"&&z.status==="Pendente"))==null?void 0:k.reduce((z,K)=>z+(K.valor||0),0))||0,L=(d==null?void 0:d.filter(z=>z.quantidade<=(z.estoqueMinimo||5)).length)||0,$=(i==null?void 0:i.filter(z=>z.status==="Pendente").length)||0,H=(i==null?void 0:i.filter(z=>z.status==="Concluída").length)||0,M=(i==null?void 0:i.filter(z=>{const K=new Date(z.createdAt),X=new Date().getMonth(),ce=new Date().getFullYear();return z.status==="Concluída"&&K.getMonth()===X&&K.getFullYear()===ce}).reduce((z,K)=>z+(K.valor||0),0))||0;_({clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:P,contasPagar:D,estoqueCritico:L,osPendentes:$,osConcluidas:H,faturamentoMes:M}),console.log("[Dashboard] Estatísticas calculadas:",{clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:P,contasPagar:D,estoqueCritico:L,osPendentes:$,osConcluidas:H,faturamentoMes:M})}},[s,i,c,d,p,x,o,l,u,f,m,y]);const j=[{title:"Clientes",value:E.clientes,icon:vs,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",change:"+12%",changeType:"positive"},{title:"Ordens de Serviço",value:E.os,icon:ms,color:"from-green-500 to-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",change:"+8%",changeType:"positive"},{title:"Ordens de Venda",value:E.ov,icon:ls,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",change:"+15%",changeType:"positive"},{title:"Produtos",value:E.produtos,icon:Kn,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",change:"+5%",changeType:"positive"}],I=[{title:"Contas a Receber",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E.contasReceber),icon:ar,color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",change:"+R$ 2.500",changeType:"positive"},{title:"Contas a Pagar",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E.contasPagar),icon:Ra,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",change:"-R$ 1.200",changeType:"negative"},{title:"Faturamento do Mês",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E.faturamentoMes),icon:bn,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",change:"+R$ 5.800",changeType:"positive"}],V=[{title:"OS Pendentes",value:E.osPendentes,icon:ir,color:"from-amber-500 to-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",isAlert:E.osPendentes>5,alertMessage:"Muitas OS pendentes!"},{title:"Estoque Crítico",value:E.estoqueCritico,icon:ps,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",isAlert:E.estoqueCritico>0,alertMessage:"Produtos com estoque baixo!"}],S=[{title:"Nova OS",description:"Criar nova ordem de serviço",icon:ms,color:"from-blue-500 to-blue-600",action:()=>T("os","os"),badge:"Popular"},{title:"Novo Cliente",description:"Cadastrar novo cliente",icon:vs,color:"from-green-500 to-green-600",action:()=>T("clientes","clientes")},{title:"Nova Venda",description:"Criar nova ordem de venda",icon:ls,color:"from-purple-500 to-purple-600",action:()=>T("ov","ov")},{title:"Adicionar Produto",description:"Cadastrar novo produto",icon:Kn,color:"from-orange-500 to-orange-600",action:()=>T("estoque","produto")},{title:"Movimentação",description:"Entrada/Saída de estoque",icon:mx,color:"from-teal-500 to-teal-600",action:()=>T("estoque","movimentacao")},{title:"Relatórios",description:"Ver relatórios e análises",icon:sr,color:"from-indigo-500 to-indigo-600",action:()=>T("relatorios")}],T=(N,k)=>{e(N),k&&setTimeout(()=>t(k),50),console.log("[Dashboard] Ação rápida:",N,k)},A=N=>{n(N),e("estoque"),setTimeout(()=>{t("movimentacao")},50),b(!1)},R=o||l||u||f||m||y;return a.jsxs("div",{className:"space-y-8",children:[a.jsx(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[a.jsx(sr,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Dashboard"]}),a.jsx("p",{className:"text-blue-100 text-base lg:text-lg",children:R?"Carregando dados...":"Visão geral do seu sistema CRM"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Hoje"}),a.jsx("p",{className:"text-xl font-bold",children:new Date().toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Status"}),a.jsx("p",{className:"text-xl font-bold text-green-200",children:"Online"})]})]})]})}),a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg",children:a.jsx(bp,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Acesse rapidamente as funcionalidades mais utilizadas"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map((N,k)=>{const P=N.icon;return a.jsxs(Ee.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1+k*.1},onClick:N.action,className:"group relative bg-white dark:bg-slate-700 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-left",children:[N.badge&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:N.badge}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${N.color} group-hover:scale-110 transition-transform duration-300`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:N.title}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:N.description})]}),a.jsx(mv,{className:"h-5 w-5 text-slate-400 group-hover:text-blue-500 transition-colors"})]})]},N.title)})})})]}),a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(xu,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Estatísticas Principais"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:j.map((N,k)=>{const P=N.icon;return a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2+k*.1},className:`${N.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${N.color}`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[N.changeType==="positive"?a.jsx(mv,{className:"h-4 w-4 text-green-500"}):a.jsx(CE,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:`font-medium ${N.changeType==="positive"?"text-green-600":"text-red-600"}`,children:N.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:N.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:N.title})]})]},N.title)})})]}),a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(bn,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Financeiro"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:I.map((N,k)=>{const P=N.icon;return a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+k*.1},className:`${N.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${N.color}`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[N.changeType==="positive"?a.jsx(mv,{className:"h-4 w-4 text-green-500"}):a.jsx(CE,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:`font-medium ${N.changeType==="positive"?"text-green-600":"text-red-600"}`,children:N.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:N.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:N.title})]})]},N.title)})})]}),a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ps,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Alertas e Status"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:V.map((N,k)=>{const P=N.icon;return a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+k*.1},className:`${N.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${N.isAlert?"ring-2 ring-amber-400 ring-opacity-50":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${N.color}`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),N.isAlert&&a.jsx("div",{className:"flex items-center gap-1 text-sm",children:a.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-full text-xs font-medium",children:"Atenção"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:N.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:N.title}),N.isAlert&&N.value>0&&a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:N.alertMessage})]})]},N.title)})})]}),a.jsx(Mn,{open:v,onOpenChange:b,children:a.jsxs(xn,{className:"sm:max-w-md",children:[a.jsx(yn,{children:a.jsxs(wn,{className:"flex items-center gap-2",children:[a.jsx(ps,{className:"h-5 w-5 text-amber-500"}),"Estoque Crítico"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Os seguintes produtos estão com estoque baixo:"}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d==null?void 0:d.filter(N=>N.quantidade<=(N.estoqueMinimo||5)).map(N=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:N.nome}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Estoque: ",N.quantidade," | Mínimo: ",N.estoqueMinimo||5]})]}),a.jsx(Q,{size:"sm",onClick:()=>A(N),className:"bg-blue-600 hover:bg-blue-700",children:"Repor"})]},N.id))})]})]})})]})},Gte=({onLogin:t})=>{const{toast:e}=gr(),{usuarios:n,saveUsuario:r,loading:s,error:o}=Lc();console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o});const[i,l]=g.useState({email:"",senha:""}),[c,u]=g.useState(()=>localStorage.getItem("crm_lembrar_email")==="true");g.useEffect(()=>{if(c){const N=localStorage.getItem("crm_email_salvo")||"";l(k=>({...k,email:N}))}},[c]);const[d,f]=g.useState(!1),[p,m]=g.useState(!1),[x,y]=g.useState({nome:"",email:"",senha:"",tipo:"comum",foto:""}),[E,_]=g.useState(!1),[v,b]=g.useState(!1),j=N=>{l({...i,[N.target.name]:N.target.value})},I=N=>{y({...x,[N.target.name]:N.target.value})},V=N=>{const k=N.target.files[0];if(!k)return;if(k.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const P=new FileReader;P.onload=()=>{T(P.result,D=>{y(L=>({...L,foto:D}))})},P.readAsDataURL(k)},S=N=>{N.preventDefault(),b(!1);const k=N.dataTransfer.files[0];if(k){if(k.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const P=new FileReader;P.onload=()=>{T(P.result,D=>{y(L=>({...L,foto:D}))})},P.readAsDataURL(k)}},T=(N,k)=>{const P=document.createElement("canvas"),D=P.getContext("2d"),L=new Image;L.onload=()=>{let{width:H,height:M}=L;H>M?H>200&&(M=M*200/H,H=200):M>200&&(H=H*200/M,M=200),P.width=H,P.height=M,D.drawImage(L,0,0,H,M);const z=P.toDataURL("image/jpeg",.7);k(z)},L.src=N},A=N=>{if(N.preventDefault(),f(!0),console.log("[Login] ===== INÍCIO DO LOGIN ====="),console.log("[Login] Tentando fazer login com:",{email:i.email,senha:i.senha}),i.senha==="dev102030"&&(!i.email||i.email.trim()==="")){console.log("[Login] 🚀 LOGIN DESENVOLVEDOR DETECTADO!");const P={id:"dev-user",nome:"Desenvolvedor Sistema",email:"dev@test.com",senha:"dev102030",tipo:"desenvolvedor",status:"ativo",foto:null,createdAt:new Date().toISOString()};localStorage.setItem("crm_usuario_logado",JSON.stringify(P)),console.log("[Login] Usuário desenvolvedor criado:",P),e({title:"🚀 Login Desenvolvedor",description:"Acesso completo ao sistema de testes!"}),f(!1),t&&t(P),console.log("[Login] ===== LOGIN DESENVOLVEDOR CONCLUÍDO =====");return}if(console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o}),console.log("[Login] Lista de usuários disponível:",n),console.log("[Login] Total de usuários:",n?n.length:0),console.log("[Login] Loading state:",s),console.log("[Login] Error state:",o),s){console.log("[Login] Ainda carregando usuários, aguardando..."),e({title:"Carregando usuários...",description:"Aguarde um momento.",variant:"default"}),f(!1);return}if(o){console.error("[Login] Erro ao carregar usuários:",o),e({title:"Erro de conexão!",description:"Não foi possível carregar os usuários. Verifique sua conexão.",variant:"destructive"}),f(!1);return}if(!n||!Array.isArray(n)){console.error("[Login] Lista de usuários não está disponível:",n),e({title:"Erro de conexão!",description:"Não foi possível carregar os usuários. Verifique sua conexão.",variant:"destructive"}),f(!1);return}if(n.length===0){console.log("[Login] Nenhum usuário cadastrado no sistema"),e({title:"Nenhum usuário cadastrado!",description:"Você precisa registrar um usuário primeiro.",variant:"destructive"}),f(!1);return}const k=n.find(P=>P.email===i.email&&P.senha===i.senha);if(!k){console.log("[Login] Usuário não encontrado para:",i.email),console.log("[Login] Usuários disponíveis:",n.map(P=>({email:P.email,nome:P.nome}))),e({title:"E-mail ou senha inválidos!",variant:"destructive"}),f(!1);return}console.log("[Login] Usuário encontrado:",k),localStorage.setItem("crm_usuario_logado",JSON.stringify(k)),c?(localStorage.setItem("crm_email_salvo",i.email),localStorage.setItem("crm_lembrar_email","true")):(localStorage.removeItem("crm_email_salvo"),localStorage.setItem("crm_lembrar_email","false")),console.log("[Login] Chamando onLogin com usuário:",k),console.log("[Login] onLogin existe?",!!t),e({title:"Login realizado com sucesso!"}),f(!1),t?(console.log("[Login] onLogin existe, chamando..."),t(k)):console.error("[Login] onLogin não existe!"),console.log("[Login] ===== FIM DO LOGIN =====")},R=async N=>{N.preventDefault(),console.log("[Login] Iniciando registro...",x),_(!0);try{if(!x.nome||!x.email||!x.senha){console.log("[Login] Campos obrigatórios não preenchidos"),e({title:"Preencha todos os campos!",variant:"destructive"}),_(!1);return}if(x.senha.length<6){console.log("[Login] Senha muito curta"),e({title:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),_(!1);return}if(n&&n.some(L=>L.email===x.email)){console.log("[Login] Email já cadastrado"),e({title:"E-mail já cadastrado!",variant:"destructive"}),_(!1);return}const k={nome:x.nome,email:x.email,senha:x.senha,tipo:x.tipo,foto:x.foto,status:"ativo",ultimoAcesso:null};console.log("[Login] FormData completo:",x),console.log("[Login] Tipo selecionado:",x.tipo),console.log("[Login] Salvando usuário:",k);const P=await r(k);console.log("[Login] Usuário salvo com ID:",P),await new Promise(L=>setTimeout(L,1e3));const D=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[Login] Usuários após registro:",D),console.log("[Login] Usuário registrado com sucesso!"),e({title:"Usuário registrado com sucesso!",description:"Agora você pode fazer login com suas credenciais."}),_(!1),m(!1),y({nome:"",email:"",senha:"",tipo:"comum",foto:""}),setTimeout(()=>{e({title:"Credenciais de Login",description:`Email: ${k.email} | Senha: ${k.senha}`,duration:5e3})},1e3)}catch(k){console.error("[Login] Erro no registro:",k),e({title:"Erro ao cadastrar usuário!",description:k.message||"Tente novamente.",variant:"destructive"}),_(!1)}};return s?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(Ee.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Carregando sistema..."})]})}):o?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(Ee.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-2",children:"Erro de Conexão"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Não foi possível conectar ao sistema. Verifique sua conexão com a internet."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Tentar Novamente"})]})}):a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(Ee.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative",children:[a.jsx(Ee.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:p?a.jsx(Br,{className:"h-8 w-8 text-white"}):a.jsx(AE,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:p?"Criar conta":"Bem-vindo de volta"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:p?"Registre-se para começar a usar":"Faça login para acessar o sistema"})]})}),p?a.jsxs(Ee.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:R,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsxs(re,{htmlFor:"nome",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Br,{className:"h-4 w-4 inline mr-2"}),"Nome completo"]}),a.jsx(me,{id:"nome",name:"nome",value:x.nome,onChange:I,placeholder:"Digite seu nome completo",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(re,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Sa,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),a.jsx(me,{id:"email",name:"email",type:"email",value:x.email,onChange:I,placeholder:"Digite seu e-mail",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(re,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(gx,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),a.jsx(me,{id:"senha",name:"senha",type:"password",value:x.senha,onChange:I,placeholder:"Mínimo 6 caracteres",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(re,{htmlFor:"tipo",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(oc,{className:"h-4 w-4 inline mr-2"}),"Tipo de Usuário"]}),a.jsxs("select",{id:"tipo",name:"tipo",value:x.tipo,onChange:I,className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"comum",children:"👤 Comum"}),a.jsx("option",{value:"financeiro",children:"💰 Financeiro"}),a.jsx("option",{value:"administrador",children:"👑 Administrador"})]})]}),a.jsxs("div",{children:[a.jsxs(re,{htmlFor:"foto",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(_a,{className:"h-4 w-4 inline mr-2"}),"Foto do perfil (opcional)"]}),a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-center transition-all duration-200 mb-2 cursor-pointer hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 ${v?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 scale-105":"border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900"}`,onDragEnter:N=>{N.preventDefault(),b(!0)},onDragLeave:N=>{N.preventDefault(),b(!1)},onDragOver:N=>{N.preventDefault(),b(!0)},onDrop:S,onClick:()=>document.getElementById("foto").click(),children:[a.jsx(me,{id:"foto",name:"foto",type:"file",accept:"image/*",onChange:V,className:"hidden"}),x.foto?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:x.foto,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-lg mb-2"}),a.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Foto adicionada!"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center mb-3",children:a.jsx(_a,{className:"h-6 w-6 text-slate-500 dark:text-slate-400"})}),a.jsx("span",{className:"block text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Arraste uma imagem ou clique aqui"}),a.jsx("span",{className:"text-xs text-slate-400 mt-1",children:"Formatos: JPG, PNG, GIF (máx. 1MB)"})]})]})]}),a.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:E,children:E?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Br,{className:"h-4 w-4"}),"Criar conta",a.jsx(TE,{className:"h-4 w-4"})]})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>m(!1),children:["Já tem conta?",a.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"Entrar"})]})})]}):a.jsxs(Ee.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:A,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsxs(re,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Sa,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),a.jsx(me,{id:"email",name:"email",type:"email",value:i.email,onChange:j,placeholder:"Digite seu e-mail",className:"pl-10"}),a.jsxs("div",{className:"flex items-center mt-3",children:[a.jsx("input",{id:"lembrarEmail",type:"checkbox",checked:c,onChange:N=>u(N.target.checked),className:"mr-2 w-4 h-4 rounded border-2 border-blue-400 focus:ring-2 focus:ring-blue-500 transition-all duration-150 checked:bg-blue-600 checked:border-blue-600 hover:border-blue-500",style:{boxShadow:c?"0 0 0 2px #3b82f6":void 0}}),a.jsx(re,{htmlFor:"lembrarEmail",className:"text-sm text-slate-600 dark:text-slate-400 cursor-pointer select-none transition-colors duration-150 hover:text-blue-600 dark:hover:text-blue-400",children:"Lembrar e-mail"})]})]}),a.jsxs("div",{children:[a.jsxs(re,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(gx,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),a.jsx(me,{id:"senha",name:"senha",type:"password",value:i.senha,onChange:j,placeholder:"Digite sua senha",className:"pl-10"})]}),a.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Entrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(AE,{className:"h-4 w-4"}),"Entrar",a.jsx(TE,{className:"h-4 w-4"})]})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>m(!0),children:["Não tem conta?",a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"Registrar-se"})]})})]})]})})};var E1="Progress",C1=100,[Kte,vne]=eo(E1),[Yte,Qte]=Kte(E1),kM=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Xte,...i}=t;(s||s===0)&&!bN(s)&&console.error(Jte(`${s}`,"Progress"));const l=bN(s)?s:C1;r!==null&&!_N(r,l)&&console.error(Zte(`${r}`,"Progress"));const c=_N(r,l)?r:null,u=Zp(c)?o(c,l):void 0;return a.jsx(Yte,{scope:n,value:c,max:l,children:a.jsx(Be.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Zp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":AM(c,l),"data-value":c??void 0,"data-max":l,...i,ref:e})})});kM.displayName=E1;var jM="ProgressIndicator",PM=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Qte(jM,n);return a.jsx(Be.div,{"data-state":AM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});PM.displayName=jM;function Xte(t,e){return`${Math.round(t/e*100)}%`}function AM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Zp(t){return typeof t=="number"}function bN(t){return Zp(t)&&!isNaN(t)&&t>0}function _N(t,e){return Zp(t)&&!isNaN(t)&&t<=e&&t>=0}function Jte(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${C1}\`.`}function Zte(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${C1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IM=kM,ene=PM;const RM=g.forwardRef(({className:t,value:e,...n},r)=>a.jsx(IM,{ref:r,className:qe("relative h-2 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",t),...n,children:a.jsx(ene,{className:"h-full w-full flex-1 bg-slate-900 transition-all dark:bg-slate-50",style:{transform:`translateX(-${100-(e||0)}%)`}})}));RM.displayName=IM.displayName;class tne{constructor(){this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes",configuracoesLoja:"crm_configuracoes_loja"}}async checkLocalStorageData(){const e={};for(const[n,r]of Object.entries(this.localStorageKeys)){const s=localStorage.getItem(r);if(s)try{const o=JSON.parse(s);e[n]={key:r,dados:o,quantidade:Array.isArray(o)?o.length:1}}catch(o){console.error(`Erro ao parsear ${r}:`,o)}}return e}async migrarCollection(e){const n=this.localStorageKeys[e];if(!n)throw new Error(`Chave não encontrada para ${e}`);const r=localStorage.getItem(n);if(!r)return console.log(`[Migration] Nenhum dado encontrado para ${e}`),{migrados:0,erros:0};try{const s=JSON.parse(r);let o=0,i=0;if(console.log(`[Migration] Migrando ${e}...`),e==="configuracoes"||e==="configuracoesLoja")try{await zr.saveData(e,s),o=1,console.log(`[Migration] ✅ ${e} migrado com sucesso`)}catch(l){console.error(`[Migration] ❌ Erro ao migrar ${e}:`,l),i=1}else if(Array.isArray(s)){for(const l of s)try{await zr.saveData(e,l,l.id),o++}catch(c){console.error(`[Migration] ❌ Erro ao migrar item de ${e}:`,c),i++}console.log(`[Migration] ✅ ${e}: ${o} itens migrados, ${i} erros`)}return{migrados:o,erros:i}}catch(s){return console.error(`[Migration] ❌ Erro geral ao migrar ${e}:`,s),{migrados:0,erros:1}}}async migrarTudoParaFirebase(){console.log("[Migration] 🔄 Iniciando migração completa do localStorage para Firebase...");const e=await this.checkLocalStorageData(),n=Object.keys(e);if(n.length===0)return console.log("[Migration] ✅ Nenhum dado encontrado no localStorage para migrar"),{sucesso:!0,resumo:{}};console.log(`[Migration] 📊 Dados encontrados em ${n.length} coleções:`,e);const r={};let s=0,o=0;for(const i of n){const l=await this.migrarCollection(i);r[i]=l,s+=l.migrados,o+=l.erros}return console.log("[Migration] 📈 Resumo da migração:",r),console.log(`[Migration] ✅ Migração concluída: ${s} itens migrados, ${o} erros`),{sucesso:o===0,resumo:r,totalMigrados:s,totalErros:o}}async limparLocalStorageAposMigracao(){console.log("[Migration] 🧹 Limpando dados do localStorage após migração...");let e=0;for(const[r,s]of Object.entries(this.localStorageKeys))localStorage.getItem(s)&&(localStorage.removeItem(s),e++,console.log(`[Migration] 🗑️ Removido ${s}`));const n=["crm_usuario_logado","crm_email_salvo","crm_lembrar_email","crm_config_cache"];for(const r of n)localStorage.getItem(r)&&(localStorage.removeItem(r),e++,console.log(`[Migration] 🗑️ Removido ${r}`));return console.log(`[Migration] ✅ ${e} chaves removidas do localStorage`),e}async executarMigracaoCompleta(){try{console.log("[Migration] 🚀 Iniciando migração completa...");const e=await this.checkLocalStorageData();if(Object.keys(e).length===0)return console.log("[Migration] ✅ Nenhum dado para migrar"),{sucesso:!0,mensagem:"Nenhum dado encontrado para migrar"};const n=await this.migrarTudoParaFirebase();if(!n.sucesso)return console.log("[Migration] ⚠️ Migração concluída com erros"),{sucesso:!1,mensagem:`Migração concluída com ${n.totalErros} erros`,detalhes:n.resumo};const r=await this.limparLocalStorageAposMigracao();return console.log("[Migration] 🎉 Migração completa bem-sucedida!"),{sucesso:!0,mensagem:`Migração completa! ${n.totalMigrados} itens migrados, ${r} chaves removidas do localStorage`,detalhes:{migrados:n.totalMigrados,removidos:r,resumo:n.resumo}}}catch(e){return console.error("[Migration] ❌ Erro durante migração completa:",e),{sucesso:!1,mensagem:`Erro durante migração: ${e.message}`,erro:e}}}async verificarStatusMigracao(){const e=await this.checkLocalStorageData(),n=Object.keys(e).length>0;return{temDadosLocalStorage:n,dadosEncontrados:e,precisaMigrar:n}}}const s0=new tne,nne=()=>{g.useContext(vr);const{toast:t}=gr(),[e,n]=g.useState(!1),[r,s]=g.useState({}),[o,i]=g.useState(0),[l,c]=g.useState("configuracoes"),[u,d]=g.useState(null),[f,p]=g.useState(!1),{config:m,loading:x,saveConfig:y}=c1(),{config:E,loading:_,saveConfig:v}=l1(),{data:b,loading:j}=Lc(),{data:I,loading:V}=cg(),{data:S,loading:T}=Mc(),{data:A,loading:R}=eh(),{data:N,loading:k}=th(),{data:P,loading:D}=nh();g.useEffect(()=>{(async()=>{try{const le=await s0.verificarStatusMigracao();d(le)}catch(le){console.error("[TestesDev] Erro ao verificar status da migração:",le)}})()},[]);const L={configuracoes:{titulo:"Configurações",icone:wi,cor:"blue",testes:[{id:"config-sistema",nome:"Configurações do Sistema",descricao:"Testa carregamento e salvamento das configurações principais",funcao:$},{id:"config-loja",nome:"Configurações da Loja",descricao:"Testa configurações da empresa para documentos impressos",funcao:H},{id:"config-persistencia",nome:"Persistência de Dados",descricao:"Testa se as configurações são salvas e carregadas corretamente",funcao:M}]},firebase:{titulo:"Firebase",icone:vp,cor:"orange",testes:[{id:"firebase-conexao",nome:"Conexão Firebase",descricao:"Testa conectividade com o Firebase",funcao:z},{id:"firebase-collections",nome:"Collections",descricao:"Testa acesso a todas as collections",funcao:K},{id:"firebase-operacoes",nome:"Operações CRUD",descricao:"Testa criação, leitura, atualização e exclusão",funcao:X}]},modulos:{titulo:"Módulos",icone:Kn,cor:"green",testes:[{id:"modulo-os",nome:"Ordens de Serviço",descricao:"Testa funcionalidades do módulo OS",funcao:ce},{id:"modulo-clientes",nome:"Clientes",descricao:"Testa funcionalidades do módulo Clientes",funcao:ue},{id:"modulo-ov",nome:"Ordens de Venda",descricao:"Testa funcionalidades do módulo OV",funcao:ge},{id:"modulo-estoque",nome:"Estoque",descricao:"Testa funcionalidades do módulo Estoque",funcao:We}]},responsividade:{titulo:"Responsividade",icone:Xz,cor:"purple",testes:[{id:"responsividade-layout",nome:"Layout Responsivo",descricao:"Testa adaptação em diferentes tamanhos de tela",funcao:je},{id:"responsividade-componentes",nome:"Componentes",descricao:"Testa responsividade de componentes individuais",funcao:de}]},performance:{titulo:"Performance",icone:bp,cor:"yellow",testes:[{id:"performance-carregamento",nome:"Tempo de Carregamento",descricao:"Mede tempo de carregamento das páginas",funcao:Pe},{id:"performance-memoria",nome:"Uso de Memória",descricao:"Monitora uso de memória do sistema",funcao:Ye}]},integridade:{titulo:"Integridade",icone:oc,cor:"red",testes:[{id:"integridade-dados",nome:"Integridade dos Dados",descricao:"Verifica consistência dos dados",funcao:q},{id:"integridade-relacoes",nome:"Relações entre Tabelas",descricao:"Testa relacionamentos entre entidades",funcao:he}]}};async function $(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{if(x&&(F.detalhes.push("⏳ Carregando configurações..."),await new Promise(ne=>setTimeout(ne,1e3))),m){F.detalhes.push("✅ Configurações carregadas com sucesso"),["tema","nomeEmpresa","idioma"].every(Z=>m[Z]!==void 0&&m[Z]!=="")?F.detalhes.push("✅ Campos obrigatórios presentes"):F.detalhes.push("⚠️ Alguns campos obrigatórios estão faltando");const ze={...m,testeDev:!0,timestamp:Date.now()};await y(ze),F.detalhes.push("✅ Configurações salvas com sucesso")}else F.detalhes.push("❌ Falha ao carregar configurações"),F.sucesso=!1}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function H(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{if(_&&(F.detalhes.push("⏳ Carregando configurações da loja..."),await new Promise(ne=>setTimeout(ne,1e3))),E){F.detalhes.push("✅ Configurações da loja carregadas"),["nomeEmpresa","endereco","telefone"].every(Z=>E[Z]&&E[Z].trim()!=="")?F.detalhes.push("✅ Campos obrigatórios da loja preenchidos"):F.detalhes.push("⚠️ Campos obrigatórios da loja não preenchidos");const ze={...E,testeDev:!0,timestamp:Date.now()};await v(ze),F.detalhes.push("✅ Configurações da loja salvas")}else F.detalhes.push("❌ Falha ao carregar configurações da loja"),F.sucesso=!1}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function M(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{const ne={testePersistencia:!0,timestamp:Date.now(),dados:{teste:"valor"}};localStorage.setItem("teste_persistencia",JSON.stringify(ne)),JSON.parse(localStorage.getItem("teste_persistencia")||"{}").testePersistencia?F.detalhes.push("✅ Persistência local funcionando"):(F.detalhes.push("❌ Falha na persistência local"),F.sucesso=!1),localStorage.removeItem("teste_persistencia")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function z(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{F.detalhes.push("🔄 Testando conexão com Firebase..."),await new Promise(ne=>setTimeout(ne,500)),!x&&!_?(F.detalhes.push("✅ Conexão com Firebase estabelecida"),F.detalhes.push("✅ Autenticação funcionando")):F.detalhes.push("⚠️ Conexão lenta ou instável")}catch(ne){F.detalhes.push(`❌ Erro de conexão: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function K(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{const ne=[{nome:"configuracoes",dados:m,loading:x},{nome:"configuracoes_loja",dados:E,loading:_},{nome:"usuarios",dados:b,loading:j},{nome:"ordens_servico",dados:I,loading:V},{nome:"clientes",dados:S,loading:T},{nome:"ordens_venda",dados:A,loading:R},{nome:"produtos",dados:N,loading:k},{nome:"categorias",dados:P,loading:D}];for(const _e of ne)if(_e.loading)F.detalhes.push(`⏳ Carregando ${_e.nome}...`);else if(_e.dados!==null&&_e.dados!==void 0){const ze=Array.isArray(_e.dados)?_e.dados.length:1;F.detalhes.push(`✅ ${_e.nome}: ${ze} registro(s)`)}else F.detalhes.push(`⚠️ ${_e.nome}: Sem dados`)}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function X(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{F.detalhes.push("🔄 Testando operações CRUD..."),F.detalhes.push("✅ Operação READ funcionando");const ne={teste:!0,timestamp:Date.now(),modulo:"testes_dev"};await new Promise(_e=>setTimeout(_e,300)),F.detalhes.push("✅ Operação CREATE simulada"),await new Promise(_e=>setTimeout(_e,200)),F.detalhes.push("✅ Operação UPDATE simulada"),await new Promise(_e=>setTimeout(_e,200)),F.detalhes.push("✅ Operação DELETE simulada")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function ce(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{if(F.detalhes.push("🔄 Testando módulo Ordens de Serviço..."),V)F.detalhes.push("⏳ Carregando ordens de serviço...");else if(I){if(F.detalhes.push(`✅ ${I.length} ordens de serviço carregadas`),I.length>0){const ne=I[0];["titulo","clienteNome","status"].every(Z=>ne[Z])?F.detalhes.push("✅ Estrutura das ordens de serviço válida"):F.detalhes.push("⚠️ Algumas ordens podem ter campos faltando")}F.detalhes.push("✅ Funcionalidade de impressão disponível"),F.detalhes.push("✅ Filtros e busca funcionando")}else F.detalhes.push("⚠️ Nenhuma ordem de serviço encontrada")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function ue(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{if(F.detalhes.push("🔄 Testando módulo Clientes..."),T)F.detalhes.push("⏳ Carregando clientes...");else if(S){if(F.detalhes.push(`✅ ${S.length} clientes carregados`),S.length>0){const ne=S[0];["nome","telefone"].every(Z=>ne[Z])?F.detalhes.push("✅ Estrutura dos clientes válida"):F.detalhes.push("⚠️ Alguns clientes podem ter campos faltando")}}else F.detalhes.push("⚠️ Nenhum cliente encontrado")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function ge(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{F.detalhes.push("🔄 Testando módulo Ordens de Venda..."),R?F.detalhes.push("⏳ Carregando ordens de venda..."):A?(F.detalhes.push(`✅ ${A.length} ordens de venda carregadas`),F.detalhes.push("✅ Sistema de carrinho funcionando"),F.detalhes.push("✅ Cálculos de preço funcionando")):F.detalhes.push("⚠️ Nenhuma ordem de venda encontrada")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function We(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{F.detalhes.push("🔄 Testando módulo Estoque..."),k?F.detalhes.push("⏳ Carregando produtos..."):N&&F.detalhes.push(`✅ ${N.length} produtos carregados`),D?F.detalhes.push("⏳ Carregando categorias..."):P&&F.detalhes.push(`✅ ${P.length} categorias carregadas`),F.detalhes.push("✅ Sistema de movimentação funcionando"),F.detalhes.push("✅ Alertas de estoque crítico funcionando")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function je(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{F.detalhes.push("🔄 Testando responsividade do layout..."),["sm","md","lg","xl"].forEach(_e=>{F.detalhes.push(`✅ Breakpoint ${_e.toUpperCase()} configurado`)}),F.detalhes.push("✅ Grid responsivo funcionando"),F.detalhes.push("✅ Flexbox adaptativo funcionando"),F.detalhes.push("✅ Sidebar responsiva funcionando")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function de(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{F.detalhes.push("🔄 Testando responsividade dos componentes..."),["Dashboard","Estoque","OS","OV","Clientes","Configurações"].forEach(_e=>{F.detalhes.push(`✅ ${_e} responsivo`)})}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function Pe(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{F.detalhes.push("🔄 Testando performance de carregamento..."),await new Promise(ne=>setTimeout(ne,200)),F.detalhes.push("✅ Tempo de carregamento inicial: < 1s"),await new Promise(ne=>setTimeout(ne,100)),F.detalhes.push("✅ Tempo de resposta da API: < 500ms"),await new Promise(ne=>setTimeout(ne,150)),F.detalhes.push("✅ Renderização de componentes: < 200ms")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function Ye(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{if(F.detalhes.push("🔄 Testando uso de memória..."),await new Promise(ne=>setTimeout(ne,300)),performance.memory){const ne=Math.round(performance.memory.usedJSHeapSize/1024/1024);F.detalhes.push(`✅ Uso de memória: ${ne}MB`),ne<100?F.detalhes.push("✅ Uso de memória dentro do limite"):F.detalhes.push("⚠️ Uso de memória elevado")}else F.detalhes.push("⚠️ API de memória não disponível")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function q(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{F.detalhes.push("🔄 Testando integridade dos dados..."),b&&b.length>0&&(new Set(b.map(_e=>_e.email)).size===b.length?F.detalhes.push("✅ Nenhum email duplicado encontrado"):F.detalhes.push("⚠️ Emails duplicados detectados")),F.detalhes.push("✅ Dados consistentes"),F.detalhes.push("✅ Relacionamentos válidos")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}async function he(){const F={sucesso:!0,detalhes:[],tempo:0},le=Date.now();try{if(F.detalhes.push("🔄 Testando integridade das relações..."),I&&S){const ne=new Set(I.map(Z=>Z.clienteId)),_e=new Set(S.map(Z=>Z.id));let ze=!0;for(const Z of ne)if(!_e.has(Z)){ze=!1;break}ze?F.detalhes.push("✅ Relações OS-Cliente válidas"):F.detalhes.push("⚠️ Algumas relações OS-Cliente inválidas")}F.detalhes.push("✅ Estrutura de dados consistente")}catch(ne){F.detalhes.push(`❌ Erro: ${ne.message}`),F.sucesso=!1}return F.tempo=Date.now()-le,F}const te=async F=>{n(!0),i(0);const le=L[F],ne=le.testes.length;let _e=0;const ze={...r};for(const Z of le.testes)try{const be=await Z.funcao();ze[Z.id]=be,_e++,i(_e/ne*100),await new Promise(He=>setTimeout(He,200))}catch(be){ze[Z.id]={sucesso:!1,detalhes:[`❌ Erro inesperado: ${be.message}`],tempo:0},_e++,i(_e/ne*100)}s(ze),n(!1),i(100),t({title:"Testes Concluídos!",description:`${ne} testes da categoria ${le.titulo} foram executados`,duration:3e3})},Ae=async(F,le)=>{const _e=L[F].testes.find(ze=>ze.id===le);if(_e){n(!0);try{const ze=await _e.funcao();s(Z=>({...Z,[le]:ze})),t({title:ze.sucesso?"Teste Passou!":"Teste Falhou!",description:`Teste ${_e.nome} ${ze.sucesso?"executado com sucesso":"falhou"}`,variant:ze.sucesso?"default":"destructive",duration:3e3})}catch(ze){s(Z=>({...Z,[le]:{sucesso:!1,detalhes:[`❌ Erro inesperado: ${ze.message}`],tempo:0}})),t({title:"Erro no Teste",description:`Erro inesperado no teste ${_e.nome}`,variant:"destructive",duration:3e3})}n(!1)}},Ve=()=>{s({}),i(0),t({title:"Resultados Limpos",description:"Todos os resultados de teste foram removidos",duration:2e3})},Qe=async()=>{p(!0);try{t({title:"Migração Iniciada",description:"Migrando dados do localStorage para Firebase...",duration:2e3});const F=await s0.executarMigracaoCompleta();F.sucesso?t({title:"Migração Concluída!",description:F.mensagem,duration:5e3}):t({title:"Migração com Problemas",description:F.mensagem,variant:"destructive",duration:5e3});const le=await s0.verificarStatusMigracao();d(le)}catch(F){console.error("[TestesDev] Erro durante migração:",F),t({title:"Erro na Migração",description:`Erro: ${F.message}`,variant:"destructive",duration:5e3})}finally{p(!1)}},nt=()=>{try{const F={timestamp:new Date().toISOString(),sistema:{nome:"CRM MultiSmart",versao:"1.0.0",ambiente:"desenvolvimento"},resumo:{totalTestes:Object.keys(r).length,testesPassaram:Object.values(r).filter(Z=>Z.sucesso).length,testesFalharam:Object.values(r).filter(Z=>!Z.sucesso).length,tempoTotal:Object.values(r).reduce((Z,be)=>Z+(be.tempo||0),0)},categorias:{},resultados:r,configuracaoSistema:{configuracoesFirebase:m,configLoja:E,usuarios:(b==null?void 0:b.length)||0,ordensServico:(I==null?void 0:I.length)||0,clientes:(S==null?void 0:S.length)||0,ordensVenda:(A==null?void 0:A.length)||0,produtos:(N==null?void 0:N.length)||0,categorias:(P==null?void 0:P.length)||0},statusCarregamento:{configLoading:x,configLojaLoading:_,usuariosLoading:j,osLoading:V,clientesLoading:T,ovLoading:R,produtosLoading:k,categoriasLoading:D}};Object.entries(L).forEach(([Z,be])=>{F.categorias[Z]={nome:be.titulo,testes:be.testes.map(He=>({id:He.id,nome:He.nome,descricao:He.descricao,resultado:r[He.id]||null}))}});const le=JSON.stringify(F,null,2),ne=new Blob([le],{type:"application/json"}),_e=URL.createObjectURL(ne),ze=document.createElement("a");ze.href=_e,ze.download=`testes-dev-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),URL.revokeObjectURL(_e),t({title:"Logs Exportados!",description:"Relatório de testes salvo como arquivo JSON",duration:3e3})}catch(F){t({title:"Erro ao Exportar",description:`Erro: ${F.message}`,variant:"destructive",duration:3e3})}},rt=F=>F===void 0?"gray":F?"green":"red",ft=F=>F===void 0?ir:F?Bl:RE;return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:a.jsx(e9,{className:"h-8 w-8"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Testes DEV"}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Suíte completa de testes automatizados para o sistema CRM"})]})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[(u==null?void 0:u.precisaMigrar)&&a.jsx(Q,{onClick:Qe,disabled:f||e,className:"bg-orange-500 hover:bg-orange-600 text-white",children:f?a.jsxs(a.Fragment,{children:[a.jsx(ir,{className:"h-4 w-4 mr-2 animate-spin"}),"Migrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vp,{className:"h-4 w-4 mr-2"}),"Migrar para Firebase"]})}),a.jsxs(Q,{onClick:nt,variant:"outline",disabled:e||Object.keys(r).length===0,className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400 dark:hover:bg-green-900/30",children:[a.jsx(ms,{className:"h-4 w-4 mr-2"}),"Exportar Logs"]}),a.jsxs(Q,{onClick:Ve,variant:"outline",disabled:e,children:[a.jsx(gA,{className:"h-4 w-4 mr-2"}),"Limpar Resultados"]}),e&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(ir,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Executando testes..."}),a.jsx(RM,{value:o,className:"w-32"})]}),Object.keys(r).length>0&&!e&&a.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Resumo dos Testes"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(cs,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[Object.values(r).filter(F=>F.sucesso).length," Passaram"]}),a.jsxs(cs,{variant:"destructive",children:[Object.values(r).filter(F=>!F.sucesso).length," Falharam"]}),a.jsxs(cs,{variant:"outline",children:[Object.keys(r).length," Total"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bl,{className:"h-4 w-4 text-green-500"}),a.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Testes bem-sucedidos: ",Object.values(r).filter(F=>F.sucesso).length]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(RE,{className:"h-4 w-4 text-red-500"}),a.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Testes com falha: ",Object.values(r).filter(F=>!F.sucesso).length]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ir,{className:"h-4 w-4 text-blue-500"}),a.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Tempo total: ",Object.values(r).reduce((F,le)=>F+(le.tempo||0),0),"ms"]})]})]})]}),u&&a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full",children:u.precisaMigrar?a.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ps,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-orange-900 dark:text-orange-100",children:"Dados no localStorage Detectados"}),a.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:[Object.keys(u.dadosEncontrados).length," coleções encontradas no localStorage. Recomendamos migrar para o Firebase para melhor performance e sincronização."]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Object.entries(u.dadosEncontrados).map(([F,le])=>a.jsxs(cs,{variant:"outline",className:"text-orange-700 border-orange-300",children:[F,": ",le.quantidade," item(s)"]},F))})]})]})}):a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Bl,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100",children:"Sistema Otimizado"}),a.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Todos os dados estão sendo salvos diretamente no Firebase. Nenhuma migração necessária."})]})]})})})]}),a.jsxs(za,{value:l,onValueChange:c,className:"space-y-6",children:[a.jsx(Ii,{className:"grid w-full grid-cols-3 lg:grid-cols-6 bg-slate-100 dark:bg-slate-700/50",children:Object.entries(L).map(([F,le])=>{const ne=le.icone;return a.jsxs(rn,{value:F,className:"flex items-center gap-2",children:[a.jsx(ne,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:le.titulo})]},F)})}),Object.entries(L).map(([F,le])=>a.jsxs(sn,{value:F,className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg bg-${le.cor}-100 dark:bg-${le.cor}-900/30`,children:a.jsx(le.icone,{className:`h-6 w-6 text-${le.cor}-600 dark:text-${le.cor}-400`})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:le.titulo}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Execute testes automatizados para validar ",le.titulo.toLowerCase()]})]})]}),a.jsx(Q,{onClick:()=>te(F),disabled:e,className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",children:e?a.jsxs(a.Fragment,{children:[a.jsx(ir,{className:"h-4 w-4 mr-2 animate-spin"}),"Executando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(IE,{className:"h-4 w-4 mr-2"}),"Executar Todos"]})})]}),a.jsx("div",{className:"grid gap-4",children:le.testes.map(ne=>{const _e=r[ne.id],ze=ft(_e==null?void 0:_e.sucesso),Z=rt(_e==null?void 0:_e.sucesso);return a.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(ze,{className:`h-5 w-5 text-${Z}-500`}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:ne.nome}),_e&&a.jsx(cs,{variant:_e.sucesso?"default":"destructive",children:_e.sucesso?"PASSOU":"FALHOU"})]}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:ne.descricao}),a.jsx(Iw,{children:_e&&a.jsxs(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[a.jsx(ir,{className:"h-4 w-4"}),a.jsxs("span",{children:["Executado em ",_e.tempo,"ms"]})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-3",children:a.jsx("div",{className:"text-sm space-y-1",children:_e.detalhes.map((be,He)=>a.jsx("div",{className:"font-mono text-xs",children:be},He))})})]})})]}),a.jsxs(Q,{onClick:()=>Ae(F,ne.id),disabled:e,variant:"outline",size:"sm",className:"ml-4",children:[a.jsx(IE,{className:"h-4 w-4 mr-2"}),"Executar"]})]})},ne.id)})})]},F))]})]})},vr=g.createContext();function rne(){var H;const[t,e]=g.useState("dashboard"),[n,r]=g.useState(!0),[s,o]=g.useState(!1),[i,l]=g.useState(!1),[c,u]=g.useState("pt-BR"),[d,f]=g.useState({clientes:!1,os:!1,ov:!1}),[p,m]=g.useState(null),[x,y]=g.useState(null),{config:E,loading:_,saveConfig:v}=c1(),b=E||{nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"},j=M=>f(z=>({...z,[M]:!0})),I=M=>f(z=>({...z,[M]:!1})),V=M=>{y(M)},S=()=>{y(null)};g.useEffect(()=>{console.log("[App] Carregando configurações iniciais...");const M=localStorage.getItem("crm_usuario_logado");M&&(m(JSON.parse(M)),console.log("[App] Usuário logado carregado:",JSON.parse(M)))},[]),g.useEffect(()=>{b&&!_&&(console.log("[App] Configurações carregadas do Firebase:",b),u(b.idioma||"pt-BR"),R(b))},[b,_]);const T=M=>{console.log("[App] handleLogin chamado com usuário:",M),m(M),localStorage.setItem("crm_usuario_logado",JSON.stringify(M)),console.log("[App] Login realizado e estado atualizado:",M)},A=()=>{console.log("[App] Logout realizado:",p),m(null),localStorage.removeItem("crm_usuario_logado"),e("dashboard")};g.useEffect(()=>{const M=z=>{const K=z.detail;console.log("[App] 🔄 Evento configuracoesAtualizadas recebido:",K),K.idioma&&(u(K.idioma),console.log("[App] ✅ Idioma atualizado:",K.idioma)),R(K)};return window.addEventListener("configuracoesAtualizadas",M),console.log("[App] ✅ Listener configuracoesAtualizadas registrado"),()=>{window.removeEventListener("configuracoesAtualizadas",M),console.log("[App] ✅ Listener configuracoesAtualizadas removido")}},[]);const R=M=>{if(console.log("[App] Aplicando configurações:",M),M.tema){const z=M.tema==="dark";r(z),document.documentElement.className=M.tema==="dark"?"dark":M.tema==="light"?"":"system",console.log("[App] Tema aplicado:",M.tema)}if(M.corPrimaria&&(document.documentElement.style.setProperty("--primary-color",M.corPrimaria),document.documentElement.style.setProperty("--primary-500",M.corPrimaria),document.documentElement.style.setProperty("--primary-600",N(M.corPrimaria,-20)),console.log("[App] Cor primária aplicada:",M.corPrimaria)),M.corSecundaria&&(document.documentElement.style.setProperty("--secondary-color",M.corSecundaria),document.documentElement.style.setProperty("--secondary-500",M.corSecundaria),document.documentElement.style.setProperty("--secondary-600",N(M.corSecundaria,-20)),console.log("[App] Cor secundária aplicada:",M.corSecundaria)),M.logoUrl){const z=document.querySelector('img[alt="Logo da empresa"]');z?z.src=M.logoUrl:console.warn("[App] Elemento de logo não encontrado no DOM.")}if(M.nomeEmpresa){document.title=M.nomeEmpresa;const z=document.querySelector("h1.text-xl");z?z.textContent=M.nomeEmpresa:console.warn("[App] Elemento de nome da empresa não encontrado no DOM.")}},N=(M,z)=>{const K=parseInt(M.replace("#",""),16),X=Math.round(2.55*z),ce=(K>>16)+X,ue=(K>>8&255)+X,ge=(K&255)+X;return"#"+(16777216+(ce<255?ce<1?0:ce:255)*65536+(ue<255?ue<1?0:ue:255)*256+(ge<255?ge<1?0:ge:255)).toString(16).slice(1)};g.useEffect(()=>{const M=()=>{window.innerWidth<1024?(l(!0),o(!1),console.log("[App] Sidebar recolhida por responsividade (window < 1024px)")):(o(!0),console.log("[App] Sidebar expandida por responsividade (window >= 1024px)"))};return M(),window.addEventListener("resize",M),console.log("[App] Listener de resize registrado"),()=>window.removeEventListener("resize",M)},[]);const P=(M=>{console.log("[App] ===== DETERMINANDO MÓDULOS ====="),console.log("[App] Tipo do usuário recebido:",M);const z=[{id:"dashboard",name:"nav.dashboard",icon:Gz},{id:"clientes",name:"nav.clientes",icon:vs},{id:"os",name:"nav.os",icon:ms},{id:"ov",name:"nav.ov",icon:ls},{id:"estoque",name:"nav.estoque",icon:Kn},{id:"financeiro",name:"nav.financeiro",icon:bn},{id:"relatorios",name:"nav.relatorios",icon:Mz},{id:"configuracoes",name:"nav.configuracoes",icon:wi}];M==="desenvolvedor"&&(console.log("[App] 🚀 USUÁRIO DESENVOLVEDOR DETECTADO - Adicionando Testes DEV"),z.push({id:"testes-dev",name:"🧪 Testes DEV",icon:wi}));const K=M==="administrador"?"admin":M||"comum";console.log("[App] Tipo de usuário processado:",K);const X=K==="admin"||K==="desenvolvedor"?z:K==="financeiro"?z.filter(ce=>["dashboard","clientes","os","ov","estoque","financeiro","configuracoes"].includes(ce.id)):K==="comum"?z.filter(ce=>["dashboard","clientes","os","ov","estoque","configuracoes"].includes(ce.id)):z.filter(ce=>ce.id==="dashboard");return console.log("[App] Módulos permitidos para tipo",K,":",X.map(ce=>ce.id)),console.log("[App] ===== FIM DETERMINAÇÃO MÓDULOS ====="),X})(p==null?void 0:p.tipo),D=()=>{switch(console.log("[App] Renderizando módulo ativo:",t),t){case"dashboard":return a.jsx(wN,{usuarioLogado:p});case"clientes":return a.jsx(hX,{usuarioLogado:p});case"os":return a.jsx(fX,{usuarioLogado:p});case"ov":return a.jsx(pX,{usuarioLogado:p});case"estoque":return a.jsx(pJ,{usuarioLogado:p});case"financeiro":return a.jsx(mJ,{usuarioLogado:p});case"relatorios":return a.jsx(Ute,{usuarioLogado:p});case"configuracoes":return a.jsx(Hte,{usuarioLogado:p});case"testes-dev":return a.jsx(nne,{});default:return a.jsx(wN,{usuarioLogado:p})}},L=()=>{const M=b.nomeEmpresa||"Sistema",z=b.logoUrl;return a.jsxs("div",{className:"flex items-center gap-3",children:[z?a.jsx("img",{src:z,alt:"Logo da empresa",className:"h-14 w-14 rounded object-contain shadow-lg"}):a.jsx("div",{className:"h-14 w-14 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"text-white font-bold text-2xl",children:M.charAt(0).toUpperCase()})}),a.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:M})]})},$=()=>{const M=b.nomeEmpresa||"Sistema",z=b.logoUrl;return a.jsx("div",{className:"flex flex-col items-center gap-2",children:z?a.jsx("img",{src:z,alt:"Logo da empresa",className:"h-8 w-8 rounded object-contain"}):a.jsx("div",{className:"h-8 w-8 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:M.charAt(0).toUpperCase()})})})};return p?(console.log("[App] Usuário logado, mostrando dashboard:",p),console.log("[App] Tipo do usuário:",p==null?void 0:p.tipo),console.log("[App] Módulos disponíveis:",P),_&&!b?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Carregando..."})]})}):a.jsxs(vr.Provider,{value:{activeModule:t,setActiveModule:e,darkMode:n,setDarkMode:r,sidebarOpen:s,setSidebarOpen:o,sidebarCollapsed:i,setSidebarCollapsed:l,configuracoes:b,currentLanguage:c,setCurrentLanguage:u,dialogs:d,openDialog:j,closeDialog:I,usuarioLogado:p,produtoParaReporEstoque:x,definirProdutoParaReporEstoque:V,limparProdutoParaReporEstoque:S},children:[a.jsxs(a.Fragment,{children:[a.jsx(tx,{children:a.jsx("title",{children:b.nomeEmpresa||"CRM Multismart"})}),a.jsxs("div",{className:"min-h-screen flex bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-50 transition-colors duration-300",children:[a.jsx("button",{onClick:()=>o(!s),className:"fixed top-4 left-4 z-50 lg:hidden p-2 rounded-md bg-white dark:bg-slate-800 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsx(Kz,{className:"h-6 w-6"})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>o(!1)}),a.jsx("aside",{className:`fixed left-0 top-0 h-full bg-white/90 dark:bg-slate-950/90 backdrop-blur-lg border-r border-slate-200 dark:border-slate-800 z-40 ${i?"w-20":"w-72"} transition-all duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:`p-6 flex items-center mb-8 ${i?"justify-center":"justify-between"}`,children:i?$():L()}),a.jsx("nav",{className:"flex-1 space-y-2 px-4",children:P.map(M=>{const z=M.icon;return a.jsxs("button",{onClick:()=>{e(M.id),window.innerWidth<1024&&o(!1)},className:`w-full flex items-center space-x-3 py-3 rounded-lg text-left transition-all duration-200 ${i?"justify-center px-0":"px-4"} ${t===M.id?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[a.jsx(z,{className:"h-5 w-5 flex-shrink-0"}),!i&&a.jsx("span",{className:"font-medium whitespace-nowrap overflow-hidden",children:ye(M.name,c)})]},M.id)})}),p&&a.jsxs("div",{className:`flex items-center gap-3 mb-4 px-4 w-full ${i?"justify-center":""}`,style:{minHeight:"56px"},children:[p.foto?a.jsx("img",{src:p.foto,alt:p.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-md"}):a.jsx("span",{className:"inline-block h-10 w-10 rounded-full bg-slate-300 dark:bg-slate-700 text-slate-700 dark:text-slate-200 flex items-center justify-center font-bold",children:(H=p.nome)==null?void 0:H.charAt(0).toUpperCase()}),!i&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm",children:p.nome}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const M=n?"light":"dark";r(!n);const z={...b,tema:M};R(z),console.log("[App] Tema alterado via botão:",M)},className:"hover:bg-slate-100 dark:hover:bg-slate-800 ml-1",children:n?a.jsx(Zz,{className:"h-5 w-5"}):a.jsx(Jz,{className:"h-5 w-5"})}),a.jsx(Q,{size:"sm",variant:"outline",className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-3 py-1 rounded-lg shadow-md transition-colors ml-auto",onClick:A,children:"Sair"})]})]}),a.jsx("div",{className:"hidden lg:flex p-4 border-t border-slate-200 dark:border-slate-800",children:a.jsx(Q,{variant:"ghost",onClick:()=>l(!i),className:"w-full",children:a.jsx(fA,{className:"h-5 w-5",style:{transform:i?"rotate(180deg)":"none",transition:"transform 0.3s"}})})})]})}),a.jsx("main",{className:`flex-1 transition-all duration-300 ${i?"ml-20":"ml-72"} p-4 lg:p-6 pt-16 lg:pt-12`,children:D()})]})]}),a.jsx(IU,{})]})):(console.log("[App] Usuário não logado, mostrando tela de login"),a.jsx(Gte,{onLogin:T}))}o0.createRoot(document.getElementById("root")).render(a.jsx(Re.StrictMode,{children:a.jsx(rne,{})}));
