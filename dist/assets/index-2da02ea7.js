function Q4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Qi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X4(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Sj={exports:{}},np={},_j={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=Symbol.for("react.element"),Z4=Symbol.for("react.portal"),J4=Symbol.for("react.fragment"),eO=Symbol.for("react.strict_mode"),tO=Symbol.for("react.profiler"),nO=Symbol.for("react.provider"),rO=Symbol.for("react.context"),sO=Symbol.for("react.forward_ref"),oO=Symbol.for("react.suspense"),aO=Symbol.for("react.memo"),iO=Symbol.for("react.lazy"),cS=Symbol.iterator;function lO(t){return t===null||typeof t!="object"?null:(t=cS&&t[cS]||t["@@iterator"],typeof t=="function"?t:null)}var Cj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nj=Object.assign,Ej={};function Sc(t,e,n){this.props=t,this.context=e,this.refs=Ej,this.updater=n||Cj}Sc.prototype.isReactComponent={};Sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jj(){}jj.prototype=Sc.prototype;function xy(t,e,n){this.props=t,this.context=e,this.refs=Ej,this.updater=n||Cj}var yy=xy.prototype=new jj;yy.constructor=xy;Nj(yy,Sc.prototype);yy.isPureReactComponent=!0;var uS=Array.isArray,Tj=Object.prototype.hasOwnProperty,wy={current:null},kj={key:!0,ref:!0,__self:!0,__source:!0};function Pj(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Tj.call(e,r)&&!kj.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ad,type:t,key:o,ref:i,props:s,_owner:wy.current}}function cO(t,e){return{$$typeof:Ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function by(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ad}function uO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dS=/\/+/g;function kg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uO(""+t.key):e.toString(36)}function uf(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Ad:case Z4:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+kg(i,0):r,uS(s)?(n="",t!=null&&(n=t.replace(dS,"$&/")+"/"),uf(s,e,n,"",function(u){return u})):s!=null&&(by(s)&&(s=cO(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(dS,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",uS(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+kg(o,l);i+=uf(o,e,n,c,s)}else if(c=lO(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+kg(o,l++),i+=uf(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function yh(t,e,n){if(t==null)return t;var r=[],s=0;return uf(t,r,"","",function(o){return e.call(n,o,s++)}),r}function dO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hr={current:null},df={transition:null},hO={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:df,ReactCurrentOwner:wy};function Ij(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:yh,forEach:function(t,e,n){yh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yh(t,function(){e++}),e},toArray:function(t){return yh(t,function(e){return e})||[]},only:function(t){if(!by(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ct.Component=Sc;ct.Fragment=J4;ct.Profiler=tO;ct.PureComponent=xy;ct.StrictMode=eO;ct.Suspense=oO;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hO;ct.act=Ij;ct.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nj({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=wy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Tj.call(e,c)&&!kj.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ad,type:t.type,key:s,ref:o,props:r,_owner:i}};ct.createContext=function(t){return t={$$typeof:rO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nO,_context:t},t.Consumer=t};ct.createElement=Pj;ct.createFactory=function(t){var e=Pj.bind(null,t);return e.type=t,e};ct.createRef=function(){return{current:null}};ct.forwardRef=function(t){return{$$typeof:sO,render:t}};ct.isValidElement=by;ct.lazy=function(t){return{$$typeof:iO,_payload:{_status:-1,_result:t},_init:dO}};ct.memo=function(t,e){return{$$typeof:aO,type:t,compare:e===void 0?null:e}};ct.startTransition=function(t){var e=df.transition;df.transition={};try{t()}finally{df.transition=e}};ct.unstable_act=Ij;ct.useCallback=function(t,e){return hr.current.useCallback(t,e)};ct.useContext=function(t){return hr.current.useContext(t)};ct.useDebugValue=function(){};ct.useDeferredValue=function(t){return hr.current.useDeferredValue(t)};ct.useEffect=function(t,e){return hr.current.useEffect(t,e)};ct.useId=function(){return hr.current.useId()};ct.useImperativeHandle=function(t,e,n){return hr.current.useImperativeHandle(t,e,n)};ct.useInsertionEffect=function(t,e){return hr.current.useInsertionEffect(t,e)};ct.useLayoutEffect=function(t,e){return hr.current.useLayoutEffect(t,e)};ct.useMemo=function(t,e){return hr.current.useMemo(t,e)};ct.useReducer=function(t,e,n){return hr.current.useReducer(t,e,n)};ct.useRef=function(t){return hr.current.useRef(t)};ct.useState=function(t){return hr.current.useState(t)};ct.useSyncExternalStore=function(t,e,n){return hr.current.useSyncExternalStore(t,e,n)};ct.useTransition=function(){return hr.current.useTransition()};ct.version="18.3.1";_j.exports=ct;var g=_j.exports;const $e=Qi(g),Aj=Q4({__proto__:null,default:$e},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fO=g,mO=Symbol.for("react.element"),pO=Symbol.for("react.fragment"),gO=Object.prototype.hasOwnProperty,vO=fO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xO={key:!0,ref:!0,__self:!0,__source:!0};function Rj(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)gO.call(e,r)&&!xO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:mO,type:t,key:o,ref:i,props:s,_owner:vO.current}}np.Fragment=pO;np.jsx=Rj;np.jsxs=Rj;Sj.exports=np;var a=Sj.exports,a0={},Dj={exports:{}},Hr={},Mj={exports:{}},Oj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,V){var Q=O.length;O.push(V);e:for(;0<Q;){var Z=Q-1>>>1,U=O[Z];if(0<s(U,V))O[Z]=V,O[Q]=U,Q=Z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],Q=O.pop();if(Q!==V){O[0]=Q;e:for(var Z=0,U=O.length,pe=U>>>1;Z<pe;){var ce=2*(Z+1)-1,Ne=O[ce],De=ce+1,Se=O[De];if(0>s(Ne,Q))De<U&&0>s(Se,Ne)?(O[Z]=Se,O[De]=Q,Z=De):(O[Z]=Ne,O[ce]=Q,Z=ce);else if(De<U&&0>s(Se,Q))O[Z]=Se,O[De]=Q,Z=De;else break e}}return V}function s(O,V){var Q=O.sortIndex-V.sortIndex;return Q!==0?Q:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=O)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function T(O){if(x=!1,b(O),!y)if(n(c)!==null)y=!0,Y(R);else{var V=n(u);V!==null&&q(T,V.startTime-O)}}function R(O,V){y=!1,x&&(x=!1,S(N),N=-1),p=!0;var Q=m;try{for(b(V),f=n(c);f!==null&&(!(f.expirationTime>V)||O&&!k());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,m=f.priorityLevel;var U=Z(f.expirationTime<=V);V=t.unstable_now(),typeof U=="function"?f.callback=U:f===n(c)&&r(c),b(V)}else r(c);f=n(c)}if(f!==null)var pe=!0;else{var ce=n(u);ce!==null&&q(T,ce.startTime-V),pe=!1}return pe}finally{f=null,m=Q,p=!1}}var L=!1,C=null,N=-1,P=5,I=-1;function k(){return!(t.unstable_now()-I<P)}function j(){if(C!==null){var O=t.unstable_now();I=O;var V=!0;try{V=C(!0,O)}finally{V?A():(L=!1,C=null)}}else L=!1}var A;if(typeof v=="function")A=function(){v(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=j,A=function(){G.postMessage(null)}}else A=function(){_(j,0)};function Y(O){C=O,L||(L=!0,A())}function q(O,V){N=_(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Y(R))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var Q=m;m=V;try{return O()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Q=m;m=O;try{return V()}finally{m=Q}},t.unstable_scheduleCallback=function(O,V,Q){var Z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Z+Q:Z):Q=Z,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,O={id:d++,callback:V,priorityLevel:O,startTime:Q,expirationTime:U,sortIndex:-1},Q>Z?(O.sortIndex=Q,e(u,O),n(c)===null&&O===n(u)&&(x?(S(N),N=-1):x=!0,q(T,Q-Z))):(O.sortIndex=U,e(c,O),y||p||(y=!0,Y(R))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var V=m;return function(){var Q=m;m=V;try{return O.apply(this,arguments)}finally{m=Q}}}})(Oj);Mj.exports=Oj;var yO=Mj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO=g,qr=yO;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lj=new Set,Gu={};function Xi(t,e){Xl(t,e),Xl(t+"Capture",e)}function Xl(t,e){for(Gu[t]=e,t=0;t<e.length;t++)Lj.add(e[t])}var jo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i0=Object.prototype.hasOwnProperty,bO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hS={},fS={};function SO(t){return i0.call(fS,t)?!0:i0.call(hS,t)?!1:bO.test(t)?fS[t]=!0:(hS[t]=!0,!1)}function _O(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CO(t,e,n,r){if(e===null||typeof e>"u"||_O(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Un[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Un[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Un[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Un[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Un[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Un[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Un[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Un[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Un[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sy=/[\-:]([a-z])/g;function _y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sy,_y);Un[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sy,_y);Un[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sy,_y);Un[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Un[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});Un.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Un[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cy(t,e,n,r){var s=Un.hasOwnProperty(e)?Un[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CO(e,n,s,r)&&(n=null),r||s===null?SO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vo=wO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wh=Symbol.for("react.element"),yl=Symbol.for("react.portal"),wl=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),Fj=Symbol.for("react.provider"),Vj=Symbol.for("react.context"),Ey=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),u0=Symbol.for("react.suspense_list"),jy=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),zj=Symbol.for("react.offscreen"),mS=Symbol.iterator;function Zc(t){return t===null||typeof t!="object"?null:(t=mS&&t[mS]||t["@@iterator"],typeof t=="function"?t:null)}var Wt=Object.assign,Pg;function pu(t){if(Pg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pg=e&&e[1]||""}return`
`+Pg+t}var Ig=!1;function Ag(t,e){if(!t||Ig)return"";Ig=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ig=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pu(t):""}function NO(t){switch(t.tag){case 5:return pu(t.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return t=Ag(t.type,!1),t;case 11:return t=Ag(t.type.render,!1),t;case 1:return t=Ag(t.type,!0),t;default:return""}}function d0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wl:return"Fragment";case yl:return"Portal";case l0:return"Profiler";case Ny:return"StrictMode";case c0:return"Suspense";case u0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vj:return(t.displayName||"Context")+".Consumer";case Fj:return(t._context.displayName||"Context")+".Provider";case Ey:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jy:return e=t.displayName||null,e!==null?e:d0(t.type)||"Memo";case ta:e=t._payload,t=t._init;try{return d0(t(e))}catch{}}return null}function EO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d0(e);case 8:return e===Ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jO(t){var e=Bj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bh(t){t._valueTracker||(t._valueTracker=jO(t))}function Uj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h0(t,e){var n=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $j(t,e){e=e.checked,e!=null&&Cy(t,"checked",e,!1)}function f0(t,e){$j(t,e);var n=Pa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?m0(t,e.type,n):e.hasOwnProperty("defaultValue")&&m0(t,e.type,Pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function m0(t,e,n){(e!=="number"||Bf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gu=Array.isArray;function Ll(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function p0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(gu(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pa(n)}}function qj(t,e){var n=Pa(e.value),r=Pa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sh,Hj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sh=Sh||document.createElement("div"),Sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TO=["Webkit","ms","Moz","O"];Object.keys(ju).forEach(function(t){TO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ju[e]=ju[t]})});function Gj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ju.hasOwnProperty(t)&&ju[t]?(""+e).trim():e+"px"}function Yj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var kO=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v0(t,e){if(e){if(kO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function x0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y0=null;function Ty(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var w0=null,Fl=null,Vl=null;function yS(t){if(t=Md(t)){if(typeof w0!="function")throw Error(he(280));var e=t.stateNode;e&&(e=ip(e),w0(t.stateNode,t.type,e))}}function Kj(t){Fl?Vl?Vl.push(t):Vl=[t]:Fl=t}function Qj(){if(Fl){var t=Fl,e=Vl;if(Vl=Fl=null,yS(t),e)for(t=0;t<e.length;t++)yS(e[t])}}function Xj(t,e){return t(e)}function Zj(){}var Rg=!1;function Jj(t,e,n){if(Rg)return t(e,n);Rg=!0;try{return Xj(t,e,n)}finally{Rg=!1,(Fl!==null||Vl!==null)&&(Zj(),Qj())}}function Ku(t,e){var n=t.stateNode;if(n===null)return null;var r=ip(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var b0=!1;if(jo)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){b0=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{b0=!1}function PO(t,e,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Tu=!1,Uf=null,$f=!1,S0=null,IO={onError:function(t){Tu=!0,Uf=t}};function AO(t,e,n,r,s,o,i,l,c){Tu=!1,Uf=null,PO.apply(IO,arguments)}function RO(t,e,n,r,s,o,i,l,c){if(AO.apply(this,arguments),Tu){if(Tu){var u=Uf;Tu=!1,Uf=null}else throw Error(he(198));$f||($f=!0,S0=u)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wS(t){if(Zi(t)!==t)throw Error(he(188))}function DO(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return wS(s),t;if(o===r)return wS(s),e;o=o.sibling}throw Error(he(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function tT(t){return t=DO(t),t!==null?nT(t):null}function nT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nT(t);if(e!==null)return e;t=t.sibling}return null}var rT=qr.unstable_scheduleCallback,bS=qr.unstable_cancelCallback,MO=qr.unstable_shouldYield,OO=qr.unstable_requestPaint,en=qr.unstable_now,LO=qr.unstable_getCurrentPriorityLevel,ky=qr.unstable_ImmediatePriority,sT=qr.unstable_UserBlockingPriority,qf=qr.unstable_NormalPriority,FO=qr.unstable_LowPriority,oT=qr.unstable_IdlePriority,rp=null,Ws=null;function VO(t){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(rp,t,void 0,(t.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:UO,zO=Math.log,BO=Math.LN2;function UO(t){return t>>>=0,t===0?32:31-(zO(t)/BO|0)|0}var _h=64,Ch=4194304;function vu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=vu(l):(o&=i,o!==0&&(r=vu(o)))}else i=n&~s,i!==0?r=vu(i):o!==0&&(r=vu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bs(e),s=1<<n,r|=t[n],e&=~s;return r}function $O(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-bs(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=$O(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function _0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aT(){var t=_h;return _h<<=1,!(_h&4194240)&&(_h=64),t}function Dg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bs(e),t[e]=n}function WO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-bs(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Py(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Et=0;function iT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lT,Iy,cT,uT,dT,C0=!1,Nh=[],ma=null,pa=null,ga=null,Qu=new Map,Xu=new Map,oa=[],HO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SS(t,e){switch(t){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(e.pointerId)}}function eu(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Md(e),e!==null&&Iy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function GO(t,e,n,r,s){switch(e){case"focusin":return ma=eu(ma,t,e,n,r,s),!0;case"dragenter":return pa=eu(pa,t,e,n,r,s),!0;case"mouseover":return ga=eu(ga,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Qu.set(o,eu(Qu.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Xu.set(o,eu(Xu.get(o)||null,t,e,n,r,s)),!0}return!1}function hT(t){var e=vi(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=eT(n),e!==null){t.blockedOn=e,dT(t.priority,function(){cT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=N0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);y0=r,n.target.dispatchEvent(r),y0=null}else return e=Md(n),e!==null&&Iy(e),t.blockedOn=n,!1;e.shift()}return!0}function _S(t,e,n){hf(t)&&n.delete(e)}function YO(){C0=!1,ma!==null&&hf(ma)&&(ma=null),pa!==null&&hf(pa)&&(pa=null),ga!==null&&hf(ga)&&(ga=null),Qu.forEach(_S),Xu.forEach(_S)}function tu(t,e){t.blockedOn===e&&(t.blockedOn=null,C0||(C0=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,YO)))}function Zu(t){function e(s){return tu(s,t)}if(0<Nh.length){tu(Nh[0],t);for(var n=1;n<Nh.length;n++){var r=Nh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ma!==null&&tu(ma,t),pa!==null&&tu(pa,t),ga!==null&&tu(ga,t),Qu.forEach(e),Xu.forEach(e),n=0;n<oa.length;n++)r=oa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oa.length&&(n=oa[0],n.blockedOn===null);)hT(n),n.blockedOn===null&&oa.shift()}var zl=Vo.ReactCurrentBatchConfig,Hf=!0;function KO(t,e,n,r){var s=Et,o=zl.transition;zl.transition=null;try{Et=1,Ay(t,e,n,r)}finally{Et=s,zl.transition=o}}function QO(t,e,n,r){var s=Et,o=zl.transition;zl.transition=null;try{Et=4,Ay(t,e,n,r)}finally{Et=s,zl.transition=o}}function Ay(t,e,n,r){if(Hf){var s=N0(t,e,n,r);if(s===null)qg(t,e,r,Gf,n),SS(t,r);else if(GO(s,t,e,n,r))r.stopPropagation();else if(SS(t,r),e&4&&-1<HO.indexOf(t)){for(;s!==null;){var o=Md(s);if(o!==null&&lT(o),o=N0(t,e,n,r),o===null&&qg(t,e,r,Gf,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else qg(t,e,r,null,n)}}var Gf=null;function N0(t,e,n,r){if(Gf=null,t=Ty(r),t=vi(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gf=t,null}function fT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LO()){case ky:return 1;case sT:return 4;case qf:case FO:return 16;case oT:return 536870912;default:return 16}default:return 16}}var da=null,Ry=null,ff=null;function mT(){if(ff)return ff;var t,e=Ry,n=e.length,r,s="value"in da?da.value:da.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return ff=s.slice(t,1<r?1-r:void 0)}function mf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eh(){return!0}function CS(){return!1}function Gr(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Eh:CS,this.isPropagationStopped=CS,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),e}var _c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dy=Gr(_c),Dd=Wt({},_c,{view:0,detail:0}),XO=Gr(Dd),Mg,Og,nu,sp=Wt({},Dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:My,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nu&&(nu&&t.type==="mousemove"?(Mg=t.screenX-nu.screenX,Og=t.screenY-nu.screenY):Og=Mg=0,nu=t),Mg)},movementY:function(t){return"movementY"in t?t.movementY:Og}}),NS=Gr(sp),ZO=Wt({},sp,{dataTransfer:0}),JO=Gr(ZO),eL=Wt({},Dd,{relatedTarget:0}),Lg=Gr(eL),tL=Wt({},_c,{animationName:0,elapsedTime:0,pseudoElement:0}),nL=Gr(tL),rL=Wt({},_c,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sL=Gr(rL),oL=Wt({},_c,{data:0}),ES=Gr(oL),aL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lL[t])?!!e[t]:!1}function My(){return cL}var uL=Wt({},Dd,{key:function(t){if(t.key){var e=aL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:My,charCode:function(t){return t.type==="keypress"?mf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dL=Gr(uL),hL=Wt({},sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jS=Gr(hL),fL=Wt({},Dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:My}),mL=Gr(fL),pL=Wt({},_c,{propertyName:0,elapsedTime:0,pseudoElement:0}),gL=Gr(pL),vL=Wt({},sp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xL=Gr(vL),yL=[9,13,27,32],Oy=jo&&"CompositionEvent"in window,ku=null;jo&&"documentMode"in document&&(ku=document.documentMode);var wL=jo&&"TextEvent"in window&&!ku,pT=jo&&(!Oy||ku&&8<ku&&11>=ku),TS=String.fromCharCode(32),kS=!1;function gT(t,e){switch(t){case"keyup":return yL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bl=!1;function bL(t,e){switch(t){case"compositionend":return vT(e);case"keypress":return e.which!==32?null:(kS=!0,TS);case"textInput":return t=e.data,t===TS&&kS?null:t;default:return null}}function SL(t,e){if(bl)return t==="compositionend"||!Oy&&gT(t,e)?(t=mT(),ff=Ry=da=null,bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pT&&e.locale!=="ko"?null:e.data;default:return null}}var _L={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_L[t.type]:e==="textarea"}function xT(t,e,n,r){Kj(r),e=Yf(e,"onChange"),0<e.length&&(n=new Dy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pu=null,Ju=null;function CL(t){kT(t,0)}function op(t){var e=Cl(t);if(Uj(e))return t}function NL(t,e){if(t==="change")return e}var yT=!1;if(jo){var Fg;if(jo){var Vg="oninput"in document;if(!Vg){var IS=document.createElement("div");IS.setAttribute("oninput","return;"),Vg=typeof IS.oninput=="function"}Fg=Vg}else Fg=!1;yT=Fg&&(!document.documentMode||9<document.documentMode)}function AS(){Pu&&(Pu.detachEvent("onpropertychange",wT),Ju=Pu=null)}function wT(t){if(t.propertyName==="value"&&op(Ju)){var e=[];xT(e,Ju,t,Ty(t)),Jj(CL,e)}}function EL(t,e,n){t==="focusin"?(AS(),Pu=e,Ju=n,Pu.attachEvent("onpropertychange",wT)):t==="focusout"&&AS()}function jL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return op(Ju)}function TL(t,e){if(t==="click")return op(e)}function kL(t,e){if(t==="input"||t==="change")return op(e)}function PL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ns=typeof Object.is=="function"?Object.is:PL;function ed(t,e){if(Ns(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!i0.call(e,s)||!Ns(t[s],e[s]))return!1}return!0}function RS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DS(t,e){var n=RS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RS(n)}}function bT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ST(){for(var t=window,e=Bf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bf(t.document)}return e}function Ly(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IL(t){var e=ST(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bT(n.ownerDocument.documentElement,n)){if(r!==null&&Ly(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=DS(n,o);var i=DS(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AL=jo&&"documentMode"in document&&11>=document.documentMode,Sl=null,E0=null,Iu=null,j0=!1;function MS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;j0||Sl==null||Sl!==Bf(r)||(r=Sl,"selectionStart"in r&&Ly(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Iu&&ed(Iu,r)||(Iu=r,r=Yf(E0,"onSelect"),0<r.length&&(e=new Dy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sl)))}function jh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _l={animationend:jh("Animation","AnimationEnd"),animationiteration:jh("Animation","AnimationIteration"),animationstart:jh("Animation","AnimationStart"),transitionend:jh("Transition","TransitionEnd")},zg={},_T={};jo&&(_T=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function ap(t){if(zg[t])return zg[t];if(!_l[t])return t;var e=_l[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _T)return zg[t]=e[n];return t}var CT=ap("animationend"),NT=ap("animationiteration"),ET=ap("animationstart"),jT=ap("transitionend"),TT=new Map,OS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(t,e){TT.set(t,e),Xi(e,[t])}for(var Bg=0;Bg<OS.length;Bg++){var Ug=OS[Bg],RL=Ug.toLowerCase(),DL=Ug[0].toUpperCase()+Ug.slice(1);Wa(RL,"on"+DL)}Wa(CT,"onAnimationEnd");Wa(NT,"onAnimationIteration");Wa(ET,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(jT,"onTransitionEnd");Xl("onMouseEnter",["mouseout","mouseover"]);Xl("onMouseLeave",["mouseout","mouseover"]);Xl("onPointerEnter",["pointerout","pointerover"]);Xl("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ML=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function LS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RO(r,e,void 0,t),t.currentTarget=null}function kT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;LS(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;LS(s,l,u),o=c}}}if($f)throw t=S0,$f=!1,S0=null,t}function Mt(t,e){var n=e[A0];n===void 0&&(n=e[A0]=new Set);var r=t+"__bubble";n.has(r)||(PT(e,t,2,!1),n.add(r))}function $g(t,e,n){var r=0;e&&(r|=4),PT(n,t,r,e)}var Th="_reactListening"+Math.random().toString(36).slice(2);function td(t){if(!t[Th]){t[Th]=!0,Lj.forEach(function(n){n!=="selectionchange"&&(ML.has(n)||$g(n,!1,t),$g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Th]||(e[Th]=!0,$g("selectionchange",!1,e))}}function PT(t,e,n,r){switch(fT(e)){case 1:var s=KO;break;case 4:s=QO;break;default:s=Ay}n=s.bind(null,e,n,t),s=void 0,!b0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qg(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=vi(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Jj(function(){var u=o,d=Ty(n),f=[];e:{var m=TT.get(t);if(m!==void 0){var p=Dy,y=t;switch(t){case"keypress":if(mf(n)===0)break e;case"keydown":case"keyup":p=dL;break;case"focusin":y="focus",p=Lg;break;case"focusout":y="blur",p=Lg;break;case"beforeblur":case"afterblur":p=Lg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=NS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mL;break;case CT:case NT:case ET:p=nL;break;case jT:p=gL;break;case"scroll":p=XO;break;case"wheel":p=xL;break;case"copy":case"cut":case"paste":p=sL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jS}var x=(e&4)!==0,_=!x&&t==="scroll",S=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,b;v!==null;){b=v;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,S!==null&&(T=Ku(v,S),T!=null&&x.push(nd(v,T,b)))),_)break;v=v.return}0<x.length&&(m=new p(m,y,null,n,d),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==y0&&(y=n.relatedTarget||n.fromElement)&&(vi(y)||y[To]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?vi(y):null,y!==null&&(_=Zi(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=NS,T="onMouseLeave",S="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=jS,T="onPointerLeave",S="onPointerEnter",v="pointer"),_=p==null?m:Cl(p),b=y==null?m:Cl(y),m=new x(T,v+"leave",p,n,d),m.target=_,m.relatedTarget=b,T=null,vi(d)===u&&(x=new x(S,v+"enter",y,n,d),x.target=b,x.relatedTarget=_,T=x),_=T,p&&y)t:{for(x=p,S=y,v=0,b=x;b;b=ll(b))v++;for(b=0,T=S;T;T=ll(T))b++;for(;0<v-b;)x=ll(x),v--;for(;0<b-v;)S=ll(S),b--;for(;v--;){if(x===S||S!==null&&x===S.alternate)break t;x=ll(x),S=ll(S)}x=null}else x=null;p!==null&&FS(f,m,p,x,!1),y!==null&&_!==null&&FS(f,_,y,x,!0)}}e:{if(m=u?Cl(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var R=NL;else if(PS(m))if(yT)R=kL;else{R=jL;var L=EL}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=TL);if(R&&(R=R(t,u))){xT(f,R,n,d);break e}L&&L(t,m,u),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&m0(m,"number",m.value)}switch(L=u?Cl(u):window,t){case"focusin":(PS(L)||L.contentEditable==="true")&&(Sl=L,E0=u,Iu=null);break;case"focusout":Iu=E0=Sl=null;break;case"mousedown":j0=!0;break;case"contextmenu":case"mouseup":case"dragend":j0=!1,MS(f,n,d);break;case"selectionchange":if(AL)break;case"keydown":case"keyup":MS(f,n,d)}var C;if(Oy)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else bl?gT(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(pT&&n.locale!=="ko"&&(bl||N!=="onCompositionStart"?N==="onCompositionEnd"&&bl&&(C=mT()):(da=d,Ry="value"in da?da.value:da.textContent,bl=!0)),L=Yf(u,N),0<L.length&&(N=new ES(N,t,null,n,d),f.push({event:N,listeners:L}),C?N.data=C:(C=vT(n),C!==null&&(N.data=C)))),(C=wL?bL(t,n):SL(t,n))&&(u=Yf(u,"onBeforeInput"),0<u.length&&(d=new ES("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}kT(f,e)})}function nd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ku(t,n),o!=null&&r.unshift(nd(t,o,s)),o=Ku(t,e),o!=null&&r.push(nd(t,o,s))),t=t.return}return r}function ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FS(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ku(n,o),c!=null&&i.unshift(nd(n,c,l))):s||(c=Ku(n,o),c!=null&&i.push(nd(n,c,l)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var OL=/\r\n?/g,LL=/\u0000|\uFFFD/g;function VS(t){return(typeof t=="string"?t:""+t).replace(OL,`
`).replace(LL,"")}function kh(t,e,n){if(e=VS(e),VS(t)!==e&&n)throw Error(he(425))}function Kf(){}var T0=null,k0=null;function P0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var I0=typeof setTimeout=="function"?setTimeout:void 0,FL=typeof clearTimeout=="function"?clearTimeout:void 0,zS=typeof Promise=="function"?Promise:void 0,VL=typeof queueMicrotask=="function"?queueMicrotask:typeof zS<"u"?function(t){return zS.resolve(null).then(t).catch(zL)}:I0;function zL(t){setTimeout(function(){throw t})}function Wg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Zu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zu(e)}function va(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function BS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),zs="__reactFiber$"+Cc,rd="__reactProps$"+Cc,To="__reactContainer$"+Cc,A0="__reactEvents$"+Cc,BL="__reactListeners$"+Cc,UL="__reactHandles$"+Cc;function vi(t){var e=t[zs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[To]||n[zs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=BS(t);t!==null;){if(n=t[zs])return n;t=BS(t)}return e}t=n,n=t.parentNode}return null}function Md(t){return t=t[zs]||t[To],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function ip(t){return t[rd]||null}var R0=[],Nl=-1;function Ha(t){return{current:t}}function Lt(t){0>Nl||(t.current=R0[Nl],R0[Nl]=null,Nl--)}function Pt(t,e){Nl++,R0[Nl]=t.current,t.current=e}var Ia={},rr=Ha(Ia),Cr=Ha(!1),Ri=Ia;function Zl(t,e){var n=t.type.contextTypes;if(!n)return Ia;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Nr(t){return t=t.childContextTypes,t!=null}function Qf(){Lt(Cr),Lt(rr)}function US(t,e,n){if(rr.current!==Ia)throw Error(he(168));Pt(rr,e),Pt(Cr,n)}function IT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(he(108,EO(t)||"Unknown",s));return Wt({},n,r)}function Xf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ia,Ri=rr.current,Pt(rr,t),Pt(Cr,Cr.current),!0}function $S(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=IT(t,e,Ri),r.__reactInternalMemoizedMergedChildContext=t,Lt(Cr),Lt(rr),Pt(rr,t)):Lt(Cr),Pt(Cr,n)}var fo=null,lp=!1,Hg=!1;function AT(t){fo===null?fo=[t]:fo.push(t)}function $L(t){lp=!0,AT(t)}function Ga(){if(!Hg&&fo!==null){Hg=!0;var t=0,e=Et;try{var n=fo;for(Et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fo=null,lp=!1}catch(s){throw fo!==null&&(fo=fo.slice(t+1)),rT(ky,Ga),s}finally{Et=e,Hg=!1}}return null}var El=[],jl=0,Zf=null,Jf=0,Zr=[],Jr=0,Di=null,mo=1,po="";function ci(t,e){El[jl++]=Jf,El[jl++]=Zf,Zf=t,Jf=e}function RT(t,e,n){Zr[Jr++]=mo,Zr[Jr++]=po,Zr[Jr++]=Di,Di=t;var r=mo;t=po;var s=32-bs(r)-1;r&=~(1<<s),n+=1;var o=32-bs(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,mo=1<<32-bs(e)+s|n<<s|r,po=o+t}else mo=1<<o|n<<s|r,po=t}function Fy(t){t.return!==null&&(ci(t,1),RT(t,1,0))}function Vy(t){for(;t===Zf;)Zf=El[--jl],El[jl]=null,Jf=El[--jl],El[jl]=null;for(;t===Di;)Di=Zr[--Jr],Zr[Jr]=null,po=Zr[--Jr],Zr[Jr]=null,mo=Zr[--Jr],Zr[Jr]=null}var Br=null,Fr=null,zt=!1,xs=null;function DT(t,e){var n=ts(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Br=t,Fr=va(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Br=t,Fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Di!==null?{id:mo,overflow:po}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ts(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Br=t,Fr=null,!0):!1;default:return!1}}function D0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function M0(t){if(zt){var e=Fr;if(e){var n=e;if(!qS(t,e)){if(D0(t))throw Error(he(418));e=va(n.nextSibling);var r=Br;e&&qS(t,e)?DT(r,n):(t.flags=t.flags&-4097|2,zt=!1,Br=t)}}else{if(D0(t))throw Error(he(418));t.flags=t.flags&-4097|2,zt=!1,Br=t}}}function WS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Br=t}function Ph(t){if(t!==Br)return!1;if(!zt)return WS(t),zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!P0(t.type,t.memoizedProps)),e&&(e=Fr)){if(D0(t))throw MT(),Error(he(418));for(;e;)DT(t,e),e=va(e.nextSibling)}if(WS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fr=va(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fr=null}}else Fr=Br?va(t.stateNode.nextSibling):null;return!0}function MT(){for(var t=Fr;t;)t=va(t.nextSibling)}function Jl(){Fr=Br=null,zt=!1}function zy(t){xs===null?xs=[t]:xs.push(t)}var qL=Vo.ReactCurrentBatchConfig;function ru(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function Ih(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function HS(t){var e=t._init;return e(t._payload)}function OT(t){function e(S,v){if(t){var b=S.deletions;b===null?(S.deletions=[v],S.flags|=16):b.push(v)}}function n(S,v){if(!t)return null;for(;v!==null;)e(S,v),v=v.sibling;return null}function r(S,v){for(S=new Map;v!==null;)v.key!==null?S.set(v.key,v):S.set(v.index,v),v=v.sibling;return S}function s(S,v){return S=ba(S,v),S.index=0,S.sibling=null,S}function o(S,v,b){return S.index=b,t?(b=S.alternate,b!==null?(b=b.index,b<v?(S.flags|=2,v):b):(S.flags|=2,v)):(S.flags|=1048576,v)}function i(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,v,b,T){return v===null||v.tag!==6?(v=Jg(b,S.mode,T),v.return=S,v):(v=s(v,b),v.return=S,v)}function c(S,v,b,T){var R=b.type;return R===wl?d(S,v,b.props.children,T,b.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ta&&HS(R)===v.type)?(T=s(v,b.props),T.ref=ru(S,v,b),T.return=S,T):(T=bf(b.type,b.key,b.props,null,S.mode,T),T.ref=ru(S,v,b),T.return=S,T)}function u(S,v,b,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=ev(b,S.mode,T),v.return=S,v):(v=s(v,b.children||[]),v.return=S,v)}function d(S,v,b,T,R){return v===null||v.tag!==7?(v=Ni(b,S.mode,T,R),v.return=S,v):(v=s(v,b),v.return=S,v)}function f(S,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Jg(""+v,S.mode,b),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wh:return b=bf(v.type,v.key,v.props,null,S.mode,b),b.ref=ru(S,null,v),b.return=S,b;case yl:return v=ev(v,S.mode,b),v.return=S,v;case ta:var T=v._init;return f(S,T(v._payload),b)}if(gu(v)||Zc(v))return v=Ni(v,S.mode,b,null),v.return=S,v;Ih(S,v)}return null}function m(S,v,b,T){var R=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:l(S,v,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wh:return b.key===R?c(S,v,b,T):null;case yl:return b.key===R?u(S,v,b,T):null;case ta:return R=b._init,m(S,v,R(b._payload),T)}if(gu(b)||Zc(b))return R!==null?null:d(S,v,b,T,null);Ih(S,b)}return null}function p(S,v,b,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return S=S.get(b)||null,l(v,S,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wh:return S=S.get(T.key===null?b:T.key)||null,c(v,S,T,R);case yl:return S=S.get(T.key===null?b:T.key)||null,u(v,S,T,R);case ta:var L=T._init;return p(S,v,b,L(T._payload),R)}if(gu(T)||Zc(T))return S=S.get(b)||null,d(v,S,T,R,null);Ih(v,T)}return null}function y(S,v,b,T){for(var R=null,L=null,C=v,N=v=0,P=null;C!==null&&N<b.length;N++){C.index>N?(P=C,C=null):P=C.sibling;var I=m(S,C,b[N],T);if(I===null){C===null&&(C=P);break}t&&C&&I.alternate===null&&e(S,C),v=o(I,v,N),L===null?R=I:L.sibling=I,L=I,C=P}if(N===b.length)return n(S,C),zt&&ci(S,N),R;if(C===null){for(;N<b.length;N++)C=f(S,b[N],T),C!==null&&(v=o(C,v,N),L===null?R=C:L.sibling=C,L=C);return zt&&ci(S,N),R}for(C=r(S,C);N<b.length;N++)P=p(C,S,N,b[N],T),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?N:P.key),v=o(P,v,N),L===null?R=P:L.sibling=P,L=P);return t&&C.forEach(function(k){return e(S,k)}),zt&&ci(S,N),R}function x(S,v,b,T){var R=Zc(b);if(typeof R!="function")throw Error(he(150));if(b=R.call(b),b==null)throw Error(he(151));for(var L=R=null,C=v,N=v=0,P=null,I=b.next();C!==null&&!I.done;N++,I=b.next()){C.index>N?(P=C,C=null):P=C.sibling;var k=m(S,C,I.value,T);if(k===null){C===null&&(C=P);break}t&&C&&k.alternate===null&&e(S,C),v=o(k,v,N),L===null?R=k:L.sibling=k,L=k,C=P}if(I.done)return n(S,C),zt&&ci(S,N),R;if(C===null){for(;!I.done;N++,I=b.next())I=f(S,I.value,T),I!==null&&(v=o(I,v,N),L===null?R=I:L.sibling=I,L=I);return zt&&ci(S,N),R}for(C=r(S,C);!I.done;N++,I=b.next())I=p(C,S,N,I.value,T),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?N:I.key),v=o(I,v,N),L===null?R=I:L.sibling=I,L=I);return t&&C.forEach(function(j){return e(S,j)}),zt&&ci(S,N),R}function _(S,v,b,T){if(typeof b=="object"&&b!==null&&b.type===wl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wh:e:{for(var R=b.key,L=v;L!==null;){if(L.key===R){if(R=b.type,R===wl){if(L.tag===7){n(S,L.sibling),v=s(L,b.props.children),v.return=S,S=v;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ta&&HS(R)===L.type){n(S,L.sibling),v=s(L,b.props),v.ref=ru(S,L,b),v.return=S,S=v;break e}n(S,L);break}else e(S,L);L=L.sibling}b.type===wl?(v=Ni(b.props.children,S.mode,T,b.key),v.return=S,S=v):(T=bf(b.type,b.key,b.props,null,S.mode,T),T.ref=ru(S,v,b),T.return=S,S=T)}return i(S);case yl:e:{for(L=b.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(S,v.sibling),v=s(v,b.children||[]),v.return=S,S=v;break e}else{n(S,v);break}else e(S,v);v=v.sibling}v=ev(b,S.mode,T),v.return=S,S=v}return i(S);case ta:return L=b._init,_(S,v,L(b._payload),T)}if(gu(b))return y(S,v,b,T);if(Zc(b))return x(S,v,b,T);Ih(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(S,v.sibling),v=s(v,b),v.return=S,S=v):(n(S,v),v=Jg(b,S.mode,T),v.return=S,S=v),i(S)):n(S,v)}return _}var ec=OT(!0),LT=OT(!1),em=Ha(null),tm=null,Tl=null,By=null;function Uy(){By=Tl=tm=null}function $y(t){var e=em.current;Lt(em),t._currentValue=e}function O0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bl(t,e){tm=t,By=Tl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sr=!0),t.firstContext=null)}function is(t){var e=t._currentValue;if(By!==t)if(t={context:t,memoizedValue:e,next:null},Tl===null){if(tm===null)throw Error(he(308));Tl=t,tm.dependencies={lanes:0,firstContext:t}}else Tl=Tl.next=t;return e}var xi=null;function qy(t){xi===null?xi=[t]:xi.push(t)}function FT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,qy(e)):(n.next=s.next,s.next=n),e.interleaved=n,ko(t,r)}function ko(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var na=!1;function Wy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function So(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,bt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ko(t,n)}return s=r.interleaved,s===null?(e.next=e,qy(r)):(e.next=s.next,s.next=e),r.interleaved=e,ko(t,n)}function pf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Py(t,n)}}function GS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nm(t,e,n,r){var s=t.updateQueue;na=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,x=l;switch(m=e,p=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(p,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(p,f,m):y,m==null)break e;f=Wt({},f,m);break e;case 2:na=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Oi|=i,t.lanes=i,t.memoizedState=f}}function YS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(he(191,s));s.call(r)}}}var Od={},Hs=Ha(Od),sd=Ha(Od),od=Ha(Od);function yi(t){if(t===Od)throw Error(he(174));return t}function Hy(t,e){switch(Pt(od,e),Pt(sd,t),Pt(Hs,Od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g0(e,t)}Lt(Hs),Pt(Hs,e)}function tc(){Lt(Hs),Lt(sd),Lt(od)}function zT(t){yi(od.current);var e=yi(Hs.current),n=g0(e,t.type);e!==n&&(Pt(sd,t),Pt(Hs,n))}function Gy(t){sd.current===t&&(Lt(Hs),Lt(sd))}var Ut=Ha(0);function rm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gg=[];function Yy(){for(var t=0;t<Gg.length;t++)Gg[t]._workInProgressVersionPrimary=null;Gg.length=0}var gf=Vo.ReactCurrentDispatcher,Yg=Vo.ReactCurrentBatchConfig,Mi=0,qt=null,xn=null,In=null,sm=!1,Au=!1,ad=0,WL=0;function Gn(){throw Error(he(321))}function Ky(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ns(t[n],e[n]))return!1;return!0}function Qy(t,e,n,r,s,o){if(Mi=o,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gf.current=t===null||t.memoizedState===null?KL:QL,t=n(r,s),Au){o=0;do{if(Au=!1,ad=0,25<=o)throw Error(he(301));o+=1,In=xn=null,e.updateQueue=null,gf.current=XL,t=n(r,s)}while(Au)}if(gf.current=om,e=xn!==null&&xn.next!==null,Mi=0,In=xn=qt=null,sm=!1,e)throw Error(he(300));return t}function Xy(){var t=ad!==0;return ad=0,t}function Os(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?qt.memoizedState=In=t:In=In.next=t,In}function ls(){if(xn===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var e=In===null?qt.memoizedState:In.next;if(e!==null)In=e,xn=t;else{if(t===null)throw Error(he(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},In===null?qt.memoizedState=In=t:In=In.next=t}return In}function id(t,e){return typeof e=="function"?e(t):e}function Kg(t){var e=ls(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=xn,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Mi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,qt.lanes|=d,Oi|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,Ns(r,e.memoizedState)||(Sr=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,qt.lanes|=o,Oi|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qg(t){var e=ls(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Ns(o,e.memoizedState)||(Sr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function BT(){}function UT(t,e){var n=qt,r=ls(),s=e(),o=!Ns(r.memoizedState,s);if(o&&(r.memoizedState=s,Sr=!0),r=r.queue,Zy(WT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||In!==null&&In.memoizedState.tag&1){if(n.flags|=2048,ld(9,qT.bind(null,n,r,s,e),void 0,null),Dn===null)throw Error(he(349));Mi&30||$T(n,e,s)}return s}function $T(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qT(t,e,n,r){e.value=n,e.getSnapshot=r,HT(e)&&GT(t)}function WT(t,e,n){return n(function(){HT(e)&&GT(t)})}function HT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ns(t,n)}catch{return!0}}function GT(t){var e=ko(t,1);e!==null&&Ss(e,t,1,-1)}function KS(t){var e=Os();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},e.queue=t,t=t.dispatch=YL.bind(null,qt,t),[e.memoizedState,t]}function ld(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YT(){return ls().memoizedState}function vf(t,e,n,r){var s=Os();qt.flags|=t,s.memoizedState=ld(1|e,n,void 0,r===void 0?null:r)}function cp(t,e,n,r){var s=ls();r=r===void 0?null:r;var o=void 0;if(xn!==null){var i=xn.memoizedState;if(o=i.destroy,r!==null&&Ky(r,i.deps)){s.memoizedState=ld(e,n,o,r);return}}qt.flags|=t,s.memoizedState=ld(1|e,n,o,r)}function QS(t,e){return vf(8390656,8,t,e)}function Zy(t,e){return cp(2048,8,t,e)}function KT(t,e){return cp(4,2,t,e)}function QT(t,e){return cp(4,4,t,e)}function XT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZT(t,e,n){return n=n!=null?n.concat([t]):null,cp(4,4,XT.bind(null,e,t),n)}function Jy(){}function JT(t,e){var n=ls();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ky(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ek(t,e){var n=ls();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ky(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tk(t,e,n){return Mi&21?(Ns(n,e)||(n=aT(),qt.lanes|=n,Oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sr=!0),t.memoizedState=n)}function HL(t,e){var n=Et;Et=n!==0&&4>n?n:4,t(!0);var r=Yg.transition;Yg.transition={};try{t(!1),e()}finally{Et=n,Yg.transition=r}}function nk(){return ls().memoizedState}function GL(t,e,n){var r=wa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rk(t))sk(e,n);else if(n=FT(t,e,n,r),n!==null){var s=dr();Ss(n,t,r,s),ok(n,e,r)}}function YL(t,e,n){var r=wa(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rk(t))sk(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,Ns(l,i)){var c=e.interleaved;c===null?(s.next=s,qy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=FT(t,e,s,r),n!==null&&(s=dr(),Ss(n,t,r,s),ok(n,e,r))}}function rk(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function sk(t,e){Au=sm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ok(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Py(t,n)}}var om={readContext:is,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},KL={readContext:is,useCallback:function(t,e){return Os().memoizedState=[t,e===void 0?null:e],t},useContext:is,useEffect:QS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vf(4194308,4,XT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vf(4194308,4,t,e)},useInsertionEffect:function(t,e){return vf(4,2,t,e)},useMemo:function(t,e){var n=Os();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Os();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GL.bind(null,qt,t),[r.memoizedState,t]},useRef:function(t){var e=Os();return t={current:t},e.memoizedState=t},useState:KS,useDebugValue:Jy,useDeferredValue:function(t){return Os().memoizedState=t},useTransition:function(){var t=KS(!1),e=t[0];return t=HL.bind(null,t[1]),Os().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qt,s=Os();if(zt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Dn===null)throw Error(he(349));Mi&30||$T(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,QS(WT.bind(null,r,o,t),[t]),r.flags|=2048,ld(9,qT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Os(),e=Dn.identifierPrefix;if(zt){var n=po,r=mo;n=(r&~(1<<32-bs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ad++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QL={readContext:is,useCallback:JT,useContext:is,useEffect:Zy,useImperativeHandle:ZT,useInsertionEffect:KT,useLayoutEffect:QT,useMemo:ek,useReducer:Kg,useRef:YT,useState:function(){return Kg(id)},useDebugValue:Jy,useDeferredValue:function(t){var e=ls();return tk(e,xn.memoizedState,t)},useTransition:function(){var t=Kg(id)[0],e=ls().memoizedState;return[t,e]},useMutableSource:BT,useSyncExternalStore:UT,useId:nk,unstable_isNewReconciler:!1},XL={readContext:is,useCallback:JT,useContext:is,useEffect:Zy,useImperativeHandle:ZT,useInsertionEffect:KT,useLayoutEffect:QT,useMemo:ek,useReducer:Qg,useRef:YT,useState:function(){return Qg(id)},useDebugValue:Jy,useDeferredValue:function(t){var e=ls();return xn===null?e.memoizedState=t:tk(e,xn.memoizedState,t)},useTransition:function(){var t=Qg(id)[0],e=ls().memoizedState;return[t,e]},useMutableSource:BT,useSyncExternalStore:UT,useId:nk,unstable_isNewReconciler:!1};function gs(t,e){if(t&&t.defaultProps){e=Wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function L0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var up={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dr(),s=wa(t),o=So(r,s);o.payload=e,n!=null&&(o.callback=n),e=xa(t,o,s),e!==null&&(Ss(e,t,s,r),pf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dr(),s=wa(t),o=So(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=xa(t,o,s),e!==null&&(Ss(e,t,s,r),pf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dr(),r=wa(t),s=So(n,r);s.tag=2,e!=null&&(s.callback=e),e=xa(t,s,r),e!==null&&(Ss(e,t,r,n),pf(e,t,r))}};function XS(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!ed(n,r)||!ed(s,o):!0}function ak(t,e,n){var r=!1,s=Ia,o=e.contextType;return typeof o=="object"&&o!==null?o=is(o):(s=Nr(e)?Ri:rr.current,r=e.contextTypes,o=(r=r!=null)?Zl(t,s):Ia),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=up,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function ZS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&up.enqueueReplaceState(e,e.state,null)}function F0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Wy(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=is(o):(o=Nr(e)?Ri:rr.current,s.context=Zl(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(L0(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&up.enqueueReplaceState(s,s.state,null),nm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function nc(t,e){try{var n="",r=e;do n+=NO(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Xg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function V0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZL=typeof WeakMap=="function"?WeakMap:Map;function ik(t,e,n){n=So(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){im||(im=!0,K0=r),V0(t,e)},n}function lk(t,e,n){n=So(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){V0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){V0(t,e),typeof r!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function JS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=h3.bind(null,t,e,n),e.then(t,t))}function e_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=So(-1,1),e.tag=2,xa(n,e,1))),n.lanes|=1),t)}var JL=Vo.ReactCurrentOwner,Sr=!1;function cr(t,e,n,r){e.child=t===null?LT(e,null,n,r):ec(e,t.child,n,r)}function n_(t,e,n,r,s){n=n.render;var o=e.ref;return Bl(e,s),r=Qy(t,e,n,r,o,s),n=Xy(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Po(t,e,s)):(zt&&n&&Fy(e),e.flags|=1,cr(t,e,r,s),e.child)}function r_(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!iw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ck(t,e,o,r,s)):(t=bf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ed,n(i,r)&&t.ref===e.ref)return Po(t,e,s)}return e.flags|=1,t=ba(o,r),t.ref=e.ref,t.return=e,e.child=t}function ck(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(ed(o,r)&&t.ref===e.ref)if(Sr=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Sr=!0);else return e.lanes=t.lanes,Po(t,e,s)}return z0(t,e,n,r,s)}function uk(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Pl,Or),Or|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(Pl,Or),Or|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pt(Pl,Or),Or|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pt(Pl,Or),Or|=r;return cr(t,e,s,n),e.child}function dk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function z0(t,e,n,r,s){var o=Nr(n)?Ri:rr.current;return o=Zl(e,o),Bl(e,s),n=Qy(t,e,n,r,o,s),r=Xy(),t!==null&&!Sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Po(t,e,s)):(zt&&r&&Fy(e),e.flags|=1,cr(t,e,n,s),e.child)}function s_(t,e,n,r,s){if(Nr(n)){var o=!0;Xf(e)}else o=!1;if(Bl(e,s),e.stateNode===null)xf(t,e),ak(e,n,r),F0(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=is(u):(u=Nr(n)?Ri:rr.current,u=Zl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ZS(e,i,r,u),na=!1;var m=e.memoizedState;i.state=m,nm(e,r,i,s),c=e.memoizedState,l!==r||m!==c||Cr.current||na?(typeof d=="function"&&(L0(e,n,d,r),c=e.memoizedState),(l=na||XS(e,n,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,VT(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:gs(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=is(c):(c=Nr(n)?Ri:rr.current,c=Zl(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&ZS(e,i,r,c),na=!1,m=e.memoizedState,i.state=m,nm(e,r,i,s);var y=e.memoizedState;l!==f||m!==y||Cr.current||na?(typeof p=="function"&&(L0(e,n,p,r),y=e.memoizedState),(u=na||XS(e,n,u,r,m,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return B0(t,e,n,r,o,s)}function B0(t,e,n,r,s,o){dk(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&$S(e,n,!1),Po(t,e,o);r=e.stateNode,JL.current=e;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=ec(e,t.child,null,o),e.child=ec(e,null,l,o)):cr(t,e,l,o),e.memoizedState=r.state,s&&$S(e,n,!0),e.child}function hk(t){var e=t.stateNode;e.pendingContext?US(t,e.pendingContext,e.pendingContext!==e.context):e.context&&US(t,e.context,!1),Hy(t,e.containerInfo)}function o_(t,e,n,r,s){return Jl(),zy(s),e.flags|=256,cr(t,e,n,r),e.child}var U0={dehydrated:null,treeContext:null,retryLane:0};function $0(t){return{baseLanes:t,cachePool:null,transitions:null}}function fk(t,e,n){var r=e.pendingProps,s=Ut.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pt(Ut,s&1),t===null)return M0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=fp(i,r,0,null),t=Ni(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=$0(n),e.memoizedState=U0,t):ew(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return e3(t,e,i,r,l,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ba(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=ba(l,o):(o=Ni(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?$0(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=U0,r}return o=t.child,t=o.sibling,r=ba(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ew(t,e){return e=fp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,n,r){return r!==null&&zy(r),ec(e,t.child,null,n),t=ew(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function e3(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Xg(Error(he(422))),Ah(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=fp({mode:"visible",children:r.children},s,0,null),o=Ni(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ec(e,t.child,null,i),e.child.memoizedState=$0(i),e.memoizedState=U0,o);if(!(e.mode&1))return Ah(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(he(419)),r=Xg(o,r,void 0),Ah(t,e,i,r)}if(l=(i&t.childLanes)!==0,Sr||l){if(r=Dn,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ko(t,s),Ss(r,t,s,-1))}return aw(),r=Xg(Error(he(421))),Ah(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=f3.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Fr=va(s.nextSibling),Br=e,zt=!0,xs=null,t!==null&&(Zr[Jr++]=mo,Zr[Jr++]=po,Zr[Jr++]=Di,mo=t.id,po=t.overflow,Di=e),e=ew(e,r.children),e.flags|=4096,e)}function a_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),O0(t.return,e,n)}function Zg(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function mk(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(cr(t,e,r.children,n),r=Ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a_(t,n,e);else if(t.tag===19)a_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(Ut,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&rm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zg(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&rm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zg(e,!0,n,null,o);break;case"together":Zg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Po(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=ba(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ba(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function t3(t,e,n){switch(e.tag){case 3:hk(e),Jl();break;case 5:zT(e);break;case 1:Nr(e.type)&&Xf(e);break;case 4:Hy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pt(em,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Ut,Ut.current&1),e.flags|=128,null):n&e.child.childLanes?fk(t,e,n):(Pt(Ut,Ut.current&1),t=Po(t,e,n),t!==null?t.sibling:null);Pt(Ut,Ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pt(Ut,Ut.current),r)break;return null;case 22:case 23:return e.lanes=0,uk(t,e,n)}return Po(t,e,n)}var pk,q0,gk,vk;pk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q0=function(){};gk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,yi(Hs.current);var o=null;switch(n){case"input":s=h0(t,s),r=h0(t,r),o=[];break;case"select":s=Wt({},s,{value:void 0}),r=Wt({},r,{value:void 0}),o=[];break;case"textarea":s=p0(t,s),r=p0(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kf)}v0(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mt("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};vk=function(t,e,n,r){n!==r&&(e.flags|=4)};function su(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function n3(t,e,n){var r=e.pendingProps;switch(Vy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return Nr(e.type)&&Qf(),Yn(e),null;case 3:return r=e.stateNode,tc(),Lt(Cr),Lt(rr),Yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ph(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xs!==null&&(Z0(xs),xs=null))),q0(t,e),Yn(e),null;case 5:Gy(e);var s=yi(od.current);if(n=e.type,t!==null&&e.stateNode!=null)gk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return Yn(e),null}if(t=yi(Hs.current),Ph(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[zs]=e,r[rd]=o,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(s=0;s<xu.length;s++)Mt(xu[s],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":pS(r,o),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Mt("invalid",r);break;case"textarea":vS(r,o),Mt("invalid",r)}v0(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&kh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&kh(r.textContent,l,t),s=["children",""+l]):Gu.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Mt("scroll",r)}switch(n){case"input":bh(r),gS(r,o,!0);break;case"textarea":bh(r),xS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Kf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[zs]=e,t[rd]=r,pk(t,e,!1,!1),e.stateNode=t;e:{switch(i=x0(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),s=r;break;case"iframe":case"object":case"embed":Mt("load",t),s=r;break;case"video":case"audio":for(s=0;s<xu.length;s++)Mt(xu[s],t);s=r;break;case"source":Mt("error",t),s=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),s=r;break;case"details":Mt("toggle",t),s=r;break;case"input":pS(t,r),s=h0(t,r),Mt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Wt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":vS(t,r),s=p0(t,r),Mt("invalid",t);break;default:s=r}v0(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Yj(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Hj(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yu(t,c):typeof c=="number"&&Yu(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gu.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Mt("scroll",t):c!=null&&Cy(t,o,c,i))}switch(n){case"input":bh(t),gS(t,r,!1);break;case"textarea":bh(t),xS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pa(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ll(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ll(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Kf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yn(e),null;case 6:if(t&&e.stateNode!=null)vk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=yi(od.current),yi(Hs.current),Ph(e)){if(r=e.stateNode,n=e.memoizedProps,r[zs]=e,(o=r.nodeValue!==n)&&(t=Br,t!==null))switch(t.tag){case 3:kh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zs]=e,e.stateNode=r}return Yn(e),null;case 13:if(Lt(Ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zt&&Fr!==null&&e.mode&1&&!(e.flags&128))MT(),Jl(),e.flags|=98560,o=!1;else if(o=Ph(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(he(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(he(317));o[zs]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),o=!1}else xs!==null&&(Z0(xs),xs=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?Cn===0&&(Cn=3):aw())),e.updateQueue!==null&&(e.flags|=4),Yn(e),null);case 4:return tc(),q0(t,e),t===null&&td(e.stateNode.containerInfo),Yn(e),null;case 10:return $y(e.type._context),Yn(e),null;case 17:return Nr(e.type)&&Qf(),Yn(e),null;case 19:if(Lt(Ut),o=e.memoizedState,o===null)return Yn(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)su(o,!1);else{if(Cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=rm(t),i!==null){for(e.flags|=128,su(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(Ut,Ut.current&1|2),e.child}t=t.sibling}o.tail!==null&&en()>rc&&(e.flags|=128,r=!0,su(o,!1),e.lanes=4194304)}else{if(!r)if(t=rm(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),su(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!zt)return Yn(e),null}else 2*en()-o.renderingStartTime>rc&&n!==1073741824&&(e.flags|=128,r=!0,su(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,n=Ut.current,Pt(Ut,r?n&1|2:n&1),e):(Yn(e),null);case 22:case 23:return ow(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Or&1073741824&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function r3(t,e){switch(Vy(e),e.tag){case 1:return Nr(e.type)&&Qf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tc(),Lt(Cr),Lt(rr),Yy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gy(e),null;case 13:if(Lt(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));Jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(Ut),null;case 4:return tc(),null;case 10:return $y(e.type._context),null;case 22:case 23:return ow(),null;case 24:return null;default:return null}}var Rh=!1,Jn=!1,s3=typeof WeakSet=="function"?WeakSet:Set,Re=null;function kl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Kt(t,e,r)}else n.current=null}function W0(t,e,n){try{n()}catch(r){Kt(t,e,r)}}var i_=!1;function o3(t,e){if(T0=Hf,t=ST(),Ly(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=i),m===o&&++d===r&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(k0={focusedElem:t,selectionRange:n},Hf=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,_=y.memoizedState,S=e.stateNode,v=S.getSnapshotBeforeUpdate(e.elementType===e.type?x:gs(e.type,x),_);S.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(T){Kt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return y=i_,i_=!1,y}function Ru(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&W0(e,n,o)}s=s.next}while(s!==r)}}function dp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function H0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xk(t){var e=t.alternate;e!==null&&(t.alternate=null,xk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zs],delete e[rd],delete e[A0],delete e[BL],delete e[UL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yk(t){return t.tag===5||t.tag===3||t.tag===4}function l_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function G0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kf));else if(r!==4&&(t=t.child,t!==null))for(G0(t,e,n),t=t.sibling;t!==null;)G0(t,e,n),t=t.sibling}function Y0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Y0(t,e,n),t=t.sibling;t!==null;)Y0(t,e,n),t=t.sibling}var Ln=null,vs=!1;function Go(t,e,n){for(n=n.child;n!==null;)wk(t,e,n),n=n.sibling}function wk(t,e,n){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(rp,n)}catch{}switch(n.tag){case 5:Jn||kl(n,e);case 6:var r=Ln,s=vs;Ln=null,Go(t,e,n),Ln=r,vs=s,Ln!==null&&(vs?(t=Ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ln.removeChild(n.stateNode));break;case 18:Ln!==null&&(vs?(t=Ln,n=n.stateNode,t.nodeType===8?Wg(t.parentNode,n):t.nodeType===1&&Wg(t,n),Zu(t)):Wg(Ln,n.stateNode));break;case 4:r=Ln,s=vs,Ln=n.stateNode.containerInfo,vs=!0,Go(t,e,n),Ln=r,vs=s;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&W0(n,e,i),s=s.next}while(s!==r)}Go(t,e,n);break;case 1:if(!Jn&&(kl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Kt(n,e,l)}Go(t,e,n);break;case 21:Go(t,e,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,Go(t,e,n),Jn=r):Go(t,e,n);break;default:Go(t,e,n)}}function c_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new s3),e.forEach(function(r){var s=m3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function hs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ln=l.stateNode,vs=!1;break e;case 3:Ln=l.stateNode.containerInfo,vs=!0;break e;case 4:Ln=l.stateNode.containerInfo,vs=!0;break e}l=l.return}if(Ln===null)throw Error(he(160));wk(o,i,s),Ln=null,vs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Kt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bk(e,t),e=e.sibling}function bk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hs(e,t),Ds(t),r&4){try{Ru(3,t,t.return),dp(3,t)}catch(x){Kt(t,t.return,x)}try{Ru(5,t,t.return)}catch(x){Kt(t,t.return,x)}}break;case 1:hs(e,t),Ds(t),r&512&&n!==null&&kl(n,n.return);break;case 5:if(hs(e,t),Ds(t),r&512&&n!==null&&kl(n,n.return),t.flags&32){var s=t.stateNode;try{Yu(s,"")}catch(x){Kt(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&$j(s,o),x0(l,i);var u=x0(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Yj(s,f):d==="dangerouslySetInnerHTML"?Hj(s,f):d==="children"?Yu(s,f):Cy(s,d,f,u)}switch(l){case"input":f0(s,o);break;case"textarea":qj(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ll(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ll(s,!!o.multiple,o.defaultValue,!0):Ll(s,!!o.multiple,o.multiple?[]:"",!1))}s[rd]=o}catch(x){Kt(t,t.return,x)}}break;case 6:if(hs(e,t),Ds(t),r&4){if(t.stateNode===null)throw Error(he(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(x){Kt(t,t.return,x)}}break;case 3:if(hs(e,t),Ds(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zu(e.containerInfo)}catch(x){Kt(t,t.return,x)}break;case 4:hs(e,t),Ds(t);break;case 13:hs(e,t),Ds(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(rw=en())),r&4&&c_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Jn=(u=Jn)||d,hs(e,t),Jn=u):hs(e,t),Ds(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Re=t,d=t.child;d!==null;){for(f=Re=d;Re!==null;){switch(m=Re,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ru(4,m,m.return);break;case 1:kl(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Kt(r,n,x)}}break;case 5:kl(m,m.return);break;case 22:if(m.memoizedState!==null){d_(f);continue}}p!==null?(p.return=m,Re=p):d_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Gj("display",i))}catch(x){Kt(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Kt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hs(e,t),Ds(t),r&4&&c_(t);break;case 21:break;default:hs(e,t),Ds(t)}}function Ds(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yk(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yu(s,""),r.flags&=-33);var o=l_(t);Y0(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=l_(t);G0(t,l,i);break;default:throw Error(he(161))}}catch(c){Kt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function a3(t,e,n){Re=t,Sk(t)}function Sk(t,e,n){for(var r=(t.mode&1)!==0;Re!==null;){var s=Re,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Rh;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Jn;l=Rh;var u=Jn;if(Rh=i,(Jn=c)&&!u)for(Re=s;Re!==null;)i=Re,c=i.child,i.tag===22&&i.memoizedState!==null?h_(s):c!==null?(c.return=i,Re=c):h_(s);for(;o!==null;)Re=o,Sk(o),o=o.sibling;Re=s,Rh=l,Jn=u}u_(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Re=o):u_(t)}}function u_(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||dp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:gs(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&YS(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YS(e,i,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Zu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Jn||e.flags&512&&H0(e)}catch(m){Kt(e,e.return,m)}}if(e===t){Re=null;break}if(n=e.sibling,n!==null){n.return=e.return,Re=n;break}Re=e.return}}function d_(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Re=n;break}Re=e.return}}function h_(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dp(4,e)}catch(c){Kt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Kt(e,s,c)}}var o=e.return;try{H0(e)}catch(c){Kt(e,o,c)}break;case 5:var i=e.return;try{H0(e)}catch(c){Kt(e,i,c)}}}catch(c){Kt(e,e.return,c)}if(e===t){Re=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Re=l;break}Re=e.return}}var i3=Math.ceil,am=Vo.ReactCurrentDispatcher,tw=Vo.ReactCurrentOwner,ns=Vo.ReactCurrentBatchConfig,bt=0,Dn=null,on=null,Bn=0,Or=0,Pl=Ha(0),Cn=0,cd=null,Oi=0,hp=0,nw=0,Du=null,xr=null,rw=0,rc=1/0,ho=null,im=!1,K0=null,ya=null,Dh=!1,ha=null,lm=0,Mu=0,Q0=null,yf=-1,wf=0;function dr(){return bt&6?en():yf!==-1?yf:yf=en()}function wa(t){return t.mode&1?bt&2&&Bn!==0?Bn&-Bn:qL.transition!==null?(wf===0&&(wf=aT()),wf):(t=Et,t!==0||(t=window.event,t=t===void 0?16:fT(t.type)),t):1}function Ss(t,e,n,r){if(50<Mu)throw Mu=0,Q0=null,Error(he(185));Rd(t,n,r),(!(bt&2)||t!==Dn)&&(t===Dn&&(!(bt&2)&&(hp|=n),Cn===4&&aa(t,Bn)),Er(t,r),n===1&&bt===0&&!(e.mode&1)&&(rc=en()+500,lp&&Ga()))}function Er(t,e){var n=t.callbackNode;qO(t,e);var r=Wf(t,t===Dn?Bn:0);if(r===0)n!==null&&bS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bS(n),e===1)t.tag===0?$L(f_.bind(null,t)):AT(f_.bind(null,t)),VL(function(){!(bt&6)&&Ga()}),n=null;else{switch(iT(r)){case 1:n=ky;break;case 4:n=sT;break;case 16:n=qf;break;case 536870912:n=oT;break;default:n=qf}n=Pk(n,_k.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _k(t,e){if(yf=-1,wf=0,bt&6)throw Error(he(327));var n=t.callbackNode;if(Ul()&&t.callbackNode!==n)return null;var r=Wf(t,t===Dn?Bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cm(t,r);else{e=r;var s=bt;bt|=2;var o=Nk();(Dn!==t||Bn!==e)&&(ho=null,rc=en()+500,Ci(t,e));do try{u3();break}catch(l){Ck(t,l)}while(1);Uy(),am.current=o,bt=s,on!==null?e=0:(Dn=null,Bn=0,e=Cn)}if(e!==0){if(e===2&&(s=_0(t),s!==0&&(r=s,e=X0(t,s))),e===1)throw n=cd,Ci(t,0),aa(t,r),Er(t,en()),n;if(e===6)aa(t,r);else{if(s=t.current.alternate,!(r&30)&&!l3(s)&&(e=cm(t,r),e===2&&(o=_0(t),o!==0&&(r=o,e=X0(t,o))),e===1))throw n=cd,Ci(t,0),aa(t,r),Er(t,en()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:ui(t,xr,ho);break;case 3:if(aa(t,r),(r&130023424)===r&&(e=rw+500-en(),10<e)){if(Wf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){dr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=I0(ui.bind(null,t,xr,ho),e);break}ui(t,xr,ho);break;case 4:if(aa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-bs(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=en()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i3(r/1960))-r,10<r){t.timeoutHandle=I0(ui.bind(null,t,xr,ho),r);break}ui(t,xr,ho);break;case 5:ui(t,xr,ho);break;default:throw Error(he(329))}}}return Er(t,en()),t.callbackNode===n?_k.bind(null,t):null}function X0(t,e){var n=Du;return t.current.memoizedState.isDehydrated&&(Ci(t,e).flags|=256),t=cm(t,e),t!==2&&(e=xr,xr=n,e!==null&&Z0(e)),t}function Z0(t){xr===null?xr=t:xr.push.apply(xr,t)}function l3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ns(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function aa(t,e){for(e&=~nw,e&=~hp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bs(e),r=1<<n;t[n]=-1,e&=~r}}function f_(t){if(bt&6)throw Error(he(327));Ul();var e=Wf(t,0);if(!(e&1))return Er(t,en()),null;var n=cm(t,e);if(t.tag!==0&&n===2){var r=_0(t);r!==0&&(e=r,n=X0(t,r))}if(n===1)throw n=cd,Ci(t,0),aa(t,e),Er(t,en()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ui(t,xr,ho),Er(t,en()),null}function sw(t,e){var n=bt;bt|=1;try{return t(e)}finally{bt=n,bt===0&&(rc=en()+500,lp&&Ga())}}function Li(t){ha!==null&&ha.tag===0&&!(bt&6)&&Ul();var e=bt;bt|=1;var n=ns.transition,r=Et;try{if(ns.transition=null,Et=1,t)return t()}finally{Et=r,ns.transition=n,bt=e,!(bt&6)&&Ga()}}function ow(){Or=Pl.current,Lt(Pl)}function Ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FL(n)),on!==null)for(n=on.return;n!==null;){var r=n;switch(Vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qf();break;case 3:tc(),Lt(Cr),Lt(rr),Yy();break;case 5:Gy(r);break;case 4:tc();break;case 13:Lt(Ut);break;case 19:Lt(Ut);break;case 10:$y(r.type._context);break;case 22:case 23:ow()}n=n.return}if(Dn=t,on=t=ba(t.current,null),Bn=Or=e,Cn=0,cd=null,nw=hp=Oi=0,xr=Du=null,xi!==null){for(e=0;e<xi.length;e++)if(n=xi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}xi=null}return t}function Ck(t,e){do{var n=on;try{if(Uy(),gf.current=om,sm){for(var r=qt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sm=!1}if(Mi=0,In=xn=qt=null,Au=!1,ad=0,tw.current=null,n===null||n.return===null){Cn=1,cd=e,on=null;break}e:{var o=t,i=n.return,l=n,c=e;if(e=Bn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=e_(i);if(p!==null){p.flags&=-257,t_(p,i,l,o,e),p.mode&1&&JS(o,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){JS(o,u,e),aw();break e}c=Error(he(426))}}else if(zt&&l.mode&1){var _=e_(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),t_(_,i,l,o,e),zy(nc(c,l));break e}}o=c=nc(c,l),Cn!==4&&(Cn=2),Du===null?Du=[o]:Du.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=ik(o,c,e);GS(o,S);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ya===null||!ya.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=lk(o,l,e);GS(o,T);break e}}o=o.return}while(o!==null)}jk(n)}catch(R){e=R,on===n&&n!==null&&(on=n=n.return);continue}break}while(1)}function Nk(){var t=am.current;return am.current=om,t===null?om:t}function aw(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Dn===null||!(Oi&268435455)&&!(hp&268435455)||aa(Dn,Bn)}function cm(t,e){var n=bt;bt|=2;var r=Nk();(Dn!==t||Bn!==e)&&(ho=null,Ci(t,e));do try{c3();break}catch(s){Ck(t,s)}while(1);if(Uy(),bt=n,am.current=r,on!==null)throw Error(he(261));return Dn=null,Bn=0,Cn}function c3(){for(;on!==null;)Ek(on)}function u3(){for(;on!==null&&!MO();)Ek(on)}function Ek(t){var e=kk(t.alternate,t,Or);t.memoizedProps=t.pendingProps,e===null?jk(t):on=e,tw.current=null}function jk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=r3(n,e),n!==null){n.flags&=32767,on=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cn=6,on=null;return}}else if(n=n3(n,e,Or),n!==null){on=n;return}if(e=e.sibling,e!==null){on=e;return}on=e=t}while(e!==null);Cn===0&&(Cn=5)}function ui(t,e,n){var r=Et,s=ns.transition;try{ns.transition=null,Et=1,d3(t,e,n,r)}finally{ns.transition=s,Et=r}return null}function d3(t,e,n,r){do Ul();while(ha!==null);if(bt&6)throw Error(he(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(WO(t,o),t===Dn&&(on=Dn=null,Bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dh||(Dh=!0,Pk(qf,function(){return Ul(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ns.transition,ns.transition=null;var i=Et;Et=1;var l=bt;bt|=4,tw.current=null,o3(t,n),bk(n,t),IL(k0),Hf=!!T0,k0=T0=null,t.current=n,a3(n),OO(),bt=l,Et=i,ns.transition=o}else t.current=n;if(Dh&&(Dh=!1,ha=t,lm=s),o=t.pendingLanes,o===0&&(ya=null),VO(n.stateNode),Er(t,en()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(im)throw im=!1,t=K0,K0=null,t;return lm&1&&t.tag!==0&&Ul(),o=t.pendingLanes,o&1?t===Q0?Mu++:(Mu=0,Q0=t):Mu=0,Ga(),null}function Ul(){if(ha!==null){var t=iT(lm),e=ns.transition,n=Et;try{if(ns.transition=null,Et=16>t?16:t,ha===null)var r=!1;else{if(t=ha,ha=null,lm=0,bt&6)throw Error(he(331));var s=bt;for(bt|=4,Re=t.current;Re!==null;){var o=Re,i=o.child;if(Re.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Re=u;Re!==null;){var d=Re;switch(d.tag){case 0:case 11:case 15:Ru(8,d,o)}var f=d.child;if(f!==null)f.return=d,Re=f;else for(;Re!==null;){d=Re;var m=d.sibling,p=d.return;if(xk(d),d===u){Re=null;break}if(m!==null){m.return=p,Re=m;break}Re=p}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}Re=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Re=i;else e:for(;Re!==null;){if(o=Re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ru(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,Re=S;break e}Re=o.return}}var v=t.current;for(Re=v;Re!==null;){i=Re;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,Re=b;else e:for(i=v;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dp(9,l)}}catch(R){Kt(l,l.return,R)}if(l===i){Re=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,Re=T;break e}Re=l.return}}if(bt=s,Ga(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(rp,t)}catch{}r=!0}return r}finally{Et=n,ns.transition=e}}return!1}function m_(t,e,n){e=nc(n,e),e=ik(t,e,1),t=xa(t,e,1),e=dr(),t!==null&&(Rd(t,1,e),Er(t,e))}function Kt(t,e,n){if(t.tag===3)m_(t,t,n);else for(;e!==null;){if(e.tag===3){m_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ya===null||!ya.has(r))){t=nc(n,t),t=lk(e,t,1),e=xa(e,t,1),t=dr(),e!==null&&(Rd(e,1,t),Er(e,t));break}}e=e.return}}function h3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dr(),t.pingedLanes|=t.suspendedLanes&n,Dn===t&&(Bn&n)===n&&(Cn===4||Cn===3&&(Bn&130023424)===Bn&&500>en()-rw?Ci(t,0):nw|=n),Er(t,e)}function Tk(t,e){e===0&&(t.mode&1?(e=Ch,Ch<<=1,!(Ch&130023424)&&(Ch=4194304)):e=1);var n=dr();t=ko(t,e),t!==null&&(Rd(t,e,n),Er(t,n))}function f3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Tk(t,n)}function m3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),Tk(t,n)}var kk;kk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cr.current)Sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sr=!1,t3(t,e,n);Sr=!!(t.flags&131072)}else Sr=!1,zt&&e.flags&1048576&&RT(e,Jf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xf(t,e),t=e.pendingProps;var s=Zl(e,rr.current);Bl(e,n),s=Qy(null,e,r,t,s,n);var o=Xy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(r)?(o=!0,Xf(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wy(e),s.updater=up,e.stateNode=s,s._reactInternals=e,F0(e,r,t,n),e=B0(null,e,r,!0,o,n)):(e.tag=0,zt&&o&&Fy(e),cr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=g3(r),t=gs(r,t),s){case 0:e=z0(null,e,r,t,n);break e;case 1:e=s_(null,e,r,t,n);break e;case 11:e=n_(null,e,r,t,n);break e;case 14:e=r_(null,e,r,gs(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gs(r,s),z0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gs(r,s),s_(t,e,r,s,n);case 3:e:{if(hk(e),t===null)throw Error(he(387));r=e.pendingProps,o=e.memoizedState,s=o.element,VT(t,e),nm(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=nc(Error(he(423)),e),e=o_(t,e,r,n,s);break e}else if(r!==s){s=nc(Error(he(424)),e),e=o_(t,e,r,n,s);break e}else for(Fr=va(e.stateNode.containerInfo.firstChild),Br=e,zt=!0,xs=null,n=LT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jl(),r===s){e=Po(t,e,n);break e}cr(t,e,r,n)}e=e.child}return e;case 5:return zT(e),t===null&&M0(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,P0(r,s)?i=null:o!==null&&P0(r,o)&&(e.flags|=32),dk(t,e),cr(t,e,i,n),e.child;case 6:return t===null&&M0(e),null;case 13:return fk(t,e,n);case 4:return Hy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ec(e,null,r,n):cr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gs(r,s),n_(t,e,r,s,n);case 7:return cr(t,e,e.pendingProps,n),e.child;case 8:return cr(t,e,e.pendingProps.children,n),e.child;case 12:return cr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,Pt(em,r._currentValue),r._currentValue=i,o!==null)if(Ns(o.value,i)){if(o.children===s.children&&!Cr.current){e=Po(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=So(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),O0(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(he(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),O0(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}cr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bl(e,n),s=is(s),r=r(s),e.flags|=1,cr(t,e,r,n),e.child;case 14:return r=e.type,s=gs(r,e.pendingProps),s=gs(r.type,s),r_(t,e,r,s,n);case 15:return ck(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gs(r,s),xf(t,e),e.tag=1,Nr(r)?(t=!0,Xf(e)):t=!1,Bl(e,n),ak(e,r,s),F0(e,r,s,n),B0(null,e,r,!0,t,n);case 19:return mk(t,e,n);case 22:return uk(t,e,n)}throw Error(he(156,e.tag))};function Pk(t,e){return rT(t,e)}function p3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(t,e,n,r){return new p3(t,e,n,r)}function iw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function g3(t){if(typeof t=="function")return iw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ey)return 11;if(t===jy)return 14}return 2}function ba(t,e){var n=t.alternate;return n===null?(n=ts(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bf(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")iw(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case wl:return Ni(n.children,s,o,e);case Ny:i=8,s|=8;break;case l0:return t=ts(12,n,e,s|2),t.elementType=l0,t.lanes=o,t;case c0:return t=ts(13,n,e,s),t.elementType=c0,t.lanes=o,t;case u0:return t=ts(19,n,e,s),t.elementType=u0,t.lanes=o,t;case zj:return fp(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fj:i=10;break e;case Vj:i=9;break e;case Ey:i=11;break e;case jy:i=14;break e;case ta:i=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=ts(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Ni(t,e,n,r){return t=ts(7,t,r,e),t.lanes=n,t}function fp(t,e,n,r){return t=ts(22,t,r,e),t.elementType=zj,t.lanes=n,t.stateNode={isHidden:!1},t}function Jg(t,e,n){return t=ts(6,t,null,e),t.lanes=n,t}function ev(t,e,n){return e=ts(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function v3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dg(0),this.expirationTimes=Dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lw(t,e,n,r,s,o,i,l,c){return t=new v3(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ts(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wy(o),t}function x3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ik(t){if(!t)return Ia;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(Nr(n))return IT(t,n,e)}return e}function Ak(t,e,n,r,s,o,i,l,c){return t=lw(n,r,!0,t,s,o,i,l,c),t.context=Ik(null),n=t.current,r=dr(),s=wa(n),o=So(r,s),o.callback=e??null,xa(n,o,s),t.current.lanes=s,Rd(t,s,r),Er(t,r),t}function mp(t,e,n,r){var s=e.current,o=dr(),i=wa(s);return n=Ik(n),e.context===null?e.context=n:e.pendingContext=n,e=So(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xa(s,e,i),t!==null&&(Ss(t,s,i,o),pf(t,s,i)),i}function um(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function p_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cw(t,e){p_(t,e),(t=t.alternate)&&p_(t,e)}function y3(){return null}var Rk=typeof reportError=="function"?reportError:function(t){console.error(t)};function uw(t){this._internalRoot=t}pp.prototype.render=uw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));mp(t,e,null,null)};pp.prototype.unmount=uw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Li(function(){mp(null,t,null,null)}),e[To]=null}};function pp(t){this._internalRoot=t}pp.prototype.unstable_scheduleHydration=function(t){if(t){var e=uT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oa.length&&e!==0&&e<oa[n].priority;n++);oa.splice(n,0,t),n===0&&hT(t)}};function dw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g_(){}function w3(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=um(i);o.call(u)}}var i=Ak(e,r,t,0,null,!1,!1,"",g_);return t._reactRootContainer=i,t[To]=i.current,td(t.nodeType===8?t.parentNode:t),Li(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=um(c);l.call(u)}}var c=lw(t,0,!1,null,null,!1,!1,"",g_);return t._reactRootContainer=c,t[To]=c.current,td(t.nodeType===8?t.parentNode:t),Li(function(){mp(e,c,n,r)}),c}function vp(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=um(i);l.call(c)}}mp(e,i,t,s)}else i=w3(n,e,t,s,r);return um(i)}lT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vu(e.pendingLanes);n!==0&&(Py(e,n|1),Er(e,en()),!(bt&6)&&(rc=en()+500,Ga()))}break;case 13:Li(function(){var r=ko(t,1);if(r!==null){var s=dr();Ss(r,t,1,s)}}),cw(t,1)}};Iy=function(t){if(t.tag===13){var e=ko(t,134217728);if(e!==null){var n=dr();Ss(e,t,134217728,n)}cw(t,134217728)}};cT=function(t){if(t.tag===13){var e=wa(t),n=ko(t,e);if(n!==null){var r=dr();Ss(n,t,e,r)}cw(t,e)}};uT=function(){return Et};dT=function(t,e){var n=Et;try{return Et=t,e()}finally{Et=n}};w0=function(t,e,n){switch(e){case"input":if(f0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ip(r);if(!s)throw Error(he(90));Uj(r),f0(r,s)}}}break;case"textarea":qj(t,n);break;case"select":e=n.value,e!=null&&Ll(t,!!n.multiple,e,!1)}};Xj=sw;Zj=Li;var b3={usingClientEntryPoint:!1,Events:[Md,Cl,ip,Kj,Qj,sw]},ou={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S3={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tT(t),t===null?null:t.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||y3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{rp=Mh.inject(S3),Ws=Mh}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b3;Hr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dw(e))throw Error(he(200));return x3(t,e,null,n)};Hr.createRoot=function(t,e){if(!dw(t))throw Error(he(299));var n=!1,r="",s=Rk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lw(t,1,!1,null,null,n,!1,r,s),t[To]=e.current,td(t.nodeType===8?t.parentNode:t),new uw(e)};Hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=tT(e),t=t===null?null:t.stateNode,t};Hr.flushSync=function(t){return Li(t)};Hr.hydrate=function(t,e,n){if(!gp(e))throw Error(he(200));return vp(null,t,e,!0,n)};Hr.hydrateRoot=function(t,e,n){if(!dw(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Rk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=Ak(e,null,t,1,n??null,s,!1,o,i),t[To]=e.current,td(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pp(e)};Hr.render=function(t,e,n){if(!gp(e))throw Error(he(200));return vp(null,t,e,!1,n)};Hr.unmountComponentAtNode=function(t){if(!gp(t))throw Error(he(40));return t._reactRootContainer?(Li(function(){vp(null,null,t,!1,function(){t._reactRootContainer=null,t[To]=null})}),!0):!1};Hr.unstable_batchedUpdates=sw;Hr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gp(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return vp(t,e,n,!1,r)};Hr.version="18.3.1-next-f1338f8080-20240426";function Dk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dk)}catch(t){console.error(t)}}Dk(),Dj.exports=Hr;var Ps=Dj.exports;const _3=Qi(Ps);var v_=Ps;a0.createRoot=v_.createRoot,a0.hydrateRoot=v_.hydrateRoot;var Mk={exports:{}},C3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",N3=C3,E3=N3;function Ok(){}function Lk(){}Lk.resetWarningCache=Ok;var j3=function(){function t(r,s,o,i,l,c){if(c!==E3){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Lk,resetWarningCache:Ok};return n.PropTypes=n,n};Mk.exports=j3();var hw=Mk.exports;const Ue=Qi(hw);function T3(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Fk=g,k3=T3(Fk);function x_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var I3=!!(typeof window<"u"&&window.document&&window.document.createElement);function A3(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],l;function c(){l=t(i.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){P3(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=l;return l=void 0,i=[],y};var m=f.prototype;return m.UNSAFE_componentWillMount=function(){i.push(this),c()},m.componentDidUpdate=function(){c()},m.componentWillUnmount=function(){var y=i.indexOf(this);i.splice(y,1),c()},m.render=function(){return k3.createElement(o,this.props)},f}(Fk.PureComponent);return x_(u,"displayName","SideEffect("+r(o)+")"),x_(u,"canUseDOM",I3),u}}var R3=A3;const D3=Qi(R3);var M3=typeof Element<"u",O3=typeof Map=="function",L3=typeof Set=="function",F3=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Sf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Sf(t[r],e[r]))return!1;return!0}var o;if(O3&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!Sf(r.value[1],e.get(r.value[0])))return!1;return!0}if(L3&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(F3&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(M3&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Sf(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var V3=function(e,n){try{return Sf(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const z3=Qi(V3);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var y_=Object.getOwnPropertySymbols,B3=Object.prototype.hasOwnProperty,U3=Object.prototype.propertyIsEnumerable;function $3(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function q3(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var W3=q3()?Object.assign:function(t,e){for(var n,r=$3(t),s,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var i in n)B3.call(n,i)&&(r[i]=n[i]);if(y_){s=y_(n);for(var l=0;l<s.length;l++)U3.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const H3=Qi(W3);var Ei={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},nt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(nt).map(function(t){return nt[t]});var Vt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},dm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ud={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},G3=Object.keys(dm).reduce(function(t,e){return t[dm[e]]=e,t},{}),Y3=[nt.NOSCRIPT,nt.SCRIPT,nt.STYLE],ys="data-react-helmet",K3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q3=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},X3=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),pr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z3=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},w_=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},J3=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},J0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},eF=function(e){var n=$l(e,nt.TITLE),r=$l(e,ud.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=$l(e,ud.DEFAULT_TITLE);return n||s||void 0},tF=function(e){return $l(e,ud.ON_CHANGE_CLIENT_STATE)||function(){}},tv=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return pr({},r,s)},{})},nF=function(e,n){return n.filter(function(r){return typeof r[nt.BASE]<"u"}).map(function(r){return r[nt.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var o=Object.keys(s),i=0;i<o.length;i++){var l=o[i],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},au=function(e,n,r){var s={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&aF("Helmet: "+e+' should be of type "Array". Instead found type "'+K3(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,i){var l={};i.filter(function(m){for(var p=void 0,y=Object.keys(m),x=0;x<y.length;x++){var _=y[x],S=_.toLowerCase();n.indexOf(S)!==-1&&!(p===Vt.REL&&m[p].toLowerCase()==="canonical")&&!(S===Vt.REL&&m[S].toLowerCase()==="stylesheet")&&(p=S),n.indexOf(_)!==-1&&(_===Vt.INNER_HTML||_===Vt.CSS_TEXT||_===Vt.ITEM_PROP)&&(p=_)}if(!p||!m[p])return!1;var v=m[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(function(m){return o.push(m)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=H3({},s[d],l[d]);s[d]=f}return o},[]).reverse()},$l=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},rF=function(e){return{baseTag:nF([Vt.HREF,Vt.TARGET],e),bodyAttributes:tv(Ei.BODY,e),defer:$l(e,ud.DEFER),encode:$l(e,ud.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:tv(Ei.HTML,e),linkTags:au(nt.LINK,[Vt.REL,Vt.HREF],e),metaTags:au(nt.META,[Vt.NAME,Vt.CHARSET,Vt.HTTPEQUIV,Vt.PROPERTY,Vt.ITEM_PROP],e),noscriptTags:au(nt.NOSCRIPT,[Vt.INNER_HTML],e),onChangeClientState:tF(e),scriptTags:au(nt.SCRIPT,[Vt.SRC,Vt.INNER_HTML],e),styleTags:au(nt.STYLE,[Vt.CSS_TEXT],e),title:eF(e),titleAttributes:tv(Ei.TITLE,e)}},ex=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){ex(e)},0)}}(),b_=function(e){return clearTimeout(e)},sF=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ex:global.requestAnimationFrame||ex,oF=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||b_:global.cancelAnimationFrame||b_,aF=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},iu=null,iF=function(e){iu&&oF(iu),e.defer?iu=sF(function(){S_(e,function(){iu=null})}):(S_(e),iu=null)},S_=function(e,n){var r=e.baseTag,s=e.bodyAttributes,o=e.htmlAttributes,i=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,m=e.title,p=e.titleAttributes;tx(nt.BODY,s),tx(nt.HTML,o),lF(m,p);var y={baseTag:cl(nt.BASE,r),linkTags:cl(nt.LINK,i),metaTags:cl(nt.META,l),noscriptTags:cl(nt.NOSCRIPT,c),scriptTags:cl(nt.SCRIPT,d),styleTags:cl(nt.STYLE,f)},x={},_={};Object.keys(y).forEach(function(S){var v=y[S],b=v.newTags,T=v.oldTags;b.length&&(x[S]=b),T.length&&(_[S]=y[S].oldTags)}),n&&n(),u(e,x,_)},Vk=function(e){return Array.isArray(e)?e.join(""):e},lF=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=Vk(e)),tx(nt.TITLE,n)},tx=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(ys),o=s?s.split(","):[],i=[].concat(o),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),o.indexOf(u)===-1&&o.push(u);var f=i.indexOf(u);f!==-1&&i.splice(f,1)}for(var m=i.length-1;m>=0;m--)r.removeAttribute(i[m]);o.length===i.length?r.removeAttribute(ys):r.getAttribute(ys)!==l.join(",")&&r.setAttribute(ys,l.join(","))}},cl=function(e,n){var r=document.head||document.querySelector(nt.HEAD),s=r.querySelectorAll(e+"["+ys+"]"),o=Array.prototype.slice.call(s),i=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Vt.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Vt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(ys,"true"),o.some(function(m,p){return l=p,u.isEqualNode(m)})?o.splice(l,1):i.push(u)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return r.appendChild(c)}),{oldTags:o,newTags:i}},zk=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},cF=function(e,n,r,s){var o=zk(r),i=Vk(n);return o?"<"+e+" "+ys+'="true" '+o+">"+J0(i,s)+"</"+e+">":"<"+e+" "+ys+'="true">'+J0(i,s)+"</"+e+">"},uF=function(e,n,r){return n.reduce(function(s,o){var i=Object.keys(o).filter(function(u){return!(u===Vt.INNER_HTML||u===Vt.CSS_TEXT)}).reduce(function(u,d){var f=typeof o[d]>"u"?d:d+'="'+J0(o[d],r)+'"';return u?u+" "+f:f},""),l=o.innerHTML||o.cssText||"",c=Y3.indexOf(e)===-1;return s+"<"+e+" "+ys+'="true" '+i+(c?"/>":">"+l+"</"+e+">")},"")},Bk=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[dm[s]||s]=e[s],r},n)},dF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[G3[s]||s]=e[s],r},n)},hF=function(e,n,r){var s,o=(s={key:n},s[ys]=!0,s),i=Bk(r,o);return[$e.createElement(nt.TITLE,i,n)]},fF=function(e,n){return n.map(function(r,s){var o,i=(o={key:s},o[ys]=!0,o);return Object.keys(r).forEach(function(l){var c=dm[l]||l;if(c===Vt.INNER_HTML||c===Vt.CSS_TEXT){var u=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[c]=r[l]}),$e.createElement(e,i)})},co=function(e,n,r){switch(e){case nt.TITLE:return{toComponent:function(){return hF(e,n.title,n.titleAttributes)},toString:function(){return cF(e,n.title,n.titleAttributes,r)}};case Ei.BODY:case Ei.HTML:return{toComponent:function(){return Bk(n)},toString:function(){return zk(n)}};default:return{toComponent:function(){return fF(e,n)},toString:function(){return uF(e,n,r)}}}},Uk=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,o=e.htmlAttributes,i=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,f=e.title,m=f===void 0?"":f,p=e.titleAttributes;return{base:co(nt.BASE,n,s),bodyAttributes:co(Ei.BODY,r,s),htmlAttributes:co(Ei.HTML,o,s),link:co(nt.LINK,i,s),meta:co(nt.META,l,s),noscript:co(nt.NOSCRIPT,c,s),script:co(nt.SCRIPT,u,s),style:co(nt.STYLE,d,s),title:co(nt.TITLE,{title:m,titleAttributes:p},s)}},mF=function(e){var n,r;return r=n=function(s){Z3(o,s);function o(){return Q3(this,o),J3(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!z3(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case nt.SCRIPT:case nt.NOSCRIPT:return{innerHTML:c};case nt.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,m=l.nestedChildren;return pr({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[pr({},f,this.mapNestedChildrenToProps(u,m))]),c))},o.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,m=l.newChildProps,p=l.nestedChildren;switch(d.type){case nt.TITLE:return pr({},f,(c={},c[d.type]=p,c.titleAttributes=pr({},m),c));case nt.BODY:return pr({},f,{bodyAttributes:pr({},m)});case nt.HTML:return pr({},f,{htmlAttributes:pr({},m)})}return pr({},f,(u={},u[d.type]=pr({},m),u))},o.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=pr({},c);return Object.keys(l).forEach(function(d){var f;u=pr({},u,(f={},f[d]=l[d],f))}),u},o.prototype.warnOnInvalidChildren=function(l,c){return!0},o.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return $e.Children.forEach(l,function(f){if(!(!f||!f.props)){var m=f.props,p=m.children,y=w_(m,["children"]),x=dF(y);switch(u.warnOnInvalidChildren(f,p),f.type){case nt.LINK:case nt.META:case nt.NOSCRIPT:case nt.SCRIPT:case nt.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:x,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:x,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},o.prototype.render=function(){var l=this.props,c=l.children,u=w_(l,["children"]),d=pr({},u);return c&&(d=this.mapChildrenToProps(c,d)),$e.createElement(e,d)},X3(o,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),o}($e.Component),n.propTypes={base:Ue.object,bodyAttributes:Ue.object,children:Ue.oneOfType([Ue.arrayOf(Ue.node),Ue.node]),defaultTitle:Ue.string,defer:Ue.bool,encodeSpecialCharacters:Ue.bool,htmlAttributes:Ue.object,link:Ue.arrayOf(Ue.object),meta:Ue.arrayOf(Ue.object),noscript:Ue.arrayOf(Ue.object),onChangeClientState:Ue.func,script:Ue.arrayOf(Ue.object),style:Ue.arrayOf(Ue.object),title:Ue.string,titleAttributes:Ue.object,titleTemplate:Ue.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=Uk({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},pF=function(){return null},gF=D3(rF,iF,Uk)(pF),nx=mF(gF);nx.renderStatic=nx.rewind;const $k=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xp=g.createContext({}),yp=g.createContext(null),wp=typeof document<"u",fw=wp?g.useLayoutEffect:g.useEffect,qk=g.createContext({strict:!1}),mw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),vF="framerAppearId",Wk="data-"+mw(vF);function xF(t,e,n,r){const{visualElement:s}=g.useContext(xp),o=g.useContext(qk),i=g.useContext(yp),l=g.useContext($k).reducedMotion,c=g.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;g.useInsertionEffect(()=>{u&&u.update(n,i)});const d=g.useRef(!!(n[Wk]&&!window.HandoffComplete));return fw(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yF(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Il(n)&&(n.current=r))},[e])}function dd(t){return typeof t=="string"||Array.isArray(t)}function bp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const pw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gw=["initial",...pw];function Sp(t){return bp(t.animate)||gw.some(e=>dd(t[e]))}function Hk(t){return!!(Sp(t)||t.variants)}function wF(t,e){if(Sp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||dd(n)?n:void 0,animate:dd(r)?r:void 0}}return t.inherit!==!1?e:{}}function bF(t){const{initial:e,animate:n}=wF(t,g.useContext(xp));return g.useMemo(()=>({initial:e,animate:n}),[__(e),__(n)])}function __(t){return Array.isArray(t)?t.join(" "):t}const C_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hd={};for(const t in C_)hd[t]={isEnabled:e=>C_[t].some(n=>!!e[n])};function SF(t){for(const e in t)hd[e]={...hd[e],...t[e]}}const vw=g.createContext({}),Gk=g.createContext({}),_F=Symbol.for("motionComponentSymbol");function CF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&SF(t);function o(l,c){let u;const d={...g.useContext($k),...l,layoutId:NF(l)},{isStatic:f}=d,m=bF(l),p=r(l,f);if(!f&&wp){m.visualElement=xF(s,p,d,e);const y=g.useContext(Gk),x=g.useContext(qk).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,x,t,y))}return g.createElement(xp.Provider,{value:m},u&&m.visualElement?g.createElement(u,{visualElement:m.visualElement,...d}):null,n(s,l,yF(p,m.visualElement,c),p,f,m.visualElement))}const i=g.forwardRef(o);return i[_F]=s,i}function NF({layoutId:t}){const e=g.useContext(vw).id;return e&&t!==void 0?e+"-"+t:t}function EF(t){function e(r,s={}){return CF(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const jF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xw(t){return typeof t!="string"||t.includes("-")?!1:!!(jF.indexOf(t)>-1||/[A-Z]/.test(t))}const hm={};function TF(t){Object.assign(hm,t)}const Ld=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ji=new Set(Ld);function Yk(t,{layout:e,layoutId:n}){return Ji.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hm[t]||t==="opacity")}const Tr=t=>!!(t&&t.getVelocity),kF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PF=Ld.length;function IF(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<PF;i++){const l=Ld[i];if(t[l]!==void 0){const c=kF[l]||l;o+=`${c}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const Kk=t=>e=>typeof e=="string"&&e.startsWith(t),Qk=Kk("--"),rx=Kk("var(--"),AF=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,RF=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Aa=(t,e,n)=>Math.min(Math.max(n,t),e),el={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ou={...el,transform:t=>Aa(0,1,t)},Oh={...el,default:1},Lu=t=>Math.round(t*1e5)/1e5,_p=/(-)?([\d]*\.?[\d])+/g,Xk=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,DF=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Fd(t){return typeof t=="string"}const Vd=t=>({test:e=>Fd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jo=Vd("deg"),Gs=Vd("%"),We=Vd("px"),MF=Vd("vh"),OF=Vd("vw"),N_={...Gs,parse:t=>Gs.parse(t)/100,transform:t=>Gs.transform(t*100)},E_={...el,transform:Math.round},Zk={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,size:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,rotate:Jo,rotateX:Jo,rotateY:Jo,rotateZ:Jo,scale:Oh,scaleX:Oh,scaleY:Oh,scaleZ:Oh,skew:Jo,skewX:Jo,skewY:Jo,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:Ou,originX:N_,originY:N_,originZ:We,zIndex:E_,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:E_};function yw(t,e,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const f in e){const m=e[f];if(Qk(f)){o[f]=m;continue}const p=Zk[f],y=RF(m,p);if(Ji.has(f)){if(c=!0,i[f]=y,!d)continue;m!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=y):s[f]=y}if(e.transform||(c||r?s.transform=IF(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${m} ${p}`}}const ww=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jk(t,e,n){for(const r in e)!Tr(e[r])&&!Yk(r,n)&&(t[r]=e[r])}function LF({transformTemplate:t},e,n){return g.useMemo(()=>{const r=ww();return yw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function FF(t,e,n){const r=t.style||{},s={};return Jk(s,r,t),Object.assign(s,LF(t,e,n)),t.transformValues?t.transformValues(s):s}function VF(t,e,n){const r={},s=FF(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const zF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zF.has(t)}let eP=t=>!fm(t);function BF(t){t&&(eP=e=>e.startsWith("on")?!fm(e):t(e))}try{BF(require("@emotion/is-prop-valid").default)}catch{}function UF(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(eP(s)||n===!0&&fm(s)||!e&&!fm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function j_(t,e,n){return typeof t=="string"?t:We.transform(e+n*t)}function $F(t,e,n){const r=j_(e,t.x,t.width),s=j_(n,t.y,t.height);return`${r} ${s}`}const qF={offset:"stroke-dashoffset",array:"stroke-dasharray"},WF={offset:"strokeDashoffset",array:"strokeDasharray"};function HF(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?qF:WF;t[o.offset]=We.transform(-r);const i=We.transform(e),l=We.transform(n);t[o.array]=`${i} ${l}`}function bw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,m){if(yw(t,u,d,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:x}=t;p.transform&&(x&&(y.transform=p.transform),delete p.transform),x&&(s!==void 0||o!==void 0||y.transform)&&(y.transformOrigin=$F(x,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&HF(p,i,l,c,!1)}const tP=()=>({...ww(),attrs:{}}),Sw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GF(t,e,n,r){const s=g.useMemo(()=>{const o=tP();return bw(o,e,{enableHardwareAcceleration:!1},Sw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Jk(o,t.style,t),s.style={...o,...s.style}}return s}function YF(t=!1){return(n,r,s,{latestValues:o},i)=>{const c=(xw(n)?GF:VF)(r,o,i,n),d={...UF(r,typeof n=="string",t),...c,ref:s},{children:f}=r,m=g.useMemo(()=>Tr(f)?f.get():f,[f]);return g.createElement(n,{...d,children:m})}}function nP(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const rP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sP(t,e,n,r){nP(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(rP.has(s)?s:mw(s),e.attrs[s])}function _w(t,e){const{style:n}=t,r={};for(const s in n)(Tr(n[s])||e.style&&Tr(e.style[s])||Yk(s,t))&&(r[s]=n[s]);return r}function oP(t,e){const n=_w(t,e);for(const r in t)if(Tr(t[r])||Tr(e[r])){const s=Ld.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Cw(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function aP(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const mm=t=>Array.isArray(t),KF=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),QF=t=>mm(t)?t[t.length-1]||0:t;function _f(t){const e=Tr(t)?t.get():t;return KF(e)?e.toValue():e}function XF({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const i={latestValues:ZF(r,s,o,t),renderState:e()};return n&&(i.mount=l=>n(r,l,i)),i}const iP=t=>(e,n)=>{const r=g.useContext(xp),s=g.useContext(yp),o=()=>XF(t,e,r,s);return n?o():aP(o)};function ZF(t,e,n,r){const s={},o=r(t,{});for(const m in o)s[m]=_f(o[m]);let{initial:i,animate:l}=t;const c=Sp(t),u=Hk(t);e&&u&&!c&&t.inherit!==!1&&(i===void 0&&(i=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!bp(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const y=Cw(t,p);if(!y)return;const{transitionEnd:x,transition:_,...S}=y;for(const v in S){let b=S[v];if(Array.isArray(b)){const T=d?b.length-1:0;b=b[T]}b!==null&&(s[v]=b)}for(const v in x)s[v]=x[v]}),s}const Qt=t=>t;class T_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function JF(t){let e=new T_,n=new T_,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,m=f?e:n;return u&&i.add(c),m.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(c),i.has(d)&&(l.schedule(d),t())}s=!1,o&&(o=!1,l.process(c))}};return l}const Lh=["prepare","read","update","preRender","render","postRender"],e5=40;function t5(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Lh.reduce((f,m)=>(f[m]=JF(()=>n=!0),f),{}),i=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,e5),1),s.timestamp=f,s.isProcessing=!0,Lh.forEach(i),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:Lh.reduce((f,m)=>{const p=o[m];return f[m]=(y,x=!1,_=!1)=>(n||c(),p.schedule(y,x,_)),f},{}),cancel:f=>Lh.forEach(m=>o[m].cancel(f)),state:s,steps:o}}const{schedule:It,cancel:Io,state:Xn,steps:nv}=t5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qt,!0),n5={useVisualState:iP({scrapeMotionValuesFromProps:oP,createRenderState:tP,onMount:(t,e,{renderState:n,latestValues:r})=>{It.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),It.render(()=>{bw(n,r,{enableHardwareAcceleration:!1},Sw(e.tagName),t.transformTemplate),sP(e,n)})}})},r5={useVisualState:iP({scrapeMotionValuesFromProps:_w,createRenderState:ww})};function s5(t,{forwardMotionProps:e=!1},n,r){return{...xw(t)?n5:r5,preloadedFeatures:n,useRender:YF(e),createVisualElement:r,Component:t}}function go(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const lP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Cp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const o5=t=>e=>lP(e)&&t(e,Cp(e));function _o(t,e,n,r){return go(t,e,o5(n),r)}const a5=(t,e)=>n=>e(t(n)),Sa=(...t)=>t.reduce(a5);function cP(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const k_=cP("dragHorizontal"),P_=cP("dragVertical");function uP(t){let e=!1;if(t==="y")e=P_();else if(t==="x")e=k_();else{const n=k_(),r=P_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function dP(){const t=uP(!0);return t?(t(),!1):!0}class Ya{constructor(e){this.isMounted=!1,this.node=e}update(){}}function I_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||dP())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&It.update(()=>l[r](o,i))};return _o(t.current,n,s,{passive:!t.getProps()[r]})}class i5 extends Ya{mount(){this.unmount=Sa(I_(this.node,!0),I_(this.node,!1))}unmount(){}}class l5 extends Ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sa(go(this.node.current,"focus",()=>this.onFocus()),go(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const hP=(t,e)=>e?t===e?!0:hP(t,e.parentElement):!1;function rv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Cp(n))}class c5 extends Ya{constructor(){super(...arguments),this.removeStartListeners=Qt,this.removeEndListeners=Qt,this.removeAccessibleListeners=Qt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=_o(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();It.update(()=>{!f&&!hP(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=_o(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Sa(o,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||rv("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&It.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=go(this.node.current,"keyup",i),rv("down",(l,c)=>{this.startPress(l,c)})},n=go(this.node.current,"keydown",e),r=()=>{this.isPressing&&rv("cancel",(o,i)=>this.cancelPress(o,i))},s=go(this.node.current,"blur",r);this.removeAccessibleListeners=Sa(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&It.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dP()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&It.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=_o(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=go(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Sa(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sx=new WeakMap,sv=new WeakMap,u5=t=>{const e=sx.get(t.target);e&&e(t)},d5=t=>{t.forEach(u5)};function h5({root:t,...e}){const n=t||document;sv.has(n)||sv.set(n,{});const r=sv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(d5,{root:t,...e})),r[s]}function f5(t,e,n){const r=h5(e);return sx.set(t,n),r.observe(t),()=>{sx.delete(t),r.unobserve(t)}}const m5={some:0,all:1};class p5 extends Ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:m5[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return f5(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(g5(e,n))&&this.startObserver()}unmount(){}}function g5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const v5={inView:{Feature:p5},tap:{Feature:c5},focus:{Feature:l5},hover:{Feature:i5}};function fP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function x5(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function y5(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Np(t,e,n){const r=t.getProps();return Cw(r,e,n!==void 0?n:r.custom,x5(t),y5(t))}let w5=Qt,Nw=Qt;const _a=t=>t*1e3,Co=t=>t/1e3,b5={current:!1},mP=t=>Array.isArray(t)&&typeof t[0]=="number";function pP(t){return!!(!t||typeof t=="string"&&gP[t]||mP(t)||Array.isArray(t)&&t.every(pP))}const yu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yu([0,.65,.55,1]),circOut:yu([.55,0,1,.45]),backIn:yu([.31,.01,.66,-.59]),backOut:yu([.33,1.53,.69,.99])};function vP(t){if(t)return mP(t)?yu(t):Array.isArray(t)?t.map(vP):gP[t]}function S5(t,e,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=vP(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function _5(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const xP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C5=1e-7,N5=12;function E5(t,e,n,r,s){let o,i,l=0;do i=e+(n-e)/2,o=xP(i,r,s)-t,o>0?n=i:e=i;while(Math.abs(o)>C5&&++l<N5);return i}function zd(t,e,n,r){if(t===e&&n===r)return Qt;const s=o=>E5(o,0,1,t,n);return o=>o===0||o===1?o:xP(s(o),e,r)}const j5=zd(.42,0,1,1),T5=zd(0,0,.58,1),yP=zd(.42,0,.58,1),k5=t=>Array.isArray(t)&&typeof t[0]!="number",wP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bP=t=>e=>1-t(1-e),Ew=t=>1-Math.sin(Math.acos(t)),SP=bP(Ew),P5=wP(Ew),_P=zd(.33,1.53,.69,.99),jw=bP(_P),I5=wP(jw),A5=t=>(t*=2)<1?.5*jw(t):.5*(2-Math.pow(2,-10*(t-1))),R5={linear:Qt,easeIn:j5,easeInOut:yP,easeOut:T5,circIn:Ew,circInOut:P5,circOut:SP,backIn:jw,backInOut:I5,backOut:_P,anticipate:A5},A_=t=>{if(Array.isArray(t)){Nw(t.length===4);const[e,n,r,s]=t;return zd(e,n,r,s)}else if(typeof t=="string")return R5[t];return t},Tw=(t,e)=>n=>!!(Fd(n)&&DF.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),CP=(t,e,n)=>r=>{if(!Fd(r))return r;const[s,o,i,l]=r.match(_p);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},D5=t=>Aa(0,255,t),ov={...el,transform:t=>Math.round(D5(t))},wi={test:Tw("rgb","red"),parse:CP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ov.transform(t)+", "+ov.transform(e)+", "+ov.transform(n)+", "+Lu(Ou.transform(r))+")"};function M5(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ox={test:Tw("#"),parse:M5,transform:wi.transform},Al={test:Tw("hsl","hue"),parse:CP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Gs.transform(Lu(e))+", "+Gs.transform(Lu(n))+", "+Lu(Ou.transform(r))+")"},ir={test:t=>wi.test(t)||ox.test(t)||Al.test(t),parse:t=>wi.test(t)?wi.parse(t):Al.test(t)?Al.parse(t):ox.parse(t),transform:t=>Fd(t)?t:t.hasOwnProperty("red")?wi.transform(t):Al.transform(t)},$t=(t,e,n)=>-n*t+n*e+t;function av(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function O5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,i=0;if(!e)s=o=i=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=av(c,l,t+1/3),o=av(c,l,t),i=av(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const iv=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},L5=[ox,wi,Al],F5=t=>L5.find(e=>e.test(t));function R_(t){const e=F5(t);let n=e.parse(t);return e===Al&&(n=O5(n)),n}const NP=(t,e)=>{const n=R_(t),r=R_(e),s={...n};return o=>(s.red=iv(n.red,r.red,o),s.green=iv(n.green,r.green,o),s.blue=iv(n.blue,r.blue,o),s.alpha=$t(n.alpha,r.alpha,o),wi.transform(s))};function V5(t){var e,n;return isNaN(t)&&Fd(t)&&(((e=t.match(_p))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Xk))===null||n===void 0?void 0:n.length)||0)>0}const EP={regex:AF,countKey:"Vars",token:"${v}",parse:Qt},jP={regex:Xk,countKey:"Colors",token:"${c}",parse:ir.parse},TP={regex:_p,countKey:"Numbers",token:"${n}",parse:el.parse};function lv(t,{regex:e,countKey:n,token:r,parse:s}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(s)))}function pm(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&lv(n,EP),lv(n,jP),lv(n,TP),n}function kP(t){return pm(t).values}function PP(t){const{values:e,numColors:n,numVars:r,tokenised:s}=pm(t),o=e.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(EP.token,i[c]):c<r+n?l=l.replace(jP.token,ir.transform(i[c])):l=l.replace(TP.token,Lu(i[c]));return l}}const z5=t=>typeof t=="number"?0:t;function B5(t){const e=kP(t);return PP(t)(e.map(z5))}const Ra={test:V5,parse:kP,createTransformer:PP,getAnimatableNone:B5},IP=(t,e)=>n=>`${n>0?e:t}`;function AP(t,e){return typeof t=="number"?n=>$t(t,e,n):ir.test(t)?NP(t,e):t.startsWith("var(")?IP(t,e):DP(t,e)}const RP=(t,e)=>{const n=[...t],r=n.length,s=t.map((o,i)=>AP(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},U5=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=AP(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},DP=(t,e)=>{const n=Ra.createTransformer(e),r=pm(t),s=pm(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Sa(RP(r.values,s.values),n):IP(t,e)},fd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},D_=(t,e)=>n=>$t(t,e,n);function $5(t){return typeof t=="number"?D_:typeof t=="string"?ir.test(t)?NP:DP:Array.isArray(t)?RP:typeof t=="object"?U5:D_}function q5(t,e,n){const r=[],s=n||$5(t[0]),o=t.length-1;for(let i=0;i<o;i++){let l=s(t[i],t[i+1]);if(e){const c=Array.isArray(e)?e[i]||Qt:e;l=Sa(c,l)}r.push(l)}return r}function MP(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Nw(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=q5(e,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=fd(t[d],t[d+1],u);return i[d](f)};return n?u=>c(Aa(t[0],t[o-1],u)):c}function W5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=fd(0,e,r);t.push($t(n,1,s))}}function H5(t){const e=[0];return W5(e,t.length-1),e}function G5(t,e){return t.map(n=>n*e)}function Y5(t,e){return t.map(()=>e||yP).splice(0,t.length-1)}function gm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=k5(r)?r.map(A_):A_(r),o={done:!1,value:e[0]},i=G5(n&&n.length===e.length?n:H5(e),t),l=MP(i,e,{ease:Array.isArray(s)?s:Y5(e,s)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}function OP(t,e){return e?t*(1e3/e):0}const K5=5;function LP(t,e,n){const r=Math.max(e-K5,0);return OP(n-t(r),e-r)}const cv=.001,Q5=.01,M_=10,X5=.05,Z5=1;function J5({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o;w5(t<=_a(M_));let i=1-e;i=Aa(X5,Z5,i),t=Aa(Q5,M_,Co(t)),i<1?(s=u=>{const d=u*i,f=d*t,m=d-n,p=ax(u,i),y=Math.exp(-f);return cv-m/p*y},o=u=>{const f=u*i*t,m=f*n+n,p=Math.pow(i,2)*Math.pow(u,2)*t,y=Math.exp(-f),x=ax(Math.pow(u,2),i);return(-s(u)+cv>0?-1:1)*((m-p)*y)/x}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-cv+d*f},o=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=tV(s,o,l);if(t=_a(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const eV=12;function tV(t,e,n){let r=n;for(let s=1;s<eV;s++)r=r-t(r)/e(r);return r}function ax(t,e){return t*Math.sqrt(1-e*e)}const nV=["duration","bounce"],rV=["stiffness","damping","mass"];function O_(t,e){return e.some(n=>t[n]!==void 0)}function sV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!O_(t,rV)&&O_(t,nV)){const n=J5(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function FP({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=sV({...r,velocity:-Co(r.velocity||0)}),p=f||0,y=c/(2*Math.sqrt(l*u)),x=o-s,_=Co(Math.sqrt(l/u)),S=Math.abs(x)<5;n||(n=S?.01:2),e||(e=S?.005:.5);let v;if(y<1){const b=ax(_,y);v=T=>{const R=Math.exp(-y*_*T);return o-R*((p+y*_*x)/b*Math.sin(b*T)+x*Math.cos(b*T))}}else if(y===1)v=b=>o-Math.exp(-_*b)*(x+(p+_*x)*b);else{const b=_*Math.sqrt(y*y-1);v=T=>{const R=Math.exp(-y*_*T),L=Math.min(b*T,300);return o-R*((p+y*_*x)*Math.sinh(L)+b*x*Math.cosh(L))/b}}return{calculatedDuration:m&&d||null,next:b=>{const T=v(b);if(m)i.done=b>=d;else{let R=p;b!==0&&(y<1?R=LP(v,b,T):R=0);const L=Math.abs(R)<=n,C=Math.abs(o-T)<=e;i.done=L&&C}return i.value=i.done?o:T,i}}}function L_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},p=N=>l!==void 0&&N<l||c!==void 0&&N>c,y=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let x=n*e;const _=f+x,S=i===void 0?_:i(_);S!==_&&(x=S-f);const v=N=>-x*Math.exp(-N/r),b=N=>S+v(N),T=N=>{const P=v(N),I=b(N);m.done=Math.abs(P)<=u,m.value=m.done?S:I};let R,L;const C=N=>{p(m.value)&&(R=N,L=FP({keyframes:[m.value,y(m.value)],velocity:LP(b,N,m.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:N=>{let P=!1;return!L&&R===void 0&&(P=!0,T(N),C(N)),R!==void 0&&N>R?L.next(N-R):(!P&&T(N),m)}}}const oV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>It.update(e,!0),stop:()=>Io(e),now:()=>Xn.isProcessing?Xn.timestamp:performance.now()}},F_=2e4;function V_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<F_;)e+=n,r=t.next(e);return e>=F_?1/0:e}const aV={decay:L_,inertia:L_,tween:gm,keyframes:gm,spring:FP};function vm({autoplay:t=!0,delay:e=0,driver:n=oV,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...m}){let p=1,y=!1,x,_;const S=()=>{_=new Promise(Z=>{x=Z})};S();let v;const b=aV[s]||gm;let T;b!==gm&&typeof r[0]!="number"&&(T=MP([0,100],r,{clamp:!1}),r=[0,100]);const R=b({...m,keyframes:r});let L;l==="mirror"&&(L=b({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let C="idle",N=null,P=null,I=null;R.calculatedDuration===null&&o&&(R.calculatedDuration=V_(R));const{calculatedDuration:k}=R;let j=1/0,A=1/0;k!==null&&(j=k+i,A=j*(o+1)-i);let F=0;const G=Z=>{if(P===null)return;p>0&&(P=Math.min(P,Z)),p<0&&(P=Math.min(Z-A/p,P)),N!==null?F=N:F=Math.round(Z-P)*p;const U=F-e*(p>=0?1:-1),pe=p>=0?U<0:U>A;F=Math.max(U,0),C==="finished"&&N===null&&(F=A);let ce=F,Ne=R;if(o){const ze=Math.min(F,A)/j;let H=Math.floor(ze),ie=ze%1;!ie&&ze>=1&&(ie=1),ie===1&&H--,H=Math.min(H,o+1),!!(H%2)&&(l==="reverse"?(ie=1-ie,i&&(ie-=i/j)):l==="mirror"&&(Ne=L)),ce=Aa(0,1,ie)*j}const De=pe?{done:!1,value:r[0]}:Ne.next(ce);T&&(De.value=T(De.value));let{done:Se}=De;!pe&&k!==null&&(Se=p>=0?F>=A:F<=0);const Ie=N===null&&(C==="finished"||C==="running"&&Se);return f&&f(De.value),Ie&&O(),De},Y=()=>{v&&v.stop(),v=void 0},q=()=>{C="idle",Y(),x(),S(),P=I=null},O=()=>{C="finished",d&&d(),Y(),x()},V=()=>{if(y)return;v||(v=n(G));const Z=v.now();c&&c(),N!==null?P=Z-N:(!P||C==="finished")&&(P=Z),C==="finished"&&S(),I=P,N=null,C="running",v.start()};t&&V();const Q={then(Z,U){return _.then(Z,U)},get time(){return Co(F)},set time(Z){Z=_a(Z),F=Z,N!==null||!v||p===0?N=Z:P=v.now()-Z/p},get duration(){const Z=R.calculatedDuration===null?V_(R):R.calculatedDuration;return Co(Z)},get speed(){return p},set speed(Z){Z===p||!v||(p=Z,Q.time=Co(F))},get state(){return C},play:V,pause:()=>{C="paused",N=F},stop:()=>{y=!0,C!=="idle"&&(C="idle",u&&u(),q())},cancel:()=>{I!==null&&G(I),q()},complete:()=>{C="finished"},sample:Z=>(P=0,G(Z))};return Q}function iV(t){let e;return()=>(e===void 0&&(e=t()),e)}const lV=iV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cV=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Fh=10,uV=2e4,dV=(t,e)=>e.type==="spring"||t==="backgroundColor"||!pP(e.ease);function hV(t,e,{onUpdate:n,onComplete:r,...s}){if(!(lV()&&cV.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:f,duration:m=300,ease:p,times:y}=s;if(dV(e,s)){const b=vm({...s,repeat:0,delay:0});let T={done:!1,value:f[0]};const R=[];let L=0;for(;!T.done&&L<uV;)T=b.sample(L),R.push(T.value),L+=Fh;y=void 0,f=R,m=L-Fh,p="linear"}const x=S5(t.owner.current,e,f,{...s,duration:m,ease:p,times:y}),_=()=>{u=!1,x.cancel()},S=()=>{u=!0,It.update(_),l(),d()};return x.onfinish=()=>{u||(t.set(_5(f,s)),r&&r(),S())},{then(b,T){return c.then(b,T)},attachTimeline(b){return x.timeline=b,x.onfinish=null,Qt},get time(){return Co(x.currentTime||0)},set time(b){x.currentTime=_a(b)},get speed(){return x.playbackRate},set speed(b){x.playbackRate=b},get duration(){return Co(m)},play:()=>{i||(x.play(),Io(_))},pause:()=>x.pause(),stop:()=>{if(i=!0,x.playState==="idle")return;const{currentTime:b}=x;if(b){const T=vm({...s,autoplay:!1});t.setWithVelocity(T.sample(b-Fh).value,T.sample(b).value,Fh)}S()},complete:()=>{u||x.finish()},cancel:S}}function fV({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Qt,pause:Qt,stop:Qt,then:o=>(o(),Promise.resolve()),cancel:Qt,complete:Qt});return e?vm({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const mV={type:"spring",stiffness:500,damping:25,restSpeed:10},pV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gV={type:"keyframes",duration:.8},vV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xV=(t,{keyframes:e})=>e.length>2?gV:Ji.has(t)?t.startsWith("scale")?pV(e[1]):mV:vV,ix=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ra.test(e)||e==="0")&&!e.startsWith("url(")),yV=new Set(["brightness","contrast","saturate","opacity"]);function wV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_p)||[];if(!r)return t;const s=n.replace(r,"");let o=yV.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const bV=/([a-z-]*)\(.*?\)/g,lx={...Ra,getAnimatableNone:t=>{const e=t.match(bV);return e?e.map(wV).join(" "):t}},SV={...Zk,color:ir,backgroundColor:ir,outlineColor:ir,fill:ir,stroke:ir,borderColor:ir,borderTopColor:ir,borderRightColor:ir,borderBottomColor:ir,borderLeftColor:ir,filter:lx,WebkitFilter:lx},kw=t=>SV[t];function VP(t,e){let n=kw(t);return n!==lx&&(n=Ra),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zP=t=>/^0[^.\s]+$/.test(t);function _V(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||zP(t)}function CV(t,e,n,r){const s=ix(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:t.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),_V(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=VP(e,l)}return o}function NV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Pw(t,e){return t[e]||t.default||t}const EV={skipAnimations:!1},Iw=(t,e,n,r={})=>s=>{const o=Pw(r,t)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-_a(i);const c=CV(e,t,n,o),u=c[0],d=c[c.length-1],f=ix(t,u),m=ix(t,d);let p={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:y=>{e.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(NV(o)||(p={...p,...xV(t,p)}),p.duration&&(p.duration=_a(p.duration)),p.repeatDelay&&(p.repeatDelay=_a(p.repeatDelay)),!f||!m||b5.current||o.type===!1||EV.skipAnimations)return fV(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=hV(e,t,p);if(y)return y}return vm(p)};function xm(t){return!!(Tr(t)&&t.add)}const BP=t=>/^\-?\d*\.?\d+$/.test(t);function Aw(t,e){t.indexOf(e)===-1&&t.push(e)}function Rw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Dw{constructor(){this.subscriptions=[]}add(e){return Aw(this.subscriptions,e),()=>Rw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jV=t=>!isNaN(parseFloat(t));class TV{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=Xn;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,It.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>It.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=jV(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Dw);const r=this.events[e].add(n);return e==="change"?()=>{r(),It.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?OP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sc(t,e){return new TV(t,e)}const UP=t=>e=>e.test(t),kV={test:t=>t==="auto",parse:t=>t},$P=[el,We,Gs,Jo,OF,MF,kV],lu=t=>$P.find(UP(t)),PV=[...$P,ir,Ra],IV=t=>PV.find(UP(t));function AV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,sc(n))}function RV(t,e){const n=Np(t,e);let{transitionEnd:r={},transition:s={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=QF(o[i]);AV(t,i,l)}}function DV(t,e,n){var r,s;const o=Object.keys(e).filter(l=>!t.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),d!=null&&(typeof d=="string"&&(BP(d)||zP(d))?d=parseFloat(d):!IV(d)&&Ra.test(u)&&(d=VP(c,u)),t.addValue(c,sc(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function MV(t,e){return e?(e[t]||e.default||e).from:void 0}function OV(t,e,n){const r={};for(const s in t){const o=MV(s,e);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function LV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function FV(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function qP(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const m=t.getValue(f),p=l[f];if(!m||p===void 0||d&&LV(d,f))continue;const y={delay:n,elapsed:0,...Pw(o||{},f)};if(window.HandoffAppearAnimations){const S=t.getProps()[Wk];if(S){const v=window.HandoffAppearAnimations(S,f,m,It);v!==null&&(y.elapsed=v,y.isHandoff=!0)}}let x=!y.isHandoff&&!FV(m,p);if(y.type==="spring"&&(m.getVelocity()||y.velocity)&&(x=!1),m.animation&&(x=!1),x)continue;m.start(Iw(f,m,p,t.shouldReduceMotion&&Ji.has(f)?{type:!1}:y));const _=m.animation;xm(c)&&(c.add(f),_.then(()=>c.remove(f))),u.push(_)}return i&&Promise.all(u).then(()=>{i&&RV(t,i)}),u}function cx(t,e,n={}){const r=Np(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(qP(t,r,n)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return VV(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function VV(t,e,n=0,r=0,s=1,o){const i=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(zV).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(cx(u,e,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function zV(t,e){return t.sortNodePosition(e)}function BV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>cx(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=cx(t,e,n);else{const s=typeof e=="function"?Np(t,e,n.custom):e;r=Promise.all(qP(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const UV=[...pw].reverse(),$V=pw.length;function qV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>BV(t,n,r)))}function WV(t){let e=qV(t);const n=GV();let r=!0;const s=(c,u)=>{const d=Np(t,u);if(d){const{transition:f,transitionEnd:m,...p}=d;c={...c,...p,...m}}return c};function o(c){e=c(t)}function i(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},m=[],p=new Set;let y={},x=1/0;for(let S=0;S<$V;S++){const v=UV[S],b=n[v],T=d[v]!==void 0?d[v]:f[v],R=dd(T),L=v===u?b.isActive:null;L===!1&&(x=S);let C=T===f[v]&&T!==d[v]&&R;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...y},!b.isActive&&L===null||!T&&!b.prevProp||bp(T)||typeof T=="boolean")continue;let P=HV(b.prevProp,T)||v===u&&b.isActive&&!C&&R||S>x&&R,I=!1;const k=Array.isArray(T)?T:[T];let j=k.reduce(s,{});L===!1&&(j={});const{prevResolvedValues:A={}}=b,F={...A,...j},G=Y=>{P=!0,p.has(Y)&&(I=!0,p.delete(Y)),b.needsAnimating[Y]=!0};for(const Y in F){const q=j[Y],O=A[Y];if(y.hasOwnProperty(Y))continue;let V=!1;mm(q)&&mm(O)?V=!fP(q,O):V=q!==O,V?q!==void 0?G(Y):p.add(Y):q!==void 0&&p.has(Y)?G(Y):b.protectedKeys[Y]=!0}b.prevProp=T,b.prevResolvedValues=j,b.isActive&&(y={...y,...j}),r&&t.blockInitialAnimation&&(P=!1),P&&(!C||I)&&m.push(...k.map(Y=>({animation:Y,options:{type:v,...c}})))}if(p.size){const S={};p.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(S[v]=b)}),m.push({animation:S})}let _=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(m):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const m=i(d,c);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function HV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fP(e,t):!1}function ii(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GV(){return{animate:ii(!0),whileInView:ii(),whileHover:ii(),whileTap:ii(),whileDrag:ii(),whileFocus:ii(),exit:ii()}}class YV extends Ya{constructor(e){super(e),e.animationState||(e.animationState=WV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),bp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let KV=0;class QV extends Ya{constructor(){super(...arguments),this.id=KV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const XV={animation:{Feature:YV},exit:{Feature:QV}},z_=(t,e)=>Math.abs(t-e);function ZV(t,e){const n=z_(t.x,e.x),r=z_(t.y,e.y);return Math.sqrt(n**2+r**2)}class WP{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=dv(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=ZV(f.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:y}=f,{timestamp:x}=Xn;this.history.push({...y,timestamp:x});const{onStart:_,onMove:S}=this.handlers;m||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=uv(m,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=dv(f.type==="pointercancel"?this.lastMoveEventInfo:uv(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,_),y&&y(f,_)},!lP(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=Cp(e),l=uv(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Xn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,dv(l,this.history)),this.removeListeners=Sa(_o(this.contextWindow,"pointermove",this.handlePointerMove),_o(this.contextWindow,"pointerup",this.handlePointerUp),_o(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Io(this.updatePoint)}}function uv(t,e){return e?{point:e(t.point)}:t}function B_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dv({point:t},e){return{point:t,delta:B_(t,HP(e)),offset:B_(t,JV(e)),velocity:e6(e,.1)}}function JV(t){return t[0]}function HP(t){return t[t.length-1]}function e6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=HP(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>_a(e)));)n--;if(!r)return{x:0,y:0};const o=Co(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Wr(t){return t.max-t.min}function ux(t,e=0,n=.01){return Math.abs(t-e)<=n}function U_(t,e,n,r=.5){t.origin=r,t.originPoint=$t(e.min,e.max,t.origin),t.scale=Wr(n)/Wr(e),(ux(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=$t(n.min,n.max,t.origin)-t.originPoint,(ux(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Fu(t,e,n,r){U_(t.x,e.x,n.x,r?r.originX:void 0),U_(t.y,e.y,n.y,r?r.originY:void 0)}function $_(t,e,n){t.min=n.min+e.min,t.max=t.min+Wr(e)}function t6(t,e,n){$_(t.x,e.x,n.x),$_(t.y,e.y,n.y)}function q_(t,e,n){t.min=e.min-n.min,t.max=t.min+Wr(e)}function Vu(t,e,n){q_(t.x,e.x,n.x),q_(t.y,e.y,n.y)}function n6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$t(n,t,r.max):Math.min(t,n)),t}function W_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function r6(t,{top:e,left:n,bottom:r,right:s}){return{x:W_(t.x,n,s),y:W_(t.y,e,r)}}function H_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function s6(t,e){return{x:H_(t.x,e.x),y:H_(t.y,e.y)}}function o6(t,e){let n=.5;const r=Wr(t),s=Wr(e);return s>r?n=fd(e.min,e.max-r,t.min):r>s&&(n=fd(t.min,t.max-s,e.min)),Aa(0,1,n)}function a6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dx=.35;function i6(t=dx){return t===!1?t=0:t===!0&&(t=dx),{x:G_(t,"left","right"),y:G_(t,"top","bottom")}}function G_(t,e,n){return{min:Y_(t,e),max:Y_(t,n)}}function Y_(t,e){return typeof t=="number"?t:t[e]||0}const K_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rl=()=>({x:K_(),y:K_()}),Q_=()=>({min:0,max:0}),sn=()=>({x:Q_(),y:Q_()});function Xr(t){return[t("x"),t("y")]}function GP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function l6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hv(t){return t===void 0||t===1}function hx({scale:t,scaleX:e,scaleY:n}){return!hv(t)||!hv(e)||!hv(n)}function di(t){return hx(t)||YP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function YP(t){return X_(t.x)||X_(t.y)}function X_(t){return t&&t!=="0%"}function ym(t,e,n){const r=t-n,s=e*r;return n+s}function Z_(t,e,n,r,s){return s!==void 0&&(t=ym(t,s,r)),ym(t,n,r)+e}function fx(t,e=0,n=1,r,s){t.min=Z_(t.min,e,n,r,s),t.max=Z_(t.max,e,n,r,s)}function KP(t,{x:e,y:n}){fx(t.x,e.translate,e.scale,e.originPoint),fx(t.y,n.translate,n.scale,n.originPoint)}function u6(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Dl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,KP(t,i)),r&&di(o.latestValues)&&Dl(t,o.latestValues))}e.x=J_(e.x),e.y=J_(e.y)}function J_(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ra(t,e){t.min=t.min+e,t.max=t.max+e}function eC(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,i=$t(t.min,t.max,o);fx(t,e[n],e[r],i,e.scale)}const d6=["x","scaleX","originX"],h6=["y","scaleY","originY"];function Dl(t,e){eC(t.x,e,d6),eC(t.y,e,h6)}function QP(t,e){return GP(c6(t.getBoundingClientRect(),e))}function f6(t,e,n){const r=QP(t,n),{scroll:s}=e;return s&&(ra(r.x,s.offset.x),ra(r.y,s.offset.y)),r}const XP=({current:t})=>t?t.ownerDocument.defaultView:null,m6=new WeakMap;class p6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cp(d,"page").point)},o=(d,f)=>{const{drag:m,dragPropagation:p,onDragStart:y}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uP(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xr(_=>{let S=this.getAxisMotionValue(_).get()||0;if(Gs.test(S)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[_];b&&(S=Wr(b)*(parseFloat(S)/100))}}this.originPoint[_]=S}),y&&It.update(()=>y(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:y,onDrag:x}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:_}=f;if(p&&this.currentDirection===null){this.currentDirection=g6(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Xr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new WP(e,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:XP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&It.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Vh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=n6(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Il(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=r6(s.layoutBox,n):this.constraints=!1,this.elastic=i6(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xr(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=a6(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Il(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=f6(r,s.root,this.visualElement.getTransformPagePoint());let i=s6(s.layout.layoutBox,o);if(n){const l=n(l6(i));this.hasMutatedConstraints=!!l,l&&(i=GP(l))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Xr(d=>{if(!Vh(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Iw(e,r,0,n))}stopAnimation(){Xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xr(n=>{const{drag:r}=this.getProps();if(!Vh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(e[n]-$t(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Il(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Xr(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=o6({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xr(i=>{if(!Vh(i,e,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set($t(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;m6.set(this.visualElement,this);const e=this.visualElement.current,n=_o(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Il(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=go(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=dx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function g6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class v6 extends Ya{constructor(e){super(e),this.removeGroupControls=Qt,this.removeListeners=Qt,this.controls=new p6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const tC=t=>(e,n)=>{t&&It.update(()=>t(e,n))};class x6 extends Ya{constructor(){super(...arguments),this.removePointerDownListener=Qt}onPointerDown(e){this.session=new WP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:tC(e),onStart:tC(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&It.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=_o(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function y6(){const t=g.useContext(yp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=g.useId();return g.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(We.test(t))t=parseFloat(t);else return t;const n=nC(t,e.target.x),r=nC(t,e.target.y);return`${n}% ${r}%`}},w6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ra.parse(t);if(s.length>5)return r;const o=Ra.createTransformer(t),i=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+i]/=l,s[1+i]/=c;const u=$t(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class b6 extends $e.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;TF(S6),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||It.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZP(t){const[e,n]=y6(),r=g.useContext(vw);return $e.createElement(b6,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(Gk),isPresent:e,safeToRemove:n})}const S6={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:w6},JP=["TopLeft","TopRight","BottomLeft","BottomRight"],_6=JP.length,rC=t=>typeof t=="string"?parseFloat(t):t,sC=t=>typeof t=="number"||We.test(t);function C6(t,e,n,r,s,o){s?(t.opacity=$t(0,n.opacity!==void 0?n.opacity:1,N6(r)),t.opacityExit=$t(e.opacity!==void 0?e.opacity:1,0,E6(r))):o&&(t.opacity=$t(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<_6;i++){const l=`border${JP[i]}Radius`;let c=oC(e,l),u=oC(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||sC(c)===sC(u)?(t[l]=Math.max($t(rC(c),rC(u),r),0),(Gs.test(u)||Gs.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=$t(e.rotate||0,n.rotate||0,r))}function oC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const N6=eI(0,.5,SP),E6=eI(.5,.95,Qt);function eI(t,e,n){return r=>r<t?0:r>e?1:n(fd(t,e,r))}function aC(t,e){t.min=e.min,t.max=e.max}function Kr(t,e){aC(t.x,e.x),aC(t.y,e.y)}function iC(t,e,n,r,s){return t-=e,t=ym(t,1/n,r),s!==void 0&&(t=ym(t,1/s,r)),t}function j6(t,e=0,n=1,r=.5,s,o=t,i=t){if(Gs.test(e)&&(e=parseFloat(e),e=$t(i.min,i.max,e/100)-i.min),typeof e!="number")return;let l=$t(o.min,o.max,r);t===o&&(l-=e),t.min=iC(t.min,e,n,l,s),t.max=iC(t.max,e,n,l,s)}function lC(t,e,[n,r,s],o,i){j6(t,e[n],e[r],e[s],e.scale,o,i)}const T6=["x","scaleX","originX"],k6=["y","scaleY","originY"];function cC(t,e,n,r){lC(t.x,e,T6,n?n.x:void 0,r?r.x:void 0),lC(t.y,e,k6,n?n.y:void 0,r?r.y:void 0)}function uC(t){return t.translate===0&&t.scale===1}function tI(t){return uC(t.x)&&uC(t.y)}function P6(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function nI(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function dC(t){return Wr(t.x)/Wr(t.y)}class I6{constructor(){this.members=[]}add(e){Aw(this.members,e),e.scheduleRender()}remove(e){if(Rw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hC(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=t.x.scale*e.x,l=t.y.scale*e.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const A6=(t,e)=>t.depth-e.depth;class R6{constructor(){this.children=[],this.isDirty=!1}add(e){Aw(this.children,e),this.isDirty=!0}remove(e){Rw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A6),this.isDirty=!1,this.children.forEach(e)}}function D6(t,e){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Io(r),t(o-e))};return It.read(r,!0),()=>Io(r)}function M6(t){window.MotionDebug&&window.MotionDebug.record(t)}function O6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function L6(t,e,n){const r=Tr(t)?t:sc(t);return r.start(Iw("",r,e,n)),r.animation}const fC=["","X","Y","Z"],F6={visibility:"hidden"},mC=1e3;let V6=0;const hi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=e==null?void 0:e()){this.id=V6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hi.totalNodes=hi.resolvedTargetDeltas=hi.recalculatedProjection=0,this.nodes.forEach(U6),this.nodes.forEach(G6),this.nodes.forEach(Y6),this.nodes.forEach($6),M6(hi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new R6)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Dw),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=O6(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=D6(m,250),Cf.hasAnimatedSinceResize&&(Cf.hasAnimatedSinceResize=!1,this.nodes.forEach(gC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||J6,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=d.getProps(),v=!this.targetLayout||!nI(this.targetLayout,y)||p,b=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const T={...Pw(x,"layout"),onPlay:_,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else m||gC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Io(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K6),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pC);return}this.isUpdating||this.nodes.forEach(W6),this.isUpdating=!1,this.nodes.forEach(H6),this.nodes.forEach(z6),this.nodes.forEach(B6),this.clearAllSnapshots();const l=performance.now();Xn.delta=Aa(0,1e3/60,l-Xn.timestamp),Xn.timestamp=l,Xn.isProcessing=!0,nv.update.process(Xn),nv.preRender.process(Xn),nv.render.process(Xn),Xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(q6),this.sharedNodes.forEach(Q6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!tI(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||di(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),e9(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return sn();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(ra(l.x,c.offset.x),ra(l.y,c.offset.y)),l}removeElementScroll(i){const l=sn();Kr(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Kr(l,i);const{scroll:m}=this.root;m&&(ra(l.x,-m.offset.x),ra(l.y,-m.offset.y))}ra(l.x,d.offset.x),ra(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=sn();Kr(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Dl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),di(d.latestValues)&&Dl(c,d.latestValues)}return di(this.latestValues)&&Dl(c,this.latestValues),c}removeTransform(i){const l=sn();Kr(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!di(u.latestValues))continue;hx(u.latestValues)&&u.updateSnapshot();const d=sn(),f=u.measurePageBox();Kr(d,f),cC(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return di(this.latestValues)&&cC(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Xn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Vu(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kr(this.target,this.layout.layoutBox),KP(this.target,this.targetDelta)):Kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Vu(this.relativeTargetOrigin,this.target,p.target),Kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hx(this.parent.latestValues)||YP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Kr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;u6(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=Rl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Rl(),this.projectionDeltaWithTransform=Rl());const x=this.projectionTransform;Fu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=hC(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),hi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=sn(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=p!==y,_=this.getStack(),S=!_||_.members.length<=1,v=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(Z6));this.animationProgress=0;let b;this.mixTargetDelta=T=>{const R=T/1e3;vC(f.x,i.x,R),vC(f.y,i.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),X6(this.relativeTarget,this.relativeTargetOrigin,m,R),b&&P6(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=sn()),Kr(b,this.relativeTarget)),x&&(this.animationValues=d,C6(d,u,this.latestValues,R,v,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Io(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{Cf.hasAnimatedSinceResize=!0,this.currentAnimation=L6(0,mC,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&sI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||sn();const f=Wr(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const m=Wr(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+m}Kr(l,c),Dl(l,d),Fu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new I6),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<fC.length;d++){const f="rotate"+fC[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F6;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=_f(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=_f(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!di(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=hC(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in hm){if(m[x]===void 0)continue;const{correct:_,applyTo:S}=hm[x],v=u.transform==="none"?m[x]:_(m[x],f);if(S){const b=S.length;for(let T=0;T<b;T++)u[S[T]]=v}else u[x]=v}return this.options.layoutId&&(u.pointerEvents=f===this?_f(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(pC),this.root.sharedNodes.clear()}}}function z6(t){t.updateLayout()}function B6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,i=n.source!==t.layout.source;o==="size"?Xr(f=>{const m=i?n.measuredBox[f]:n.layoutBox[f],p=Wr(m);m.min=r[f].min,m.max=m.min+p}):sI(o,n.layoutBox,r)&&Xr(f=>{const m=i?n.measuredBox[f]:n.layoutBox[f],p=Wr(r[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const l=Rl();Fu(l,r,n.layoutBox);const c=Rl();i?Fu(c,t.applyTransform(s,!0),n.measuredBox):Fu(c,r,n.layoutBox);const u=!tI(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const y=sn();Vu(y,n.layoutBox,m.layoutBox);const x=sn();Vu(x,r,p.layoutBox),nI(y,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function U6(t){hi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q6(t){t.clearSnapshot()}function pC(t){t.clearMeasurements()}function W6(t){t.isLayoutDirty=!1}function H6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function G6(t){t.resolveTargetDelta()}function Y6(t){t.calcProjection()}function K6(t){t.resetRotation()}function Q6(t){t.removeLeadSnapshot()}function vC(t,e,n){t.translate=$t(e.translate,0,n),t.scale=$t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xC(t,e,n,r){t.min=$t(e.min,n.min,r),t.max=$t(e.max,n.max,r)}function X6(t,e,n,r){xC(t.x,e.x,n.x,r),xC(t.y,e.y,n.y,r)}function Z6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const J6={duration:.45,ease:[.4,0,.1,1]},yC=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),wC=yC("applewebkit/")&&!yC("chrome/")?Math.round:Qt;function bC(t){t.min=wC(t.min),t.max=wC(t.max)}function e9(t){bC(t.x),bC(t.y)}function sI(t,e,n){return t==="position"||t==="preserve-aspect"&&!ux(dC(e),dC(n),.2)}const t9=rI({attachResizeListener:(t,e)=>go(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fv={current:void 0},oI=rI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fv.current){const t=new t9({});t.mount(window),t.setOptions({layoutScroll:!0}),fv.current=t}return fv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),n9={pan:{Feature:x6},drag:{Feature:v6,ProjectionNode:oI,MeasureLayout:ZP}},r9=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function s9(t){const e=r9.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function mx(t,e,n=1){const[r,s]=s9(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return BP(i)?parseFloat(i):i}else return rx(s)?mx(s,e,n+1):s}function o9(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const o=s.get();if(!rx(o))return;const i=mx(o,r);i&&s.set(i)});for(const s in e){const o=e[s];if(!rx(o))continue;const i=mx(o,r);i&&(e[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:e,transitionEnd:n}}const a9=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),aI=t=>a9.has(t),i9=t=>Object.keys(t).some(aI),SC=t=>t===el||t===We,_C=(t,e)=>parseFloat(t.split(", ")[e]),CC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return _C(s[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?_C(o[1],t):0}},l9=new Set(["x","y","z"]),c9=Ld.filter(t=>!l9.has(t));function u9(t){const e=[];return c9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const oc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:CC(4,13),y:CC(5,14)};oc.translateX=oc.x;oc.translateY=oc.y;const d9=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=oc[u](r,o)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=oc[u](c,o)}),t},h9=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(aI);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],f=lu(d);const m=e[c];let p;if(mm(m)){const y=m.length,x=m[0]===null?1:0;d=m[x],f=lu(d);for(let _=x;_<y&&m[_]!==null;_++)p?Nw(lu(m[_])===p):p=lu(m[_])}else p=lu(m);if(f!==p)if(SC(f)&&SC(p)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&p===We&&(e[c]=m.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||m===0)?d===0?u.set(p.transform(d)):e[c]=f.transform(m):(i||(o=u9(t),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=d9(e,t,l);return o.length&&o.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),wp&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function f9(t,e,n,r){return i9(e)?h9(t,e,n,r):{target:e,transitionEnd:r}}const m9=(t,e,n,r)=>{const s=o9(t,e,r);return e=s.target,r=s.transitionEnd,f9(t,e,n,r)},px={current:null},iI={current:!1};function p9(){if(iI.current=!0,!!wp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>px.current=t.matches;t.addListener(e),e()}else px.current=!1}function g9(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],i=n[s];if(Tr(o))t.addValue(s,o),xm(r)&&r.add(s);else if(Tr(i))t.addValue(s,sc(o,{owner:t})),xm(r)&&r.remove(s);else if(i!==o)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(s);t.addValue(s,sc(l!==void 0?l:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const NC=new WeakMap,lI=Object.keys(hd),v9=lI.length,EC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],x9=gw.length;class y9{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>It.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Sp(n),this.isVariantNode=Hk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const m=d[f];l[f]!==void 0&&Tr(m)&&(m.set(l[f],!1),xm(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,NC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iI.current||p9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:px.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){NC.delete(this.current),this.projection&&this.projection.unmount(),Io(this.notifyUpdate),Io(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ji.has(e),s=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&It.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,o){let i,l;for(let c=0;c<v9;c++){const u=lI[c],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:p}=hd[u];m&&(i=m),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Il(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:p})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<EC.length;r++){const s=EC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=e["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=g9(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<x9;r++){const s=gw[r],o=this.props[s];(dd(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=sc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Cw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Tr(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Dw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class cI extends y9{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},o){let i=OV(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){DV(this,r,i);const l=m9(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function w9(t){return window.getComputedStyle(t)}class b9 extends cI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ji.has(n)){const r=kw(n);return r&&r.default||0}else{const r=w9(e),s=(Qk(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QP(e,n)}build(e,n,r,s){yw(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return _w(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){nP(e,n,r,s)}}class S9 extends cI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ji.has(n)){const r=kw(n);return r&&r.default||0}return n=rP.has(n)?n:mw(n),e.getAttribute(n)}measureInstanceViewportBox(){return sn()}scrapeMotionValuesFromProps(e,n){return oP(e,n)}build(e,n,r,s){bw(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){sP(e,n,r,s)}mount(e){this.isSVGTag=Sw(e.tagName),super.mount(e)}}const _9=(t,e)=>xw(t)?new S9(e,{enableHardwareAcceleration:!1}):new b9(e,{enableHardwareAcceleration:!0}),C9={layout:{ProjectionNode:oI,MeasureLayout:ZP}},N9={...XV,...v5,...n9,...C9},me=EF((t,e)=>s5(t,e,N9,_9));function uI(){const t=g.useRef(!1);return fw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function E9(){const t=uI(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>It.postRender(r),[r]),e]}class j9 extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T9({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(e||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),g.createElement(j9,{isPresent:e,childRef:r,sizeRef:s},g.cloneElement(t,{ref:r}))}const mv=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=aP(k9),c=g.useId(),u=g.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return g.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(t=g.createElement(T9,{isPresent:n},t)),g.createElement(yp.Provider,{value:u},t)};function k9(){return new Map}function P9(t){return g.useEffect(()=>()=>t(),[])}const fi=t=>t.key||"";function I9(t,e){t.forEach(n=>{const r=fi(n);e.set(r,n)})}function A9(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const wm=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=g.useContext(vw).forceRender||E9()[0],c=uI(),u=A9(t);let d=u;const f=g.useRef(new Map).current,m=g.useRef(d),p=g.useRef(new Map).current,y=g.useRef(!0);if(fw(()=>{y.current=!1,I9(u,p),m.current=d}),P9(()=>{y.current=!0,p.clear(),f.clear()}),y.current)return g.createElement(g.Fragment,null,d.map(v=>g.createElement(mv,{key:fi(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},v)));d=[...d];const x=m.current.map(fi),_=u.map(fi),S=x.length;for(let v=0;v<S;v++){const b=x[v];_.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((v,b)=>{if(_.indexOf(b)!==-1)return;const T=p.get(b);if(!T)return;const R=x.indexOf(b);let L=v;if(!L){const C=()=>{f.delete(b);const N=Array.from(p.keys()).filter(P=>!_.includes(P));if(N.forEach(P=>p.delete(P)),m.current=u.filter(P=>{const I=fi(P);return I===b||N.includes(I)}),!f.size){if(c.current===!1)return;l(),r&&r()}};L=g.createElement(mv,{key:fi(T),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:o,mode:i},T),f.set(b,L)}d.splice(R,0,L)}),d=d.map(v=>{const b=v.key;return f.has(b)?v:g.createElement(mv,{key:fi(v),isPresent:!0,presenceAffectsLayout:o,mode:i},v)}),g.createElement(g.Fragment,null,f.size?d:d.map(v=>g.cloneElement(v)))};var R9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const D9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ye=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},u)=>g.createElement("svg",{ref:u,...R9,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${D9(t)}`,...c},[...e.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},gx=ye("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),_s=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),M9=ye("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),jC=ye("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),O9=ye("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),L9=ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),TC=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),F9=ye("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),pv=ye("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),V9=ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),z9=ye("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),yn=ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),gv=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),zh=ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Bs=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ji=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ca=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),B9=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),dI=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),hI=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),U9=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$9=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),sa=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Bh=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),vx=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),bm=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Vn=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ac=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ql=ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),q9=ye("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),ur=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Mw=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),vv=ye("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),fI=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),W9=ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),kC=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),mI=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),PC=ye("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),H9=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),IC=ye("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),xx=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),AC=ye("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Ti=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Sm=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),G9=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Y9=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),K9=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Q9=ye("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),X9=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),An=ye("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),xv=ye("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),rs=ye("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),ki=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),yv=ye("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),RC=ye("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Rn=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),md=ye("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Uh=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),pI=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),gI=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),wr=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),vo=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ic=ye("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),gr=ye("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Nf=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Z9=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),zu=ye("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),wu=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),DC=ye("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),ss=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xo=ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),er=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),J9=ye("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Ow=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ez=ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),bu=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),tz=ye("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Vr=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),os=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),nz=ye("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),rz=ye("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),sz=ye("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),jr=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pd=ye("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),oz=ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function vI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=vI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=vI(t))&&(r&&(r+=" "),r+=e);return r}function az(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=yI(e))&&(r&&(r+=" "),r+=n);return r}function yI(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=yI(t[r]))&&(n&&(n+=" "),n+=e);return n}var Lw="-";function iz(t){var e=cz(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(Lw);return c[0]===""&&c.length!==1&&c.shift(),wI(c,e)||lz(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function wI(t,e){var i;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?wI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var o=t.join(Lw);return(i=e.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var MC=/^\[(.+)\]$/;function lz(t){if(MC.test(t)){var e=MC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function cz(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=dz(Object.entries(t.classGroups),n);return s.forEach(function(o){var i=o[0],l=o[1];yx(l,r,i,e)}),r}function yx(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var o=s===""?e:OC(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(uz(s)){yx(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];yx(c,OC(e,l),n,r)})})}function OC(t,e){var n=t;return e.split(Lw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function uz(t){return t.isThemeGetter}function dz(t,e){return e?t.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[e+c,u]})):i});return[r,o]}):t}function hz(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var bI="!";function fz(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(i){for(var l=[],c=0,u=0,d,f=0;f<i.length;f++){var m=i[f];if(c===0){if(m===r&&(n||i.slice(f,f+s)===e)){l.push(i.slice(u,f)),u=f+s;continue}if(m==="/"){d=f;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?i:i.substring(u),y=p.startsWith(bI),x=y?p.substring(1):p,_=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:_}}}function mz(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function pz(t){return{cache:hz(t.cacheSize),splitModifiers:fz(t),...iz(t)}}var gz=/\s+/;function vz(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(gz).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,m=r(f?d.substring(0,f):d),p=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:i};if(m=r(d),!m)return{isTailwindClass:!1,originalClassName:i};p=!1}var y=mz(c).join(":"),x=u?y+bI:y;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function xz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,o,i=l;function l(u){var d=e[0],f=e.slice(1),m=f.reduce(function(p,y){return y(p)},d());return r=pz(m),s=r.cache.get,o=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=vz(u,r);return o(u,f),f}return function(){return i(az.apply(null,arguments))}}function Dt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var SI=/^\[(?:([a-z-]+):)?(.+)\]$/i,yz=/^\d+\/\d+$/,wz=new Set(["px","full","screen"]),bz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_z=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function fs(t){return bi(t)||wz.has(t)||yz.test(t)||wx(t)}function wx(t){return tl(t,"length",kz)}function Cz(t){return tl(t,"size",_I)}function Nz(t){return tl(t,"position",_I)}function Ez(t){return tl(t,"url",Pz)}function $h(t){return tl(t,"number",bi)}function bi(t){return!Number.isNaN(Number(t))}function jz(t){return t.endsWith("%")&&bi(t.slice(0,-1))}function uu(t){return LC(t)||tl(t,"number",LC)}function dt(t){return SI.test(t)}function du(){return!0}function Yo(t){return bz.test(t)}function Tz(t){return tl(t,"",Iz)}function tl(t,e,n){var r=SI.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function kz(t){return Sz.test(t)}function _I(){return!1}function Pz(t){return t.startsWith("url(")}function LC(t){return Number.isInteger(Number(t))}function Iz(t){return _z.test(t)}function Az(){var t=Dt("colors"),e=Dt("spacing"),n=Dt("blur"),r=Dt("brightness"),s=Dt("borderColor"),o=Dt("borderRadius"),i=Dt("borderSpacing"),l=Dt("borderWidth"),c=Dt("contrast"),u=Dt("grayscale"),d=Dt("hueRotate"),f=Dt("invert"),m=Dt("gap"),p=Dt("gradientColorStops"),y=Dt("gradientColorStopPositions"),x=Dt("inset"),_=Dt("margin"),S=Dt("opacity"),v=Dt("padding"),b=Dt("saturate"),T=Dt("scale"),R=Dt("sepia"),L=Dt("skew"),C=Dt("space"),N=Dt("translate"),P=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",dt,e]},j=function(){return[dt,e]},A=function(){return["",fs]},F=function(){return["auto",bi,dt]},G=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Y=function(){return["solid","dashed","dotted","double","none"]},q=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},O=function(){return["start","end","center","between","around","evenly","stretch"]},V=function(){return["","0",dt]},Q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Z=function(){return[bi,$h]},U=function(){return[bi,dt]};return{cacheSize:500,theme:{colors:[du],spacing:[fs],blur:["none","",Yo,dt],brightness:Z(),borderColor:[t],borderRadius:["none","","full",Yo,dt],borderSpacing:j(),borderWidth:A(),contrast:Z(),grayscale:V(),hueRotate:U(),invert:V(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[jz,wx],inset:k(),margin:k(),opacity:Z(),padding:j(),saturate:Z(),scale:Z(),sepia:V(),skew:U(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",dt]}],container:["container"],columns:[{columns:[Yo]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(G(),[dt])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uu]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dt]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",uu]}],"grid-cols":[{"grid-cols":[du]}],"col-start-end":[{col:["auto",{span:["full",uu]},dt]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[du]}],"row-start-end":[{row:["auto",{span:[uu]},dt]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(O())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(O(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(O(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",dt,e]}],"min-w":[{"min-w":["min","max","fit",dt,fs]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Yo]},Yo,dt]}],h:[{h:[dt,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",dt,fs]}],"max-h":[{"max-h":[dt,e,"min","max","fit"]}],"font-size":[{text:["base",Yo,wx]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$h]}],"font-family":[{font:[du]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dt]}],"line-clamp":[{"line-clamp":["none",bi,$h]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dt,fs]}],"list-image":[{"list-image":["none",dt]}],"list-style-type":[{list:["none","disc","decimal",dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Y(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",fs]}],"underline-offset":[{"underline-offset":["auto",dt,fs]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(G(),[Nz])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ez]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[].concat(Y(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(Y())}],"outline-offset":[{"outline-offset":[dt,fs]}],"outline-w":[{outline:[fs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[fs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yo,Tz]}],"shadow-color":[{shadow:[du]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":q()}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yo,dt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dt]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",dt]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[uu,dt]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dt]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fs,$h]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Rz=xz(Az);function rt(...t){return Rz(xI(t))}function FC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CI(...t){return e=>{let n=!1;const r=t.map(s=>{const o=FC(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():FC(t[s],null)}}}}function jt(...t){return g.useCallback(CI(...t),t)}function Fi(t){const e=Mz(t),n=g.forwardRef((r,s)=>{const{children:o,...i}=r,l=g.Children.toArray(o),c=l.find(Lz);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...i,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var Dz=Fi("Slot");function Mz(t){const e=g.forwardRef((n,r)=>{const{children:s,...o}=n;if(g.isValidElement(s)){const i=Vz(s),l=Fz(o,s.props);return s.type!==g.Fragment&&(l.ref=r?CI(r,i):i),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var NI=Symbol("radix.slottable");function Oz(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=NI,e}function Lz(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NI}function Fz(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function Vz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const VC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zC=xI,Ep=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return zC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const m=VC(d)||VC(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(y=>{let[x,_]=y;return Array.isArray(_)?_.includes({...o,...l}[x]):{...o,...l}[x]===_})?[...u,f,m]:u},[]);return zC(t,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},zz=Ep("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=$e.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?Dz:"button";return a.jsx(i,{className:rt(zz({variant:e,size:n,className:t})),ref:o,...s})});X.displayName="Button";function Le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Bz(t,e){const n=g.createContext(e),r=o=>{const{children:i,...l}=o,c=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=t+"Provider";function s(o){const i=g.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function oo(t,e=[]){let n=[];function r(o,i){const l=g.createContext(i),c=n.length;n=[...n,i];const u=f=>{var S;const{scope:m,children:p,...y}=f,x=((S=m==null?void 0:m[t])==null?void 0:S[c])||l,_=g.useMemo(()=>y,Object.values(y));return a.jsx(x.Provider,{value:_,children:p})};u.displayName=o+"Provider";function d(f,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,y=g.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,Uz(s,...e)]}function Uz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Fw(t){const e=t+"CollectionProvider",[n,r]=oo(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:_,children:S}=x,v=$e.useRef(null),b=$e.useRef(new Map).current;return a.jsx(s,{scope:_,itemMap:b,collectionRef:v,children:S})};i.displayName=e;const l=t+"CollectionSlot",c=Fi(l),u=$e.forwardRef((x,_)=>{const{scope:S,children:v}=x,b=o(l,S),T=jt(_,b.collectionRef);return a.jsx(c,{ref:T,children:v})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=Fi(d),p=$e.forwardRef((x,_)=>{const{scope:S,children:v,...b}=x,T=$e.useRef(null),R=jt(_,T),L=o(d,S);return $e.useEffect(()=>(L.itemMap.set(T,{ref:T,...b}),()=>void L.itemMap.delete(T))),a.jsx(m,{[f]:"",ref:R,children:v})});p.displayName=d;function y(x){const _=o(t+"CollectionConsumer",x);return $e.useCallback(()=>{const v=_.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((L,C)=>b.indexOf(L.ref.current)-b.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},y,r]}var $z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tt=$z.reduce((t,e)=>{const n=Fi(`Primitive.${e}`),r=g.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function EI(t,e){t&&Ps.flushSync(()=>t.dispatchEvent(e))}function cs(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function qz(t,e=globalThis==null?void 0:globalThis.document){const n=cs(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Wz="DismissableLayer",bx="dismissableLayer.update",Hz="dismissableLayer.pointerDownOutside",Gz="dismissableLayer.focusOutside",BC,jI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=t,u=g.useContext(jI),[d,f]=g.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),y=jt(e,C=>f(C)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),v=d?x.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,T=v>=S,R=Kz(C=>{const N=C.target,P=[...u.branches].some(I=>I.contains(N));!T||P||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),L=Qz(C=>{const N=C.target;[...u.branches].some(I=>I.contains(N))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return qz(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(BC=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),UC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=BC)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),UC())},[d,u]),g.useEffect(()=>{const C=()=>p({});return document.addEventListener(bx,C),()=>document.removeEventListener(bx,C)},[]),a.jsx(tt.div,{...c,ref:y,style:{pointerEvents:b?T?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,R.onPointerDownCapture)})});Nc.displayName=Wz;var Yz="DismissableLayerBranch",TI=g.forwardRef((t,e)=>{const n=g.useContext(jI),r=g.useRef(null),s=jt(e,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(tt.div,{...t,ref:s})});TI.displayName=Yz;function Kz(t,e=globalThis==null?void 0:globalThis.document){const n=cs(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){kI(Hz,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Qz(t,e=globalThis==null?void 0:globalThis.document){const n=cs(t),r=g.useRef(!1);return g.useEffect(()=>{const s=o=>{o.target&&!r.current&&kI(Gz,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UC(){const t=new CustomEvent(bx);document.dispatchEvent(t)}function kI(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?EI(s,o):s.dispatchEvent(o)}var Xz=Nc,Zz=TI,$n=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Jz="Portal",Bd=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,o]=g.useState(!1);$n(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?_3.createPortal(a.jsx(tt.div,{...r,ref:e}),i):null});Bd.displayName=Jz;function eB(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var zo=t=>{const{present:e,children:n}=t,r=tB(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=jt(r.ref,nB(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};zo.displayName="Presence";function tB(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),o=g.useRef("none"),i=t?"mounted":"unmounted",[l,c]=eB(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=qh(r.current);o.current=l==="mounted"?u:"none"},[l]),$n(()=>{const u=r.current,d=s.current;if(d!==t){const m=o.current,p=qh(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),$n(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const x=qh(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&x&&(c("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=p=>{p.target===e&&(o.current=qh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function qh(t){return(t==null?void 0:t.animationName)||"none"}function nB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rB=Aj[" useInsertionEffect ".trim().toString()]||$n;function Vi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=sB({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=g.useCallback(d=>{var f;if(l){const m=oB(d)?d(t):d;m!==t&&((f=i.current)==null||f.call(i,m))}else o(d)},[l,t,o,i]);return[c,u]}function sB({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),o=g.useRef(e);return rB(()=>{o.current=e},[e]),g.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function oB(t){return typeof t=="function"}var PI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aB="VisuallyHidden",jp=g.forwardRef((t,e)=>a.jsx(tt.span,{...t,ref:e,style:{...PI,...t.style}}));jp.displayName=aB;var iB=jp,Vw="ToastProvider",[zw,lB,cB]=Fw("Toast"),[II,one]=oo("Toast",[cB]),[uB,Tp]=II(Vw),AI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),m=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vw}\`. Expected non-empty \`string\`.`),a.jsx(zw.Provider,{scope:e,children:a.jsx(uB,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};AI.displayName=Vw;var RI="ToastViewport",dB=["F8"],Sx="toast.viewportPause",_x="toast.viewportResume",DI=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dB,label:s="Notifications ({hotkey})",...o}=t,i=Tp(RI,n),l=lB(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),m=jt(e,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;g.useEffect(()=>{const _=S=>{var b;r.length!==0&&r.every(T=>S[T]||S.code===T)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),g.useEffect(()=>{const _=c.current,S=f.current;if(y&&_&&S){const v=()=>{if(!i.isClosePausedRef.current){const L=new CustomEvent(Sx);S.dispatchEvent(L),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const L=new CustomEvent(_x);S.dispatchEvent(L),i.isClosePausedRef.current=!1}},T=L=>{!_.contains(L.relatedTarget)&&b()},R=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",v),_.addEventListener("focusout",T),_.addEventListener("pointermove",v),_.addEventListener("pointerleave",R),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",v),_.removeEventListener("focusout",T),_.removeEventListener("pointermove",v),_.removeEventListener("pointerleave",R),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[y,i.isClosePausedRef]);const x=g.useCallback(({tabbingDirection:_})=>{const v=l().map(b=>{const T=b.ref.current,R=[T,...CB(T)];return _==="forwards"?R:R.reverse()});return(_==="forwards"?v.reverse():v).flat()},[l]);return g.useEffect(()=>{const _=f.current;if(_){const S=v=>{var R,L,C;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const N=document.activeElement,P=v.shiftKey;if(v.target===_&&P){(R=u.current)==null||R.focus();return}const j=x({tabbingDirection:P?"backwards":"forwards"}),A=j.findIndex(F=>F===N);wv(j.slice(A+1))?v.preventDefault():P?(L=u.current)==null||L.focus():(C=d.current)==null||C.focus()}};return _.addEventListener("keydown",S),()=>_.removeEventListener("keydown",S)}},[l,x]),a.jsxs(Zz,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(Cx,{ref:u,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"forwards"});wv(_)}}),a.jsx(zw.Slot,{scope:n,children:a.jsx(tt.ol,{tabIndex:-1,...o,ref:m})}),y&&a.jsx(Cx,{ref:d,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"backwards"});wv(_)}})]})});DI.displayName=RI;var MI="ToastFocusProxy",Cx=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=Tp(MI,n);return a.jsx(jp,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});Cx.displayName=MI;var Ud="Toast",hB="toast.swipeStart",fB="toast.swipeMove",mB="toast.swipeCancel",pB="toast.swipeEnd",OI=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[l,c]=Vi({prop:r,defaultProp:s??!0,onChange:o,caller:Ud});return a.jsx(zo,{present:n||l,children:a.jsx(xB,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:cs(t.onPause),onResume:cs(t.onResume),onSwipeStart:Le(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Le(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});OI.displayName=Ud;var[gB,vB]=II(Ud,{onClose(){}}),xB=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...y}=t,x=Tp(Ud,n),[_,S]=g.useState(null),v=jt(e,F=>S(F)),b=g.useRef(null),T=g.useRef(null),R=s||x.duration,L=g.useRef(0),C=g.useRef(R),N=g.useRef(0),{onToastAdd:P,onToastRemove:I}=x,k=cs(()=>{var G;(_==null?void 0:_.contains(document.activeElement))&&((G=x.viewport)==null||G.focus()),i()}),j=g.useCallback(F=>{!F||F===1/0||(window.clearTimeout(N.current),L.current=new Date().getTime(),N.current=window.setTimeout(k,F))},[k]);g.useEffect(()=>{const F=x.viewport;if(F){const G=()=>{j(C.current),u==null||u()},Y=()=>{const q=new Date().getTime()-L.current;C.current=C.current-q,window.clearTimeout(N.current),c==null||c()};return F.addEventListener(Sx,Y),F.addEventListener(_x,G),()=>{F.removeEventListener(Sx,Y),F.removeEventListener(_x,G)}}},[x.viewport,R,c,u,j]),g.useEffect(()=>{o&&!x.isClosePausedRef.current&&j(R)},[o,R,x.isClosePausedRef,j]),g.useEffect(()=>(P(),()=>I()),[P,I]);const A=g.useMemo(()=>_?$I(_):null,[_]);return x.viewport?a.jsxs(a.Fragment,{children:[A&&a.jsx(yB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:A}),a.jsx(gB,{scope:n,onClose:k,children:Ps.createPortal(a.jsx(zw.ItemSlot,{scope:n,children:a.jsx(Xz,{asChild:!0,onEscapeKeyDown:Le(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(tt.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Le(t.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Le(t.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:Le(t.onPointerMove,F=>{if(!b.current)return;const G=F.clientX-b.current.x,Y=F.clientY-b.current.y,q=!!T.current,O=["left","right"].includes(x.swipeDirection),V=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Q=O?V(0,G):0,Z=O?0:V(0,Y),U=F.pointerType==="touch"?10:2,pe={x:Q,y:Z},ce={originalEvent:F,delta:pe};q?(T.current=pe,Wh(fB,f,ce,{discrete:!1})):$C(pe,x.swipeDirection,U)?(T.current=pe,Wh(hB,d,ce,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(G)>U||Math.abs(Y)>U)&&(b.current=null)}),onPointerUp:Le(t.onPointerUp,F=>{const G=T.current,Y=F.target;if(Y.hasPointerCapture(F.pointerId)&&Y.releasePointerCapture(F.pointerId),T.current=null,b.current=null,G){const q=F.currentTarget,O={originalEvent:F,delta:G};$C(G,x.swipeDirection,x.swipeThreshold)?Wh(pB,p,O,{discrete:!0}):Wh(mB,m,O,{discrete:!0}),q.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),yB=t=>{const{__scopeToast:e,children:n,...r}=t,s=Tp(Ud,e),[o,i]=g.useState(!1),[l,c]=g.useState(!1);return SB(()=>i(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Bd,{asChild:!0,children:a.jsx(jp,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},wB="ToastTitle",LI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(tt.div,{...r,ref:e})});LI.displayName=wB;var bB="ToastDescription",FI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(tt.div,{...r,ref:e})});FI.displayName=bB;var VI="ToastAction",zI=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(UI,{altText:n,asChild:!0,children:a.jsx(Bw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${VI}\`. Expected non-empty \`string\`.`),null)});zI.displayName=VI;var BI="ToastClose",Bw=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=vB(BI,n);return a.jsx(UI,{asChild:!0,children:a.jsx(tt.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,s.onClose)})})});Bw.displayName=BI;var UI=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function $I(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_B(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...$I(r))}}),e}function Wh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?EI(s,o):s.dispatchEvent(o)}var $C=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function SB(t=()=>{}){const e=cs(t);$n(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _B(t){return t.nodeType===t.ELEMENT_NODE}function CB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function wv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var NB=AI,qI=DI,WI=OI,HI=LI,GI=FI,YI=zI,KI=Bw;const EB=NB,QI=$e.forwardRef(({className:t,...e},n)=>a.jsx(qI,{ref:n,className:rt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));QI.displayName=qI.displayName;const jB=Ep("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XI=$e.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(WI,{ref:r,className:rt(jB({variant:e}),t),...n}));XI.displayName=WI.displayName;const TB=$e.forwardRef(({className:t,...e},n)=>a.jsx(YI,{ref:n,className:rt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));TB.displayName=YI.displayName;const ZI=$e.forwardRef(({className:t,...e},n)=>a.jsx(KI,{ref:n,className:rt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(jr,{className:"h-4 w-4"})}));ZI.displayName=KI.displayName;const JI=$e.forwardRef(({className:t,...e},n)=>a.jsx(HI,{ref:n,className:rt("text-sm font-semibold",t),...e}));JI.displayName=HI.displayName;const e2=$e.forwardRef(({className:t,...e},n)=>a.jsx(GI,{ref:n,className:rt("text-sm opacity-90",t),...e}));e2.displayName=GI.displayName;const kB=5;let bv=0;function PB(){return bv=(bv+1)%Number.MAX_VALUE,bv.toString()}const lr={state:{toasts:[]},listeners:[],getState:()=>lr.state,setState:t=>{typeof t=="function"?lr.state=t(lr.state):lr.state={...lr.state,...t},lr.listeners.forEach(e=>e(lr.state))},subscribe:t=>(lr.listeners.push(t),()=>{lr.listeners=lr.listeners.filter(e=>e!==t)})},IB=({...t})=>{const e=PB(),n=s=>lr.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===e?{...i,...s}:i)})),r=()=>lr.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==e)}));return lr.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,kB)})),{id:e,dismiss:r,update:n}};function kr(){const[t,e]=g.useState(lr.getState());return g.useEffect(()=>lr.subscribe(r=>{e(r)}),[]),g.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||1e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:IB,toasts:t.toasts}}function AB(){const{toasts:t}=kr();return a.jsxs(EB,{children:[t.map(({id:e,title:n,description:r,action:s,...o})=>a.jsxs(XI,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(JI,{children:n}),r&&a.jsx(e2,{children:r})]}),s,a.jsx(ZI,{})]},e)),a.jsx(QI,{})]})}var RB=Aj[" useId ".trim().toString()]||(()=>{}),DB=0;function No(t){const[e,n]=g.useState(RB());return $n(()=>{t||n(r=>r??String(DB++))},[t]),t||(e?`radix-${e}`:"")}const MB=["top","right","bottom","left"],Da=Math.min,Lr=Math.max,_m=Math.round,Hh=Math.floor,Ys=t=>({x:t,y:t}),OB={left:"right",right:"left",bottom:"top",top:"bottom"},LB={start:"end",end:"start"};function Nx(t,e,n){return Lr(t,Da(e,n))}function Ao(t,e){return typeof t=="function"?t(e):t}function Ro(t){return t.split("-")[0]}function Ec(t){return t.split("-")[1]}function Uw(t){return t==="x"?"y":"x"}function $w(t){return t==="y"?"height":"width"}const FB=new Set(["top","bottom"]);function qs(t){return FB.has(Ro(t))?"y":"x"}function qw(t){return Uw(qs(t))}function VB(t,e,n){n===void 0&&(n=!1);const r=Ec(t),s=qw(t),o=$w(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Cm(i)),[i,Cm(i)]}function zB(t){const e=Cm(t);return[Ex(t),e,Ex(e)]}function Ex(t){return t.replace(/start|end/g,e=>LB[e])}const qC=["left","right"],WC=["right","left"],BB=["top","bottom"],UB=["bottom","top"];function $B(t,e,n){switch(t){case"top":case"bottom":return n?e?WC:qC:e?qC:WC;case"left":case"right":return e?BB:UB;default:return[]}}function qB(t,e,n,r){const s=Ec(t);let o=$B(Ro(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Ex)))),o}function Cm(t){return t.replace(/left|right|bottom|top/g,e=>OB[e])}function WB(t){return{top:0,right:0,bottom:0,left:0,...t}}function t2(t){return typeof t!="number"?WB(t):{top:t,right:t,bottom:t,left:t}}function Nm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function HC(t,e,n){let{reference:r,floating:s}=t;const o=qs(e),i=qw(e),l=$w(i),c=Ro(e),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ec(e)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const HB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=HC(u,r,c),m=r,p={},y=0;for(let x=0;x<l.length;x++){const{name:_,fn:S}=l[x],{x:v,y:b,data:T,reset:R}=await S({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:t,floating:e}});d=v??d,f=b??f,p={...p,[_]:{...p[_],...T}},R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(m=R.placement),R.rects&&(u=R.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:d,y:f}=HC(u,m,c)),x=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function gd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Ao(e,t),y=t2(p),_=l[m?f==="floating"?"reference":"floating":f],S=Nm(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),T=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},R=Nm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(S.top-R.top+y.top)/T.y,bottom:(R.bottom-S.bottom+y.bottom)/T.y,left:(S.left-R.left+y.left)/T.x,right:(R.right-S.right+y.right)/T.x}}const GB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Ao(t,e)||{};if(u==null)return{};const f=t2(d),m={x:n,y:r},p=qw(s),y=$w(p),x=await i.getDimensions(u),_=p==="y",S=_?"top":"left",v=_?"bottom":"right",b=_?"clientHeight":"clientWidth",T=o.reference[y]+o.reference[p]-m[p]-o.floating[y],R=m[p]-o.reference[p],L=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=L?L[b]:0;(!C||!await(i.isElement==null?void 0:i.isElement(L)))&&(C=l.floating[b]||o.floating[y]);const N=T/2-R/2,P=C/2-x[y]/2-1,I=Da(f[S],P),k=Da(f[v],P),j=I,A=C-x[y]-k,F=C/2-x[y]/2+N,G=Nx(j,F,A),Y=!c.arrow&&Ec(s)!=null&&F!==G&&o.reference[y]/2-(F<j?I:k)-x[y]/2<0,q=Y?F<j?F-j:F-A:0;return{[p]:m[p]+q,data:{[p]:G,centerOffset:F-G-q,...Y&&{alignmentOffset:q}},reset:Y}}}),YB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,..._}=Ao(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const S=Ro(s),v=qs(l),b=Ro(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),R=m||(b||!x?[Cm(l)]:zB(l)),L=y!=="none";!m&&L&&R.push(...qB(l,x,y,T));const C=[l,...R],N=await gd(e,_),P=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&P.push(N[S]),f){const F=VB(s,i,T);P.push(N[F[0]],N[F[1]])}if(I=[...I,{placement:s,overflows:P}],!P.every(F=>F<=0)){var k,j;const F=(((k=o.flip)==null?void 0:k.index)||0)+1,G=C[F];if(G&&(!(f==="alignment"?v!==qs(G):!1)||I.every(O=>qs(O.placement)===v?O.overflows[0]>0:!0)))return{data:{index:F,overflows:I},reset:{placement:G}};let Y=(j=I.filter(q=>q.overflows[0]<=0).sort((q,O)=>q.overflows[1]-O.overflows[1])[0])==null?void 0:j.placement;if(!Y)switch(p){case"bestFit":{var A;const q=(A=I.filter(O=>{if(L){const V=qs(O.placement);return V===v||V==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(V=>V>0).reduce((V,Q)=>V+Q,0)]).sort((O,V)=>O[1]-V[1])[0])==null?void 0:A[0];q&&(Y=q);break}case"initialPlacement":Y=l;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function GC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function YC(t){return MB.some(e=>t[e]>=0)}const KB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ao(t,e);switch(r){case"referenceHidden":{const o=await gd(e,{...s,elementContext:"reference"}),i=GC(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:YC(i)}}}case"escaped":{const o=await gd(e,{...s,altBoundary:!0}),i=GC(o,n.floating);return{data:{escapedOffsets:i,escaped:YC(i)}}}default:return{}}}}},n2=new Set(["left","top"]);async function QB(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Ro(n),l=Ec(n),c=qs(n)==="y",u=n2.has(i)?-1:1,d=o&&c?-1:1,f=Ao(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const XB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=e,c=await QB(e,t);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},ZB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:_=>{let{x:S,y:v}=_;return{x:S,y:v}}},...c}=Ao(t,e),u={x:n,y:r},d=await gd(e,c),f=qs(Ro(s)),m=Uw(f);let p=u[m],y=u[f];if(o){const _=m==="y"?"top":"left",S=m==="y"?"bottom":"right",v=p+d[_],b=p-d[S];p=Nx(v,p,b)}if(i){const _=f==="y"?"top":"left",S=f==="y"?"bottom":"right",v=y+d[_],b=y-d[S];y=Nx(v,y,b)}const x=l.fn({...e,[m]:p,[f]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:o,[f]:i}}}}}},JB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ao(t,e),d={x:n,y:r},f=qs(s),m=Uw(f);let p=d[m],y=d[f];const x=Ao(l,e),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=m==="y"?"height":"width",T=o.reference[m]-o.floating[b]+_.mainAxis,R=o.reference[m]+o.reference[b]-_.mainAxis;p<T?p=T:p>R&&(p=R)}if(u){var S,v;const b=m==="y"?"width":"height",T=n2.has(Ro(s)),R=o.reference[f]-o.floating[b]+(T&&((S=i.offset)==null?void 0:S[f])||0)+(T?0:_.crossAxis),L=o.reference[f]+o.reference[b]+(T?0:((v=i.offset)==null?void 0:v[f])||0)-(T?_.crossAxis:0);y<R?y=R:y>L&&(y=L)}return{[m]:p,[f]:y}}}},eU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:l}=e,{apply:c=()=>{},...u}=Ao(t,e),d=await gd(e,u),f=Ro(s),m=Ec(s),p=qs(s)==="y",{width:y,height:x}=o.floating;let _,S;f==="top"||f==="bottom"?(_=f,S=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(S=f,_=m==="end"?"top":"bottom");const v=x-d.top-d.bottom,b=y-d.left-d.right,T=Da(x-d[_],v),R=Da(y-d[S],b),L=!e.middlewareData.shift;let C=T,N=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),L&&!m){const I=Lr(d.left,0),k=Lr(d.right,0),j=Lr(d.top,0),A=Lr(d.bottom,0);p?N=y-2*(I!==0||k!==0?I+k:Lr(d.left,d.right)):C=x-2*(j!==0||A!==0?j+A:Lr(d.top,d.bottom))}await c({...e,availableWidth:N,availableHeight:C});const P=await i.getDimensions(l.floating);return y!==P.width||x!==P.height?{reset:{rects:!0}}:{}}}};function kp(){return typeof window<"u"}function jc(t){return r2(t)?(t.nodeName||"").toLowerCase():"#document"}function Ur(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ao(t){var e;return(e=(r2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function r2(t){return kp()?t instanceof Node||t instanceof Ur(t).Node:!1}function Es(t){return kp()?t instanceof Element||t instanceof Ur(t).Element:!1}function no(t){return kp()?t instanceof HTMLElement||t instanceof Ur(t).HTMLElement:!1}function KC(t){return!kp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ur(t).ShadowRoot}const tU=new Set(["inline","contents"]);function $d(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=js(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!tU.has(s)}const nU=new Set(["table","td","th"]);function rU(t){return nU.has(jc(t))}const sU=[":popover-open",":modal"];function Pp(t){return sU.some(e=>{try{return t.matches(e)}catch{return!1}})}const oU=["transform","translate","scale","rotate","perspective"],aU=["transform","translate","scale","rotate","perspective","filter"],iU=["paint","layout","strict","content"];function Ww(t){const e=Hw(),n=Es(t)?js(t):t;return oU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||aU.some(r=>(n.willChange||"").includes(r))||iU.some(r=>(n.contain||"").includes(r))}function lU(t){let e=Ma(t);for(;no(e)&&!lc(e);){if(Ww(e))return e;if(Pp(e))return null;e=Ma(e)}return null}function Hw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cU=new Set(["html","body","#document"]);function lc(t){return cU.has(jc(t))}function js(t){return Ur(t).getComputedStyle(t)}function Ip(t){return Es(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ma(t){if(jc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KC(t)&&t.host||ao(t);return KC(e)?e.host:e}function s2(t){const e=Ma(t);return lc(e)?t.ownerDocument?t.ownerDocument.body:t.body:no(e)&&$d(e)?e:s2(e)}function vd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=s2(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Ur(s);if(o){const l=jx(i);return e.concat(i,i.visualViewport||[],$d(s)?s:[],l&&n?vd(l):[])}return e.concat(s,vd(s,[],n))}function jx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function o2(t){const e=js(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=no(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,l=_m(n)!==o||_m(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Gw(t){return Es(t)?t:t.contextElement}function Wl(t){const e=Gw(t);if(!no(e))return Ys(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=o2(e);let i=(o?_m(n.width):n.width)/r,l=(o?_m(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const uU=Ys(0);function a2(t){const e=Ur(t);return!Hw()||!e.visualViewport?uU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ur(t)?!1:e}function zi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Gw(t);let i=Ys(1);e&&(r?Es(r)&&(i=Wl(r)):i=Wl(t));const l=dU(o,n,r)?a2(o):Ys(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=Ur(o),p=r&&Es(r)?Ur(r):r;let y=m,x=jx(y);for(;x&&r&&p!==y;){const _=Wl(x),S=x.getBoundingClientRect(),v=js(x),b=S.left+(x.clientLeft+parseFloat(v.paddingLeft))*_.x,T=S.top+(x.clientTop+parseFloat(v.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,f*=_.y,c+=b,u+=T,y=Ur(x),x=jx(y)}}return Nm({width:d,height:f,x:c,y:u})}function Ap(t,e){const n=Ip(t).scrollLeft;return e?e.left+n:zi(ao(t)).left+n}function i2(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ap(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function hU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=ao(r),l=e?Pp(e.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Ys(1);const d=Ys(0),f=no(r);if((f||!f&&!o)&&((jc(r)!=="body"||$d(i))&&(c=Ip(r)),no(r))){const p=zi(r);u=Wl(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=i&&!f&&!o?i2(i,c):Ys(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function fU(t){return Array.from(t.getClientRects())}function mU(t){const e=ao(t),n=Ip(t),r=t.ownerDocument.body,s=Lr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Lr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ap(t);const l=-n.scrollTop;return js(r).direction==="rtl"&&(i+=Lr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}const QC=25;function pU(t,e){const n=Ur(t),r=ao(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=Hw();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Ap(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-p);y<=QC&&(o-=y)}else u<=QC&&(o+=u);return{width:o,height:i,x:l,y:c}}const gU=new Set(["absolute","fixed"]);function vU(t,e){const n=zi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=no(t)?Wl(t):Ys(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function XC(t,e,n){let r;if(e==="viewport")r=pU(t,n);else if(e==="document")r=mU(ao(t));else if(Es(e))r=vU(e,n);else{const s=a2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Nm(r)}function l2(t,e){const n=Ma(t);return n===e||!Es(n)||lc(n)?!1:js(n).position==="fixed"||l2(n,e)}function xU(t,e){const n=e.get(t);if(n)return n;let r=vd(t,[],!1).filter(l=>Es(l)&&jc(l)!=="body"),s=null;const o=js(t).position==="fixed";let i=o?Ma(t):t;for(;Es(i)&&!lc(i);){const l=js(i),c=Ww(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&gU.has(s.position)||$d(i)&&!c&&l2(t,i))?r=r.filter(d=>d!==i):s=l,i=Ma(i)}return e.set(t,r),r}function yU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Pp(e)?[]:xU(e,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=XC(e,d,s);return u.top=Lr(f.top,u.top),u.right=Da(f.right,u.right),u.bottom=Da(f.bottom,u.bottom),u.left=Lr(f.left,u.left),u},XC(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wU(t){const{width:e,height:n}=o2(t);return{width:e,height:n}}function bU(t,e,n){const r=no(e),s=ao(e),o=n==="fixed",i=zi(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Ys(0);function u(){c.x=Ap(s)}if(r||!r&&!o)if((jc(e)!=="body"||$d(s))&&(l=Ip(e)),r){const p=zi(e,!0,o,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?i2(s,l):Ys(0),f=i.left+l.scrollLeft-c.x-d.x,m=i.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function Sv(t){return js(t).position==="static"}function ZC(t,e){if(!no(t)||js(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ao(t)===n&&(n=n.ownerDocument.body),n}function c2(t,e){const n=Ur(t);if(Pp(t))return n;if(!no(t)){let s=Ma(t);for(;s&&!lc(s);){if(Es(s)&&!Sv(s))return s;s=Ma(s)}return n}let r=ZC(t,e);for(;r&&rU(r)&&Sv(r);)r=ZC(r,e);return r&&lc(r)&&Sv(r)&&!Ww(r)?n:r||lU(t)||n}const SU=async function(t){const e=this.getOffsetParent||c2,n=this.getDimensions,r=await n(t.floating);return{reference:bU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _U(t){return js(t).direction==="rtl"}const CU={convertOffsetParentRelativeRectToViewportRelativeRect:hU,getDocumentElement:ao,getClippingRect:yU,getOffsetParent:c2,getElementRects:SU,getClientRects:fU,getDimensions:wU,getScale:Wl,isElement:Es,isRTL:_U};function u2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NU(t,e){let n=null,r;const s=ao(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||e(),!m||!p)return;const y=Hh(f),x=Hh(s.clientWidth-(d+m)),_=Hh(s.clientHeight-(f+p)),S=Hh(d),b={rootMargin:-y+"px "+-x+"px "+-_+"px "+-S+"px",threshold:Lr(0,Da(1,c))||1};let T=!0;function R(L){const C=L[0].intersectionRatio;if(C!==c){if(!T)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!u2(u,t.getBoundingClientRect())&&i(),T=!1}try{n=new IntersectionObserver(R,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,b)}n.observe(t)}return i(!0),o}function EU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Gw(t),d=s||o?[...u?vd(u):[],...vd(e)]:[];d.forEach(S=>{s&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const f=u&&l?NU(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(S=>{let[v]=S;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let y,x=c?zi(t):null;c&&_();function _(){const S=zi(t);x&&!u2(x,S)&&n(),x=S,y=requestAnimationFrame(_)}return n(),()=>{var S;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(S=p)==null||S.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const jU=XB,TU=ZB,kU=YB,PU=eU,IU=KB,JC=GB,AU=JB,RU=(t,e,n)=>{const r=new Map,s={platform:CU,...n},o={...s.platform,_c:r};return HB(t,e,{...s,platform:o})};var DU=typeof document<"u",MU=function(){},Ef=DU?g.useLayoutEffect:MU;function Em(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Em(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Em(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function d2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function eN(t,e){const n=d2(t);return Math.round(e*n)/n}function _v(t){const e=g.useRef(t);return Ef(()=>{e.current=t}),e}function OU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=g.useState(r);Em(m,r)||p(r);const[y,x]=g.useState(null),[_,S]=g.useState(null),v=g.useCallback(O=>{O!==L.current&&(L.current=O,x(O))},[]),b=g.useCallback(O=>{O!==C.current&&(C.current=O,S(O))},[]),T=o||y,R=i||_,L=g.useRef(null),C=g.useRef(null),N=g.useRef(d),P=c!=null,I=_v(c),k=_v(s),j=_v(u),A=g.useCallback(()=>{if(!L.current||!C.current)return;const O={placement:e,strategy:n,middleware:m};k.current&&(O.platform=k.current),RU(L.current,C.current,O).then(V=>{const Q={...V,isPositioned:j.current!==!1};F.current&&!Em(N.current,Q)&&(N.current=Q,Ps.flushSync(()=>{f(Q)}))})},[m,e,n,k,j]);Ef(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const F=g.useRef(!1);Ef(()=>(F.current=!0,()=>{F.current=!1}),[]),Ef(()=>{if(T&&(L.current=T),R&&(C.current=R),T&&R){if(I.current)return I.current(T,R,A);A()}},[T,R,A,I,P]);const G=g.useMemo(()=>({reference:L,floating:C,setReference:v,setFloating:b}),[v,b]),Y=g.useMemo(()=>({reference:T,floating:R}),[T,R]),q=g.useMemo(()=>{const O={position:n,left:0,top:0};if(!Y.floating)return O;const V=eN(Y.floating,d.x),Q=eN(Y.floating,d.y);return l?{...O,transform:"translate("+V+"px, "+Q+"px)",...d2(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Q}},[n,l,Y.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:A,refs:G,elements:Y,floatingStyles:q}),[d,A,G,Y,q])}const LU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JC({element:r.current,padding:s}).fn(n):{}:r?JC({element:r,padding:s}).fn(n):{}}}},FU=(t,e)=>({...jU(t),options:[t,e]}),VU=(t,e)=>({...TU(t),options:[t,e]}),zU=(t,e)=>({...AU(t),options:[t,e]}),BU=(t,e)=>({...kU(t),options:[t,e]}),UU=(t,e)=>({...PU(t),options:[t,e]}),$U=(t,e)=>({...IU(t),options:[t,e]}),qU=(t,e)=>({...LU(t),options:[t,e]});var WU="Arrow",h2=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return a.jsx(tt.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});h2.displayName=WU;var HU=h2;function GU(t){const[e,n]=g.useState(void 0);return $n(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Yw="Popper",[f2,Tc]=oo(Yw),[YU,m2]=f2(Yw),p2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return a.jsx(YU,{scope:e,anchor:r,onAnchorChange:s,children:n})};p2.displayName=Yw;var g2="PopperAnchor",v2=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=m2(g2,n),i=g.useRef(null),l=jt(e,i),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:a.jsx(tt.div,{...s,ref:l})});v2.displayName=g2;var Kw="PopperContent",[KU,QU]=f2(Kw),x2=g.forwardRef((t,e)=>{var Se,Ie,ze,H,ie,ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...x}=t,_=m2(Kw,n),[S,v]=g.useState(null),b=jt(e,_e=>v(_e)),[T,R]=g.useState(null),L=GU(T),C=(L==null?void 0:L.width)??0,N=(L==null?void 0:L.height)??0,P=r+(o!=="center"?"-"+o:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],j=k.length>0,A={padding:I,boundary:k.filter(ZU),altBoundary:j},{refs:F,floatingStyles:G,placement:Y,isPositioned:q,middlewareData:O}=OU({strategy:"fixed",placement:P,whileElementsMounted:(..._e)=>EU(..._e,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[FU({mainAxis:s+N,alignmentAxis:i}),c&&VU({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zU():void 0,...A}),c&&BU({...A}),UU({...A,apply:({elements:_e,rects:Be,availableWidth:at,availableHeight:z})=>{const{width:fe,height:qe}=Be.reference,Ae=_e.floating.style;Ae.setProperty("--radix-popper-available-width",`${at}px`),Ae.setProperty("--radix-popper-available-height",`${z}px`),Ae.setProperty("--radix-popper-anchor-width",`${fe}px`),Ae.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),T&&qU({element:T,padding:l}),JU({arrowWidth:C,arrowHeight:N}),m&&$U({strategy:"referenceHidden",...A})]}),[V,Q]=b2(Y),Z=cs(y);$n(()=>{q&&(Z==null||Z())},[q,Z]);const U=(Se=O.arrow)==null?void 0:Se.x,pe=(Ie=O.arrow)==null?void 0:Ie.y,ce=((ze=O.arrow)==null?void 0:ze.centerOffset)!==0,[Ne,De]=g.useState();return $n(()=>{S&&De(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(H=O.transformOrigin)==null?void 0:H.x,(ie=O.transformOrigin)==null?void 0:ie.y].join(" "),...((ue=O.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(KU,{scope:n,placedSide:V,onArrowChange:R,arrowX:U,arrowY:pe,shouldHideArrow:ce,children:a.jsx(tt.div,{"data-side":V,"data-align":Q,...x,ref:b,style:{...x.style,animation:q?void 0:"none"}})})})});x2.displayName=Kw;var y2="PopperArrow",XU={top:"bottom",right:"left",bottom:"top",left:"right"},w2=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=QU(y2,r),i=XU[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(HU,{...s,ref:n,style:{...s.style,display:"block"}})})});w2.displayName=y2;function ZU(t){return t!==null}var JU=t=>({name:"transformOrigin",options:t,fn(e){var _,S,v;const{placement:n,rects:r,middlewareData:s}=e,i=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=b2(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((S=s.arrow)==null?void 0:S.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=i?f:`${m}px`,x=`${-c}px`):u==="top"?(y=i?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=i?f:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,x=i?f:`${p}px`),{data:{x:y,y:x}}}});function b2(t){const[e,n="center"]=t.split("-");return[e,n]}var S2=p2,Rp=v2,Qw=x2,Xw=w2,[Dp,ane]=oo("Tooltip",[Tc]),Zw=Tc(),e$="TooltipProvider",tN="tooltip.open",[ine,_2]=Dp(e$),C2="Tooltip",[lne,Mp]=Dp(C2),Tx="TooltipTrigger",t$=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Mp(Tx,n),o=_2(Tx,n),i=Zw(n),l=g.useRef(null),c=jt(e,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Rp,{asChild:!0,...i,children:a.jsx(tt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Le(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Le(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Le(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Le(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Le(t.onBlur,s.onClose),onClick:Le(t.onClick,s.onClose)})})});t$.displayName=Tx;var n$="TooltipPortal",[cne,r$]=Dp(n$,{forceMount:void 0}),cc="TooltipContent",N2=g.forwardRef((t,e)=>{const n=r$(cc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=Mp(cc,t.__scopeTooltip);return a.jsx(zo,{present:r||i.open,children:i.disableHoverableContent?a.jsx(E2,{side:s,...o,ref:e}):a.jsx(s$,{side:s,...o,ref:e})})}),s$=g.forwardRef((t,e)=>{const n=Mp(cc,t.__scopeTooltip),r=_2(cc,t.__scopeTooltip),s=g.useRef(null),o=jt(e,s),[i,l]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=g.useCallback(()=>{l(null),f(!1)},[f]),p=g.useCallback((y,x)=>{const _=y.currentTarget,S={x:y.clientX,y:y.clientY},v=c$(S,_.getBoundingClientRect()),b=u$(S,v),T=d$(x.getBoundingClientRect()),R=f$([...b,...T]);l(R),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&d){const y=_=>p(_,d),x=_=>p(_,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,p,m]),g.useEffect(()=>{if(i){const y=x=>{const _=x.target,S={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(_))||(d==null?void 0:d.contains(_)),b=!h$(S,i);v?m():b&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,i,u,m]),a.jsx(E2,{...t,ref:o})}),[o$,a$]=Dp(C2,{isInside:!1}),i$=Oz("TooltipContent"),E2=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,c=Mp(cc,n),u=Zw(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(tN,d),()=>document.removeEventListener(tN,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Nc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Qw,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(i$,{children:r}),a.jsx(o$,{scope:n,isInside:!0,children:a.jsx(iB,{id:c.contentId,role:"tooltip",children:s||r})})]})})});N2.displayName=cc;var j2="TooltipArrow",l$=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Zw(n);return a$(j2,n).isInside?null:a.jsx(Xw,{...s,...r,ref:e})});l$.displayName=j2;function c$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function u$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function d$(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function h$(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o],c=e[i],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function f$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),m$(e)}function m$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var T2=N2;const p$=$e.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(T2,{ref:r,sideOffset:e,className:rt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));p$.displayName=T2.displayName;var Cv="focusScope.autoFocusOnMount",Nv="focusScope.autoFocusOnUnmount",nN={bubbles:!1,cancelable:!0},g$="FocusScope",Op=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[l,c]=g.useState(null),u=cs(s),d=cs(o),f=g.useRef(null),m=jt(e,x=>c(x)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let x=function(b){if(p.paused||!l)return;const T=b.target;l.contains(T)?f.current=T:ea(f.current,{select:!0})},_=function(b){if(p.paused||!l)return;const T=b.relatedTarget;T!==null&&(l.contains(T)||ea(f.current,{select:!0}))},S=function(b){if(document.activeElement===document.body)for(const R of b)R.removedNodes.length>0&&ea(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const v=new MutationObserver(S);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),v.disconnect()}}},[r,l,p.paused]),g.useEffect(()=>{if(l){sN.add(p);const x=document.activeElement;if(!l.contains(x)){const S=new CustomEvent(Cv,nN);l.addEventListener(Cv,u),l.dispatchEvent(S),S.defaultPrevented||(v$(S$(k2(l)),{select:!0}),document.activeElement===x&&ea(l))}return()=>{l.removeEventListener(Cv,u),setTimeout(()=>{const S=new CustomEvent(Nv,nN);l.addEventListener(Nv,d),l.dispatchEvent(S),S.defaultPrevented||ea(x??document.body,{select:!0}),l.removeEventListener(Nv,d),sN.remove(p)},0)}}},[l,u,d,p]);const y=g.useCallback(x=>{if(!n&&!r||p.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(_&&S){const v=x.currentTarget,[b,T]=x$(v);b&&T?!x.shiftKey&&S===T?(x.preventDefault(),n&&ea(b,{select:!0})):x.shiftKey&&S===b&&(x.preventDefault(),n&&ea(T,{select:!0})):S===v&&x.preventDefault()}},[n,r,p.paused]);return a.jsx(tt.div,{tabIndex:-1,...i,ref:m,onKeyDown:y})});Op.displayName=g$;function v$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ea(r,{select:e}),document.activeElement!==n)return}function x$(t){const e=k2(t),n=rN(e,t),r=rN(e.reverse(),t);return[n,r]}function k2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rN(t,e){for(const n of t)if(!y$(n,{upTo:e}))return n}function y$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function w$(t){return t instanceof HTMLInputElement&&"select"in t}function ea(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&w$(t)&&e&&t.select()}}var sN=b$();function b$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=oN(t,e),t.unshift(e)},remove(e){var n;t=oN(t,e),(n=t[0])==null||n.resume()}}}function oN(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function S$(t){return t.filter(e=>e.tagName!=="A")}var Ev=0;function Jw(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??aN()),document.body.insertAdjacentElement("beforeend",t[1]??aN()),Ev++,()=>{Ev===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ev--}},[])}function aN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Us=function(){return Us=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Us.apply(this,arguments)};function P2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function nl(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function _$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var jf="right-scroll-bar-position",Tf="width-before-scroll-bar",C$="with-scroll-bars-hidden",N$="--removed-body-scroll-bar-size";function jv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function E$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var j$=typeof window<"u"?g.useLayoutEffect:g.useEffect,iN=new WeakMap;function T$(t,e){var n=E$(e||null,function(r){return t.forEach(function(s){return jv(s,r)})});return j$(function(){var r=iN.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(l){o.has(l)||jv(l,null)}),o.forEach(function(l){s.has(l)||jv(l,i)})}iN.set(n,t)},[t]),n}function k$(t){return t}function P$(t,e){e===void 0&&(e=k$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function I$(t){t===void 0&&(t={});var e=P$(null);return e.options=Us({async:!0,ssr:!1},t),e}var I2=function(t){var e=t.sideCar,n=P2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Us({},n))};I2.isSideCarExport=!0;function A$(t,e){return t.useMedium(e),I2}var A2=I$(),Tv=function(){},Lp=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Tv,onWheelCapture:Tv,onTouchMoveCapture:Tv}),s=r[0],o=r[1],i=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,p=t.noRelative,y=t.noIsolation,x=t.inert,_=t.allowPinchZoom,S=t.as,v=S===void 0?"div":S,b=t.gapMode,T=P2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=m,L=T$([n,e]),C=Us(Us({},T),s);return g.createElement(g.Fragment,null,d&&g.createElement(R,{sideCar:A2,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:b}),i?g.cloneElement(g.Children.only(l),Us(Us({},C),{ref:L})):g.createElement(v,Us({},C,{className:c,ref:L}),l))});Lp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lp.classNames={fullWidth:Tf,zeroRight:jf};var lN,R$=function(){if(lN)return lN;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=R$();return e&&t.setAttribute("nonce",e),t}function M$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function O$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var L$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=D$())&&(M$(e,n),O$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},F$=function(){var t=L$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},R2=function(){var t=F$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},V$={left:0,top:0,right:0,gap:0},kv=function(t){return parseInt(t||"",10)||0},z$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[kv(n),kv(r),kv(s)]},B$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return V$;var e=z$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},U$=R2(),Hl="data-scroll-locked",$$=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(C$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Hl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Tf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(jf," .").concat(jf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tf," .").concat(Tf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hl,`] {
    `).concat(N$,": ").concat(l,`px;
  }
`)},cN=function(){var t=parseInt(document.body.getAttribute(Hl)||"0",10);return isFinite(t)?t:0},q$=function(){g.useEffect(function(){return document.body.setAttribute(Hl,(cN()+1).toString()),function(){var t=cN()-1;t<=0?document.body.removeAttribute(Hl):document.body.setAttribute(Hl,t.toString())}},[])},W$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;q$();var o=g.useMemo(function(){return B$(s)},[s]);return g.createElement(U$,{styles:$$(o,!e,s,n?"":"!important")})},kx=!1;if(typeof window<"u")try{var Gh=Object.defineProperty({},"passive",{get:function(){return kx=!0,!0}});window.addEventListener("test",Gh,Gh),window.removeEventListener("test",Gh,Gh)}catch{kx=!1}var ul=kx?{passive:!1}:!1,H$=function(t){return t.tagName==="TEXTAREA"},D2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!H$(t)&&n[e]==="visible")},G$=function(t){return D2(t,"overflowY")},Y$=function(t){return D2(t,"overflowX")},uN=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=M2(t,r);if(s){var o=O2(t,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},K$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Q$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},M2=function(t,e){return t==="v"?G$(e):Y$(e)},O2=function(t,e){return t==="v"?K$(e):Q$(e)},X$=function(t,e){return t==="h"&&e==="rtl"?-1:1},Z$=function(t,e,n,r,s){var o=X$(t,window.getComputedStyle(e).direction),i=o*r,l=n.target,c=e.contains(l),u=!1,d=i>0,f=0,m=0;do{if(!l)break;var p=O2(t,l),y=p[0],x=p[1],_=p[2],S=x-_-o*y;(y||S)&&M2(t,l)&&(f+=S,m+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(m)<1||!s&&-i>m))&&(u=!0),u},Yh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dN=function(t){return[t.deltaX,t.deltaY]},hN=function(t){return t&&"current"in t?t.current:t},J$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},t8=0,dl=[];function n8(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(t8++)[0],o=g.useState(R2)[0],i=g.useRef(t);g.useEffect(function(){i.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=_$([t.lockRef.current],(t.shards||[]).map(hN),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var S=Yh(x),v=n.current,b="deltaX"in x?x.deltaX:v[0]-S[0],T="deltaY"in x?x.deltaY:v[1]-S[1],R,L=x.target,C=Math.abs(b)>Math.abs(T)?"h":"v";if("touches"in x&&C==="h"&&L.type==="range")return!1;var N=uN(C,L);if(!N)return!0;if(N?R=C:(R=C==="v"?"h":"v",N=uN(C,L)),!N)return!1;if(!r.current&&"changedTouches"in x&&(b||T)&&(r.current=R),!R)return!0;var P=r.current||R;return Z$(P,_,x,P==="h"?b:T,!0)},[]),c=g.useCallback(function(x){var _=x;if(!(!dl.length||dl[dl.length-1]!==o)){var S="deltaY"in _?dN(_):Yh(_),v=e.current.filter(function(R){return R.name===_.type&&(R.target===_.target||_.target===R.shadowParent)&&J$(R.delta,S)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var b=(i.current.shards||[]).map(hN).filter(Boolean).filter(function(R){return R.contains(_.target)}),T=b.length>0?l(_,b[0]):!i.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),u=g.useCallback(function(x,_,S,v){var b={name:x,delta:_,target:S,should:v,shadowParent:r8(S)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(T){return T!==b})},1)},[]),d=g.useCallback(function(x){n.current=Yh(x),r.current=void 0},[]),f=g.useCallback(function(x){u(x.type,dN(x),x.target,l(x,t.lockRef.current))},[]),m=g.useCallback(function(x){u(x.type,Yh(x),x.target,l(x,t.lockRef.current))},[]);g.useEffect(function(){return dl.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ul),document.addEventListener("touchmove",c,ul),document.addEventListener("touchstart",d,ul),function(){dl=dl.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,ul),document.removeEventListener("touchmove",c,ul),document.removeEventListener("touchstart",d,ul)}},[]);var p=t.removeScrollBar,y=t.inert;return g.createElement(g.Fragment,null,y?g.createElement(o,{styles:e8(s)}):null,p?g.createElement(W$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function r8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const s8=A$(A2,n8);var L2=g.forwardRef(function(t,e){return g.createElement(Lp,Us({},t,{ref:e,sideCar:s8}))});L2.classNames=Lp.classNames;const eb=L2;var o8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hl=new WeakMap,Kh=new WeakMap,Qh={},Pv=0,F2=function(t){return t&&(t.host||F2(t.parentNode))},a8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=F2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},i8=function(t,e,n,r){var s=a8(e,Array.isArray(t)?t:[t]);Qh[n]||(Qh[n]=new WeakMap);var o=Qh[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(r),y=p!==null&&p!=="false",x=(hl.get(m)||0)+1,_=(o.get(m)||0)+1;hl.set(m,x),o.set(m,_),i.push(m),x===1&&y&&Kh.set(m,!0),_===1&&m.setAttribute(n,"true"),y||m.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",m,S)}})};return d(e),l.clear(),Pv++,function(){i.forEach(function(f){var m=hl.get(f)-1,p=o.get(f)-1;hl.set(f,m),o.set(f,p),m||(Kh.has(f)||f.removeAttribute(r),Kh.delete(f)),p||f.removeAttribute(n)}),Pv--,Pv||(hl=new WeakMap,hl=new WeakMap,Kh=new WeakMap,Qh={})}},tb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||o8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),i8(r,s,n,"aria-hidden")):function(){return null}},Fp="Dialog",[V2,une]=oo(Fp),[l8,Is]=V2(Fp),z2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,l=g.useRef(null),c=g.useRef(null),[u,d]=Vi({prop:r,defaultProp:s??!1,onChange:o,caller:Fp});return a.jsx(l8,{scope:e,triggerRef:l,contentRef:c,contentId:No(),titleId:No(),descriptionId:No(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};z2.displayName=Fp;var B2="DialogTrigger",U2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(B2,n),o=jt(e,s.triggerRef);return a.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sb(s.open),...r,ref:o,onClick:Le(t.onClick,s.onOpenToggle)})});U2.displayName=B2;var nb="DialogPortal",[c8,$2]=V2(nb,{forceMount:void 0}),q2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Is(nb,e);return a.jsx(c8,{scope:e,forceMount:n,children:g.Children.map(r,i=>a.jsx(zo,{present:n||o.open,children:a.jsx(Bd,{asChild:!0,container:s,children:i})}))})};q2.displayName=nb;var jm="DialogOverlay",W2=g.forwardRef((t,e)=>{const n=$2(jm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Is(jm,t.__scopeDialog);return o.modal?a.jsx(zo,{present:r||o.open,children:a.jsx(d8,{...s,ref:e})}):null});W2.displayName=jm;var u8=Fi("DialogOverlay.RemoveScroll"),d8=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(jm,n);return a.jsx(eb,{as:u8,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(tt.div,{"data-state":sb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Bi="DialogContent",H2=g.forwardRef((t,e)=>{const n=$2(Bi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Is(Bi,t.__scopeDialog);return a.jsx(zo,{present:r||o.open,children:o.modal?a.jsx(h8,{...s,ref:e}):a.jsx(f8,{...s,ref:e})})});H2.displayName=Bi;var h8=g.forwardRef((t,e)=>{const n=Is(Bi,t.__scopeDialog),r=g.useRef(null),s=jt(e,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return tb(o)},[]),a.jsx(G2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,o=>o.preventDefault())})}),f8=g.forwardRef((t,e)=>{const n=Is(Bi,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(G2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),G2=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,l=Is(Bi,n),c=g.useRef(null),u=jt(e,c);return Jw(),a.jsxs(a.Fragment,{children:[a.jsx(Op,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Nc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":sb(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(m8,{titleId:l.titleId}),a.jsx(g8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),rb="DialogTitle",Y2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(rb,n);return a.jsx(tt.h2,{id:s.titleId,...r,ref:e})});Y2.displayName=rb;var K2="DialogDescription",Q2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(K2,n);return a.jsx(tt.p,{id:s.descriptionId,...r,ref:e})});Q2.displayName=K2;var X2="DialogClose",Z2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(X2,n);return a.jsx(tt.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,()=>s.onOpenChange(!1))})});Z2.displayName=X2;function sb(t){return t?"open":"closed"}var J2="DialogTitleWarning",[dne,eA]=Bz(J2,{contentName:Bi,titleName:rb,docsSlug:"dialog"}),m8=({titleId:t})=>{const e=eA(J2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},p8="DialogDescriptionWarning",g8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eA(p8).contentName}}.`;return g.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},v8=z2,x8=U2,y8=q2,tA=W2,nA=H2,rA=Y2,sA=Q2,w8=Z2;const _n=v8,Px=x8,b8=y8,oA=$e.forwardRef(({className:t,...e},n)=>a.jsx(tA,{ref:n,className:rt("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));oA.displayName=tA.displayName;const an=$e.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(b8,{children:[a.jsx(oA,{}),a.jsxs(nA,{ref:r,className:rt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(w8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(jr,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));an.displayName=nA.displayName;const ln=({className:t,...e})=>a.jsx("div",{className:rt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ln.displayName="DialogHeader";const cn=$e.forwardRef(({className:t,...e},n)=>a.jsx(rA,{ref:n,className:rt("text-lg font-semibold leading-none tracking-tight",t),...e}));cn.displayName=rA.displayName;const Vp=$e.forwardRef(({className:t,...e},n)=>a.jsx(sA,{ref:n,className:rt("text-sm text-muted-foreground",t),...e}));Vp.displayName=sA.displayName;const xe=$e.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:rt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));xe.displayName="Input";var S8="Label",aA=g.forwardRef((t,e)=>a.jsx(tt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aA.displayName=S8;var iA=aA;const _8=Ep("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=$e.forwardRef(({className:t,...e},n)=>a.jsx(iA,{ref:n,className:rt(_8(),t),...e}));J.displayName=iA.displayName;const xd=$e.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:rt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));xd.displayName="Textarea";function fN(t,[e,n]){return Math.min(n,Math.max(e,t))}var C8=g.createContext(void 0);function ob(t){const e=g.useContext(C8);return t||e||"ltr"}function N8(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var E8=[" ","Enter","ArrowUp","ArrowDown"],j8=[" ","Enter"],Ui="Select",[zp,Bp,T8]=Fw(Ui),[kc,hne]=oo(Ui,[T8,Tc]),Up=Tc(),[k8,Ka]=kc(Ui),[P8,I8]=kc(Ui),lA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:y}=t,x=Up(e),[_,S]=g.useState(null),[v,b]=g.useState(null),[T,R]=g.useState(!1),L=ob(u),[C,N]=Vi({prop:r,defaultProp:s??!1,onChange:o,caller:Ui}),[P,I]=Vi({prop:i,defaultProp:l,onChange:c,caller:Ui}),k=g.useRef(null),j=_?y||!!_.closest("form"):!0,[A,F]=g.useState(new Set),G=Array.from(A).map(Y=>Y.props.value).join(";");return a.jsx(S2,{...x,children:a.jsxs(k8,{required:p,scope:e,trigger:_,onTriggerChange:S,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:T,onValueNodeHasChildrenChange:R,contentId:No(),value:P,onValueChange:I,open:C,onOpenChange:N,dir:L,triggerPointerDownPosRef:k,disabled:m,children:[a.jsx(zp.Provider,{scope:e,children:a.jsx(P8,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Y=>{F(q=>new Set(q).add(Y))},[]),onNativeOptionRemove:g.useCallback(Y=>{F(q=>{const O=new Set(q);return O.delete(Y),O})},[]),children:n})}),j?a.jsxs(AA,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:Y=>I(Y.target.value),disabled:m,form:y,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(A)]},G):null]})})};lA.displayName=Ui;var cA="SelectTrigger",uA=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Up(n),i=Ka(cA,n),l=i.disabled||r,c=jt(e,i.onTriggerChange),u=Bp(n),d=g.useRef("touch"),[f,m,p]=DA(x=>{const _=u().filter(b=>!b.disabled),S=_.find(b=>b.value===i.value),v=MA(_,x,S);v!==void 0&&i.onValueChange(v.value)}),y=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(Rp,{asChild:!0,...o,children:a.jsx(tt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":RA(i.value)?"":void 0,...s,ref:c,onClick:Le(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:Le(s.onPointerDown,x=>{d.current=x.pointerType;const _=x.target;_.hasPointerCapture(x.pointerId)&&_.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Le(s.onKeyDown,x=>{const _=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(_&&x.key===" ")&&E8.includes(x.key)&&(y(),x.preventDefault())})})})});uA.displayName=cA;var dA="SelectValue",hA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=t,c=Ka(dA,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=jt(e,c.onValueNodeChange);return $n(()=>{u(d)},[u,d]),a.jsx(tt.span,{...l,ref:f,style:{pointerEvents:"none"},children:RA(c.value)?a.jsx(a.Fragment,{children:i}):o})});hA.displayName=dA;var A8="SelectIcon",fA=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(tt.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});fA.displayName=A8;var R8="SelectPortal",mA=t=>a.jsx(Bd,{asChild:!0,...t});mA.displayName=R8;var $i="SelectContent",pA=g.forwardRef((t,e)=>{const n=Ka($i,t.__scopeSelect),[r,s]=g.useState();if($n(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Ps.createPortal(a.jsx(gA,{scope:t.__scopeSelect,children:a.jsx(zp.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),o):null}return a.jsx(vA,{...t,ref:e})});pA.displayName=$i;var ps=10,[gA,Qa]=kc($i),D8="SelectContentImpl",M8=Fi("SelectContent.RemoveScroll"),vA=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:x,avoidCollisions:_,...S}=t,v=Ka($i,n),[b,T]=g.useState(null),[R,L]=g.useState(null),C=jt(e,Se=>T(Se)),[N,P]=g.useState(null),[I,k]=g.useState(null),j=Bp(n),[A,F]=g.useState(!1),G=g.useRef(!1);g.useEffect(()=>{if(b)return tb(b)},[b]),Jw();const Y=g.useCallback(Se=>{const[Ie,...ze]=j().map(ue=>ue.ref.current),[H]=ze.slice(-1),ie=document.activeElement;for(const ue of Se)if(ue===ie||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===Ie&&R&&(R.scrollTop=0),ue===H&&R&&(R.scrollTop=R.scrollHeight),ue==null||ue.focus(),document.activeElement!==ie))return},[j,R]),q=g.useCallback(()=>Y([N,b]),[Y,N,b]);g.useEffect(()=>{A&&q()},[A,q]);const{onOpenChange:O,triggerPointerDownPosRef:V}=v;g.useEffect(()=>{if(b){let Se={x:0,y:0};const Ie=H=>{var ie,ue;Se={x:Math.abs(Math.round(H.pageX)-(((ie=V.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(H.pageY)-(((ue=V.current)==null?void 0:ue.y)??0))}},ze=H=>{Se.x<=10&&Se.y<=10?H.preventDefault():b.contains(H.target)||O(!1),document.removeEventListener("pointermove",Ie),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",ze,{capture:!0})}}},[b,O,V]),g.useEffect(()=>{const Se=()=>O(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[O]);const[Q,Z]=DA(Se=>{const Ie=j().filter(ie=>!ie.disabled),ze=Ie.find(ie=>ie.ref.current===document.activeElement),H=MA(Ie,Se,ze);H&&setTimeout(()=>H.ref.current.focus())}),U=g.useCallback((Se,Ie,ze)=>{const H=!G.current&&!ze;(v.value!==void 0&&v.value===Ie||H)&&(P(Se),H&&(G.current=!0))},[v.value]),pe=g.useCallback(()=>b==null?void 0:b.focus(),[b]),ce=g.useCallback((Se,Ie,ze)=>{const H=!G.current&&!ze;(v.value!==void 0&&v.value===Ie||H)&&k(Se)},[v.value]),Ne=r==="popper"?Ix:xA,De=Ne===Ix?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:x,avoidCollisions:_}:{};return a.jsx(gA,{scope:n,content:b,viewport:R,onViewportChange:L,itemRefCallback:U,selectedItem:N,onItemLeave:pe,itemTextRefCallback:ce,focusSelectedItem:q,selectedItemText:I,position:r,isPositioned:A,searchRef:Q,children:a.jsx(eb,{as:M8,allowPinchZoom:!0,children:a.jsx(Op,{asChild:!0,trapped:v.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:Le(s,Se=>{var Ie;(Ie=v.trigger)==null||Ie.focus({preventScroll:!0}),Se.preventDefault()}),children:a.jsx(Nc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Ne,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Se=>Se.preventDefault(),...S,...De,onPlaced:()=>F(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Le(S.onKeyDown,Se=>{const Ie=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!Ie&&Se.key.length===1&&Z(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let H=j().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const ie=Se.target,ue=H.indexOf(ie);H=H.slice(ue+1)}setTimeout(()=>Y(H)),Se.preventDefault()}})})})})})})});vA.displayName=D8;var O8="SelectItemAlignedPosition",xA=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Ka($i,n),i=Qa($i,n),[l,c]=g.useState(null),[u,d]=g.useState(null),f=jt(e,C=>d(C)),m=Bp(n),p=g.useRef(!1),y=g.useRef(!0),{viewport:x,selectedItem:_,selectedItemText:S,focusSelectedItem:v}=i,b=g.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&_&&S){const C=o.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),I=S.getBoundingClientRect();if(o.dir!=="rtl"){const ie=I.left-N.left,ue=P.left-ie,_e=C.left-ue,Be=C.width+_e,at=Math.max(Be,N.width),z=window.innerWidth-ps,fe=fN(ue,[ps,Math.max(ps,z-at)]);l.style.minWidth=Be+"px",l.style.left=fe+"px"}else{const ie=N.right-I.right,ue=window.innerWidth-P.right-ie,_e=window.innerWidth-C.right-ue,Be=C.width+_e,at=Math.max(Be,N.width),z=window.innerWidth-ps,fe=fN(ue,[ps,Math.max(ps,z-at)]);l.style.minWidth=Be+"px",l.style.right=fe+"px"}const k=m(),j=window.innerHeight-ps*2,A=x.scrollHeight,F=window.getComputedStyle(u),G=parseInt(F.borderTopWidth,10),Y=parseInt(F.paddingTop,10),q=parseInt(F.borderBottomWidth,10),O=parseInt(F.paddingBottom,10),V=G+Y+A+O+q,Q=Math.min(_.offsetHeight*5,V),Z=window.getComputedStyle(x),U=parseInt(Z.paddingTop,10),pe=parseInt(Z.paddingBottom,10),ce=C.top+C.height/2-ps,Ne=j-ce,De=_.offsetHeight/2,Se=_.offsetTop+De,Ie=G+Y+Se,ze=V-Ie;if(Ie<=ce){const ie=k.length>0&&_===k[k.length-1].ref.current;l.style.bottom="0px";const ue=u.clientHeight-x.offsetTop-x.offsetHeight,_e=Math.max(Ne,De+(ie?pe:0)+ue+q),Be=Ie+_e;l.style.height=Be+"px"}else{const ie=k.length>0&&_===k[0].ref.current;l.style.top="0px";const _e=Math.max(ce,G+x.offsetTop+(ie?U:0)+De)+ze;l.style.height=_e+"px",x.scrollTop=Ie-ce+x.offsetTop}l.style.margin=`${ps}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,u,x,_,S,o.dir,r]);$n(()=>b(),[b]);const[T,R]=g.useState();$n(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const L=g.useCallback(C=>{C&&y.current===!0&&(b(),v==null||v(),y.current=!1)},[b,v]);return a.jsx(F8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:L,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:a.jsx(tt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xA.displayName=O8;var L8="SelectPopperPosition",Ix=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ps,...o}=t,i=Up(n);return a.jsx(Qw,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ix.displayName=L8;var[F8,ab]=kc($i,{}),Ax="SelectViewport",yA=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Qa(Ax,n),i=ab(Ax,n),l=jt(e,o.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(zp.Slot,{scope:n,children:a.jsx(tt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Le(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-ps*2,x=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),S=Math.max(x,_);if(S<y){const v=S+p,b=Math.min(y,v),T=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});yA.displayName=Ax;var wA="SelectGroup",[V8,z8]=kc(wA),B8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=No();return a.jsx(V8,{scope:n,id:s,children:a.jsx(tt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});B8.displayName=wA;var bA="SelectLabel",SA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=z8(bA,n);return a.jsx(tt.div,{id:s.id,...r,ref:e})});SA.displayName=bA;var Tm="SelectItem",[U8,_A]=kc(Tm),CA=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,l=Ka(Tm,n),c=Qa(Tm,n),u=l.value===r,[d,f]=g.useState(o??""),[m,p]=g.useState(!1),y=jt(e,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),x=No(),_=g.useRef("touch"),S=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(U8,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:g.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(zp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(tt.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:Le(i.onFocus,()=>p(!0)),onBlur:Le(i.onBlur,()=>p(!1)),onClick:Le(i.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:Le(i.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:Le(i.onPointerDown,v=>{_.current=v.pointerType}),onPointerMove:Le(i.onPointerMove,v=>{var b;_.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):_.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(i.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Le(i.onKeyDown,v=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&v.key===" "||(j8.includes(v.key)&&S(),v.key===" "&&v.preventDefault())})})})})});CA.displayName=Tm;var Su="SelectItemText",NA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=Ka(Su,n),l=Qa(Su,n),c=_A(Su,n),u=I8(Su,n),[d,f]=g.useState(null),m=jt(e,S=>f(S),c.onItemTextChange,S=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,S,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:_}=u;return $n(()=>(x(y),()=>_(y)),[x,_,y]),a.jsxs(a.Fragment,{children:[a.jsx(tt.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ps.createPortal(o.children,i.valueNode):null]})});NA.displayName=Su;var EA="SelectItemIndicator",jA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _A(EA,n).isSelected?a.jsx(tt.span,{"aria-hidden":!0,...r,ref:e}):null});jA.displayName=EA;var Rx="SelectScrollUpButton",TA=g.forwardRef((t,e)=>{const n=Qa(Rx,t.__scopeSelect),r=ab(Rx,t.__scopeSelect),[s,o]=g.useState(!1),i=jt(e,r.onScrollButtonChange);return $n(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(PA,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});TA.displayName=Rx;var Dx="SelectScrollDownButton",kA=g.forwardRef((t,e)=>{const n=Qa(Dx,t.__scopeSelect),r=ab(Dx,t.__scopeSelect),[s,o]=g.useState(!1),i=jt(e,r.onScrollButtonChange);return $n(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(PA,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});kA.displayName=Dx;var PA=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Qa("SelectScrollButton",n),i=g.useRef(null),l=Bp(n),c=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),$n(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(tt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Le(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Le(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Le(s.onPointerLeave,()=>{c()})})}),$8="SelectSeparator",IA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(tt.div,{"aria-hidden":!0,...r,ref:e})});IA.displayName=$8;var Mx="SelectArrow",q8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Up(n),o=Ka(Mx,n),i=Qa(Mx,n);return o.open&&i.position==="popper"?a.jsx(Xw,{...s,...r,ref:e}):null});q8.displayName=Mx;var W8="SelectBubbleInput",AA=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),o=jt(r,s),i=N8(e);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[i,e]),a.jsx(tt.select,{...n,style:{...PI,...n.style},ref:o,defaultValue:e})});AA.displayName=W8;function RA(t){return t===""||t===void 0}function DA(t){const e=cs(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(i=>{const l=n.current+i;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function MA(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=H8(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function H8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var G8=lA,OA=uA,Y8=hA,K8=fA,Q8=mA,LA=pA,X8=yA,FA=SA,VA=CA,Z8=NA,J8=jA,zA=TA,BA=kA,UA=IA;const vt=G8,xt=Y8,ft=$e.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(OA,{ref:r,className:rt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(K8,{asChild:!0,children:a.jsx(dI,{className:"h-4 w-4 opacity-50"})})]}));ft.displayName=OA.displayName;const $A=$e.forwardRef(({className:t,...e},n)=>a.jsx(zA,{ref:n,className:rt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx($9,{className:"h-4 w-4"})}));$A.displayName=zA.displayName;const qA=$e.forwardRef(({className:t,...e},n)=>a.jsx(BA,{ref:n,className:rt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(dI,{className:"h-4 w-4"})}));qA.displayName=BA.displayName;const mt=$e.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(Q8,{children:a.jsxs(LA,{ref:s,className:rt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx($A,{}),a.jsx(X8,{className:rt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(qA,{})]})}));mt.displayName=LA.displayName;const e7=$e.forwardRef(({className:t,...e},n)=>a.jsx(FA,{ref:n,className:rt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));e7.displayName=FA.displayName;const se=$e.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(VA,{ref:r,className:rt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(J8,{children:a.jsx(B9,{className:"h-4 w-4"})})}),a.jsx(Z8,{children:e})]}));se.displayName=VA.displayName;const t7=$e.forwardRef(({className:t,...e},n)=>a.jsx(UA,{ref:n,className:rt("-mx-1 my-1 h-px bg-muted",t),...e}));t7.displayName=UA.displayName;const n7=Ep("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yr({className:t,variant:e,...n}){return a.jsx("div",{className:rt(n7({variant:e}),t),...n})}const gn=$e.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:rt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));gn.displayName="Card";const Tn=$e.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:rt("flex flex-col space-y-1.5 p-6",t),...e}));Tn.displayName="CardHeader";const kn=$e.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:rt("text-2xl font-semibold leading-none tracking-tight",t),...e}));kn.displayName="CardTitle";const Si=$e.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:rt("text-sm text-muted-foreground",t),...e}));Si.displayName="CardDescription";const vn=$e.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:rt("p-6 pt-0",t),...e}));vn.displayName="CardContent";const r7=$e.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:rt("flex items-center p-6 pt-0",t),...e}));r7.displayName="CardFooter";var Iv="rovingFocusGroup.onEntryFocus",s7={bubbles:!1,cancelable:!0},qd="RovingFocusGroup",[Ox,WA,o7]=Fw(qd),[a7,HA]=oo(qd,[o7]),[i7,l7]=a7(qd),GA=g.forwardRef((t,e)=>a.jsx(Ox.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Ox.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(c7,{...t,ref:e})})}));GA.displayName=qd;var c7=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=g.useRef(null),p=jt(e,m),y=ob(o),[x,_]=Vi({prop:i,defaultProp:l??null,onChange:c,caller:qd}),[S,v]=g.useState(!1),b=cs(u),T=WA(n),R=g.useRef(!1),[L,C]=g.useState(0);return g.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(Iv,b),()=>N.removeEventListener(Iv,b)},[b]),a.jsx(i7,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:x,onItemFocus:g.useCallback(N=>_(N),[_]),onItemShiftTab:g.useCallback(()=>v(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:g.useCallback(()=>C(N=>N-1),[]),children:a.jsx(tt.div,{tabIndex:S||L===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:Le(t.onMouseDown,()=>{R.current=!0}),onFocus:Le(t.onFocus,N=>{const P=!R.current;if(N.target===N.currentTarget&&P&&!S){const I=new CustomEvent(Iv,s7);if(N.currentTarget.dispatchEvent(I),!I.defaultPrevented){const k=T().filter(Y=>Y.focusable),j=k.find(Y=>Y.active),A=k.find(Y=>Y.id===x),G=[j,A,...k].filter(Boolean).map(Y=>Y.ref.current);QA(G,d)}}R.current=!1}),onBlur:Le(t.onBlur,()=>v(!1))})})}),YA="RovingFocusGroupItem",KA=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=t,c=No(),u=o||c,d=l7(YA,n),f=d.currentTabStopId===u,m=WA(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:x}=d;return g.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),a.jsx(Ox.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(tt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Le(t.onMouseDown,_=>{r?d.onItemFocus(u):_.preventDefault()}),onFocus:Le(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Le(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=h7(_,d.orientation,d.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let b=m().filter(T=>T.focusable).map(T=>T.ref.current);if(S==="last")b.reverse();else if(S==="prev"||S==="next"){S==="prev"&&b.reverse();const T=b.indexOf(_.currentTarget);b=d.loop?f7(b,T+1):b.slice(T+1)}setTimeout(()=>QA(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});KA.displayName=YA;var u7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function h7(t,e,n){const r=d7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return u7[r]}function QA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function f7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var m7=GA,p7=KA,$p="Tabs",[g7,fne]=oo($p,[HA]),XA=HA(),[v7,ib]=g7($p),ZA=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=ob(l),[f,m]=Vi({prop:r,onChange:s,defaultProp:o??"",caller:$p});return a.jsx(v7,{scope:n,baseId:No(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:c,children:a.jsx(tt.div,{dir:d,"data-orientation":i,...u,ref:e})})});ZA.displayName=$p;var JA="TabsList",eR=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=ib(JA,n),i=XA(n);return a.jsx(m7,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(tt.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});eR.displayName=JA;var tR="TabsTrigger",nR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=ib(tR,n),l=XA(n),c=oR(i.baseId,r),u=aR(i.baseId,r),d=r===i.value;return a.jsx(p7,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(tt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:Le(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Le(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Le(t.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});nR.displayName=tR;var rR="TabsContent",sR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,l=ib(rR,n),c=oR(l.baseId,r),u=aR(l.baseId,r),d=r===l.value,f=g.useRef(d);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(zo,{present:s||d,children:({present:m})=>a.jsx(tt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});sR.displayName=rR;function oR(t,e){return`${t}-trigger-${e}`}function aR(t,e){return`${t}-content-${e}`}var x7=ZA,iR=eR,lR=nR,cR=sR;const Oa=x7,La=$e.forwardRef(({className:t,...e},n)=>a.jsx(iR,{ref:n,className:rt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));La.displayName=iR.displayName;const wn=$e.forwardRef(({className:t,...e},n)=>a.jsx(lR,{ref:n,className:rt("inline-flex items-center justify-center break-words rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));wn.displayName=lR.displayName;const bn=$e.forwardRef(({className:t,...e},n)=>a.jsx(cR,{ref:n,className:rt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));bn.displayName=cR.displayName;const y7=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function uc(t,e,n){const r=w7(t),{webkitRelativePath:s}=t,o=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof r.path!="string"&&mN(r,"path",o),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),mN(r,"relativePath",o),r}function w7(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),s=y7.get(r);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function mN(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const b7=[".DS_Store","Thumbs.db"];function S7(t){return nl(this,void 0,void 0,function*(){return km(t)&&_7(t.dataTransfer)?j7(t.dataTransfer,t.type):C7(t)?N7(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?E7(t):[]})}function _7(t){return km(t)}function C7(t){return km(t)&&km(t.target)}function km(t){return typeof t=="object"&&t!==null}function N7(t){return Lx(t.target.files).map(e=>uc(e))}function E7(t){return nl(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>uc(n))})}function j7(t,e){return nl(this,void 0,void 0,function*(){if(t.items){const n=Lx(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(T7));return pN(uR(r))}return pN(Lx(t.files).map(n=>uc(n)))})}function pN(t){return t.filter(e=>b7.indexOf(e.name)===-1)}function Lx(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function T7(t){if(typeof t.webkitGetAsEntry!="function")return gN(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?dR(e):gN(t,e)}function uR(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?uR(n):[n]],[])}function gN(t,e){return nl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const i=yield o.getFile();return i.handle=o,uc(i)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return uc(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function k7(t){return nl(this,void 0,void 0,function*(){return t.isDirectory?dR(t):P7(t)})}function dR(t){const e=t.createReader();return new Promise((n,r)=>{const s=[];function o(){e.readEntries(i=>nl(this,void 0,void 0,function*(){if(i.length){const l=Promise.all(i.map(k7));s.push(l),o()}else try{const l=yield Promise.all(s);n(l)}catch(l){r(l)}}),i=>{r(i)})}o()})}function P7(t){return nl(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const s=uc(r,t.fullPath);e(s)},r=>{n(r)})})})}var Av=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return n.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):s===l})}return!0};function vN(t){return R7(t)||A7(t)||fR(t)||I7()}function I7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R7(t){if(Array.isArray(t))return Fx(t)}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){hR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yd(t,e){return O7(t)||M7(t,e)||fR(t,e)||D7()}function D7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fR(t,e){if(t){if(typeof t=="string")return Fx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fx(t,e)}}function Fx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function O7(t){if(Array.isArray(t))return t}var L7=typeof Av=="function"?Av:Av.default,F7="file-invalid-type",V7="file-too-large",z7="file-too-small",B7="too-many-files",U7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:F7,message:"File type must be ".concat(r)}},wN=function(e){return{code:V7,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},bN=function(e){return{code:z7,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},$7={code:B7,message:"Too many files"};function mR(t,e){var n=t.type==="application/x-moz-file"||L7(t,e);return[n,n?null:U7(e)]}function pR(t,e,n){if(gi(t.size))if(gi(e)&&gi(n)){if(t.size>n)return[!1,wN(n)];if(t.size<e)return[!1,bN(e)]}else{if(gi(e)&&t.size<e)return[!1,bN(e)];if(gi(n)&&t.size>n)return[!1,wN(n)]}return[!0,null]}function gi(t){return t!=null}function q7(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,o=t.multiple,i=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&i>=1&&e.length>i?!1:e.every(function(c){var u=mR(c,n),d=yd(u,1),f=d[0],m=pR(c,r,s),p=yd(m,1),y=p[0],x=l?l(c):null;return f&&y&&!x})}function Pm(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Xh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function SN(t){t.preventDefault()}function W7(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function H7(t){return t.indexOf("Edge/")!==-1}function G7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return W7(t)||H7(t)}function Ms(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return e.some(function(l){return!Pm(r)&&l&&l.apply(void 0,[r].concat(o)),Pm(r)})}}function Y7(){return"showOpenFilePicker"in window}function K7(t){if(gi(t)){var e=Object.entries(t).filter(function(n){var r=yd(n,2),s=r[0],o=r[1],i=!0;return gR(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(o)||!o.every(vR))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(n,r){var s=yd(r,2),o=s[0],i=s[1];return yN(yN({},n),{},hR({},o,i))},{});return[{description:"Files",accept:e}]}return t}function Q7(t){if(gi(t))return Object.entries(t).reduce(function(e,n){var r=yd(n,2),s=r[0],o=r[1];return[].concat(vN(e),[s],vN(o))},[]).filter(function(e){return gR(e)||vR(e)}).join(",")}function X7(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Z7(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function gR(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function vR(t){return/^.*\.[\w]+$/.test(t)}var J7=["children"],eq=["open"],tq=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],nq=["refKey","onChange","onClick"];function rq(t){return aq(t)||oq(t)||xR(t)||sq()}function sq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aq(t){if(Array.isArray(t))return Vx(t)}function Rv(t,e){return cq(t)||lq(t,e)||xR(t,e)||iq()}function iq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xR(t,e){if(t){if(typeof t=="string")return Vx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vx(t,e)}}function Vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function cq(t){if(Array.isArray(t))return t}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){zx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Im(t,e){if(t==null)return{};var n=uq(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var lb=g.forwardRef(function(t,e){var n=t.children,r=Im(t,J7),s=cb(r),o=s.open,i=Im(s,eq);return g.useImperativeHandle(e,function(){return{open:o}},[o]),$e.createElement(g.Fragment,null,n(Bt(Bt({},i),{},{open:o})))});lb.displayName="Dropzone";var yR={disabled:!1,getFilesFromEvent:S7,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};lb.defaultProps=yR;lb.propTypes={children:Ue.func,accept:Ue.objectOf(Ue.arrayOf(Ue.string)),multiple:Ue.bool,preventDropOnDocument:Ue.bool,noClick:Ue.bool,noKeyboard:Ue.bool,noDrag:Ue.bool,noDragEventsBubbling:Ue.bool,minSize:Ue.number,maxSize:Ue.number,maxFiles:Ue.number,disabled:Ue.bool,getFilesFromEvent:Ue.func,onFileDialogCancel:Ue.func,onFileDialogOpen:Ue.func,useFsAccessApi:Ue.bool,autoFocus:Ue.bool,onDragEnter:Ue.func,onDragLeave:Ue.func,onDragOver:Ue.func,onDrop:Ue.func,onDropAccepted:Ue.func,onDropRejected:Ue.func,onError:Ue.func,validator:Ue.func};var Bx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function cb(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Bt(Bt({},yR),t),n=e.accept,r=e.disabled,s=e.getFilesFromEvent,o=e.maxSize,i=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,m=e.onDrop,p=e.onDropAccepted,y=e.onDropRejected,x=e.onFileDialogCancel,_=e.onFileDialogOpen,S=e.useFsAccessApi,v=e.autoFocus,b=e.preventDropOnDocument,T=e.noClick,R=e.noKeyboard,L=e.noDrag,C=e.noDragEventsBubbling,N=e.onError,P=e.validator,I=g.useMemo(function(){return Q7(n)},[n]),k=g.useMemo(function(){return K7(n)},[n]),j=g.useMemo(function(){return typeof _=="function"?_:CN},[_]),A=g.useMemo(function(){return typeof x=="function"?x:CN},[x]),F=g.useRef(null),G=g.useRef(null),Y=g.useReducer(dq,Bx),q=Rv(Y,2),O=q[0],V=q[1],Q=O.isFocused,Z=O.isFileDialogActive,U=g.useRef(typeof window<"u"&&window.isSecureContext&&S&&Y7()),pe=function(){!U.current&&Z&&setTimeout(function(){if(G.current){var de=G.current.files;de.length||(V({type:"closeDialog"}),A())}},300)};g.useEffect(function(){return window.addEventListener("focus",pe,!1),function(){window.removeEventListener("focus",pe,!1)}},[G,Z,A,U]);var ce=g.useRef([]),Ne=function(de){F.current&&F.current.contains(de.target)||(de.preventDefault(),ce.current=[])};g.useEffect(function(){return b&&(document.addEventListener("dragover",SN,!1),document.addEventListener("drop",Ne,!1)),function(){b&&(document.removeEventListener("dragover",SN),document.removeEventListener("drop",Ne))}},[F,b]),g.useEffect(function(){return!r&&v&&F.current&&F.current.focus(),function(){}},[F,v,r]);var De=g.useCallback(function(ge){N?N(ge):console.error(ge)},[N]),Se=g.useCallback(function(ge){ge.preventDefault(),ge.persist(),Me(ge),ce.current=[].concat(rq(ce.current),[ge.target]),Xh(ge)&&Promise.resolve(s(ge)).then(function(de){if(!(Pm(ge)&&!C)){var Ke=de.length,_t=Ke>0&&q7({files:de,accept:I,minSize:i,maxSize:o,multiple:l,maxFiles:c,validator:P}),Ft=Ke>0&&!_t;V({isDragAccept:_t,isDragReject:Ft,isDragActive:!0,type:"setDraggedFiles"}),u&&u(ge)}}).catch(function(de){return De(de)})},[s,u,De,C,I,i,o,l,c,P]),Ie=g.useCallback(function(ge){ge.preventDefault(),ge.persist(),Me(ge);var de=Xh(ge);if(de&&ge.dataTransfer)try{ge.dataTransfer.dropEffect="copy"}catch{}return de&&f&&f(ge),!1},[f,C]),ze=g.useCallback(function(ge){ge.preventDefault(),ge.persist(),Me(ge);var de=ce.current.filter(function(_t){return F.current&&F.current.contains(_t)}),Ke=de.indexOf(ge.target);Ke!==-1&&de.splice(Ke,1),ce.current=de,!(de.length>0)&&(V({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Xh(ge)&&d&&d(ge))},[F,d,C]),H=g.useCallback(function(ge,de){var Ke=[],_t=[];ge.forEach(function(Ft){var Mn=mR(Ft,I),En=Rv(Mn,2),Yr=En[0],Wn=En[1],Ir=pR(Ft,i,o),On=Rv(Ir,2),Ar=On[0],Rr=On[1],fn=P?P(Ft):null;if(Yr&&Ar&&!fn)Ke.push(Ft);else{var Hn=[Wn,Rr];fn&&(Hn=Hn.concat(fn)),_t.push({file:Ft,errors:Hn.filter(function(M){return M})})}}),(!l&&Ke.length>1||l&&c>=1&&Ke.length>c)&&(Ke.forEach(function(Ft){_t.push({file:Ft,errors:[$7]})}),Ke.splice(0)),V({acceptedFiles:Ke,fileRejections:_t,isDragReject:_t.length>0,type:"setFiles"}),m&&m(Ke,_t,de),_t.length>0&&y&&y(_t,de),Ke.length>0&&p&&p(Ke,de)},[V,l,I,i,o,c,m,p,y,P]),ie=g.useCallback(function(ge){ge.preventDefault(),ge.persist(),Me(ge),ce.current=[],Xh(ge)&&Promise.resolve(s(ge)).then(function(de){Pm(ge)&&!C||H(de,ge)}).catch(function(de){return De(de)}),V({type:"reset"})},[s,H,De,C]),ue=g.useCallback(function(){if(U.current){V({type:"openDialog"}),j();var ge={multiple:l,types:k};window.showOpenFilePicker(ge).then(function(de){return s(de)}).then(function(de){H(de,null),V({type:"closeDialog"})}).catch(function(de){X7(de)?(A(de),V({type:"closeDialog"})):Z7(de)?(U.current=!1,G.current?(G.current.value=null,G.current.click()):De(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):De(de)});return}G.current&&(V({type:"openDialog"}),j(),G.current.value=null,G.current.click())},[V,j,A,S,H,De,k,l]),_e=g.useCallback(function(ge){!F.current||!F.current.isEqualNode(ge.target)||(ge.key===" "||ge.key==="Enter"||ge.keyCode===32||ge.keyCode===13)&&(ge.preventDefault(),ue())},[F,ue]),Be=g.useCallback(function(){V({type:"focus"})},[]),at=g.useCallback(function(){V({type:"blur"})},[]),z=g.useCallback(function(){T||(G7()?setTimeout(ue,0):ue())},[T,ue]),fe=function(de){return r?null:de},qe=function(de){return R?null:fe(de)},Ae=function(de){return L?null:fe(de)},Me=function(de){C&&de.stopPropagation()},Te=g.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=ge.refKey,Ke=de===void 0?"ref":de,_t=ge.role,Ft=ge.onKeyDown,Mn=ge.onFocus,En=ge.onBlur,Yr=ge.onClick,Wn=ge.onDragEnter,Ir=ge.onDragOver,On=ge.onDragLeave,Ar=ge.onDrop,Rr=Im(ge,tq);return Bt(Bt(zx({onKeyDown:qe(Ms(Ft,_e)),onFocus:qe(Ms(Mn,Be)),onBlur:qe(Ms(En,at)),onClick:fe(Ms(Yr,z)),onDragEnter:Ae(Ms(Wn,Se)),onDragOver:Ae(Ms(Ir,Ie)),onDragLeave:Ae(Ms(On,ze)),onDrop:Ae(Ms(Ar,ie)),role:typeof _t=="string"&&_t!==""?_t:"presentation"},Ke,F),!r&&!R?{tabIndex:0}:{}),Rr)}},[F,_e,Be,at,z,Se,Ie,ze,ie,R,L,r]),Ge=g.useCallback(function(ge){ge.stopPropagation()},[]),Gt=g.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=ge.refKey,Ke=de===void 0?"ref":de,_t=ge.onChange,Ft=ge.onClick,Mn=Im(ge,nq),En=zx({accept:I,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:fe(Ms(_t,ie)),onClick:fe(Ms(Ft,Ge)),tabIndex:-1},Ke,G);return Bt(Bt({},En),Mn)}},[G,n,l,ie,r]);return Bt(Bt({},O),{},{isFocused:Q&&!r,getRootProps:Te,getInputProps:Gt,rootRef:F,inputRef:G,open:fe(ue)})}function dq(t,e){switch(e.type){case"focus":return Bt(Bt({},t),{},{isFocused:!0});case"blur":return Bt(Bt({},t),{},{isFocused:!1});case"openDialog":return Bt(Bt({},Bx),{},{isFileDialogActive:!0});case"closeDialog":return Bt(Bt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Bt(Bt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Bt(Bt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Bt({},Bx);default:return t}}function CN(){}const hq=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(i&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},bR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,l=i?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let m=(l&15)<<2|u>>6,p=u&63;c||(p=64,i||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||u==null||f==null)throw new mq;const m=o<<2|l>>4;if(r.push(m),u!==64){const p=l<<4&240|u>>2;if(r.push(p),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pq=function(t){const e=wR(t);return bR.encodeByteArray(e,!0)},Am=function(t){return pq(t).replace(/\./g,"")},SR=function(t){try{return bR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=()=>gq().__FIREBASE_DEFAULTS__,xq=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SR(t[1]);return e&&JSON.parse(e)},qp=()=>{try{return hq()||vq()||xq()||yq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_R=t=>{var e,n;return(n=(e=qp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},wq=t=>{const e=_R(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CR=()=>{var t;return(t=qp())==null?void 0:t.config},NR=t=>{var e;return(e=qp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ER(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[Am(JSON.stringify(n)),Am(JSON.stringify(i)),l].join(".")}const Bu={};function _q(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?t.emulator.push(e):t.prod.push(e);return t}function Cq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let NN=!1;function jR(t,e){if(typeof window>"u"||typeof document>"u"||!Pc(window.location.host)||Bu[t]===e||Bu[t]||NN)return;Bu[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",o=_q().prod.length>0;function i(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{NN=!0,i()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=Cq(r),p=n("text"),y=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),_=document.getElementById(x)||document.createElement("a"),S=n("preprendIcon"),v=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const b=m.element;l(b),d(_,x);const T=u();c(v,S),b.append(v,y,_,T),document.body.appendChild(b)}o?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function Eq(){var e;const t=(e=qp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pq(){const t=sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Iq(){return!Eq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aq(){try{return typeof indexedDB=="object"}catch{return!1}}function Rq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq="FirebaseError";class Bo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dq,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wd.prototype.create)}}class Wd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?Mq(o,r):"Error",l=`${this.serviceName}: ${i} (${s}).`;return new Bo(s,l,r)}}function Mq(t,e){return t.replace(Oq,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Oq=/\{\$([^}]+)}/g;function Lq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(EN(o)&&EN(i)){if(!qi(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function EN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fq(t,e){const n=new Vq(t,e);return n.subscribe.bind(n)}class Vq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zq(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dv),s.error===void 0&&(s.error=Dv),s.complete===void 0&&(s.complete=Dv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t){return t&&t._delegate?t._delegate:t}class Wi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($q(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&i.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Uq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uq(t){return t===mi?void 0:t}function $q(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const Wq={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},Hq=ht.INFO,Gq={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},Yq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Gq[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ub{constructor(e){this.name=e,this._logLevel=Hq,this._logHandler=Yq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const Kq=(t,e)=>e.some(n=>t instanceof n);let jN,TN;function Qq(){return jN||(jN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xq(){return TN||(TN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TR=new WeakMap,Ux=new WeakMap,kR=new WeakMap,Mv=new WeakMap,db=new WeakMap;function Zq(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Na(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&TR.set(n,t)}).catch(()=>{}),db.set(e,t),e}function Jq(t){if(Ux.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Ux.set(t,e)}let $x={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eW(t){$x=t($x)}function tW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ov(this),e,...n);return kR.set(r,e.sort?e.sort():[e]),Na(r)}:Xq().includes(t)?function(...e){return t.apply(Ov(this),e),Na(TR.get(this))}:function(...e){return Na(t.apply(Ov(this),e))}}function nW(t){return typeof t=="function"?tW(t):(t instanceof IDBTransaction&&Jq(t),Kq(t,Qq())?new Proxy(t,$x):t)}function Na(t){if(t instanceof IDBRequest)return Zq(t);if(Mv.has(t))return Mv.get(t);const e=nW(t);return e!==t&&(Mv.set(t,e),db.set(e,t)),e}const Ov=t=>db.get(t);function rW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),l=Na(i);return r&&i.addEventListener("upgradeneeded",c=>{r(Na(i.result),c.oldVersion,c.newVersion,Na(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const sW=["get","getKey","getAll","getAllKeys","count"],oW=["put","add","delete","clear"],Lv=new Map;function kN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lv.get(e))return Lv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=oW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||sW.includes(n)))return;const o=async function(i,...l){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Lv.set(e,o),o}eW(t=>({...t,get:(e,n,r)=>kN(e,n)||t.get(e,n,r),has:(e,n)=>!!kN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qx="@firebase/app",PN="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new ub("@firebase/app"),lW="@firebase/app-compat",cW="@firebase/analytics-compat",uW="@firebase/analytics",dW="@firebase/app-check-compat",hW="@firebase/app-check",fW="@firebase/auth",mW="@firebase/auth-compat",pW="@firebase/database",gW="@firebase/data-connect",vW="@firebase/database-compat",xW="@firebase/functions",yW="@firebase/functions-compat",wW="@firebase/installations",bW="@firebase/installations-compat",SW="@firebase/messaging",_W="@firebase/messaging-compat",CW="@firebase/performance",NW="@firebase/performance-compat",EW="@firebase/remote-config",jW="@firebase/remote-config-compat",TW="@firebase/storage",kW="@firebase/storage-compat",PW="@firebase/firestore",IW="@firebase/ai",AW="@firebase/firestore-compat",RW="firebase",DW="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="[DEFAULT]",MW={[qx]:"fire-core",[lW]:"fire-core-compat",[uW]:"fire-analytics",[cW]:"fire-analytics-compat",[hW]:"fire-app-check",[dW]:"fire-app-check-compat",[fW]:"fire-auth",[mW]:"fire-auth-compat",[pW]:"fire-rtdb",[gW]:"fire-data-connect",[vW]:"fire-rtdb-compat",[xW]:"fire-fn",[yW]:"fire-fn-compat",[wW]:"fire-iid",[bW]:"fire-iid-compat",[SW]:"fire-fcm",[_W]:"fire-fcm-compat",[CW]:"fire-perf",[NW]:"fire-perf-compat",[EW]:"fire-rc",[jW]:"fire-rc-compat",[TW]:"fire-gcs",[kW]:"fire-gcs-compat",[PW]:"fire-fst",[AW]:"fire-fst-compat",[IW]:"fire-vertex","fire-js":"fire-js",[RW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new Map,OW=new Map,Hx=new Map;function IN(t,e){try{t.container.addComponent(e)}catch(n){Do.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dc(t){const e=t.name;if(Hx.has(e))return Do.debug(`There were multiple attempts to register component ${e}.`),!1;Hx.set(e,t);for(const n of Rm.values())IN(n,t);for(const n of OW.values())IN(n,t);return!0}function hb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $s(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new Wd("app","Firebase",LW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=DW;function PR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Wx,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ea.create("bad-app-name",{appName:String(s)});if(n||(n=CR()),!n)throw Ea.create("no-options");const o=Rm.get(s);if(o){if(qi(n,o.options)&&qi(r,o.config))return o;throw Ea.create("duplicate-app",{appName:s})}const i=new qq(s);for(const c of Hx.values())i.addComponent(c);const l=new FW(n,r,i);return Rm.set(s,l),l}function IR(t=Wx){const e=Rm.get(t);if(!e&&t===Wx&&CR())return PR();if(!e)throw Ea.create("no-app",{appName:t});return e}function ja(t,e,n){let r=MW[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const i=[`Unable to register library "${r}" with version "${e}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&i.push("and"),o&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Do.warn(i.join(" "));return}dc(new Wi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW="firebase-heartbeat-database",zW=1,wd="firebase-heartbeat-store";let Fv=null;function AR(){return Fv||(Fv=rW(VW,zW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ea.create("idb-open",{originalErrorMessage:t.message})})),Fv}async function BW(t){try{const n=(await AR()).transaction(wd),r=await n.objectStore(wd).get(RR(t));return await n.done,r}catch(e){if(e instanceof Bo)Do.warn(e.message);else{const n=Ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Do.warn(n.message)}}}async function AN(t,e){try{const r=(await AR()).transaction(wd,"readwrite");await r.objectStore(wd).put(e,RR(t)),await r.done}catch(n){if(n instanceof Bo)Do.warn(n.message);else{const r=Ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Do.warn(r.message)}}}function RR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=1024,$W=30;class qW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>$W){const i=GW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Do.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RN(),{heartbeatsToSend:r,unsentEntries:s}=WW(this._heartbeatsCache.heartbeats),o=Am(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Do.warn(n),""}}}function RN(){return new Date().toISOString().substring(0,10)}function WW(t,e=UW){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),DN(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),DN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Aq()?Rq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function DN(t){return Am(JSON.stringify({version:2,heartbeats:t})).length}function GW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){dc(new Wi("platform-logger",e=>new aW(e),"PRIVATE")),dc(new Wi("heartbeat",e=>new qW(e),"PRIVATE")),ja(qx,PN,t),ja(qx,PN,"esm2020"),ja("fire-js","")}YW("");var MN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,DR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,N){function P(){}P.prototype=N.prototype,C.F=N.prototype,C.prototype=new P,C.prototype.constructor=C,C.D=function(I,k,j){for(var A=Array(arguments.length-2),F=2;F<arguments.length;F++)A[F-2]=arguments[F];return N.prototype[k].apply(I,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,N,P){P||(P=0);const I=Array(16);if(typeof N=="string")for(var k=0;k<16;++k)I[k]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(k=0;k<16;++k)I[k]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=C.g[0],P=C.g[1],k=C.g[2];let j=C.g[3],A;A=N+(j^P&(k^j))+I[0]+3614090360&4294967295,N=P+(A<<7&4294967295|A>>>25),A=j+(k^N&(P^k))+I[1]+3905402710&4294967295,j=N+(A<<12&4294967295|A>>>20),A=k+(P^j&(N^P))+I[2]+606105819&4294967295,k=j+(A<<17&4294967295|A>>>15),A=P+(N^k&(j^N))+I[3]+3250441966&4294967295,P=k+(A<<22&4294967295|A>>>10),A=N+(j^P&(k^j))+I[4]+4118548399&4294967295,N=P+(A<<7&4294967295|A>>>25),A=j+(k^N&(P^k))+I[5]+1200080426&4294967295,j=N+(A<<12&4294967295|A>>>20),A=k+(P^j&(N^P))+I[6]+2821735955&4294967295,k=j+(A<<17&4294967295|A>>>15),A=P+(N^k&(j^N))+I[7]+4249261313&4294967295,P=k+(A<<22&4294967295|A>>>10),A=N+(j^P&(k^j))+I[8]+1770035416&4294967295,N=P+(A<<7&4294967295|A>>>25),A=j+(k^N&(P^k))+I[9]+2336552879&4294967295,j=N+(A<<12&4294967295|A>>>20),A=k+(P^j&(N^P))+I[10]+4294925233&4294967295,k=j+(A<<17&4294967295|A>>>15),A=P+(N^k&(j^N))+I[11]+2304563134&4294967295,P=k+(A<<22&4294967295|A>>>10),A=N+(j^P&(k^j))+I[12]+1804603682&4294967295,N=P+(A<<7&4294967295|A>>>25),A=j+(k^N&(P^k))+I[13]+4254626195&4294967295,j=N+(A<<12&4294967295|A>>>20),A=k+(P^j&(N^P))+I[14]+2792965006&4294967295,k=j+(A<<17&4294967295|A>>>15),A=P+(N^k&(j^N))+I[15]+1236535329&4294967295,P=k+(A<<22&4294967295|A>>>10),A=N+(k^j&(P^k))+I[1]+4129170786&4294967295,N=P+(A<<5&4294967295|A>>>27),A=j+(P^k&(N^P))+I[6]+3225465664&4294967295,j=N+(A<<9&4294967295|A>>>23),A=k+(N^P&(j^N))+I[11]+643717713&4294967295,k=j+(A<<14&4294967295|A>>>18),A=P+(j^N&(k^j))+I[0]+3921069994&4294967295,P=k+(A<<20&4294967295|A>>>12),A=N+(k^j&(P^k))+I[5]+3593408605&4294967295,N=P+(A<<5&4294967295|A>>>27),A=j+(P^k&(N^P))+I[10]+38016083&4294967295,j=N+(A<<9&4294967295|A>>>23),A=k+(N^P&(j^N))+I[15]+3634488961&4294967295,k=j+(A<<14&4294967295|A>>>18),A=P+(j^N&(k^j))+I[4]+3889429448&4294967295,P=k+(A<<20&4294967295|A>>>12),A=N+(k^j&(P^k))+I[9]+568446438&4294967295,N=P+(A<<5&4294967295|A>>>27),A=j+(P^k&(N^P))+I[14]+3275163606&4294967295,j=N+(A<<9&4294967295|A>>>23),A=k+(N^P&(j^N))+I[3]+4107603335&4294967295,k=j+(A<<14&4294967295|A>>>18),A=P+(j^N&(k^j))+I[8]+1163531501&4294967295,P=k+(A<<20&4294967295|A>>>12),A=N+(k^j&(P^k))+I[13]+2850285829&4294967295,N=P+(A<<5&4294967295|A>>>27),A=j+(P^k&(N^P))+I[2]+4243563512&4294967295,j=N+(A<<9&4294967295|A>>>23),A=k+(N^P&(j^N))+I[7]+1735328473&4294967295,k=j+(A<<14&4294967295|A>>>18),A=P+(j^N&(k^j))+I[12]+2368359562&4294967295,P=k+(A<<20&4294967295|A>>>12),A=N+(P^k^j)+I[5]+4294588738&4294967295,N=P+(A<<4&4294967295|A>>>28),A=j+(N^P^k)+I[8]+2272392833&4294967295,j=N+(A<<11&4294967295|A>>>21),A=k+(j^N^P)+I[11]+1839030562&4294967295,k=j+(A<<16&4294967295|A>>>16),A=P+(k^j^N)+I[14]+4259657740&4294967295,P=k+(A<<23&4294967295|A>>>9),A=N+(P^k^j)+I[1]+2763975236&4294967295,N=P+(A<<4&4294967295|A>>>28),A=j+(N^P^k)+I[4]+1272893353&4294967295,j=N+(A<<11&4294967295|A>>>21),A=k+(j^N^P)+I[7]+4139469664&4294967295,k=j+(A<<16&4294967295|A>>>16),A=P+(k^j^N)+I[10]+3200236656&4294967295,P=k+(A<<23&4294967295|A>>>9),A=N+(P^k^j)+I[13]+681279174&4294967295,N=P+(A<<4&4294967295|A>>>28),A=j+(N^P^k)+I[0]+3936430074&4294967295,j=N+(A<<11&4294967295|A>>>21),A=k+(j^N^P)+I[3]+3572445317&4294967295,k=j+(A<<16&4294967295|A>>>16),A=P+(k^j^N)+I[6]+76029189&4294967295,P=k+(A<<23&4294967295|A>>>9),A=N+(P^k^j)+I[9]+3654602809&4294967295,N=P+(A<<4&4294967295|A>>>28),A=j+(N^P^k)+I[12]+3873151461&4294967295,j=N+(A<<11&4294967295|A>>>21),A=k+(j^N^P)+I[15]+530742520&4294967295,k=j+(A<<16&4294967295|A>>>16),A=P+(k^j^N)+I[2]+3299628645&4294967295,P=k+(A<<23&4294967295|A>>>9),A=N+(k^(P|~j))+I[0]+4096336452&4294967295,N=P+(A<<6&4294967295|A>>>26),A=j+(P^(N|~k))+I[7]+1126891415&4294967295,j=N+(A<<10&4294967295|A>>>22),A=k+(N^(j|~P))+I[14]+2878612391&4294967295,k=j+(A<<15&4294967295|A>>>17),A=P+(j^(k|~N))+I[5]+4237533241&4294967295,P=k+(A<<21&4294967295|A>>>11),A=N+(k^(P|~j))+I[12]+1700485571&4294967295,N=P+(A<<6&4294967295|A>>>26),A=j+(P^(N|~k))+I[3]+2399980690&4294967295,j=N+(A<<10&4294967295|A>>>22),A=k+(N^(j|~P))+I[10]+4293915773&4294967295,k=j+(A<<15&4294967295|A>>>17),A=P+(j^(k|~N))+I[1]+2240044497&4294967295,P=k+(A<<21&4294967295|A>>>11),A=N+(k^(P|~j))+I[8]+1873313359&4294967295,N=P+(A<<6&4294967295|A>>>26),A=j+(P^(N|~k))+I[15]+4264355552&4294967295,j=N+(A<<10&4294967295|A>>>22),A=k+(N^(j|~P))+I[6]+2734768916&4294967295,k=j+(A<<15&4294967295|A>>>17),A=P+(j^(k|~N))+I[13]+1309151649&4294967295,P=k+(A<<21&4294967295|A>>>11),A=N+(k^(P|~j))+I[4]+4149444226&4294967295,N=P+(A<<6&4294967295|A>>>26),A=j+(P^(N|~k))+I[11]+3174756917&4294967295,j=N+(A<<10&4294967295|A>>>22),A=k+(N^(j|~P))+I[2]+718787259&4294967295,k=j+(A<<15&4294967295|A>>>17),A=P+(j^(k|~N))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,N){N===void 0&&(N=C.length);const P=N-this.blockSize,I=this.C;let k=this.h,j=0;for(;j<N;){if(k==0)for(;j<=P;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<N;)if(I[k++]=C.charCodeAt(j++),k==this.blockSize){s(this,I),k=0;break}}else for(;j<N;)if(I[k++]=C[j++],k==this.blockSize){s(this,I),k=0;break}}this.h=k,this.o+=N},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;N=this.o*8;for(var P=C.length-8;P<C.length;++P)C[P]=N&255,N/=256;for(this.v(C),C=Array(16),N=0,P=0;P<4;++P)for(let I=0;I<32;I+=8)C[N++]=this.g[P]>>>I&255;return C};function o(C,N){var P=l;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=N(C)}function i(C,N){this.h=N;const P=[];let I=!0;for(let k=C.length-1;k>=0;k--){const j=C[k]|0;I&&j==N||(P[k]=j,I=!1)}this.g=P}var l={};function c(C){return-128<=C&&C<128?o(C,function(N){return new i([N|0],N<0?-1:0)}):new i([C|0],C<0?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(C<0)return _(u(-C));const N=[];let P=1;for(let I=0;C>=P;I++)N[I]=C/P|0,P*=4294967296;return new i(N,0)}function d(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return _(d(C.substring(1),N));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(N,8));let I=f;for(let j=0;j<C.length;j+=8){var k=Math.min(8,C.length-j);const A=parseInt(C.substring(j,j+k),N);k<8?(k=u(Math.pow(N,k)),I=I.j(k).add(u(A))):(I=I.j(P),I=I.add(u(A)))}return I}var f=c(0),m=c(1),p=c(16777216);t=i.prototype,t.m=function(){if(x(this))return-_(this).m();let C=0,N=1;for(let P=0;P<this.g.length;P++){const I=this.i(P);C+=(I>=0?I:4294967296+I)*N,N*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(x(this))return"-"+_(this).toString(C);const N=u(Math.pow(C,6));var P=this;let I="";for(;;){const k=T(P,N).g;P=S(P,k.j(N));let j=((P.g.length>0?P.g[0]:P.h)>>>0).toString(C);if(P=k,y(P))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(let N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=S(this,C),x(C)?-1:y(C)?0:1};function _(C){const N=C.g.length,P=[];for(let I=0;I<N;I++)P[I]=~C.g[I];return new i(P,~C.h).add(m)}t.abs=function(){return x(this)?_(this):this},t.add=function(C){const N=Math.max(this.g.length,C.g.length),P=[];let I=0;for(let k=0;k<=N;k++){let j=I+(this.i(k)&65535)+(C.i(k)&65535),A=(j>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);I=A>>>16,j&=65535,A&=65535,P[k]=A<<16|j}return new i(P,P[P.length-1]&-2147483648?-1:0)};function S(C,N){return C.add(_(N))}t.j=function(C){if(y(this)||y(C))return f;if(x(this))return x(C)?_(this).j(_(C)):_(_(this).j(C));if(x(C))return _(this.j(_(C)));if(this.l(p)<0&&C.l(p)<0)return u(this.m()*C.m());const N=this.g.length+C.g.length,P=[];for(var I=0;I<2*N;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(let k=0;k<C.g.length;k++){const j=this.i(I)>>>16,A=this.i(I)&65535,F=C.i(k)>>>16,G=C.i(k)&65535;P[2*I+2*k]+=A*G,v(P,2*I+2*k),P[2*I+2*k+1]+=j*G,v(P,2*I+2*k+1),P[2*I+2*k+1]+=A*F,v(P,2*I+2*k+1),P[2*I+2*k+2]+=j*F,v(P,2*I+2*k+2)}for(C=0;C<N;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=N;C<2*N;C++)P[C]=0;return new i(P,0)};function v(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function b(C,N){this.g=C,this.h=N}function T(C,N){if(y(N))throw Error("division by zero");if(y(C))return new b(f,f);if(x(C))return N=T(_(C),N),new b(_(N.g),_(N.h));if(x(N))return N=T(C,_(N)),new b(_(N.g),N.h);if(C.g.length>30){if(x(C)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var P=m,I=N;I.l(C)<=0;)P=R(P),I=R(I);var k=L(P,1),j=L(I,1);for(I=L(I,2),P=L(P,2);!y(I);){var A=j.add(I);A.l(C)<=0&&(k=k.add(P),j=A),I=L(I,1),P=L(P,1)}return N=S(C,k.j(N)),new b(k,N)}for(k=f;C.l(N)>=0;){for(P=Math.max(1,Math.floor(C.m()/N.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=u(P),A=j.j(N);x(A)||A.l(C)>0;)P-=I,j=u(P),A=j.j(N);y(j)&&(j=m),k=k.add(j),C=S(C,A)}return new b(k,C)}t.B=function(C){return T(this,C).h},t.and=function(C){const N=Math.max(this.g.length,C.g.length),P=[];for(let I=0;I<N;I++)P[I]=this.i(I)&C.i(I);return new i(P,this.h&C.h)},t.or=function(C){const N=Math.max(this.g.length,C.g.length),P=[];for(let I=0;I<N;I++)P[I]=this.i(I)|C.i(I);return new i(P,this.h|C.h)},t.xor=function(C){const N=Math.max(this.g.length,C.g.length),P=[];for(let I=0;I<N;I++)P[I]=this.i(I)^C.i(I);return new i(P,this.h^C.h)};function R(C){const N=C.g.length+1,P=[];for(let I=0;I<N;I++)P[I]=C.i(I)<<1|C.i(I-1)>>>31;return new i(P,C.h)}function L(C,N){const P=N>>5;N%=32;const I=C.g.length-P,k=[];for(let j=0;j<I;j++)k[j]=N>0?C.i(j+P)>>>N|C.i(j+P+1)<<32-N:C.i(j+P);return new i(k,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DR=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,Ta=i}).apply(typeof MN<"u"?MN:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MR,_u,OR,kf,Gx,LR,FR,VR;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var w=0;w<h.length;++w){var E=h[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,w){if(w)e:{var E=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var W=h[D];if(!(W in E))break e;E=E[W]}h=h[h.length-1],D=E[h],w=w(D),w!=D&&w!=null&&e(E,h,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(w){var E=[],D;for(D in w)Object.prototype.hasOwnProperty.call(w,D)&&E.push([D,w[D]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},i=this||self;function l(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function c(h,w,E){return h.call.apply(h.bind,arguments)}function u(h,w,E){return u=c,u.apply(null,arguments)}function d(h,w){var E=Array.prototype.slice.call(arguments,1);return function(){var D=E.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function f(h,w){function E(){}E.prototype=w.prototype,h.Z=w.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(D,W,K){for(var be=Array(arguments.length-2),st=2;st<arguments.length;st++)be[st-2]=arguments[st];return w.prototype[W].apply(D,be)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const w=h.length;if(w>0){const E=Array(w);for(let D=0;D<w;D++)E[D]=h[D];return E}return[]}function y(h,w){for(let D=1;D<arguments.length;D++){const W=arguments[D];var E=typeof W;if(E=E!="object"?E:W?Array.isArray(W)?"array":E:"null",E=="array"||E=="object"&&typeof W.length=="number"){E=h.length||0;const K=W.length||0;h.length=E+K;for(let be=0;be<K;be++)h[E+be]=W[be]}else h.push(W)}}class x{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(h){i.setTimeout(()=>{throw h},0)}function S(){var h=C;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class v{constructor(){this.h=this.g=null}add(w,E){const D=b.get();D.set(w,E),this.h?this.h.next=D:this.g=D,this.h=D}}var b=new x(()=>new T,h=>h.reset());class T{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let R,L=!1,C=new v,N=()=>{const h=Promise.resolve(void 0);R=()=>{h.then(P)}};function P(){for(var h;h=S();){try{h.h.call(h.g)}catch(E){_(E)}var w=b;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}L=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};i.addEventListener("test",E,w),i.removeEventListener("test",E,w)}catch{}return h}();function A(h){return/^[\s\xa0]*$/.test(h)}function F(h,w){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}f(F,k),F.prototype.init=function(h,w){const E=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(E=="mouseover"?w=h.fromElement:E=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var G="closure_listenable_"+(Math.random()*1e6|0),Y=0;function q(h,w,E,D,W){this.listener=h,this.proxy=null,this.src=w,this.type=E,this.capture=!!D,this.ha=W,this.key=++Y,this.da=this.fa=!1}function O(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function V(h,w,E){for(const D in h)w.call(E,h[D],D,h)}function Q(h,w){for(const E in h)w.call(void 0,h[E],E,h)}function Z(h){const w={};for(const E in h)w[E]=h[E];return w}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(h,w){let E,D;for(let W=1;W<arguments.length;W++){D=arguments[W];for(E in D)h[E]=D[E];for(let K=0;K<U.length;K++)E=U[K],Object.prototype.hasOwnProperty.call(D,E)&&(h[E]=D[E])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,w,E,D,W){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const be=De(h,w,D,W);return be>-1?(w=h[be],E||(w.fa=!1)):(w=new q(w,this.src,K,!!D,W),w.fa=E,h.push(w)),w};function Ne(h,w){const E=w.type;if(E in h.g){var D=h.g[E],W=Array.prototype.indexOf.call(D,w,void 0),K;(K=W>=0)&&Array.prototype.splice.call(D,W,1),K&&(O(w),h.g[E].length==0&&(delete h.g[E],h.h--))}}function De(h,w,E,D){for(let W=0;W<h.length;++W){const K=h[W];if(!K.da&&K.listener==w&&K.capture==!!E&&K.ha==D)return W}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Ie={};function ze(h,w,E,D,W){if(D&&D.once)return ue(h,w,E,D,W);if(Array.isArray(w)){for(let K=0;K<w.length;K++)ze(h,w[K],E,D,W);return null}return E=Ae(E),h&&h[G]?h.J(w,E,l(D)?!!D.capture:!!D,W):H(h,w,E,!1,D,W)}function H(h,w,E,D,W,K){if(!w)throw Error("Invalid event type");const be=l(W)?!!W.capture:!!W;let st=fe(h);if(st||(h[Se]=st=new ce(h)),E=st.add(w,E,D,be,K),E.proxy)return E;if(D=ie(),E.proxy=D,D.src=h,D.listener=E,h.addEventListener)j||(W=be),W===void 0&&(W=!1),h.addEventListener(w.toString(),D,W);else if(h.attachEvent)h.attachEvent(at(w.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ie(){function h(E){return w.call(h.src,h.listener,E)}const w=z;return h}function ue(h,w,E,D,W){if(Array.isArray(w)){for(let K=0;K<w.length;K++)ue(h,w[K],E,D,W);return null}return E=Ae(E),h&&h[G]?h.K(w,E,l(D)?!!D.capture:!!D,W):H(h,w,E,!0,D,W)}function _e(h,w,E,D,W){if(Array.isArray(w))for(var K=0;K<w.length;K++)_e(h,w[K],E,D,W);else D=l(D)?!!D.capture:!!D,E=Ae(E),h&&h[G]?(h=h.i,K=String(w).toString(),K in h.g&&(w=h.g[K],E=De(w,E,D,W),E>-1&&(O(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete h.g[K],h.h--)))):h&&(h=fe(h))&&(w=h.g[w.toString()],h=-1,w&&(h=De(w,E,D,W)),(E=h>-1?w[h]:null)&&Be(E))}function Be(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[G])Ne(w.i,h);else{var E=h.type,D=h.proxy;w.removeEventListener?w.removeEventListener(E,D,h.capture):w.detachEvent?w.detachEvent(at(E),D):w.addListener&&w.removeListener&&w.removeListener(D),(E=fe(w))?(Ne(E,h),E.h==0&&(E.src=null,w[Se]=null)):O(h)}}}function at(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function z(h,w){if(h.da)h=!0;else{w=new F(w,this);const E=h.listener,D=h.ha||h.src;h.fa&&Be(h),h=E.call(D,w)}return h}function fe(h){return h=h[Se],h instanceof ce?h:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ae(h){return typeof h=="function"?h:(h[qe]||(h[qe]=function(w){return h.handleEvent(w)}),h[qe])}function Me(){I.call(this),this.i=new ce(this),this.M=this,this.G=null}f(Me,I),Me.prototype[G]=!0,Me.prototype.removeEventListener=function(h,w,E,D){_e(this,h,w,E,D)};function Te(h,w){var E,D=h.G;if(D)for(E=[];D;D=D.G)E.push(D);if(h=h.M,D=w.type||w,typeof w=="string")w=new k(w,h);else if(w instanceof k)w.target=w.target||h;else{var W=w;w=new k(D,h),pe(w,W)}W=!0;let K,be;if(E)for(be=E.length-1;be>=0;be--)K=w.g=E[be],W=Ge(K,D,!0,w)&&W;if(K=w.g=h,W=Ge(K,D,!0,w)&&W,W=Ge(K,D,!1,w)&&W,E)for(be=0;be<E.length;be++)K=w.g=E[be],W=Ge(K,D,!1,w)&&W}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const E=h.g[w];for(let D=0;D<E.length;D++)O(E[D]);delete h.g[w],h.h--}}this.G=null},Me.prototype.J=function(h,w,E,D){return this.i.add(String(h),w,!1,E,D)},Me.prototype.K=function(h,w,E,D){return this.i.add(String(h),w,!0,E,D)};function Ge(h,w,E,D){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let K=0;K<w.length;++K){const be=w[K];if(be&&!be.da&&be.capture==E){const st=be.listener,mn=be.ha||be.src;be.fa&&Ne(h.i,be),W=st.call(mn,D)!==!1&&W}}return W&&!D.defaultPrevented}function Gt(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:i.setTimeout(h,w||0)}function ge(h){h.g=Gt(()=>{h.g=null,h.i&&(h.i=!1,ge(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class de extends I{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(h){I.call(this),this.h=h,this.g={}}f(Ke,I);var _t=[];function Ft(h){V(h.g,function(w,E){this.g.hasOwnProperty(E)&&Be(w)},h),h.g={}}Ke.prototype.N=function(){Ke.Z.N.call(this),Ft(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=i.JSON.stringify,En=i.JSON.parse,Yr=class{stringify(h){return i.JSON.stringify(h,void 0)}parse(h){return i.JSON.parse(h,void 0)}};function Wn(){}function Ir(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ar(){k.call(this,"d")}f(Ar,k);function Rr(){k.call(this,"c")}f(Rr,k);var fn={},Hn=null;function M(){return Hn=Hn||new Me}fn.Ia="serverreachability";function Ce(h){k.call(this,fn.Ia,h)}f(Ce,k);function te(h){const w=M();Te(w,new Ce(w))}fn.STAT_EVENT="statevent";function we(h,w){k.call(this,fn.STAT_EVENT,h),this.stat=w}f(we,k);function ve(h){const w=M();Te(w,new we(w,h))}fn.Ja="timingevent";function Xe(h,w){k.call(this,fn.Ja,h),this.size=w}f(Xe,k);function Oe(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){h()},w)}function yt(){this.g=!0}yt.prototype.ua=function(){this.g=!1};function B(h,w,E,D,W,K){h.info(function(){if(h.g)if(K){var be="",st=K.split("&");for(let Tt=0;Tt<st.length;Tt++){var mn=st[Tt].split("=");if(mn.length>1){const jn=mn[0];mn=mn[1];const Rs=jn.split("_");be=Rs.length>=2&&Rs[1]=="type"?be+(jn+"="+mn+"&"):be+(jn+"=redacted&")}}}else be=null;else be=K;return"XMLHTTP REQ ("+D+") [attempt "+W+"]: "+w+`
`+E+`
`+be})}function ne(h,w,E,D,W,K,be){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+W+"]: "+w+`
`+E+`
`+K+" "+be})}function oe(h,w,E,D){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+$(h,E)+(D?" "+D:"")})}function Ee(h,w){h.info(function(){return"TIMEOUT: "+w})}yt.prototype.info=function(){};function $(h,w){if(!h.g)return w;if(!w)return null;try{const K=JSON.parse(w);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var E=K[h];if(!(E.length<2)){var D=E[1];if(Array.isArray(D)&&!(D.length<1)){var W=D[0];if(W!="noop"&&W!="stop"&&W!="close")for(let be=1;be<D.length;be++)D[be]=""}}}}return Mn(K)}catch{return w}}var ae={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},le={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ut;function Zt(){}f(Zt,Wn),Zt.prototype.g=function(){return new XMLHttpRequest},ut=new Zt;function it(h){return encodeURIComponent(String(h))}function Je(h){var w=1;h=h.split(":");const E=[];for(;w>0&&h.length;)E.push(h.shift()),w--;return h.length&&E.push(h.join(":")),E}function St(h,w,E,D){this.j=h,this.i=w,this.l=E,this.S=D||1,this.V=new Ke(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ds}function ds(){this.i=null,this.g="",this.h=!1}var zc={},Bc={};function vg(h,w,E){h.M=1,h.A=dh(As(w)),h.u=E,h.R=!0,T1(h,null)}function T1(h,w){h.F=Date.now(),uh(h),h.B=As(h.A);var E=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),B1(E.i,"t",D),h.C=0,E=h.j.L,h.h=new ds,h.g=oS(h.j,E?w:null,!h.u),h.P>0&&(h.O=new de(u(h.Y,h,h.g),h.P)),w=h.V,E=h.g,D=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(_t[0]=W.toString()),W=_t);for(let K=0;K<W.length;K++){const be=ze(E,W[K],D||w.handleEvent,!1,w.h||w);if(!be)break;w.g[be.key]=be}w=h.J?Z(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),te(),B(h.i,h.v,h.B,h.l,h.S,h.u)}St.prototype.ba=function(h){h=h.target;const w=this.O;w&&qo(h)==3?w.j():this.Y(h)},St.prototype.Y=function(h){try{if(h==this.g)e:{const st=qo(this.g),mn=this.g.ya(),Tt=this.g.ca();if(!(st<3)&&(st!=3||this.g&&(this.h.h||this.g.la()||Y1(this.g)))){this.K||st!=4||mn==7||(mn==8||Tt<=0?te(3):te(2)),xg(this);var w=this.g.ca();this.X=w;var E=R4(this);if(this.o=w==200,ne(this.i,this.v,this.B,this.l,this.S,st,w),this.o){if(this.U&&!this.L){t:{if(this.g){var D,W=this.g;if((D=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(D)){var K=D;break t}}K=null}if(h=K)oe(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yg(this,h);else{this.o=!1,this.m=3,ve(12),ri(this),Uc(this);break e}}if(this.R){h=!0;let jn;for(;!this.K&&this.C<E.length;)if(jn=D4(this,E),jn==Bc){st==4&&(this.m=4,ve(14),h=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==zc){this.m=4,ve(15),oe(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else oe(this.i,this.l,jn,null),yg(this,jn);if(k1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||E.length!=0||this.h.h||(this.m=1,ve(16),h=!1),this.o=this.o&&h,!h)oe(this.i,this.l,E,"[Invalid Chunked Response]"),ri(this),Uc(this);else if(E.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),jg(be),be.P=!0,ve(11))}}else oe(this.i,this.l,E,null),yg(this,E);st==4&&ri(this),this.o&&!this.K&&(st==4?tS(this.j,this):(this.o=!1,uh(this)))}else Y4(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),ri(this),Uc(this)}}}catch{}finally{}};function R4(h){if(!k1(h))return h.g.la();const w=Y1(h.g);if(w==="")return"";let E="";const D=w.length,W=qo(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ri(h),Uc(h),"";h.h.i=new i.TextDecoder}for(let K=0;K<D;K++)h.h.h=!0,E+=h.h.i.decode(w[K],{stream:!(W&&K==D-1)});return w.length=0,h.h.g+=E,h.C=0,h.h.g}function k1(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function D4(h,w){var E=h.C,D=w.indexOf(`
`,E);return D==-1?Bc:(E=Number(w.substring(E,D)),isNaN(E)?zc:(D+=1,D+E>w.length?Bc:(w=w.slice(D,D+E),h.C=D+E,w)))}St.prototype.cancel=function(){this.K=!0,ri(this)};function uh(h){h.T=Date.now()+h.H,P1(h,h.H)}function P1(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Oe(u(h.aa,h),w)}function xg(h){h.D&&(i.clearTimeout(h.D),h.D=null)}St.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ee(this.i,this.B),this.M!=2&&(te(),ve(17)),ri(this),this.m=2,Uc(this)):P1(this,this.T-h)};function Uc(h){h.j.I==0||h.K||tS(h.j,h)}function ri(h){xg(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,Ft(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function yg(h,w){try{var E=h.j;if(E.I!=0&&(E.g==h||wg(E.h,h))){if(!h.L&&wg(E.h,h)&&E.I==3){try{var D=E.Ba.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var W=D;if(W[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)gh(E),mh(E);else break e;Eg(E),ve(18)}}else E.xa=W[1],0<E.xa-E.K&&W[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Oe(u(E.Va,E),6e3));R1(E.h)<=1&&E.ta&&(E.ta=void 0)}else oi(E,11)}else if((h.L||E.g==h)&&gh(E),!A(w))for(W=E.Ba.g.parse(w),w=0;w<W.length;w++){let Tt=W[w];const jn=Tt[0];if(!(jn<=E.K))if(E.K=jn,Tt=Tt[1],E.I==2)if(Tt[0]=="c"){E.M=Tt[1],E.ba=Tt[2];const Rs=Tt[3];Rs!=null&&(E.ka=Rs,E.j.info("VER="+E.ka));const ai=Tt[4];ai!=null&&(E.za=ai,E.j.info("SVER="+E.za));const Wo=Tt[5];Wo!=null&&typeof Wo=="number"&&Wo>0&&(D=1.5*Wo,E.O=D,E.j.info("backChannelRequestTimeoutMs_="+D)),D=E;const Ho=h.g;if(Ho){const xh=Ho.g?Ho.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xh){var K=D.h;K.g||xh.indexOf("spdy")==-1&&xh.indexOf("quic")==-1&&xh.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(bg(K,K.h),K.h=null))}if(D.G){const Tg=Ho.g?Ho.g.getResponseHeader("X-HTTP-Session-Id"):null;Tg&&(D.wa=Tg,Rt(D.J,D.G,Tg))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),D=E;var be=h;if(D.na=sS(D,D.L?D.ba:null,D.W),be.L){D1(D.h,be);var st=be,mn=D.O;mn&&(st.H=mn),st.D&&(xg(st),uh(st)),D.g=be}else J1(D);E.i.length>0&&ph(E)}else Tt[0]!="stop"&&Tt[0]!="close"||oi(E,7);else E.I==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?oi(E,7):Ng(E):Tt[0]!="noop"&&E.l&&E.l.qa(Tt),E.A=0)}}te(4)}catch{}}var M4=class{constructor(h,w){this.g=h,this.map=w}};function I1(h){this.l=h||10,i.PerformanceNavigationTiming?(h=i.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function A1(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function R1(h){return h.h?1:h.g?h.g.size:0}function wg(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function bg(h,w){h.g?h.g.add(w):h.h=w}function D1(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}I1.prototype.cancel=function(){if(this.i=M1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function M1(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const E of h.g.values())w=w.concat(E.G);return w}return p(h.i)}var O1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O4(h,w){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const D=h[E].indexOf("=");let W,K=null;D>=0?(W=h[E].substring(0,D),K=h[E].substring(D+1)):W=h[E],w(W,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Uo(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof Uo?(this.l=h.l,$c(this,h.j),this.o=h.o,this.g=h.g,qc(this,h.u),this.h=h.h,Sg(this,U1(h.i)),this.m=h.m):h&&(w=String(h).match(O1))?(this.l=!1,$c(this,w[1]||"",!0),this.o=Wc(w[2]||""),this.g=Wc(w[3]||"",!0),qc(this,w[4]),this.h=Wc(w[5]||"",!0),Sg(this,w[6]||"",!0),this.m=Wc(w[7]||"")):(this.l=!1,this.i=new Gc(null,this.l))}Uo.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(Hc(w,L1,!0),":");var E=this.g;return(E||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Hc(w,L1,!0),"@"),h.push(it(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Hc(E,E.charAt(0)=="/"?V4:F4,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Hc(E,B4)),h.join("")},Uo.prototype.resolve=function(h){const w=As(this);let E=!!h.j;E?$c(w,h.j):E=!!h.o,E?w.o=h.o:E=!!h.g,E?w.g=h.g:E=h.u!=null;var D=h.h;if(E)qc(w,h.u);else if(E=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var W=w.h.lastIndexOf("/");W!=-1&&(D=w.h.slice(0,W+1)+D)}if(W=D,W==".."||W==".")D="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){D=W.lastIndexOf("/",0)==0,W=W.split("/");const K=[];for(let be=0;be<W.length;){const st=W[be++];st=="."?D&&be==W.length&&K.push(""):st==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),D&&be==W.length&&K.push("")):(K.push(st),D=!0)}D=K.join("/")}else D=W}return E?w.h=D:E=h.i.toString()!=="",E?Sg(w,U1(h.i)):E=!!h.m,E&&(w.m=h.m),w};function As(h){return new Uo(h)}function $c(h,w,E){h.j=E?Wc(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function qc(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function Sg(h,w,E){w instanceof Gc?(h.i=w,U4(h.i,h.l)):(E||(w=Hc(w,z4)),h.i=new Gc(w,h.l))}function Rt(h,w,E){h.i.set(w,E)}function dh(h){return Rt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Wc(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hc(h,w,E){return typeof h=="string"?(h=encodeURI(h).replace(w,L4),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function L4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var L1=/[#\/\?@]/g,F4=/[#\?:]/g,V4=/[#\?]/g,z4=/[#\?@]/g,B4=/#/g;function Gc(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function si(h){h.g||(h.g=new Map,h.h=0,h.i&&O4(h.i,function(w,E){h.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=Gc.prototype,t.add=function(h,w){si(this),this.i=null,h=al(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(w),this.h+=1,this};function F1(h,w){si(h),w=al(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function V1(h,w){return si(h),w=al(h,w),h.g.has(w)}t.forEach=function(h,w){si(this),this.g.forEach(function(E,D){E.forEach(function(W){h.call(w,W,D,this)},this)},this)};function z1(h,w){si(h);let E=[];if(typeof w=="string")V1(h,w)&&(E=E.concat(h.g.get(al(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)E=E.concat(h[w]);return E}t.set=function(h,w){return si(this),this.i=null,h=al(this,h),V1(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=z1(this,h),h.length>0?String(h[0]):w):w};function B1(h,w,E){F1(h,w),E.length>0&&(h.i=null,h.g.set(al(h,w),p(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let D=0;D<w.length;D++){var E=w[D];const W=it(E);E=z1(this,E);for(let K=0;K<E.length;K++){let be=W;E[K]!==""&&(be+="="+it(E[K])),h.push(be)}}return this.i=h.join("&")};function U1(h){const w=new Gc;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function al(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function U4(h,w){w&&!h.j&&(si(h),h.i=null,h.g.forEach(function(E,D){const W=D.toLowerCase();D!=W&&(F1(this,D),B1(this,W,E))},h)),h.j=w}function $4(h,w){const E=new yt;if(i.Image){const D=new Image;D.onload=d($o,E,"TestLoadImage: loaded",!0,w,D),D.onerror=d($o,E,"TestLoadImage: error",!1,w,D),D.onabort=d($o,E,"TestLoadImage: abort",!1,w,D),D.ontimeout=d($o,E,"TestLoadImage: timeout",!1,w,D),i.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else w(!1)}function q4(h,w){const E=new yt,D=new AbortController,W=setTimeout(()=>{D.abort(),$o(E,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:D.signal}).then(K=>{clearTimeout(W),K.ok?$o(E,"TestPingServer: ok",!0,w):$o(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),$o(E,"TestPingServer: error",!1,w)})}function $o(h,w,E,D,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),D(E)}catch{}}function W4(){this.g=new Yr}function _g(h){this.i=h.Sb||null,this.h=h.ab||!1}f(_g,Wn),_g.prototype.g=function(){return new hh(this.i,this.h)};function hh(h,w){Me.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(hh,Me),t=hh.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,Kc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||i).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yc(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Kc(this)),this.g&&(this.readyState=3,Kc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof i.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$1(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function $1(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Yc(this):Kc(this),this.readyState==3&&$1(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Yc(this))},t.Na=function(h){this.g&&(this.response=h,Yc(this))},t.ga=function(){this.g&&Yc(this)};function Yc(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Kc(h)}t.setRequestHeader=function(h,w){this.A.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=w.next();return h.join(`\r
`)};function Kc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function q1(h){let w="";return V(h,function(E,D){w+=D,w+=":",w+=E,w+=`\r
`}),w}function Cg(h,w,E){e:{for(D in E){var D=!1;break e}D=!0}D||(E=q1(E),typeof h=="string"?E!=null&&it(E):Rt(h,w,E))}function Yt(h){Me.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Yt,Me);var H4=/^https?$/i,G4=["POST","PUT"];t=Yt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,w,E,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ut.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(K){W1(this,K);return}if(h=E||"",E=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var W in D)E.set(W,D[W]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())E.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),W=i.FormData&&h instanceof i.FormData,!(Array.prototype.indexOf.call(G4,w,void 0)>=0)||D||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,be]of E)this.g.setRequestHeader(K,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){W1(this,K)}};function W1(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,H1(h),fh(h)}function H1(h){h.A||(h.A=!0,Te(h,"complete"),Te(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Te(this,"complete"),Te(this,"abort"),fh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fh(this,!0)),Yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?G1(this):this.Xa())},t.Xa=function(){G1(this)};function G1(h){if(h.h&&typeof o<"u"){if(h.v&&qo(h)==4)setTimeout(h.Ca.bind(h),0);else if(Te(h,"readystatechange"),qo(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var D;if(D=K===0){let be=String(h.D).match(O1)[1]||null;!be&&i.self&&i.self.location&&(be=i.self.location.protocol.slice(0,-1)),D=!H4.test(be?be.toLowerCase():"")}E=D}if(E)Te(h,"complete"),Te(h,"success");else{h.o=6;try{var W=qo(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",H1(h)}}finally{fh(h)}}}}function fh(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,w||Te(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qo(h){return h.g?h.g.readyState:0}t.ca=function(){try{return qo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),En(w)}};function Y1(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Y4(h){const w={};h=(h.g&&qo(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(A(h[D]))continue;var E=Je(h[D]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=w[W]||[];w[W]=K,K.push(E)}Q(w,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qc(h,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||w}function K1(h){this.za=0,this.i=[],this.j=new yt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qc("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qc("baseRetryDelayMs",5e3,h),this.Za=Qc("retryDelaySeedMs",1e4,h),this.Ta=Qc("forwardChannelMaxRetries",2,h),this.va=Qc("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new I1(h&&h.concurrentRequestLimit),this.Ba=new W4,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=K1.prototype,t.ka=8,t.I=1,t.connect=function(h,w,E,D){ve(0),this.W=h,this.H=w||{},E&&D!==void 0&&(this.H.OSID=E,this.H.OAID=D),this.F=this.X,this.J=sS(this,null,this.W),ph(this)};function Ng(h){if(Q1(h),h.I==3){var w=h.V++,E=As(h.J);if(Rt(E,"SID",h.M),Rt(E,"RID",w),Rt(E,"TYPE","terminate"),Xc(h,E),w=new St(h,h.j,w),w.M=2,w.A=dh(As(E)),E=!1,i.navigator&&i.navigator.sendBeacon)try{E=i.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&i.Image&&(new Image().src=w.A,E=!0),E||(w.g=oS(w.j,null),w.g.ea(w.A)),w.F=Date.now(),uh(w)}rS(h)}function mh(h){h.g&&(jg(h),h.g.cancel(),h.g=null)}function Q1(h){mh(h),h.v&&(i.clearTimeout(h.v),h.v=null),gh(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&i.clearTimeout(h.m),h.m=null)}function ph(h){if(!A1(h.h)&&!h.m){h.m=!0;var w=h.Ea;R||N(),L||(R(),L=!0),C.add(w,h),h.D=0}}function K4(h,w){return R1(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Oe(u(h.Ea,h,w),nS(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new St(this,this.j,h);let K=this.o;if(this.U&&(K?(K=Z(K),pe(K,this.U)):K=this.U),this.u!==null||this.R||(W.J=K,K=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var D=this.i[E];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Z1(this,W,w),E=As(this.J),Rt(E,"RID",h),Rt(E,"CVER",22),this.G&&Rt(E,"X-HTTP-Session-Id",this.G),Xc(this,E),K&&(this.R?w="headers="+it(q1(K))+"&"+w:this.u&&Cg(E,this.u,K)),bg(this.h,W),this.Ra&&Rt(E,"TYPE","init"),this.S?(Rt(E,"$req",w),Rt(E,"SID","null"),W.U=!0,vg(W,E,null)):vg(W,E,w),this.I=2}}else this.I==3&&(h?X1(this,h):this.i.length==0||A1(this.h)||X1(this))};function X1(h,w){var E;w?E=w.l:E=h.V++;const D=As(h.J);Rt(D,"SID",h.M),Rt(D,"RID",E),Rt(D,"AID",h.K),Xc(h,D),h.u&&h.o&&Cg(D,h.u,h.o),E=new St(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Z1(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),bg(h.h,E),vg(E,D,w)}function Xc(h,w){h.H&&V(h.H,function(E,D){Rt(w,D,E)}),h.l&&V({},function(E,D){Rt(w,D,E)})}function Z1(h,w,E){E=Math.min(h.i.length,E);const D=h.l?u(h.l.Ka,h.l,h):null;e:{var W=h.i;let st=-1;for(;;){const mn=["count="+E];st==-1?E>0?(st=W[0].g,mn.push("ofs="+st)):st=0:mn.push("ofs="+st);let Tt=!0;for(let jn=0;jn<E;jn++){var K=W[jn].g;const Rs=W[jn].map;if(K-=st,K<0)st=Math.max(0,W[jn].g-100),Tt=!1;else try{K="req"+K+"_"||"";try{var be=Rs instanceof Map?Rs:Object.entries(Rs);for(const[ai,Wo]of be){let Ho=Wo;l(Wo)&&(Ho=Mn(Wo)),mn.push(K+ai+"="+encodeURIComponent(Ho))}}catch(ai){throw mn.push(K+"type="+encodeURIComponent("_badmap")),ai}}catch{D&&D(Rs)}}if(Tt){be=mn.join("&");break e}}be=void 0}return h=h.i.splice(0,E),w.G=h,be}function J1(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;R||N(),L||(R(),L=!0),C.add(w,h),h.A=0}}function Eg(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Oe(u(h.Da,h),nS(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,eS(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Oe(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),mh(this),eS(this))};function jg(h){h.B!=null&&(i.clearTimeout(h.B),h.B=null)}function eS(h){h.g=new St(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=As(h.na);Rt(w,"RID","rpc"),Rt(w,"SID",h.M),Rt(w,"AID",h.K),Rt(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&Rt(w,"TO",h.ia),Rt(w,"TYPE","xmlhttp"),Xc(h,w),h.u&&h.o&&Cg(w,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=dh(As(w)),E.u=null,E.R=!0,T1(E,h)}t.Va=function(){this.C!=null&&(this.C=null,mh(this),Eg(this),ve(19))};function gh(h){h.C!=null&&(i.clearTimeout(h.C),h.C=null)}function tS(h,w){var E=null;if(h.g==w){gh(h),jg(h),h.g=null;var D=2}else if(wg(h.h,w))E=w.G,D1(h.h,w),D=1;else return;if(h.I!=0){if(w.o)if(D==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var W=h.D;D=M(),Te(D,new Xe(D,E)),ph(h)}else J1(h);else if(W=w.m,W==3||W==0&&w.X>0||!(D==1&&K4(h,w)||D==2&&Eg(h)))switch(E&&E.length>0&&(w=h.h,w.i=w.i.concat(E)),W){case 1:oi(h,5);break;case 4:oi(h,10);break;case 3:oi(h,6);break;default:oi(h,2)}}}function nS(h,w){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*w}function oi(h,w){if(h.j.info("Error code "+w),w==2){var E=u(h.bb,h),D=h.Ua;const W=!D;D=new Uo(D||"//www.google.com/images/cleardot.gif"),i.location&&i.location.protocol=="http"||$c(D,"https"),dh(D),W?$4(D.toString(),E):q4(D.toString(),E)}else ve(2);h.I=0,h.l&&h.l.pa(w),rS(h),Q1(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function rS(h){if(h.I=0,h.ja=[],h.l){const w=M1(h.h);(w.length!=0||h.i.length!=0)&&(y(h.ja,w),y(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function sS(h,w,E){var D=E instanceof Uo?As(E):new Uo(E);if(D.g!="")w&&(D.g=w+"."+D.g),qc(D,D.u);else{var W=i.location;D=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const K=new Uo(null);D&&$c(K,D),w&&(K.g=w),W&&qc(K,W),E&&(K.h=E),D=K}return E=h.G,w=h.wa,E&&w&&Rt(D,E,w),Rt(D,"VER",h.ka),Xc(h,D),D}function oS(h,w,E){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new Yt(new _g({ab:E})):new Yt(h.ma),w.Fa(h.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function aS(){}t=aS.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vh(){}vh.prototype.g=function(h,w){return new Dr(h,w)};function Dr(h,w){Me.call(this),this.g=new K1(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!A(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!A(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new il(this)}f(Dr,Me),Dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dr.prototype.close=function(){Ng(this.g)},Dr.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Mn(h),h=E);w.i.push(new M4(w.Ya++,h)),w.I==3&&ph(w)},Dr.prototype.N=function(){this.g.l=null,delete this.j,Ng(this.g),delete this.g,Dr.Z.N.call(this)};function iS(h){Ar.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const E in w){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}f(iS,Ar);function lS(){Rr.call(this),this.status=1}f(lS,Rr);function il(h){this.g=h}f(il,aS),il.prototype.ra=function(){Te(this.g,"a")},il.prototype.qa=function(h){Te(this.g,new iS(h))},il.prototype.pa=function(h){Te(this.g,new lS)},il.prototype.oa=function(){Te(this.g,"b")},vh.prototype.createWebChannel=vh.prototype.g,Dr.prototype.send=Dr.prototype.o,Dr.prototype.open=Dr.prototype.m,Dr.prototype.close=Dr.prototype.close,VR=function(){return new vh},FR=function(){return M()},LR=fn,Gx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,kf=ae,le.COMPLETE="complete",OR=le,Ir.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",Me.prototype.listen=Me.prototype.J,_u=Ir,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,MR=Yt}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const ON="@firebase/firestore",LN="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new ub("@firebase/firestore");function pl(){return Hi.logLevel}function Pe(t,...e){if(Hi.logLevel<=ht.DEBUG){const n=e.map(fb);Hi.debug(`Firestore (${Ac}): ${t}`,...n)}}function Mo(t,...e){if(Hi.logLevel<=ht.ERROR){const n=e.map(fb);Hi.error(`Firestore (${Ac}): ${t}`,...n)}}function hc(t,...e){if(Hi.logLevel<=ht.WARN){const n=e.map(fb);Hi.warn(`Firestore (${Ac}): ${t}`,...n)}}function fb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zR(t,r,n)}function zR(t,e,n){let r=`FIRESTORE (${Ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mo(r),new Error(r)}function Ct(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||zR(e,s,r)}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Bo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zn.UNAUTHENTICATED))}shutdown(){}}class QW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XW{constructor(e){this.t=e,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Eo,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Eo)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new BR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new Zn(e)}}class ZW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$s(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=o=>{o.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.m;return this.m=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=tH(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function Yx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Vv(s)===Vv(o)?pt(s,o):Vv(s)?1:-1}return pt(t.length,e.length)}const nH=55296,rH=57343;function Vv(t){const e=t.charCodeAt(0);return e>=nH&&e<=rH}function fc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="__name__";class Vs{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Vs.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return pt(e.length,n.length)}static compareSegments(e,n){const r=Vs.isNumericId(e),s=Vs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Vs.extractNumericId(e).compare(Vs.extractNumericId(n)):Yx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class kt extends Vs{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const sH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Vs{construct(e,n,r){return new zn(e,n,r)}static isValidIdentifier(e){return sH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VN}static keyField(){return new zn([VN])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new je(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new je(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new je(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(i=!i,s++):l!=="."||i?(r+=l,s++):(o(),s++)}if(o(),i)throw new je(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(kt.fromString(e))}static fromName(e){return new Fe(kt.fromString(e).popFirst(5))}static empty(){return new Fe(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t,e,n){if(!n)throw new je(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oH(t,e,n,r){if(e===!0&&r===!0)throw new je(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zN(t){if(!Fe.isDocumentKey(t))throw new je(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BN(t){if(Fe.isDocumentKey(t))throw new je(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $R(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Wp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function as(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wp(t);throw new je(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gd(t,e){if(!$R(t))throw new je(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new je(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=-62135596800,$N=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$N);return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UN)throw new je(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$N}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gd(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:dn("string",Ot._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Ot(0,0))}static max(){return new Ze(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=-1;function aH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ze.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Fa(s,Fe.empty(),e)}function iH(t){return new Fa(t.readTime,t.key,bd)}class Fa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fa(Ze.min(),Fe.empty(),bd)}static max(){return new Fa(Ze.max(),Fe.empty(),bd)}}function lH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Fe.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==cH)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let s=0,o=0,i=!1;e.forEach(l=>{++s,l.next(()=>{++o,i&&o===s&&n()},c=>r(c))}),i=!0,o===s&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(s=>s?re.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new re((r,s)=>{const o=e.length,i=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{i[u]=d,++l,l===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new re((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function dH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=-1;function Gp(t){return t==null}function Dm(t){return t===0&&1/t==-1/0}function hH(t){return typeof t=="number"&&Number.isInteger(t)&&!Dm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="";function fH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qN(e)),e=mH(t.get(n),e);return qN(e)}function mH(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case qR:n+="";break;default:n+=o}}return n}function qN(t){return t+qR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new Ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Fn.RED,this.left=s??Fn.EMPTY,this.right=o??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Fn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Fn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HN(this.data.getIterator())}getIteratorFrom(e){return new HN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nn(this.comparator);return n.data=e,n}}class HN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new zr([])}unionWith(e){let n=new Nn(zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new HR("Invalid base64 string: "+o):o}}(e);return new qn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const pH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=pH.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function za(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="server_timestamp",YR="__type__",KR="__previous_value__",QR="__local_write_time__";function gb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[YR])==null?void 0:r.stringValue)===GR}function Yp(t){const e=t.mapValue.fields[KR];return gb(e)?Yp(e):e}function Sd(t){const e=Va(t.mapValue.fields[QR].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n,r,s,o,i,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Mm="(default)";class _d{constructor(e,n){this.projectId=e,this.database=n||Mm}static empty(){return new _d("","")}get isDefaultDatabase(){return this.database===Mm}isEqual(e){return e instanceof _d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="__type__",ZR="__max__",ef={mapValue:{fields:{__type__:{stringValue:ZR}}}},JR="__vector__",Om="value";function Ba(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gb(t)?4:xH(t)?9007199254740991:vH(t)?10:11:He(28295,{value:t})}function ro(t,e){if(t===e)return!0;const n=Ba(t);if(n!==Ba(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sd(t).isEqual(Sd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=Va(s.timestampValue),l=Va(o.timestampValue);return i.seconds===l.seconds&&i.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return za(s.bytesValue).isEqual(za(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Jt(s.geoPointValue.latitude)===Jt(o.geoPointValue.latitude)&&Jt(s.geoPointValue.longitude)===Jt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Jt(s.integerValue)===Jt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=Jt(s.doubleValue),l=Jt(o.doubleValue);return i===l?Dm(i)===Dm(l):isNaN(i)&&isNaN(l)}return!1}(t,e);case 9:return fc(t.arrayValue.values||[],e.arrayValue.values||[],ro);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},l=o.mapValue.fields||{};if(WN(i)!==WN(l))return!1;for(const c in i)if(i.hasOwnProperty(c)&&(l[c]===void 0||!ro(i[c],l[c])))return!1;return!0}(t,e);default:return He(52216,{left:t})}}function Cd(t,e){return(t.values||[]).find(n=>ro(n,e))!==void 0}function mc(t,e){if(t===e)return 0;const n=Ba(t),r=Ba(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(o,i){const l=Jt(o.integerValue||o.doubleValue),c=Jt(i.integerValue||i.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return GN(t.timestampValue,e.timestampValue);case 4:return GN(Sd(t),Sd(e));case 5:return Yx(t.stringValue,e.stringValue);case 6:return function(o,i){const l=za(o),c=za(i);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const l=o.split("/"),c=i.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=pt(l[u],c[u]);if(d!==0)return d}return pt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const l=pt(Jt(o.latitude),Jt(i.latitude));return l!==0?l:pt(Jt(o.longitude),Jt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return YN(t.arrayValue,e.arrayValue);case 10:return function(o,i){var m,p,y,x;const l=o.fields||{},c=i.fields||{},u=(m=l[Om])==null?void 0:m.arrayValue,d=(p=c[Om])==null?void 0:p.arrayValue,f=pt(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return f!==0?f:YN(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===ef.mapValue&&i===ef.mapValue)return 0;if(o===ef.mapValue)return 1;if(i===ef.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=i.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=Yx(c[f],d[f]);if(m!==0)return m;const p=mc(l[c[f]],u[d[f]]);if(p!==0)return p}return pt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function GN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=Va(t),r=Va(e),s=pt(n.seconds,r.seconds);return s!==0?s:pt(n.nanos,r.nanos)}function YN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=mc(n[s],r[s]);if(o)return o}return pt(n.length,r.length)}function pc(t){return Kx(t)}function Kx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Va(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return za(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Kx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${Kx(n.fields[i])}`;return s+"}"}(t.mapValue):He(61005,{value:t})}function Pf(t){switch(Ba(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yp(t);return e?16+Pf(e):16;case 5:return 2*t.stringValue.length;case 6:return za(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Pf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xa(r.fields,(o,i)=>{s+=o.length+Pf(i)}),s}(t.mapValue);default:throw He(13486,{value:t})}}function KN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qx(t){return!!t&&"integerValue"in t}function vb(t){return!!t&&"arrayValue"in t}function QN(t){return!!t&&"nullValue"in t}function XN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function vH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XR])==null?void 0:r.stringValue)===JR}function Uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return{...t}}function xH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=zn.emptyPath(),r={},s=[];e.forEach((i,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}i?r[l.lastSegment()]=Uu(i):s.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ro(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];If(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xa(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new br(Uu(this.value))}}function eD(t){const e=[];return Xa(t.fields,(n,r)=>{const s=new zn([n]);if(If(r)){const o=eD(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,s,o,i,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=l}static newInvalidDocument(e){return new tr(e,0,Ze.min(),Ze.min(),Ze.min(),br.empty(),0)}static newFoundDocument(e,n,r,s){return new tr(e,1,n,Ze.min(),r,s,0)}static newNoDocument(e,n){return new tr(e,2,n,Ze.min(),Ze.min(),br.empty(),0)}static newUnknownDocument(e,n){return new tr(e,3,n,Ze.min(),Ze.min(),br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.position=e,this.inclusive=n}}function ZN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=Fe.comparator(Fe.fromName(i.referenceValue),n.key):r=mc(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ro(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function yH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{}class un extends tD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bH(e,n,r):n==="array-contains"?new CH(e,r):n==="in"?new NH(e,r):n==="not-in"?new EH(e,r):n==="array-contains-any"?new jH(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SH(e,r):new _H(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mc(n,this.value)):n!==null&&Ba(this.value)===Ba(n)&&this.matchesComparison(mc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends tD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ts(e,n)}matches(e){return nD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nD(t){return t.op==="and"}function rD(t){return wH(t)&&nD(t)}function wH(t){for(const e of t.filters)if(e instanceof Ts)return!1;return!0}function Xx(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+pc(t.value);if(rD(t))return t.filters.map(e=>Xx(e)).join(",");{const e=t.filters.map(n=>Xx(n)).join(",");return`${t.op}(${e})`}}function sD(t,e){return t instanceof un?function(r,s){return s instanceof un&&r.op===s.op&&r.field.isEqual(s.field)&&ro(r.value,s.value)}(t,e):t instanceof Ts?function(r,s){return s instanceof Ts&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,l)=>o&&sD(i,s.filters[l]),!0):!1}(t,e):void He(19439)}function oD(t){return t instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${pc(n.value)}`}(t):t instanceof Ts?function(n){return n.op.toString()+" {"+n.getFilters().map(oD).join(" ,")+"}"}(t):"Filter"}class bH extends un{constructor(e,n,r){super(e,n,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const n=Fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class SH extends un{constructor(e,n){super(e,"in",n),this.keys=aD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _H extends un{constructor(e,n){super(e,"not-in",n),this.keys=aD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class CH extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vb(n)&&Cd(n.arrayValue,this.value)}}class NH extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cd(this.value.arrayValue,n)}}class EH extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cd(this.value.arrayValue,n)}}class jH extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,n=null,r=[],s=[],o=null,i=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=l,this.Te=null}}function eE(t,e=null,n=[],r=[],s=null,o=null,i=null){return new TH(t,e,n,r,s,o,i)}function xb(t){const e=et(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pc(r)).join(",")),e.Te=n}return e.Te}function yb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JN(t.startAt,e.startAt)&&JN(t.endAt,e.endAt)}function Zx(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n=null,r=[],s=[],o=null,i="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kH(t,e,n,r,s,o,i,l){return new Mc(t,e,n,r,s,o,i,l)}function Kp(t){return new Mc(t)}function tE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iD(t){return t.collectionGroup!==null}function $u(t){const e=et(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let l=new Nn(zn.comparator);return i.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Nd(o,r))}),n.has(zn.keyField().canonicalString())||e.Ie.push(new Nd(zn.keyField(),r))}return e.Ie}function Ks(t){const e=et(t);return e.Ee||(e.Ee=PH(e,$u(t))),e.Ee}function PH(t,e){if(t.limitType==="F")return eE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Nd(s.field,o)});const n=t.endAt?new Lm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lm(t.startAt.position,t.startAt.inclusive):null;return eE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jx(t,e){const n=t.filters.concat([e]);return new Mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ey(t,e,n){return new Mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qp(t,e){return yb(Ks(t),Ks(e))&&t.limitType===e.limitType}function lD(t){return`${xb(Ks(t))}|lt:${t.limitType}`}function gl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>oD(s)).join(", ")}]`),Gp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>pc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>pc(s)).join(",")),`Target(${r})`}(Ks(t))}; limitType=${t.limitType})`}function Xp(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of $u(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,l,c){const u=ZN(i,l,c);return i.inclusive?u<=0:u<0}(r.startAt,$u(r),s)||r.endAt&&!function(i,l,c){const u=ZN(i,l,c);return i.inclusive?u>=0:u>0}(r.endAt,$u(r),s))}(t,e)}function IH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cD(t){return(e,n)=>{let r=!1;for(const s of $u(t)){const o=AH(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function AH(t,e,n){const r=t.field.isKeyField()?Fe.comparator(e.key,n.key):function(o,i,l){const c=i.data.field(o),u=l.data.field(o);return c!==null&&u!==null?mc(c,u):He(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return WR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new Ht(Fe.comparator);function Oo(){return RH}const uD=new Ht(Fe.comparator);function Cu(...t){let e=uD;for(const n of t)e=e.insert(n.key,n);return e}function dD(t){let e=uD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return qu()}function hD(){return qu()}function qu(){return new rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const DH=new Ht(Fe.comparator),MH=new Nn(Fe.comparator);function gt(...t){let e=MH;for(const n of t)e=e.add(n);return e}const OH=new Nn(pt);function LH(){return OH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dm(e)?"-0":e}}function fD(t){return{integerValue:""+t}}function FH(t,e){return hH(e)?fD(e):wb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this._=void 0}}function VH(t,e,n){return t instanceof Fm?function(s,o){const i={fields:{[YR]:{stringValue:GR},[QR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&gb(o)&&(o=Yp(o)),o&&(i.fields[KR]=o),{mapValue:i}}(n,e):t instanceof Ed?pD(t,e):t instanceof jd?gD(t,e):function(s,o){const i=mD(s,o),l=nE(i)+nE(s.Ae);return Qx(i)&&Qx(s.Ae)?fD(l):wb(s.serializer,l)}(t,e)}function zH(t,e,n){return t instanceof Ed?pD(t,e):t instanceof jd?gD(t,e):n}function mD(t,e){return t instanceof Vm?function(r){return Qx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Fm extends Zp{}class Ed extends Zp{constructor(e){super(),this.elements=e}}function pD(t,e){const n=vD(e);for(const r of t.elements)n.some(s=>ro(s,r))||n.push(r);return{arrayValue:{values:n}}}class jd extends Zp{constructor(e){super(),this.elements=e}}function gD(t,e){let n=vD(e);for(const r of t.elements)n=n.filter(s=>!ro(s,r));return{arrayValue:{values:n}}}class Vm extends Zp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nE(t){return Jt(t.integerValue||t.doubleValue)}function vD(t){return vb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ed&&s instanceof Ed||r instanceof jd&&s instanceof jd?fc(r.elements,s.elements,ro):r instanceof Vm&&s instanceof Vm?ro(r.Ae,s.Ae):r instanceof Fm&&s instanceof Fm}(t.transform,e.transform)}class UH{constructor(e,n){this.version=e,this.transformResults=n}}class Cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jp{}function xD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bb(t.key,Cs.none()):new Yd(t.key,t.data,Cs.none());{const n=t.data,r=br.empty();let s=new Nn(zn.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new Za(t.key,r,new zr(s.toArray()),Cs.none())}}function $H(t,e,n){t instanceof Yd?function(s,o,i){const l=s.value.clone(),c=sE(s.fieldTransforms,o,i.transformResults);l.setAll(c),o.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Za?function(s,o,i){if(!Af(s.precondition,o))return void o.convertToUnknownDocument(i.version);const l=sE(s.fieldTransforms,o,i.transformResults),c=o.data;c.setAll(yD(s)),c.setAll(l),o.convertToFoundDocument(i.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Wu(t,e,n,r){return t instanceof Yd?function(o,i,l,c){if(!Af(o.precondition,i))return l;const u=o.value.clone(),d=oE(o.fieldTransforms,c,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Za?function(o,i,l,c){if(!Af(o.precondition,i))return l;const u=oE(o.fieldTransforms,c,i),d=i.data;return d.setAll(yD(o)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,i,l){return Af(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):l}(t,e,n)}function qH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=mD(r.transform,s||null);o!=null&&(n===null&&(n=br.empty()),n.set(r.field,o))}return n||null}function rE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fc(r,s,(o,i)=>BH(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yd extends Jp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends Jp{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sE(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,l=e.data.field(o.field);r.set(o.field,zH(i,l,n[s]))}return r}function oE(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,VH(o,i,e))}return r}class bb extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WH extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&$H(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hD();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let l=this.applyToLocalView(i,o.mutatedFields);l=n.has(s.key)?null:l;const c=xD(i,l);c!==null&&r.set(s.key,c),i.isValidDocument()||i.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gt())}isEqual(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,(n,r)=>rE(n,r))&&fc(this.baseMutations,e.baseMutations,(n,r)=>rE(n,r))}}class Sb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return DH}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Sb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,wt;function KH(t){switch(t){case ee.OK:return He(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function wD(t){if(t===void 0)return Mo("GRPC error has no .code"),ee.UNKNOWN;switch(t){case nn.OK:return ee.OK;case nn.CANCELLED:return ee.CANCELLED;case nn.UNKNOWN:return ee.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ee.INTERNAL;case nn.UNAVAILABLE:return ee.UNAVAILABLE;case nn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case nn.NOT_FOUND:return ee.NOT_FOUND;case nn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case nn.ABORTED:return ee.ABORTED;case nn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case nn.DATA_LOSS:return ee.DATA_LOSS;default:return He(39323,{code:t})}}(wt=nn||(nn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=new Ta([4294967295,4294967295],0);function aE(t){const e=QH().encode(t),n=new DR;return n.update(e),new Uint8Array(n.digest())}function iE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ta([n,r],0),new Ta([s,o],0)]}class _b{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nu(`Invalid padding: ${n}`);if(r<0)throw new Nu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ta.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ta.fromNumber(r)));return s.compare(XH)===1&&(s=new Ta([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aE(e),[r,s]=iE(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);if(!this.we(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new _b(o,s,n);return r.forEach(l=>i.insert(l)),i}insert(e){if(this.ge===0)return;const n=aE(e),[r,s]=iE(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);this.Se(i)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Kd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eg(Ze.min(),s,new Ht(pt),Oo(),gt())}}class Kd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kd(r,n,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class bD{constructor(e,n){this.targetId=e,this.Ce=n}}class SD{constructor(e,n,r=qn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class lE{constructor(){this.ve=0,this.Fe=cE(),this.Me=qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=gt(),n=gt(),r=gt();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:He(38017,{changeType:o})}}),new Kd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=cE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Oo(),this.Je=tf(),this.He=tf(),this.Ye=new Ht(pt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Zx(o))if(r===0){const i=new Fe(o.path);this.et(n,i,tr.newNoDocument(i,Ze.min()))}else Ct(r===1,20013,{expectedCount:r});else{const i=this._t(n);if(i!==r){const l=this.ut(e),c=l?this.ct(l,e,i):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,l;try{i=za(r).toUint8Array()}catch(c){if(c instanceof HR)return hc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new _b(i,s,o)}catch(c){return hc(c instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Ge.ht(),l=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,i)=>{const l=this.ot(i);if(l){if(o.current&&Zx(l.target)){const c=new Fe(l.target.path);this.It(c).has(i)||this.Et(i,c)||this.et(i,c,tr.newNoDocument(c,e))}o.Be&&(n.set(i,o.ke()),o.qe())}});let r=gt();this.He.forEach((o,i)=>{let l=!0;i.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.je.forEach((o,i)=>i.setReadTime(e));const s=new eg(e,n,this.Ye,this.je,r);return this.je=Oo(),this.Je=tf(),this.He=tf(),this.Ye=new Ht(pt),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nn(pt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nn(pt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function tf(){return new Ht(Fe.comparator)}function cE(){return new Ht(Fe.comparator)}const JH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),eG=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tG=(()=>({and:"AND",or:"OR"}))();class nG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ty(t,e){return t.useProto3Json||Gp(e)?e:{value:e}}function zm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _D(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rG(t,e){return zm(t,e.toTimestamp())}function Qs(t){return Ct(!!t,49232),Ze.fromTimestamp(function(n){const r=Va(n);return new Ot(r.seconds,r.nanos)}(t))}function Cb(t,e){return ny(t,e).canonicalString()}function ny(t,e){const n=function(s){return new kt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CD(t){const e=kt.fromString(t);return Ct(kD(e),10190,{key:e.toString()}),e}function ry(t,e){return Cb(t.databaseId,e.path)}function zv(t,e){const n=CD(e);if(n.get(1)!==t.databaseId.projectId)throw new je(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fe(ED(n))}function ND(t,e){return Cb(t.databaseId,e)}function sG(t){const e=CD(t);return e.length===4?kt.emptyPath():ED(e)}function sy(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ED(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uE(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function oG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:He(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Ct(d===void 0||typeof d=="string",58123),qn.fromBase64String(d||"")):(Ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),qn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,l=i&&function(u){const d=u.code===void 0?ee.UNKNOWN:wD(u.code);return new je(d,u.message||"")}(i);n=new SD(r,s,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zv(t,r.document.name),o=Qs(r.document.updateTime),i=r.document.createTime?Qs(r.document.createTime):Ze.min(),l=new br({mapValue:{fields:r.document.fields}}),c=tr.newFoundDocument(s,o,i,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Rf(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zv(t,r.document),o=r.readTime?Qs(r.readTime):Ze.min(),i=tr.newNoDocument(s,o),l=r.removedTargetIds||[];n=new Rf([],l,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zv(t,r.document),o=r.removedTargetIds||[];n=new Rf([],o,s,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new YH(s,o),l=r.targetId;n=new bD(l,i)}}return n}function aG(t,e){let n;if(e instanceof Yd)n={update:uE(t,e.key,e.value)};else if(e instanceof bb)n={delete:ry(t,e.key)};else if(e instanceof Za)n={update:uE(t,e.key,e.data),updateMask:pG(e.fieldMask)};else{if(!(e instanceof WH))return He(16599,{Vt:e.type});n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const l=i.transform;if(l instanceof Fm)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ed)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jd)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Vm)return{fieldPath:i.field.canonicalString(),increment:l.Ae};throw He(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:rG(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:He(27497)}(t,e.precondition)),n}function iG(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map(n=>function(s,o){let i=s.updateTime?Qs(s.updateTime):Qs(o);return i.isEqual(Ze.min())&&(i=Qs(o)),new UH(i,s.transformResults||[])}(n,e))):[]}function lG(t,e){return{documents:[ND(t,e.path)]}}function cG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ND(t,s);const o=function(u){if(u.length!==0)return TD(Ts.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:vl(m.field),direction:hG(m.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const l=ty(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function uG(t){let e=sG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ct(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const m=jD(f);return m instanceof Ts&&rD(m)?m.getFilters():[m]}(n.where));let i=[];n.orderBy&&(i=function(f){return f.map(m=>function(y){return new Nd(xl(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Gp(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new Lm(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new Lm(p,m)}(n.endAt)),kH(e,s,i,o,l,"F",c,u)}function dG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xl(n.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xl(n.unaryFilter.field);return un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xl(n.unaryFilter.field);return un.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xl(n.unaryFilter.field);return un.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}}(t):t.fieldFilter!==void 0?function(n){return un.create(xl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ts.create(n.compositeFilter.filters.map(r=>jD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return He(1026)}}(n.compositeFilter.op))}(t):He(30097,{filter:t})}function hG(t){return JH[t]}function fG(t){return eG[t]}function mG(t){return tG[t]}function vl(t){return{fieldPath:t.canonicalString()}}function xl(t){return zn.fromServerFormat(t.fieldPath)}function TD(t){return t instanceof un?function(n){if(n.op==="=="){if(XN(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(QN(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XN(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(QN(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:fG(n.op),value:n.value}}}(t):t instanceof Ts?function(n){const r=n.getFilters().map(s=>TD(s));return r.length===1?r[0]:{compositeFilter:{op:mG(n.op),filters:r}}}(t):He(54877,{filter:t})}function pG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r,s,o=Ze.min(),i=Ze.min(),l=qn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.yt=e}}function vG(t){const e=uG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ey(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(){this.Cn=new yG}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Fa.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Fa.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class yG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Nn(kt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Nn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PD=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(PD,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gc(0)}static cr(){return new gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LruGarbageCollector",wG=1048576;function fE([t,e],[n,r]){const s=pt(t,n);return s===0?pt(e,r):s}class bG{constructor(e){this.Ir=e,this.buffer=new Nn(fE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Pe(hE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dc(n)?Pe(hE,"Ignoring IndexedDB error during garbage collection: ",n):await Rc(n)}await this.Vr(3e5)})}}class _G{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Hp.ce);const r=new bG(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(dE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,i,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,i=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),pl()<=ht.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${s} in `+(l-i)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:f})))}}function CG(t,e){return new _G(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(){this.changes=new rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wu(r.mutation,s,zr.empty(),Ot.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,gt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=gt()){const s=_i();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=Cu();return o.forEach((l,c)=>{i=i.insert(l,c.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,gt()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,l)=>{n.set(i,l)})})}computeViews(e,n,r,s){let o=Oo();const i=qu(),l=function(){return qu()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Za)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),Wu(d.mutation,u,d.mutation.getFieldMask(),Ot.now())):i.set(u.key,zr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>l.set(u,new EG(d,i.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=qu();let s=new Ht((i,l)=>i-l),o=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const l of i)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||zr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||gt()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const i=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=hD();d.forEach(m=>{if(!o.has(m)){const p=xD(n.get(m),r.get(m));p!==null&&f.set(m,p),o=o.add(m)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,f))}return re.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return Fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):re.resolve(_i());let l=bd,c=o;return i.next(u=>re.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(d)?re.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,gt())).next(d=>({batchId:l,changes:dD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Fe(n)).next(r=>{let s=Cu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=Cu();return this.indexManager.getCollectionParents(e,o).next(l=>re.forEach(l,c=>{const u=function(f,m){return new Mc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,m)=>{i=i.insert(f,m)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((c,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,tr.newInvalidDocument(d)))});let l=Cu();return i.forEach((c,u)=>{const d=o.get(c);d!==void 0&&Wu(d.mutation,u,zr.empty(),Ot.now()),Xp(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Qs(s.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:vG(s.bundledQuery),readTime:Qs(s.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.overlays=new Ht(Fe.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_i();return re.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const s=_i(),o=n.length+1,i=new Fe(n.child("")),l=this.overlays.getIteratorFrom(i);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return re.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Ht((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=_i(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=_i(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return re.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new GH(n,r));let o=this.qr.get(n);o===void 0&&(o=gt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.Qr=new Nn(Pn.$r),this.Ur=new Nn(Pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Pn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Fe(new kt([])),r=new Pn(n,e),s=new Pn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],i=>{this.Gr(i),o.push(i.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Fe(new kt([])),r=new Pn(n,e),s=new Pn(n,e+1);let o=gt();return this.Ur.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new Pn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Fe.comparator(e.key,n.key)||pt(e.Yr,n.Yr)}static Kr(e,n){return pt(e.Yr,n.Yr)||Fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nn(Pn.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new HH(o,n,r,s);this.mutationQueue.push(i);for(const l of s)this.Zr=this.Zr.add(new Pn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return re.resolve(i)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?pb:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),s=new Pn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],i=>{const l=this.Xr(i.Yr);o.push(l)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nn(pt);return n.forEach(s=>{const o=new Pn(s,0),i=new Pn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,i],l=>{r=r.add(l.Yr)})}),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Fe.isDocumentKey(o)||(o=o.child(""));const i=new Pn(new Fe(o),0);let l=new Nn(pt);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},i),re.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,s=>{const o=new Pn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Pn(n,0),s=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e){this.ri=e,this.docs=function(){return new Ht(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(n))}getEntries(e,n){let r=Oo();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():tr.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Oo();const i=n.path,l=new Fe(i.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||lH(iH(d),r)<=0||(s.has(d.key)||Xp(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,s){He(9500)}ii(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RG(this)}getSize(e){return re.resolve(this.size)}}class RG extends NG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e){this.persistence=e,this.si=new rl(n=>xb(n),yb),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.oi=0,this._i=new Nb,this.targetCount=0,this.ai=gc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((i,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),re.waitFor(o).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hp(0),this.li=!1,this.li=!0,this.hi=new PG,this.referenceDelegate=e(this),this.Pi=new DG(this),this.indexManager=new xG,this.remoteDocumentCache=function(s){return new AG(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new gG(n),this.Ii=new TG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new IG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Pe("MemoryPersistence","Starting transaction:",e);const s=new MG(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return re.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class MG extends uH{constructor(e){super(),this.currentSequenceNumber=e}}class Eb{constructor(e){this.persistence=e,this.Ri=new Nb,this.Vi=null}static mi(e){return new Eb(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,r=>{const s=Fe.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Ze.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bm{constructor(e,n){this.persistence=e,this.pi=new rl(r=>fH(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=CG(this,n)}static mi(e,n){return new Bm(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return re.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?re.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,i=>this.br(e,i,n).next(l=>{l||(r++,o.removeEntry(i,Ze.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pf(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=gt(),s=gt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new jb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Iq()?8:dH(sr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new OG;return this.Ss(e,n,i).next(l=>{if(o.result=l,this.Vs)return this.bs(e,n,i,l.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(pl()<=ht.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(pl()<=ht.DEBUG&&Pe("QueryEngine","Query:",gl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(pl()<=ht.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):re.resolve())}ys(e,n){if(tE(n))return re.resolve(null);let r=Ks(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ey(n,null,"F"),r=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=gt(...o);return this.ps.getDocuments(e,i).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,i,c.readTime)?this.ys(e,ey(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return tE(n)||s.isEqual(Ze.min())?re.resolve(null):this.ps.getDocuments(e,r).next(o=>{const i=this.Ds(n,o);return this.Cs(n,i,r,s)?re.resolve(null):(pl()<=ht.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gl(n)),this.vs(e,i,n,aH(s,bd)).next(l=>l))})}Ds(e,n){let r=new Nn(cD(e));return n.forEach((s,o)=>{Xp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return pl()<=ht.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",gl(n)),this.ps.getDocumentsMatchingQuery(e,n,Fa.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LocalStore",FG=3e8;class VG{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ht(pt),this.xs=new rl(o=>xb(o),yb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function zG(t,e,n,r){return new VG(t,e,n,r)}async function AD(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],l=[];let c=gt();for(const u of s){i.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:i,addedBatchIds:l}))})})}function BG(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,m=f.keys();let p=re.resolve();return m.forEach(y=>{p=p.next(()=>d.getEntry(c,y)).next(x=>{const _=u.docVersions.get(y);Ct(_!==null,48541),x.version.compareTo(_)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=gt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function RD(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function UG(t,e){const n=et(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let p=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(qn.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(x,_,S){return x.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=FG?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,p,d)&&l.push(n.Pi.updateTargetData(o,p))});let c=Oo(),u=gt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push($G(o,i,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(Ze.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return re.waitFor(l).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=s,o))}function $G(t,e,n){let r=gt(),s=gt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=Oo();return n.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ze.min())?(e.removeEntry(l,c.readTime),i=i.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),i=i.insert(l,c)):Pe(Tb,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:i,qs:s}})}function qG(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=pb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WG(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,re.resolve(s)):n.Pi.allocateTargetId(r).next(i=>(s=new fa(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function oy(t,e,n){const r=et(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Dc(i))throw i;Pe(Tb,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function mE(t,e,n){const r=et(t);let s=Ze.min(),o=gt();return r.persistence.runTransaction("Execute query","readwrite",i=>function(c,u,d){const f=et(c),m=f.xs.get(d);return m!==void 0?re.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,d)}(r,i,Ks(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(i,l.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(i,e,n?s:Ze.min(),n?o:gt())).next(l=>(HG(r,IH(e),l),{documents:l,Qs:o})))}function HG(t,e,n){let r=t.Os.get(e)||Ze.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class pE{constructor(){this.activeTargetIds=LH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GG{constructor(){this.Mo=new pE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="ConnectivityMonitor";class vE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pe(gE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Pe(gE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function ay(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="RestConnection",KG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Mm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const i=ay(),l=this.zo(e,n.toUriEncodedString());Pe(Bv,`Sending RPC '${e}' ${i}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,o);const{host:u}=new URL(l),d=Pc(u);return this.Jo(e,l,c,r,d).then(f=>(Pe(Bv,`Received RPC '${e}' ${i}: `,f),f),f=>{throw hc(Bv,`RPC '${e}' ${i} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,o,i){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=KG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class ZG extends QG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const i=ay();return new Promise((l,c)=>{const u=new MR;u.setWithCredentials(!0),u.listenOnce(OR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kf.NO_ERROR:const f=u.getResponseJson();Pe(Kn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),l(f);break;case kf.TIMEOUT:Pe(Kn,`RPC '${e}' ${i} timed out`),c(new je(ee.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const m=u.getStatus();if(Pe(Kn,`RPC '${e}' ${i} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const x=function(S){const v=S.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(v)>=0?v:ee.UNKNOWN}(y.status);c(new je(x,y.message))}else c(new je(ee.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new je(ee.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:i,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Pe(Kn,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Pe(Kn,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=ay(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=VR(),l=FR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");Pe(Kn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=i.createWebChannel(d,c);this.I_(f);let m=!1,p=!1;const y=new XG({Yo:_=>{p?Pe(Kn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(m||(Pe(Kn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Pe(Kn,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Zo:()=>f.close()}),x=(_,S,v)=>{_.listen(S,b=>{try{v(b)}catch(T){setTimeout(()=>{throw T},0)}})};return x(f,_u.EventType.OPEN,()=>{p||(Pe(Kn,`RPC '${e}' stream ${s} transport opened.`),y.o_())}),x(f,_u.EventType.CLOSE,()=>{p||(p=!0,Pe(Kn,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(f))}),x(f,_u.EventType.ERROR,_=>{p||(p=!0,hc(Kn,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),y.a_(new je(ee.UNAVAILABLE,"The operation could not be completed")))}),x(f,_u.EventType.MESSAGE,_=>{var S;if(!p){const v=_.data[0];Ct(!!v,16349);const b=v,T=(b==null?void 0:b.error)||((S=b[0])==null?void 0:S.error);if(T){Pe(Kn,`RPC '${e}' stream ${s} received error:`,T);const R=T.status;let L=function(P){const I=nn[P];if(I!==void 0)return wD(I)}(R),C=T.message;L===void 0&&(L=ee.INTERNAL,C="Unknown error status: "+R+" with message "+T.message),p=!0,y.a_(new je(L,C)),f.close()}else Pe(Kn,`RPC '${e}' stream ${s} received:`,v),y.u_(v)}}),x(l,LR.STAT_EVENT,_=>{_.stat===Gx.PROXY?Pe(Kn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Gx.NOPROXY&&Pe(Kn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Uv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t){return new nG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="PersistentStream";class MD{constructor(e,n,r,s,o,i,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Mo(n.toString()),Mo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new je(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Pe(xE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Pe(xE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JG extends MD{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oG(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ze.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?Ze.min():i.readTime?Qs(i.readTime):Ze.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sy(this.serializer),n.addTarget=function(o,i){let l;const c=i.target;if(l=Zx(c)?{documents:lG(o,c)}:{query:cG(o,c).ft},l.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){l.resumeToken=_D(o,i.resumeToken);const u=ty(o,i.expectedCount);u!==null&&(l.expectedCount=u)}else if(i.snapshotVersion.compareTo(Ze.min())>0){l.readTime=zm(o,i.snapshotVersion.toTimestamp());const u=ty(o,i.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=dG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sy(this.serializer),n.removeTarget=e,this.q_(n)}}class eY extends MD{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iG(e.writeResults,e.commitTime),r=Qs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aG(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{}class nY extends tY{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new je(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Go(e,ny(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(ee.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Ho(e,ny(n,r),s,i,l,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new je(ee.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class rY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mo(n),this.aa=!1):Pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class sY{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(i=>{r.enqueueAndForget(async()=>{sl(this)&&(Pe(Gi,"Restarting streams for network reachability change."),await async function(c){const u=et(c);u.Ea.add(4),await Qd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await ng(u)}(this))})}),this.Ra=new rY(r,s)}}async function ng(t){if(sl(t))for(const e of t.da)await e(!0)}async function Qd(t){for(const e of t.da)await e(!1)}function OD(t,e){const n=et(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ab(n)?Ib(n):Oc(n).O_()&&Pb(n,e))}function kb(t,e){const n=et(t),r=Oc(n);n.Ia.delete(e),r.O_()&&LD(n,e),n.Ia.size===0&&(r.O_()?r.L_():sl(n)&&n.Ra.set("Unknown"))}function Pb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oc(t).Y_(e)}function LD(t,e){t.Va.Ue(e),Oc(t).Z_(e)}function Ib(t){t.Va=new ZH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.Ra.ua()}function Ab(t){return sl(t)&&!Oc(t).x_()&&t.Ia.size>0}function sl(t){return et(t).Ea.size===0}function FD(t){t.Va=void 0}async function oY(t){t.Ra.set("Online")}async function aY(t){t.Ia.forEach((e,n)=>{Pb(t,e)})}async function iY(t,e){FD(t),Ab(t)?(t.Ra.ha(e),Ib(t)):t.Ra.set("Unknown")}async function lY(t,e,n){if(t.Ra.set("Online"),e instanceof SD&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const l of o.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,i),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){Pe(Gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Um(t,r)}else if(e instanceof Rf?t.Va.Ze(e):e instanceof bD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ze.min()))try{const r=await RD(t.localStore);n.compareTo(r)>=0&&await function(o,i){const l=o.Va.Tt(i);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(c.resumeToken,i))}}),l.targetMismatches.forEach((c,u)=>{const d=o.Ia.get(c);if(!d)return;o.Ia.set(c,d.withResumeToken(qn.EMPTY_BYTE_STRING,d.snapshotVersion)),LD(o,c);const f=new fa(d.target,c,u,d.sequenceNumber);Pb(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Pe(Gi,"Failed to raise snapshot:",r),await Um(t,r)}}async function Um(t,e,n){if(!Dc(e))throw e;t.Ea.add(1),await Qd(t),t.Ra.set("Offline"),n||(n=()=>RD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Pe(Gi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ng(t)})}function VD(t,e){return e().catch(n=>Um(t,n,e))}async function rg(t){const e=et(t),n=Ua(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pb;for(;cY(e);)try{const s=await qG(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,uY(e,s)}catch(s){await Um(e,s)}zD(e)&&BD(e)}function cY(t){return sl(t)&&t.Ta.length<10}function uY(t,e){t.Ta.push(e);const n=Ua(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zD(t){return sl(t)&&!Ua(t).x_()&&t.Ta.length>0}function BD(t){Ua(t).start()}async function dY(t){Ua(t).ra()}async function hY(t){const e=Ua(t);for(const n of t.Ta)e.ea(n.mutations)}async function fY(t,e,n){const r=t.Ta.shift(),s=Sb.from(r,e,n);await VD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rg(t)}async function mY(t,e){e&&Ua(t).X_&&await async function(r,s){if(function(i){return KH(i)&&i!==ee.ABORTED}(s.code)){const o=r.Ta.shift();Ua(r).B_(),await VD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await rg(r)}}(t,e),zD(t)&&BD(t)}async function yE(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),Pe(Gi,"RemoteStore received new credentials");const r=sl(n);n.Ea.add(3),await Qd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ng(n)}async function pY(t,e){const n=et(t);e?(n.Ea.delete(2),await ng(n)):e||(n.Ea.add(2),await Qd(n),n.Ra.set("Unknown"))}function Oc(t){return t.ma||(t.ma=function(n,r,s){const o=et(n);return o.sa(),new JG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:oY.bind(null,t),t_:aY.bind(null,t),r_:iY.bind(null,t),H_:lY.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ab(t)?Ib(t):t.Ra.set("Unknown")):(await t.ma.stop(),FD(t))})),t.ma}function Ua(t){return t.fa||(t.fa=function(n,r,s){const o=et(n);return o.sa(),new eY(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dY.bind(null,t),r_:mY.bind(null,t),ta:hY.bind(null,t),na:fY.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await rg(t)):(await t.fa.stop(),t.Ta.length>0&&(Pe(Gi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,l=new Rb(e,n,i,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Db(t,e){if(Mo("AsyncQueue",`${e}: ${t}`),Dc(t))return new je(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{static emptySet(e){return new Gl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Fe.comparator(n.key,r.key):(n,r)=>Fe.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.ga=new Ht(Fe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class vc{constructor(e,n,r,s,o,i,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(l=>{i.push({type:0,doc:l})}),new vc(e,n,Gl.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class vY{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=et(n),o=s.queries;s.queries=bE(),o.forEach((i,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new je(ee.ABORTED,"Firestore shutting down"))}}function bE(){return new rl(t=>lD(t),Qp)}async function Mb(t,e){const n=et(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new gY,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const l=Db(i,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Lb(n)}async function Ob(t,e){const n=et(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.Sa.indexOf(e);i>=0&&(o.Sa.splice(i,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xY(t,e){const n=et(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const l of i.Sa)l.Fa(s)&&(r=!0);i.wa=s}}r&&Lb(n)}function yY(t,e,n){const r=et(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Lb(t){t.Ca.forEach(e=>{e.next()})}var iy,SE;(SE=iy||(iy={})).Ma="default",SE.Cache="cache";class Fb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.key=e}}class $D{constructor(e){this.key=e}}class wY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=gt(),this.mutatedKeys=gt(),this.eu=cD(e),this.tu=new Gl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new wE,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=Xp(this.query,f)?f:null,y=!!m&&this.mutatedKeys.has(m.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;m&&p?m.data.isEqual(p.data)?y!==x&&(r.track({type:3,doc:p}),_=!0):this.su(m,p)||(r.track({type:2,doc:p}),_=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(l=!0)):!m&&p?(r.track({type:0,doc:p}),_=!0):m&&!p&&(r.track({type:1,doc:m}),_=!0,(c||u)&&(l=!0)),_&&(p?(i=i.add(p),o=x?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:i,iu:r,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,f)=>function(p,y){const x=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:_})}};return x(p)-x(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,i.length!==0||u?{snapshot:new vc(this.query,e.tu,o,i,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=gt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new $D(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new UD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=gt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vb="SyncEngine";class bY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SY{constructor(e){this.key=e,this.hu=!1}}class _Y{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new rl(l=>lD(l),Qp),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(Fe.comparator),this.Au=new Map,this.Ru=new Nb,this.Vu={},this.mu=new Map,this.fu=gc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CY(t,e,n=!0){const r=KD(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await qD(r,e,n,!0),s}async function NY(t,e){const n=KD(t);await qD(n,e,!0,!1)}async function qD(t,e,n,r){const s=await WG(t.localStore,Ks(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await EY(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&OD(t.remoteStore,s),l}async function EY(t,e,n,r,s){t.pu=(f,m,p)=>async function(x,_,S,v){let b=_.view.ru(S);b.Cs&&(b=await mE(x.localStore,_.query,!1).then(({documents:C})=>_.view.ru(C,b)));const T=v&&v.targetChanges.get(_.targetId),R=v&&v.targetMismatches.get(_.targetId)!=null,L=_.view.applyChanges(b,x.isPrimaryClient,T,R);return CE(x,_.targetId,L.au),L.snapshot}(t,f,m,p);const o=await mE(t.localStore,e,!0),i=new wY(e,o.Qs),l=i.ru(o.documents),c=Kd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(l,t.isPrimaryClient,c);CE(t,n,u.au);const d=new bY(e,n,i);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function jY(t,e,n){const r=et(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(i=>!Qp(i,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await oy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&kb(r.remoteStore,s.targetId),ly(r,s.targetId)}).catch(Rc)):(ly(r,s.targetId),await oy(r.localStore,s.targetId,!0))}async function TY(t,e){const n=et(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kb(n.remoteStore,r.targetId))}async function kY(t,e,n){const r=OY(t);try{const s=await function(i,l){const c=et(i),u=Ot.now(),d=l.reduce((p,y)=>p.add(y.key),gt());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Oo(),x=gt();return c.Ns.getEntries(p,d).next(_=>{y=_,y.forEach((S,v)=>{v.isValidDocument()||(x=x.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(_=>{f=_;const S=[];for(const v of l){const b=qH(v,f.get(v.key).overlayedDocument);b!=null&&S.push(new Za(v.key,b,eD(b.value.mapValue),Cs.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,S,l)}).next(_=>{m=_;const S=_.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(p,_.batchId,S)})}).then(()=>({batchId:m.batchId,changes:dD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,l,c){let u=i.Vu[i.currentUser.toKey()];u||(u=new Ht(pt)),u=u.insert(l,c),i.Vu[i.currentUser.toKey()]=u}(r,s.batchId,n),await Xd(r,s.changes),await rg(r.remoteStore)}catch(s){const o=Db(s,"Failed to persist write");n.reject(o)}}async function WD(t,e){const n=et(t);try{const r=await UG(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Au.get(o);i&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.hu=!0:s.modifiedDocuments.size>0?Ct(i.hu,14607):s.removedDocuments.size>0&&(Ct(i.hu,42227),i.hu=!1))}),await Xd(n,r,e)}catch(r){await Rc(r)}}function _E(t,e,n){const r=et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,i)=>{const l=i.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(i,l){const c=et(i);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(l)&&(u=!0)}),u&&Lb(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PY(t,e,n){const r=et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let i=new Ht(Fe.comparator);i=i.insert(o,tr.newNoDocument(o,Ze.min()));const l=gt().add(o),c=new eg(Ze.min(),new Map,new Ht(pt),i,l);await WD(r,c),r.du=r.du.remove(o),r.Au.delete(e),zb(r)}else await oy(r.localStore,e,!1).then(()=>ly(r,e,n)).catch(Rc)}async function IY(t,e){const n=et(t),r=e.batch.batchId;try{const s=await BG(n.localStore,e);GD(n,r,null),HD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xd(n,s)}catch(s){await Rc(s)}}async function AY(t,e,n){const r=et(t);try{const s=await function(i,l){const c=et(i);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ct(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);GD(r,e,n),HD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xd(r,s)}catch(s){await Rc(s)}}function HD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function GD(t,e,n){const r=et(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||YD(t,r)})}function YD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(kb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),zb(t))}function CE(t,e,n){for(const r of n)r instanceof UD?(t.Ru.addReference(r.key,e),RY(t,r)):r instanceof $D?(Pe(Vb,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||YD(t,r.key)):He(19791,{wu:r})}function RY(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Pe(Vb,"New document in limbo: "+n),t.Eu.add(r),zb(t))}function zb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Fe(kt.fromString(e)),r=t.fu.next();t.Au.set(r,new SY(n)),t.du=t.du.insert(n,r),OD(t.remoteStore,new fa(Ks(Kp(n.path)),r,"TargetPurposeLimboResolution",Hp.ce))}}async function Xd(t,e,n){const r=et(t),s=[],o=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{i.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=jb.As(c.targetId,u);o.push(f)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(c,u){const d=et(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>re.forEach(u,m=>re.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>re.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Dc(f))throw f;Pe(Tb,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=d.Ms.get(m),y=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(m,x)}}}(r.localStore,o))}async function DY(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){Pe(Vb,"User change. New user:",e.toKey());const r=await AD(n.localStore,e);n.currentUser=e,function(o,i){o.mu.forEach(l=>{l.forEach(c=>{c.reject(new je(ee.CANCELLED,i))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xd(n,r.Ls)}}function MY(t,e){const n=et(t),r=n.Au.get(e);if(r&&r.hu)return gt().add(r.key);{let s=gt();const o=n.Iu.get(e);if(!o)return s;for(const i of o){const l=n.Tu.get(i);s=s.unionWith(l.view.nu)}return s}}function KD(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PY.bind(null,e),e.Pu.H_=xY.bind(null,e.eventManager),e.Pu.yu=yY.bind(null,e.eventManager),e}function OY(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AY.bind(null,e),e}class $m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zG(this.persistence,new LG,e.initialUser,this.serializer)}Cu(e){return new ID(Eb.mi,this.serializer)}Du(e){return new GG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$m.provider={build:()=>new $m};class LY extends $m{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof Bm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new ID(r=>Bm.mi(r,n),this.serializer)}}class cy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_E(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DY.bind(null,this.syncEngine),await pY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vY}()}createDatastore(e){const n=tg(e.databaseInfo.databaseId),r=function(o){return new ZG(o)}(e.databaseInfo);return function(o,i,l,c){return new nY(o,i,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,l){return new sY(r,s,o,i,l)}(this.localStore,this.datastore,e.asyncQueue,n=>_E(this.syncEngine,n,0),function(){return vE.v()?new vE:new YG}())}createSyncEngine(e,n){return function(s,o,i,l,c,u,d){const f=new _Y(s,o,i,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=et(s);Pe(Gi,"RemoteStore shutting down."),o.Ea.add(5),await Qd(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cy.provider={build:()=>new cy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="FirestoreClient";class FY{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zn.UNAUTHENTICATED,this.clientId=mb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{Pe($a,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Pe($a,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Db(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $v(t,e){t.asyncQueue.verifyOperationInProgress(),Pe($a,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await AD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VY(t);Pe($a,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>yE(e.remoteStore,s)),t._onlineComponents=e}async function VY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe($a,"Using user provided OfflineComponentProvider");try{await $v(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;hc("Error using user provided cache. Falling back to memory cache: "+n),await $v(t,new $m)}}else Pe($a,"Using default OfflineComponentProvider"),await $v(t,new LY(void 0));return t._offlineComponents}async function QD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe($a,"Using user provided OnlineComponentProvider"),await NE(t,t._uninitializedComponentsProvider._online)):(Pe($a,"Using default OnlineComponentProvider"),await NE(t,new cy))),t._onlineComponents}function zY(t){return QD(t).then(e=>e.syncEngine)}async function qm(t){const e=await QD(t),n=e.eventManager;return n.onListen=CY.bind(null,e.syncEngine),n.onUnlisten=jY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TY.bind(null,e.syncEngine),n}function BY(t,e,n={}){const r=new Eo;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,l,c,u){const d=new Bb({next:m=>{d.Nu(),i.enqueueAndForget(()=>Ob(o,f));const p=m.docs.has(l);!p&&m.fromCache?u.reject(new je(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?u.reject(new je(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Fb(Kp(l.path),d,{includeMetadataChanges:!0,qa:!0});return Mb(o,f)}(await qm(t),t.asyncQueue,e,n,r)),r.promise}function UY(t,e,n={}){const r=new Eo;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,l,c,u){const d=new Bb({next:m=>{d.Nu(),i.enqueueAndForget(()=>Ob(o,f)),m.fromCache&&c.source==="server"?u.reject(new je(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Fb(l,d,{includeMetadataChanges:!0,qa:!0});return Mb(o,f)}(await qm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="firestore.googleapis.com",jE=!0;class TE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZD,this.ssl=jE}else this.host=e.host,this.ssl=e.ssl??jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wG)throw new je(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new je(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new je(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new je(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KW;switch(r.type){case"firstParty":return new JW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=EE.get(n);r&&(Pe("ComponentProvider","Removing Datastore"),EE.delete(n),r.terminate())}(this),Promise.resolve()}}function $Y(t,e,n,r={}){var u;t=as(t,sg);const s=Pc(e),o=t._getSettings(),i={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(ER(`https://${l}`),jR("Firestore",!0)),o.host!==ZD&&o.host!==l&&hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:s,emulatorOptions:r};if(!qi(c,i)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Zn.MOCK_USER;else{d=Sq(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new je(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Zn(m)}t._authCredentials=new QW(new BR(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gd(n,tn._jsonSchema))return new tn(e,r||null,new Fe(kt.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:dn("string",tn._jsonSchemaVersion),referencePath:dn("string")};class ka extends Ja{constructor(e,n,r){super(e,n,Kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new Fe(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function li(t,e,...n){if(t=or(t),UR("collection","path",e),t instanceof sg){const r=kt.fromString(e,...n);return BN(r),new ka(t,null,r)}{if(!(t instanceof tn||t instanceof ka))throw new je(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return BN(r),new ka(t.firestore,null,r)}}function Df(t,e,...n){if(t=or(t),arguments.length===1&&(e=mb.newId()),UR("doc","path",e),t instanceof sg){const r=kt.fromString(e,...n);return zN(r),new tn(t,null,new Fe(r))}{if(!(t instanceof tn||t instanceof ka))throw new je(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return zN(r),new tn(t.firestore,t instanceof ka?t.converter:null,new Fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class PE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DD(this,"async_queue_retry"),this._c=()=>{const r=Uv();r&&Pe(kE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Uv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Eo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dc(e))throw e;Pe(kE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Mo("INTERNAL UNHANDLED ERROR: ",IE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Rb.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&He(47125,{Pc:IE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function IE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class qa extends sg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new PE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PE(e),this._firestoreClient=void 0,await e}}}function qY(t,e){const n=typeof t=="object"?t:IR(),r=typeof t=="string"?t:e||Mm,s=hb(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=wq("firestore");o&&$Y(s,...o)}return s}function og(t){if(t._terminated)throw new je(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WY(t),t._firestoreClient}function WY(t){var r,s,o;const e=t._freezeSettings(),n=function(l,c,u,d){return new gH(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,XD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FY(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(qn.fromBase64String(e))}catch(n){throw new je(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new es(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gd(e,es._jsonSchema))return es.fromBase64String(e.bytes)}}es._jsonSchemaVersion="firestore/bytes/1.0",es._jsonSchema={type:dn("string",es._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xs._jsonSchemaVersion}}static fromJSON(e){if(Gd(e,Xs._jsonSchema))return new Xs(e.latitude,e.longitude)}}Xs._jsonSchemaVersion="firestore/geoPoint/1.0",Xs._jsonSchema={type:dn("string",Xs._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gd(e,Zs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Zs(e.vectorValues);throw new je(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zs._jsonSchemaVersion="firestore/vectorValue/1.0",Zs._jsonSchema={type:dn("string",Zs._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY=/^__.*__$/;class GY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yd(e,this.data,n,this.fieldTransforms)}}class JD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:t})}}class $b{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $b({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eM(this.Ac)&&HY.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tg(e)}Cc(e,n,r,s=!1){return new $b({Ac:e,methodName:n,Dc:r,path:zn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qb(t){const e=t._freezeSettings(),n=tg(t._databaseId);return new YY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KY(t,e,n,r,s,o={}){const i=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);Wb("Data must be an object, but it was:",i,r);const l=tM(r,i);let c,u;if(o.merge)c=new zr(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const m=uy(e,f,n);if(!i.contains(m))throw new je(ee.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);rM(d,m)||d.push(m)}c=new zr(d),u=i.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=i.fieldTransforms;return new GY(new br(l),c,u)}class ig extends Ub{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ig}}function QY(t,e,n,r){const s=t.Cc(1,e,n);Wb("Data must be an object, but it was:",s,r);const o=[],i=br.empty();Xa(r,(c,u)=>{const d=Hb(e,c,n);u=or(u);const f=s.yc(d);if(u instanceof ig)o.push(d);else{const m=Zd(u,f);m!=null&&(o.push(d),i.set(d,m))}});const l=new zr(o);return new JD(i,l,s.fieldTransforms)}function XY(t,e,n,r,s,o){const i=t.Cc(1,e,n),l=[uy(e,r,n)],c=[s];if(o.length%2!=0)throw new je(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)l.push(uy(e,o[m])),c.push(o[m+1]);const u=[],d=br.empty();for(let m=l.length-1;m>=0;--m)if(!rM(u,l[m])){const p=l[m];let y=c[m];y=or(y);const x=i.yc(p);if(y instanceof ig)u.push(p);else{const _=Zd(y,x);_!=null&&(u.push(p),d.set(p,_))}}const f=new zr(u);return new JD(d,f,i.fieldTransforms)}function ZY(t,e,n,r=!1){return Zd(n,t.Cc(r?4:3,e))}function Zd(t,e){if(nM(t=or(t)))return Wb("Unsupported field value:",e,t),tM(t,e);if(t instanceof Ub)return function(r,s){if(!eM(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const l of r){let c=Zd(l,s.wc(i));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=or(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ot.fromDate(r);return{timestampValue:zm(s.serializer,o)}}if(r instanceof Ot){const o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zm(s.serializer,o)}}if(r instanceof Xs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof es)return{bytesValue:_D(s.serializer,r._byteString)};if(r instanceof tn){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Zs)return function(i,l){return{mapValue:{fields:{[XR]:{stringValue:JR},[Om]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return wb(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Wp(r)}`)}(t,e)}function tM(t,e){const n={};return WR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,(r,s)=>{const o=Zd(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof Xs||t instanceof es||t instanceof tn||t instanceof Ub||t instanceof Zs)}function Wb(t,e,n){if(!nM(n)||!$R(n)){const r=Wp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function uy(t,e,n){if((e=or(e))instanceof ag)return e._internalPath;if(typeof e=="string")return Hb(t,e);throw Wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const JY=new RegExp("[~\\*/\\[\\]]");function Hb(t,e,n){if(e.search(JY)>=0)throw Wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw Wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wm(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||i)&&(c+=" (found",o&&(c+=` in field ${r}`),i&&(c+=` in document ${s}`),c+=")"),new je(ee.INVALID_ARGUMENT,l+t+c)}function rM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eK extends sM{data(){return super.data()}}function Gb(t,e){return typeof e=="string"?Hb(t,e):e instanceof ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yb{}class aM extends Yb{}function qv(t,e,...n){let r=[];e instanceof Yb&&r.push(e),r=r.concat(n),function(o){const i=o.filter(c=>c instanceof Qb).length,l=o.filter(c=>c instanceof Kb).length;if(i>1||i>0&&l>0)throw new je(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Kb extends aM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kb(e,n,r)}_apply(e){const n=this._parse(e);return iM(e._query,n),new Ja(e.firestore,e.converter,Jx(e._query,n))}_parse(e){const n=qb(e.firestore);return function(o,i,l,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new je(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ME(f,d);const y=[];for(const x of f)y.push(DE(c,o,x));m={arrayValue:{values:y}}}else m=DE(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ME(f,d),m=ZY(l,i,f,d==="in"||d==="not-in");return un.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Qb extends Yb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let i=s;const l=o.getFlattenedFilters();for(const c of l)iM(i,c),i=Jx(i,c)}(e._query,n),new Ja(e.firestore,e.converter,Jx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xb extends aM{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xb(e,n)}_apply(e){const n=function(s,o,i){if(s.startAt!==null)throw new je(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new je(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nd(o,i)}(e._query,this._field,this._direction);return new Ja(e.firestore,e.converter,function(s,o){const i=s.explicitOrderBy.concat([o]);return new Mc(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function RE(t,e="asc"){const n=e,r=Gb("orderBy",t);return Xb._create(r,n)}function DE(t,e,n){if(typeof(n=or(n))=="string"){if(n==="")throw new je(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iD(e)&&n.indexOf("/")!==-1)throw new je(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!Fe.isDocumentKey(r))throw new je(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KN(t,new Fe(r))}if(n instanceof tn)return KN(t,n._key);throw new je(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wp(n)}.`)}function ME(t,e){if(!Array.isArray(t)||t.length===0)throw new je(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iM(t,e){const n=function(s,o){for(const i of s)for(const l of i.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new je(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tK{convertValue(e,n="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xa(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Om].arrayValue)==null?void 0:s.values)==null?void 0:o.map(i=>Jt(i.doubleValue));return new Zs(n)}convertGeoPoint(e){return new Xs(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const n=Va(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);Ct(kD(r),9688,{name:e});const s=new _d(r.get(1),r.get(3)),o=new Fe(r.popFirst(5));return s.isEqual(n)||Mo(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pi extends sM{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pi._jsonSchema={type:dn("string",Pi._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class Mf extends Pi{data(e={}){return super.data(e)}}class Ii{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Eu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mf(this._firestore,this._userDataWriter,r.key,r,new Eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(l=>{const c=new Mf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Eu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new Mf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Eu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=i.indexOf(l.doc.key),i=i.delete(l.doc.key)),l.type!==1&&(i=i.add(l.doc),d=i.indexOf(l.doc.key)),{type:rK(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ii._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(t){t=as(t,tn);const e=as(t.firestore,qa);return BY(og(e),t._key).then(n=>lM(e,t,n))}Ii._jsonSchemaVersion="firestore/querySnapshot/1.0",Ii._jsonSchema={type:dn("string",Ii._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class Zb extends tK{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Wv(t){t=as(t,Ja);const e=as(t.firestore,qa),n=og(e),r=new Zb(e);return oM(t._query),UY(n,t._query).then(s=>new Ii(e,r,t,s))}function oK(t,e,n,...r){t=as(t,tn);const s=as(t.firestore,qa),o=qb(s);let i;return i=typeof(e=or(e))=="string"||e instanceof ag?XY(o,"updateDoc",t._key,e,n,r):QY(o,"updateDoc",t._key,e),Jb(s,[i.toMutation(t._key,Cs.exists(!0))])}function aK(t){return Jb(as(t.firestore,qa),[new bb(t._key,Cs.none())])}function iK(t,e){const n=as(t.firestore,qa),r=Df(t),s=nK(t.converter,e);return Jb(n,[KY(qb(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Cs.exists(!1))]).then(()=>r)}function Hv(t,...e){var c,u,d;t=or(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||AE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(AE(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let o,i,l;if(t instanceof tn)i=as(t.firestore,qa),l=Kp(t._key.path),o={next:f=>{e[r]&&e[r](lM(i,t,f))},error:e[r+1],complete:e[r+2]};else{const f=as(t,Ja);i=as(f.firestore,qa),l=f._query;const m=new Zb(i);o={next:p=>{e[r]&&e[r](new Ii(i,m,f,p))},error:e[r+1],complete:e[r+2]},oM(t._query)}return function(m,p,y,x){const _=new Bb(x),S=new Fb(p,_,y);return m.asyncQueue.enqueueAndForget(async()=>Mb(await qm(m),S)),()=>{_.Nu(),m.asyncQueue.enqueueAndForget(async()=>Ob(await qm(m),S))}}(og(i),l,s,o)}function Jb(t,e){return function(r,s){const o=new Eo;return r.asyncQueue.enqueueAndForget(async()=>kY(await zY(r),s,o)),o.promise}(og(t),e)}function lM(t,e,n){const r=n.docs.get(e._key),s=new Zb(t);return new Pi(t,s,e._key,r,new Eu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ac=s})(Ic),dc(new Wi("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),l=new qa(new XW(r.getProvider("auth-internal")),new eH(i,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new je(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(u.options.projectId,d)}(i,s),i);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),ja(ON,LN,e),ja(ON,LN,"esm2020")})();var lK="firebase",cK="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ja(lK,cK,"app");function cM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uK=cM,uM=new Wd("auth","Firebase",cM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=new ub("@firebase/auth");function dK(t,...e){Hm.logLevel<=ht.WARN&&Hm.warn(`Auth (${Ic}): ${t}`,...e)}function Of(t,...e){Hm.logLevel<=ht.ERROR&&Hm.error(`Auth (${Ic}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t,...e){throw e1(t,...e)}function Js(t,...e){return e1(t,...e)}function dM(t,e,n){const r={...uK(),[e]:n};return new Wd("auth","Firebase",r).create(e,{appName:t.name})}function Ai(t){return dM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uM.create(t,...e)}function Qe(t,e,...n){if(!t)throw e1(e,...n)}function yo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function Fo(t,e){t||yo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function hK(){return OE()==="http:"||OE()==="https:"}function OE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hK()||Tq()||"connection"in navigator)?navigator.onLine:!0}function mK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fo(n>e,"Short delay should be less than long delay!"),this.isMobile=Nq()||kq()}get(){return fK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e){Fo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vK=new Jd(3e4,6e4);function n1(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Lc(t,e,n,r,s={}){return fM(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const l=Hd({key:t.config.apiKey,...i}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...o};return jq()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Pc(t.emulatorConfig.host)&&(u.credentials="include"),hM.fetch()(await mM(t,t.config.apiHost,n,l),u)})}async function fM(t,e,n){t._canInitEmulator=!1;const r={...pK,...e};try{const s=new yK(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw rf(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const l=o.ok?i.errorMessage:i.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(t,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw rf(t,"email-already-in-use",i);if(c==="USER_DISABLED")throw rf(t,"user-disabled",i);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dM(t,d,u);Lo(t,d)}}catch(s){if(s instanceof Bo)throw s;Lo(t,"network-request-failed",{message:String(s)})}}async function xK(t,e,n,r,s={}){const o=await Lc(t,e,n,r,s);return"mfaPendingCredential"in o&&Lo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function mM(t,e,n,r){const s=`${e}${n}?${r}`,o=t,i=o.config.emulator?t1(t.config,s):`${t.config.apiScheme}://${s}`;return gK.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(i).toString():i}class yK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Js(this.auth,"network-request-failed")),vK.get())})}}function rf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Js(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wK(t,e){return Lc(t,"POST","/v1/accounts:delete",e)}async function Gm(t,e){return Lc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bK(t,e=!1){const n=or(t),r=await n.getIdToken(e),s=r1(r);Qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Hu(Gv(s.auth_time)),issuedAtTime:Hu(Gv(s.iat)),expirationTime:Hu(Gv(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Gv(t){return Number(t)*1e3}function r1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const s=SR(n);return s?JSON.parse(s):(Of("Failed to decode base64 JWT payload"),null)}catch(s){return Of("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function LE(t){const e=r1(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bo&&SK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function SK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Td(t,Gm(e,{idToken:n}));Qe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(f=s.providerUserInfo)!=null&&f.length?pM(s.providerUserInfo):[],i=NK(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(i!=null&&i.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new hy(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function CK(t){const e=or(t);await Ym(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NK(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function pM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EK(t,e){const n=await fM(t,{},async()=>{const r=Hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=await mM(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Pc(t.emulatorConfig.host)&&(c.credentials="include"),hM.fetch()(i,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jK(t,e){return Lc(t,"POST","/v2/accounts:revokeToken",n1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=LE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await EK(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new Yl;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(Qe(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(Qe(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yl,this.toJSON())}_performRefresh(){return yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ws{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new _K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Td(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bK(this,e)}reload(){return CK(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ws({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ym(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($s(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await Td(this,wK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,i=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:y,stsTokenManager:x}=n;Qe(f&&x,e,"internal-error");const _=Yl.fromJSON(this.name,x);Qe(typeof f=="string",e,"internal-error"),Ko(r,e.name),Ko(s,e.name),Qe(typeof m=="boolean",e,"internal-error"),Qe(typeof p=="boolean",e,"internal-error"),Ko(o,e.name),Ko(i,e.name),Ko(l,e.name),Ko(c,e.name),Ko(u,e.name),Ko(d,e.name);const S=new ws({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:i,phoneNumber:o,tenantId:l,stsTokenManager:_,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(S.providerData=y.map(v=>({...v}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new Yl;s.updateFromServerResponse(n);const o=new ws({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ym(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Qe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?pM(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),l=new Yl;l.updateFromIdToken(r);const c=new ws({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:i}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new hy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;function wo(t){Fo(t instanceof Function,"Expected a class definition");let e=FE.get(t);return e?(Fo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gM.type="NONE";const VE=gM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e,n){return`firebase:${t}:${e}:${n}`}class Kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Lf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Lf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gm(this.auth,{idToken:e}).catch(()=>{});return n?ws._fromGetAccountInfoResponse(this.auth,n,e):null}return ws._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kl(wo(VE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||wo(VE);const i=Lf(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(i);if(d){let f;if(typeof d=="string"){const m=await Gm(e,{idToken:d}).catch(()=>{});if(!m)break;f=await ws._fromGetAccountInfoResponse(e,m,d)}else f=ws._fromJSON(e,d);u!==o&&(l=f),o=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Kl(o,e,r):(o=c[0],l&&await o._set(i,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new Kl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SM(e))return"Blackberry";if(_M(e))return"Webos";if(xM(e))return"Safari";if((e.includes("chrome/")||yM(e))&&!e.includes("edge/"))return"Chrome";if(bM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vM(t=sr()){return/firefox\//i.test(t)}function xM(t=sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yM(t=sr()){return/crios\//i.test(t)}function wM(t=sr()){return/iemobile/i.test(t)}function bM(t=sr()){return/android/i.test(t)}function SM(t=sr()){return/blackberry/i.test(t)}function _M(t=sr()){return/webos/i.test(t)}function s1(t=sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TK(t=sr()){var e;return s1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function kK(){return Pq()&&document.documentMode===10}function CM(t=sr()){return s1(t)||bM(t)||_M(t)||SM(t)||/windows phone/i.test(t)||wM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t,e=[]){let n;switch(t){case"Browser":n=zE(sr());break;case"Worker":n=`${zE(sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ic}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,l)=>{try{const c=e(o);i(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IK(t,e={}){return Lc(t,"GET","/v2/passwordPolicy",n1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK=6;class RK{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AK,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BE(this),this.idTokenSubscription=new BE(this),this.beforeStateQueue=new PK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wo(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gm(this,{idToken:e}),r=await ws._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if($s(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ym(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($s(this.app))return Promise.reject(Ai(this));const n=e?or(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $s(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $s(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IK(this),n=new RK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wo(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[wo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let i=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(l,this,"internal-error"),l.then(()=>{i||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{i=!0,c()}}else{const c=e.addObserver(n);return()=>{i=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if($s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&dK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function o1(t){return or(t)}class BE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fq(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MK(t){a1=t}function OK(t){return a1.loadJS(t)}function LK(){return a1.gapiScript}function FK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(t,e){const n=hb(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(qi(o,e??{}))return s;Lo(s,"already-initialized")}return n.initialize({options:e})}function zK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BK(t,e,n){const r=o1(t);Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=EM(e),{host:i,port:l}=UK(e),c=l===null?"":`:${l}`,u={url:`${o}//${i}${c}/`},d=Object.freeze({host:i,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Qe(qi(u,r.config.emulator)&&qi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Pc(i)?(ER(`${o}//${i}${c}`),jR("Auth",!0)):s||$K()}function EM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UK(t){const e=EM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:UE(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:UE(i)}}}function UE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $K(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yo("not implemented")}_getIdTokenResponse(e){return yo("not implemented")}_linkToIdToken(e,n){return yo("not implemented")}_getReauthenticationResolver(e){return yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e){return xK(t,"POST","/v1/accounts:signInWithIdp",n1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK="http://localhost";class Yi extends jM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const i=new Yi(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Ql(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ql(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ql(e,n)}buildRequest(){const e={requestUri:qK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends TM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends eh{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yi._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return la.credential(n,r)}catch{return null}}}la.GOOGLE_SIGN_IN_METHOD="google.com";la.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends eh{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.GITHUB_SIGN_IN_METHOD="github.com";ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends eh{constructor(){super("twitter.com")}static credential(e,n){return Yi._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ua.credential(n,r)}catch{return null}}}ua.TWITTER_SIGN_IN_METHOD="twitter.com";ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ws._fromIdTokenResponse(e,r,s),i=$E(r);return new xc({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=$E(r);return new xc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function $E(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends Bo{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Km.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Km(e,n,r,s)}}function kM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Km._fromErrorAndOperation(t,o,e,r):o})}async function WK(t,e,n=!1){const r=await Td(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e,n=!1){const{auth:r}=t;if($s(r.app))return Promise.reject(Ai(r));const s="reauthenticate";try{const o=await Td(t,kM(r,s,e,t),n);Qe(o.idToken,r,"internal-error");const i=r1(o.idToken);Qe(i,r,"internal-error");const{sub:l}=i;return Qe(t.uid===l,r,"user-mismatch"),xc._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Lo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GK(t,e,n=!1){if($s(t.app))return Promise.reject(Ai(t));const r="signIn",s=await kM(t,r,e),o=await xc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}function YK(t,e,n,r){return or(t).onIdTokenChanged(e,n,r)}function KK(t,e,n){return or(t).beforeAuthStateChanged(e,n)}const Qm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qm,"1"),this.storage.removeItem(Qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QK=1e3,XK=10;class IM extends PM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,l,c)=>{this.notifyListeners(i,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);kK()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,XK):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IM.type="LOCAL";const ZK=IM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM extends PM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AM.type="SESSION";const RM=AM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new lg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(i).map(async u=>u(n.origin,o)),c=await JK(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((l,c)=>{const u=i1("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(m.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(){return window}function tQ(t){eo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){return typeof eo().WorkerGlobalScope<"u"&&typeof eo().importScripts=="function"}async function nQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function sQ(){return DM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="firebaseLocalStorageDb",oQ=1,Xm="firebaseLocalStorage",OM="fbase_key";class th{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cg(t,e){return t.transaction([Xm],e?"readwrite":"readonly").objectStore(Xm)}function aQ(){const t=indexedDB.deleteDatabase(MM);return new th(t).toPromise()}function fy(){const t=indexedDB.open(MM,oQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xm,{keyPath:OM})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xm)?e(r):(r.close(),await aQ(),e(await fy()))})})}async function qE(t,e,n){const r=cg(t,!0).put({[OM]:e,value:n});return new th(r).toPromise()}async function iQ(t,e){const n=cg(t,!1).get(e),r=await new th(n).toPromise();return r===void 0?null:r.value}function WE(t,e){const n=cg(t,!0).delete(e);return new th(n).toPromise()}const lQ=800,cQ=3;class LM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lg._getInstance(sQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await nQ(),!this.activeServiceWorker)return;this.sender=new eQ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fy();return await qE(e,Qm,"1"),await WE(e,Qm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=cg(s,!1).getAll();return new th(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LM.type="LOCAL";const uQ=LM;new Jd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(t,e){return e?wo(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends jM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hQ(t){return GK(t.auth,new l1(t),t.bypassAuthState)}function fQ(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),HK(n,new l1(t),t.bypassAuthState)}async function mQ(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),WK(n,new l1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:l}=e;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hQ;case"linkViaPopup":case"linkViaRedirect":return mQ;case"reauthViaPopup":case"reauthViaRedirect":return fQ;default:Lo(this.auth,"internal-error")}}resolve(e){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ=new Jd(2e3,1e4);class Ml extends FM{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ml.currentPopupAction&&Ml.currentPopupAction.cancel(),Ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){Fo(this.filter.length===1,"Popup operations only handle one event");const e=i1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pQ.get())};e()}}Ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ="pendingRedirect",Ff=new Map;class vQ extends FM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const r=await xQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xQ(t,e){const n=bQ(e),r=wQ(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function yQ(t,e){Ff.set(t._key(),e)}function wQ(t){return wo(t._redirectPersistence)}function bQ(t){return Lf(gQ,t.config.apiKey,t.name)}async function SQ(t,e,n=!1){if($s(t.app))return Promise.reject(Ai(t));const r=o1(t),s=dQ(r,e),i=await new vQ(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q=10*60*1e3;class CQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VM(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Js(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_Q&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EQ(t,e={}){return Lc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TQ=/^https?/;async function kQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EQ(t);for(const n of e)try{if(PQ(n))return}catch{}Lo(t,"unauthorized-domain")}function PQ(t){const e=dy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!TQ.test(n))return!1;if(jQ.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ=new Jd(3e4,6e4);function GE(){const t=eo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AQ(t){return new Promise((e,n)=>{var s,o,i;function r(){GE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GE(),n(Js(t,"network-request-failed"))},timeout:IQ.get()})}if((o=(s=eo().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((i=eo().gapi)!=null&&i.load)r();else{const l=FK("iframefcb");return eo()[l]=()=>{gapi.load?r():n(Js(t,"network-request-failed"))},OK(`${LK()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function RQ(t){return Vf=Vf||AQ(t),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ=new Jd(5e3,15e3),MQ="__/auth/iframe",OQ="emulator/auth/iframe",LQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VQ(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?t1(e,OQ):`https://${t.config.authDomain}/${MQ}`,r={apiKey:e.apiKey,appName:t.name,v:Ic},s=FQ.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Hd(r).slice(1)}`}async function zQ(t){const e=await RQ(t),n=eo().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:VQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LQ,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=Js(t,"network-request-failed"),l=eo().setTimeout(()=>{o(i)},DQ.get());function c(){eo().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UQ=500,$Q=600,qQ="_blank",WQ="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HQ(t,e,n,r=UQ,s=$Q){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...BQ,width:r.toString(),height:s.toString(),top:o,left:i},u=sr().toLowerCase();n&&(l=yM(u)?qQ:n),vM(u)&&(e=e||WQ,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[p,y])=>`${m}${p}=${y},`,"");if(TK(u)&&l!=="_self")return GQ(e||"",l),new YE(null);const f=window.open(e||"",l,d);Qe(f,t,"popup-blocked");try{f.focus()}catch{}return new YE(f)}function GQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ="__/auth/handler",KQ="emulator/auth/handler",QQ=encodeURIComponent("fac");async function KE(t,e,n,r,s,o){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ic,eventId:s};if(e instanceof TM){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",Lq(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))i[d]=f}if(e instanceof eh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const l=i;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${QQ}=${encodeURIComponent(c)}`:"";return`${XQ(t)}?${Hd(l).slice(1)}${u}`}function XQ({config:t}){return t.emulator?t1(t,KQ):`https://${t.authDomain}/${YQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="webStorageSupport";class ZQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RM,this._completeRedirectFn=SQ,this._overrideRedirectResult=yQ}async _openPopup(e,n,r,s){var i;Fo((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await KE(e,n,r,dy(),s);return HQ(e,o,i1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await KE(e,n,r,dy(),s);return tQ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Fo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zQ(e),r=new CQ(e);return n.register("authEvent",s=>(Qe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yv,{type:Yv},s=>{var i;const o=(i=s==null?void 0:s[0])==null?void 0:i[Yv];o!==void 0&&n(!!o),Lo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CM()||xM()||s1()}}const JQ=ZQ;var QE="@firebase/auth",XE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nX(t){dc(new Wi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:l}=r.options;Qe(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:i,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NM(t)},u=new DK(r,s,o,c);return zK(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dc(new Wi("auth-internal",e=>{const n=o1(e.getProvider("auth").getImmediate());return(r=>new eX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ja(QE,XE,tX(t)),ja(QE,XE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=5*60,sX=NR("authIdTokenMaxAge")||rX;let ZE=null;const oX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sX)return;const s=n==null?void 0:n.token;ZE!==s&&(ZE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aX(t=IR()){const e=hb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VK(t,{popupRedirectResolver:JQ,persistence:[uQ,ZK,RM]}),r=NR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=oX(o.toString());KK(n,i,()=>i(n.currentUser)),YK(n,l=>i(l))}}const s=_R("auth");return s&&BK(n,`http://${s}`),n}function iX(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}MK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Js("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",iX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nX("Browser");const lX={apiKey:"AIzaSyDZa2C8AZc902HNuRWS0jP2KxfFoX5npyA",authDomain:"firefly-nexus.firebaseapp.com",projectId:"firefly-nexus",storageBucket:"firefly-nexus.firebasestorage.app",messagingSenderId:"981611156212",appId:"1:981611156212:web:aa09e09bbc3995617704a1",measurementId:"G-BG7KGG32F2"},zM=PR(lX),Qr=qY(zM);aX(zM);class cX{constructor(){this.collections={clientes:"clientes",ordensServico:"ordens_servico",ordensVenda:"ordens_venda",produtos:"produtos",categorias:"categorias",movimentacoes:"movimentacoes",financeiro:"financeiro",usuarios:"usuarios",configuracoes:"configuracoes"},this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes"},this.isFirebaseAvailable=!1,this.initialized=!1,this.initPromise=this.init()}async init(){if(!this.initialized)try{await this.checkFirebaseAvailability(),this.initialized=!0,console.log("[FirebaseService] ✅ Inicialização concluída - APENAS FIREBASE")}catch(e){throw console.error("[FirebaseService] ❌ Erro na inicialização:",e),this.initialized=!1,new Error("Firebase não disponível - sistema requer Firebase")}}async checkFirebaseAvailability(){try{if(console.log("[FirebaseService] ===== VERIFICANDO FIREBASE ====="),console.log("[FirebaseService] Verificando disponibilidade do Firebase..."),console.log("[FirebaseService] db object:",Qr),!Qr)throw new Error("Firebase db não está disponível");console.log("[FirebaseService] Testando acesso à collection...");const e=li(Qr,"test_connectivity");console.log("[FirebaseService] Collection criada:",e);const n=qv(e),r=await Wv(n);console.log("[FirebaseService] Query executada com sucesso, docs encontrados:",r.size),this.isFirebaseAvailable=!0,console.log("[FirebaseService] ✅ Firebase disponível - APENAS FIREBASE"),console.log("[FirebaseService] ===== FIREBASE OK =====")}catch(e){throw console.log("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),console.log("[FirebaseService] Erro:",e.message),console.log("[FirebaseService] Stack:",e.stack),this.isFirebaseAvailable=!1,console.log("[FirebaseService] ===== FIREBASE FALHOU - SEM FALLBACK ====="),new Error(`Firebase não disponível: ${e.message}`)}}async saveData(e,n,r=null){if(console.log(`[FirebaseService] ===== SALVANDO EM ${e} - APENAS FIREBASE =====`),console.log("[FirebaseService] Dados:",n),this.initialized||(console.log("[FirebaseService] Aguardando inicialização..."),await this.initPromise),console.log("[FirebaseService] Firebase disponível:",this.isFirebaseAvailable),console.log("[FirebaseService] Inicializado:",this.initialized),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{if(r){const s=Df(Qr,e,r);return await oK(s,{...n,updatedAt:n.updatedAt||new Date().toISOString()}),console.log(`[FirebaseService] ✅ Documento ${r} atualizado com sucesso no Firebase`),r}else{const s=await iK(li(Qr,e),{...n,createdAt:n.createdAt||new Date().toISOString(),updatedAt:n.updatedAt||new Date().toISOString()});return console.log(`[FirebaseService] ✅ Novo documento criado no Firebase com ID: ${s.id}`),console.log("[FirebaseService] ===== SALVAMENTO CONCLUÍDO ====="),s.id}}catch(s){throw console.error(`[FirebaseService] ❌ Erro ao salvar dados em ${e}:`,s),new Error(`Erro ao salvar no Firebase: ${s.message}`)}}saveToLocalStorage(e,n,r=null){try{console.log(`[FirebaseService] saveToLocalStorage chamado para ${e}:`,n);const s=this.localStorageKeys[e];if(!s)throw new Error(`Chave localStorage não encontrada para ${e}`);if(console.log(`[FirebaseService] Chave localStorage: ${s}`),e==="configuracoes"){const i={...n,id:r||"config",updatedAt:new Date().toISOString()};return localStorage.setItem(s,JSON.stringify(i)),window.dispatchEvent(new Event("storage")),r||"config"}const o=JSON.parse(localStorage.getItem(s)||"[]");if(console.log(`[FirebaseService] Dados existentes em ${s}:`,o),r){const i=o.findIndex(l=>l.id===r);i!==-1&&(o[i]={...n,id:r,updatedAt:new Date().toISOString()})}else{const i=r||Date.now().toString(),l={...n,id:i,createdAt:new Date().toISOString()};o.push(l),console.log("[FirebaseService] Novo item adicionado:",l)}return console.log(`[FirebaseService] Salvando dados finais em ${s}:`,o),localStorage.setItem(s,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:s,data:o}})),console.log(`[FirebaseService] Evento localStorageChange disparado para ${s}`),r||Date.now().toString()}catch(s){throw console.error("[FirebaseService] Erro ao salvar no localStorage:",s),s}}async getData(e){if(console.log(`[FirebaseService] getData chamado para ${e}`),this.initialized||(console.log(`[FirebaseService] Aguardando inicialização para ${e}`),await this.initPromise),console.log(`[FirebaseService] Firebase disponível para ${e}: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{const n=new Promise((o,i)=>setTimeout(()=>i(new Error("Timeout")),2e3)),r=(async()=>{try{const o=qv(li(Qr,e),RE("createdAt","desc")),i=await Wv(o),l=[];return i.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] Query com orderBy funcionou para ${e}: ${l.length} documentos`),l}catch(o){console.warn(`[FirebaseService] orderBy falhou para ${e}, tentando sem orderBy:`,o.message);const i=li(Qr,e),l=await Wv(i),c=[];return l.forEach(u=>{c.push({id:u.id,...u.data()})}),console.log(`[FirebaseService] Query sem orderBy funcionou para ${e}: ${c.length} documentos`),c}})(),s=await Promise.race([r,n]);return console.log(`[FirebaseService] Dados carregados do Firebase para ${e}:`,s.length),s}catch(n){throw console.error(`[FirebaseService] ❌ Erro ao buscar dados de ${e}:`,n),new Error(`Erro ao buscar no Firebase: ${n.message}`)}}getFromLocalStorage(e){try{const n=this.localStorageKeys[e];if(!n)return console.warn(`Chave localStorage não encontrada para ${e}`),e==="configuracoes"?null:[];console.log(`[FirebaseService] getFromLocalStorage para ${e}, chave: ${n}`);const r=localStorage.getItem(n);console.log("[FirebaseService] Dados brutos do localStorage:",r);const s=JSON.parse(r||(e==="configuracoes"?"null":"[]"));if(console.log("[FirebaseService] Dados parseados:",s),e==="configuracoes")return s;const o=Array.isArray(s)?s:[];return console.log(`[FirebaseService] Retornando array para ${e}:`,o),o}catch(n){return console.error("[FirebaseService] Erro ao buscar do localStorage:",n),e==="configuracoes"?null:[]}}async getDocument(e,n){try{const r=Df(Qr,e,n),s=await sK(r);return s.exists()?{id:s.id,...s.data()}:null}catch(r){return console.error(`Erro ao buscar documento ${n} de ${e}:`,r),null}}async deleteDocument(e,n){if(console.log(`[FirebaseService] ===== DELETANDO DOCUMENTO ${n} DE ${e} - APENAS FIREBASE =====`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{return await aK(Df(Qr,e,n)),console.log(`[FirebaseService] ✅ Documento ${n} deletado com sucesso do Firebase`),!0}catch(r){throw console.error(`[FirebaseService] ❌ Erro ao deletar documento ${n} de ${e}:`,r),new Error(`Erro ao deletar no Firebase: ${r.message}`)}}deleteFromLocalStorage(e,n){try{const r=this.localStorageKeys[e];if(!r)return console.warn(`Chave localStorage não encontrada para ${e}`),!1;const o=JSON.parse(localStorage.getItem(r)||"[]").filter(i=>i.id!==n);return localStorage.setItem(r,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:r,data:o}})),!0}catch(r){return console.error("[FirebaseService] Erro ao deletar do localStorage:",r),!1}}async subscribeToCollection(e,n){if(console.log(`[FirebaseService] ===== SUBSCRIBE TO COLLECTION ${e} =====`),this.initialized||(console.log(`[FirebaseService] Aguardando inicialização para ${e}`),await this.initPromise),console.log(`[FirebaseService] subscribeToCollection para ${e}, Firebase disponível: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");console.log(`[FirebaseService] Firebase disponível, configurando onSnapshot para ${e}`);try{const r=qv(li(Qr,e),RE("createdAt","desc"));return Hv(r,s=>{const o=[];s.forEach(i=>{o.push({id:i.id,...i.data()})}),console.log(`[FirebaseService] onSnapshot recebido para ${e}:`,o),n(o)},s=>{console.error(`[FirebaseService] Erro no onSnapshot com orderBy para ${e}:`,s),console.log(`[FirebaseService] Tentando sem orderBy para ${e}`);const o=li(Qr,e);return Hv(o,i=>{const l=[];i.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] onSnapshot sem orderBy recebido para ${e}:`,l),n(l)},i=>{throw console.error(`[FirebaseService] ❌ Erro no onSnapshot sem orderBy para ${e}:`,i),new Error(`Erro no onSnapshot: ${i.message}`)})})}catch(r){console.error(`[FirebaseService] Erro ao criar query com orderBy para ${e}:`,r);const s=li(Qr,e);return Hv(s,o=>{const i=[];o.forEach(l=>{i.push({id:l.id,...l.data()})}),console.log(`[FirebaseService] onSnapshot simples recebido para ${e}:`,i),n(i)},o=>{throw console.error(`[FirebaseService] ❌ Erro no onSnapshot simples para ${e}:`,o),new Error(`Erro no onSnapshot simples: ${o.message}`)})}}async saveCliente(e,n=null){return await this.saveData(this.collections.clientes,e,n)}async getClientes(){return await this.getData(this.collections.clientes)}async deleteCliente(e){return await this.deleteDocument(this.collections.clientes,e)}subscribeToClientes(e){return this.subscribeToCollection(this.collections.clientes,e)}async saveOS(e,n=null){return await this.saveData(this.collections.ordensServico,e,n)}async getOS(){return await this.getData(this.collections.ordensServico)}async deleteOS(e){return await this.deleteDocument(this.collections.ordensServico,e)}subscribeToOS(e){return this.subscribeToCollection(this.collections.ordensServico,e)}async saveOV(e,n=null){return await this.saveData(this.collections.ordensVenda,e,n)}async getOV(){return await this.getData(this.collections.ordensVenda)}async deleteOV(e){return await this.deleteDocument(this.collections.ordensVenda,e)}subscribeToOV(e){return this.subscribeToCollection(this.collections.ordensVenda,e)}async saveProduto(e,n=null){return await this.saveData(this.collections.produtos,e,n)}async getProdutos(){return await this.getData(this.collections.produtos)}async deleteProduto(e){return await this.deleteDocument(this.collections.produtos,e)}subscribeToProdutos(e){return this.subscribeToCollection(this.collections.produtos,e)}async saveCategoria(e,n=null){return await this.saveData(this.collections.categorias,e,n)}async getCategorias(){return await this.getData(this.collections.categorias)}async deleteCategoria(e){return await this.deleteDocument(this.collections.categorias,e)}subscribeToCategorias(e){return this.subscribeToCollection(this.collections.categorias,e)}async saveMovimentacao(e,n=null){return await this.saveData(this.collections.movimentacoes,e,n)}async getMovimentacoes(){return await this.getData(this.collections.movimentacoes)}async deleteMovimentacao(e){return await this.deleteDocument(this.collections.movimentacoes,e)}subscribeToMovimentacoes(e){return this.subscribeToCollection(this.collections.movimentacoes,e)}async saveFinanceiro(e,n=null){return await this.saveData(this.collections.financeiro,e,n)}async getFinanceiro(){return await this.getData(this.collections.financeiro)}async deleteFinanceiro(e){return await this.deleteDocument(this.collections.financeiro,e)}subscribeToFinanceiro(e){return this.subscribeToCollection(this.collections.financeiro,e)}async saveUsuario(e,n=null){return await this.saveData(this.collections.usuarios,e,n)}async getUsuarios(){return await this.getData(this.collections.usuarios)}async deleteUsuario(e){return await this.deleteDocument(this.collections.usuarios,e)}subscribeToUsuarios(e){return this.subscribeToCollection(this.collections.usuarios,e)}async saveConfiguracao(e,n=null){try{if(console.log("[FirebaseService] 🚀 Salvando configuração:",e),!n)try{const s=await this.getData(this.collections.configuracoes);s.length>0?(n=s[0].id,console.log("[FirebaseService] ✅ Configuração existente encontrada, ID:",n)):console.log("[FirebaseService] 📝 Criando nova configuração")}catch(s){console.warn("[FirebaseService] ⚠️ Erro ao buscar configuração existente:",s)}const r=await this.saveData(this.collections.configuracoes,e,n);return localStorage.removeItem("crm_config_cache"),console.log("[FirebaseService] ✅ Configuração salva com sucesso:",r),r}catch(r){console.error("[FirebaseService] ❌ Erro ao salvar configuração:",r);try{return localStorage.setItem("crm_configuracoes",JSON.stringify(e)),localStorage.setItem("crm_idioma",e.idioma||"pt-BR"),console.log("[FirebaseService] ✅ Fallback: Configuração salva no localStorage"),"localStorage"}catch(s){throw console.error("[FirebaseService] ❌ Erro no fallback localStorage:",s),r}}}async getConfiguracao(){const e=localStorage.getItem("crm_config_cache");if(e)try{const s=JSON.parse(e),o=s.timestamp;if(Date.now()-o<5*60*1e3)return console.log("[FirebaseService] Usando configuração do cache"),s.config}catch(s){console.warn("[FirebaseService] Erro ao ler cache de configuração:",s)}const n=await this.getData(this.collections.configuracoes),r=n.length>0?n[0]:null;return r&&localStorage.setItem("crm_config_cache",JSON.stringify({config:r,timestamp:Date.now()})),r}async migrateFromLocalStorage(){console.log("Iniciando migração do localStorage para Firebase...");const e=[{key:"crm_clientes",collection:this.collections.clientes},{key:"crm_os",collection:this.collections.ordensServico},{key:"crm_ov",collection:this.collections.ordensVenda},{key:"crm_produtos",collection:this.collections.produtos},{key:"crm_categorias",collection:this.collections.categorias},{key:"crm_movimentacoes",collection:this.collections.movimentacoes},{key:"crm_financeiro",collection:this.collections.financeiro},{key:"crm_usuarios",collection:this.collections.usuarios}];for(const n of e)try{const r=JSON.parse(localStorage.getItem(n.key)||"[]");if(Array.isArray(r)&&r.length>0){console.log(`Migrando ${r.length} itens de ${n.key}...`);for(const s of r){const{id:o,...i}=s;await this.saveData(n.collection,i)}console.log(`Migração de ${n.key} concluída!`)}}catch(r){console.error(`Erro ao migrar ${n.key}:`,r)}try{const n=localStorage.getItem("crm_configuracoes");if(n){const r=JSON.parse(n);await this.saveConfiguracao(r),console.log("Configurações migradas!")}}catch(n){console.error("Erro ao migrar configurações:",n)}console.log("Migração concluída!")}}const lt=new cX,ei=(t,e={})=>{const[n,r]=g.useState([]),[s,o]=g.useState(!0),[i,l]=g.useState(null),{enableRealtime:c=!0,onError:u=null}=e;return g.useEffect(()=>{let m=null,p=0;const y=3,x=async()=>{try{if(o(!0),l(null),console.log(`[useFirebaseData] ===== INÍCIO CARREGAMENTO ${t} =====`),console.log(`[useFirebaseData] enableRealtime: ${c}`),console.log(`[useFirebaseData] Tentativa ${p+1}/${y+1}`),!lt.isFirebaseAvailable){console.log("[useFirebaseData] Firebase não disponível, tentando inicializar...");try{await lt.init(),console.log("[useFirebaseData] ✅ Firebase inicializado com sucesso")}catch(_){throw console.error("[useFirebaseData] ❌ Erro na inicialização do Firebase:",_),_}}if(c){console.log(`[useFirebaseData] Configurando escuta em tempo real para ${t}`);try{m=await lt.subscribeToCollection(t,_=>{console.log(`[useFirebaseData] ✅ Dados recebidos de ${t}:`,_),console.log("[useFirebaseData] Tipo dos dados:",typeof _,Array.isArray(_)),r(Array.isArray(_)?_:[]),o(!1)}),console.log(`[useFirebaseData] ✅ Escuta configurada com sucesso para ${t}`)}catch(_){console.error(`[useFirebaseData] ❌ Erro ao configurar escuta para ${t}:`,_),console.log("[useFirebaseData] Tentando carregamento único como fallback...");const S=await lt.getData(t);console.log(`[useFirebaseData] Dados carregados (fallback) de ${t}:`,S),r(Array.isArray(S)?S:[]),o(!1)}}else{console.log(`[useFirebaseData] Carregando dados uma única vez para ${t}`);const _=await lt.getData(t);console.log(`[useFirebaseData] Dados carregados de ${t}:`,_),console.log("[useFirebaseData] Tipo dos dados:",typeof _,Array.isArray(_)),r(Array.isArray(_)?_:[]),o(!1)}console.log(`[useFirebaseData] ===== FIM CARREGAMENTO ${t} =====`)}catch(_){if(console.error(`[useFirebaseData] ❌ ERRO CRÍTICO ao carregar dados de ${t}:`,_),console.error("[useFirebaseData] Stack trace:",_.stack),p<y){p++,console.log(`[useFirebaseData] Tentando novamente em 2 segundos... (${p}/${y})`),setTimeout(()=>{x()},2e3);return}l(_),o(!1),r([]),u&&u(_)}};return x(),()=>{m&&m()}},[t,c,u]),{data:n,loading:s,error:i,save:async(m,p=null)=>{try{console.log(`[useFirebaseData] Salvando item em ${t}:`,m);const y=await lt.saveData(t,m,p);return console.log(`[useFirebaseData] Item salvo com sucesso em ${t}:`,y),y}catch(y){throw console.error(`[useFirebaseData] Erro ao salvar em ${t}:`,y),l(y),y}},remove:async m=>{try{console.log(`[useFirebaseData] Removendo item ${m} de ${t}`);const p=await lt.deleteDocument(t,m);return console.log(`[useFirebaseData] Item removido com sucesso de ${t}`),p}catch(p){throw console.error(`[useFirebaseData] Erro ao deletar de ${t}:`,p),l(p),p}},refresh:()=>{o(!0),lt.getData(t).then(r).finally(()=>o(!1))}}},Fc=()=>ei("clientes"),ug=()=>ei("ordens_servico"),nh=()=>ei("ordens_venda"),rh=()=>ei("produtos"),sh=()=>ei("categorias"),c1=()=>ei("movimentacoes"),oh=()=>ei("financeiro"),u1=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0),console.log("[useConfiguracoesLoja] Carregando configurações da loja...");const c=await lt.getData("configuracoes_loja");console.log("[useConfiguracoesLoja] Configurações carregadas:",c),!c||c.length===0?e({nomeEmpresa:"MultiSmart",descricao:"Manutenção e Comércio de Celulares e Tablets",endereco:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""}):e(c[0]),r(!1)}catch(c){console.error("[useConfiguracoesLoja] Erro ao carregar configurações:",c),o(c),r(!1),e({nomeEmpresa:"MultiSmart",descricao:"Manutenção e Comércio de Celulares e Tablets",endereco:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""})}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{if(console.log("[useConfiguracoesLoja] Salvando configurações:",l),t&&t.id){const c=await lt.saveData("configuracoes_loja",l,t.id);return e({...l,id:t.id}),c}else{const c=await lt.saveData("configuracoes_loja",l);return e({...l,id:c.id}),c}}catch(c){throw console.error("[useConfiguracoesLoja] Erro ao salvar configurações:",c),o(c),c}}}},Vc=()=>{const t=ei("usuarios");console.log("[useUsuarios] Hook result completo:",t),console.log("[useUsuarios] result.data:",t.data),console.log("[useUsuarios] result.loading:",t.loading),console.log("[useUsuarios] result.error:",t.error);const e=Array.isArray(t.data)?t.data:[];return console.log("[useUsuarios] usuarios finais:",e),{...t,usuarios:e,saveUsuario:t.save}},d1=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0);const c=new Promise((f,m)=>setTimeout(()=>m(new Error("Timeout")),500)),u=lt.getConfiguracao(),d=await Promise.race([u,c]);e(d),r(!1),console.log("[useConfiguracao] Configuração carregada:",d)}catch(c){console.warn("[useConfiguracao] Erro ao carregar configuração, usando padrão:",c.message),e({nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"}),o(c),r(!1)}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{const c=await lt.saveConfiguracao(l);return e(l),c}catch(c){throw console.error("Erro ao salvar configuração:",c),o(c),c}}}},uX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(Pr),{data:r,loading:s,save:o,remove:i}=Fc(),{data:l}=nh(),[c,u]=g.useState(""),[d,f]=g.useState(null),[m,p]=g.useState(null),[y,x]=g.useState("grid"),[_,S]=g.useState("nome"),[v,b]=g.useState("asc"),[T,R]=g.useState("todos"),[L,C]=g.useState(!0),[N,P]=g.useState(!1),[I,k]=g.useState("basico"),[j,A]=g.useState({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),{toast:F}=kr(),G=(H=null)=>{var ie,ue,_e,Be,at,z;H?(f(H),A({nome:H.nome||"",telefone:H.telefone||"",email:H.email||"",endereco:H.endereco||"",observacoes:H.observacoes||"",categoria:H.categoria||"cliente",dataNascimento:H.dataNascimento||"",cpf:H.cpf||"",empresa:H.empresa||"",website:H.website||"",foto:H.foto||null,redesSociais:{instagram:((ie=H.redesSociais)==null?void 0:ie.instagram)||"",facebook:((ue=H.redesSociais)==null?void 0:ue.facebook)||"",linkedin:((_e=H.redesSociais)==null?void 0:_e.linkedin)||""},preferencias:{formaContato:((Be=H.preferencias)==null?void 0:Be.formaContato)||"telefone",horarioContato:((at=H.preferencias)==null?void 0:at.horarioContato)||"comercial",newsletter:((z=H.preferencias)==null?void 0:z.newsletter)||!1}}),console.log("[Clientes] Editando cliente:",H)):(f(null),A({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),console.log("[Clientes] Novo cliente, formulário limpo")),e("clientes"),console.log("[Clientes] Dialog de cliente aberto")},Y=()=>{n("clientes"),console.log("[Clientes] Dialog de cliente fechado")},q=async H=>{if(H.preventDefault(),console.log("[Clientes] Submissão do formulário de cliente:",j,d),!j.nome){F({title:"Campo obrigatório",description:"Nome é obrigatório!",variant:"destructive"});return}if(!j.telefone){F({title:"Campo obrigatório",description:"Telefone é obrigatório! Navegando para aba de contato...",variant:"destructive"}),k("contato");return}try{const ie={...j,createdAt:d?d.createdAt:new Date().toISOString()};await o(ie,d==null?void 0:d.id),d?(console.log("[Clientes] Cliente atualizado:",ie),F({title:"Sucesso!",description:"Cliente atualizado com sucesso!"})):(console.log("[Clientes] Cliente cadastrado:",ie),F({title:"Sucesso!",description:"Cliente cadastrado com sucesso!"})),Y()}catch(ie){console.error("[Clientes] Erro ao salvar cliente:",ie),F({title:"Erro",description:"Erro ao salvar cliente. Tente novamente.",variant:"destructive"})}},O=async H=>{try{await i(H),console.log("[Clientes] Cliente removido:",H),F({title:"Sucesso!",description:"Cliente removido com sucesso!"})}catch(ie){console.error("[Clientes] Erro ao remover cliente:",ie),F({title:"Erro",description:"Erro ao remover cliente. Tente novamente.",variant:"destructive"})}},V=H=>{const ie=l.filter(at=>at.clienteId===H.id),ue=ie.length,_e=ie.reduce((at,z)=>at+(z.total||0),0),Be=ie.length>0?new Date(Math.max(...ie.map(at=>new Date(at.createdAt)))):null;return{totalCompras:ue,totalGasto:_e,ultimaCompra:Be,ticketMedio:ue>0?_e/ue:0,status:ue===0?"novo":_e>1e3?"vip":Be&&Date.now()-Be.getTime()<30*24*60*60*1e3?"ativo":"inativo"}},Q=()=>{const H=r.length,ie=r.filter(Be=>l.some(at=>at.clienteId===Be.id)).length,ue=r.filter(Be=>{const at=new Date(Be.createdAt);return Date.now()-at.getTime()<30*24*60*60*1e3}).length,_e=r.filter(Be=>V(Be).status==="vip").length;return{total:H,comCompras:ie,novos:ue,vip:_e}},Z=r.filter(H=>{const ie=H.nome.toLowerCase().includes(c.toLowerCase())||H.telefone.includes(c)||H.email&&H.email.toLowerCase().includes(c.toLowerCase()),ue=V(H),_e=T==="todos"||T==="vip"&&ue.status==="vip"||T==="novos"&&ue.totalCompras===0||T==="ativos"&&ue.status==="ativo"||T==="inativos"&&ue.status==="inativo";return ie&&_e}).sort((H,ie)=>{let ue=0;switch(_){case"nome":ue=H.nome.localeCompare(ie.nome);break;case"data":ue=new Date(H.createdAt)-new Date(ie.createdAt);break;case"compras":ue=V(H).totalCompras-V(ie).totalCompras;break;case"gasto":ue=V(H).totalGasto-V(ie).totalGasto;break;default:ue=H.nome.localeCompare(ie.nome)}return v==="asc"?ue:-ue}),U=H=>{navigator.clipboard.writeText(H),F({title:"Copiado!",description:"Informação copiada para a área de transferência"})},pe=H=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(H),ce=H=>{const ie=H[0];if(!ie)return;if(!ie.type.startsWith("image/")){F({title:"Tipo de arquivo inválido!",description:"Por favor, selecione apenas imagens.",variant:"destructive"});return}if(ie.size>2*1024*1024){F({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 2MB.",variant:"destructive"});return}const ue=new FileReader;ue.onload=()=>{const _e=new Image;_e.onload=()=>{const Be=document.createElement("canvas"),at=Be.getContext("2d");let{width:z,height:fe}=_e;const qe=1e3;z>fe?z>qe&&(fe=fe*qe/z,z=qe):fe>qe&&(z=z*qe/fe,fe=qe),Be.width=z,Be.height=fe,at.drawImage(_e,0,0,z,fe);const Ae=Be.toDataURL("image/jpeg",.9);A(Me=>({...Me,foto:Ae})),F({title:"Foto adicionada!",description:"Foto do cliente carregada com sucesso."})},_e.src=ue.result},ue.onerror=()=>{F({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},ue.readAsDataURL(ie)},{getRootProps:Ne,getInputProps:De,isDragActive:Se}=cb({onDrop:ce,accept:{"image/*":[]},multiple:!1}),Ie=()=>{A(H=>({...H,foto:null})),F({title:"Foto removida!",description:"Foto do cliente removida com sucesso."})},ze=Q();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-6 text-white",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",children:"👥 Clientes"}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie sua base de clientes com inteligência"})]}),a.jsx(me.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(_n,{open:t.clientes,onOpenChange:Y,children:[a.jsxs(X,{onClick:()=>G(),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 text-white",size:"lg",children:[a.jsx(bu,{className:"h-5 w-5 mr-2"}),"Novo Cliente"]}),a.jsxs(an,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ln,{children:[a.jsxs(cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(bu,{className:"h-6 w-6 text-blue-500"}),d?"Editar Cliente":"Novo Cliente"]}),a.jsx(Vp,{children:"Preencha as informações do cliente. Campos obrigatórios marcados com *."})]}),a.jsxs("form",{onSubmit:q,className:"space-y-6",children:[a.jsxs(Oa,{value:I,onValueChange:k,className:"w-full",children:[a.jsxs(La,{className:"grid w-full grid-cols-1 sm:grid-cols-3 max-w-full",children:[a.jsx(wn,{value:"basico",children:"Básico"}),a.jsx(wn,{value:"contato",children:"Contato"}),a.jsx(wn,{value:"preferencias",children:"Preferências"})]}),a.jsxs(bn,{value:"basico",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx(J,{className:"text-sm font-medium",children:"Foto do Cliente"}),j.foto?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:j.foto,alt:"Foto do cliente",className:"w-32 h-32 rounded-full object-cover border-4 border-slate-200 dark:border-slate-700 shadow-lg"}),a.jsx(X,{type:"button",variant:"destructive",size:"icon",onClick:Ie,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full",children:a.jsx(jr,{className:"h-3 w-3"})})]}):a.jsxs("div",{...Ne(),className:`w-32 h-32 border-2 border-dashed rounded-full flex flex-col items-center justify-center cursor-pointer transition-all duration-200 ${Se?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[a.jsx("input",{...De()}),a.jsx(ji,{className:"h-8 w-8 text-slate-400 mb-2"}),a.jsx("p",{className:"text-xs text-slate-500 text-center px-2",children:Se?"🎯 Solte a foto aqui":"📷 Arraste uma foto ou clique para selecionar"})]}),a.jsx("p",{className:"text-xs text-slate-500 text-center",children:"PNG, JPG até 2MB • Redimensionada para 1000x1000px"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-full",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"nome",children:"Nome Completo *"}),a.jsx(xe,{id:"nome",value:j.nome,onChange:H=>A({...j,nome:H.target.value}),placeholder:"João Silva",required:!0})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"categoria",children:"Categoria"}),a.jsxs(vt,{value:j.categoria,onValueChange:H=>A({...j,categoria:H}),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"cliente",children:"Cliente"}),a.jsx(se,{value:"fornecedor",children:"Fornecedor"}),a.jsx(se,{value:"parceiro",children:"Parceiro"}),a.jsx(se,{value:"vip",children:"VIP"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-full",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"cpf",children:"CPF"}),a.jsx(xe,{id:"cpf",value:j.cpf,onChange:H=>A({...j,cpf:H.target.value}),placeholder:"000.000.000-00"})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),a.jsx(xe,{id:"dataNascimento",type:"date",value:j.dataNascimento,onChange:H=>A({...j,dataNascimento:H.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"empresa",children:"Empresa"}),a.jsx(xe,{id:"empresa",value:j.empresa,onChange:H=>A({...j,empresa:H.target.value}),placeholder:"Nome da empresa"})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"observacoes",children:"Observações"}),a.jsx(xd,{id:"observacoes",value:j.observacoes,onChange:H=>A({...j,observacoes:H.target.value}),placeholder:"Informações adicionais sobre o cliente",rows:3})]})]}),a.jsxs(bn,{value:"contato",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-full",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"telefone",children:"Telefone *"}),a.jsx(xe,{id:"telefone",value:j.telefone,onChange:H=>A({...j,telefone:H.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"email",children:"E-mail"}),a.jsx(xe,{id:"email",type:"email",value:j.email,onChange:H=>A({...j,email:H.target.value}),placeholder:"email@exemplo.com"})]})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"endereco",children:"Endereço"}),a.jsx(xd,{id:"endereco",value:j.endereco,onChange:H=>A({...j,endereco:H.target.value}),placeholder:"Endereço completo",rows:2})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"website",children:"Website"}),a.jsx(xe,{id:"website",value:j.website,onChange:H=>A({...j,website:H.target.value}),placeholder:"https://exemplo.com"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(J,{children:"Redes Sociais"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 w-full max-w-full",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"instagram",className:"text-sm",children:"Instagram"}),a.jsx(xe,{id:"instagram",value:j.redesSociais.instagram,onChange:H=>A({...j,redesSociais:{...j.redesSociais,instagram:H.target.value}}),placeholder:"@usuario"})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"facebook",className:"text-sm",children:"Facebook"}),a.jsx(xe,{id:"facebook",value:j.redesSociais.facebook,onChange:H=>A({...j,redesSociais:{...j.redesSociais,facebook:H.target.value}}),placeholder:"facebook.com/usuario"})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"linkedin",className:"text-sm",children:"LinkedIn"}),a.jsx(xe,{id:"linkedin",value:j.redesSociais.linkedin,onChange:H=>A({...j,redesSociais:{...j.redesSociais,linkedin:H.target.value}}),placeholder:"linkedin.com/in/usuario"})]})]})]})]}),a.jsxs(bn,{value:"preferencias",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-full",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"formaContato",children:"Forma de Contato Preferida"}),a.jsxs(vt,{value:j.preferencias.formaContato,onValueChange:H=>A({...j,preferencias:{...j.preferencias,formaContato:H}}),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"telefone",children:"Telefone"}),a.jsx(se,{value:"email",children:"E-mail"}),a.jsx(se,{value:"whatsapp",children:"WhatsApp"}),a.jsx(se,{value:"instagram",children:"Instagram"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"horarioContato",children:"Horário de Contato"}),a.jsxs(vt,{value:j.preferencias.horarioContato,onValueChange:H=>A({...j,preferencias:{...j.preferencias,horarioContato:H}}),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"comercial",children:"Comercial (9h-18h)"}),a.jsx(se,{value:"manha",children:"Manhã (6h-12h)"}),a.jsx(se,{value:"tarde",children:"Tarde (12h-18h)"}),a.jsx(se,{value:"noite",children:"Noite (18h-22h)"}),a.jsx(se,{value:"livre",children:"Qualquer horário"})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"newsletter",checked:j.preferencias.newsletter,onChange:H=>A({...j,preferencias:{...j.preferencias,newsletter:H.target.checked}}),className:"rounded"}),a.jsx(J,{htmlFor:"newsletter",children:"Receber newsletter e promoções"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(X,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 w-full max-w-full",children:d?"Atualizar Cliente":"Cadastrar Cliente"}),a.jsx(X,{type:"button",variant:"outline",onClick:Y,children:"Cancelar"})]})]})]})]})})]}),L&&a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-6 w-full max-w-full",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(os,{className:"h-5 w-5 text-blue-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Total"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:ze.total})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(gr,{className:"h-5 w-5 text-green-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Compraram"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:ze.comCompras})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(Nf,{className:"h-5 w-5 text-yellow-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"VIP"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:ze.vip})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(bu,{className:"h-5 w-5 text-purple-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Novos"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:ze.novos})]})]})})]})]}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(xe,{placeholder:"Buscar clientes...",value:c,onChange:H=>u(H.target.value),className:"pl-10"})]}),a.jsxs(vt,{value:T,onValueChange:R,children:[a.jsxs(ft,{className:"w-full sm:w-40",children:[a.jsx(Mw,{className:"h-4 w-4 mr-2"}),a.jsx(xt,{})]}),a.jsxs(mt,{children:[a.jsx(se,{value:"todos",children:"Todos"}),a.jsx(se,{value:"vip",children:"VIP"}),a.jsx(se,{value:"novos",children:"Novos"}),a.jsx(se,{value:"ativos",children:"Ativos"}),a.jsx(se,{value:"inativos",children:"Inativos"})]})]}),a.jsxs(vt,{value:_,onValueChange:S,children:[a.jsxs(ft,{className:"w-full sm:w-40",children:[a.jsx(yn,{className:"h-4 w-4 mr-2"}),a.jsx(xt,{})]}),a.jsxs(mt,{children:[a.jsx(se,{value:"nome",children:"Nome"}),a.jsx(se,{value:"data",children:"Data"}),a.jsx(se,{value:"compras",children:"Compras"}),a.jsx(se,{value:"gasto",children:"Gasto"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:v==="asc"?"default":"outline",size:"sm",onClick:()=>b(v==="asc"?"desc":"asc"),children:v==="asc"?a.jsx(F9,{className:"h-4 w-4"}):a.jsx(O9,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex border border-slate-200 dark:border-slate-700 rounded-lg",children:[a.jsx(X,{variant:y==="grid"?"default":"ghost",size:"sm",onClick:()=>x("grid"),className:"rounded-r-none",children:a.jsx(yn,{className:"h-4 w-4"})}),a.jsx(X,{variant:y==="list"?"default":"ghost",size:"sm",onClick:()=>x("list"),className:"rounded-l-none",children:a.jsx(os,{className:"h-4 w-4"})})]})]})]})}),a.jsx(wm,{mode:"wait",children:s?a.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Carregando clientes..."})]}):a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-full":"space-y-4",children:Z.map((H,ie)=>{const ue=V(H),_e={novo:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",vip:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"};return y==="grid"?a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ie*.05},whileHover:{y:-5},className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[H.foto?a.jsx("img",{src:H.foto,alt:H.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:H.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-lg group-hover:text-blue-600 transition-colors",children:H.nome}),a.jsx(yr,{className:_e[ue.status],children:ue.status==="novo"?"Novo":ue.status==="vip"?"VIP":ue.status==="ativo"?"Ativo":"Inativo"})]})]}),a.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{p(H),P(!0)},className:"h-8 w-8",children:a.jsx(ql,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>G(H),className:"h-8 w-8",children:a.jsx(rs,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>O(H.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(ss,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[a.jsx(ki,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:H.telefone}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>U(H.telefone),className:"h-6 w-6 ml-auto",children:a.jsx(Bh,{className:"h-3 w-3"})})]}),H.email&&a.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[a.jsx(Ti,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm truncate",children:H.email}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>U(H.email),className:"h-6 w-6 ml-auto",children:a.jsx(Bh,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-slate-200 dark:border-slate-700 w-full max-w-full",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ue.totalCompras}),a.jsx("p",{className:"text-xs text-slate-500",children:"Compras"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:pe(ue.totalGasto)}),a.jsx("p",{className:"text-xs text-slate-500",children:"Total Gasto"})]})]})]})]},H.id):a.jsx(me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:ie*.05},className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[H.foto?a.jsx("img",{src:H.foto,alt:H.nome,className:"w-10 h-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:H.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:H.nome}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(ki,{className:"h-3 w-3"}),H.telefone,H.email&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsx(Ti,{className:"h-3 w-3"}),H.email]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium",children:[ue.totalCompras," compras"]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:pe(ue.totalGasto)})]}),a.jsx(yr,{className:_e[ue.status],children:ue.status==="novo"?"Novo":ue.status==="vip"?"VIP":ue.status==="ativo"?"Ativo":"Inativo"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{p(H),P(!0)},className:"h-8 w-8",children:a.jsx(ql,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>G(H),className:"h-8 w-8",children:a.jsx(rs,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>O(H.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(ss,{className:"h-4 w-4"})})]})]})]})},H.id)})},y)}),!s&&Z.length===0&&a.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(os,{className:"h-12 w-12 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:c?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:c?"Tente buscar com outros termos":"Comece cadastrando seu primeiro cliente"}),!c&&a.jsxs(X,{onClick:()=>G(),className:"bg-gradient-to-r from-blue-600 to-purple-600 w-full max-w-full",children:[a.jsx(bu,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Cliente"]})]}),a.jsx(_n,{open:N,onOpenChange:P,children:a.jsx(an,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:m&&a.jsxs(a.Fragment,{children:[a.jsx(ln,{children:a.jsxs(cn,{className:"text-2xl font-bold flex items-center gap-3",children:[m.foto?a.jsx("img",{src:m.foto,alt:m.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:m.nome.charAt(0).toUpperCase()}),m.nome]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-full",children:[a.jsxs(gn,{children:[a.jsx(Tn,{className:"pb-3",children:a.jsxs(kn,{className:"text-lg flex items-center gap-2",children:[a.jsx(gr,{className:"h-5 w-5 text-blue-500"}),"Compras"]})}),a.jsxs(vn,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:V(m).totalCompras}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total de compras realizadas"})]})]}),a.jsxs(gn,{children:[a.jsx(Tn,{className:"pb-3",children:a.jsxs(kn,{className:"text-lg flex items-center gap-2",children:[a.jsx(er,{className:"h-5 w-5 text-green-500"}),"Total Gasto"]})}),a.jsxs(vn,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:pe(V(m).totalGasto)}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor total gasto"})]})]})]}),a.jsxs(gn,{children:[a.jsx(Tn,{children:a.jsxs(kn,{className:"text-lg flex items-center gap-2",children:[a.jsx(ur,{className:"h-5 w-5 text-purple-500"}),"Informações de Contato"]})}),a.jsxs(vn,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ki,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:m.telefone}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>U(m.telefone),className:"h-6 w-6 ml-auto",children:a.jsx(Bh,{className:"h-3 w-3"})})]}),m.email&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ti,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:m.email}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>U(m.email),className:"h-6 w-6 ml-auto",children:a.jsx(Bh,{className:"h-3 w-3"})})]}),m.endereco&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sm,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:m.endereco})]})]})]})]})]})})})]})},dX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(Pr),{data:r,loading:s,save:o,remove:i}=ug(),{data:l}=Fc(),{save:c}=oh(),[u,d]=g.useState(""),[f,m]=g.useState([]),[p,y]=g.useState(!1),{config:x}=u1(),[_,S]=g.useState(""),[v,b]=g.useState("Todos"),[T,R]=g.useState("grid"),[L,C]=g.useState(null),[N,P]=g.useState({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),{toast:I}=kr();console.log("[OS] ===== DADOS CARREGADOS ====="),console.log("[OS] Ordens:",r),console.log("[OS] Clientes:",l),console.log("[OS] Loading:",s);const k=(U=null)=>{U?(C(U),P({...U,valor:U.valor?U.valor.toString():""}),console.log("[OS] Editando OS:",U)):(C(null),P({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),console.log("[OS] Nova OS, formulário limpo")),e("os"),console.log("[OS] Dialog de OS aberto")},j=()=>{n("os"),console.log("[OS] Dialog de OS fechado")},A=async(U,pe)=>{try{if(pe==="add"){const ce={descricao:`Recebimento da OS: ${U.numero}`,valor:parseFloat(U.valor),dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`os-${U.id}`};await c(ce),console.log("[OS] ✅ Entrada financeira criada:",ce)}}catch(ce){console.error("[OS] ❌ Erro ao atualizar financeiro:",ce)}},F=async U=>{if(U.preventDefault(),!N.clienteNome||!N.clienteTelefone||!N.titulo||!N.senha||!N.valor){I({title:"Erro",description:"Todos os campos obrigatórios devem ser preenchidos!",variant:"destructive"});return}try{const pe={numero:L?L.numero:`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,...N,valor:parseFloat(N.valor),createdAt:L?L.createdAt:new Date().toISOString()};await o(pe,L==null?void 0:L.id),I(L?{title:"Sucesso!",description:"OS atualizada com sucesso!"}:{title:"Sucesso!",description:"OS criada com sucesso!"}),pe.status==="Concluída"?await A(pe,"add"):await A(pe,"remove"),P({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),C(null),j()}catch(pe){console.error("[OS] ❌ Erro ao salvar OS:",pe),I({title:"Erro",description:"Erro ao salvar ordem de serviço. Tente novamente.",variant:"destructive"})}},G=async U=>{try{const pe=r==null?void 0:r.find(ce=>ce.id===U);pe&&await A(pe,"remove"),await i(U),I({title:"Sucesso!",description:"OS removida com sucesso!"})}catch(pe){console.error("[OS] ❌ Erro ao remover OS:",pe),I({title:"Erro",description:"Erro ao remover ordem de serviço. Tente novamente.",variant:"destructive"})}},Y=U=>{const pe=new Date().toLocaleDateString("pt-BR"),ce=U.numero||`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,Ne=x||{},De=Ne.nomeEmpresa||"MultiSmart",Se=Ne.descricao||"Manutenção e Comércio de Celulares e Tablets",Ie=Ne.endereco||"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",ze=Ne.cnpj||"47.309.271/0001-97",H=Ne.telefone||"(17)3345-1016",ie=Ne.whatsapp||"(17)99157-1263",ue=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Ordem de Serviço - ${ce}</title>
          <meta charset="UTF-8">
          <style>
            @page {
              size: A4;
              margin: 0.5cm;
            }
            
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 0;
              color: #000; 
              font-size: 12px;
              line-height: 1.3;
            }
            
            .page {
              width: 21cm;
              height: 29.7cm;
              page-break-after: always;
              position: relative;
              border: 1px solid #ccc;
              box-sizing: border-box;
            }
            
            .page:last-child {
              page-break-after: avoid;
            }
            
            .cut-line {
              border-top: 2px dashed #000;
              margin: 14.85cm 0;
              position: relative;
            }
            
            .cut-line::before {
              content: "CORTE AQUI";
              position: absolute;
              top: -8px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 0 10px;
              font-size: 10px;
              font-weight: bold;
            }
            
            .os-container {
              padding: 20px;
              height: 14.35cm;
              box-sizing: border-box;
              position: relative;
            }
            
            .header {
              text-align: center;
              margin-bottom: 25px;
              border-bottom: 2px solid #000;
              padding-bottom: 15px;
            }
            
            .company-name {
              font-size: 28px;
              font-weight: bold;
              color: #2E8B57;
              margin-bottom: 5px;
              text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            }
            
            .company-subtitle {
              font-size: 14px;
              color: #666;
              margin-bottom: 10px;
            }
            
            .company-info {
              font-size: 11px;
              line-height: 1.4;
            }
            
            .os-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin: 20px 0;
              padding: 10px;
              background: #f5f5f5;
              border-radius: 5px;
            }
            
            .os-number {
              font-size: 24px;
              font-weight: bold;
              color: #2E8B57;
            }
            
            .os-date {
              font-size: 14px;
              font-weight: bold;
            }
            
            .form-section {
              display: grid;
              grid-template-columns: 1fr 1fr 1fr;
              gap: 20px;
              margin-bottom: 20px;
            }
            
            .form-column {
              display: flex;
              flex-direction: column;
            }
            
            .form-field {
              margin-bottom: 15px;
            }
            
            .form-label {
              font-weight: bold;
              font-size: 11px;
              margin-bottom: 5px;
              display: block;
            }
            
            .form-input {
              border: none;
              border-bottom: 1px solid #000;
              padding: 5px 0;
              font-size: 12px;
              width: 100%;
              background: transparent;
            }
            
            .form-textarea {
              border: 1px solid #ccc;
              padding: 8px;
              font-size: 11px;
              width: 100%;
              min-height: 60px;
              resize: none;
              background: #fafafa;
            }
            
            .phone-input {
              font-family: monospace;
              letter-spacing: 1px;
            }
            
            .terms-section {
              margin-top: 20px;
              padding: 15px;
              border: 1px solid #000;
              border-radius: 5px;
            }
            
            .terms-title {
              text-align: center;
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 15px;
              border-bottom: 1px dashed #000;
              padding-bottom: 5px;
            }
            
            .terms-list {
              list-style: none;
              padding: 0;
              margin: 0;
            }
            
            .terms-list li {
              margin-bottom: 8px;
              font-size: 11px;
              line-height: 1.4;
            }
            
            .dots-grid {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 5px;
              margin-top: 10px;
            }
            
            .dot {
              width: 8px;
              height: 8px;
              background: #000;
              border-radius: 50%;
              margin: 0 auto;
            }
            
            .footer-section {
              display: grid;
              grid-template-columns: 1fr 1fr 2fr;
              gap: 20px;
              margin-top: 20px;
              padding-top: 15px;
              border-top: 1px solid #000; 
            }
            
            .signature-line {
              border-bottom: 1px solid #000;
              padding: 5px 0;
              text-align: center;
              font-size: 11px;
              font-weight: bold;
            }
            
            .print-info {
              font-size: 10px;
              color: #666;
              text-align: center; 
              margin-top: 10px;
            }
            
            @media print {
              .page {
                border: none;
              }
              .cut-line {
                border-top: 2px dashed #000;
              }
            }
          </style>
        </head>
        <body>
          <!-- Primeira OS -->
          <div class="page">
            <div class="os-container">
              <div class="header">
                <div class="company-name">${De}</div>
                <div class="company-subtitle">${Se}</div>
                <div class="company-info">
                  ${Ie}<br>
                  CNPJ: ${ze} | Fone: ${H} | WhatsApp: ${ie}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${pe}</div>
                <div class="os-number">N°O.S.: ${ce}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${U.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitação/Reclamação:</label>
                    <div class="form-textarea">${U.observacoes||""}</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${U.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Serviços executados/peças:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${U.clienteTelefone||"(  )     -    "}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                </div>
              </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorização para execução de serviço ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias será sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados após análise serão comunicados posteriormente.</li>
                  <li>4 - Não haverá garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                </div>
              </div>
              
              <div class="footer-section">
                <div class="signature-line">Pin: ${U.senha||""}</div>
                <div class="signature-line">Senha: ${U.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>
          
          <!-- Linha de corte -->
          <div class="cut-line"></div>
          
          <!-- Segunda OS (cópia) -->
          <div class="page">
            <div class="os-container">
          <div class="header">
                <div class="company-name">${De}</div>
                <div class="company-subtitle">${Se}</div>
                <div class="company-info">
                  ${Ie}<br>
                  CNPJ: ${ze} | Fone: ${H} | WhatsApp: ${ie}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${pe}</div>
                <div class="os-number">N°O.S.: ${ce}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${U.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitação/Reclamação:</label>
                    <div class="form-textarea">${U.observacoes||""}</div>
                  </div>
          </div>
          
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${U.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Serviços executados/peças:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
            </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${U.clienteTelefone||"(  )     -    "}</div>
            </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
            </div>
            </div>
            </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorização para execução de serviço ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias será sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados após análise serão comunicados posteriormente.</li>
                  <li>4 - Não haverá garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
          </div>

              <div class="footer-section">
                <div class="signature-line">Pin: ${U.senha||""}</div>
                <div class="signature-line">Senha: ${U.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>

          <div class="print-info">
            Impresso em: ${new Date().toLocaleString("pt-BR")} | MultiSmart CRM System
          </div>
        </body>
      </html>
    `,_e=window.open("","_blank","width=800,height=600");_e.document.write(ue),_e.document.close(),_e.focus(),setTimeout(()=>{_e.print()},500)},q=U=>{if(d(U),U.length>=2){const pe=l.filter(ce=>ce.nome.toLowerCase().includes(U.toLowerCase())||ce.telefone.includes(U));m(pe),y(pe.length>0)}else m([]),y(!1)},O=U=>{P({...N,clienteNome:U.nome,clienteTelefone:U.telefone}),d(U.nome),y(!1)},V=(r||[]).filter(U=>{var Ne,De,Se,Ie;const pe=((Ne=U.clienteNome)==null?void 0:Ne.toLowerCase().includes(_.toLowerCase()))||((De=U.numero)==null?void 0:De.toLowerCase().includes(_.toLowerCase()))||((Se=U.titulo)==null?void 0:Se.toLowerCase().includes(_.toLowerCase()))||((Ie=U.clienteTelefone)==null?void 0:Ie.toLowerCase().includes(_.toLowerCase())),ce=v==="Todos"||U.status===v;return pe&&ce}),Q=U=>{switch(U){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Em Andamento":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluída":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},Z={total:(r==null?void 0:r.length)||0,pendentes:(r==null?void 0:r.filter(U=>U.status==="Pendente").length)||0,emAndamento:(r==null?void 0:r.filter(U=>U.status==="Em Andamento").length)||0,concluidas:(r==null?void 0:r.filter(U=>U.status==="Concluída").length)||0,valorTotal:(r==null?void 0:r.reduce((U,pe)=>U+(pe.valor||0),0))||0};return a.jsxs("div",{className:"space-y-8",children:[a.jsx(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[a.jsx(vo,{className:"h-10 w-10"}),"Ordens de Serviço"]}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie e acompanhe todos os seus serviços"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(X,{onClick:()=>R(T==="grid"?"list":"grid"),variant:"secondary",className:"bg-white/20 hover:bg-white/30 border-white/30",children:[T==="grid"?a.jsx(ql,{className:"h-4 w-4 mr-2"}):a.jsx(vo,{className:"h-4 w-4 mr-2"}),T==="grid"?"Lista":"Cards"]}),a.jsxs(_n,{open:t.os,onOpenChange:j,children:[a.jsxs(X,{onClick:()=>k(),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white shadow-lg",children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Nova OS"]}),a.jsxs(an,{className:"sm:max-w-2xl w-full max-w-[95vw] max-h-[95vh] overflow-y-auto bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800",children:[a.jsxs(ln,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 -m-6 mb-6 rounded-t-lg",children:[a.jsxs(cn,{className:"flex items-center gap-3 text-2xl font-bold",children:[a.jsx(me.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:a.jsx(ur,{className:"h-6 w-6"})}),L?"Editar Ordem de Serviço":"Nova Ordem de Serviço"]}),a.jsx("p",{className:"text-blue-100 mt-2",children:L?"Atualize as informações da ordem de serviço":"Cadastre uma nova ordem de serviço para seus clientes"})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-800/50 dark:to-slate-700/50 rounded-xl p-6 border border-blue-200 dark:border-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:a.jsx(os,{className:"h-5 w-5 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Informações do Cliente"})]}),a.jsxs("div",{className:"mb-4 relative",children:[a.jsx(J,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Buscar Cliente Existente"}),a.jsxs("div",{className:"relative",children:[a.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(xe,{value:u,onChange:U=>q(U.target.value),placeholder:"Digite o nome ou telefone do cliente...",className:"mt-1 pl-10 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:border-blue-500 focus:ring-blue-500"}),p&&f.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:f.map(U=>a.jsx("button",{type:"button",onClick:()=>O(U),className:"w-full px-4 py-3 text-left hover:bg-slate-50 dark:hover:bg-slate-700 border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:U.nome}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:U.telefone})]}),a.jsx(Vr,{className:"h-4 w-4 text-slate-400"})]})},U.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"clienteNome",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nome do Cliente *"}),a.jsx(xe,{id:"clienteNome",value:N.clienteNome,onChange:U=>{P({...N,clienteNome:U.target.value}),q(U.target.value)},placeholder:"Nome completo do cliente",className:"mt-1 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"clienteTelefone",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Telefone do Cliente *"}),a.jsx(xe,{id:"clienteTelefone",value:N.clienteTelefone,onChange:U=>{P({...N,clienteTelefone:U.target.value}),q(U.target.value)},placeholder:"(11) 99999-9999",className:"mt-1 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-slate-800/50 dark:to-slate-700/50 rounded-xl p-6 border border-green-200 dark:border-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:a.jsx(vo,{className:"h-5 w-5 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Detalhes do Serviço"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"titulo",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Descrição/Título *"}),a.jsx(xe,{id:"titulo",value:N.titulo,onChange:U=>P({...N,titulo:U.target.value}),placeholder:"Ex: Troca de tela, reparo de bateria...",className:"mt-1 bg-slate-50 dark:bg-slate-700 border-slate-300 dark:border-slate-600",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Senha do Dispositivo *"}),a.jsx(xe,{id:"senha",value:N.senha,onChange:U=>P({...N,senha:U.target.value}),placeholder:"Senha ou PIN",className:"mt-1 bg-slate-50 dark:bg-slate-700 border-slate-300 dark:border-slate-600",required:!0})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"valor",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Valor do Serviço (R$) *"}),a.jsx(xe,{id:"valor",type:"number",step:"0.01",value:N.valor,onChange:U=>P({...N,valor:U.target.value}),placeholder:"0.00",className:"mt-1 bg-slate-50 dark:bg-slate-700 border-slate-300 dark:border-slate-600",required:!0})]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-slate-800/50 dark:to-slate-700/50 rounded-xl p-6 border border-purple-200 dark:border-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:a.jsx(yn,{className:"h-5 w-5 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Status e Observações"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"status",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Status"}),a.jsxs(vt,{value:N.status,onValueChange:U=>P({...N,status:U}),children:[a.jsx(ft,{className:"mt-1 bg-slate-50 dark:bg-slate-700 border-slate-300 dark:border-slate-600",children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"Pendente",children:"🟡 Pendente"}),a.jsx(se,{value:"Em Andamento",children:"🟠 Em Andamento"}),a.jsx(se,{value:"Concluída",children:"🟢 Concluída"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"observacoes",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Observações"}),a.jsx(xd,{id:"observacoes",value:N.observacoes,onChange:U=>P({...N,observacoes:U.target.value}),placeholder:"Observações adicionais sobre o serviço...",rows:3,className:"mt-1 bg-slate-50 dark:bg-slate-700 border-slate-300 dark:border-slate-600"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[a.jsxs(X,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(ur,{className:"h-4 w-4 mr-2"}),L?"Atualizar OS":"Criar OS"]}),a.jsx(X,{type:"button",variant:"outline",onClick:j,className:"flex-1 sm:flex-none border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancelar"})]})]})]})]})]})]})}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:Z.total})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(ur,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Pendentes"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:Z.pendentes})]}),a.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:a.jsx(sa,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Em Andamento"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Z.emAndamento})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(vo,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Concluídas"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Z.concluidas})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Ca,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Valor Total"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Z.valorTotal)})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Vn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})]}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx(xe,{placeholder:"Buscar por cliente, número, descrição ou telefone...",value:_,onChange:U=>S(U.target.value),className:"pl-12 h-12 text-lg"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(vt,{value:v,onValueChange:b,children:[a.jsxs(ft,{className:"w-48 h-12",children:[a.jsx(Mw,{className:"h-4 w-4 mr-2"}),a.jsx(xt,{})]}),a.jsxs(mt,{children:[a.jsx(se,{value:"Todos",children:"Todos os Status"}),a.jsx(se,{value:"Pendente",children:"Pendentes"}),a.jsx(se,{value:"Em Andamento",children:"Em Andamento"}),a.jsx(se,{value:"Concluída",children:"Concluídas"})]})]}),a.jsxs(X,{variant:"outline",className:"h-12 w-full max-w-full",children:[a.jsx(ac,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:s?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Carregando ordens de serviço..."})]}):a.jsx(a.Fragment,{children:T==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.map((U,pe)=>a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:pe*.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 w-full max-w-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-xl",children:U.numero}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${Q(U.status)}`,children:U.status})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>Y(U),className:"h-10 w-10 max-w-full hover:bg-blue-100 dark:hover:bg-blue-900/30",children:a.jsx(md,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>k(U),className:"h-10 w-10 max-w-full hover:bg-green-100 dark:hover:bg-green-900/30",children:a.jsx(rs,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>G(U.id),className:"h-10 w-10 max-w-full hover:bg-red-100 dark:hover:bg-red-900/30",children:a.jsx(ss,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(Vr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:U.clienteNome}),a.jsxs("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[a.jsx(ki,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:U.clienteTelefone})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:a.jsx(rz,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsx("div",{children:a.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-sm",children:U.titulo})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Vn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx("div",{children:a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:U.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U.valor):"R$ 0,00"})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:a.jsx(ic,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Senha: ",a.jsx("span",{className:"font-mono font-semibold",children:U.senha})]})})]}),U.observacoes&&a.jsx("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:U.observacoes})}),a.jsxs("div",{className:"flex items-center space-x-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Bs,{className:"h-4 w-4 text-slate-400"}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Criada em: ",new Date(U.createdAt).toLocaleDateString("pt-BR")]})]})]})]},U.id))}):a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"OS"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Serviço"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Valor"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Data"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:V.map((U,pe)=>a.jsxs(me.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:pe*.05},className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white break-words",children:U.numero})}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white break-words",children:U.clienteNome}),a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 break-words",children:U.clienteTelefone})]})}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("div",{className:"text-sm text-slate-900 dark:text-white max-w-xs truncate break-words",children:U.titulo})}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium break-words ${Q(U.status)}`,children:U.status})}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("div",{className:"text-sm font-bold text-green-600 dark:text-green-400 break-words",children:U.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U.valor):"R$ 0,00"})}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 break-words",children:new Date(U.createdAt).toLocaleDateString("pt-BR")})}),a.jsx("td",{className:"px-3 sm:px-6 py-4 text-right text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>Y(U),className:"h-8 w-8 max-w-full",children:a.jsx(md,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>k(U),className:"h-8 w-8 max-w-full",children:a.jsx(rs,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>G(U.id),className:"h-8 w-8 max-w-full text-red-500 hover:text-red-700",children:a.jsx(ss,{className:"h-4 w-4"})})]})})]},U.id))})]})})})})}),!s&&V.length===0&&a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:[a.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:a.jsx(ur,{className:"h-10 w-10 text-slate-400"})}),a.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:_||v!=="Todos"?"Nenhuma OS encontrada":"Nenhuma OS cadastrada"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-6 max-w-md mx-auto",children:_||v!=="Todos"?"Tente ajustar os filtros ou buscar com outros termos":"Comece criando sua primeira ordem de serviço e organize seus atendimentos"}),!_&&v==="Todos"&&a.jsxs(X,{onClick:()=>k(),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Criar Primeira OS"]})]})]})},hX=()=>{const{dialogs:t,openDialog:e,closeDialog:n,setActiveModule:r}=g.useContext(Pr),{toast:s}=kr(),{data:o,save:i,remove:l}=nh(),{data:c}=Fc(),{data:u,save:d}=rh(),{data:f}=sh(),{save:m}=c1(),[p,y]=g.useState(""),[x,_]=g.useState("todas"),[S,v]=g.useState(""),[b,T]=g.useState([]),[R,L]=g.useState(null),[C,N]=g.useState("selecionar"),[P,I]=g.useState(""),[k,j]=g.useState([]),[A,F]=g.useState(!1);g.useState(""),g.useState([]),g.useState(!1);const[G,Y]=g.useState({}),[q,O]=g.useState({}),[V,Q]=g.useState({}),[Z,U]=g.useState(!1),[pe,ce]=g.useState([]),[Ne,De]=g.useState({tipo:"porcentagem",valor:0}),[Se,Ie]=g.useState(!1),[ze,H]=g.useState("recentes");g.useState(!1);const[ie,ue]=g.useState(null),[_e,Be]=g.useState({clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0});g.useEffect(()=>{console.log("[OV] Clientes carregados:",c),console.log("[OV] Produtos carregados:",u),console.log("[OV] Categorias carregadas:",f),console.log("[OV] Ordens carregadas:",o)},[c,u,f,o]);const at=async B=>{try{await i(B),s({title:"Sucesso!",description:"Ordem de Venda criada com sucesso!"})}catch(ne){console.error("[OV] Erro ao salvar OV:",ne),s({title:"Erro!",description:"Erro ao criar Ordem de Venda.",variant:"destructive"})}},z=(B=null)=>{ue(B),Be(B?{clienteId:B.clienteId,clienteNome:B.clienteNome,produtos:B.produtos,status:B.status,total:B.total}:{clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0}),e("ov")},fe=()=>{ue(null),n("ov"),console.log("[OV] Dialog de OV fechado")},qe=B=>B.reduce((ne,oe)=>ne+oe.preco*oe.quantidade,0),Ae=(B,ne,oe)=>{const Ee=[..._e.produtos];if(ne==="produtoId"){const ae=u.find(le=>le.id===oe);ae&&(Ee[B]={...Ee[B],produtoId:oe,nome:ae.nome,preco:ae.preco})}else Ee[B][ne]=ne==="quantidade"||ne==="preco"?parseFloat(oe)||0:oe;const $=qe(Ee);Be({..._e,produtos:Ee,total:$})},Me=()=>{Be({..._e,produtos:[..._e.produtos,{produtoId:"",nome:"",preco:0,quantidade:1}]})},Te=B=>{const ne=_e.produtos.filter((Ee,$)=>$!==B),oe=qe(ne);Be({..._e,produtos:ne,total:oe})},Ge=(B,ne)=>{const oe=JSON.parse(localStorage.getItem("crm_financeiro")||"[]");let Ee=oe;if(ne==="add"){if(!oe.find(ae=>ae.origemId===`ov-${B.id}`)){const ae={id:Date.now(),descricao:`Recebimento da OV: ${B.numero}`,valor:B.total,dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`ov-${B.id}`,createdAt:new Date().toISOString()};Ee=[...oe,ae]}}else ne==="remove"&&(Ee=oe.filter($=>$.origemId!==`ov-${B.id}`));localStorage.setItem("crm_financeiro",JSON.stringify(Ee)),window.dispatchEvent(new Event("storage"))},Gt=async B=>{if(B.preventDefault(),!_e.clienteNome||_e.produtos.length===0||_e.produtos.some(oe=>!oe.nome)){s({title:"Erro",description:"Cliente e pelo menos um produto são obrigatórios!",variant:"destructive"});return}const ne={numero:ie?ie.numero:`OV${String(o.length+1).padStart(4,"0")}`,..._e,createdAt:ie?ie.createdAt:new Date().toISOString()};try{ie?(await i(ne,ie.id),s({title:"Sucesso!",description:"OV atualizada com sucesso!"})):(await i(ne),s({title:"Sucesso!",description:"OV criada com sucesso!"})),ne.status==="Concluída"?Ge(ne,"add"):Ge(ne,"remove"),fe()}catch(oe){console.error("[OV] Erro ao salvar OV:",oe),s({title:"Erro!",description:"Erro ao salvar OV.",variant:"destructive"})}},ge=async B=>{try{const ne=o.find(oe=>oe.id===B);if(!ne){s({title:"Erro!",description:"OV não encontrada",variant:"destructive"});return}Ge(ne,"remove"),await l(B),s({title:"Sucesso!",description:"OV removida com sucesso!"}),console.log(`✅ OV ${ne.numero} removida com sucesso`)}catch(ne){console.error("❌ Erro ao excluir OV:",ne),s({title:"Erro!",description:"Erro ao excluir a OV. Tente novamente.",variant:"destructive"})}},de=B=>{if(I(B),B.length>0){const ne=c.filter(oe=>{var Ee;return oe.nome.toLowerCase().includes(B.toLowerCase())||oe.telefone.includes(B)||((Ee=oe.email)==null?void 0:Ee.toLowerCase().includes(B.toLowerCase()))});j(ne),F(!0)}else j([]),F(!1)},Ke=B=>{L(B),I(B.nome),F(!1)},_t=(B,ne)=>{if(Y(oe=>({...oe,[B]:ne})),ne.length>0){const oe=u.filter(Ee=>Ee.nome.toLowerCase().includes(ne.toLowerCase())||Ee.codigo.toLowerCase().includes(ne.toLowerCase()));O(Ee=>({...Ee,[B]:oe})),Q(Ee=>({...Ee,[B]:!0}))}else O(oe=>({...oe,[B]:[]})),Q(oe=>({...oe,[B]:!1}))},Ft=(B,ne)=>{Ae(B,"produtoId",ne.id),Y(oe=>({...oe,[B]:ne.nome})),Q(oe=>({...oe,[B]:!1}))};g.useEffect(()=>{C!=="selecionar"&&(I(""),j([]),F(!1))},[C]),g.useEffect(()=>{t.ov||(I(""),j([]),F(!1),Y({}),O({}),Q({}))},[t.ov]);const Mn=B=>{const ne=b.find(oe=>oe.id===B.id);T(ne?b.map(oe=>oe.id===B.id?{...oe,quantidade:oe.quantidade+1}:oe):[...b,{...B,quantidade:1}]),s({title:"Produto adicionado!",description:`${B.nome} foi adicionado ao carrinho`})},En=B=>{T(b.filter(ne=>ne.id!==B)),s({title:"Produto removido!",description:"Produto removido do carrinho"})},Yr=(B,ne)=>{if(ne<=0){En(B);return}T(b.map(oe=>oe.id===B?{...oe,quantidade:ne}:oe))},Wn=()=>b.reduce((B,ne)=>B+ne.preco*ne.quantidade,0),Ir=()=>{if(b.length===0){s({title:"Carrinho vazio!",description:"Adicione produtos ao carrinho antes de finalizar",variant:"destructive"});return}if(!R){s({title:"Cliente não informado!",description:"Selecione um cliente antes de finalizar",variant:"destructive"});return}U(!0)},On=()=>{T([]),L(null),setClienteDigitado(""),N("selecionar"),ce([]),De({tipo:"porcentagem",valor:0}),s({title:"Venda cancelada",description:"Carrinho limpo"})},Ar=()=>{ce([...pe,{id:Date.now(),tipo:"dinheiro",valor:0,observacao:""}])},Rr=B=>{ce(pe.filter(ne=>ne.id!==B))},fn=(B,ne,oe)=>{ce(pe.map(Ee=>Ee.id===B?{...Ee,[ne]:oe}:Ee))},Hn=()=>{const B=Wn();return Ne.tipo==="porcentagem"?B*(1-Ne.valor/100):Math.max(0,B-Ne.valor)},M=()=>pe.reduce((B,ne)=>B+ne.valor,0),Ce=async B=>{try{for(const ne of B){const oe=u.find(Ee=>Ee.id===ne.produtoId);if(oe){const Ee=oe.quantidade-ne.quantidade;await d({...oe,quantidade:Ee},oe.id),await m({produtoId:ne.produtoId,produto:ne.nome,tipo:"saida",quantidade:ne.quantidade,observacao:`Venda - OV ${o.length+1}`,data:new Date().toISOString(),usuario:"Sistema",createdAt:new Date().toISOString()}),console.log(`✅ Baixa realizada: ${ne.nome} - ${ne.quantidade} unidades`)}}s({title:"Estoque atualizado!",description:"Baixa realizada com sucesso no estoque"})}catch(ne){console.error("❌ Erro ao dar baixa no estoque:",ne),s({title:"Erro no estoque!",description:"Erro ao atualizar o estoque. Verifique manualmente.",variant:"destructive"})}},te=async()=>{const B=Hn(),ne=M();if(ne<B){s({title:"Valor insuficiente!",description:`Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B)} | Pago: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ne)}`,variant:"destructive"});return}const oe={numero:`OV${String(o.length+1).padStart(4,"0")}`,clienteId:R.id||null,clienteNome:R.nome,produtos:b.map(Ee=>({produtoId:Ee.id,nome:Ee.nome,preco:Ee.preco,quantidade:Ee.quantidade})),status:"Concluída",total:B,desconto:Ne,formasPagamento:pe,troco:ne-B,createdAt:new Date().toISOString()};try{await at(oe),await Ce(b),Ge(oe,"add"),T([]),L(null),setClienteDigitado(""),N("selecionar"),ce([]),De({tipo:"porcentagem",valor:0}),U(!1),s({title:"Venda finalizada!",description:`OV criada com sucesso. Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B)}. Estoque atualizado.`})}catch(Ee){console.error("[OV] Erro ao finalizar pagamento:",Ee),s({title:"Erro!",description:"Erro ao finalizar a venda.",variant:"destructive"})}},we=u.filter(B=>{const ne=B.nome.toLowerCase().includes(p.toLowerCase())||B.codigo.toLowerCase().includes(p.toLowerCase()),oe=x==="todas"||B.categoriaId===x;return ne&&oe}),ve=new Date().toISOString().slice(0,10),Xe=o.filter(B=>{var oe,Ee;return((oe=B.createdAt)!=null&&oe.toDate?B.createdAt.toDate().toISOString().slice(0,10):(Ee=B.createdAt)==null?void 0:Ee.slice(0,10))===ve}).sort((B,ne)=>{var $,ae;const oe=($=B.createdAt)!=null&&$.toDate?B.createdAt.toDate():new Date(B.createdAt),Ee=(ae=ne.createdAt)!=null&&ae.toDate?ne.createdAt.toDate():new Date(ne.createdAt);return ze==="recentes"?Ee-oe:oe-Ee}),Oe=Xe.filter(B=>B.clienteNome.toLowerCase().includes(S.toLowerCase())||B.numero.toLowerCase().includes(S.toLowerCase())),yt=B=>{switch(B){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Processando":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluída":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelada":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}};return a.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[a.jsx(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 text-white p-6 rounded-b-3xl shadow-xl mx-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[a.jsx(gr,{className:"h-8 w-8"}),"Ordens de Venda"]}),a.jsx("p",{className:"text-blue-100",children:"Catálogo de produtos e carrinho de vendas"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(_n,{open:t.ov,onOpenChange:fe,children:[a.jsxs(X,{onClick:()=>z(),className:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200 font-semibold px-6 py-3",children:[a.jsx(Rn,{className:"h-5 w-5 mr-2"}),"Nova OV Manual"]}),a.jsxs(an,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(ln,{children:a.jsxs(cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(gr,{className:"h-6 w-6 text-blue-500"}),ie?"Editar OV":"Nova Ordem de Venda"]})}),a.jsxs("form",{onSubmit:Gt,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5 text-blue-500"}),"Informações do Cliente"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Cliente Cadastrado"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(xe,{value:P,onChange:B=>de(B.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),a.jsx(wr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),A&&k.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto max-w-full",children:k.map(B=>a.jsx("div",{onClick:()=>{Be({..._e,clienteId:B.id.toString(),clienteNome:B.nome}),I(B.nome),F(!1)},className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx(Vr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:B.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:[B.telefone," ",B.email&&`• ${B.email}`]})]})]})},B.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome, telefone ou email do cliente para buscar"}),c.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Cadastre clientes no módulo Clientes primeiro"})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"clienteNome",className:"text-sm font-medium",children:"Nome do Cliente"}),a.jsx(xe,{id:"clienteNome",value:_e.clienteNome,onChange:B=>Be({..._e,clienteNome:B.target.value}),placeholder:"Digite o nome do cliente",className:"mt-1",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use este campo se o cliente não estiver cadastrado"})]})]}),_e.clienteNome&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["✅ Cliente: ",a.jsx("span",{className:"font-semibold",children:_e.clienteNome})]})})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(An,{className:"h-5 w-5 text-green-500"}),"Produtos"]}),a.jsxs(X,{type:"button",onClick:Me,size:"sm",className:"bg-green-500 hover:bg-green-600 w-full max-w-full",children:[a.jsx(Rn,{className:"h-4 w-4 mr-1"}),"Adicionar Produto"]})]}),a.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:_e.produtos.map((B,ne)=>{var oe;return a.jsxs("div",{className:"bg-white dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white",children:["Produto ",ne+1]}),_e.produtos.length>1&&a.jsx(X,{type:"button",variant:"ghost",size:"icon",onClick:()=>Te(ne),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(ss,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Produto Cadastrado"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(xe,{value:G[ne]||"",onChange:Ee=>_t(ne,Ee.target.value),placeholder:"Digite o nome ou código do produto...",className:"pr-10"}),a.jsx(wr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),V[ne]&&((oe=q[ne])==null?void 0:oe.length)>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto max-w-full",children:q[ne].map(Ee=>a.jsx("div",{onClick:()=>Ft(ne,Ee),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[Ee.imagem&&a.jsx("img",{src:Ee.imagem,alt:Ee.nome,className:"w-8 h-8 object-cover rounded border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:Ee.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Código: ",Ee.codigo," | Estoque: ",Ee.quantidade," | ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Ee.preco)]})]})]})},Ee.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome ou código do produto para buscar"}),u.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Cadastre produtos no módulo Estoque primeiro"})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Nome do Produto"}),a.jsx(xe,{value:B.nome,onChange:Ee=>Ae(ne,"nome",Ee.target.value),placeholder:"Nome do produto",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Preço Unitário"}),a.jsx(xe,{type:"number",step:"0.01",value:B.preco,onChange:Ee=>Ae(ne,"preco",Ee.target.value),placeholder:"0.00",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Quantidade"}),a.jsx(xe,{type:"number",min:"1",value:B.quantidade,onChange:Ee=>Ae(ne,"quantidade",Ee.target.value),className:"mt-1"})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Subtotal:"}),a.jsx("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B.preco*B.quantidade)})]})})]},ne)})})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"status",className:"text-sm font-medium",children:"Status da OV"}),a.jsxs(vt,{value:_e.status,onValueChange:B=>Be({..._e,status:B}),className:"mt-1",children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"Pendente",children:"Pendente"}),a.jsx(se,{value:"Processando",children:"Processando"}),a.jsx(se,{value:"Concluída",children:"Concluída"}),a.jsx(se,{value:"Cancelada",children:"Cancelada"})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Total da OV"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_e.total)})]})})]})}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(X,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 w-full max-w-full",children:ie?"Atualizar OV":"Criar OV"}),a.jsx(X,{type:"button",variant:"outline",onClick:fe,className:"flex-1 w-full max-w-full",children:"Cancelar"})]})]})]})]}),a.jsxs(X,{onClick:()=>Ie(!0),className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200 font-semibold px-6 py-3",children:["Ver OVs do Dia (",Xe.length,")"]})]})]})}),a.jsxs("div",{className:"flex gap-6 p-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 mb-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(xe,{placeholder:"Buscar produtos...",value:p,onChange:B=>y(B.target.value),className:"pl-10 h-12 text-lg"})]}),a.jsxs(vt,{value:x,onValueChange:_,children:[a.jsx(ft,{className:"w-full lg:w-64 h-12",children:a.jsx(xt,{placeholder:"Categoria"})}),a.jsxs(mt,{children:[a.jsx(se,{value:"todas",children:"Todas as categorias"}),f.map(B=>a.jsx(se,{value:B.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:B.cor}}),B.nome]})},B.id))]})]})]})}),a.jsx("div",{className:"space-y-8",children:f.map(B=>{const ne=we.filter(oe=>oe.categoriaId===B.id);return ne.length===0?null:a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 rounded-xl p-4 border-2 shadow-lg",style:{borderColor:B.cor},children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg",style:{backgroundColor:B.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-xl",children:B.nome}),a.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-sm px-3 py-1 rounded-full font-medium",children:[ne.length," produtos"]})]})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ne.map((oe,Ee)=>a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ee*.1},whileHover:{y:-5},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group",children:a.jsxs("div",{className:"flex gap-3",children:[oe.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:oe.imagem,alt:oe.nome,className:"w-20 h-20 object-cover rounded-lg shadow-md border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-lg transition-all duration-200"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:oe.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",oe.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Vn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(oe.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(An,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${oe.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[oe.quantidade," ",oe.quantidade<=5&&"(Baixo)"]})]})]}),a.jsxs(X,{size:"sm",onClick:()=>Mn(oe),className:"w-full mt-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl transition-all duration-200",disabled:oe.quantidade<=0,children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Adicionar ao Carrinho"]})]})]})},oe.id))})]},B.id)})}),we.length===0&&a.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(An,{className:"h-12 w-12 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:p?"Nenhum produto encontrado":"Nenhum produto cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:p?"Tente buscar com outros termos":"Cadastre produtos no módulo de Estoque"}),!p&&a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsxs(X,{onClick:()=>r("estoque"),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold px-6 py-3 shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(An,{className:"h-5 w-5 mr-2"}),"Ir para Estoque"]}),a.jsxs(X,{onClick:()=>z(),variant:"outline",className:"border-blue-500 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 font-semibold px-6 py-3",children:[a.jsx(Rn,{className:"h-5 w-5 mr-2"}),"Criar OV Manual"]})]})]})]}),a.jsxs(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"w-96 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 p-6 h-fit sticky top-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-slate-900 dark:text-white",children:[a.jsx(gr,{className:"h-6 w-6 text-blue-500"}),"Carrinho"]}),b.length>0&&a.jsx(X,{size:"sm",variant:"outline",onClick:On,className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:a.jsx(jr,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs(J,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:["Cliente ",c.length>0&&`(${c.length} cadastrados)`]}),a.jsx("div",{className:"mb-3",children:a.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:c.length===0?"Nenhum cliente encontrado":`${c.length} cliente(s) disponível(is)`})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(xe,{value:P,onChange:B=>de(B.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10 h-10"}),a.jsx(wr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),A&&k.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:k.map(B=>a.jsx("div",{onClick:()=>Ke(B),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx(Vr,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:B.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:[B.telefone," ",B.email&&`• ${B.email}`]})]})]})},B.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"💡 Digite o nome, telefone ou email do cliente para buscar"}),R&&a.jsxs("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 p-3 rounded-lg border border-green-200 dark:border-green-700",children:["✅ Cliente selecionado: ",a.jsx("span",{className:"font-semibold",children:R.nome})]}),c.length===0&&a.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-200 dark:border-amber-700",children:"⚠️ Nenhum cliente cadastrado. Digite o nome do cliente abaixo."})]})]}),a.jsx("div",{className:"space-y-3 mb-6 max-h-60 overflow-y-auto",children:b.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-slate-400 to-slate-500 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(gr,{className:"h-8 w-8 text-white"})}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Seu carrinho está vazio"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Adicione produtos do catálogo"})]}):b.map(B=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600 hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:B.nome}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B.preco)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{size:"sm",variant:"outline",onClick:()=>Yr(B.id,B.quantidade-1),className:"h-7 w-7 p-0 hover:bg-red-50 dark:hover:bg-red-900/20",children:a.jsx(K9,{className:"h-3 w-3"})}),a.jsx("span",{className:"text-sm w-8 text-center font-medium",children:B.quantidade}),a.jsx(X,{size:"sm",variant:"outline",onClick:()=>Yr(B.id,B.quantidade+1),className:"h-7 w-7 p-0 hover:bg-green-50 dark:hover:bg-green-900/20",children:a.jsx(Rn,{className:"h-3 w-3"})})]}),a.jsx(X,{size:"sm",variant:"outline",onClick:()=>En(B.id),className:"h-7 w-7 p-0 text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:a.jsx(jr,{className:"h-3 w-3"})})]},B.id))}),a.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Total:"}),a.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Wn())})]}),a.jsxs(X,{onClick:Ir,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold py-3 shadow-lg hover:shadow-xl transition-all duration-200",disabled:b.length===0||!R,children:[a.jsx(gr,{className:"h-5 w-5 mr-2"}),"Finalizar Venda"]})]})]})]}),a.jsx(_n,{open:Se,onOpenChange:Ie,children:a.jsxs(an,{className:"max-w-7xl max-h-[95vh] flex flex-col bg-white dark:bg-slate-900",children:[a.jsxs(ln,{className:"pb-4 flex-shrink-0",children:[a.jsxs(cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(gr,{className:"h-6 w-6 text-blue-500"}),"Ordens de Venda do Dia",a.jsxs("span",{className:"text-lg font-normal text-slate-500",children:["(",Xe.length," OVs)"]})]}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Todas as ordens de venda criadas hoje (",new Date().toLocaleDateString("pt-BR"),")"]})]}),a.jsxs("div",{className:"mb-6 space-y-4 flex-shrink-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx(wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(xe,{placeholder:"Buscar OVs por cliente ou número...",value:S,onChange:B=>v(B.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(J,{className:"text-sm font-medium",children:"Ordenar por:"}),a.jsxs(vt,{value:ze,onValueChange:H,children:[a.jsx(ft,{className:"w-48",children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"recentes",children:"Mais Recentes"}),a.jsx(se,{value:"antigas",children:"Mais Antigas"})]})]})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[Oe.length," OV(s) encontrada(s)"]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",maxHeight:"calc(95vh - 200px)"},children:[a.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),Oe.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(gr,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-slate-900 dark:text-white mb-2",children:S?"Nenhuma OV encontrada":"Nenhuma OV criada hoje"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:S?"Tente buscar com outros termos":"As OVs criadas hoje aparecerão aqui"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:Oe.map((B,ne)=>{var oe;return a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ne*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 w-full max-w-full",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:B.numero}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${yt(B.status)}`,children:B.status})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>z(B),className:"h-7 w-7 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/20",children:a.jsx(rs,{className:"h-3 w-3"})}),a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ge(B.id),className:"h-7 w-7 p-0 text-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20",children:a.jsx(ss,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(Vr,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:B.clienteNome})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[a.jsx(gr,{className:"h-4 w-4"}),a.jsxs("span",{children:[B.produtos.length," produto(s)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vn,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B.total)})]})]}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date((oe=B.createdAt)!=null&&oe.toDate?B.createdAt.toDate():B.createdAt).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})})]}),a.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:a.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:B.produtos.map((Ee,$)=>a.jsxs("div",{className:"flex justify-between items-center text-xs bg-slate-50 dark:bg-slate-700/50 p-2 rounded",children:[a.jsx("span",{className:"font-medium truncate flex-1 mr-2",children:Ee.nome}),a.jsxs("span",{className:"text-slate-500 break-words",children:[Ee.quantidade,"x ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Ee.preco)]})]},$))})})]})},B.id)})})]})]})}),a.jsx(_n,{open:Z,onOpenChange:U,children:a.jsxs(an,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(ln,{children:a.jsx(cn,{children:"Finalizar Venda - Formas de Pagamento"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Resumo da Venda"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cliente:"}),a.jsx("span",{className:"font-medium",children:R==null?void 0:R.nome})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Original:"}),a.jsxs("span",{children:["R$ ",Wn().toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Desconto:"}),a.jsx("span",{className:"text-red-600",children:Ne.valor>0?Ne.tipo==="porcentagem"?`${Ne.valor}% (${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Wn()*Ne.valor/100)})`:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Ne.valor):a.jsx("span",{className:"text-slate-500",children:"Nenhum desconto"})})]}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[a.jsx("span",{children:"Total Final:"}),a.jsxs("span",{className:"text-green-600",children:["R$ ",Hn().toFixed(2)]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold",children:"Desconto"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(vt,{value:Ne.tipo,onValueChange:B=>De({...Ne,tipo:B}),children:[a.jsx(ft,{className:"w-32",children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"porcentagem",children:"%"}),a.jsx(se,{value:"valor",children:"R$"})]})]}),a.jsx(xe,{type:"number",step:Ne.tipo==="porcentagem"?"1":"0.01",min:"0",max:Ne.tipo==="porcentagem"?"100":Wn(),value:Ne.valor,onChange:B=>De({...Ne,valor:parseFloat(B.target.value)||0}),placeholder:"0",className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold",children:"Formas de Pagamento"}),a.jsxs(X,{size:"sm",onClick:Ar,children:[a.jsx(Rn,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),a.jsx("div",{className:"space-y-3",children:pe.map((B,ne)=>a.jsxs("div",{className:"flex gap-3 items-center p-3 border rounded-lg",children:[a.jsxs(vt,{value:B.tipo,onValueChange:oe=>fn(B.id,"tipo",oe),children:[a.jsx(ft,{className:"w-32",children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"dinheiro",children:"Dinheiro"}),a.jsx(se,{value:"cartao_debito",children:"Cartão Débito"}),a.jsx(se,{value:"cartao_credito",children:"Cartão Crédito"}),a.jsx(se,{value:"pix",children:"PIX"}),a.jsx(se,{value:"cheque",children:"Cheque"}),a.jsx(se,{value:"outros",children:"Outros"})]})]}),a.jsx(xe,{type:"number",step:"0.01",min:"0",value:B.valor,onChange:oe=>fn(B.id,"valor",parseFloat(oe.target.value)||0),placeholder:"Valor",className:"flex-1"}),a.jsx(xe,{value:B.observacao,onChange:oe=>fn(B.id,"observacao",oe.target.value),placeholder:"Observação",className:"flex-1"}),a.jsx(X,{size:"sm",variant:"outline",onClick:()=>Rr(B.id),className:"text-red-500",children:a.jsx(jr,{className:"h-4 w-4"})})]},B.id))})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Pago:"}),a.jsxs("span",{className:"font-semibold",children:["R$ ",M().toFixed(2)]})]}),M()>Hn()&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Troco:"}),a.jsxs("span",{className:"font-semibold",children:["R$ ",(M()-Hn()).toFixed(2)]})]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(X,{onClick:te,className:"flex-1 bg-green-600 hover:bg-green-700",disabled:pe.length===0||M()<Hn(),children:"Finalizar Pagamento"}),a.jsx(X,{variant:"outline",onClick:()=>U(!1),className:"flex-1",children:"Cancelar"})]})]})]})})]})};var dg={exports:{}},BM={};function UM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=UM(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function JE(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=UM(t))&&(r&&(r+=" "),r+=e);return r}const fX=Object.freeze(Object.defineProperty({__proto__:null,clsx:JE,default:JE},Symbol.toStringTag,{value:"Module"})),mX=X4(fX);var Xt={},io={};Object.defineProperty(io,"__esModule",{value:!0});io.dontSetMe=yX;io.findInArray=pX;io.int=xX;io.isFunction=gX;io.isNum=vX;function pX(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function gX(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function vX(t){return typeof t=="number"&&!isNaN(t)}function xX(t){return parseInt(t,10)}function yX(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.browserPrefixToKey=qM;ol.browserPrefixToStyle=wX;ol.default=void 0;ol.getPrefix=$M;const Kv=["Moz","Webkit","O","ms"];function $M(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Kv.length;r++)if(qM(e,Kv[r])in n)return Kv[r];return""}function qM(t,e){return e?"".concat(e).concat(bX(t)):t}function wX(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function bX(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}ol.default=$M();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.addClassName=GM;Xt.addEvent=CX;Xt.addUserSelectStyles=MX;Xt.createCSSTransform=IX;Xt.createSVGTransform=AX;Xt.getTouch=RX;Xt.getTouchIdentifier=DX;Xt.getTranslation=h1;Xt.innerHeight=TX;Xt.innerWidth=kX;Xt.matchesSelector=HM;Xt.matchesSelectorAndParentsTo=_X;Xt.offsetXYFromParent=PX;Xt.outerHeight=EX;Xt.outerWidth=jX;Xt.removeClassName=YM;Xt.removeEvent=NX;Xt.removeUserSelectStyles=OX;var $r=io,ej=SX(ol);function WM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(WM=function(r){return r?n:e})(t)}function SX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=WM(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var i=s?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let sf="";function HM(t,e){return sf||(sf=(0,$r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,$r.isFunction)(t[n])})),(0,$r.isFunction)(t[sf])?t[sf](e):!1}function _X(t,e,n){let r=t;do{if(HM(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function CX(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function NX(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function EX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,$r.int)(n.borderTopWidth),e+=(0,$r.int)(n.borderBottomWidth),e}function jX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,$r.int)(n.borderLeftWidth),e+=(0,$r.int)(n.borderRightWidth),e}function TX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,$r.int)(n.paddingTop),e-=(0,$r.int)(n.paddingBottom),e}function kX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,$r.int)(n.paddingLeft),e-=(0,$r.int)(n.paddingRight),e}function PX(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-s.left)/n,i=(t.clientY+e.scrollTop-s.top)/n;return{x:o,y:i}}function IX(t,e){const n=h1(t,e,"px");return{[(0,ej.browserPrefixToKey)("transform",ej.default)]:n}}function AX(t,e){return h1(t,e,"")}function h1(t,e,n){let{x:r,y:s}=t,o="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const i="".concat(typeof e.x=="string"?e.x:e.x+n),l="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(i,", ").concat(l,")")+o}return o}function RX(t,e){return t.targetTouches&&(0,$r.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,$r.findInArray)(t.changedTouches,n=>e===n.identifier)}function DX(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function MX(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&GM(t.body,"react-draggable-transparent-selection")}function OX(t){if(t)try{if(t.body&&YM(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function GM(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function YM(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.canDragX=VX;lo.canDragY=zX;lo.createCoreData=UX;lo.createDraggableData=$X;lo.getBoundPosition=LX;lo.getControlPosition=BX;lo.snapToGrid=FX;var Mr=io,Ol=Xt;function LX(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:qX(r);const s=f1(t);if(typeof r=="string"){const{ownerDocument:o}=s,i=o.defaultView;let l;if(r==="parent"?l=s.parentNode:l=o.querySelector(r),!(l instanceof i.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=l,u=i.getComputedStyle(s),d=i.getComputedStyle(c);r={left:-s.offsetLeft+(0,Mr.int)(d.paddingLeft)+(0,Mr.int)(u.marginLeft),top:-s.offsetTop+(0,Mr.int)(d.paddingTop)+(0,Mr.int)(u.marginTop),right:(0,Ol.innerWidth)(c)-(0,Ol.outerWidth)(s)-s.offsetLeft+(0,Mr.int)(d.paddingRight)-(0,Mr.int)(u.marginRight),bottom:(0,Ol.innerHeight)(c)-(0,Ol.outerHeight)(s)-s.offsetTop+(0,Mr.int)(d.paddingBottom)-(0,Mr.int)(u.marginBottom)}}return(0,Mr.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Mr.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Mr.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Mr.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function FX(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function VX(t){return t.props.axis==="both"||t.props.axis==="x"}function zX(t){return t.props.axis==="both"||t.props.axis==="y"}function BX(t,e,n){const r=typeof e=="number"?(0,Ol.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=f1(n),o=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Ol.offsetXYFromParent)(r||t,o,n.props.scale)}function UX(t,e,n){const r=!(0,Mr.isNum)(t.lastX),s=f1(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function $X(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function qX(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function f1(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var hg={},fg={};Object.defineProperty(fg,"__esModule",{value:!0});fg.default=WX;function WX(){}Object.defineProperty(hg,"__esModule",{value:!0});hg.default=void 0;var Qv=GX(g),mr=m1(hw),HX=m1(Ps),Qn=Xt,Qo=lo,Xv=io,hu=m1(fg);function m1(t){return t&&t.__esModule?t:{default:t}}function KM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(KM=function(r){return r?n:e})(t)}function GX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=KM(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var i=s?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function ar(t,e,n){return e=YX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YX(t){var e=KX(t,"string");return typeof e=="symbol"?e:String(e)}function KX(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ms={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Xo=ms.mouse,mg=class extends Qv.Component{constructor(){super(...arguments),ar(this,"dragging",!1),ar(this,"lastX",NaN),ar(this,"lastY",NaN),ar(this,"touchIdentifier",null),ar(this,"mounted",!1),ar(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Qn.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Qn.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,Qn.getTouchIdentifier)(e);this.touchIdentifier=s;const o=(0,Qo.getControlPosition)(e,s,this);if(o==null)return;const{x:i,y:l}=o,c=(0,Qo.createCoreData)(this,i,l);(0,hu.default)("DraggableCore: handleDragStart: %j",c),(0,hu.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Qn.addUserSelectStyles)(r),this.dragging=!0,this.lastX=i,this.lastY=l,(0,Qn.addEvent)(r,Xo.move,this.handleDrag),(0,Qn.addEvent)(r,Xo.stop,this.handleDragStop))}),ar(this,"handleDrag",e=>{const n=(0,Qo.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX,c=s-this.lastY;if([l,c]=(0,Qo.snapToGrid)(this.props.grid,l,c),!l&&!c)return;r=this.lastX+l,s=this.lastY+c}const o=(0,Qo.createCoreData)(this,r,s);if((0,hu.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),ar(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Qo.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,u=s-this.lastY||0;[c,u]=(0,Qo.snapToGrid)(this.props.grid,c,u),r=this.lastX+c,s=this.lastY+u}const o=(0,Qo.createCoreData)(this,r,s);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,Qn.removeUserSelectStyles)(l.ownerDocument),(0,hu.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,hu.default)("DraggableCore: Removing handlers"),(0,Qn.removeEvent)(l.ownerDocument,Xo.move,this.handleDrag),(0,Qn.removeEvent)(l.ownerDocument,Xo.stop,this.handleDragStop))}),ar(this,"onMouseDown",e=>(Xo=ms.mouse,this.handleDragStart(e))),ar(this,"onMouseUp",e=>(Xo=ms.mouse,this.handleDragStop(e))),ar(this,"onTouchStart",e=>(Xo=ms.touch,this.handleDragStart(e))),ar(this,"onTouchEnd",e=>(Xo=ms.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Qn.addEvent)(e,ms.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Qn.removeEvent)(n,ms.mouse.move,this.handleDrag),(0,Qn.removeEvent)(n,ms.touch.move,this.handleDrag),(0,Qn.removeEvent)(n,ms.mouse.stop,this.handleDragStop),(0,Qn.removeEvent)(n,ms.touch.stop,this.handleDragStop),(0,Qn.removeEvent)(e,ms.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Qn.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:HX.default.findDOMNode(this)}render(){return Qv.cloneElement(Qv.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};hg.default=mg;ar(mg,"displayName","DraggableCore");ar(mg,"propTypes",{allowAnyClick:mr.default.bool,children:mr.default.node.isRequired,disabled:mr.default.bool,enableUserSelectHack:mr.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:mr.default.arrayOf(mr.default.number),handle:mr.default.string,cancel:mr.default.string,nodeRef:mr.default.object,onStart:mr.default.func,onDrag:mr.default.func,onStop:mr.default.func,onMouseDown:mr.default.func,scale:mr.default.number,className:Xv.dontSetMe,style:Xv.dontSetMe,transform:Xv.dontSetMe});ar(mg,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=m(g),n=d(hw),r=d(Ps),s=d(mX),o=Xt,i=lo,l=io,c=d(hg),u=d(fg);function d(v){return v&&v.__esModule?v:{default:v}}function f(v){if(typeof WeakMap!="function")return null;var b=new WeakMap,T=new WeakMap;return(f=function(R){return R?T:b})(v)}function m(v,b){if(!b&&v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var T=f(b);if(T&&T.has(v))return T.get(v);var R={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in v)if(C!=="default"&&Object.prototype.hasOwnProperty.call(v,C)){var N=L?Object.getOwnPropertyDescriptor(v,C):null;N&&(N.get||N.set)?Object.defineProperty(R,C,N):R[C]=v[C]}return R.default=v,T&&T.set(v,R),R}function p(){return p=Object.assign?Object.assign.bind():function(v){for(var b=1;b<arguments.length;b++){var T=arguments[b];for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(v[R]=T[R])}return v},p.apply(this,arguments)}function y(v,b,T){return b=x(b),b in v?Object.defineProperty(v,b,{value:T,enumerable:!0,configurable:!0,writable:!0}):v[b]=T,v}function x(v){var b=_(v,"string");return typeof b=="symbol"?b:String(b)}function _(v,b){if(typeof v!="object"||v===null)return v;var T=v[Symbol.toPrimitive];if(T!==void 0){var R=T.call(v,b||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(v)}class S extends e.Component{static getDerivedStateFromProps(b,T){let{position:R}=b,{prevPropsPosition:L}=T;return R&&(!L||R.x!==L.x||R.y!==L.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:L}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(b){super(b),y(this,"onDragStart",(T,R)=>{if((0,u.default)("Draggable: onDragStart: %j",R),this.props.onStart(T,(0,i.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(T,R)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",R);const L=(0,i.createDraggableData)(this,R),C={x:L.x,y:L.y,slackX:0,slackY:0};if(this.props.bounds){const{x:P,y:I}=C;C.x+=this.state.slackX,C.y+=this.state.slackY;const[k,j]=(0,i.getBoundPosition)(this,C.x,C.y);C.x=k,C.y=j,C.slackX=this.state.slackX+(P-C.x),C.slackY=this.state.slackY+(I-C.y),L.x=C.x,L.y=C.y,L.deltaX=C.x-this.state.x,L.deltaY=C.y-this.state.y}if(this.props.onDrag(T,L)===!1)return!1;this.setState(C)}),y(this,"onDragStop",(T,R)=>{if(!this.state.dragging||this.props.onStop(T,(0,i.createDraggableData)(this,R))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",R);const C={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:P,y:I}=this.props.position;C.x=P,C.y=I}this.setState(C)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,T;return(b=(T=this.props)===null||T===void 0||(T=T.nodeRef)===null||T===void 0?void 0:T.current)!==null&&b!==void 0?b:r.default.findDOMNode(this)}render(){const{axis:b,bounds:T,children:R,defaultPosition:L,defaultClassName:C,defaultClassNameDragging:N,defaultClassNameDragged:P,position:I,positionOffset:k,scale:j,...A}=this.props;let F={},G=null;const q=!!!I||this.state.dragging,O=I||L,V={x:(0,i.canDragX)(this)&&q?this.state.x:O.x,y:(0,i.canDragY)(this)&&q?this.state.y:O.y};this.state.isElementSVG?G=(0,o.createSVGTransform)(V,k):F=(0,o.createCSSTransform)(V,k);const Q=(0,s.default)(R.props.className||"",C,{[N]:this.state.dragging,[P]:this.state.dragged});return e.createElement(c.default,p({},A,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(R),{className:Q,style:{...R.props.style,...F},transform:G}))}}t.default=S,y(S,"displayName","Draggable"),y(S,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),y(S,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(BM);const{default:QM,DraggableCore:QX}=BM;dg.exports=QM;dg.exports.default=QM;dg.exports.DraggableCore=QX;var XX=dg.exports;const ZX=Qi(XX);var rn=globalThis&&globalThis.__assign||function(){return rn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},rn.apply(this,arguments)},tj={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},nj={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},of={width:"20px",height:"20px",position:"absolute",zIndex:1},JX={top:rn(rn({},tj),{top:"-5px"}),right:rn(rn({},nj),{left:void 0,right:"-5px"}),bottom:rn(rn({},tj),{top:void 0,bottom:"-5px"}),left:rn(rn({},nj),{left:"-5px"}),topRight:rn(rn({},of),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:rn(rn({},of),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:rn(rn({},of),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:rn(rn({},of),{left:"-10px",top:"-10px",cursor:"nw-resize"})},eZ=g.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,s=t.replaceStyles,o=t.className,i=g.useCallback(function(u){e(u,n)},[e,n]),l=g.useCallback(function(u){e(u,n)},[e,n]),c=g.useMemo(function(){return rn(rn({position:"absolute",userSelect:"none"},JX[n]),s??{})},[s,n]);return a.jsx("div",{className:o||void 0,style:c,onMouseDown:i,onTouchStart:l,children:r})}),tZ=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ls=globalThis&&globalThis.__assign||function(){return Ls=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ls.apply(this,arguments)},nZ={width:"auto",height:"auto"},af=function(t,e,n){return Math.max(Math.min(t,n),e)},rj=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},fl=function(t,e){return new RegExp(t,"i").test(e)},lf=function(t){return!!(t.touches&&t.touches.length)},rZ=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},sj=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(o,i,l){return Math.abs(i-t)<Math.abs(e[o]-t)?l:o},0),s=Math.abs(e[r]-t);return n===0||s<n?e[r]:t},Zv=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},cf=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var s=Number(t.replace("%",""))/100;return e*s}if(t.endsWith("vw")){var s=Number(t.replace("vw",""))/100;return n*s}if(t.endsWith("vh")){var s=Number(t.replace("vh",""))/100;return r*s}}return t},sZ=function(t,e,n,r,s,o,i){return r=cf(r,t.width,e,n),s=cf(s,t.height,e,n),o=cf(o,t.width,e,n),i=cf(i,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof i>"u"?void 0:Number(i)}},oZ=function(t){return Array.isArray(t)?t:[t,t]},aZ=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],oj="__resizable_base__",iZ=function(t){tZ(e,t);function e(n){var r,s,o,i,l=t.call(this,n)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var c=l.parentNode;if(!c)return null;var u=l.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(oj):u.className+=oj,c.appendChild(u),u},l.removeBase=function(c){var u=l.parentNode;u&&u.removeChild(c)},l.state={isResizing:!1,width:(s=(r=l.propsSize)===null||r===void 0?void 0:r.width)!==null&&s!==void 0?s:"auto",height:(i=(o=l.propsSize)===null||o===void 0?void 0:o.height)!==null&&i!==void 0?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||nZ},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,o=this.resizable.offsetHeight,i=this.resizable.style.position;i!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=i}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,s=function(l){var c;if(typeof n.state[l]>"u"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&(!((c=n.propsSize[l])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var u=n.getParentSize(),d=Number(n.state[l].toString().replace("px","")),f=d/u[l]*100;return"".concat(f,"%")}return Zv(n.state[l])},o=r&&typeof r.width<"u"&&!this.state.isResizing?Zv(r.width):s("width"),i=r&&typeof r.height<"u"&&!this.state.isResizing?Zv(r.height):s("height");return{width:o,height:i}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=s),this.removeBase(n),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var s=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof s>"u"||s==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var s=this.props.boundsByDirection,o=this.state.direction,i=s&&fl("left",o),l=s&&fl("top",o),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=i?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=l?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var s=this.props.scale||1,o=oZ(this.props.resizeRatio||1),i=o[0],l=o[1],c=this.state,u=c.direction,d=c.original,f=this.props,m=f.lockAspectRatio,p=f.lockAspectRatioExtraHeight,y=f.lockAspectRatioExtraWidth,x=d.width,_=d.height,S=p||0,v=y||0;return fl("right",u)&&(x=d.width+(n-d.x)*i/s,m&&(_=(x-v)/this.ratio+S)),fl("left",u)&&(x=d.width-(n-d.x)*i/s,m&&(_=(x-v)/this.ratio+S)),fl("bottom",u)&&(_=d.height+(r-d.y)*l/s,m&&(x=(_-S)*this.ratio+v)),fl("top",u)&&(_=d.height-(r-d.y)*l/s,m&&(x=(_-S)*this.ratio+v)),{newWidth:x,newHeight:_}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,s,o){var i=this.props,l=i.lockAspectRatio,c=i.lockAspectRatioExtraHeight,u=i.lockAspectRatioExtraWidth,d=typeof o.width>"u"?10:o.width,f=typeof s.width>"u"||s.width<0?n:s.width,m=typeof o.height>"u"?10:o.height,p=typeof s.height>"u"||s.height<0?r:s.height,y=c||0,x=u||0;if(l){var _=(m-y)*this.ratio+x,S=(p-y)*this.ratio+x,v=(d-x)/this.ratio+y,b=(f-x)/this.ratio+y,T=Math.max(d,_),R=Math.min(f,S),L=Math.max(m,v),C=Math.min(p,b);n=af(n,T,R),r=af(r,L,C)}else n=af(n,d,f),r=af(r,m,p);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var s=r.getBoundingClientRect();this.parentLeft=s.left*n,this.parentTop=s.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var i=this.resizable.getBoundingClientRect(),l=i.left,c=i.top,u=i.right,d=i.bottom;this.resizableLeft=l*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var s=0,o=0;if(n.nativeEvent&&rZ(n.nativeEvent)?(s=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&lf(n.nativeEvent)&&(s=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var i=this.props.onResizeStart(n,r,this.resizable);if(i===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",l=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:s,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Ls(Ls({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(f)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&lf(n))try{n.preventDefault(),n.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,i=s.maxHeight,l=s.minWidth,c=s.minHeight,u=lf(n)?n.touches[0].clientX:n.clientX,d=lf(n)?n.touches[0].clientY:n.clientY,f=this.state,m=f.direction,p=f.original,y=f.width,x=f.height,_=this.getParentSize(),S=sZ(_,this.window.innerWidth,this.window.innerHeight,o,i,l,c);o=S.maxWidth,i=S.maxHeight,l=S.minWidth,c=S.minHeight;var v=this.calculateNewSizeFromDirection(u,d),b=v.newHeight,T=v.newWidth,R=this.calculateNewMaxFromBoundary(o,i);this.props.snap&&this.props.snap.x&&(T=sj(T,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=sj(b,this.props.snap.y,this.props.snapGap));var L=this.calculateNewSizeFromAspectRatio(T,b,{width:R.maxWidth,height:R.maxHeight},{width:l,height:c});if(T=L.newWidth,b=L.newHeight,this.props.grid){var C=rj(T,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),N=rj(b,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),P=this.props.snapGap||0,I=P===0||Math.abs(C-T)<=P?C:T,k=P===0||Math.abs(N-b)<=P?N:b;T=I,b=k}var j={width:T-p.width,height:b-p.height};if(this.delta=j,y&&typeof y=="string"){if(y.endsWith("%")){var A=T/_.width*100;T="".concat(A,"%")}else if(y.endsWith("vw")){var F=T/this.window.innerWidth*100;T="".concat(F,"vw")}else if(y.endsWith("vh")){var G=T/this.window.innerHeight*100;T="".concat(G,"vh")}}if(x&&typeof x=="string"){if(x.endsWith("%")){var A=b/_.height*100;b="".concat(A,"%")}else if(x.endsWith("vw")){var F=b/this.window.innerWidth*100;b="".concat(F,"vw")}else if(x.endsWith("vh")){var G=b/this.window.innerHeight*100;b="".concat(G,"vh")}}var Y={width:this.createSizeForCssProperty(T,"width"),height:this.createSizeForCssProperty(b,"height")};this.flexDir==="row"?Y.flexBasis=Y.width:this.flexDir==="column"&&(Y.flexBasis=Y.height);var q=this.state.width!==Y.width,O=this.state.height!==Y.height,V=this.state.flexBasis!==Y.flexBasis,Q=q||O||V;Q&&Ps.flushSync(function(){r.setState(Y)}),this.props.onResize&&Q&&this.props.onResize(n,m,this.resizable,j)}},e.prototype.onMouseUp=function(n){var r,s,o=this.state,i=o.isResizing,l=o.direction;o.original,!(!i||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,l,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Ls(Ls({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,s;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(s=n.height)!==null&&s!==void 0?s:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,s=r.enable,o=r.handleStyles,i=r.handleClasses,l=r.handleWrapperStyle,c=r.handleWrapperClass,u=r.handleComponent;if(!s)return null;var d=Object.keys(s).map(function(f){return s[f]!==!1?a.jsx(eZ,{direction:f,onResizeStart:n.onResizeStart,replaceStyles:o&&o[f],className:i&&i[f],children:u&&u[f]?u[f]:null},f):null});return a.jsx("div",{className:c,style:l,children:d})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(i,l){return aZ.indexOf(l)!==-1||(i[l]=n.props[l]),i},{}),s=Ls(Ls(Ls({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return a.jsxs(o,Ls({style:s,className:this.props.className},r,{ref:function(i){i&&(n.resizable=i)},children:[this.state.isResizing&&a.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(g.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var my=function(t,e){return my=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},my(t,e)};function lZ(t,e){my(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var pn=function(){return pn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},pn.apply(this,arguments)};function cZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var uZ={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},dZ=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}};(function(t){lZ(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,s=n.top,o=this.getDraggablePosition(),i=o.x,l=o.y;this.draggable.setState({x:i-r,y:l-s}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,s=n.y;return{x:r,y:s}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var s=this.getDraggablePosition();if(this.originalPosition=s,!!this.props.bounds){var o=this.getParent(),i=this.props.scale,l;if(this.props.bounds==="parent")l=o;else if(this.props.bounds==="body"){var c=o.getBoundingClientRect(),u=c.left,d=c.top,f=document.body.getBoundingClientRect(),m=-(u-o.offsetLeft*i-f.left)/i,p=-(d-o.offsetTop*i-f.top)/i,y=(document.body.offsetWidth-this.resizable.size.width*i)/i+m,x=(document.body.offsetHeight-this.resizable.size.height*i)/i+p;return this.setState({bounds:{top:p,right:y,bottom:x,left:m}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var _=o.getBoundingClientRect(),S=_.left,v=_.top,b=-(S-o.offsetLeft*i)/i,T=-(v-o.offsetTop*i)/i,y=(window.innerWidth-this.resizable.size.width*i)/i+b,x=(window.innerHeight-this.resizable.size.height*i)/i+T;return this.setState({bounds:{top:T,right:y,bottom:x,left:b}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(o instanceof HTMLElement))){var R=l.getBoundingClientRect(),L=R.left,C=R.top,N=o.getBoundingClientRect(),P=N.left,I=N.top,k=(L-P)/i,j=C-I;if(this.resizable){this.updateOffsetFromParent();var A=this.offsetFromParent;this.setState({bounds:{top:j-A.top,right:k+(l.offsetWidth-this.resizable.size.width)-A.left/i,bottom:j+(l.offsetHeight-this.resizable.size.height)-A.top,left:k-A.left/i}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var s=this.offsetFromParent,o=s.left,i=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,pn(pn({},r),{x:r.x+o,y:r.y+i}));if(this.props.dragAxis==="x")return this.props.onDrag(n,pn(pn({},r),{x:r.x+o,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,pn(pn({},r),{x:this.originalPosition.x+o,y:r.y+i,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var s=this.offsetFromParent,o=s.left,i=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,pn(pn({},r),{x:r.x+o,y:r.y+i}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,pn(pn({},r),{x:r.x+o,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,pn(pn({},r),{x:this.originalPosition.x+o,y:r.y+i,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,s){n.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,i=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+i.left,y:l.y+i.top},this.originalPosition=l,this.props.bounds){var c=this.getParent(),u=void 0;this.props.bounds==="parent"?u=c:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(u instanceof HTMLElement||u===window)&&c instanceof HTMLElement){var f=this.getMaxSizesFromProps(),m=f.maxWidth,p=f.maxHeight,y=this.getParentSize();if(m&&typeof m=="string")if(m.endsWith("%")){var x=Number(m.replace("%",""))/100;m=y.width*x}else m.endsWith("px")&&(m=Number(m.replace("px","")));if(p&&typeof p=="string")if(p.endsWith("%")){var x=Number(p.replace("%",""))/100;p=y.height*x}else p.endsWith("px")&&(p=Number(p.replace("px","")));var _=d.getBoundingClientRect(),S=_.left,v=_.top,b=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),T=b.left,R=b.top,L=this.getOffsetWidth(u),C=this.getOffsetHeight(u),N=r.toLowerCase().endsWith("left"),P=r.toLowerCase().endsWith("right"),I=r.startsWith("top"),k=r.startsWith("bottom");if((N||I)&&this.resizable){var j=(S-T)/o+this.resizable.size.width;this.setState({maxWidth:j>Number(m)?m:j})}if(P||this.props.lockAspectRatio&&!N&&!I){var j=L+(T-S)/o;this.setState({maxWidth:j>Number(m)?m:j})}if((I||N)&&this.resizable){var j=(v-R)/o+this.resizable.size.height;this.setState({maxHeight:j>Number(p)?p:j})}if(k||this.props.lockAspectRatio&&!I&&!N){var j=C+(R-v)/o;this.setState({maxHeight:j>Number(p)?p:j})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,s)},e.prototype.onResize=function(n,r,s,o){var i=this,l={x:this.originalPosition.x,y:this.originalPosition.y},c=-o.width,u=-o.height,d=["top","left","topLeft","bottomLeft","topRight"];d.includes(r)&&(r==="bottomLeft"?l.x+=c:(r==="topRight"||(l.x+=c),l.y+=u));var f=this.draggable.state;(l.x!==f.x||l.y!==f.y)&&Ps.flushSync(function(){i.draggable.setState(l)}),this.updateOffsetFromParent();var m=this.offsetFromParent,p=this.getDraggablePosition().x+m.left,y=this.getDraggablePosition().y+m.top;this.resizingPosition={x:p,y},this.props.onResize&&this.props.onResize(n,r,s,o,{x:p,y})},e.prototype.onResizeStop=function(n,r,s,o){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),l=i.maxWidth,c=i.maxHeight;this.setState({maxWidth:l,maxHeight:c}),this.props.onResizeStop&&this.props.onResizeStop(n,r,s,o,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),s=this.getSelfElement();if(!r||s===null)return{top:0,left:0};var o=r.getBoundingClientRect(),i=o.left,l=o.top,c=s.getBoundingClientRect(),u=this.getDraggablePosition(),d=r.scrollLeft,f=r.scrollTop;this.offsetFromParent={left:c.left-i+d-u.x*n,top:c.top-l+f-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,s=r.disableDragging,o=r.style,i=r.dragHandleClassName,l=r.position,c=r.onMouseDown,u=r.onMouseUp,d=r.dragAxis,f=r.dragGrid,m=r.bounds,p=r.enableUserSelectHack,y=r.cancel,x=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var _=r.resizeHandleStyles,S=r.resizeHandleClasses,v=r.resizeHandleComponent,b=r.enableResizing,T=r.resizeGrid,R=r.resizeHandleWrapperClass,L=r.resizeHandleWrapperStyle,C=r.scale,N=r.allowAnyClick,P=r.dragPositionOffset,I=cZ(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),k=this.props.default?pn({},this.props.default):void 0;delete I.default;var j=s||i?{cursor:"auto"}:{cursor:"move"},A=pn(pn(pn({},uZ),j),o),F=this.offsetFromParent,G=F.left,Y=F.top,q;l&&(q={x:l.x-G,y:l.y-Y});var O=this.state.resizing?void 0:q,V=this.state.resizing?"both":d;return g.createElement(ZX,{ref:function(Q){Q&&(n.draggable=Q)},handle:i?".".concat(i):void 0,defaultPosition:k,onMouseDown:c,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:V,disabled:s,grid:f,bounds:m?this.state.bounds:void 0,position:O,enableUserSelectHack:p,cancel:y,scale:C,allowAnyClick:N,nodeRef:this.resizableElement,positionOffset:P},g.createElement(iZ,pn({},I,{ref:function(Q){Q&&(n.resizable=Q,n.resizableElement.current=Q.resizable)},defaultSize:k,size:this.props.size,enable:typeof b=="boolean"?dZ(b):b,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:A,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:T,handleWrapperClass:R,handleWrapperStyle:L,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:_,handleClasses:S,handleComponent:v,scale:this.props.scale}),x))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e})(g.PureComponent);const hZ=()=>{const{dialogs:t,openDialog:e,closeDialog:n,produtoParaReporEstoque:r,limparProdutoParaReporEstoque:s,darkMode:o,setActiveModule:i}=g.useContext(Pr),{toast:l}=kr(),{data:c,loading:u,save:d,remove:f}=sh(),{data:m,loading:p,save:y,remove:x}=rh(),{data:_,loading:S,save:v,remove:b}=c1(),[T,R]=g.useState(""),[L,C]=g.useState(!1),[N,P]=g.useState(!1),[I,k]=g.useState(!1),[j,A]=g.useState(!1),[F,G]=g.useState(null),[Y,q]=g.useState(""),[O,V]=g.useState(!1),[Q,Z]=g.useState(null),[U,pe]=g.useState(null),[ce,Ne]=g.useState({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),[De,Se]=g.useState({nome:"",cor:"#8b5cf6"}),[Ie,ze]=g.useState({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),[H,ie]=g.useState(""),[ue,_e]=g.useState([]),[Be,at]=g.useState(!1),[z,fe]=g.useState(null),[qe,Ae]=g.useState(!1),[Me,Te]=g.useState("personalizada"),[Ge,Gt]=g.useState([]),[ge,de]=g.useState(null),[Ke,_t]=g.useState(null);g.useState(!1),g.useRef(null),g.useEffect(()=>{t.produto&&(Z(null),Ne({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),C(!0),n("produto")),t.movimentacao&&(r?(ze({produtoId:r.id,tipo:"entrada",quantidade:"",observacao:`Reposição de estoque - ${r.nome}`}),ie(r.nome),s()):(ze({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),ie(""),_e([]),at(!1)),k(!0),n("movimentacao"))},[t,n,r,s]);const Ft=async $=>{try{const ae=m.filter(le=>le.categoriaId===$);for(const le of ae)await x(le.id);await f($),z===$&&fe(null),l({title:"Sucesso!",description:"Categoria e produtos vinculados removidos!"})}catch(ae){console.error("[Estoque] ❌ Erro ao remover categoria:",ae),l({title:"Erro",description:"Erro ao remover categoria. Tente novamente.",variant:"destructive"})}},Mn=async $=>{if($.preventDefault(),console.log("[Estoque] ===== INICIANDO CADASTRO DE PRODUTO ====="),console.log("[Estoque] FormData:",ce),!ce.nome||!ce.codigo||!ce.preco||!ce.quantidade||!ce.categoriaId){console.log("[Estoque] ❌ Campos obrigatórios não preenchidos"),l({title:"Erro",description:"Todos os campos são obrigatórios!",variant:"destructive"});return}try{const ae={nome:ce.nome,codigo:ce.codigo,preco:parseFloat(ce.preco),quantidade:parseInt(ce.quantidade),categoriaId:ce.categoriaId,imagem:ce.imagem,createdAt:Q?Q.createdAt:new Date().toISOString()};console.log("[Estoque] ProdutoData preparado:",ae),console.log("[Estoque] Salvando produto..."),console.log("[Estoque] editingProduto?.id:",Q==null?void 0:Q.id);const le=await y(ae,Q==null?void 0:Q.id);console.log("[Estoque] ✅ Produto salvo com ID:",le),console.log("[Estoque] Verificando se produto aparece na lista..."),console.log("[Estoque] Forçando refresh dos dados..."),setTimeout(()=>{console.log("[Estoque] Produtos após salvamento:",m),console.log("[Estoque] Total de produtos:",m==null?void 0:m.length),console.log("[Estoque] Verificando localStorage:",JSON.parse(localStorage.getItem("crm_produtos")||"[]").length)},1e3),l({title:"Sucesso!",description:Q?"Produto atualizado!":"Produto cadastrado!"}),Ne({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),Z(null),C(!1),console.log("[Estoque] ===== PRODUTO CADASTRADO COM SUCESSO ====="),console.log("[Estoque] Formulário limpo e dialog fechado")}catch(ae){console.error("[Estoque] ❌ Erro ao salvar produto:",ae),l({title:"Erro",description:"Erro ao salvar produto. Tente novamente.",variant:"destructive"})}},En=$=>{Ne({nome:$.nome,codigo:$.codigo,preco:$.preco.toString(),quantidade:$.quantidade.toString(),categoriaId:$.categoriaId.toString(),imagem:$.imagem||null}),Z($),C(!0)},Yr=$=>{ze({produtoId:$.id,tipo:"entrada",quantidade:"",observacao:`Reposição de estoque - ${$.nome}`}),ie($.nome),k(!0),V(!1)},Wn=($,ae)=>{const le=m.find(ut=>ut.id===ae);if(le){const ut=$==="entrada"?`Reposição de estoque - ${le.nome}`:`Saída de estoque - ${le.nome}`;ze(Zt=>({...Zt,tipo:$,observacao:ut}))}},Ir=async $=>{try{await x($),l({title:"Sucesso!",description:"Produto removido!"})}catch(ae){console.error("[Estoque] ❌ Erro ao remover produto:",ae),l({title:"Erro",description:"Erro ao remover produto. Tente novamente.",variant:"destructive"})}},On=($,ae)=>{G($),q(ae),A(!0)},Ar=$=>{if(ie($),$.length>0){const ae=m.filter(le=>le.nome.toLowerCase().includes($.toLowerCase())||le.codigo.toLowerCase().includes($.toLowerCase()));_e(ae),at(!0)}else _e([]),at(!1)},Rr=$=>{ze({...Ie,produtoId:$.id}),ie($.nome),at(!1)};g.useEffect(()=>{I||(ie(""),_e([]),at(!1))},[I]);const fn=async $=>{if($.preventDefault(),!Ie.produtoId||!Ie.quantidade){l({title:"Erro",description:"Produto e quantidade são obrigatórios!",variant:"destructive"});return}try{const ae=m.find(Zt=>Zt.id===Ie.produtoId),le=parseInt(Ie.quantidade);if(Ie.tipo==="saida"&&ae.quantidade<le){l({title:"Erro",description:"Quantidade insuficiente em estoque!",variant:"destructive"});return}await v({produtoId:Ie.produtoId,produtoNome:ae.nome,tipo:Ie.tipo,quantidade:le,observacao:Ie.observacao,createdAt:new Date().toISOString()});const ut={...ae,quantidade:Ie.tipo==="entrada"?ae.quantidade+le:ae.quantidade-le};await y(ut,ae.id),l({title:"Sucesso!",description:`Movimentação de ${Ie.tipo} registrada!`}),ze({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),k(!1)}catch(ae){console.error("[Estoque] ❌ Erro ao registrar movimentação:",ae),l({title:"Erro",description:"Erro ao registrar movimentação. Tente novamente.",variant:"destructive"})}},Hn=new Date().toISOString().slice(0,10),M=(_||[]).filter($=>{var le;const ae=(le=$.createdAt)!=null&&le.toDate?$.createdAt.toDate().toISOString():$.createdAt;return(ae==null?void 0:ae.slice(0,10))===Hn}),Ce=(m||[]).filter($=>{var ae,le;return((ae=$.nome)==null?void 0:ae.toLowerCase().includes(T.toLowerCase()))||((le=$.codigo)==null?void 0:le.toLowerCase().includes(T.toLowerCase()))}),te=$=>{if(console.log("[Estoque] ===== UPLOAD DE IMAGEM ====="),console.log("[Estoque] Arquivos aceitos:",$),$.length===0){console.log("[Estoque] ❌ Nenhum arquivo aceito");return}const ae=$[0];if(console.log("[Estoque] Arquivo selecionado:",ae),ae.size>2*1024*1024){console.log("[Estoque] ❌ Arquivo muito grande:",ae.size),l({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 2MB.",variant:"destructive"});return}const le=new FileReader;le.onload=()=>{const ut=new Image;ut.onload=()=>{const Zt=document.createElement("canvas"),it=Zt.getContext("2d"),Je=1e3;let{width:St,height:ds}=ut;St>ds?St>Je&&(ds=ds*Je/St,St=Je):ds>Je&&(St=St*Je/ds,ds=Je),Zt.width=St,Zt.height=ds,it.drawImage(ut,0,0,St,ds);const zc=Zt.toDataURL("image/jpeg",.9);console.log("[Estoque] ✅ Imagem comprimida, tamanho original:",le.result.length,"comprimida:",zc.length),Ne(Bc=>({...Bc,imagem:zc}))},ut.src=le.result},le.onerror=()=>{console.log("[Estoque] ❌ Erro ao ler arquivo"),l({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},le.readAsDataURL(ae)},{getRootProps:we,getInputProps:ve,isDragActive:Xe}=cb({onDrop:te,accept:{"image/*":[]}}),Oe=m.filter($=>$.quantidade<=5),yt=$=>{de($)},B=($,ae)=>{$.preventDefault(),_t(ae)},ne=()=>{if(ge!==null&&Ke!==null&&ge!==Ke){const $=[...Ge],ae=$[ge];$.splice(ge,1),$.splice(Ke,0,ae),Gt($)}de(null),_t(null)},oe=async()=>{try{console.log("[Estoque] 🚀 Iniciando salvamento da nova ordem das categorias"),console.log("[Estoque] Categorias reordenadas:",Ge.map(ae=>({id:ae.id,nome:ae.nome,ordemAtual:ae.ordem})));let $=0;for(let ae=0;ae<Ge.length;ae++){const le=Ge[ae];if(le.ordem!==ae){console.log(`[Estoque] Atualizando categoria "${le.nome}" (ID: ${le.id}) da ordem ${le.ordem} para ${ae}`);const ut={...le,ordem:ae,updatedAt:new Date().toISOString()};console.log("[Estoque] Dados a serem salvos:",ut);const Zt=await d(ut,le.id);console.log("[Estoque] Resultado do salvamento:",Zt),$++}else console.log(`[Estoque] Categoria "${le.nome}" já está na ordem correta (${ae}), pulando...`)}console.log(`[Estoque] ✅ Salvamento concluído! ${$} categorias atualizadas`),l({title:"Sucesso!",description:`Ordem de ${$} categorias salva com sucesso!`}),Ae(!1)}catch($){console.error("[Estoque] ❌ Erro ao salvar ordem das categorias:",$),console.error("[Estoque] Stack trace:",$.stack),l({title:"Erro!",description:`Erro ao salvar ordem das categorias: ${$.message}`,variant:"destructive"})}},Ee=$=>{let ae=[...c];switch($){case"alfabetica":ae.sort((le,ut)=>le.nome.localeCompare(ut.nome));break;case"mais_produtos":ae.sort((le,ut)=>{const Zt=m.filter(Je=>Je.categoriaId===le.id).length;return m.filter(Je=>Je.categoriaId===ut.id).length-Zt});break;case"menos_produtos":ae.sort((le,ut)=>{const Zt=m.filter(Je=>Je.categoriaId===le.id).length,it=m.filter(Je=>Je.categoriaId===ut.id).length;return Zt-it});break;default:ae.sort((le,ut)=>(le.ordem||0)-(ut.ordem||0))}Gt(ae)};return g.useEffect(()=>{qe&&Gt([...c])},[qe,c]),console.log("[Estoque] Produtos:",m==null?void 0:m.length,"Categorias:",c==null?void 0:c.length),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-orange-600 via-red-600 to-pink-600 rounded-2xl p-6 text-white",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",children:"📦 Estoque"}),a.jsx("p",{className:"text-orange-100 text-lg",children:"Gerencie categorias, produtos e movimentações"})]}),a.jsx(me.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex flex-col gap-3",children:Oe.length>0&&a.jsxs(me.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:()=>V(!0),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 rounded-lg p-3 transition-all duration-200 cursor-pointer flex items-center gap-3",children:[a.jsx(_s,{className:"h-5 w-5 text-yellow-200 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white",children:"Estoque Crítico"}),a.jsxs("p",{className:"text-xs text-orange-100",children:[Oe.length," produto(s)"]})]})]})})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(An,{className:"h-5 w-5 text-blue-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Total Produtos"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:(m==null?void 0:m.length)||0})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(vv,{className:"h-5 w-5 text-green-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Categorias"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:(c==null?void 0:c.length)||0})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(_s,{className:"h-5 w-5 text-yellow-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Crítico"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Oe.length})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(yn,{className:"h-5 w-5 text-purple-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Movimentações"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:M.length})]})]})})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-4 h-fit",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(X,{onClick:()=>fe(null),variant:z===null?"default":"outline",className:"w-full justify-start",children:"Todos os Produtos"}),a.jsxs(X,{onClick:()=>{pe(null),Se({nome:"",cor:"#8b5cf6"}),P(!0)},variant:"outline",className:"w-full justify-start bg-violet-500 text-white hover:bg-violet-600",children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"}),a.jsx(vv,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]}),a.jsx("div",{className:"mt-4 space-y-1",children:c.map($=>a.jsxs("div",{className:"flex items-center justify-between group",children:[a.jsx(X,{onClick:()=>fe($.id),variant:z===$.id?"default":"ghost",className:"flex-1 justify-start text-left border-l-2",style:{borderLeftColor:$.cor},children:$.nome}),a.jsx("button",{title:"Editar categoria",className:"p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-800 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{pe($),Se({nome:$.nome,cor:$.cor||"#8b5cf6"}),P(!0)},children:a.jsx(rs,{className:"h-4 w-4"})}),a.jsx("button",{title:"Excluir categoria",className:"p-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Ft($.id),children:a.jsx(ss,{className:"h-4 w-4 text-red-500"})})]},$.id))})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700 mb-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[a.jsx(Oa,{defaultValue:"produtos",className:"flex-1",children:a.jsxs(La,{className:"h-12 px-1",children:[a.jsx(wn,{value:"produtos",className:"px-6",children:"Produtos"}),a.jsx(wn,{value:"movimentacoes",className:"px-6",children:"Movimentações"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(zu,{className:"h-5 w-5 text-blue-500"}),"Informações da Categoria"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Nome da Categoria *"}),a.jsx(xe,{value:De.nome,onChange:$=>Se({...De,nome:$.target.value}),placeholder:"Ex: Eletrônicos, Roupas, Acessórios...",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Cor da Categoria *"}),a.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[a.jsx(xe,{type:"color",value:De.cor,onChange:$=>Se({...De,cor:$.target.value}),className:"w-16 h-10 rounded-lg border-2 border-slate-300 dark:border-slate-600"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-slate-300 dark:border-slate-600",style:{backgroundColor:De.cor}}),a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:De.cor})]})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Escolha uma cor que represente bem sua categoria"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(X,{type:"submit",className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2",children:U?"Atualizar Categoria":"Criar Categoria"}),a.jsx(X,{type:"button",variant:"outline",onClick:()=>{P(!1),pe(null),Se({nome:"",cor:"#8b5cf6"})},className:"flex-1",children:"Cancelar"})]}),a.jsxs(_n,{open:L,onOpenChange:C,children:[a.jsx(Px,{asChild:!0,children:a.jsx(X,{size:"sm",className:"bg-gradient-to-r from-orange-500 to-red-500",children:"Novo Produto"})}),a.jsxs(an,{className:`sm:max-w-2xl bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(ln,{children:a.jsxs(cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(An,{className:"h-6 w-6 text-green-500"}),Q?"Editar Produto":"Novo Produto"]})}),a.jsxs("form",{onSubmit:Mn,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(An,{className:"h-5 w-5 text-blue-500"}),"Informações Básicas"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Nome do Produto *"}),a.jsx(xe,{value:ce.nome,onChange:$=>{if(Ne({...ce,nome:$.target.value}),!ce.codigo&&$.target.value){const ae=$.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,6)+String(Date.now()).slice(-4);Ne(le=>({...le,codigo:ae}))}},placeholder:"Ex: Mouse Gamer RGB",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Preço *"}),a.jsx(xe,{type:"number",step:"0.01",value:ce.preco,onChange:$=>Ne({...ce,preco:$.target.value}),placeholder:"0.00",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Quantidade *"}),a.jsx(xe,{type:"number",value:ce.quantidade,onChange:$=>Ne({...ce,quantidade:$.target.value}),placeholder:"0",className:"mt-1",required:!0})]})]})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(zu,{className:"h-5 w-5 text-purple-500"}),"Categoria"]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Categoria *"}),a.jsxs(vt,{value:ce.categoriaId,onValueChange:$=>Ne({...ce,categoriaId:$}),className:"mt-1",children:[a.jsx(ft,{children:a.jsx(xt,{placeholder:"Selecione uma categoria..."})}),a.jsx(mt,{children:c.map($=>a.jsx(se,{value:$.id.toString(),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:$.cor}}),$.nome]})},$.id))})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(yn,{className:"h-5 w-5 text-orange-500"}),"Código do Produto"]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Código (Gerado Automaticamente)"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(xe,{value:ce.codigo,onChange:$=>Ne({...ce,codigo:$.target.value}),placeholder:"Será gerado automaticamente",className:"pr-10",required:!0}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",title:"Gerado automaticamente"})})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Código gerado automaticamente baseado no nome do produto"})]})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(ji,{className:"h-5 w-5 text-indigo-500"}),"Imagem do Produto"]}),a.jsxs("div",{...we(),className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all duration-200 ${Xe?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 scale-105":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/70"} ${ce.imagem?"bg-slate-50 dark:bg-slate-800/50":""}`,children:[a.jsx("input",{...ve()}),ce.imagem?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:ce.imagem,alt:"Preview do produto",className:"max-w-full max-h-40 object-contain rounded-lg border-2 border-slate-200 dark:border-slate-700 shadow-lg"}),a.jsx("button",{type:"button",onClick:$=>{$.stopPropagation(),Ne({...ce,imagem:null})},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(jr,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"✨ Clique ou arraste para alterar a imagem"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center",children:a.jsx(ji,{className:"w-10 h-10 text-slate-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:Xe?"🎯 Solte a imagem aqui":"📷 Arraste uma imagem ou clique para selecionar"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"PNG, JPG até 2MB • Redimensionada para 1000x1000px"})]})]})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(X,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2",children:Q?"Atualizar Produto":"Cadastrar Produto"}),a.jsx(X,{type:"button",variant:"outline",onClick:()=>{C(!1),Z(null),Ne({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null})},className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(_n,{open:I,onOpenChange:k,children:[a.jsx(Px,{asChild:!0,children:a.jsx(X,{size:"sm",variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20",children:"Movimentação"})}),a.jsxs(an,{className:`sm:max-w-lg bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(ln,{children:a.jsxs(cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(er,{className:"h-6 w-6 text-orange-500"}),"Nova Movimentação"]})}),a.jsxs("form",{onSubmit:fn,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(An,{className:"h-5 w-5 text-blue-500"}),"Dados da Movimentação"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(J,{className:"text-sm font-medium",children:"Produto *"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(xe,{value:H,onChange:$=>Ar($.target.value),placeholder:"Digite o nome ou código do produto...",className:"pr-10"}),a.jsx(wr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Be&&ue.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto max-w-full",children:ue.map($=>a.jsx("div",{onClick:()=>Rr($),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[$.imagem&&a.jsx("img",{src:$.imagem,alt:$.nome,className:"w-8 h-8 object-cover rounded border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:$.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Código: ",$.codigo," | Estoque: ",$.quantidade]})]})]})},$.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome ou código do produto para buscar"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Tipo de Movimentação *"}),a.jsxs(vt,{value:Ie.tipo,onValueChange:$=>Wn($,Ie.produtoId),className:"mt-1",children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"entrada",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(er,{className:"h-4 w-4 text-green-500"}),"Entrada"]})}),a.jsx(se,{value:"saida",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xo,{className:"h-4 w-4 text-red-500"}),"Saída"]})})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Quantidade *"}),a.jsx(xe,{type:"number",min:"1",value:Ie.quantidade,onChange:$=>ze({...Ie,quantidade:$.target.value}),placeholder:"0",className:"mt-1",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"text-sm font-medium",children:"Observação"}),a.jsx(xe,{value:Ie.observacao,onChange:$=>ze({...Ie,observacao:$.target.value}),placeholder:"Ex: Compra, venda, ajuste de estoque...",className:"mt-1"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Descreva o motivo da movimentação"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(X,{type:"submit",className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2",children:"Registrar Movimentação"}),a.jsx(X,{type:"button",variant:"outline",onClick:()=>{k(!1),ze({produtoId:"",tipo:"entrada",quantidade:"",observacao:""})},className:"flex-1",children:"Cancelar"})]})]})]})]})]})}),a.jsxs(Oa,{defaultValue:"produtos",className:"flex-1",children:[a.jsxs(bn,{value:"produtos",className:"space-y-6",children:[a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-auto sm:max-w-sm",children:[a.jsx(wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(xe,{placeholder:"Buscar por nome ou código...",value:T,onChange:$=>R($.target.value),className:"w-full sm:w-auto pl-10"})]}),a.jsxs(X,{onClick:()=>Ae(!0),variant:"outline",size:"sm",className:"bg-black text-white hover:bg-gray-800 dark:bg-gray-900 dark:hover:bg-gray-800",children:[a.jsx(yn,{className:"h-4 w-4 mr-2"}),"Reordenar Categorias"]})]})}),z===null?c.map($=>{const ae=Ce.filter(le=>le.categoriaId===$.id);return ae.length===0?null:a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-4",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 rounded-xl p-4 border-2",style:{borderColor:$.cor},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg",style:{backgroundColor:$.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-xl",children:$.nome}),a.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-sm px-3 py-1 rounded-full font-medium",children:[ae.length," produtos"]})]}),a.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{Z(null),Ne({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:$.id.toString(),imagem:null}),C(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white border-blue-500 shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Produto"]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ae.map((le,ut)=>a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ut*.1},whileHover:{y:-5},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group",children:a.jsxs("div",{className:"flex gap-3",children:[le.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:le.imagem,alt:le.nome,className:"w-20 h-20 object-cover rounded-lg shadow-md border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-lg transition-all duration-200",onClick:()=>On(le.imagem,le.nome)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:le.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",le.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Vn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(le.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(yn,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${le.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[le.quantidade," ",le.quantidade<=5&&"(Baixo)"]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>En(le),className:"h-6 w-6 hover:bg-blue-100 dark:hover:bg-blue-900/20",children:a.jsx(rs,{className:"h-3 w-3"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>Ir(le.id),className:"h-6 w-6 text-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20",children:a.jsx(ss,{className:"h-3 w-3"})})]})]})},le.id))})]},$.id)}):c.filter($=>$.id===z).map($=>{const ae=Ce.filter(le=>le.categoriaId===$.id);return a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-4",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 rounded-xl p-4 border-2",style:{borderColor:$.cor},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg",style:{backgroundColor:$.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-xl",children:$.nome}),a.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-sm px-3 py-1 rounded-full font-medium",children:[ae.length," produtos"]})]}),a.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{Z(null),Ne({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:$.id.toString(),imagem:null}),C(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white border-blue-500 shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Produto"]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ae.map((le,ut)=>a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ut*.1},whileHover:{y:-5},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group",children:a.jsxs("div",{className:"flex gap-3",children:[le.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:le.imagem,alt:le.nome,className:"w-20 h-20 object-cover rounded-lg shadow-md border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-lg transition-all duration-200",onClick:()=>On(le.imagem,le.nome)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:le.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",le.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Vn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(le.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(yn,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${le.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[le.quantidade," ",le.quantidade<=5&&"(Baixo)"]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>En(le),className:"h-6 w-6 hover:bg-blue-100 dark:hover:bg-blue-900/20",children:a.jsx(rs,{className:"h-3 w-3"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>Ir(le.id),className:"h-6 w-6 text-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20",children:a.jsx(ss,{className:"h-3 w-3"})})]})]})},le.id))})]},$.id)}),Ce.length===0&&a.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(An,{className:"h-12 w-12 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:T?"Nenhum produto encontrado":"Nenhum produto cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:T?"Tente buscar com outros termos":"Cadastre produtos para começar a gerenciar seu estoque"}),!T&&a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsxs(X,{onClick:()=>C(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold px-6 py-3 shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(Rn,{className:"h-5 w-5 mr-2"}),"Cadastrar Produto"]}),a.jsxs(X,{onClick:()=>P(!0),variant:"outline",className:"border-violet-500 text-violet-500 hover:bg-violet-50 dark:hover:bg-violet-900/20 font-semibold px-6 py-3",children:[a.jsx(vv,{className:"h-5 w-5 mr-2"}),"Criar Categoria"]})]})]})]}),a.jsx(bn,{value:"movimentacoes",className:"space-y-6",children:M.length===0?a.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(yn,{className:"h-12 w-12 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhuma movimentação hoje"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"As movimentações de entrada e saída aparecerão aqui"}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsxs(X,{onClick:()=>k(!0),className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-semibold px-6 py-3 shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(Rn,{className:"h-5 w-5 mr-2"}),"Nova Movimentação"]}),a.jsxs(X,{onClick:()=>i("ov"),variant:"outline",className:"border-blue-500 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 font-semibold px-6 py-3",children:[a.jsx(gr,{className:"h-5 w-5 mr-2"}),"Ir para Vendas"]})]})]}):a.jsx("div",{className:"space-y-4",children:M.map(($,ae)=>{var le;return a.jsx(me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:ae*.1},className:`bg-white dark:bg-slate-800 rounded-xl p-4 border-2 shadow-lg hover:shadow-xl transition-all duration-300 ${$.tipo==="entrada"?"border-green-200 dark:border-green-700 bg-green-50/30 dark:bg-green-900/10":"border-red-200 dark:border-red-700 bg-red-50/30 dark:bg-red-900/10"}`,children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:`p-2 rounded-full ${$.tipo==="entrada"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:$.tipo==="entrada"?a.jsx(er,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):a.jsx(xo,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:$.produtoNome}),a.jsxs("p",{className:`text-sm font-medium ${$.tipo==="entrada"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:[$.tipo==="entrada"?"Entrada":"Saída"," de ",$.quantidade," unidades"]})]})]}),$.observacao&&a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2 bg-slate-100 dark:bg-slate-700/50 p-2 rounded border-l-2 border-slate-300 dark:border-slate-600",children:[a.jsx("span",{className:"font-medium",children:"Obs:"})," ",$.observacao]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[a.jsx(An,{className:"h-3 w-3"}),new Date((le=$.createdAt)!=null&&le.toDate?$.createdAt.toDate():$.createdAt).toLocaleString("pt-BR")]})]})})},$.id)})})})]})]})]}),a.jsx(_n,{open:j,onOpenChange:A,children:a.jsxs(an,{className:`sm:max-w-4xl w-full max-w-[90vw] bg-white dark:bg-slate-900 border-0 p-0 overflow-hidden ${o?"":"shadow-2xl"}`,children:[a.jsx(ln,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:a.jsxs(cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(oz,{className:"h-7 w-7"}),Y]})}),a.jsx("div",{className:"relative bg-slate-50 dark:bg-slate-800 min-h-[60vh] flex items-center justify-center p-8",children:F&&a.jsxs("div",{className:"relative group",children:[a.jsxs(me.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"relative overflow-hidden rounded-2xl shadow-2xl",children:[a.jsx("img",{src:F,alt:Y,className:"max-w-full max-h-[60vh] object-contain rounded-2xl transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 rounded-2xl"}),a.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsxs(X,{size:"sm",variant:"secondary",onClick:()=>{const $=document.createElement("a");$.href=F,$.download=`${Y}.jpg`,$.click()},className:"bg-white/90 hover:bg-white text-slate-900 shadow-lg",children:[a.jsx(ac,{className:"h-4 w-4 mr-2"}),"Download"]})})]}),a.jsx(me.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.1},className:"mt-6 text-center",children:a.jsx("div",{className:"bg-white dark:bg-slate-700 rounded-xl p-4 shadow-lg",children:a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:Y})})})]})}),a.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(ji,{className:"h-4 w-4"}),"Clique fora da imagem ou use ESC para fechar"]}),a.jsx(X,{variant:"outline",onClick:()=>A(!1),className:"bg-white dark:bg-slate-700",children:"Fechar"})]})]})}),a.jsx(_n,{open:qe,onOpenChange:Ae,children:a.jsxs(an,{className:`sm:max-w-3xl bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 ${o?"shadow-2xl shadow-slate-900/50":"shadow-2xl border-slate-200"}`,children:[a.jsx(ln,{children:a.jsxs(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs(cn,{className:"flex items-center gap-3 text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[a.jsx(me.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:a.jsx(yn,{className:"h-6 w-6 text-blue-500"})}),"Reordenar Categorias"]}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Organize suas categorias da forma que preferir"})]})}),a.jsxs(me.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.3},children:[a.jsxs(me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.3},className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-200 dark:border-slate-700 w-full max-w-full",children:[a.jsxs(J,{className:"text-sm font-semibold flex items-center gap-2 mb-3",children:[a.jsx(er,{className:"h-4 w-4 text-blue-500"}),"Tipo de Ordenação:"]}),a.jsxs(vt,{value:Me,onValueChange:$=>{Te($),Ee($)},children:[a.jsx(ft,{className:"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 hover:border-blue-400 transition-colors",children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"personalizada",children:"🎯 Personalizada (Arrastar e Soltar)"}),a.jsx(se,{value:"alfabetica",children:"🔤 Ordem Alfabética"}),a.jsx(se,{value:"mais_produtos",children:"📈 Mais Produtos"}),a.jsx(se,{value:"menos_produtos",children:"📉 Menos Produtos"})]})]})]}),a.jsx(me.div,{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:Ge.map(($,ae)=>{const le=m.filter(ut=>ut.categoriaId===$.id);return a.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*ae,duration:.3},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},draggable:Me==="personalizada",onDragStart:()=>yt(ae),onDragOver:ut=>B(ut,ae),onDrop:ne,className:`group relative p-4 rounded-xl cursor-move transition-all duration-300 ${ge===ae?"border-2 border-blue-400 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 shadow-lg shadow-blue-500/20 scale-105":"border border-slate-200 dark:border-slate-700 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm hover:border-slate-300 dark:hover:border-slate-600 hover:shadow-lg hover:shadow-slate-500/10"} ${o?"":"bg-white/70"}`,style:{borderLeftColor:$.cor,borderLeftWidth:"4px",boxShadow:ge===ae?`0 10px 25px -5px ${$.cor}20`:void 0},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(me.div,{className:"w-6 h-6 rounded-full shadow-lg",style:{backgroundColor:$.cor},whileHover:{scale:1.2},transition:{type:"spring",stiffness:300}}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:$.nome}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[le.length," produto",le.length!==1?"s":""]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(me.div,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400},children:["#",ae+1]}),Me==="personalizada"&&a.jsxs(me.div,{className:"flex flex-col gap-1",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:[a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"})]})]})]}),a.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},$.id)})}),a.jsxs(me.div,{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},children:[a.jsx(X,{variant:"outline",onClick:()=>Ae(!1),className:"hover:bg-slate-100 dark:hover:bg-slate-700 transition-all duration-200",children:"Cancelar"}),a.jsx(me.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(X,{onClick:oe,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(yn,{className:"h-4 w-4 mr-2"}),"Salvar Ordem"]})})]})]})]})}),a.jsx(_n,{open:O,onOpenChange:V,children:a.jsxs(an,{className:`sm:max-w-2xl bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(ln,{children:a.jsxs(cn,{className:"flex items-center gap-2",children:[a.jsx(_s,{className:"h-5 w-5 text-yellow-500"}),"Estoque Crítico"]})}),a.jsx("div",{className:"space-y-3",children:Oe.map($=>{const ae=c.find(le=>le.id===$.categoriaId);return a.jsx(me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:$.nome}),a.jsxs("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:["Categoria: ",(ae==null?void 0:ae.nome)||"Sem categoria"," | Estoque: ",a.jsx("span",{className:"font-bold",children:$.quantidade})," unidades"]})]}),a.jsx(X,{size:"sm",onClick:()=>Yr($),className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Repor Estoque"})]})},$.id)})})]})})]})},Fs=$e.forwardRef(({className:t,checked:e,onCheckedChange:n,...r},s)=>a.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>n==null?void 0:n(!e),className:rt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e?"bg-primary":"bg-input",t),ref:s,...r,children:a.jsx("span",{className:rt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",e?"translate-x-5":"translate-x-0")})}));Fs.displayName="Switch";const fZ=({lancamentos:t,onParcelaClick:e})=>{const[n,r]=g.useState(new Date),o=t.filter(m=>m.parcelado).reduce((m,p)=>{const y=new Date(p.dataVencimento),x=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`;return m[x]||(m[x]=[]),m[x].push(p),m},{}),l=(m=>{const p=m.getFullYear(),y=m.getMonth(),x=new Date(p,y,1),S=new Date(p,y+1,0).getDate(),v=x.getDay(),b=[];for(let T=0;T<v;T++)b.push(null);for(let T=1;T<=S;T++)b.push(new Date(p,y,T));return b})(n),c=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],u=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],d=m=>{const p=new Date(n);p.setMonth(p.getMonth()+m),r(p)},f=(m,p)=>m==="Pendente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":m==="Recebido"&&p==="receber"||m==="Pago"&&p==="pagar"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300";return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:[u[n.getMonth()]," ",n.getFullYear()]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:()=>d(-1),children:"←"}),a.jsx(X,{variant:"outline",size:"sm",onClick:()=>r(new Date),children:"Hoje"}),a.jsx(X,{variant:"outline",size:"sm",onClick:()=>d(1),children:"→"})]})]}),a.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[c.map(m=>a.jsx("div",{className:"p-2 text-center text-sm font-medium text-slate-600 dark:text-slate-400",children:m},m)),l.map((m,p)=>{if(!m)return a.jsx("div",{className:"p-2 h-20"},p);const y=`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}-${String(m.getDate()).padStart(2,"0")}`,x=o[y]||[],_=new Date,S=m.toDateString()===_.toDateString(),v=m<_&&!S;return a.jsx("div",{className:`p-2 h-20 border border-slate-200 dark:border-slate-700 rounded-lg ${S?"bg-blue-50 dark:bg-blue-900/20 border-blue-300":v?"bg-slate-50 dark:bg-slate-800":"bg-white dark:bg-slate-700"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:`text-sm font-medium mb-1 ${S?"text-blue-600 dark:text-blue-400":v?"text-slate-500":"text-slate-900 dark:text-white"}`,children:m.getDate()}),a.jsxs("div",{className:"flex-1 space-y-1 overflow-hidden",children:[x.slice(0,2).map((b,T)=>a.jsxs("div",{className:`text-xs p-1 rounded truncate cursor-pointer hover:shadow-md transition-all ${f(b.status,b.tipo)}`,title:`${b.descricao} - R$ ${b.valor.toFixed(2)} - Clique para editar`,onClick:()=>e&&e(b),children:[a.jsx("div",{className:"truncate",children:b.descricao}),a.jsxs("div",{className:"font-semibold",children:["R$ ",b.valor.toFixed(2)]})]},T)),x.length>2&&a.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["+",x.length-2," mais"]})]})]})},p)})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-100 dark:bg-yellow-900/30 rounded"}),a.jsx("span",{children:"Pendente"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-100 dark:bg-green-900/30 rounded"}),a.jsx("span",{children:"Pago/Recebido"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-50 dark:bg-blue-900/20 rounded"}),a.jsx("span",{children:"Hoje"})]})]})]})},mZ=()=>{var Be,at;const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(Pr),{toast:r}=kr(),{data:s,loading:o,save:i,remove:l}=oh(),[c,u]=g.useState(""),[d,f]=g.useState(!1),[m,p]=g.useState(!1),[y,x]=g.useState(!1),[_,S]=g.useState(!1),[v,b]=g.useState(!1),[T,R]=g.useState(null),[L,C]=g.useState(null),[N,P]=g.useState({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),[I,k]=g.useState({dataInicio:"",dataFim:"",tipo:"todos",status:"todos"});g.useEffect(()=>{t.lancamento&&(C(null),P({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),f(!0),n("lancamento"))},[t,n]),console.log("[Financeiro] ===== DADOS CARREGADOS ====="),console.log("[Financeiro] Lançamentos:",s),console.log("[Financeiro] Loading:",o);const j=async z=>{if(z.preventDefault(),!N.descricao||!N.valor||!N.dataVencimento){r({title:"Erro",description:"Todos os campos obrigatórios devem ser preenchidos!",variant:"destructive"});return}try{const fe=parseFloat(N.valor),qe=N.parcelado?parseInt(N.numeroParcelas):1,Ae=fe/qe,Me=[];for(let Te=0;Te<qe;Te++){const[Ge,Gt,ge]=N.dataVencimento.split("-").map(Number),de=new Date(Ge,Gt-1,ge);if(N.parcelado&&Te>0)switch(N.intervaloParcelas){case"mensal":de.setMonth(de.getMonth()+Te);break;case"quinzenal":de.setDate(de.getDate()+Te*15);break;case"semanal":de.setDate(de.getDate()+Te*7);break;default:de.setMonth(de.getMonth()+Te)}const Ke=de.getFullYear(),_t=String(de.getMonth()+1).padStart(2,"0"),Ft=String(de.getDate()).padStart(2,"0"),Mn=`${Ke}-${_t}-${Ft}`,En={descricao:N.parcelado?`${N.descricao} - Parcela ${Te+1}/${qe}`:N.descricao,valor:Ae,dataVencimento:Mn,tipo:N.tipo,status:N.status,parcelado:N.parcelado,numeroParcela:N.parcelado?Te+1:null,totalParcelas:N.parcelado?qe:null,valorTotal:N.parcelado?fe:null,createdAt:L?L.createdAt:new Date().toISOString()};Me.push(En)}for(const Te of Me)await i(Te,L==null?void 0:L.id);r(L?{title:"Sucesso!",description:"Lançamento atualizado com sucesso!"}:{title:"Sucesso!",description:N.parcelado?`${qe} parcelas criadas com sucesso!`:"Lançamento criado com sucesso!"}),P({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),C(null),f(!1)}catch(fe){console.error("[Financeiro] ❌ Erro ao salvar lançamento:",fe),r({title:"Erro",description:"Erro ao salvar lançamento. Tente novamente.",variant:"destructive"})}},A=z=>{z.isGrupoParcelas?(R(z),b(!0)):(C(z),P({descricao:z.descricao,valor:z.valor.toString(),dataVencimento:z.dataVencimento,tipo:z.tipo,status:z.status,parcelado:z.parcelado||!1,numeroParcelas:z.totalParcelas||1,intervaloParcelas:"mensal"}),f(!0))},F=async z=>{try{await l(z),r({title:"Sucesso!",description:"Lançamento removido com sucesso!"})}catch(fe){console.error("[Financeiro] ❌ Erro ao remover lançamento:",fe),r({title:"Erro",description:"Erro ao remover lançamento. Tente novamente.",variant:"destructive"})}},G=z=>{S(!1),A(z)},Y=async z=>{try{const fe=z.tipo==="receber"?"Recebido":"Pago";console.log("[Financeiro] 🚀 Iniciando dar baixa na parcela:",z),console.log("[Financeiro] 📝 Novo status:",fe),console.log("[Financeiro] 🆔 ID da parcela:",z.id);const qe=await i({...z,status:fe,updatedAt:new Date().toISOString()},z.id);console.log("[Financeiro] ✅ Resultado do salvamento:",qe),b(!1),r({title:"Sucesso!",description:`Parcela ${z.numeroParcela} ${z.tipo==="receber"?"recebida":"paga"} com sucesso!`}),setTimeout(()=>{T&&(console.log("[Financeiro] 🔄 Reabrindo modal de detalhes..."),b(!0))},1500)}catch(fe){console.error("[Financeiro] ❌ Erro ao dar baixa na parcela:",fe),r({title:"Erro",description:"Erro ao dar baixa na parcela. Tente novamente.",variant:"destructive"})}},q=async z=>{try{const fe=s.find(Me=>Me.id===z);if(!fe)return;const qe=fe.status==="Pendente"?fe.tipo==="receber"?"Recebido":"Pago":"Pendente",Ae={...fe,status:qe};await i(Ae,z),r({title:"Sucesso!",description:"Status atualizado com sucesso!"})}catch(fe){console.error("[Financeiro] ❌ Erro ao atualizar status:",fe),r({title:"Erro",description:"Erro ao atualizar status. Tente novamente.",variant:"destructive"})}},O=()=>{const z=ce.map(Te=>({Descrição:Te.descricao,Valor:Te.valor,Tipo:Te.tipo==="receber"?"A Receber":"A Pagar",Status:Te.status,"Data Vencimento":new Date(Te.dataVencimento).toLocaleDateString("pt-BR"),"Data Criação":new Date(Te.createdAt).toLocaleDateString("pt-BR")})),fe=[Object.keys(z[0]).join(","),...z.map(Te=>Object.values(Te).map(Ge=>`"${Ge}"`).join(","))].join(`
`),qe=new Blob([fe],{type:"text/csv;charset=utf-8;"}),Ae=document.createElement("a"),Me=URL.createObjectURL(qe);Ae.setAttribute("href",Me),Ae.setAttribute("download",`financeiro_${new Date().toISOString().slice(0,10)}.csv`),Ae.style.visibility="hidden",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),r({title:"Sucesso!",description:"Arquivo CSV exportado com sucesso!"})},V=()=>{r({title:"Em desenvolvimento",description:"Funcionalidade de exportação PDF será implementada em breve!",variant:"default"})},Q=()=>{window.print(),r({title:"Sucesso!",description:"Relatório enviado para impressão!"})},Z=()=>{const z=new Date,fe=z.getMonth(),qe=z.getFullYear(),Ae=s.filter(de=>{const Ke=new Date(de.createdAt);return Ke.getMonth()===fe&&Ke.getFullYear()===qe}),Me={totalReceber:Ae.filter(de=>de.tipo==="receber").reduce((de,Ke)=>de+Ke.valor,0),totalPagar:Ae.filter(de=>de.tipo==="pagar").reduce((de,Ke)=>de+Ke.valor,0),totalRecebido:Ae.filter(de=>de.tipo==="receber"&&de.status==="Recebido").reduce((de,Ke)=>de+Ke.valor,0),totalPago:Ae.filter(de=>de.tipo==="pagar"&&de.status==="Pago").reduce((de,Ke)=>de+Ke.valor,0),contasVencidas:s.filter(de=>ue(de.dataVencimento,de.status)).length},Te=`
RELATÓRIO FINANCEIRO - ${z.toLocaleDateString("pt-BR")}

RESUMO DO MÊS:
• Total a Receber: R$ ${Me.totalReceber.toFixed(2)}
• Total a Pagar: R$ ${Me.totalPagar.toFixed(2)}
• Total Recebido: R$ ${Me.totalRecebido.toFixed(2)}
• Total Pago: R$ ${Me.totalPago.toFixed(2)}
• Contas Vencidas: ${Me.contasVencidas}

SALDO LÍQUIDO: R$ ${(Me.totalReceber-Me.totalPagar).toFixed(2)}
    `,Ge=new Blob([Te],{type:"text/plain;charset=utf-8;"}),Gt=document.createElement("a"),ge=URL.createObjectURL(Ge);Gt.setAttribute("href",ge),Gt.setAttribute("download",`relatorio_financeiro_${z.toISOString().slice(0,10)}.txt`),Gt.style.visibility="hidden",document.body.appendChild(Gt),Gt.click(),document.body.removeChild(Gt),r({title:"Sucesso!",description:"Relatório gerado e baixado com sucesso!"})},U=()=>{const z=s.filter(Te=>{let Ge=!0;return I.dataInicio&&(Ge=Ge&&new Date(Te.dataVencimento)>=new Date(I.dataInicio)),I.dataFim&&(Ge=Ge&&new Date(Te.dataVencimento)<=new Date(I.dataFim)),I.tipo!=="todos"&&(Ge=Ge&&Te.tipo===I.tipo),I.status!=="todos"&&(Ge=Ge&&Te.status===I.status),Ge}),fe=`
RELATÓRIO DETALHADO - ${new Date().toLocaleDateString("pt-BR")}

FILTROS APLICADOS:
• Período: ${I.dataInicio||"Início"} até ${I.dataFim||"Fim"}
• Tipo: ${I.tipo==="todos"?"Todos":I.tipo}
• Status: ${I.status==="todos"?"Todos":I.status}

LANÇAMENTOS ENCONTRADOS: ${z.length}

${z.map((Te,Ge)=>`
${Ge+1}. ${Te.descricao}
   Valor: R$ ${Te.valor.toFixed(2)}
   Tipo: ${Te.tipo==="receber"?"A Receber":"A Pagar"}
   Status: ${Te.status}
   Vencimento: ${new Date(Te.dataVencimento).toLocaleDateString("pt-BR")}
   ${ue(Te.dataVencimento,Te.status)?"⚠️ VENCIDO":""}
`).join("")}

TOTAL GERAL: R$ ${z.reduce((Te,Ge)=>Te+Ge.valor,0).toFixed(2)}
    `,qe=new Blob([fe],{type:"text/plain;charset=utf-8;"}),Ae=document.createElement("a"),Me=URL.createObjectURL(qe);Ae.setAttribute("href",Me),Ae.setAttribute("download",`relatorio_detalhado_${new Date().toISOString().slice(0,10)}.txt`),Ae.style.visibility="hidden",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),r({title:"Sucesso!",description:"Relatório detalhado gerado com sucesso!"})},ce=(z=>{const fe={},qe=[];return z.forEach(Ae=>{if(Ae.parcelado){const Me=`${Ae.descricao.split(" - Parcela")[0]}_${Ae.totalParcelas}_${Ae.valorTotal}`;fe[Me]||(fe[Me]=[]),fe[Me].push(Ae)}else qe.push(Ae)}),Object.values(fe).forEach(Ae=>{if(Ae.length>0){const Me=Ae[0],Te=Ae.sort((Ge,Gt)=>Ge.numeroParcela-Gt.numeroParcela);qe.push({...Me,isGrupoParcelas:!0,parcelas:Te,totalParcelas:Ae.length,parcelasPendentes:Ae.filter(Ge=>Ge.status==="Pendente").length,parcelasPagas:Ae.filter(Ge=>Ge.status==="Recebido"||Ge.status==="Pago").length,descricao:Me.descricao.split(" - Parcela")[0]})}}),qe})(s).filter(z=>z.descricao.toLowerCase().includes(c.toLowerCase())),Ne=ce.filter(z=>z.tipo==="receber"),De=ce.filter(z=>z.tipo==="pagar"),Se=Ne.filter(z=>z.status==="Pendente").reduce((z,fe)=>z+fe.valor,0),Ie=De.filter(z=>z.status==="Pendente").reduce((z,fe)=>z+fe.valor,0),ze=Ne.filter(z=>z.status==="Recebido").reduce((z,fe)=>z+fe.valor,0),H=De.filter(z=>z.status==="Pago").reduce((z,fe)=>z+fe.valor,0),ie=(z,fe)=>z==="Pendente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":z==="Recebido"&&fe==="receber"||z==="Pago"&&fe==="pagar"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300",ue=(z,fe)=>{if(fe!=="Pendente")return!1;const qe=new Date;return qe.setHours(0,0,0,0),new Date(z)<qe},_e=({conta:z,index:fe})=>a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:fe*.05},className:`bg-white dark:bg-slate-800 rounded-xl shadow-lg border transition-all duration-300 hover:shadow-xl w-full max-w-full ${ue(z.dataVencimento,z.status)?"border-red-400 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-700"}`,children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center flex-wrap gap-x-3 gap-y-2 mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:z.descricao}),z.isGrupoParcelas&&a.jsxs(yr,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:["📦 ",z.totalParcelas," parcelas"]}),a.jsx(yr,{className:`text-xs ${ie(z.status,z.tipo)}`,children:z.status}),ue(z.dataVencimento,z.status)&&a.jsx(yr,{variant:"destructive",className:"text-xs",children:"Vencido"})]}),z.isGrupoParcelas&&a.jsxs("div",{className:"mb-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progresso das parcelas:"}),a.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[z.parcelasPagas,"/",z.totalParcelas," pagas"]})]}),a.jsx("div",{className:"mt-2 w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${z.parcelasPagas/z.totalParcelas*100}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(Vn,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor"}),a.jsx("p",{className:`font-semibold ${z.tipo==="receber"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z.valor)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(Bs,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Vencimento"}),a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:new Date(z.dataVencimento).toLocaleDateString("pt-BR",{timeZone:"UTC"})})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>q(z.id),className:`flex-1 sm:flex-none ${z.status==="Pendente"?"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 border-green-300 hover:border-green-400":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-400 dark:hover:text-yellow-300 border-yellow-300 hover:border-yellow-400"}`,children:[a.jsx(Ca,{className:"h-4 w-4 mr-2"}),z.status==="Pendente"?`Marcar como ${z.tipo==="receber"?"Recebido":"Pago"}`:"Marcar como Pendente"]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A(z),className:"flex-1 sm:flex-none",children:[a.jsx(rs,{className:"h-4 w-4 mr-2"}),"Editar"]}),a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>F(z.id),className:"flex-1 sm:flex-none text-red-500 hover:text-red-700 dark:hover:text-red-400 border-red-300 hover:border-red-400",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})},z.id);return a.jsxs("div",{className:"space-y-8",children:[a.jsx(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[a.jsx(Vn,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Financeiro"]}),a.jsx("p",{className:"text-emerald-100 text-base lg:text-lg",children:"Controle suas contas a pagar e receber"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-emerald-100",children:"Total a Receber"}),a.jsx("p",{className:"text-xl font-bold text-green-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Se)})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-emerald-100",children:"Total a Pagar"}),a.jsx("p",{className:"text-xl font-bold text-red-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Ie)})]})]})]})}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-lg",children:a.jsx(Rn,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Gerencie seus lançamentos financeiros"})]})]})}),a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs(_n,{open:d,onOpenChange:f,children:[a.jsx(Px,{asChild:!0,children:a.jsxs(X,{className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white w-full sm:col-span-2 lg:col-span-1",children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Novo Lançamento"}),a.jsx("span",{className:"sm:hidden",children:"Novo"})]})}),a.jsxs(an,{className:"sm:max-w-2xl w-full max-w-[95vw] max-h-[95vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(ln,{children:a.jsxs(cn,{className:"flex items-center gap-2 text-xl",children:[a.jsx(Vn,{className:"h-5 w-5"}),L?"Editar Lançamento":"Novo Lançamento"]})}),a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(ur,{className:"h-4 w-4"}),"Informações Básicas"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"descricao",children:"Descrição *"}),a.jsx(xe,{id:"descricao",value:N.descricao,onChange:z=>P({...N,descricao:z.target.value}),placeholder:"Ex: Venda de produto, Pagamento de fornecedor...",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"valor",children:"Valor Total *"}),a.jsx(xe,{id:"valor",type:"number",step:"0.01",value:N.valor,onChange:z=>P({...N,valor:z.target.value}),placeholder:"0.00",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Tipo"}),a.jsxs(vt,{value:N.tipo,onValueChange:z=>P({...N,tipo:z}),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"receber",children:"💰 Conta a Receber"}),a.jsx(se,{value:"pagar",children:"💸 Conta a Pagar"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Status"}),a.jsxs(vt,{value:N.status,onValueChange:z=>P({...N,status:z}),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"Pendente",children:"⏳ Pendente"}),a.jsxs(se,{value:N.tipo==="receber"?"Recebido":"Pago",children:["✅ ",N.tipo==="receber"?"Recebido":"Pago"]})]})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(vx,{className:"h-4 w-4"}),"Parcelamento"]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(J,{htmlFor:"parcelado",children:"Lançamento Parcelado"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Dividir o valor em múltiplas parcelas"})]}),a.jsx(Fs,{id:"parcelado",checked:N.parcelado,onCheckedChange:z=>P({...N,parcelado:z})})]}),N.parcelado&&a.jsxs(me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"numeroParcelas",children:"Número de Parcelas"}),a.jsxs(vt,{value:N.numeroParcelas.toString(),onValueChange:z=>P({...N,numeroParcelas:parseInt(z)}),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsx(mt,{children:[2,3,4,5,6,8,10,12,15,18,24,30,36].map(z=>a.jsxs(se,{value:z.toString(),children:[z," parcelas"]},z))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"intervaloParcelas",children:"Intervalo"}),a.jsxs(vt,{value:N.intervaloParcelas,onValueChange:z=>P({...N,intervaloParcelas:z}),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"semanal",children:"📅 Semanal"}),a.jsx(se,{value:"quinzenal",children:"📅 Quinzenal"}),a.jsx(se,{value:"mensal",children:"📅 Mensal"})]})]})]})]}),N.valor&&N.dataVencimento&&a.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 border border-slate-200 dark:border-slate-600",children:[a.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white mb-3",children:"📋 Preview das Parcelas"}),a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Array.from({length:N.numeroParcelas},(z,fe)=>{const[qe,Ae,Me]=N.dataVencimento.split("-").map(Number),Te=new Date(qe,Ae-1,Me),Ge=parseFloat(N.valor)/N.numeroParcelas;if(fe>0)switch(N.intervaloParcelas){case"mensal":Te.setMonth(Te.getMonth()+fe);break;case"quinzenal":Te.setDate(Te.getDate()+fe*15);break;case"semanal":Te.setDate(Te.getDate()+fe*7);break}return a.jsxs("div",{className:"flex items-center justify-between text-sm bg-slate-50 dark:bg-slate-600 rounded px-3 py-2",children:[a.jsxs("span",{className:"font-medium",children:["Parcela ",fe+1,"/",N.numeroParcelas]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:Te.toLocaleDateString("pt-BR")}),a.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",Ge.toFixed(2)]})]})]},fe)})})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Bs,{className:"h-4 w-4"}),"Data de Vencimento"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"dataVencimento",children:N.parcelado?"Data da Primeira Parcela *":"Data de Vencimento *"}),a.jsx(xe,{id:"dataVencimento",type:"date",value:N.dataVencimento,onChange:z=>P({...N,dataVencimento:z.target.value}),required:!0}),N.parcelado&&a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"As demais parcelas serão calculadas automaticamente baseadas no intervalo selecionado."})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(X,{type:"button",variant:"outline",onClick:()=>{f(!1),C(null),P({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"})},className:"flex-1",children:"Cancelar"}),a.jsx(X,{type:"submit",className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700",children:L?"Atualizar":"Criar Lançamento"})]})]})]})]}),a.jsxs(X,{variant:"outline",className:"flex items-center justify-center gap-2 w-full max-w-full border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 text-sm sm:text-base",onClick:()=>x(!0),children:[a.jsx(ac,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Exportar"}),a.jsx("span",{className:"sm:hidden",children:"Exportar"})]}),a.jsxs(X,{variant:"outline",className:"flex items-center justify-center gap-2 w-full max-w-full border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 text-sm sm:text-base",onClick:()=>p(!0),children:[a.jsx(yn,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Relatórios"}),a.jsx("span",{className:"sm:hidden",children:"Relatórios"})]}),a.jsxs(X,{variant:"outline",className:"flex items-center justify-center gap-2 w-full max-w-full sm:col-span-2 lg:col-span-1 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 text-sm sm:text-base",onClick:()=>S(!0),children:[a.jsx(Bs,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Calendário de Parcelas"}),a.jsx("span",{className:"sm:hidden",children:"Calendário"})]})]})})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 w-full max-w-full",children:[a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 font-medium",children:"A Receber"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600 dark:text-green-400 truncate",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Se)}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[Ne.filter(z=>z.status==="Pendente").length," contas"]})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:a.jsx(er,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"A Pagar"}),a.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Ie)}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[De.filter(z=>z.status==="Pendente").length," contas"]})]}),a.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-xl",children:a.jsx(xo,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]})})}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Recebido"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ze)}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[Ne.filter(z=>z.status==="Recebido").length," contas"]})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:a.jsx(Ca,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Pago"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(H)}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[De.filter(z=>z.status==="Pago").length," contas"]})]}),a.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:a.jsx(nz,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})})]}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:a.jsxs(Oa,{defaultValue:"receber",className:"w-full",children:[a.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs(La,{className:"grid w-full grid-cols-2 h-auto p-1",children:[a.jsxs(wn,{value:"receber",className:"flex items-center gap-1 sm:gap-2 p-2 sm:p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white",children:[a.jsx(er,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Contas a Receber"}),a.jsx(yr,{variant:"secondary",className:"ml-1 sm:ml-2 text-xs",children:Ne.length})]}),a.jsxs(wn,{value:"pagar",className:"flex items-center gap-1 sm:gap-2 p-2 sm:p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-red-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[a.jsx(xo,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Contas a Pagar"}),a.jsx(yr,{variant:"secondary",className:"ml-1 sm:ml-2 text-xs",children:De.length})]})]})}),a.jsxs(bn,{value:"receber",className:"p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:a.jsx(er,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Contas a Receber"}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[Ne.length," contas encontradas"]})]})]})}),a.jsxs("div",{className:"relative",children:[a.jsx(wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(xe,{placeholder:"Buscar por descrição...",value:c,onChange:z=>u(z.target.value),className:"max-w-sm pl-10"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx(wm,{children:Ne.map((z,fe)=>a.jsx(_e,{conta:z,index:fe},z.id))})}),Ne.length===0&&a.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"p-4 bg-green-100 dark:bg-green-900/30 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(er,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a receber"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Suas contas a receber aparecerão aqui"}),a.jsxs(X,{onClick:()=>f(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Adicionar Conta a Receber"]})]})]}),a.jsxs(bn,{value:"pagar",className:"p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-lg",children:a.jsx(xo,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Contas a Pagar"}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[De.length," contas encontradas"]})]})]})}),a.jsxs("div",{className:"relative",children:[a.jsx(wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(xe,{placeholder:"Buscar por descrição...",value:c,onChange:z=>u(z.target.value),className:"max-w-sm pl-10"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx(wm,{children:De.map((z,fe)=>a.jsx(_e,{conta:z,index:fe},z.id))})}),De.length===0&&a.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(xo,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a pagar"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Suas contas a pagar aparecerão aqui"}),a.jsxs(X,{onClick:()=>f(!0),className:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white",children:[a.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Adicionar Conta a Pagar"]})]})]})]})}),a.jsx(_n,{open:y,onOpenChange:x,children:a.jsxs(an,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[a.jsx(ln,{children:a.jsxs(cn,{className:"flex items-center gap-2",children:[a.jsx(ac,{className:"h-5 w-5"}),"Exportar Dados"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Escolha o formato para exportar os dados financeiros:"}),a.jsxs("div",{className:"grid gap-3",children:[a.jsxs(X,{onClick:O,className:"flex items-center gap-2 justify-start",variant:"outline",children:[a.jsx(q9,{className:"h-4 w-4"}),"Exportar como CSV"]}),a.jsxs(X,{onClick:V,className:"flex items-center gap-2 justify-start",variant:"outline",children:[a.jsx(ur,{className:"h-4 w-4"}),"Exportar como PDF"]}),a.jsxs(X,{onClick:Q,className:"flex items-center gap-2 justify-start",variant:"outline",children:[a.jsx(md,{className:"h-4 w-4"}),"Imprimir Relatório"]})]}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx(X,{variant:"outline",onClick:()=>x(!1),className:"flex-1",children:"Fechar"})})]})]})}),a.jsx(_n,{open:m,onOpenChange:p,children:a.jsxs(an,{className:"sm:max-w-lg bg-white dark:bg-slate-900",children:[a.jsx(ln,{children:a.jsxs(cn,{className:"flex items-center gap-2",children:[a.jsx(yn,{className:"h-5 w-5"}),"Relatórios Financeiros"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Relatório Resumo"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Gera um resumo financeiro do mês atual com totais e saldo líquido."}),a.jsxs(X,{onClick:Z,className:"w-full",children:[a.jsx(ur,{className:"h-4 w-4 mr-2"}),"Gerar Relatório Resumo"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Relatório Detalhado"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Gera um relatório detalhado com filtros personalizados."}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"dataInicio",children:"Data Início"}),a.jsx(xe,{id:"dataInicio",type:"date",value:I.dataInicio,onChange:z=>k({...I,dataInicio:z.target.value})})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"dataFim",children:"Data Fim"}),a.jsx(xe,{id:"dataFim",type:"date",value:I.dataFim,onChange:z=>k({...I,dataFim:z.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(J,{children:"Tipo"}),a.jsxs(vt,{value:I.tipo,onValueChange:z=>k({...I,tipo:z}),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"todos",children:"Todos"}),a.jsx(se,{value:"receber",children:"A Receber"}),a.jsx(se,{value:"pagar",children:"A Pagar"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{children:"Status"}),a.jsxs(vt,{value:I.status,onValueChange:z=>k({...I,status:z}),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"todos",children:"Todos"}),a.jsx(se,{value:"Pendente",children:"Pendente"}),a.jsx(se,{value:"Recebido",children:"Recebido"}),a.jsx(se,{value:"Pago",children:"Pago"})]})]})]})]}),a.jsxs(X,{onClick:U,className:"w-full",children:[a.jsx(yn,{className:"h-4 w-4 mr-2"}),"Gerar Relatório Detalhado"]})]}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx(X,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Fechar"})})]})]})}),a.jsx(_n,{open:_,onOpenChange:S,children:a.jsxs(an,{className:"sm:max-w-4xl bg-white dark:bg-slate-900",children:[a.jsx(ln,{children:a.jsxs(cn,{className:"flex items-center gap-2",children:[a.jsx(Bs,{className:"h-5 w-5"}),"Calendário de Parcelas"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Visualize todas as parcelas organizadas por mês em um calendário interativo."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"filtroTipo",children:"Tipo"}),a.jsxs(vt,{defaultValue:"todos",onValueChange:z=>{},children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"todos",children:"Todos"}),a.jsx(se,{value:"receber",children:"A Receber"}),a.jsx(se,{value:"pagar",children:"A Pagar"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"filtroStatus",children:"Status"}),a.jsxs(vt,{defaultValue:"todos",onValueChange:z=>{},children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"todos",children:"Todos"}),a.jsx(se,{value:"Pendente",children:"Pendente"}),a.jsx(se,{value:"Recebido",children:"Recebido"}),a.jsx(se,{value:"Pago",children:"Pago"})]})]})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"filtroMes",children:"Mês/Ano"}),a.jsx(xe,{id:"filtroMes",type:"month",defaultValue:new Date().toISOString().slice(0,7),onChange:z=>{}})]})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-6",children:a.jsx(fZ,{lancamentos:s,onParcelaClick:G})}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx(X,{variant:"outline",onClick:()=>S(!1),className:"flex-1",children:"Fechar"})})]})]})}),a.jsx(_n,{open:v,onOpenChange:b,children:a.jsxs(an,{className:"sm:max-w-4xl bg-white dark:bg-slate-900",children:[a.jsx(ln,{children:a.jsxs(cn,{className:"flex items-center gap-2",children:[a.jsx(vx,{className:"h-5 w-5"}),"Detalhes das Parcelas"]})}),T&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:T.descricao.split(" - Parcela")[0]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total:"}),a.jsxs("p",{className:"font-semibold text-slate-900 dark:text-white",children:["R$ ",((Be=T.valorTotal)==null?void 0:Be.toFixed(2))||"0.00"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Parcelas:"}),a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:T.totalParcelas})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Pagas:"}),a.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:T.parcelasPagas})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Pendentes:"}),a.jsx("p",{className:"font-semibold text-yellow-600 dark:text-yellow-400",children:T.parcelasPendentes})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-md font-semibold text-slate-900 dark:text-white",children:"Parcelas Individuais"}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:(at=T.parcelas)==null?void 0:at.map((z,fe)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-slate-100 dark:bg-slate-600 rounded-full text-sm font-semibold",children:z.numeroParcela}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:z.descricao}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Vencimento: ",new Date(z.dataVencimento).toLocaleDateString("pt-BR")]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-slate-900 dark:text-white",children:["R$ ",z.valor.toFixed(2)]}),a.jsx(yr,{className:`text-xs ${ie(z.status,z.tipo)}`,children:z.status})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[z.status==="Pendente"&&a.jsxs(X,{size:"sm",className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700 text-white border-green-600 hover:border-green-700",onClick:()=>Y(z),children:[a.jsx(Ca,{className:"h-4 w-4 mr-2"}),"Dar Baixa"]}),a.jsxs(X,{size:"sm",variant:"outline",className:"flex-1 sm:flex-none",onClick:()=>{b(!1),A(z)},children:[a.jsx(rs,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]})]},z.id))})]}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx(X,{variant:"outline",onClick:()=>b(!1),className:"flex-1",children:"Fechar"})})]})]})})]})};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function hn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ve(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ot(t){Ve(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||yc(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Sn(t,e){Ve(2,arguments);var n=ot(t),r=hn(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function us(t,e){Ve(2,arguments);var n=ot(t),r=hn(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var i=o.getDate();return s>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function pZ(t,e){Ve(2,arguments);var n=ot(t).getTime(),r=hn(e);return new Date(n+r)}var gZ={};function ti(){return gZ}function so(t,e){var n,r,s,o,i,l,c,u;Ve(1,arguments);var d=ti(),f=hn((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ot(t),p=m.getDay(),y=(p<f?7:0)+p-f;return m.setDate(m.getDate()-y),m.setHours(0,0,0,0),m}function Ki(t){return Ve(1,arguments),so(t,{weekStartsOn:1})}function vZ(t){Ve(1,arguments);var e=ot(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=Ki(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var i=Ki(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function xZ(t){Ve(1,arguments);var e=vZ(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Ki(n);return r}function kd(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function wc(t){Ve(1,arguments);var e=ot(t);return e.setHours(0,0,0,0),e}var yZ=864e5;function bo(t,e){Ve(2,arguments);var n=wc(t),r=wc(e),s=n.getTime()-kd(n),o=r.getTime()-kd(r);return Math.round((s-o)/yZ)}function py(t,e){Ve(2,arguments);var n=hn(e),r=n*7;return Sn(t,r)}function XM(t,e){Ve(2,arguments);var n=hn(e);return us(t,n*12)}function wZ(t){Ve(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(yc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=ot(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function bZ(t){Ve(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(yc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=ot(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function _r(t,e){Ve(2,arguments);var n=wc(t),r=wc(e);return n.getTime()===r.getTime()}function p1(t){return Ve(1,arguments),t instanceof Date||yc(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function SZ(t){if(Ve(1,arguments),!p1(t)&&typeof t!="number")return!1;var e=ot(t);return!isNaN(Number(e))}function Pd(t,e){Ve(2,arguments);var n=ot(t),r=ot(e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}var _Z=6048e5;function CZ(t,e,n){Ve(2,arguments);var r=so(t,n),s=so(e,n),o=r.getTime()-kd(r),i=s.getTime()-kd(s);return Math.round((o-i)/_Z)}function Id(t){Ve(1,arguments);var e=ot(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function nr(t){Ve(1,arguments);var e=ot(t);return e.setDate(1),e.setHours(0,0,0,0),e}function aj(t){Ve(1,arguments);var e=ot(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function gy(t){Ve(1,arguments);var e=ot(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function g1(t,e){var n,r,s,o,i,l,c,u;Ve(1,arguments);var d=ti(),f=hn((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ot(t),p=m.getDay(),y=(p<f?-7:0)+6-(p-f);return m.setDate(m.getDate()+y),m.setHours(23,59,59,999),m}function ZM(t){return Ve(1,arguments),g1(t,{weekStartsOn:1})}function NZ(t,e){Ve(2,arguments);var n=hn(e);return pZ(t,-n)}var EZ=864e5;function jZ(t){Ve(1,arguments);var e=ot(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/EZ)+1}function Zm(t){Ve(1,arguments);var e=1,n=ot(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function JM(t){Ve(1,arguments);var e=ot(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Zm(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=Zm(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function TZ(t){Ve(1,arguments);var e=JM(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Zm(n);return r}var kZ=6048e5;function PZ(t){Ve(1,arguments);var e=ot(t),n=Zm(e).getTime()-TZ(e).getTime();return Math.round(n/kZ)+1}function Jm(t,e){var n,r,s,o,i,l,c,u;Ve(1,arguments);var d=ti(),f=hn((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=ot(t),p=m.getUTCDay(),y=(p<f?7:0)+p-f;return m.setUTCDate(m.getUTCDate()-y),m.setUTCHours(0,0,0,0),m}function e4(t,e){var n,r,s,o,i,l,c,u;Ve(1,arguments);var d=ot(t),f=d.getUTCFullYear(),m=ti(),p=hn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,p),y.setUTCHours(0,0,0,0);var x=Jm(y,e),_=new Date(0);_.setUTCFullYear(f,0,p),_.setUTCHours(0,0,0,0);var S=Jm(_,e);return d.getTime()>=x.getTime()?f+1:d.getTime()>=S.getTime()?f:f-1}function IZ(t,e){var n,r,s,o,i,l,c,u;Ve(1,arguments);var d=ti(),f=hn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=e4(t,e),p=new Date(0);p.setUTCFullYear(m,0,f),p.setUTCHours(0,0,0,0);var y=Jm(p,e);return y}var AZ=6048e5;function RZ(t,e){Ve(1,arguments);var n=ot(t),r=Jm(n,e).getTime()-IZ(n,e).getTime();return Math.round(r/AZ)+1}function Nt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var DZ={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return Nt(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Nt(r+1,2)},d:function(e,n){return Nt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Nt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Nt(e.getUTCHours(),n.length)},m:function(e,n){return Nt(e.getUTCMinutes(),n.length)},s:function(e,n){return Nt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return Nt(o,n.length)}};const Zo=DZ;var ml={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MZ={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Zo.y(e,n)},Y:function(e,n,r,s){var o=e4(e,s),i=o>0?o:1-o;if(n==="YY"){var l=i%100;return Nt(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):Nt(i,n.length)},R:function(e,n){var r=JM(e);return Nt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Nt(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Nt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Nt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Zo.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Nt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var o=RZ(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Nt(o,n.length)},I:function(e,n,r){var s=PZ(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Nt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Zo.d(e,n)},D:function(e,n,r){var s=jZ(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Nt(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return Nt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return Nt(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return Nt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),o;switch(s===12?o=ml.noon:s===0?o=ml.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),o;switch(s>=17?o=ml.evening:s>=12?o=ml.afternoon:s>=4?o=ml.morning:o=ml.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Zo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Zo.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Nt(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Nt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Zo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Zo.s(e,n)},S:function(e,n){return Zo.S(e,n)},X:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return lj(i);case"XXXX":case"XX":return pi(i);case"XXXXX":case"XXX":default:return pi(i,":")}},x:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"x":return lj(i);case"xxxx":case"xx":return pi(i);case"xxxxx":case"xxx":default:return pi(i,":")}},O:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ij(i,":");case"OOOO":default:return"GMT"+pi(i,":")}},z:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ij(i,":");case"zzzz":default:return"GMT"+pi(i,":")}},t:function(e,n,r,s){var o=s._originalDate||e,i=Math.floor(o.getTime()/1e3);return Nt(i,n.length)},T:function(e,n,r,s){var o=s._originalDate||e,i=o.getTime();return Nt(i,n.length)}};function ij(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var i=e||"";return n+String(s)+i+Nt(o,2)}function lj(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Nt(Math.abs(t)/60,2)}return pi(t,e)}function pi(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),o=Nt(Math.floor(s/60),2),i=Nt(s%60,2);return r+o+n+i}const OZ=MZ;var cj=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},t4=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},LZ=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return cj(e,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",cj(s,n)).replace("{{time}}",t4(o,n))},FZ={p:t4,P:LZ};const VZ=FZ;var zZ=["D","DD"],BZ=["YY","YYYY"];function UZ(t){return zZ.indexOf(t)!==-1}function $Z(t){return BZ.indexOf(t)!==-1}function uj(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var qZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WZ=function(e,n,r){var s,o=qZ[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const HZ=WZ;function Jv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var GZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QZ={date:Jv({formats:GZ,defaultWidth:"full"}),time:Jv({formats:YZ,defaultWidth:"full"}),dateTime:Jv({formats:KZ,defaultWidth:"full"})};const XZ=QZ;var ZZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JZ=function(e,n,r,s){return ZZ[e]};const eJ=JZ;function fu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,i=n!=null&&n.width?String(n.width):o;s=t.formattingValues[i]||t.formattingValues[o]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var tJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iJ=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lJ={ordinalNumber:iJ,era:fu({values:tJ,defaultWidth:"wide"}),quarter:fu({values:nJ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:fu({values:rJ,defaultWidth:"wide"}),day:fu({values:sJ,defaultWidth:"wide"}),dayPeriod:fu({values:oJ,defaultWidth:"wide",formattingValues:aJ,defaultFormattingWidth:"wide"})};const cJ=lJ;function mu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;var i=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?dJ(l,function(f){return f.test(i)}):uJ(l,function(f){return f.test(i)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(i.length);return{value:u,rest:d}}}function uJ(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function dJ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function hJ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],o=e.match(t.parsePattern);if(!o)return null;var i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;var l=e.slice(s.length);return{value:i,rest:l}}}var fJ=/^(\d+)(th|st|nd|rd)?/i,mJ=/\d+/i,pJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gJ={any:[/^b/i,/^(a|c)/i]},vJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xJ={any:[/1/i,/2/i,/3/i,/4/i]},yJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_J={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NJ={ordinalNumber:hJ({matchPattern:fJ,parsePattern:mJ,valueCallback:function(e){return parseInt(e,10)}}),era:mu({matchPatterns:pJ,defaultMatchWidth:"wide",parsePatterns:gJ,defaultParseWidth:"any"}),quarter:mu({matchPatterns:vJ,defaultMatchWidth:"wide",parsePatterns:xJ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:mu({matchPatterns:yJ,defaultMatchWidth:"wide",parsePatterns:wJ,defaultParseWidth:"any"}),day:mu({matchPatterns:bJ,defaultMatchWidth:"wide",parsePatterns:SJ,defaultParseWidth:"any"}),dayPeriod:mu({matchPatterns:_J,defaultMatchWidth:"any",parsePatterns:CJ,defaultParseWidth:"any"})};const EJ=NJ;var jJ={code:"en-US",formatDistance:HZ,formatLong:XZ,formatRelative:eJ,localize:cJ,match:EJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};const n4=jJ;var TJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PJ=/^'([^]*?)'?$/,IJ=/''/g,AJ=/[a-zA-Z]/;function to(t,e,n){var r,s,o,i,l,c,u,d,f,m,p,y,x,_,S,v,b,T;Ve(2,arguments);var R=String(e),L=ti(),C=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:L.locale)!==null&&r!==void 0?r:n4,N=hn((o=(i=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:L.firstWeekContainsDate)!==null&&i!==void 0?i:(f=L.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=hn((p=(y=(x=(_=n==null?void 0:n.weekStartsOn)!==null&&_!==void 0?_:n==null||(S=n.locale)===null||S===void 0||(v=S.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&x!==void 0?x:L.weekStartsOn)!==null&&y!==void 0?y:(b=L.locale)===null||b===void 0||(T=b.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&p!==void 0?p:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var I=ot(t);if(!SZ(I))throw new RangeError("Invalid time value");var k=kd(I),j=NZ(I,k),A={firstWeekContainsDate:N,weekStartsOn:P,locale:C,_originalDate:I},F=R.match(kJ).map(function(G){var Y=G[0];if(Y==="p"||Y==="P"){var q=VZ[Y];return q(G,C.formatLong)}return G}).join("").match(TJ).map(function(G){if(G==="''")return"'";var Y=G[0];if(Y==="'")return RJ(G);var q=OZ[Y];if(q)return!(n!=null&&n.useAdditionalWeekYearTokens)&&$Z(G)&&uj(G,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&UZ(G)&&uj(G,e,String(t)),q(j,G,C.localize,A);if(Y.match(AJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return G}).join("");return F}function RJ(t){var e=t.match(PJ);return e?e[1].replace(IJ,"'"):t}function DJ(t){Ve(1,arguments);var e=ot(t),n=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var MJ=6048e5;function OJ(t){Ve(1,arguments);var e=ot(t),n=Ki(e).getTime()-xZ(e).getTime();return Math.round(n/MJ)+1}function LJ(t){Ve(1,arguments);var e=ot(t),n=e.getTime();return n}function FJ(t){return Ve(1,arguments),Math.floor(LJ(t)/1e3)}function VJ(t,e){var n,r,s,o,i,l,c,u;Ve(1,arguments);var d=ot(t),f=d.getFullYear(),m=ti(),p=hn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setFullYear(f+1,0,p),y.setHours(0,0,0,0);var x=so(y,e),_=new Date(0);_.setFullYear(f,0,p),_.setHours(0,0,0,0);var S=so(_,e);return d.getTime()>=x.getTime()?f+1:d.getTime()>=S.getTime()?f:f-1}function zJ(t,e){var n,r,s,o,i,l,c,u;Ve(1,arguments);var d=ti(),f=hn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=VJ(t,e),p=new Date(0);p.setFullYear(m,0,f),p.setHours(0,0,0,0);var y=so(p,e);return y}var BJ=6048e5;function UJ(t,e){Ve(1,arguments);var n=ot(t),r=so(n,e).getTime()-zJ(n,e).getTime();return Math.round(r/BJ)+1}function $J(t){Ve(1,arguments);var e=ot(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function qJ(t,e){return Ve(1,arguments),CZ($J(t),nr(t),e)+1}function vy(t,e){Ve(2,arguments);var n=ot(t),r=ot(e);return n.getTime()>r.getTime()}function r4(t,e){Ve(2,arguments);var n=ot(t),r=ot(e);return n.getTime()<r.getTime()}function v1(t,e){Ve(2,arguments);var n=ot(t),r=ot(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function WJ(t,e){Ve(2,arguments);var n=ot(t),r=ot(e);return n.getFullYear()===r.getFullYear()}function e0(t,e){Ve(2,arguments);var n=hn(e);return Sn(t,-n)}function t0(t,e){Ve(2,arguments);var n=ot(t),r=hn(e),s=n.getFullYear(),o=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var l=DJ(i);return n.setMonth(r,Math.min(o,l)),n}function dj(t,e){Ve(2,arguments);var n=ot(t),r=hn(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function hj(t,e){Ve(2,arguments);var n=hn(e);return us(t,-n)}function fj(t,e){Ve(2,arguments);var n=hn(e);return XM(t,-n)}var Ye=function(){return Ye=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ye.apply(this,arguments)};function HJ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function s4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function ah(t){return t.mode==="multiple"}function ih(t){return t.mode==="range"}function pg(t){return t.mode==="single"}var GJ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function YJ(t,e){return to(t,"LLLL y",e)}function KJ(t,e){return to(t,"d",e)}function QJ(t,e){return to(t,"LLLL",e)}function XJ(t){return"".concat(t)}function ZJ(t,e){return to(t,"cccccc",e)}function JJ(t,e){return to(t,"yyyy",e)}var eee=Object.freeze({__proto__:null,formatCaption:YJ,formatDay:KJ,formatMonthCaption:QJ,formatWeekNumber:XJ,formatWeekdayName:ZJ,formatYearCaption:JJ}),tee=function(t,e,n){return to(t,"do MMMM (EEEE)",n)},nee=function(){return"Month: "},ree=function(){return"Go to next month"},see=function(){return"Go to previous month"},oee=function(t,e){return to(t,"cccc",e)},aee=function(t){return"Week n. ".concat(t)},iee=function(){return"Year: "},lee=Object.freeze({__proto__:null,labelDay:tee,labelMonthDropdown:nee,labelNext:ree,labelPrevious:see,labelWeekNumber:aee,labelWeekday:oee,labelYearDropdown:iee});function cee(){var t="buttons",e=GJ,n=n4,r={},s={},o=1,i={},l=new Date;return{captionLayout:t,classNames:e,formatters:eee,labels:lee,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function uee(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,o=t.fromDate,i=t.toDate;return r?o=nr(r):e&&(o=new Date(e,0,1)),s?i=Id(s):n&&(i=new Date(n,11,31)),{fromDate:o?wc(o):void 0,toDate:i?wc(i):void 0}}var o4=g.createContext(void 0);function dee(t){var e,n=t.initialProps,r=cee(),s=uee(n),o=s.fromDate,i=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(pg(n)||ah(n)||ih(n))&&(c=n.onSelect);var u=Ye(Ye(Ye({},r),n),{captionLayout:l,classNames:Ye(Ye({},r.classNames),n.classNames),components:Ye({},n.components),formatters:Ye(Ye({},r.formatters),n.formatters),fromDate:o,labels:Ye(Ye({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ye(Ye({},r.modifiers),n.modifiers),modifiersClassNames:Ye(Ye({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ye(Ye({},r.styles),n.styles),toDate:i});return a.jsx(o4.Provider,{value:u,children:t.children})}function At(){var t=g.useContext(o4);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function a4(t){var e=At(),n=e.locale,r=e.classNames,s=e.styles,o=e.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function hee(t){return a.jsx("svg",Ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function i4(t){var e,n,r=t.onChange,s=t.value,o=t.children,i=t.caption,l=t.className,c=t.style,u=At(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:hee;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function fee(t){var e,n=At(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(WJ(r,s))for(var m=nr(r),p=r.getMonth();p<=s.getMonth();p++)f.push(t0(m,p));else for(var m=nr(new Date),p=0;p<=11;p++)f.push(t0(m,p));var y=function(_){var S=Number(_.target.value),v=t0(nr(t.displayMonth),S);t.onChange(v)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:i4;return a.jsx(x,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:f.map(function(_){return a.jsx("option",{value:_.getMonth(),children:l(_,{locale:i})},_.getMonth())})})}function mee(t){var e,n=t.displayMonth,r=At(),s=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),y=o.getFullYear(),x=p;x<=y;x++)m.push(dj(gy(new Date),x));var _=function(v){var b=dj(nr(n),Number(v.target.value));t.onChange(b)},S=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:i4;return a.jsx(S,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:_,value:n.getFullYear(),caption:d(n,{locale:i}),children:m.map(function(v){return a.jsx("option",{value:v.getFullYear(),children:d(v,{locale:i})},v.getFullYear())})})}function pee(t,e){var n=g.useState(t),r=n[0],s=n[1],o=e===void 0?r:e;return[o,s]}function gee(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,o=t.toDate,i=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(o&&Pd(o,s)<0){var u=-1*(c-1);s=us(o,u)}return i&&Pd(s,i)<0&&(s=i),nr(s)}function vee(){var t=At(),e=gee(t),n=pee(e,t.month),r=n[0],s=n[1],o=function(i){var l;if(!t.disableNavigation){var c=nr(i);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,o]}function xee(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=nr(t),o=nr(us(s,r)),i=Pd(o,s),l=[],c=0;c<i;c++){var u=us(s,c);l.push(u)}return n&&(l=l.reverse()),l}function yee(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=nr(t);if(!n)return us(l,i);var c=Pd(n,t);if(!(c<o))return us(l,i)}}function wee(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=nr(t);if(!n)return us(l,-i);var c=Pd(l,n);if(!(c<=0))return us(l,-i)}}var l4=g.createContext(void 0);function bee(t){var e=At(),n=vee(),r=n[0],s=n[1],o=xee(r,e),i=yee(r,e),l=wee(r,e),c=function(f){return o.some(function(m){return v1(f,m)})},u=function(f,m){c(f)||(m&&r4(f,m)?s(us(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return a.jsx(l4.Provider,{value:d,children:t.children})}function lh(){var t=g.useContext(l4);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function mj(t){var e,n=At(),r=n.classNames,s=n.styles,o=n.components,i=lh().goToMonth,l=function(d){i(us(d,t.displayIndex?-t.displayIndex:0))},c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:a4,u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:u}),a.jsx(fee,{onChange:l,displayMonth:t.displayMonth}),a.jsx(mee,{onChange:l,displayMonth:t.displayMonth})]})}function See(t){return a.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _ee(t){return a.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ep=g.forwardRef(function(t,e){var n=At(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var i=o.join(" "),l=Ye(Ye({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),a.jsx("button",Ye({},t,{ref:e,type:"button",className:i,style:l}))});function Cee(t){var e,n,r=At(),s=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var m=u(t.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:o}),x=[i.nav_button,i.nav_button_next].join(" "),_=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:_ee,S=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:See;return a.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&a.jsx(ep,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?a.jsx(_,{className:i.nav_icon,style:l.nav_icon}):a.jsx(S,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&a.jsx(ep,{name:"next-month","aria-label":y,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?a.jsx(S,{className:i.nav_icon,style:l.nav_icon}):a.jsx(_,{className:i.nav_icon,style:l.nav_icon})})]})}function pj(t){var e=At().numberOfMonths,n=lh(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(y){return v1(t.displayMonth,y)}),c=l===0,u=l===i.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),m=function(){r&&o(r)},p=function(){s&&o(s)};return a.jsx(Cee,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:p})}function Nee(t){var e,n=At(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:a4,u;return s?u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?u=a.jsx(mj,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(mj,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(pj,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(pj,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:r.caption,style:o.caption,children:u})}function Eee(t){var e=At(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function jee(t,e,n){for(var r=n?Ki(new Date):so(new Date,{locale:t,weekStartsOn:e}),s=[],o=0;o<7;o++){var i=Sn(r,o);s.push(i)}return s}function Tee(){var t=At(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,o=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=jee(s,o,i);return a.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function kee(){var t,e=At(),n=e.classNames,r=e.styles,s=e.components,o=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:Tee;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(o,{})})}function Pee(t){var e=At(),n=e.locale,r=e.formatters.formatDay;return a.jsx(a.Fragment,{children:r(t.date,{locale:n})})}var x1=g.createContext(void 0);function Iee(t){if(!ah(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(x1.Provider,{value:e,children:t.children})}return a.jsx(Aee,{initialProps:t.initialProps,children:t.children})}function Aee(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,o=e.max,i=function(u,d,f){var m,p;(m=e.onDayClick)===null||m===void 0||m.call(e,u,d,f);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var x=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!x){var _=r?s4([],r,!0):[];if(d.selected){var S=_.findIndex(function(v){return _r(u,v)});_.splice(S,1)}else _.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,_,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,f=r.some(function(m){return _r(m,u)});return!!(d&&!f)});var c={selected:r,onDayClick:i,modifiers:l};return a.jsx(x1.Provider,{value:c,children:n})}function y1(){var t=g.useContext(x1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Ree(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?_r(s,t)&&_r(r,t)?void 0:_r(s,t)?{from:s,to:void 0}:_r(r,t)?void 0:vy(r,t)?{from:t,to:s}:{from:r,to:t}:s?vy(t,s)?{from:s,to:t}:{from:t,to:s}:r?r4(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var w1=g.createContext(void 0);function Dee(t){if(!ih(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(w1.Provider,{value:e,children:t.children})}return a.jsx(Mee,{initialProps:t.initialProps,children:t.children})}function Mee(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},o=s.from,i=s.to,l=e.min,c=e.max,u=function(p,y,x){var _,S;(_=e.onDayClick)===null||_===void 0||_.call(e,p,y,x);var v=Ree(p,r);(S=e.onSelect)===null||S===void 0||S.call(e,v,p,y,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],_r(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:e0(o,l-1),before:Sn(o,l-1)}),o&&i&&d.disabled.push({after:o,before:Sn(o,l-1)}),!o&&i&&d.disabled.push({after:e0(i,l-1),before:Sn(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:Sn(o,-c+1)}),d.disabled.push({after:Sn(o,c-1)})),o&&i){var f=bo(i,o)+1,m=c-f;d.disabled.push({before:e0(o,m)}),d.disabled.push({after:Sn(i,m)})}!o&&i&&(d.disabled.push({before:Sn(i,-c+1)}),d.disabled.push({after:Sn(i,c-1)}))}return a.jsx(w1.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function b1(){var t=g.useContext(w1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function zf(t){return Array.isArray(t)?s4([],t,!0):t!==void 0?[t]:[]}function Oee(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=zf(s)}),e}var ks;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ks||(ks={}));var Lee=ks.Selected,uo=ks.Disabled,Fee=ks.Hidden,Vee=ks.Today,n0=ks.RangeEnd,r0=ks.RangeMiddle,s0=ks.RangeStart,zee=ks.Outside;function Bee(t,e,n){var r,s=(r={},r[Lee]=zf(t.selected),r[uo]=zf(t.disabled),r[Fee]=zf(t.hidden),r[Vee]=[t.today],r[n0]=[],r[r0]=[],r[s0]=[],r[zee]=[],r);return t.fromDate&&s[uo].push({before:t.fromDate}),t.toDate&&s[uo].push({after:t.toDate}),ah(t)?s[uo]=s[uo].concat(e.modifiers[uo]):ih(t)&&(s[uo]=s[uo].concat(n.modifiers[uo]),s[s0]=n.modifiers[s0],s[r0]=n.modifiers[r0],s[n0]=n.modifiers[n0]),s}var c4=g.createContext(void 0);function Uee(t){var e=At(),n=y1(),r=b1(),s=Bee(e,n,r),o=Oee(e.modifiers),i=Ye(Ye({},s),o);return a.jsx(c4.Provider,{value:i,children:t.children})}function u4(){var t=g.useContext(c4);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function $ee(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function qee(t){return!!(t&&typeof t=="object"&&"from"in t)}function Wee(t){return!!(t&&typeof t=="object"&&"after"in t)}function Hee(t){return!!(t&&typeof t=="object"&&"before"in t)}function Gee(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Yee(t,e){var n,r=e.from,s=e.to;if(r&&s){var o=bo(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=bo(t,r)>=0&&bo(s,t)>=0;return i}return s?_r(s,t):r?_r(r,t):!1}function Kee(t){return p1(t)}function Qee(t){return Array.isArray(t)&&t.every(p1)}function Xee(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Kee(n))return _r(t,n);if(Qee(n))return n.includes(t);if(qee(n))return Yee(t,n);if(Gee(n))return n.dayOfWeek.includes(t.getDay());if($ee(n)){var r=bo(n.before,t),s=bo(n.after,t),o=r>0,i=s<0,l=vy(n.before,n.after);return l?i&&o:o||i}return Wee(n)?bo(t,n.after)>0:Hee(n)?bo(n.before,t)>0:typeof n=="function"?n(t):!1})}function S1(t,e,n){var r=Object.keys(e).reduce(function(o,i){var l=e[i];return Xee(t,l)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!v1(t,n)&&(s.outside=!0),s}function Zee(t,e){for(var n=nr(t[0]),r=Id(t[t.length-1]),s,o,i=n;i<=r;){var l=S1(i,e),c=!l.disabled&&!l.hidden;if(!c){i=Sn(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=Sn(i,1)}return o||s}var Jee=365;function d4(t,e){var n=e.moveBy,r=e.direction,s=e.context,o=e.modifiers,i=e.retry,l=i===void 0?{count:0,lastFocused:t}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,m={day:Sn,week:py,month:us,year:XM,startOfWeek:function(_){return s.ISOWeek?Ki(_):so(_,{locale:f,weekStartsOn:c})},endOfWeek:function(_){return s.ISOWeek?ZM(_):g1(_,{locale:f,weekStartsOn:c})}},p=m[n](t,r==="after"?1:-1);r==="before"&&u?p=wZ([u,p]):r==="after"&&d&&(p=bZ([d,p]));var y=!0;if(o){var x=S1(p,o);y=!x.disabled&&!x.hidden}return y?p:l.count>Jee?l.lastFocused:d4(p,{moveBy:n,direction:r,context:s,modifiers:o,retry:Ye(Ye({},l),{count:l.count+1})})}var h4=g.createContext(void 0);function ete(t){var e=lh(),n=u4(),r=g.useState(),s=r[0],o=r[1],i=g.useState(),l=i[0],c=i[1],u=Zee(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),o(void 0)},m=function(_){o(_)},p=At(),y=function(_,S){if(s){var v=d4(s,{moveBy:_,direction:S,context:p,modifiers:n});_r(s,v)||(e.goToDate(v,s),m(v))}},x={focusedDay:s,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return a.jsx(h4.Provider,{value:x,children:t.children})}function _1(){var t=g.useContext(h4);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function tte(t,e){var n=u4(),r=S1(t,n,e);return r}var C1=g.createContext(void 0);function nte(t){if(!pg(t.initialProps)){var e={selected:void 0};return a.jsx(C1.Provider,{value:e,children:t.children})}return a.jsx(rte,{initialProps:t.initialProps,children:t.children})}function rte(t){var e=t.initialProps,n=t.children,r=function(o,i,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,o,i,l),i.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,o,i,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,o,o,i,l)},s={selected:e.selected,onDayClick:r};return a.jsx(C1.Provider,{value:s,children:n})}function f4(){var t=g.useContext(C1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function ste(t,e){var n=At(),r=f4(),s=y1(),o=b1(),i=_1(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,m=i.focus,p=i.focusMonthBefore,y=i.focusMonthAfter,x=i.focusYearBefore,_=i.focusYearAfter,S=i.focusStartOfWeek,v=i.focusEndOfWeek,b=function(q){var O,V,Q,Z;pg(n)?(O=r.onDayClick)===null||O===void 0||O.call(r,t,e,q):ah(n)?(V=s.onDayClick)===null||V===void 0||V.call(s,t,e,q):ih(n)?(Q=o.onDayClick)===null||Q===void 0||Q.call(o,t,e,q):(Z=n.onDayClick)===null||Z===void 0||Z.call(n,t,e,q)},T=function(q){var O;m(t),(O=n.onDayFocus)===null||O===void 0||O.call(n,t,e,q)},R=function(q){var O;f(),(O=n.onDayBlur)===null||O===void 0||O.call(n,t,e,q)},L=function(q){var O;(O=n.onDayMouseEnter)===null||O===void 0||O.call(n,t,e,q)},C=function(q){var O;(O=n.onDayMouseLeave)===null||O===void 0||O.call(n,t,e,q)},N=function(q){var O;(O=n.onDayPointerEnter)===null||O===void 0||O.call(n,t,e,q)},P=function(q){var O;(O=n.onDayPointerLeave)===null||O===void 0||O.call(n,t,e,q)},I=function(q){var O;(O=n.onDayTouchCancel)===null||O===void 0||O.call(n,t,e,q)},k=function(q){var O;(O=n.onDayTouchEnd)===null||O===void 0||O.call(n,t,e,q)},j=function(q){var O;(O=n.onDayTouchMove)===null||O===void 0||O.call(n,t,e,q)},A=function(q){var O;(O=n.onDayTouchStart)===null||O===void 0||O.call(n,t,e,q)},F=function(q){var O;(O=n.onDayKeyUp)===null||O===void 0||O.call(n,t,e,q)},G=function(q){var O;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),u();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),d();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?x():p();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?_():y();break;case"Home":q.preventDefault(),q.stopPropagation(),S();break;case"End":q.preventDefault(),q.stopPropagation(),v();break}(O=n.onDayKeyDown)===null||O===void 0||O.call(n,t,e,q)},Y={onClick:b,onFocus:T,onBlur:R,onKeyDown:G,onKeyUp:F,onMouseEnter:L,onMouseLeave:C,onPointerEnter:N,onPointerLeave:P,onTouchCancel:I,onTouchEnd:k,onTouchMove:j,onTouchStart:A};return Y}function ote(){var t=At(),e=f4(),n=y1(),r=b1(),s=pg(t)?e.selected:ah(t)?n.selected:ih(t)?r.selected:void 0;return s}function ate(t){return Object.values(ks).includes(t)}function ite(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(ate(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function lte(t,e){var n=Ye({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Ye(Ye({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function cte(t,e,n){var r,s,o,i=At(),l=_1(),c=tte(t,e),u=ste(t,c),d=ote(),f=!!(i.onDayClick||i.mode!=="default");g.useEffect(function(){var L;c.outside||l.focusedDay&&f&&_r(l.focusedDay,t)&&((L=n.current)===null||L===void 0||L.focus())},[l.focusedDay,t,n,f,c.outside]);var m=ite(i,c).join(" "),p=lte(i,c),y=!!(c.outside&&!i.showOutsideDays||c.hidden),x=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:Pee,_=a.jsx(x,{date:t,displayMonth:e,activeModifiers:c}),S={style:p,className:m,children:_,role:"gridcell"},v=l.focusTarget&&_r(l.focusTarget,t)&&!c.outside,b=l.focusedDay&&_r(l.focusedDay,t),T=Ye(Ye(Ye({},S),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||v?0:-1,r)),u),R={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:T,divProps:S};return R}function ute(t){var e=g.useRef(null),n=cte(t.date,t.displayMonth,e);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(ep,Ye({name:"day",ref:e},n.buttonProps)):a.jsx("div",Ye({},n.divProps))}function dte(t){var e=t.number,n=t.dates,r=At(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=c(Number(e),{locale:l}),m=function(p){s(e,n,p)};return a.jsx(ep,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:m,children:d})}function hte(t){var e,n,r=At(),s=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:ute,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:dte,d;return i&&(d=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[d,t.dates.map(function(f){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:t.displayMonth,date:f})},FJ(f))})]})}function gj(t,e,n){for(var r=n!=null&&n.ISOWeek?ZM(e):g1(e,n),s=n!=null&&n.ISOWeek?Ki(t):so(t,n),o=bo(r,s),i=[],l=0;l<=o;l++)i.push(Sn(s,l));var c=i.reduce(function(u,d){var f=n!=null&&n.ISOWeek?OJ(d):UJ(d,n),m=u.find(function(p){return p.weekNumber===f});return m?(m.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function fte(t,e){var n=gj(nr(t),Id(t),e);if(e!=null&&e.useFixedWeeks){var r=qJ(t,e);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=py(o,6-r),l=gj(py(o,1),i,e);n.push.apply(n,l)}}return n}function mte(t){var e,n,r,s=At(),o=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,y=fte(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:f,firstWeekContainsDate:m}),x=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:kee,_=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:hte,S=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:Eee;return a.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&a.jsx(x,{}),a.jsx("tbody",{className:i.tbody,style:l.tbody,children:y.map(function(v){return a.jsx(_,{displayMonth:t.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),a.jsx(S,{displayMonth:t.displayMonth})]})}function pte(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var gte=pte()?g.useLayoutEffect:g.useEffect,o0=!1,vte=0;function vj(){return"react-day-picker-".concat(++vte)}function xte(t){var e,n=t??(o0?vj():null),r=g.useState(n),s=r[0],o=r[1];return gte(function(){s===null&&o(vj())},[]),g.useEffect(function(){o0===!1&&(o0=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function yte(t){var e,n,r=At(),s=r.dir,o=r.classNames,i=r.styles,l=r.components,c=lh().displayMonths,u=xte(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],m=i.month,p=t.displayIndex===0,y=t.displayIndex===c.length-1,x=!p&&!y;s==="rtl"&&(e=[p,y],y=e[0],p=e[1]),p&&(f.push(o.caption_start),m=Ye(Ye({},m),i.caption_start)),y&&(f.push(o.caption_end),m=Ye(Ye({},m),i.caption_end)),x&&(f.push(o.caption_between),m=Ye(Ye({},m),i.caption_between));var _=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:Nee;return a.jsxs("div",{className:f.join(" "),style:m,children:[a.jsx(_,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(mte,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function wte(t){var e=At(),n=e.classNames,r=e.styles;return a.jsx("div",{className:n.months,style:r.months,children:t.children})}function bte(t){var e,n,r=t.initialProps,s=At(),o=_1(),i=lh(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Ye(Ye({},s.styles.root),s.style),m=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,x){var _;return Ye(Ye({},y),(_={},_[x]=r[x],_))},{}),p=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:wte;return a.jsx("div",Ye({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:a.jsx(p,{children:i.displayMonths.map(function(y,x){return a.jsx(yte,{displayIndex:x,displayMonth:y},x)})})}))}function Ste(t){var e=t.children,n=HJ(t,["children"]);return a.jsx(dee,{initialProps:n,children:a.jsx(bee,{children:a.jsx(nte,{initialProps:n,children:a.jsx(Iee,{initialProps:n,children:a.jsx(Dee,{initialProps:n,children:a.jsx(Uee,{children:a.jsx(ete,{children:e})})})})})})})}function _te(t){return a.jsx(Ste,Ye({},t,{children:a.jsx(bte,{initialProps:t})}))}function m4({className:t,classNames:e,showOutsideDays:n=!0,...r}){return a.jsx(_te,{showOutsideDays:n,className:rt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:rt("h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:rt("h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>a.jsx(hI,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(U9,{className:"h-4 w-4"})},...r})}m4.displayName="Calendar";var gg="Popover",[p4,gne]=oo(gg,[Tc]),ch=Tc(),[Cte,ni]=p4(gg),g4=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=t,l=ch(e),c=g.useRef(null),[u,d]=g.useState(!1),[f,m]=Vi({prop:r,defaultProp:s??!1,onChange:o,caller:gg});return a.jsx(S2,{...l,children:a.jsx(Cte,{scope:e,contentId:No(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:i,children:n})})};g4.displayName=gg;var v4="PopoverAnchor",Nte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ni(v4,n),o=ch(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(Rp,{...o,...r,ref:e})});Nte.displayName=v4;var x4="PopoverTrigger",y4=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ni(x4,n),o=ch(n),i=jt(e,s.triggerRef),l=a.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":C4(s.open),...r,ref:i,onClick:Le(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Rp,{asChild:!0,...o,children:l})});y4.displayName=x4;var N1="PopoverPortal",[Ete,jte]=p4(N1,{forceMount:void 0}),w4=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=ni(N1,e);return a.jsx(Ete,{scope:e,forceMount:n,children:a.jsx(zo,{present:n||o.open,children:a.jsx(Bd,{asChild:!0,container:s,children:r})})})};w4.displayName=N1;var bc="PopoverContent",b4=g.forwardRef((t,e)=>{const n=jte(bc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=ni(bc,t.__scopePopover);return a.jsx(zo,{present:r||o.open,children:o.modal?a.jsx(kte,{...s,ref:e}):a.jsx(Pte,{...s,ref:e})})});b4.displayName=bc;var Tte=Fi("PopoverContent.RemoveScroll"),kte=g.forwardRef((t,e)=>{const n=ni(bc,t.__scopePopover),r=g.useRef(null),s=jt(e,r),o=g.useRef(!1);return g.useEffect(()=>{const i=r.current;if(i)return tb(i)},[]),a.jsx(eb,{as:Tte,allowPinchZoom:!0,children:a.jsx(S4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Le(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Pte=g.forwardRef((t,e)=>{const n=ni(bc,t.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(S4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),S4=g.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=ni(bc,n),p=ch(n);return Jw(),a.jsx(Op,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Nc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(Qw,{"data-state":C4(m.open),role:"dialog",id:m.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_4="PopoverClose",Ite=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ni(_4,n);return a.jsx(tt.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,()=>s.onOpenChange(!1))})});Ite.displayName=_4;var Ate="PopoverArrow",Rte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ch(n);return a.jsx(Xw,{...s,...r,ref:e})});Rte.displayName=Ate;function C4(t){return t?"open":"closed"}var Dte=g4,Mte=y4,Ote=w4,N4=b4;const Lte=Dte,Fte=Mte,E4=$e.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>a.jsx(Ote,{children:a.jsx(N4,{ref:s,align:e,sideOffset:n,className:rt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));E4.displayName=N4.displayName;const Vte=$e.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx("div",{ref:s,role:n?"none":"separator","aria-orientation":e,className:rt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Vte.displayName="Separator";const zte=()=>{g.useContext(Pr);const{toast:t}=kr();Fc();const{ordens:e=[]}=ug(),{ordens:n=[]}=nh();rh(),sh();const{financeiro:r=[]}=oh(),[s,o]=g.useState("graficos"),[i,l]=g.useState({from:Sn(new Date,-30),to:new Date}),[c,u]=g.useState(null),[d,f]=g.useState(""),[m,p]=g.useState("all"),[y,x]=g.useState("grid"),[_,S]=g.useState(!1),v=[{label:"Últimos 7 dias",value:"7d",from:Sn(new Date,-7),to:new Date},{label:"Últimos 30 dias",value:"30d",from:Sn(new Date,-30),to:new Date},{label:"Últimos 90 dias",value:"90d",from:Sn(new Date,-90),to:new Date},{label:"Este mês",value:"month",from:nr(new Date),to:Id(new Date)},{label:"Mês passado",value:"lastMonth",from:nr(hj(new Date,1)),to:Id(hj(new Date,1))},{label:"Este ano",value:"year",from:gy(new Date),to:aj(new Date)},{label:"Ano passado",value:"lastYear",from:gy(fj(new Date,1)),to:aj(fj(new Date,1))}];n.filter(I=>{const k=new Date(I.createdAt);return k>=i.from&&k<=i.to}),e.filter(I=>{const k=new Date(I.createdAt);return k>=i.from&&k<=i.to}),r.filter(I=>{const k=new Date(I.createdAt);return k>=i.from&&k<=i.to});const b=[{id:"vendas-diarias",title:"Vendas Diárias",description:"Evolução das vendas por dia",icon:yn,color:"bg-blue-500",type:"bar"},{id:"fluxo-caixa",title:"Fluxo de Caixa",description:"Entradas e saídas de dinheiro",icon:er,color:"bg-green-500",type:"line"},{id:"produtos-vendidos",title:"Produtos Mais Vendidos",description:"Ranking dos produtos por quantidade",icon:An,color:"bg-purple-500",type:"horizontalBar"},{id:"categorias-vendas",title:"Vendas por Categoria",description:"Distribuição de vendas por categoria",icon:yv,color:"bg-orange-500",type:"pie"},{id:"clientes-top",title:"Top Clientes",description:"Clientes que mais compraram",icon:os,color:"bg-indigo-500",type:"bar"},{id:"receitas-despesas",title:"Receitas vs Despesas",description:"Comparativo mensal de receitas e despesas",icon:Vn,color:"bg-emerald-500",type:"composed"},{id:"ticket-medio",title:"Ticket Médio",description:"Valor médio por venda ao longo do tempo",icon:zh,color:"bg-cyan-500",type:"line"},{id:"conversao-vendas",title:"Taxa de Conversão",description:"Percentual de conversão de propostas em vendas",icon:wu,color:"bg-pink-500",type:"area"}],T=[{id:"vendas-por-periodo",title:"Vendas por Período",category:"Vendas",icon:Bs,color:"bg-blue-500"},{id:"vendas-por-cliente",title:"Vendas por Cliente",category:"Vendas",icon:os,color:"bg-indigo-500"},{id:"vendas-por-produto",title:"Vendas por Produto",category:"Vendas",icon:An,color:"bg-purple-500"},{id:"vendas-por-categoria",title:"Vendas por Categoria",category:"Vendas",icon:zu,color:"bg-orange-500"},{id:"vendas-por-vendedor",title:"Vendas por Vendedor",category:"Vendas",icon:Vr,color:"bg-green-500"},{id:"vendas-por-regiao",title:"Vendas por Região",category:"Vendas",icon:Sm,color:"bg-red-500"},{id:"vendas-por-canal",title:"Vendas por Canal",category:"Vendas",icon:fI,color:"bg-cyan-500"},{id:"vendas-por-forma-pagamento",title:"Vendas por Forma de Pagamento",category:"Vendas",icon:vx,color:"bg-yellow-500"},{id:"ticket-medio-cliente",title:"Ticket Médio por Cliente",category:"Vendas",icon:zh,color:"bg-pink-500"},{id:"frequencia-compra",title:"Frequência de Compra",category:"Vendas",icon:sa,color:"bg-teal-500"},{id:"receitas-periodo",title:"Receitas por Período",category:"Financeiro",icon:er,color:"bg-emerald-500"},{id:"despesas-periodo",title:"Despesas por Período",category:"Financeiro",icon:xo,color:"bg-red-500"},{id:"fluxo-caixa-detalhado",title:"Fluxo de Caixa Detalhado",category:"Financeiro",icon:Vn,color:"bg-green-500"},{id:"contas-receber",title:"Contas a Receber",category:"Financeiro",icon:sa,color:"bg-yellow-500"},{id:"contas-pagar",title:"Contas a Pagar",category:"Financeiro",icon:_s,color:"bg-orange-500"},{id:"margem-lucro",title:"Margem de Lucro",category:"Financeiro",icon:wu,color:"bg-purple-500"},{id:"roi-produtos",title:"ROI por Produto",category:"Financeiro",icon:yn,color:"bg-indigo-500"},{id:"custo-venda",title:"Custo por Venda",category:"Financeiro",icon:zh,color:"bg-cyan-500"},{id:"lucratividade-categoria",title:"Lucratividade por Categoria",category:"Financeiro",icon:yv,color:"bg-pink-500"},{id:"projecao-receitas",title:"Projeção de Receitas",category:"Financeiro",icon:er,color:"bg-teal-500"},{id:"estoque-atual",title:"Estoque Atual",category:"Estoque",icon:An,color:"bg-blue-500"},{id:"produtos-baixo-estoque",title:"Produtos com Baixo Estoque",category:"Estoque",icon:_s,color:"bg-red-500"},{id:"produtos-sem-estoque",title:"Produtos sem Estoque",category:"Estoque",icon:jr,color:"bg-red-600"},{id:"movimentacao-estoque",title:"Movimentação de Estoque",category:"Estoque",icon:gx,color:"bg-green-500"},{id:"giro-estoque",title:"Giro de Estoque",category:"Estoque",icon:Uh,color:"bg-purple-500"},{id:"valor-estoque",title:"Valor do Estoque",category:"Estoque",icon:Vn,color:"bg-yellow-500"},{id:"produtos-vencidos",title:"Produtos Vencidos",category:"Estoque",icon:Bs,color:"bg-orange-500"},{id:"produtos-proximo-vencimento",title:"Produtos Próximos ao Vencimento",category:"Estoque",icon:sa,color:"bg-yellow-600"},{id:"entradas-estoque",title:"Entradas de Estoque",category:"Estoque",icon:L9,color:"bg-green-600"},{id:"saidas-estoque",title:"Saídas de Estoque",category:"Estoque",icon:V9,color:"bg-red-600"},{id:"clientes-cadastrados",title:"Clientes Cadastrados",category:"Clientes",icon:os,color:"bg-indigo-500"},{id:"clientes-ativos",title:"Clientes Ativos",category:"Clientes",icon:Ca,color:"bg-green-500"},{id:"clientes-inativos",title:"Clientes Inativos",category:"Clientes",icon:jr,color:"bg-red-500"},{id:"novos-clientes",title:"Novos Clientes",category:"Clientes",icon:Rn,color:"bg-blue-500"},{id:"clientes-fidelidade",title:"Clientes Fidelidade",category:"Clientes",icon:Nf,color:"bg-yellow-500"},{id:"segmentacao-clientes",title:"Segmentação de Clientes",category:"Clientes",icon:PC,color:"bg-purple-500"},{id:"satisfacao-clientes",title:"Satisfação dos Clientes",category:"Clientes",icon:kC,color:"bg-pink-500"},{id:"clientes-potenciais",title:"Clientes Potenciais",category:"Clientes",icon:wu,color:"bg-cyan-500"},{id:"historico-cliente",title:"Histórico por Cliente",category:"Clientes",icon:ur,color:"bg-teal-500"},{id:"geolocalizacao-clientes",title:"Geolocalização de Clientes",category:"Clientes",icon:Sm,color:"bg-orange-500"},{id:"catalogo-produtos",title:"Catálogo de Produtos",category:"Produtos",icon:An,color:"bg-blue-500"},{id:"produtos-mais-vendidos",title:"Produtos Mais Vendidos",category:"Produtos",icon:er,color:"bg-green-500"},{id:"produtos-menos-vendidos",title:"Produtos Menos Vendidos",category:"Produtos",icon:xo,color:"bg-red-500"},{id:"produtos-lucrativos",title:"Produtos Mais Lucrativos",category:"Produtos",icon:Vn,color:"bg-yellow-500"},{id:"produtos-sazonalidade",title:"Sazonalidade de Produtos",category:"Produtos",icon:Bs,color:"bg-purple-500"},{id:"preco-produtos",title:"Análise de Preços",category:"Produtos",icon:zu,color:"bg-indigo-500"},{id:"margem-produtos",title:"Margem por Produto",category:"Produtos",icon:zh,color:"bg-cyan-500"},{id:"produtos-categoria",title:"Produtos por Categoria",category:"Produtos",icon:PC,color:"bg-orange-500"},{id:"produtos-fornecedor",title:"Produtos por Fornecedor",category:"Produtos",icon:J9,color:"bg-teal-500"},{id:"produtos-promocao",title:"Produtos em Promoção",category:"Produtos",icon:pd,color:"bg-pink-500"},{id:"ordens-servico",title:"Ordens de Serviço",category:"Serviços",icon:ur,color:"bg-blue-500"},{id:"servicos-concluidos",title:"Serviços Concluídos",category:"Serviços",icon:Ca,color:"bg-green-500"},{id:"servicos-pendentes",title:"Serviços Pendentes",category:"Serviços",icon:sa,color:"bg-yellow-500"},{id:"servicos-atrasados",title:"Serviços Atrasados",category:"Serviços",icon:_s,color:"bg-red-500"},{id:"tempo-medio-servico",title:"Tempo Médio de Serviço",category:"Serviços",icon:sa,color:"bg-purple-500"},{id:"servicos-tecnico",title:"Serviços por Técnico",category:"Serviços",icon:Vr,color:"bg-indigo-500"},{id:"servicos-tipo",title:"Serviços por Tipo",category:"Serviços",icon:zu,color:"bg-orange-500"},{id:"satisfacao-servicos",title:"Satisfação dos Serviços",category:"Serviços",icon:Nf,color:"bg-yellow-500"},{id:"custos-servicos",title:"Custos dos Serviços",category:"Serviços",icon:Vn,color:"bg-green-500"},{id:"agendamentos",title:"Agendamentos",category:"Serviços",icon:Bs,color:"bg-cyan-500"},{id:"performance-vendedores",title:"Performance dos Vendedores",category:"Performance",icon:z9,color:"bg-yellow-600"},{id:"metas-vendas",title:"Metas de Vendas",category:"Performance",icon:wu,color:"bg-purple-500"},{id:"conversao-leads",title:"Conversão de Leads",category:"Performance",icon:er,color:"bg-green-500"},{id:"tempo-resposta",title:"Tempo de Resposta",category:"Performance",icon:sa,color:"bg-blue-500"},{id:"produtividade-equipe",title:"Produtividade da Equipe",category:"Performance",icon:gx,color:"bg-indigo-500"},{id:"eficiencia-processos",title:"Eficiência dos Processos",category:"Performance",icon:pd,color:"bg-yellow-500"},{id:"qualidade-atendimento",title:"Qualidade do Atendimento",category:"Performance",icon:Nf,color:"bg-pink-500"},{id:"retencao-clientes",title:"Retenção de Clientes",category:"Performance",icon:kC,color:"bg-red-500"},{id:"crescimento-receita",title:"Crescimento da Receita",category:"Performance",icon:er,color:"bg-emerald-500"},{id:"market-share",title:"Market Share",category:"Performance",icon:yv,color:"bg-cyan-500"}],R=I=>{l({from:I.from,to:I.to})},L=async I=>{S(!0);try{await new Promise(k=>setTimeout(k,1e3)),t({title:"Relatório gerado!",description:"O relatório foi processado com sucesso."}),u(I)}catch{t({title:"Erro",description:"Erro ao gerar o relatório.",variant:"destructive"})}finally{S(!1)}},C=I=>{t({title:"Exportando...",description:`Relatório sendo exportado em formato ${I}`})},N=T.filter(I=>{const k=m==="all"||I.category===m,j=I.title.toLowerCase().includes(d.toLowerCase());return k&&j}),P=["all",...new Set(T.map(I=>I.category))];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatórios"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Análise completa e detalhada do seu negócio"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(Lte,{children:[a.jsx(Fte,{asChild:!0,children:a.jsxs(X,{variant:"outline",className:"w-full sm:w-auto sm:min-w-[280px] justify-start",children:[a.jsx(Bs,{className:"mr-2 h-4 w-4"}),i!=null&&i.from?i.to?a.jsxs(a.Fragment,{children:[to(i.from,"dd/MM/yyyy")," - ",to(i.to,"dd/MM/yyyy")]}):to(i.from,"dd/MM/yyyy"):a.jsx("span",{children:"Selecione um período"})]})}),a.jsx(E4,{className:"w-auto p-0",align:"end",children:a.jsx(m4,{initialFocus:!0,mode:"range",defaultMonth:i==null?void 0:i.from,selected:i,onSelect:l,numberOfMonths:2})})]}),a.jsxs(vt,{onValueChange:I=>{const k=v.find(j=>j.value===I);k&&R(k)},children:[a.jsx(ft,{className:"w-full sm:w-auto sm:min-w-[180px]",children:a.jsx(xt,{placeholder:"Período rápido"})}),a.jsx(mt,{children:v.map(I=>a.jsx(se,{value:I.value,children:I.label},I.value))})]})]})]}),a.jsxs(Oa,{value:s,onValueChange:o,className:"w-full",children:[a.jsxs(La,{className:"grid w-full grid-cols-2",children:[a.jsxs(wn,{value:"graficos",className:"flex items-center gap-2",children:[a.jsx(yn,{className:"h-4 w-4"}),"Relatórios Gráficos"]}),a.jsxs(wn,{value:"lista",className:"flex items-center gap-2",children:[a.jsx(IC,{className:"h-4 w-4"}),"Relatórios em Lista"]})]}),a.jsx(bn,{value:"graficos",className:"space-y-6 pt-6",children:a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(I=>a.jsxs(gn,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:[a.jsxs(Tn,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-5 w-5 text-white"})}),a.jsx(yr,{variant:"secondary",className:"text-xs",children:I.type})]}),a.jsx(kn,{className:"text-lg",children:I.title}),a.jsx(Si,{className:"text-sm",children:I.description})]}),a.jsx(vn,{className:"pt-0",children:a.jsxs(X,{onClick:()=>L(I.id),className:"w-full",disabled:_,children:[_?a.jsx(Uh,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(ql,{className:"h-4 w-4 mr-2"}),"Visualizar"]})})]},I.id))})}),a.jsxs(bn,{value:"lista",className:"space-y-6 pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(xe,{placeholder:"Buscar relatórios...",value:d,onChange:I=>f(I.target.value),className:"pl-10"})]}),a.jsxs(vt,{value:m,onValueChange:p,children:[a.jsx(ft,{className:"w-full sm:w-auto sm:min-w-[200px]",children:a.jsx(xt,{placeholder:"Categoria"})}),a.jsx(mt,{children:P.map(I=>a.jsx(se,{value:I,children:I==="all"?"Todas as Categorias":I},I))})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:y==="grid"?"default":"outline",size:"sm",onClick:()=>x("grid"),children:a.jsx(W9,{className:"h-4 w-4"})}),a.jsx(X,{variant:y==="list"?"default":"outline",size:"sm",onClick:()=>x("list"),children:a.jsx(IC,{className:"h-4 w-4"})})]})]}),a.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:rt("gap-4",y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"space-y-3"),children:a.jsx(wm,{children:N.map((I,k)=>a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:k*.05},children:y==="grid"?a.jsxs(gn,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer h-full",children:[a.jsxs(Tn,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-5 w-5 text-white"})}),a.jsx(yr,{variant:"outline",className:"text-xs",children:I.category})]}),a.jsx(kn,{className:"text-base",children:I.title})]}),a.jsx(vn,{className:"pt-0",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(X,{size:"sm",onClick:()=>L(I.id),className:"flex-1",disabled:_,children:[_?a.jsx(Uh,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx(ql,{className:"h-3 w-3 mr-1"}),"Ver"]}),a.jsx(X,{size:"sm",variant:"outline",onClick:()=>C("PDF"),children:a.jsx(ac,{className:"h-3 w-3"})})]})})]}):a.jsx(gn,{className:"group hover:shadow-md transition-all duration-300 cursor-pointer",children:a.jsx(vn,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:I.title}),a.jsx("p",{className:"text-sm text-slate-500",children:I.category})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{size:"sm",onClick:()=>L(I.id),disabled:_,children:[_?a.jsx(Uh,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx(ql,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),a.jsx(X,{size:"sm",variant:"outline",onClick:()=>C("PDF"),children:a.jsx(ac,{className:"h-3 w-3"})}),a.jsx(X,{size:"sm",variant:"outline",onClick:()=>C("Excel"),children:a.jsx(ur,{className:"h-3 w-3"})})]})]})})})},I.id))})}),a.jsx("div",{className:"mt-8 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400",children:[a.jsxs("span",{children:["Total de relatórios: ",N.length]}),a.jsxs("span",{children:["Categoria: ",m==="all"?"Todas":m]})]})})]})]})]})},xj={"pt-BR":{"nav.dashboard":"Dashboard","nav.clientes":"Clientes","nav.os":"Ordens de Serviço","nav.ov":"Ordens de Venda","nav.estoque":"Estoque","nav.financeiro":"Financeiro","nav.relatorios":"Relatórios","nav.configuracoes":"Configurações","config.titulo":"Configurações","config.descricao":"Gerencie todas as configurações do sistema","config.salvar":"Salvar Configurações","config.restaurarPadroes":"Restaurar Padrões","config.tabs.personalizacao":"Personalização","config.tabs.usuarios":"Usuários","config.tabs.seguranca":"Segurança","config.tabs.impressao":"Impressão","config.tabs.sistema":"Sistema","config.tabs.loja":"Loja","config.personalizacao.titulo":"Personalização do Sistema","config.personalizacao.descricao":"Configure a aparência e identidade visual do sistema","config.tema":"Tema","config.tema.descricao":"Escolha entre tema claro, escuro ou automático do sistema","config.tema.light":"Claro","config.tema.dark":"Escuro","config.tema.system":"Sistema","config.corPrimaria":"Cor Primária","config.corPrimaria.descricao":"Cor principal usada em botões, links e elementos destacados","config.corSecundaria":"Cor Secundária","config.corSecundaria.descricao":"Cor complementar usada em gradientes e elementos secundários","config.nomeEmpresa":"Nome da Empresa","config.nomeEmpresa.descricao":"Nome que aparecerá no cabeçalho e título do sistema","config.logoEmpresa":"Logo da Empresa","config.logoEmpresa.descricao":"Imagem que aparecerá no cabeçalho do sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal da interface do usuário","config.idioma.pt-BR":"Português (Brasil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Español","config.idioma.zh-CN":"中文 (简体)","config.idioma ja-JP":"日本語","config.usuarios.titulo":"Configurações de Usuários","config.usuarios.descricao":"Gerencie configurações relacionadas aos usuários do sistema","config.permitirCadastro":"Permitir Cadastro","config.permitirCadastro.descricao":"Permite que novos usuários se cadastrem no sistema","config.requerAprovacao":"Requer Aprovação","config.requerAprovacao.descricao":"Novos cadastros precisam ser aprovados por um administrador","config.limiteUsuarios":"Limite de Usuários","config.limiteUsuarios.descricao":"Número máximo de usuários permitidos no sistema","config.notificacaoNovosUsuarios":"Notificar Novos Usuários","config.notificacaoNovosUsuarios.descricao":"Enviar notificações quando novos usuários se cadastrarem","usuarios.tipos.admin":"Administrador","usuarios.tipos.financeiro":"Financeiro","usuarios.tipos.comum":"Comum","usuarios.status.ativo":"Ativo","usuarios.status.inativo":"Inativo","usuarios.erros.nomeObrigatorio":"Nome é obrigatório","usuarios.erros.nomeMinimo":"Nome deve ter pelo menos 2 caracteres","usuarios.erros.emailObrigatorio":"Email é obrigatório","usuarios.erros.emailInvalido":"Email inválido","usuarios.erros.telefoneInvalido":"Telefone inválido","usuarios.edicao.titulo":"Editar Usuário","usuarios.edicao.descricao":"Edite as informações do usuário","usuarios.edicao.cancelar":"Cancelar","usuarios.edicao.salvar":"Salvar","usuarios.edicao.salvando":"Salvando...","usuarios.edicao.erro":"Erro ao salvar","usuarios.edicao.erroDescricao":"Não foi possível salvar as alterações","usuarios.remocao.titulo":"Remover Usuário","usuarios.remocao.descricao":"Tem certeza que deseja remover este usuário?","usuarios.remocao.cancelar":"Cancelar","usuarios.remocao.confirmar":"Remover","usuarios.remocao.removendo":"Removendo...","usuarios.remocao.erro":"Erro ao remover","usuarios.remocao.erroDescricao":"Não foi possível remover o usuário","usuarios.remocao.erroConfirmacao":"Confirmação necessária","usuarios.remocao.erroConfirmacaoDescricao":'Digite "CONFIRMAR" para remover o usuário',"usuarios.remocao.aviso.titulo":"Atenção!","usuarios.remocao.aviso.descricao":"Esta ação não pode ser desfeita.","usuarios.remocao.aviso.item1":"O usuário perderá acesso ao sistema","usuarios.remocao.aviso.item2":"Todos os dados do usuário serão removidos","usuarios.remocao.aviso.item3":"Esta ação não pode ser desfeita","usuarios.remocao.confirmacao.label":"Confirmação","usuarios.remocao.confirmacao.descricao":'Digite "CONFIRMAR" para confirmar a remoção',"usuarios.remocao.confirmacao.placeholder":"CONFIRMAR","usuarios.cadastro.form.nome":"Nome","usuarios.cadastro.form.nomePlaceholder":"Digite o nome completo","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Digite o email","usuarios.cadastro.form.telefone":"Telefone","usuarios.cadastro.form.telefonePlaceholder":"Digite o telefone","usuarios.cadastro.form.tipo":"Tipo de Usuário","usuarios.cadastro.form.senha":"Senha","usuarios.cadastro.form.senhaPlaceholder":"Digite a senha","usuarios.cadastro.form.confirmarSenha":"Confirmar Senha","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirme a senha","usuarios.listagem.titulo":"Usuários","usuarios.listagem.descricao":"Gerencie os usuários do sistema","usuarios.filtros.titulo":"Filtros","usuarios.busca":"Buscar","usuarios.busca.placeholder":"Buscar por nome ou email...","usuarios.filtros.tipo":"Tipo","usuarios.filtros.status":"Status","usuarios.filtros.todos":"Todos","usuarios.lista.titulo":"Lista de Usuários","usuarios.lista.descricao":"Usuários encontrados","usuarios.adicionar":"Adicionar Usuário","usuarios.tabela.nome":"Nome","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Tipo","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Último Acesso","usuarios.tabela.acoes":"Ações","usuarios.lista.vazia":"Nenhum usuário encontrado","config.seguranca.titulo":"Configurações de Segurança","config.seguranca.descricao":"Configure as políticas de segurança e autenticação","config.autenticacaoDoisFatores":"Autenticação 2 Fatores","config.autenticacaoDoisFatores.descricao":"Requer segundo fator de autenticação para login","config.tempoSessao":"Tempo da Sessão (min)","config.tempoSessao.descricao":"Tempo em minutos antes da sessão expirar automaticamente","config.tentativasLogin":"Tentativas de Login","config.tentativasLogin.descricao":"Número de tentativas de login antes do bloqueio","config.bloqueioAutomatico":"Bloqueio Automático","config.bloqueioAutomatico.descricao":"Bloqueia automaticamente após tentativas falhas","config.auditoriaAtivada":"Auditoria Ativada","config.auditoriaAtivada.descricao":"Registra todas as ações dos usuários no sistema","config.impressao.titulo":"Configurações de Impressão","config.impressao.descricao":"Configure as opções padrão para impressão de documentos","config.formatoPadrao":"Formato Padrão","config.formatoPadrao.descricao":"Formato de papel padrão para impressões","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientação","config.orientacao.descricao":"Orientação padrão da página para impressões","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisagem","config.margens":"Margens","config.margens.descricao":"Configuração das margens padrão para impressões","config.margens.normal":"Normal","config.margens.estreita":"Estreita","config.margens.larga":"Larga","config.cabecalhoPersonalizado":"Cabeçalho Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir cabeçalho personalizado nas impressões","config.rodapePersonalizado":"Rodapé Personalizado","config.rodapePersonalizado.descricao":"Incluir rodapé personalizado nas impressões","config.sistema.titulo":"Configurações do Sistema","config.sistema.descricao":"Configurações técnicas e de performance do sistema","config.backupAutomatico":"Backup Automático","config.backupAutomatico.descricao":"Realizar backups automáticos dos dados","config.frequenciaBackup":"Frequência Backup","config.frequenciaBackup.descricao":"Com que frequência os backups devem ser realizados","config.frequencia.diario":"Diário","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensal","config.notificacoesEmail":"Notificações Email","config.notificacoesEmail.descricao":"Enviar notificações importantes por email","config.cacheAtivo":"Cache Ativo","config.cacheAtivo.descricao":"Ativar sistema de cache para melhorar performance","config.logsAtivo":"Logs Ativo","config.logsAtivo.descricao":"Manter registros detalhados das atividades do sistema","msg.configuracoesSalvas":"Configurações salvas com sucesso!","msg.configuracoesRestauradas":"Configurações restauradas para os padrões!","msg.descricaoRestaurada":"Todas as configurações foram restauradas para os valores padrão.","msg.arquivoInvalido":"Arquivo inválido! Por favor, selecione uma imagem.","msg.logoRemovido":"Logo removido com sucesso!","msg.erroUpload":"Erro no upload da imagem. Tente novamente.","common.salvar":"Salvar","common.cancelar":"Cancelar","config.logoDescricao":"Arraste uma imagem ou clique para selecionar","config.logoTipos":"PNG, JPG ou GIF (máx. 5MB)","config.removerLogo":"Remover Logo","config.selecionarArquivo":"clique para selecionar"},"en-US":{"nav.dashboard":"Dashboard","nav.clientes":"Clients","nav.os":"Service Orders","nav.ov":"Sales Orders","nav.estoque":"Inventory","nav.financeiro":"Financial","nav.relatorios":"Reports","nav.configuracoes":"Settings","config.titulo":"Settings","config.descricao":"Manage all system settings","config.salvar":"Save Settings","config.restaurarPadroes":"Restore Defaults","config.personalizacao.titulo":"System Personalization","config.personalizacao.descricao":"Configure system appearance and visual identity","config.tema":"Theme","config.tema.descricao":"Choose between light, dark or system automatic theme","config.tema.light":"Light","config.tema.dark":"Dark","config.tema.system":"System","config.corPrimaria":"Primary Color","config.corPrimaria.descricao":"Main color used in buttons, links and highlighted elements","config.corSecundaria":"Secondary Color","config.corSecundaria.descricao":"Complementary color used in gradients and secondary elements","config.nomeEmpresa":"Company Name","config.nomeEmpresa.descricao":"Name that will appear in the header and system title","config.logoEmpresa":"Company Logo","config.logoEmpresa.descricao":"Image that will appear in the system header","config.idioma":"Language","config.idioma.descricao":"Main language of the user interface","config.idioma.pt-BR":"Portuguese (Brazil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Spanish","config.idioma.zh-CN":"Chinese (Simplified)","config.idioma ja-JP":"Japanese","config.usuarios.titulo":"User Settings","config.usuarios.descricao":"Manage user-related system settings","config.permitirCadastro":"Allow Registration","config.permitirCadastro.descricao":"Allows new users to register in the system","config.requerAprovacao":"Require Approval","config.requerAprovacao.descricao":"New registrations need to be approved by an administrator","config.limiteUsuarios":"User Limit","config.limiteUsuarios.descricao":"Maximum number of users allowed in the system","config.notificacaoNovosUsuarios":"Notify New Users","config.notificacaoNovosUsuarios.descricao":"Send notifications when new users register","usuarios.tipos.admin":"Administrator","usuarios.tipos.financeiro":"Financial","usuarios.tipos.comum":"Common","usuarios.status.ativo":"Active","usuarios.status.inativo":"Inactive","usuarios.erros.nomeObrigatorio":"Name is required","usuarios.erros.nomeMinimo":"Name must have at least 2 characters","usuarios.erros.emailObrigatorio":"Email is required","usuarios.erros.emailInvalido":"Invalid email","usuarios.erros.telefoneInvalido":"Invalid phone","usuarios.edicao.titulo":"Edit User","usuarios.edicao.descricao":"Edit user information","usuarios.edicao.cancelar":"Cancel","usuarios.edicao.salvar":"Save","usuarios.edicao.salvando":"Saving...","usuarios.edicao.erro":"Error saving","usuarios.edicao.erroDescricao":"Could not save changes","usuarios.remocao.titulo":"Remove User","usuarios.remocao.descricao":"Are you sure you want to remove this user?","usuarios.remocao.cancelar":"Cancel","usuarios.remocao.confirmar":"Remove","usuarios.remocao.removendo":"Removing...","usuarios.remocao.erro":"Error removing","usuarios.remocao.erroDescricao":"Could not remove user","usuarios.remocao.erroConfirmacao":"Confirmation required","usuarios.remocao.erroConfirmacaoDescricao":'Type "CONFIRM" to remove the user',"usuarios.remocao.aviso.titulo":"Warning!","usuarios.remocao.aviso.descricao":"This action cannot be undone.","usuarios.remocao.aviso.item1":"The user will lose access to the system","usuarios.remocao.aviso.item2":"All user data will be removed","usuarios.remocao.aviso.item3":"This action cannot be undone","usuarios.remocao.confirmacao.label":"Confirmation","usuarios.remocao.confirmacao.descricao":'Type "CONFIRM" to confirm removal',"usuarios.remocao.confirmacao.placeholder":"CONFIRM","usuarios.cadastro.form.nome":"Name","usuarios.cadastro.form.nomePlaceholder":"Enter full name","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Enter email","usuarios.cadastro.form.telefone":"Phone","usuarios.cadastro.form.telefonePlaceholder":"Enter phone","usuarios.cadastro.form.tipo":"User Type","usuarios.cadastro.form.senha":"Password","usuarios.cadastro.form.senhaPlaceholder":"Enter password","usuarios.cadastro.form.confirmarSenha":"Confirm Password","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirm password","usuarios.listagem.titulo":"Users","usuarios.listagem.descricao":"Manage system users","usuarios.filtros.titulo":"Filters","usuarios.busca":"Search","usuarios.busca.placeholder":"Search by name or email...","usuarios.filtros.tipo":"Type","usuarios.filtros.status":"Status","usuarios.filtros.todos":"All","usuarios.lista.titulo":"User List","usuarios.lista.descricao":"Users found","usuarios.adicionar":"Add User","usuarios.tabela.nome":"Name","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Type","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Last Access","usuarios.tabela.acoes":"Actions","usuarios.lista.vazia":"No users found","config.seguranca.titulo":"Security Settings","config.seguranca.descricao":"Configure security and authentication policies","config.autenticacaoDoisFatores":"Two-Factor Authentication","config.autenticacaoDoisFatores.descricao":"Requires second authentication factor for login","config.tempoSessao":"Session Time (min)","config.tempoSessao.descricao":"Time in minutes before session expires automatically","config.tentativasLogin":"Login Attempts","config.tentativasLogin.descricao":"Number of login attempts before blocking","config.bloqueioAutomatico":"Automatic Lock","config.bloqueioAutomatico.descricao":"Automatically blocks after failed attempts","config.auditoriaAtivada":"Audit Enabled","config.auditoriaAtivada.descricao":"Records all user actions in the system","config.impressao.titulo":"Print Settings","config.impressao.descricao":"Configure default options for document printing","config.formatoPadrao":"Default Format","config.formatoPadrao.descricao":"Default paper format for printing","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Letter","config.orientacao":"Orientation","config.orientacao.descricao":"Default page orientation for printing","config.orientacao.retrato":"Portrait","config.orientacao.paisagem":"Landscape","config.margens":"Margins","config.margens.descricao":"Default margin configuration for printing","config.margens.normal":"Normal","config.margens.estreita":"Narrow","config.margens.larga":"Wide","config.cabecalhoPersonalizado":"Custom Header","config.cabecalhoPersonalizado.descricao":"Include custom header in prints","config.rodapePersonalizado":"Custom Footer","config.rodapePersonalizado.descricao":"Include custom footer in prints","config.sistema.titulo":"System Settings","config.sistema.descricao":"Technical and performance system settings","config.backupAutomatico":"Automatic Backup","config.backupAutomatico.descricao":"Perform automatic data backups","config.frequenciaBackup":"Backup Frequency","config.frequenciaBackup.descricao":"How often backups should be performed","config.frequencia.diario":"Daily","config.frequencia.semanal":"Weekly","config.frequencia.mensal":"Monthly","config.notificacoesEmail":"Email Notifications","config.notificacoesEmail.descricao":"Send important notifications by email","config.cacheAtivo":"Cache Active","config.cacheAtivo.descricao":"Enable cache system to improve performance","config.logsAtivo":"Logs Active","config.logsAtivo.descricao":"Keep detailed records of system activities","msg.configuracoesSalvas":"Settings saved successfully!","msg.configuracoesRestauradas":"Settings restored to defaults!","msg.descricaoRestaurada":"All settings have been restored to default values.","msg.arquivoInvalido":"Invalid file! Please select an image.","msg.logoRemovido":"Logo removed successfully!","msg.erroUpload":"Upload error. Please try again.","common.salvar":"Save","common.cancelar":"Cancel","config.logoDescricao":"Drag an image or click to select","config.logoTipos":"PNG, JPG or GIF (max. 5MB)","config.removerLogo":"Remove Logo","config.selecionarArquivo":"click to select"},"es-ES":{"nav.dashboard":"Panel","nav.clientes":"Clientes","nav.os":"Órdenes de Servicio","nav.ov":"Órdenes de Venta","nav.estoque":"Inventario","nav.financeiro":"Financiero","nav.relatorios":"Reportes","nav.configuracoes":"Configuraciones","config.titulo":"Configuraciones","config.descricao":"Gestionar todas las configuraciones del sistema","config.salvar":"Guardar Configuraciones","config.restaurarPadroes":"Restaurar Predeterminados","config.personalizacao.titulo":"Personalización del Sistema","config.personalizacao.descricao":"Configurar apariencia e identidad visual del sistema","config.tema":"Tema","config.tema.descricao":"Elegir entre tema claro, oscuro o automático del sistema","config.tema.light":"Claro","config.tema.dark":"Oscuro","config.tema.system":"Sistema","config.corPrimaria":"Color Primario","config.corPrimaria.descricao":"Color principal usado en botones, enlaces y elementos destacados","config.corSecundaria":"Color Secundario","config.corSecundaria.descricao":"Color complementario usado en gradientes y elementos secundarios","config.nomeEmpresa":"Nombre de la Empresa","config.nomeEmpresa.descricao":"Nombre que aparecerá en el encabezado y título del sistema","config.logoEmpresa":"Logo de la Empresa","config.logoEmpresa.descricao":"Imagen que aparecerá en el encabezado del sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal de la interfaz de usuario","config.idioma.pt-BR":"Portugués (Brasil)","config.idioma.en-US":"Inglés (EE.UU.)","config.idioma.es-ES":"Español","config.idioma.zh-CN":"Chino (Simplificado)","config.idioma ja-JP":"Japonés","config.usuarios.titulo":"Configuraciones de Usuarios","config.usuarios.descricao":"Gestionar configuraciones relacionadas con usuarios del sistema","config.permitirCadastro":"Permitir Registro","config.permitirCadastro.descricao":"Permite que nuevos usuarios se registren en el sistema","config.requerAprovacao":"Requiere Aprobación","config.requerAprovacao.descricao":"Nuevos registros necesitan ser aprobados por un administrador","config.limiteUsuarios":"Límite de Usuários","config.limiteUsuarios.descricao":"Número máximo de usuarios permitidos en el sistema","config.notificacaoNovosUsuarios":"Notificar Nuevos Usuarios","config.notificacaoNovosUsuarios.descricao":"Enviar notificaciones cuando nuevos usuarios se registren","config.seguranca.titulo":"Configuraciones de Seguridad","config.seguranca.descricao":"Configurar políticas de seguridad y autenticación","config.autenticacaoDoisFatores":"Autenticación de Dos Factores","config.autenticacaoDoisFatores.descricao":"Requiere segundo factor de autenticación para inicio de sesión","config.tempoSessao":"Tiempo de Sesión (min)","config.tempoSessao.descricao":"Tiempo en minutos antes de que la sesión expire automáticamente","config.tentativasLogin":"Intentos de Inicio de Sesión","config.tentativasLogin.descricao":"Número de intentos de inicio de sesión antes del bloqueo","config.bloqueioAutomatico":"Bloqueo Automático","config.bloqueioAutomatico.descricao":"Bloquea automáticamente después de intentos fallidos","config.auditoriaAtivada":"Auditoría Activada","config.auditoriaAtivada.descricao":"Registra todas las acciones de los usuarios en el sistema","config.impressao.titulo":"Configuraciones de Impresión","config.impressao.descricao":"Configurar opciones predeterminadas para impresión de documentos","config.formatoPadrao":"Formato Predeterminado","config.formatoPadrao.descricao":"Formato de papel predeterminado para impresiones","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientación","config.orientacao.descricao":"Orientación predeterminada de la página para impresiones","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisaje","config.margens":"Márgenes","config.margens.descricao":"Configuración de los márgenes predeterminados para impresiones","config.margens.normal":"Normal","config.margens.estreita":"Estrecha","config.margens.larga":"Ancha","config.cabecalhoPersonalizado":"Encabezado Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir encabezado personalizado en las impresiones","config.rodapePersonalizado":"Pie de Página Personalizado","config.rodapePersonalizado.descricao":"Incluir pie de página personalizado en las impresiones","config.sistema.titulo":"Configuraciones del Sistema","config.sistema.descricao":"Configuraciones técnicas y de rendimiento del sistema","config.backupAutomatico":"Copia de Seguridad Automática","config.backupAutomatico.descricao":"Realizar copias de seguridad automáticas de los datos","config.frequenciaBackup":"Frecuencia de Copia de Seguridad","config.frequenciaBackup.descricao":"Con qué frecuencia deben realizarse las copias de seguridad","config.frequencia.diario":"Diario","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensual","config.notificacoesEmail":"Notificaciones por Correo","config.notificacoesEmail.descricao":"Enviar notificaciones importantes por correo electrónico","config.cacheAtivo":"Caché Activo","config.cacheAtivo.descricao":"Activar sistema de caché para mejorar el rendimiento","config.logsAtivo":"Registros Activos","config.logsAtivo.descricao":"Mantener registros detallados de las actividades del sistema","msg.configuracoesSalvas":"¡Configuraciones guardadas exitosamente!","msg.configuracoesRestauradas":"¡Configuraciones restauradas a los valores predeterminados!","msg.descricaoRestaurada":"Todas las configuraciones han sido restauradas a los valores predeterminados.","msg.arquivoInvalido":"¡Archivo inválido! Por favor selecciona una imagen.","msg.logoRemovido":"¡Logo eliminado exitosamente!","msg.erroUpload":"Error en la carga. Inténtalo de nuevo.","common.salvar":"Guardar","common.cancelar":"Cancelar","config.logoDescricao":"Arrastra una imagen o haz clic para seleccionar","config.logoTipos":"PNG, JPG o GIF (máx. 5MB)","config.removerLogo":"Eliminar Logo","config.selecionarArquivo":"haz clic para seleccionar"},"zh-CN":{"nav.dashboard":"仪表板","nav.clientes":"客户","nav.os":"服务订单","nav.ov":"销售订单","nav.estoque":"库存","nav.financeiro":"财务","nav.relatorios":"报告","nav.configuracoes":"设置","config.titulo":"设置","config.descricao":"管理系统所有设置","config.salvar":"保存设置","config.restaurarPadroes":"恢复默认值","config.personalizacao.titulo":"系统个性化","config.personalizacao.descricao":"配置系统外观和视觉标识","config.tema":"主题","config.tema.descricao":"在浅色、深色或系统自动主题之间选择","config.tema.light":"浅色","config.tema.dark":"深色","config.tema.system":"系统","config.corPrimaria":"主色","config.corPrimaria.descricao":"按钮、链接和突出元素中使用的主色","config.corSecundaria":"副色","config.corSecundaria.descricao":"渐变和次要元素中使用的互补色","config.nomeEmpresa":"公司名称","config.nomeEmpresa.descricao":"将显示在系统标题和页眉中的名称","config.logoEmpresa":"公司标志","config.logoEmpresa.descricao":"将显示在系统页眉中的图像","config.idioma":"语言","config.idioma.descricao":"用户界面的主要语言","config.idioma.pt-BR":"葡萄牙语（巴西）","config.idioma.en-US":"英语（美国）","config.idioma.es-ES":"西班牙语","config.idioma.zh-CN":"中文（简体）","config.idioma ja-JP":"日语","config.usuarios.titulo":"用户设置","config.usuarios.descricao":"管理系统用户相关设置","config.permitirCadastro":"允许注册","config.permitirCadastro.descricao":"允许新用户在系统中注册","config.requerAprovacao":"需要批准","config.requerAprovacao.descricao":"新注册需要管理员批准","config.limiteUsuarios":"用户限制","config.limiteUsuarios.descricao":"系统中允许的最大用户数","config.notificacaoNovosUsuarios":"通知新用户","config.notificacaoNovosUsuarios.descricao":"新用户注册时发送通知","config.seguranca.titulo":"安全设置","config.seguranca.descricao":"配置安全和认证策略","config.autenticacaoDoisFatores":"双因素认证","config.autenticacaoDoisFatores.descricao":"登录需要第二认证因素","config.tempoSessao":"会话时间（分钟）","config.tempoSessao.descricao":"会话自动过期前的分钟数","config.tentativasLogin":"登录尝试","config.tentativasLogin.descricao":"阻塞前的登录尝试次数","config.bloqueioAutomatico":"自动锁定","config.bloqueioAutomatico.descricao":"失败尝试后自动阻塞","config.auditoriaAtivada":"启用审计","config.auditoriaAtivada.descricao":"记录系统中所有用户操作","config.impressao.titulo":"打印设置","config.impressao.descricao":"配置文档打印的默认选项","config.formatoPadrao":"默认格式","config.formatoPadrao.descricao":"打印的默认纸张格式","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"信纸","config.orientacao":"方向","config.orientacao.descricao":"打印的默认页面方向","config.orientacao.retrato":"纵向","config.orientacao.paisagem":"横向","config.margens":"边距","config.margens.descricao":"打印的默认边距配置","config.margens.normal":"正常","config.margens.estreita":"窄","config.margens.larga":"宽","config.cabecalhoPersonalizado":"自定义页眉","config.cabecalhoPersonalizado.descricao":"在打印中包含自定义页眉","config.rodapePersonalizado":"自定义页脚","config.rodapePersonalizado.descricao":"在打印中包含自定义页脚","config.sistema.titulo":"系统设置","config.sistema.descricao":"系统技术和性能设置","config.backupAutomatico":"自动备份","config.backupAutomatico.descricao":"执行数据自动备份","config.frequenciaBackup":"备份频率","config.frequenciaBackup.descricao":"备份应执行的频率","config.frequencia.diario":"每日","config.frequencia.semanal":"每周","config.frequencia.mensal":"每月","config.notificacoesEmail":"电子邮件通知","config.notificacoesEmail.descricao":"通过电子邮件发送重要通知","config.cacheAtivo":"缓存激活","config.cacheAtivo.descricao":"启用缓存系统以提高性能","config.logsAtivo":"日志激活","config.logsAtivo.descricao":"保持系统活动的详细记录","msg.configuracoesSalvas":"设置保存成功！","msg.configuracoesRestauradas":"设置已恢复为默认值！","msg.descricaoRestaurada":"所有设置已恢复为默认值。","msg.arquivoInvalido":"无效文件！请选择图片。","msg.logoRemovido":"标志移除成功！","msg.erroUpload":"上传错误。请重试。","common.salvar":"保存","common.cancelar":"取消","config.logoDescricao":"拖拽图片或点击选择","config.logoTipos":"PNG、JPG 或 GIF（最大 5MB）","config.removerLogo":"移除标志","config.selecionarArquivo":"点击选择"},"ja-JP":{"nav.dashboard":"ダッシュボード","nav.clientes":"クライアント","nav.os":"サービス注文","nav.ov":"販売注文","nav.estoque":"在庫","nav.financeiro":"財務","nav.relatorios":"レポート","nav.configuracoes":"設定","config.titulo":"設定","config.descricao":"システムのすべての設定を管理","config.salvar":"設定を保存","config.restaurarPadroes":"デフォルトに戻す","config.personalizacao.titulo":"システムパーソナライズ","config.personalizacao.descricao":"システムの外観と視覚的アイデンティティを構成","config.tema":"テーマ","config.tema.descricao":"ライト、ダーク、またはシステム自動テーマから選択","config.tema.light":"ライト","config.tema.dark":"ダーク","config.tema.system":"システム","config.corPrimaria":"プライマリカラー","config.corPrimaria.descricao":"ボタン、リンク、強調要素で使用されるメインカラー","config.corSecundaria":"セカンダリカラー","config.corSecundaria.descricao":"グラデーションとセカンダリ要素で使用される補完カラー","config.nomeEmpresa":"会社名","config.nomeEmpresa.descricao":"システムのタイトルとヘッダーに表示される名前","config.logoEmpresa":"会社のロゴ","config.logoEmpresa.descricao":"システムのヘッダーに表示される画像","config.idioma":"言語","config.idioma.descricao":"ユーザーインターフェースの主要言語","config.idioma.pt-BR":"ポルトガル語（ブラジル）","config.idioma.en-US":"英語（米国）","config.idioma.es-ES":"スペイン語","config.idioma.zh-CN":"中国語（簡体字）","config.idioma ja-JP":"日本語","config.usuarios.titulo":"ユーザー設定","config.usuarios.descricao":"システムユーザーの関連設定を管理","config.permitirCadastro":"登録を許可","config.permitirCadastro.descricao":"新しいユーザーがシステムに登録することを許可","config.requerAprovacao":"承認が必要","config.requerAprovacao.descricao":"新しい登録は管理者による承認が必要","config.limiteUsuarios":"ユーザーリミット","config.limiteUsuarios.descricao":"システムで許可される最大ユーザー数","config.notificacaoNovosUsuarios":"新規ユーザーに通知","config.notificacaoNovosUsuarios.descricao":"新しいユーザーが登録したときに通知を送信","config.seguranca.titulo":"セキュリティ設定","config.seguranca.descricao":"セキュリティと認証ポリシーを構成","config.autenticacaoDoisFatores":"二要素認証","config.autenticacaoDoisFatores.descricao":"ログインに第二認証要素が必要","config.tempoSessao":"セッション時間（分）","config.tempoSessao.descricao":"セッションが自動的に期限切れになるまでの分数","config.tentativasLogin":"ログイン試行","config.tentativasLogin.descricao":"ブロック前のログイン試行回数","config.bloqueioAutomatico":"自動ロック","config.bloqueioAutomatico.descricao":"失敗した試行後に自動的にブロック","config.auditoriaAtivada":"監査有効","config.auditoriaAtivada.descricao":"システム内のすべてのユーザー操作を記録","config.impressao.titulo":"印刷設定","config.impressao.descricao":"ドキュメント印刷のデフォルトオプションを構成","config.formatoPadrao":"デフォルトフォーマット","config.formatoPadrao.descricao":"印刷のデフォルト用紙フォーマット","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"レター","config.orientacao":"方向","config.orientacao.descricao":"印刷のデフォルトページ方向","config.orientacao.retrato":"縦","config.orientacao.paisagem":"横","config.margens":"マージン","config.margens.descricao":"印刷のデフォルトマージン構成","config.margens.normal":"標準","config.margens.estreita":"狭い","config.margens.larga":"広い","config.cabecalhoPersonalizado":"カスタムヘッダー","config.cabecalhoPersonalizado.descricao":"印刷にカスタムヘッダーを含める","config.rodapePersonalizado":"カスタムフッター","config.rodapePersonalizado.descricao":"印刷にカスタムフッターを含める","config.sistema.titulo":"システム設定","config.sistema.descricao":"システムの技術的およびパフォーマンス設定","config.backupAutomatico":"自動バックアップ","config.backupAutomatico.descricao":"データの自動バックアップを実行","config.frequenciaBackup":"バックアップ頻度","config.frequenciaBackup.descricao":"バックアップを実行する頻度","config.frequencia.diario":"毎日","config.frequencia.semanal":"毎週","config.frequencia.mensal":"毎月","config.notificacoesEmail":"メール通知","config.notificacoesEmail.descricao":"重要な通知をメールで送信","config.cacheAtivo":"キャッシュ有効","config.cacheAtivo.descricao":"パフォーマンス向上のためのキャッシュシステムを有効化","config.logsAtivo":"ログ有効","config.logsAtivo.descricao":"システム活動の詳細な記録を保持","msg.configuracoesSalvas":"設定が正常に保存されました！","msg.configuracoesRestauradas":"設定がデフォルト値に復元されました！","msg.descricaoRestaurada":"すべての設定がデフォルト値に復元されました。","msg.arquivoInvalido":"無効なファイルです！画像を選択してください。","msg.logoRemovido":"ロゴが正常に削除されました！","msg.erroUpload":"アップロードエラー。再試行してください。","common.salvar":"保存","common.cancelar":"キャンセル","config.logoDescricao":"画像をドラッグするかクリックして選択","config.logoTipos":"PNG、JPG、または GIF（最大 5MB）","config.removerLogo":"ロゴを削除","config.selecionarArquivo":"クリックして選択"}},ke=(t,e="pt-BR")=>(xj[e]||xj["pt-BR"])[t]||t,Bte=()=>{g.useContext(Pr);const{toast:t}=kr(),{usuarios:e,saveUsuario:n}=Vc(),[r,s]=g.useState({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),[o,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(""),f=g.useRef(null),m=(R,L)=>{s(C=>({...C,[R]:L}))},p=R=>{R.preventDefault(),R.stopPropagation(),R.type==="dragenter"||R.type==="dragover"?c(!0):R.type==="dragleave"&&c(!1)},y=R=>{R.preventDefault(),R.stopPropagation(),c(!1),R.dataTransfer.files&&R.dataTransfer.files[0]&&x(R.dataTransfer.files[0])},x=R=>{if(R.type.startsWith("image/")){if(R.size>1048576){t({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const L=new FileReader;L.onload=C=>{_(C.target.result,N=>{d(N),s(P=>({...P,foto:N}))})},L.readAsDataURL(R)}else t({title:"Arquivo inválido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},_=(R,L)=>{const C=document.createElement("canvas"),N=C.getContext("2d"),P=new Image;P.onload=()=>{let{width:k,height:j}=P;k>j?k>200&&(j=j*200/k,k=200):j>200&&(k=k*200/j,j=200),C.width=k,C.height=j,N.drawImage(P,0,0,k,j);const A=C.toDataURL("image/jpeg",.7);L(A)},P.src=R},S=R=>{R.target.files&&R.target.files[0]&&x(R.target.files[0])},v=()=>{d(""),s(R=>({...R,foto:""})),f.current&&(f.current.value="")},b=()=>r.nome.trim()?r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?r.senha?r.senha.length<6?(t({title:"Erro de validação",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),!1):r.senha!==r.confirmarSenha?(t({title:"Erro de validação",description:"As senhas não coincidem.",variant:"destructive"}),!1):!0:(t({title:"Erro de validação",description:"A senha é obrigatória.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"Por favor, insira um email válido.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"O email é obrigatório.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"O nome é obrigatório.",variant:"destructive"}),!1),T=async R=>{if(R.preventDefault(),!!b()){i(!0);try{if(e.some(C=>C.email===r.email)){t({title:"Erro de validação",description:"Este email já está cadastrado.",variant:"destructive"}),i(!1);return}const L={nome:r.nome,email:r.email,senha:r.senha,telefone:r.telefone,endereco:r.endereco,tipo:r.tipoUsuario,foto:r.foto,status:"ativo",dataCriacao:new Date().toISOString(),ultimoAcesso:null};await n(L),t({title:"Usuário cadastrado!",description:`${r.nome} foi cadastrado com sucesso.`,variant:"default"}),s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")}catch(L){console.error("Erro ao cadastrar usuário:",L),t({title:"Erro ao cadastrar",description:"Ocorreu um erro ao cadastrar o usuário. Tente novamente.",variant:"destructive"})}finally{i(!1)}}};return a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5"}),"Informações Pessoais"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"nome",children:"Nome Completo *"}),a.jsx(xe,{id:"nome",type:"text",value:r.nome,onChange:R=>m("nome",R.target.value),placeholder:"Digite o nome completo",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"email",children:"Email *"}),a.jsx(xe,{id:"email",type:"email",value:r.email,onChange:R=>m("email",R.target.value),placeholder:"usuario@exemplo.com",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"telefone",children:"Telefone"}),a.jsx(xe,{id:"telefone",type:"tel",value:r.telefone,onChange:R=>m("telefone",R.target.value),placeholder:"(11) 99999-9999"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"endereco",children:"Endereço"}),a.jsx(xe,{id:"endereco",type:"text",value:r.endereco,onChange:R=>m("endereco",R.target.value),placeholder:"Rua, número, bairro, cidade"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(mI,{className:"h-5 w-5"}),"Foto do Usuário"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${l?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:y,children:u?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:u,alt:"Preview da foto",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),a.jsx(X,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:v,children:a.jsx(jr,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>{var R;return(R=f.current)==null?void 0:R.click()},className:"mt-2",children:"Trocar imagem"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ow,{className:"h-8 w-8 mx-auto text-slate-400"}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),a.jsx("p",{children:"ou"}),a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>{var R;return(R=f.current)==null?void 0:R.click()},className:"mt-2",children:"Selecione uma imagem"})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF até 1MB"})]})}),a.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(xx,{className:"h-5 w-5"}),"Informações de Acesso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"senha",children:"Senha *"}),a.jsx(xe,{id:"senha",type:"password",value:r.senha,onChange:R=>m("senha",R.target.value),placeholder:"Mínimo 6 caracteres",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"confirmarSenha",children:"Confirmar Senha *"}),a.jsx(xe,{id:"confirmarSenha",type:"password",value:r.confirmarSenha,onChange:R=>m("confirmarSenha",R.target.value),placeholder:"Digite a senha novamente",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"tipoUsuario",children:"Tipo de Usuário"}),a.jsxs(vt,{value:r.tipoUsuario,onValueChange:R=>m("tipoUsuario",R),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"comum",children:"Usuário Comum"}),a.jsx(se,{value:"financeiro",children:"Usuário Financeiro"}),a.jsx(se,{value:"administrador",children:"Administrador"})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(X,{type:"button",variant:"outline",onClick:()=>{s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")},disabled:o,children:"Limpar"}),a.jsx(X,{type:"submit",disabled:o,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cadastrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bu,{className:"h-4 w-4 mr-2"}),"Cadastrar Usuário"]})})]})]})},Ute=({usuario:t,isOpen:e,onClose:n,onSave:r})=>{const{currentLanguage:s}=g.useContext(Pr),{toast:o}=kr(),{saveUsuario:i}=Vc(),[l,c]=g.useState({nome:"",email:"",telefone:"",tipo:"comum",foto:""}),[u,d]=g.useState(!1),[f,m]=g.useState({}),[p,y]=g.useState(!1),[x,_]=g.useState(""),S=g.useRef(null);g.useEffect(()=>{t&&(console.log("[EditarUsuarioModal] Inicializando com usuário:",t),c({nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}),_(t.foto||""),m({}),console.log("[EditarUsuarioModal] FormData inicializado:",{nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}))},[t]);const v=(F,G)=>{c(Y=>({...Y,[F]:G})),f[F]&&m(Y=>({...Y,[F]:""}))},b=F=>{F.preventDefault(),F.stopPropagation(),F.type==="dragenter"||F.type==="dragover"?y(!0):F.type==="dragleave"&&y(!1)},T=F=>{F.preventDefault(),F.stopPropagation(),y(!1),F.dataTransfer.files&&F.dataTransfer.files[0]&&R(F.dataTransfer.files[0])},R=F=>{if(F.type.startsWith("image/")){if(F.size>1048576){o({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const G=new FileReader;G.onload=Y=>{L(Y.target.result,q=>{_(q),c(O=>({...O,foto:q}))})},G.readAsDataURL(F)}else o({title:"Arquivo inválido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},L=(F,G)=>{const Y=document.createElement("canvas"),q=Y.getContext("2d"),O=new Image;O.onload=()=>{let{width:Q,height:Z}=O;Q>Z?Q>200&&(Z=Z*200/Q,Q=200):Z>200&&(Q=Q*200/Z,Z=200),Y.width=Q,Y.height=Z,q.drawImage(O,0,0,Q,Z);const U=Y.toDataURL("image/jpeg",.7);G(U)},O.src=F},C=F=>{F.target.files&&F.target.files[0]&&R(F.target.files[0])},N=()=>{_(""),c(F=>({...F,foto:""})),S.current&&(S.current.value="")},P=F=>{const G=F.replace(/\D/g,"");return G.length<=11?G.replace(/(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3"):F},I=F=>{const G=P(F.target.value);v("telefone",G)},k=()=>{const F={};return l.nome.trim()?l.nome.trim().length<2&&(F.nome=ke("usuarios.erros.nomeMinimo",s)):F.nome=ke("usuarios.erros.nomeObrigatorio",s),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(F.email=ke("usuarios.erros.emailInvalido",s)):F.email=ke("usuarios.erros.emailObrigatorio",s),l.telefone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(l.telefone)&&(F.telefone=ke("usuarios.erros.telefoneInvalido",s)),m(F),Object.keys(F).length===0},j=async F=>{if(F.preventDefault(),!!k()){d(!0);try{const G={...t,nome:l.nome.trim(),email:l.email.trim().toLowerCase(),telefone:l.telefone,tipo:l.tipo,foto:l.foto};console.log("[EditarUsuarioModal] Salvando usuário atualizado:",G),console.log("[EditarUsuarioModal] Foto atual:",l.foto),await i(G,t.id),o({title:ke("usuarios.edicao.sucesso",s),description:ke("usuarios.edicao.sucessoDescricao",s),variant:"default"}),r(G),n()}catch{o({title:ke("usuarios.edicao.erro",s),description:ke("usuarios.edicao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{d(!1)}}},A=()=>{u||n()};return t?a.jsx(_n,{open:e,onOpenChange:A,children:a.jsxs(an,{className:"sm:max-w-md",children:[a.jsxs(ln,{children:[a.jsxs(cn,{className:"flex items-center gap-2",children:[a.jsx(rs,{className:"h-5 w-5"}),ke("usuarios.edicao.titulo",s)]}),a.jsx(Vp,{children:ke("usuarios.edicao.descricao",s)})]}),a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{htmlFor:"edit-nome",className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-4 w-4"}),ke("usuarios.cadastro.form.nome",s)]}),a.jsx(xe,{id:"edit-nome",type:"text",value:l.nome,onChange:F=>v("nome",F.target.value),placeholder:ke("usuarios.cadastro.form.nomePlaceholder",s),className:f.nome?"border-red-500":""}),f.nome&&a.jsx("p",{className:"text-sm text-red-500",children:f.nome})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{htmlFor:"edit-email",className:"flex items-center gap-2",children:[a.jsx(Ti,{className:"h-4 w-4"}),ke("usuarios.cadastro.form.email",s)]}),a.jsx(xe,{id:"edit-email",type:"email",value:l.email,onChange:F=>v("email",F.target.value),placeholder:ke("usuarios.cadastro.form.emailPlaceholder",s),className:f.email?"border-red-500":""}),f.email&&a.jsx("p",{className:"text-sm text-red-500",children:f.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{htmlFor:"edit-telefone",className:"flex items-center gap-2",children:[a.jsx(ki,{className:"h-4 w-4"}),ke("usuarios.cadastro.form.telefone",s)]}),a.jsx(xe,{id:"edit-telefone",type:"tel",value:l.telefone,onChange:I,placeholder:ke("usuarios.cadastro.form.telefonePlaceholder",s),className:f.telefone?"border-red-500":""}),f.telefone&&a.jsx("p",{className:"text-sm text-red-500",children:f.telefone})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{htmlFor:"edit-tipo",className:"flex items-center gap-2",children:[a.jsx(ic,{className:"h-4 w-4"}),ke("usuarios.cadastro.form.tipo",s)]}),a.jsxs(vt,{value:l.tipo,onValueChange:F=>v("tipo",F),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"comum",children:ke("usuarios.tipos.comum",s)}),a.jsx(se,{value:"financeiro",children:ke("usuarios.tipos.financeiro",s)}),a.jsx(se,{value:"admin",children:ke("usuarios.tipos.admin",s)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{className:"flex items-center gap-2",children:[a.jsx(mI,{className:"h-4 w-4"}),"Foto do Usuário"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${p?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:b,onDragLeave:b,onDragOver:b,onDrop:T,children:x?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:x,alt:"Preview da foto",className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),a.jsx(X,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0",onClick:N,children:a.jsx(jr,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>{var F;return(F=S.current)==null?void 0:F.click()},className:"mt-1",children:"Trocar imagem"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ow,{className:"h-6 w-6 mx-auto text-slate-400"}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),a.jsx("p",{children:"ou"}),a.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>{var F;return(F=S.current)==null?void 0:F.click()},className:"mt-1",children:"Selecione uma imagem"})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF até 1MB"})]})}),a.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:C,className:"hidden"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsxs(X,{type:"button",variant:"outline",onClick:A,disabled:u,children:[a.jsx(jr,{className:"h-4 w-4 mr-2"}),ke("usuarios.edicao.cancelar",s)]}),a.jsx(X,{type:"submit",disabled:u,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),ke("usuarios.edicao.salvando",s)]}):a.jsxs(a.Fragment,{children:[a.jsx(gI,{className:"h-4 w-4 mr-2"}),ke("usuarios.edicao.salvar",s)]})})]})]})]})}):null},$te=({usuario:t,isOpen:e,onClose:n,onConfirm:r})=>{const{currentLanguage:s}=g.useContext(Pr),{toast:o}=kr(),[i,l]=g.useState(!1),[c,u]=g.useState(""),d=async()=>{if(c!=="CONFIRMAR"){o({title:ke("usuarios.remocao.erroConfirmacao",s),description:ke("usuarios.remocao.erroConfirmacaoDescricao",s),variant:"destructive",duration:4e3});return}l(!0);try{await new Promise(p=>setTimeout(p,1500)),r(t.id)}catch{o({title:ke("usuarios.remocao.erro",s),description:ke("usuarios.remocao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{l(!1)}},f=()=>{i||(u(""),n())},m=p=>{u(p.target.value)};return t?a.jsx(_n,{open:e,onOpenChange:f,children:a.jsxs(an,{className:"sm:max-w-md",children:[a.jsxs(ln,{children:[a.jsxs(cn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(_s,{className:"h-5 w-5"}),ke("usuarios.remocao.titulo",s)]}),a.jsx(Vp,{children:ke("usuarios.remocao.descricao",s)})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-lg",children:t.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:t.nome}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-2 py-1 rounded",children:t.tipo==="admin"?ke("usuarios.tipos.admin",s):t.tipo==="financeiro"?ke("usuarios.tipos.financeiro",s):ke("usuarios.tipos.comum",s)}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.status==="ativo"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300"}`,children:t.status==="ativo"?ke("usuarios.status.ativo",s):ke("usuarios.status.inativo",s)})]})]})]})}),a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(_s,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:ke("usuarios.remocao.aviso.titulo",s)}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:ke("usuarios.remocao.aviso.descricao",s)}),a.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-2 list-disc list-inside space-y-1",children:[a.jsx("li",{children:ke("usuarios.remocao.aviso.item1",s)}),a.jsx("li",{children:ke("usuarios.remocao.aviso.item2",s)}),a.jsx("li",{children:ke("usuarios.remocao.aviso.item3",s)})]})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:ke("usuarios.remocao.confirmacao.label",s)}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ke("usuarios.remocao.confirmacao.descricao",s)}),a.jsx("input",{type:"text",value:c,onChange:m,placeholder:ke("usuarios.remocao.confirmacao.placeholder",s),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:i})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsxs(X,{type:"button",variant:"outline",onClick:f,disabled:i,children:[a.jsx(jr,{className:"h-4 w-4 mr-2"}),ke("usuarios.remocao.cancelar",s)]}),a.jsx(X,{onClick:d,disabled:i||c!=="CONFIRMAR",className:"bg-red-600 hover:bg-red-700 text-white",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),ke("usuarios.remocao.removendo",s)]}):a.jsxs(a.Fragment,{children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),ke("usuarios.remocao.confirmar",s)]})})]})]})]})}):null},qte=({usuariosExternos:t,onAddUsuario:e})=>{const{currentLanguage:n}=g.useContext(Pr),{toast:r}=kr(),{data:s,loading:o}=Vc(),[i,l]=g.useState([]),[c,u]=g.useState(""),[d,f]=g.useState("todos"),[m,p]=g.useState("todos"),[y,x]=g.useState(!1),[_,S]=g.useState(!1),[v,b]=g.useState(null);g.useEffect(()=>{s&&s.length>0&&l(s)},[s]);const T=i.filter(j=>{const A=j.nome.toLowerCase().includes(c.toLowerCase()),F=d==="todos"||j.tipo===d,G=m==="todos"||j.status===m;return A&&F&&G});g.useEffect(()=>{l(t)},[t]),g.useEffect(()=>{const j=()=>{const F=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[UsuariosListagem] Usuários carregados do localStorage:",F);const G=F.map(Y=>({...Y,status:Y.status||"ativo",ultimoAcesso:Y.ultimoAcesso||new Date().toISOString(),tipo:Y.tipo||Y.tipoUsuario||"comum"}));l(G)};j();const A=()=>{j()};return window.addEventListener("storage",A),()=>{window.removeEventListener("storage",A)}},[]);const R=j=>{b(j),x(!0)},L=j=>{b(j),S(!0)},C=(j,A)=>{l(F=>F.map(G=>G.id===j?{...G,status:A}:G)),r({title:"Status alterado!",description:`Status do usuário alterado para ${A==="ativo"?"ativo":"inativo"}`,variant:"default",duration:3e3})},N=j=>{l(A=>A.filter(F=>F.id!==j)),S(!1),b(null),r({title:"Usuário removido!",description:"Usuário removido com sucesso do sistema",variant:"default",duration:3e3})},P=j=>{l(A=>A.map(F=>F.id===j.id?j:F)),x(!1),b(null),r({title:"Usuário atualizado!",description:"Dados do usuário atualizados com sucesso",variant:"default",duration:3e3})},I=j=>{const A={admin:{label:"Administrador",variant:"default"},financeiro:{label:"Financeiro",variant:"secondary"},comum:{label:"Comum",variant:"outline"}},F=A[j]||A.comum;return a.jsx(yr,{variant:F.variant,children:F.label})},k=j=>a.jsx(yr,{variant:j==="ativo"?"default":"destructive",children:j==="ativo"?"Ativo":"Inativo"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:ke("usuarios.listagem.titulo",n)}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:ke("usuarios.listagem.descricao",n)})]}),a.jsxs(gn,{children:[a.jsx(Tn,{children:a.jsxs(kn,{className:"flex items-center gap-2",children:[a.jsx(Mw,{className:"h-5 w-5"}),ke("usuarios.filtros.titulo",n)]})}),a.jsx(vn,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:ke("usuarios.busca",n)}),a.jsxs("div",{className:"relative",children:[a.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),a.jsx(xe,{placeholder:ke("usuarios.busca.placeholder",n),value:c,onChange:j=>u(j.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:ke("usuarios.filtros.tipo",n)}),a.jsxs(vt,{value:d,onValueChange:f,children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"todos",children:ke("usuarios.filtros.todos",n)}),a.jsx(se,{value:"admin",children:ke("usuarios.tipos.admin",n)}),a.jsx(se,{value:"financeiro",children:ke("usuarios.tipos.financeiro",n)}),a.jsx(se,{value:"comum",children:ke("usuarios.tipos.comum",n)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:ke("usuarios.filtros.status",n)}),a.jsxs(vt,{value:m,onValueChange:p,children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"todos",children:ke("usuarios.filtros.todos",n)}),a.jsx(se,{value:"ativo",children:ke("usuarios.status.ativo",n)}),a.jsx(se,{value:"inativo",children:ke("usuarios.status.inativo",n)})]})]})]})]})})]}),a.jsxs(gn,{children:[a.jsx(Tn,{children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx(kn,{children:ke("usuarios.lista.titulo",n)}),a.jsx(Si,{children:o?"Carregando usuários...":`${ke("usuarios.lista.descricao",n)} (${T.length} ${T.length===1?"usuário":"usuários"})`})]})})}),a.jsx(vn,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ke("usuarios.tabela.nome",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ke("usuarios.tabela.email",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ke("usuarios.tabela.tipo",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ke("usuarios.tabela.status",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ke("usuarios.tabela.ultimoAcesso",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ke("usuarios.tabela.acoes",n)})]})}),a.jsx("tbody",{children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Carregando usuários..."})}):T.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhum usuário encontrado"})}):T.map(j=>a.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[j.foto?a.jsx("img",{src:j.foto,alt:j.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold",children:j.nome.charAt(0).toUpperCase()}),a.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:j.nome})]})}),a.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:j.email}),a.jsx("td",{className:"p-4",children:I(j.tipo)}),a.jsx("td",{className:"p-4",children:k(j.status)}),a.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:new Date(j.ultimoAcesso).toLocaleDateString("pt-BR")}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",onClick:()=>R(j),className:"hover:bg-blue-50 hover:border-blue-200",children:a.jsx(rs,{className:"h-4 w-4"})}),a.jsx(X,{variant:"outline",size:"sm",onClick:()=>C(j.id,j.status==="ativo"?"inativo":"ativo"),className:j.status==="ativo"?"hover:bg-red-50 hover:border-red-200":"hover:bg-green-50 hover:border-green-200",children:j.status==="ativo"?a.jsx(tz,{className:"h-4 w-4"}):a.jsx(ez,{className:"h-4 w-4"})}),a.jsx(X,{variant:"outline",size:"sm",onClick:()=>L(j),className:"hover:bg-red-50 hover:border-red-200",children:a.jsx(ss,{className:"h-4 w-4"})})]})})]},j.id))})]})})})]}),y&&v&&a.jsx(Ute,{usuario:v,isOpen:y,onClose:()=>x(!1),onSave:P}),_&&v&&a.jsx($te,{usuario:v,isOpen:_,onClose:()=>S(!1),onConfirm:N})]})},Wte=({usuarioLogado:t})=>{g.useContext(Pr);const{toast:e}=kr(),{config:n,loading:r,saveConfig:s}=d1(),{config:o,saveConfig:i}=u1();Vc();const[l,c]=g.useState("usuarios"),[u,d]=g.useState({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0}),[f,m]=g.useState({nomeEmpresa:"",descricao:"",endereco:"",telefone:"",whatsapp:"",cnpj:"",email:"",site:"",logo:""}),[p,y]=g.useState(!1),[x,_]=g.useState("");g.useEffect(()=>{n&&d(C=>({...C,...n}))},[n]),g.useEffect(()=>{o&&m({nomeEmpresa:o.nomeEmpresa||"",descricao:o.descricao||"",endereco:o.endereco||"",telefone:o.telefone||"",whatsapp:o.whatsapp||"",cnpj:o.cnpj||"",email:o.email||"",site:o.site||"",logo:o.logo||""})},[o]),g.useEffect(()=>{n&&_(n.logo||"")},[n]);const S=(C,N)=>{d(P=>({...P,[C]:N}))},v=(C,N)=>{m(P=>({...P,[C]:N}))},b=C=>{const N=C.target.files[0];if(N){const P=new FileReader;P.onload=I=>{const k=I.target.result;_(k),d(j=>({...j,logo:k}))},P.readAsDataURL(N)}},T=()=>{_(""),d(C=>({...C,logo:""}))},R=async()=>{if(!f.nomeEmpresa||!f.endereco||!f.telefone){e({title:"Erro",description:"Na aba 'Loja': Nome da empresa, endereço e telefone são obrigatórios!",variant:"destructive"});return}y(!0);try{await s(u),await i(f),e({title:"Sucesso!",description:"Todas as configurações foram salvas com sucesso!"})}catch(C){console.error("Erro ao salvar configurações:",C),e({title:"Erro",description:"Erro ao salvar configurações. Tente novamente.",variant:"destructive"})}finally{y(!1)}},L=()=>{d({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0})};return r?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),a.jsx("p",{className:"ml-4 text-lg text-slate-600 dark:text-slate-400",children:"Carregando configurações..."})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsx(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:a.jsx(vo,{className:"h-10 w-10"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Configurações do Sistema"}),a.jsx("p",{className:"text-purple-100 text-lg",children:"Gerencie todas as configurações e preferências"})]})]})}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:[a.jsxs(Oa,{defaultValue:"loja",className:"w-full",children:[a.jsxs(La,{className:"grid w-full grid-cols-1 sm:grid-cols-3 lg:grid-cols-6 bg-slate-100 dark:bg-slate-700/50 rounded-none border-b border-slate-200 dark:border-slate-600 max-w-full",children:[a.jsxs(wn,{value:"loja",className:"flex items-center gap-2",children:[a.jsx(gv,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Loja"})]}),a.jsxs(wn,{value:"personalizacao",className:"flex items-center gap-2",children:[a.jsx(xv,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Personalização"})]}),a.jsxs(wn,{value:"usuarios",className:"flex items-center gap-2",children:[a.jsx(os,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Usuários"})]}),a.jsxs(wn,{value:"seguranca",className:"flex items-center gap-2",children:[a.jsx(ic,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Segurança"})]}),a.jsxs(wn,{value:"impressao",className:"flex items-center gap-2",children:[a.jsx(md,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Impressão"})]}),a.jsxs(wn,{value:"sistema",className:"flex items-center gap-2",children:[a.jsx(bm,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sistema"})]})]}),a.jsxs(bn,{value:"loja",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(gv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações da Loja"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure os dados da sua empresa que aparecerão nos documentos impressos (ordens de serviço, orçamentos, etc.)"})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(gv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações Básicas"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-full",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"loja-nomeEmpresa",children:"Nome da Empresa *"}),a.jsx(xe,{id:"loja-nomeEmpresa",value:f.nomeEmpresa,onChange:C=>v("nomeEmpresa",C.target.value),placeholder:"Ex: MultiSmart",className:"h-12",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecerá nos documentos impressos (ordens de serviço, orçamentos)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"loja-descricao",children:"Descrição dos Serviços"}),a.jsx(xe,{id:"loja-descricao",value:f.descricao,onChange:C=>v("descricao",C.target.value),placeholder:"Ex: Manutenção e Comércio de Celulares e Tablets",className:"h-12"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Descrição que aparecerá abaixo do nome da empresa nos documentos"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(ki,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações de Contato"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-full",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{htmlFor:"loja-telefone",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(ki,{className:"h-4 w-4"}),"Telefone *"]}),a.jsx(xe,{id:"loja-telefone",value:f.telefone,onChange:C=>v("telefone",C.target.value),placeholder:"(17) 3345-1016",className:"h-12",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Telefone que aparecerá nos documentos impressos"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{htmlFor:"loja-whatsapp",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Y9,{className:"h-4 w-4"}),"WhatsApp"]}),a.jsx(xe,{id:"loja-whatsapp",value:f.whatsapp,onChange:C=>v("whatsapp",C.target.value),placeholder:"(17) 99157-1263",className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{htmlFor:"loja-email",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ti,{className:"h-4 w-4"}),"E-mail"]}),a.jsx(xe,{id:"loja-email",type:"email",value:f.email,onChange:C=>v("email",C.target.value),placeholder:"contato@multismart.com",className:"h-12"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{htmlFor:"loja-site",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(fI,{className:"h-4 w-4"}),"Site/URL"]}),a.jsx(xe,{id:"loja-site",value:f.site,onChange:C=>v("site",C.target.value),placeholder:"https://www.multismart.com",className:"h-12"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Sm,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Endereço"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"loja-endereco",children:"Endereço Completo *"}),a.jsx(xd,{id:"loja-endereco",value:f.endereco,onChange:C=>v("endereco",C.target.value),placeholder:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",rows:3,className:"resize-none",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Endereço completo que aparecerá nos documentos impressos"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(ur,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Documentos"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"loja-cnpj",children:"CNPJ"}),a.jsx(xe,{id:"loja-cnpj",value:f.cnpj,onChange:C=>v("cnpj",C.target.value),placeholder:"47.309.271/0001-97",className:"h-12"})]})]})]})]}),a.jsxs(bn,{value:"personalizacao",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(xv,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Personalização do Sistema"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure a aparência visual do sistema (cores, tema, idioma) e o nome que aparece no cabeçalho da interface"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(ji,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Logo do Sistema"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(J,{className:"text-sm font-medium",children:"Upload do Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(xe,{type:"file",accept:"image/*",onChange:b,className:"flex-1"}),a.jsxs(X,{type:"button",variant:"outline",onClick:()=>document.querySelector('input[type="file"]').click(),children:[a.jsx(Ow,{className:"h-4 w-4 mr-2"}),"Escolher"]})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Logo que aparecerá no cabeçalho do sistema. Formatos aceitos: JPG, PNG, GIF. Tamanho recomendado: 200x200px"})]}),x&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:x,alt:"Preview do logo",className:"w-24 h-24 object-contain border-2 border-slate-200 dark:border-slate-700 rounded-lg"}),a.jsx(X,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:T,children:a.jsx(jr,{className:"h-3 w-3"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-full",children:[a.jsxs(gn,{children:[a.jsxs(Tn,{children:[a.jsxs(kn,{className:"flex items-center gap-2",children:[a.jsx(xv,{className:"h-5 w-5"}),"Aparência"]}),a.jsx(Si,{children:"Configure cores e tema do sistema"})]}),a.jsxs(vn,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Tema"}),a.jsxs(vt,{value:u.tema,onValueChange:C=>S("tema",C),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"light",children:"Claro"}),a.jsx(se,{value:"dark",children:"Escuro"}),a.jsx(se,{value:"system",children:"Sistema"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-full",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Cor Primária"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(xe,{type:"color",value:u.corPrimaria,onChange:C=>S("corPrimaria",C.target.value),className:"w-16 h-10 p-1 border rounded"}),a.jsx(xe,{value:u.corPrimaria,onChange:C=>S("corPrimaria",C.target.value),className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Cor Secundária"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(xe,{type:"color",value:u.corSecundaria,onChange:C=>S("corSecundaria",C.target.value),className:"w-16 h-10 p-1 border rounded"}),a.jsx(xe,{value:u.corSecundaria,onChange:C=>S("corSecundaria",C.target.value),className:"flex-1"})]})]})]})]})]}),a.jsxs(gn,{children:[a.jsxs(Tn,{children:[a.jsxs(kn,{className:"flex items-center gap-2",children:[a.jsx(vo,{className:"h-5 w-5"}),"Sistema"]}),a.jsx(Si,{children:"Configurações gerais do sistema"})]}),a.jsxs(vn,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{htmlFor:"nomeEmpresa",children:"Nome da Empresa"}),a.jsx(xe,{id:"nomeEmpresa",value:u.nomeEmpresa,onChange:C=>S("nomeEmpresa",C.target.value),placeholder:"Nome da empresa"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecerá no cabeçalho da interface do sistema"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Idioma"}),a.jsxs(vt,{value:u.idioma,onValueChange:C=>S("idioma",C),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"pt-BR",children:"Português (Brasil)"}),a.jsx(se,{value:"en-US",children:"English (US)"}),a.jsx(se,{value:"es-ES",children:"Español"})]})]})]})]})]})]})]}),a.jsxs(bn,{value:"usuarios",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(os,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Gerenciamento de Usuários"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure como novos usuários podem se cadastrar no sistema e gerencie usuários existentes"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 w-full max-w-full",children:[a.jsxs(gn,{children:[a.jsxs(Tn,{children:[a.jsx(kn,{children:"Configurações de Usuários"}),a.jsx(Si,{children:"Configure como os usuários interagem com o sistema"})]}),a.jsxs(vn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(J,{children:"Permitir Cadastro"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Permite que novos usuários se cadastrem"})]}),a.jsx(Fs,{checked:u.permitirCadastro,onCheckedChange:C=>S("permitirCadastro",C)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(J,{children:"Requer Aprovação"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Novos cadastros precisam de aprovação"})]}),a.jsx(Fs,{checked:u.requerAprovacao,onCheckedChange:C=>S("requerAprovacao",C)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Limite de Usuários"}),a.jsx(xe,{type:"number",value:u.limiteUsuarios,onChange:C=>S("limiteUsuarios",parseInt(C.target.value)),min:"1",max:"100"})]})]})]}),a.jsxs(gn,{children:[a.jsxs(Tn,{children:[a.jsx(kn,{children:"Usuários do Sistema"}),a.jsx(Si,{children:"Gerencie usuários existentes"})]}),a.jsx(vn,{children:a.jsxs(Oa,{value:l,onValueChange:c,children:[a.jsxs(La,{className:"grid w-full grid-cols-1 sm:grid-cols-2 max-w-full",children:[a.jsx(wn,{value:"usuarios",children:"Usuários"}),a.jsx(wn,{value:"cadastro",children:"Novo Usuário"})]}),a.jsx(bn,{value:"usuarios",className:"mt-4",children:a.jsx(qte,{usuarioLogado:t})}),a.jsx(bn,{value:"cadastro",className:"mt-4",children:a.jsx(Bte,{})})]})})]})]})]}),a.jsxs(bn,{value:"seguranca",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(ic,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações de Segurança"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure autenticação de dois fatores, tempo de sessão, tentativas de login e monitoramento de atividades"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-full",children:[a.jsxs(gn,{children:[a.jsx(Tn,{children:a.jsx(kn,{children:"Autenticação"})}),a.jsxs(vn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(J,{children:"2FA (Dois Fatores)"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Autenticação de dois fatores"})]}),a.jsx(Fs,{checked:u.autenticacaoDoisFatores,onCheckedChange:C=>S("autenticacaoDoisFatores",C)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Tempo de Sessão (minutos)"}),a.jsx(xe,{type:"number",value:u.tempoSessao,onChange:C=>S("tempoSessao",parseInt(C.target.value)),min:"5",max:"480"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Tentativas de Login"}),a.jsx(xe,{type:"number",value:u.tentativasLogin,onChange:C=>S("tentativasLogin",parseInt(C.target.value)),min:"1",max:"10"})]})]})]}),a.jsxs(gn,{children:[a.jsx(Tn,{children:a.jsx(kn,{children:"Monitoramento"})}),a.jsxs(vn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(J,{children:"Bloqueio Automático"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bloqueia após tentativas falhadas"})]}),a.jsx(Fs,{checked:u.bloqueioAutomatico,onCheckedChange:C=>S("bloqueioAutomatico",C)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(J,{children:"Auditoria Ativada"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra ações dos usuários"})]}),a.jsx(Fs,{checked:u.auditoriaAtivada,onCheckedChange:C=>S("auditoriaAtivada",C)})]})]})]})]})]}),a.jsxs(bn,{value:"impressao",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(md,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações de Impressão"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure o formato, orientação, margens e fonte dos documentos que serão impressos (ordens de serviço, orçamentos, etc.)"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-full",children:[a.jsxs(gn,{children:[a.jsx(Tn,{children:a.jsx(kn,{children:"Formato do Documento"})}),a.jsxs(vn,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Formato Padrão"}),a.jsxs(vt,{value:u.formatoPadrao,onValueChange:C=>S("formatoPadrao",C),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"A4",children:"A4"}),a.jsx(se,{value:"A3",children:"A3"}),a.jsx(se,{value:"Letter",children:"Letter"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Orientação"}),a.jsxs(vt,{value:u.orientacaoPadrao,onValueChange:C=>S("orientacaoPadrao",C),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"retrato",children:"Retrato"}),a.jsx(se,{value:"paisagem",children:"Paisagem"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Margem (cm)"}),a.jsx(xe,{type:"number",value:u.margemPadrao,onChange:C=>S("margemPadrao",parseFloat(C.target.value)),min:"0.5",max:"5",step:"0.1"})]})]})]}),a.jsxs(gn,{children:[a.jsx(Tn,{children:a.jsx(kn,{children:"Fonte e Estilo"})}),a.jsxs(vn,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Fonte Padrão"}),a.jsxs(vt,{value:u.fontePadrao,onValueChange:C=>S("fontePadrao",C),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"Arial",children:"Arial"}),a.jsx(se,{value:"Times New Roman",children:"Times New Roman"}),a.jsx(se,{value:"Calibri",children:"Calibri"}),a.jsx(se,{value:"Helvetica",children:"Helvetica"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Tamanho da Fonte"}),a.jsx(xe,{type:"number",value:u.tamanhoFonte,onChange:C=>S("tamanhoFonte",parseInt(C.target.value)),min:"8",max:"24"})]})]})]})]})]}),a.jsxs(bn,{value:"sistema",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(bm,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações do Sistema"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure backup automático, frequência de backup, retenção de dados e monitoramento do sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-full",children:[a.jsxs(gn,{children:[a.jsx(Tn,{children:a.jsx(kn,{children:"Backup e Recuperação"})}),a.jsxs(vn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(J,{children:"Backup Automático"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Backup automático dos dados"})]}),a.jsx(Fs,{checked:u.backupAutomatico,onCheckedChange:C=>S("backupAutomatico",C)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Frequência do Backup"}),a.jsxs(vt,{value:u.frequenciaBackup,onValueChange:C=>S("frequenciaBackup",C),children:[a.jsx(ft,{children:a.jsx(xt,{})}),a.jsxs(mt,{children:[a.jsx(se,{value:"hora",children:"A cada hora"}),a.jsx(se,{value:"diario",children:"Diário"}),a.jsx(se,{value:"semanal",children:"Semanal"}),a.jsx(se,{value:"mensal",children:"Mensal"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{children:"Retenção (dias)"}),a.jsx(xe,{type:"number",value:u.retencaoBackup,onChange:C=>S("retencaoBackup",parseInt(C.target.value)),min:"1",max:"365"})]})]})]}),a.jsxs(gn,{children:[a.jsx(Tn,{children:a.jsx(kn,{children:"Monitoramento"})}),a.jsxs(vn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(J,{children:"Logs Ativados"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra atividades do sistema"})]}),a.jsx(Fs,{checked:u.logsAtivados,onCheckedChange:C=>S("logsAtivados",C)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(J,{children:"Monitoramento Ativo"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monitora performance do sistema"})]}),a.jsx(Fs,{checked:u.monitoramentoAtivo,onCheckedChange:C=>S("monitoramentoAtivo",C)})]})]})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50",children:[a.jsx(X,{onClick:R,disabled:p,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 h-12 text-lg",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gI,{className:"h-5 w-5 mr-2"}),"Salvar Todas as Configurações"]})}),a.jsxs(X,{onClick:L,variant:"outline",className:"h-12 px-8",children:[a.jsx(pI,{className:"h-5 w-5 mr-2"}),"Restaurar Padrões"]})]})]})]})},yj=()=>{const{openDialog:t,setActiveModule:e,definirProdutoParaReporEstoque:n,darkMode:r}=g.useContext(Pr),{data:s,loading:o}=Fc(),{data:i,loading:l}=ug(),{data:c,loading:u}=nh(),{data:d,loading:f}=rh(),{data:m,loading:p}=sh(),{data:y,loading:x}=oh(),[_,S]=g.useState({clientes:0,os:0,ov:0,produtos:0,contasReceber:0,contasPagar:0,estoqueCritico:0,osPendentes:0,osConcluidas:0,faturamentoMes:0}),[v,b]=g.useState(!1);g.useEffect(()=>{var k,j;if(console.log("[Dashboard] ===== ATUALIZANDO ESTATÍSTICAS ====="),console.log("[Dashboard] Dados recebidos:",{clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,financeiro:(y==null?void 0:y.length)||0}),!o&&!l&&!u&&!f&&!x){const A=((k=y==null?void 0:y.filter(V=>V.tipo==="receber"&&V.status==="Pendente"))==null?void 0:k.reduce((V,Q)=>V+(Q.valor||0),0))||0,F=((j=y==null?void 0:y.filter(V=>V.tipo==="pagar"&&V.status==="Pendente"))==null?void 0:j.reduce((V,Q)=>V+(Q.valor||0),0))||0,G=(d==null?void 0:d.filter(V=>V.quantidade<=(V.estoqueMinimo||5)).length)||0,Y=(i==null?void 0:i.filter(V=>V.status==="Pendente").length)||0,q=(i==null?void 0:i.filter(V=>V.status==="Concluída").length)||0,O=(i==null?void 0:i.filter(V=>{const Q=new Date(V.createdAt),Z=new Date().getMonth(),U=new Date().getFullYear();return V.status==="Concluída"&&Q.getMonth()===Z&&Q.getFullYear()===U}).reduce((V,Q)=>V+(Q.valor||0),0))||0;S({clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:A,contasPagar:F,estoqueCritico:G,osPendentes:Y,osConcluidas:q,faturamentoMes:O}),console.log("[Dashboard] Estatísticas calculadas:",{clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:A,contasPagar:F,estoqueCritico:G,osPendentes:Y,osConcluidas:q,faturamentoMes:O})}},[s,i,c,d,m,y,o,l,u,f,p,x]);const T=[{title:"Clientes",value:_.clientes,icon:os,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",change:"+12%",changeType:"positive"},{title:"Ordens de Serviço",value:_.os,icon:ur,color:"from-green-500 to-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",change:"+8%",changeType:"positive"},{title:"Ordens de Venda",value:_.ov,icon:gr,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",change:"+15%",changeType:"positive"},{title:"Produtos",value:_.produtos,icon:An,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",change:"+5%",changeType:"positive"}],R=[{title:"Contas a Receber",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.contasReceber),icon:er,color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",change:"+R$ 2.500",changeType:"positive"},{title:"Contas a Pagar",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.contasPagar),icon:xo,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",change:"-R$ 1.200",changeType:"negative"},{title:"Faturamento do Mês",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.faturamentoMes),icon:Vn,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",change:"+R$ 5.800",changeType:"positive"}],L=[{title:"OS Pendentes",value:_.osPendentes,icon:sa,color:"from-amber-500 to-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",isAlert:_.osPendentes>5,alertMessage:"Muitas OS pendentes!"},{title:"Estoque Crítico",value:_.estoqueCritico,icon:_s,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",isAlert:_.estoqueCritico>0,alertMessage:"Produtos com estoque baixo!"}],C=[{title:"Nova OS",description:"Criar nova ordem de serviço",icon:ur,color:"from-blue-500 to-blue-600",action:()=>N("os","os"),badge:"Popular"},{title:"Novo Cliente",description:"Cadastrar novo cliente",icon:os,color:"from-green-500 to-green-600",action:()=>N("clientes","clientes")},{title:"Nova Venda",description:"Criar nova ordem de venda",icon:gr,color:"from-purple-500 to-purple-600",action:()=>N("ov","ov")},{title:"Adicionar Produto",description:"Cadastrar novo produto",icon:An,color:"from-orange-500 to-orange-600",action:()=>N("estoque","produto")},{title:"Movimentação",description:"Entrada/Saída de estoque",icon:gx,color:"from-teal-500 to-teal-600",action:()=>N("estoque","movimentacao")},{title:"Relatórios",description:"Ver relatórios e análises",icon:yn,color:"from-indigo-500 to-indigo-600",action:()=>N("relatorios")}],N=(k,j)=>{e(k),j&&setTimeout(()=>t(j),50),console.log("[Dashboard] Ação rápida:",k,j)},P=k=>{n(k),e("estoque"),setTimeout(()=>{t("movimentacao")},50),b(!1)},I=o||l||u||f||p||x;return a.jsxs("div",{className:"space-y-8",children:[a.jsx(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[a.jsx(yn,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Dashboard"]}),a.jsx("p",{className:"text-blue-100 text-base lg:text-lg",children:I?"Carregando dados...":"Visão geral do seu sistema CRM"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Hoje"}),a.jsx("p",{className:"text-xl font-bold",children:new Date().toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Status"}),a.jsx("p",{className:"text-xl font-bold text-green-200",children:"Online"})]})]})]})}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg",children:a.jsx(pd,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Acesse rapidamente as funcionalidades mais utilizadas"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full max-w-full",children:C.map((k,j)=>{const A=k.icon;return a.jsxs(me.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1+j*.1},onClick:k.action,className:"group relative bg-white dark:bg-slate-700 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-left",children:[k.badge&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:k.badge}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color} group-hover:scale-110 transition-transform duration-300`,children:a.jsx(A,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:k.title}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.description})]}),a.jsx(pv,{className:"h-5 w-5 text-slate-400 group-hover:text-blue-500 transition-colors"})]})]},k.title)})})})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wu,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Estatísticas Principais"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 w-full max-w-full",children:T.map((k,j)=>{const A=k.icon;return a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2+j*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:a.jsx(A,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[k.changeType==="positive"?a.jsx(pv,{className:"h-4 w-4 text-green-500"}):a.jsx(jC,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:`font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.title})]})]},k.title)})})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Vn,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Financeiro"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6 w-full max-w-full",children:R.map((k,j)=>{const A=k.icon;return a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+j*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:a.jsx(A,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[k.changeType==="positive"?a.jsx(pv,{className:"h-4 w-4 text-green-500"}):a.jsx(jC,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:`font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.title})]})]},k.title)})})]}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_s,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Alertas e Status"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 w-full max-w-full",children:L.map((k,j)=>{const A=k.icon;return a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+j*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${k.isAlert?"ring-2 ring-amber-400 ring-opacity-50":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:a.jsx(A,{className:"h-6 w-6 text-white"})}),k.isAlert&&a.jsx("div",{className:"flex items-center gap-1 text-sm",children:a.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-full text-xs font-medium",children:"Atenção"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:k.title}),k.isAlert&&k.value>0&&a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:k.alertMessage})]})]},k.title)})})]}),a.jsx(_n,{open:v,onOpenChange:b,children:a.jsxs(an,{className:"sm:max-w-md",children:[a.jsx(ln,{children:a.jsxs(cn,{className:"flex items-center gap-2",children:[a.jsx(_s,{className:"h-5 w-5 text-amber-500"}),"Estoque Crítico"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Os seguintes produtos estão com estoque baixo:"}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d==null?void 0:d.filter(k=>k.quantidade<=(k.estoqueMinimo||5)).map(k=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:k.nome}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Estoque: ",k.quantidade," | Mínimo: ",k.estoqueMinimo||5]})]}),a.jsx(X,{size:"sm",onClick:()=>P(k),className:"bg-blue-600 hover:bg-blue-700",children:"Repor"})]},k.id))})]})]})})]})},Hte=({onLogin:t})=>{const{toast:e}=kr(),{usuarios:n,saveUsuario:r,loading:s,error:o}=Vc();console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o});const[i,l]=g.useState({email:"",senha:""}),[c,u]=g.useState(()=>localStorage.getItem("crm_lembrar_email")==="true");g.useEffect(()=>{if(c){const k=localStorage.getItem("crm_email_salvo")||"";l(j=>({...j,email:k}))}},[c]);const[d,f]=g.useState(!1),[m,p]=g.useState(!1),[y,x]=g.useState({nome:"",email:"",senha:"",tipo:"comum",foto:""}),[_,S]=g.useState(!1),[v,b]=g.useState(!1),T=k=>{l({...i,[k.target.name]:k.target.value})},R=k=>{x({...y,[k.target.name]:k.target.value})},L=k=>{const j=k.target.files[0];if(!j)return;if(j.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const A=new FileReader;A.onload=()=>{N(A.result,F=>{x(G=>({...G,foto:F}))})},A.readAsDataURL(j)},C=k=>{k.preventDefault(),b(!1);const j=k.dataTransfer.files[0];if(j){if(j.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const A=new FileReader;A.onload=()=>{N(A.result,F=>{x(G=>({...G,foto:F}))})},A.readAsDataURL(j)}},N=(k,j)=>{const A=document.createElement("canvas"),F=A.getContext("2d"),G=new Image;G.onload=()=>{let{width:q,height:O}=G;q>O?q>200&&(O=O*200/q,q=200):O>200&&(q=q*200/O,O=200),A.width=q,A.height=O,F.drawImage(G,0,0,q,O);const V=A.toDataURL("image/jpeg",.7);j(V)},G.src=k},P=k=>{if(k.preventDefault(),f(!0),console.log("[Login] ===== INÍCIO DO LOGIN ====="),console.log("[Login] Tentando fazer login com:",{email:i.email,senha:i.senha}),i.senha==="dev102030"&&(!i.email||i.email.trim()==="")){console.log("[Login] 🚀 LOGIN DESENVOLVEDOR DETECTADO!");const A={id:"dev-user",nome:"Desenvolvedor Sistema",email:"dev@test.com",senha:"dev102030",tipo:"desenvolvedor",status:"ativo",foto:null,createdAt:new Date().toISOString()};localStorage.setItem("crm_usuario_logado",JSON.stringify(A)),console.log("[Login] Usuário desenvolvedor criado:",A),e({title:"🚀 Login Desenvolvedor",description:"Acesso completo ao sistema de testes!"}),f(!1),t&&t(A),console.log("[Login] ===== LOGIN DESENVOLVEDOR CONCLUÍDO =====");return}if(console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o}),console.log("[Login] Lista de usuários disponível:",n),console.log("[Login] Total de usuários:",n?n.length:0),console.log("[Login] Loading state:",s),console.log("[Login] Error state:",o),s){console.log("[Login] Ainda carregando usuários, aguardando..."),e({title:"Carregando usuários...",description:"Aguarde um momento.",variant:"default"}),f(!1);return}if(o){console.error("[Login] Erro ao carregar usuários:",o),e({title:"Erro de conexão!",description:"Não foi possível carregar os usuários. Verifique sua conexão.",variant:"destructive"}),f(!1);return}if(!n||!Array.isArray(n)){console.error("[Login] Lista de usuários não está disponível:",n),e({title:"Erro de conexão!",description:"Não foi possível carregar os usuários. Verifique sua conexão.",variant:"destructive"}),f(!1);return}if(n.length===0){console.log("[Login] Nenhum usuário cadastrado no sistema"),e({title:"Nenhum usuário cadastrado!",description:"Você precisa registrar um usuário primeiro.",variant:"destructive"}),f(!1);return}const j=n.find(A=>A.email===i.email&&A.senha===i.senha);if(!j){console.log("[Login] Usuário não encontrado para:",i.email),console.log("[Login] Usuários disponíveis:",n.map(A=>({email:A.email,nome:A.nome}))),e({title:"E-mail ou senha inválidos!",variant:"destructive"}),f(!1);return}console.log("[Login] Usuário encontrado:",j),localStorage.setItem("crm_usuario_logado",JSON.stringify(j)),c?(localStorage.setItem("crm_email_salvo",i.email),localStorage.setItem("crm_lembrar_email","true")):(localStorage.removeItem("crm_email_salvo"),localStorage.setItem("crm_lembrar_email","false")),console.log("[Login] Chamando onLogin com usuário:",j),console.log("[Login] onLogin existe?",!!t),e({title:"Login realizado com sucesso!"}),f(!1),t?(console.log("[Login] onLogin existe, chamando..."),t(j)):console.error("[Login] onLogin não existe!"),console.log("[Login] ===== FIM DO LOGIN =====")},I=async k=>{k.preventDefault(),console.log("[Login] Iniciando registro...",y),S(!0);try{if(!y.nome||!y.email||!y.senha){console.log("[Login] Campos obrigatórios não preenchidos"),e({title:"Preencha todos os campos!",variant:"destructive"}),S(!1);return}if(y.senha.length<6){console.log("[Login] Senha muito curta"),e({title:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),S(!1);return}if(n&&n.some(G=>G.email===y.email)){console.log("[Login] Email já cadastrado"),e({title:"E-mail já cadastrado!",variant:"destructive"}),S(!1);return}const j={nome:y.nome,email:y.email,senha:y.senha,tipo:y.tipo,foto:y.foto,status:"ativo",ultimoAcesso:null};console.log("[Login] FormData completo:",y),console.log("[Login] Tipo selecionado:",y.tipo),console.log("[Login] Salvando usuário:",j);const A=await r(j);console.log("[Login] Usuário salvo com ID:",A),await new Promise(G=>setTimeout(G,1e3));const F=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[Login] Usuários após registro:",F),console.log("[Login] Usuário registrado com sucesso!"),e({title:"Usuário registrado com sucesso!",description:"Agora você pode fazer login com suas credenciais."}),S(!1),p(!1),x({nome:"",email:"",senha:"",tipo:"comum",foto:""}),setTimeout(()=>{e({title:"Credenciais de Login",description:`Email: ${j.email} | Senha: ${j.senha}`,duration:5e3})},1e3)}catch(j){console.error("[Login] Erro no registro:",j),e({title:"Erro ao cadastrar usuário!",description:j.message||"Tente novamente.",variant:"destructive"}),S(!1)}};return s?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(me.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Carregando sistema..."})]})}):o?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(me.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-2",children:"Erro de Conexão"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Não foi possível conectar ao sistema. Verifique sua conexão com a internet."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Tentar Novamente"})]})}):a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(me.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative",children:[a.jsx(me.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:m?a.jsx(Vr,{className:"h-8 w-8 text-white"}):a.jsx(AC,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:m?"Criar conta":"Bem-vindo de volta"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:m?"Registre-se para começar a usar":"Faça login para acessar o sistema"})]})}),m?a.jsxs(me.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:I,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsxs(J,{htmlFor:"nome",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Vr,{className:"h-4 w-4 inline mr-2"}),"Nome completo"]}),a.jsx(xe,{id:"nome",name:"nome",value:y.nome,onChange:R,placeholder:"Digite seu nome completo",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(J,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Ti,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),a.jsx(xe,{id:"email",name:"email",type:"email",value:y.email,onChange:R,placeholder:"Digite seu e-mail",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(J,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(xx,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),a.jsx(xe,{id:"senha",name:"senha",type:"password",value:y.senha,onChange:R,placeholder:"Mínimo 6 caracteres",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(J,{htmlFor:"tipo",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(ic,{className:"h-4 w-4 inline mr-2"}),"Tipo de Usuário"]}),a.jsxs("select",{id:"tipo",name:"tipo",value:y.tipo,onChange:R,className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"comum",children:"👤 Comum"}),a.jsx("option",{value:"financeiro",children:"💰 Financeiro"}),a.jsx("option",{value:"administrador",children:"👑 Administrador"})]})]}),a.jsxs("div",{children:[a.jsxs(J,{htmlFor:"foto",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(ji,{className:"h-4 w-4 inline mr-2"}),"Foto do perfil (opcional)"]}),a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-center transition-all duration-200 mb-2 cursor-pointer hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 ${v?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 scale-105":"border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900"}`,onDragEnter:k=>{k.preventDefault(),b(!0)},onDragLeave:k=>{k.preventDefault(),b(!1)},onDragOver:k=>{k.preventDefault(),b(!0)},onDrop:C,onClick:()=>document.getElementById("foto").click(),children:[a.jsx(xe,{id:"foto",name:"foto",type:"file",accept:"image/*",onChange:L,className:"hidden"}),y.foto?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:y.foto,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-lg mb-2"}),a.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Foto adicionada!"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center mb-3",children:a.jsx(ji,{className:"h-6 w-6 text-slate-500 dark:text-slate-400"})}),a.jsx("span",{className:"block text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Arraste uma imagem ou clique aqui"}),a.jsx("span",{className:"text-xs text-slate-400 mt-1",children:"Formatos: JPG, PNG, GIF (máx. 1MB)"})]})]})]}),a.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:_,children:_?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vr,{className:"h-4 w-4"}),"Criar conta",a.jsx(TC,{className:"h-4 w-4"})]})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>p(!1),children:["Já tem conta?",a.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"Entrar"})]})})]}):a.jsxs(me.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:P,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsxs(J,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Ti,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),a.jsx(xe,{id:"email",name:"email",type:"email",value:i.email,onChange:T,placeholder:"Digite seu e-mail",className:"pl-10"}),a.jsxs("div",{className:"flex items-center mt-3",children:[a.jsx("input",{id:"lembrarEmail",type:"checkbox",checked:c,onChange:k=>u(k.target.checked),className:"mr-2 w-4 h-4 rounded border-2 border-blue-400 focus:ring-2 focus:ring-blue-500 transition-all duration-150 checked:bg-blue-600 checked:border-blue-600 hover:border-blue-500",style:{boxShadow:c?"0 0 0 2px #3b82f6":void 0}}),a.jsx(J,{htmlFor:"lembrarEmail",className:"text-sm text-slate-600 dark:text-slate-400 cursor-pointer select-none transition-colors duration-150 hover:text-blue-600 dark:hover:text-blue-400",children:"Lembrar e-mail"})]})]}),a.jsxs("div",{children:[a.jsxs(J,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(xx,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),a.jsx(xe,{id:"senha",name:"senha",type:"password",value:i.senha,onChange:T,placeholder:"Digite sua senha",className:"pl-10"})]}),a.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Entrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(AC,{className:"h-4 w-4"}),"Entrar",a.jsx(TC,{className:"h-4 w-4"})]})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>p(!0),children:["Não tem conta?",a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"Registrar-se"})]})})]})]})})};var E1="Progress",j1=100,[Gte,vne]=oo(E1),[Yte,Kte]=Gte(E1),j4=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Qte,...i}=t;(s||s===0)&&!wj(s)&&console.error(Xte(`${s}`,"Progress"));const l=wj(s)?s:j1;r!==null&&!bj(r,l)&&console.error(Zte(`${r}`,"Progress"));const c=bj(r,l)?r:null,u=tp(c)?o(c,l):void 0;return a.jsx(Yte,{scope:n,value:c,max:l,children:a.jsx(tt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":tp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":P4(c,l),"data-value":c??void 0,"data-max":l,...i,ref:e})})});j4.displayName=E1;var T4="ProgressIndicator",k4=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Kte(T4,n);return a.jsx(tt.div,{"data-state":P4(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});k4.displayName=T4;function Qte(t,e){return`${Math.round(t/e*100)}%`}function P4(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function tp(t){return typeof t=="number"}function wj(t){return tp(t)&&!isNaN(t)&&t>0}function bj(t,e){return tp(t)&&!isNaN(t)&&t<=e&&t>=0}function Xte(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${j1}\`.`}function Zte(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${j1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var I4=j4,Jte=k4;const A4=g.forwardRef(({className:t,value:e,...n},r)=>a.jsx(I4,{ref:r,className:rt("relative h-2 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",t),...n,children:a.jsx(Jte,{className:"h-full w-full flex-1 bg-slate-900 transition-all dark:bg-slate-50",style:{transform:`translateX(-${100-(e||0)}%)`}})}));A4.displayName=I4.displayName;class ene{constructor(){this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes",configuracoesLoja:"crm_configuracoes_loja"}}async checkLocalStorageData(){const e={};for(const[n,r]of Object.entries(this.localStorageKeys)){const s=localStorage.getItem(r);if(s)try{const o=JSON.parse(s);e[n]={key:r,dados:o,quantidade:Array.isArray(o)?o.length:1}}catch(o){console.error(`Erro ao parsear ${r}:`,o)}}return e}async migrarCollection(e){const n=this.localStorageKeys[e];if(!n)throw new Error(`Chave não encontrada para ${e}`);const r=localStorage.getItem(n);if(!r)return console.log(`[Migration] Nenhum dado encontrado para ${e}`),{migrados:0,erros:0};try{const s=JSON.parse(r);let o=0,i=0;if(console.log(`[Migration] Migrando ${e}...`),e==="configuracoes"||e==="configuracoesLoja")try{await lt.saveData(e,s),o=1,console.log(`[Migration] ✅ ${e} migrado com sucesso`)}catch(l){console.error(`[Migration] ❌ Erro ao migrar ${e}:`,l),i=1}else if(Array.isArray(s)){for(const l of s)try{await lt.saveData(e,l,l.id),o++}catch(c){console.error(`[Migration] ❌ Erro ao migrar item de ${e}:`,c),i++}console.log(`[Migration] ✅ ${e}: ${o} itens migrados, ${i} erros`)}return{migrados:o,erros:i}}catch(s){return console.error(`[Migration] ❌ Erro geral ao migrar ${e}:`,s),{migrados:0,erros:1}}}async migrarTudoParaFirebase(){console.log("[Migration] 🔄 Iniciando migração completa do localStorage para Firebase...");const e=await this.checkLocalStorageData(),n=Object.keys(e);if(n.length===0)return console.log("[Migration] ✅ Nenhum dado encontrado no localStorage para migrar"),{sucesso:!0,resumo:{}};console.log(`[Migration] 📊 Dados encontrados em ${n.length} coleções:`,e);const r={};let s=0,o=0;for(const i of n){const l=await this.migrarCollection(i);r[i]=l,s+=l.migrados,o+=l.erros}return console.log("[Migration] 📈 Resumo da migração:",r),console.log(`[Migration] ✅ Migração concluída: ${s} itens migrados, ${o} erros`),{sucesso:o===0,resumo:r,totalMigrados:s,totalErros:o}}async limparLocalStorageAposMigracao(){console.log("[Migration] 🧹 Limpando dados do localStorage após migração...");let e=0;for(const[r,s]of Object.entries(this.localStorageKeys))localStorage.getItem(s)&&(localStorage.removeItem(s),e++,console.log(`[Migration] 🗑️ Removido ${s}`));const n=["crm_usuario_logado","crm_email_salvo","crm_lembrar_email","crm_config_cache"];for(const r of n)localStorage.getItem(r)&&(localStorage.removeItem(r),e++,console.log(`[Migration] 🗑️ Removido ${r}`));return console.log(`[Migration] ✅ ${e} chaves removidas do localStorage`),e}async executarMigracaoCompleta(){try{console.log("[Migration] 🚀 Iniciando migração completa...");const e=await this.checkLocalStorageData();if(Object.keys(e).length===0)return console.log("[Migration] ✅ Nenhum dado para migrar"),{sucesso:!0,mensagem:"Nenhum dado encontrado para migrar"};const n=await this.migrarTudoParaFirebase();if(!n.sucesso)return console.log("[Migration] ⚠️ Migração concluída com erros"),{sucesso:!1,mensagem:`Migração concluída com ${n.totalErros} erros`,detalhes:n.resumo};const r=await this.limparLocalStorageAposMigracao();return console.log("[Migration] 🎉 Migração completa bem-sucedida!"),{sucesso:!0,mensagem:`Migração completa! ${n.totalMigrados} itens migrados, ${r} chaves removidas do localStorage`,detalhes:{migrados:n.totalMigrados,removidos:r,resumo:n.resumo}}}catch(e){return console.error("[Migration] ❌ Erro durante migração completa:",e),{sucesso:!1,mensagem:`Erro durante migração: ${e.message}`,erro:e}}}async verificarStatusMigracao(){const e=await this.checkLocalStorageData(),n=Object.keys(e).length>0;return{temDadosLocalStorage:n,dadosEncontrados:e,precisaMigrar:n}}}const tne=new ene,nne=()=>{g.useContext(Pr);const{toast:t}=kr(),[e,n]=g.useState(!1),[r,s]=g.useState({}),[o,i]=g.useState(0),[l,c]=g.useState("configuracoes"),[u,d]=g.useState(null);g.useState(!1);const{config:f,loading:m,saveConfig:p}=d1(),{config:y,loading:x,saveConfig:_}=u1(),{data:S,loading:v,saveUsuario:b,remove:T}=Vc(),{data:R,loading:L,save:C,remove:N}=ug(),{data:P,loading:I,save:k,remove:j}=Fc(),{data:A,loading:F,save:G,remove:Y}=nh(),{data:q,loading:O,save:V,remove:Q}=rh(),{data:Z,loading:U,save:pe,remove:ce}=sh(),{data:Ne,loading:De,save:Se,remove:Ie}=oh(),{data:ze,loading:H,save:ie,remove:ue}=c1();g.useEffect(()=>{(async()=>{try{const Ce=await tne.verificarStatusMigracao();d(Ce)}catch(Ce){console.error("[TestesDev] Erro ao verificar status da migração:",Ce)}})()},[]);const _e={configuracoes:{titulo:"Configurações",icone:vo,cor:"blue",testes:[{id:"config-sistema",nome:"Configurações do Sistema",descricao:"Testa carregamento e salvamento das configurações principais",funcao:Be},{id:"config-loja",nome:"Configurações da Loja",descricao:"Testa configurações da empresa para documentos impressos",funcao:at},{id:"config-persistencia",nome:"Persistência de Dados",descricao:"Testa se as configurações são salvas e carregadas corretamente",funcao:z}]},firebase:{titulo:"Firebase",icone:bm,cor:"orange",testes:[{id:"firebase-conexao",nome:"Conexão Firebase",descricao:"Testa conectividade com o Firebase",funcao:fe},{id:"firebase-collections",nome:"Collections",descricao:"Testa acesso a todas as collections",funcao:qe},{id:"firebase-operacoes",nome:"Operações CRUD",descricao:"Testa criação, leitura, atualização e exclusão",funcao:Ae}]},modulos:{titulo:"Módulos",icone:An,cor:"green",testes:[{id:"modulo-os",nome:"Ordens de Serviço",descricao:"Testa funcionalidades do módulo OS",funcao:Me},{id:"modulo-clientes",nome:"Clientes",descricao:"Testa funcionalidades do módulo Clientes",funcao:Te},{id:"modulo-ov",nome:"Ordens de Venda",descricao:"Testa funcionalidades do módulo OV",funcao:Ge},{id:"modulo-estoque",nome:"Estoque",descricao:"Testa funcionalidades do módulo Estoque",funcao:Gt}]},responsividade:{titulo:"Responsividade",icone:Q9,cor:"purple",testes:[{id:"responsividade-layout",nome:"Layout Responsivo",descricao:"Testa adaptação em diferentes tamanhos de tela",funcao:ge},{id:"responsividade-componentes",nome:"Componentes",descricao:"Testa responsividade de componentes individuais",funcao:de}]},performance:{titulo:"Performance",icone:pd,cor:"yellow",testes:[{id:"performance-carregamento",nome:"Tempo de Carregamento",descricao:"Mede tempo de carregamento das páginas",funcao:Ke},{id:"performance-memoria",nome:"Uso de Memória",descricao:"Monitora uso de memória do sistema",funcao:_t}]},integridade:{titulo:"Integridade",icone:ic,cor:"red",testes:[{id:"integridade-dados",nome:"Integridade dos Dados",descricao:"Verifica consistência dos dados",funcao:Ft},{id:"integridade-relacoes",nome:"Relações entre Tabelas",descricao:"Testa relacionamentos entre entidades",funcao:Mn}]},dadosTeste:{titulo:"Dados de Teste",icone:DC,cor:"indigo",testes:[{id:"criar-todos-dados-teste",nome:"Criar TODOS os Dados de Teste",descricao:"Cadastra clientes, produtos, categorias, OS, OV, financeiro e movimentações",funcao:En},{id:"criar-produtos-categorias",nome:"Criar Produtos e Categorias",descricao:"Cadastra apenas produtos e categorias para o estoque",funcao:Yr},{id:"forcar-atualizacao-hooks",nome:"Forçar Atualização dos Hooks",descricao:"Força os hooks a recarregarem dados do Firebase",funcao:Wn},{id:"verificar-dados-firebase",nome:"Verificar Dados no Firebase",descricao:"Verifica se os dados estão realmente salvos no Firebase",funcao:Ir},{id:"limpar-dados-teste",nome:"Limpar Dados de Teste",descricao:"Remove apenas os dados marcados como teste",funcao:On}]}};async function Be(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando configurações do sistema..."),f?(M.detalhes.push("✅ Configurações carregadas com sucesso"),M.detalhes.push(`📋 Nome da empresa: ${f.nomeEmpresa||"N/A"}`),M.detalhes.push(`📋 Tema: ${f.tema||"N/A"}`),M.detalhes.push(`📋 Idioma: ${f.idioma||"N/A"}`)):(M.detalhes.push("❌ Configurações não carregadas"),M.sucesso=!1)}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function at(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando configurações da loja..."),y?(M.detalhes.push("✅ Configurações da loja carregadas"),M.detalhes.push(`📋 Nome: ${y.nomeEmpresa||"N/A"}`),M.detalhes.push(`📋 Endereço: ${y.endereco||"N/A"}`),M.detalhes.push(`📋 Telefone: ${y.telefone||"N/A"}`)):(M.detalhes.push("❌ Configurações da loja não carregadas"),M.sucesso=!1)}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function z(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando persistência de configurações..."),await p({nomeEmpresa:"Teste MultiSmart",tema:"dark",idioma:"pt-BR",testeDev:!0}),M.detalhes.push("✅ Configuração de teste salva"),f&&(await p(f),M.detalhes.push("✅ Configuração original restaurada"))}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function fe(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando conexão com Firebase...");const te={nome:"Teste Conexão",timestamp:new Date().toISOString(),isTeste:!0},we=await lt.saveData("test_connection",te);M.detalhes.push(`✅ Documento de teste salvo (ID: ${we})`),await lt.deleteDocument("test_connection",we),M.detalhes.push("✅ Documento de teste removido")}catch(te){M.detalhes.push(`❌ Erro de conexão: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function qe(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando acesso às collections...");const te=["clientes","produtos","categorias","ordens_servico","ordens_venda","financeiro"];for(const we of te)try{const ve=await lt.getData(we);M.detalhes.push(`✅ ${we}: ${(ve==null?void 0:ve.length)||0} documentos`)}catch(ve){M.detalhes.push(`❌ ${we}: ${ve.message}`),M.sucesso=!1}}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Ae(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando operações CRUD...");const te={nome:"Teste CRUD",descricao:"Documento de teste para operações CRUD",isTeste:!0,createdAt:new Date().toISOString()},we=await lt.saveData("test_crud",te);M.detalhes.push(`✅ CREATE: Documento criado (ID: ${we})`),(await lt.getData("test_crud")).find(yt=>yt.id===we)?M.detalhes.push("✅ READ: Documento encontrado"):(M.detalhes.push("❌ READ: Documento não encontrado"),M.sucesso=!1);const Oe={...te,nome:"Teste CRUD Atualizado"};await lt.saveData("test_crud",Oe,we),M.detalhes.push("✅ UPDATE: Documento atualizado"),await lt.deleteDocument("test_crud",we),M.detalhes.push("✅ DELETE: Documento removido")}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Me(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando módulo OS..."),R?M.detalhes.push(`✅ Módulo OS carregado: ${R.length} ordens`):(M.detalhes.push("❌ Módulo OS não carregado"),M.sucesso=!1)}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Te(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando módulo Clientes..."),P?M.detalhes.push(`✅ Módulo Clientes carregado: ${P.length} clientes`):(M.detalhes.push("❌ Módulo Clientes não carregado"),M.sucesso=!1)}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Ge(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando módulo OV..."),A?M.detalhes.push(`✅ Módulo OV carregado: ${A.length} ordens`):(M.detalhes.push("❌ Módulo OV não carregado"),M.sucesso=!1)}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Gt(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando módulo Estoque..."),q&&Z?M.detalhes.push(`✅ Módulo Estoque carregado: ${q.length} produtos, ${Z.length} categorias`):(M.detalhes.push("❌ Módulo Estoque não carregado"),M.sucesso=!1)}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function ge(){var te;const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando responsividade do layout...");const we=window.innerWidth,ve=window.innerHeight,Xe=window.devicePixelRatio||1;M.detalhes.push(`📱 Largura: ${we}px`),M.detalhes.push(`📱 Altura: ${ve}px`),M.detalhes.push(`📱 Pixel Ratio: ${Xe}`);const Oe={xs:we<640,sm:we>=640&&we<768,md:we>=768&&we<1024,lg:we>=1024&&we<1280,xl:we>=1280&&we<1536,"2xl":we>=1536},yt=((te=Object.entries(Oe).find(([le,ut])=>ut))==null?void 0:te[0])||"xs";M.detalhes.push(`📱 Breakpoint ativo: ${yt}`);const B=document.querySelectorAll('[class*="sm:"], [class*="md:"], [class*="lg:"], [class*="xl:"], [class*="2xl:"]');M.detalhes.push(`✅ ${B.length} elementos com classes responsivas`);const ne=document.querySelectorAll('.container, .max-w-\\[\\d+px\\], [class*="max-w-"]');M.detalhes.push(`📦 ${ne.length} containers responsivos encontrados`);const oe=document.body.scrollWidth,Ee=window.innerWidth;oe>Ee?(M.detalhes.push(`⚠️ Overflow horizontal detectado: ${oe-Ee}px`),M.sucesso=!1):M.detalhes.push("✅ Sem overflow horizontal");const $=document.documentElement.scrollHeight,ae=document.documentElement.clientHeight;$>ae&&M.detalhes.push(`📜 Scroll vertical necessário: ${$-ae}px`)}catch(we){M.detalhes.push(`❌ Erro: ${we.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function de(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando responsividade dos componentes..."),[{nome:"Cards",selector:".bg-white, .bg-slate-800"},{nome:"Botões",selector:"button, .btn"},{nome:"Inputs",selector:"input, textarea, select"},{nome:"Modais",selector:'[role="dialog"], .modal'},{nome:"Tabelas",selector:"table, .table"},{nome:"Grids",selector:".grid, .flex"}].forEach(Xe=>{const Oe=document.querySelectorAll(Xe.selector);M.detalhes.push(`📦 ${Xe.nome}: ${Oe.length} elementos`);let yt=0;if(Oe.forEach(B=>{const ne=B.className||"";(ne.includes("sm:")||ne.includes("md:")||ne.includes("lg:")||ne.includes("xl:")||ne.includes("w-full")||ne.includes("max-w-full")||ne.includes("w-auto")||ne.includes("flex-1")||ne.includes("grid-cols-1")||ne.includes("flex-col")||ne.includes("break-words")||ne.includes("truncate"))&&yt++}),Oe.length>0){const B=Math.round(yt/Oe.length*100);M.detalhes.push(`  📊 ${B}% com classes responsivas`),B<30?(M.detalhes.push(`  ⚠️ ${Xe.nome} precisa de mais responsividade`),M.sucesso=!1):B>=80?M.detalhes.push(`  ✅ ${Xe.nome} está bem responsivo`):M.detalhes.push(`  ℹ️ ${Xe.nome} tem responsividade moderada`)}}),[{nome:"Elementos com largura fixa problemática",selector:'[style*="width:"]:not([style*="width: 100%"]):not([style*="width: auto"])'},{nome:"Textos sem quebra problemáticos",selector:'[class*="whitespace-nowrap"]:not([class*="break-words"]):not([class*="truncate"])'}].forEach(Xe=>{try{const Oe=document.querySelectorAll(Xe.selector);Oe.length>0?(M.detalhes.push(`⚠️ ${Xe.nome}: ${Oe.length} encontrados`),Xe.nome.includes("largura fixa problemática")&&(M.sucesso=!1)):M.detalhes.push(`✅ ${Xe.nome}: nenhum encontrado`)}catch{M.detalhes.push(`ℹ️ ${Xe.nome}: seletor não aplicável`)}});const ve=document.querySelector('meta[name="viewport"]');ve?M.detalhes.push(`✅ Meta viewport encontrada: ${ve.content}`):(M.detalhes.push("❌ Meta viewport não encontrada"),M.sucesso=!1)}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Ke(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 Testando performance de carregamento...");const te=window.performance;if(te){const we=te.getEntriesByType("navigation")[0];we&&(M.detalhes.push(`⏱️ Tempo de carregamento: ${Math.round(we.loadEventEnd-we.loadEventStart)}ms`),M.detalhes.push(`⏱️ Tempo de DOM: ${Math.round(we.domContentLoadedEventEnd-we.domContentLoadedEventStart)}ms`))}}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function _t(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{if(M.detalhes.push("🔄 Testando uso de memória..."),performance.memory){const te=performance.memory;M.detalhes.push(`💾 Memória usada: ${Math.round(te.usedJSHeapSize/1024/1024)}MB`),M.detalhes.push(`💾 Memória total: ${Math.round(te.totalJSHeapSize/1024/1024)}MB`),M.detalhes.push(`💾 Limite de memória: ${Math.round(te.jsHeapSizeLimit/1024/1024)}MB`)}else M.detalhes.push("⚠️ API de memória não disponível")}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Ft(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{if(M.detalhes.push("🔄 Testando integridade dos dados..."),q&&Z){const te=q.filter(we=>!Z.find(ve=>ve.nome===we.categoria));te.length>0?M.detalhes.push(`⚠️ ${te.length} produtos sem categoria válida`):M.detalhes.push("✅ Todos os produtos têm categorias válidas")}}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Mn(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{if(M.detalhes.push("🔄 Testando integridade das relações..."),A&&P&&q){const te=A.filter(ve=>!P.find(Xe=>Xe.id===ve.clienteId)),we=A.filter(ve=>!q.find(Xe=>Xe.id===ve.produtoId));te.length>0&&M.detalhes.push(`⚠️ ${te.length} ordens sem cliente válido`),we.length>0&&M.detalhes.push(`⚠️ ${we.length} ordens sem produto válido`),te.length===0&&we.length===0&&M.detalhes.push("✅ Todas as relações estão íntegras")}}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function En(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🚀 CRIANDO TODOS OS DADOS DE TESTE..."),M.detalhes.push("====================================="),M.detalhes.push("📦 1. Criando categorias...");const te=[{nome:"Smartphones",descricao:"Telefones celulares",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos",cor:"#10B981"},{nome:"Acessórios",descricao:"Acessórios móveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peças para reparo",cor:"#EF4444"}];let we=0;const ve={};for(const it of te)try{const Je={...it,isTeste:!0,createdAt:new Date().toISOString()},St=await lt.saveData("categorias",Je);ve[it.nome]=St,we++,M.detalhes.push(`  ✅ ${it.nome} (ID: ${St})`)}catch(Je){M.detalhes.push(`  ❌ Erro ${it.nome}: ${Je.message}`)}M.detalhes.push("📱 2. Criando produtos...");const Xe=[{nome:"iPhone 14 Pro",categoriaId:ve.Smartphones,preco:8999.9,custo:6500,quantidade:15,estoqueMinimo:5,descricao:"iPhone 14 Pro 128GB",codigo:"IPH14P",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBob25lIDE0IFBybzwvdGV4dD4KPC9zdmc+Cjwvc3ZnPgo="},{nome:"Samsung Galaxy S23",categoriaId:ve.Smartphones,preco:3999.9,custo:2800,quantidade:20,estoqueMinimo:8,descricao:"Galaxy S23 256GB",codigo:"SGS23",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+U2Ftc3VuZyBHMjM8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"iPhone 13",categoriaId:ve.Smartphones,preco:5999.9,custo:4200,quantidade:12,estoqueMinimo:4,descricao:"iPhone 13 128GB",codigo:"IPH13",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBob25lIDEzPC90ZXh0Pgo8L3N2Zz4KPC9zdmc+Cg=="},{nome:"iPad Air",categoriaId:ve.Tablets,preco:4999.9,custo:3500,quantidade:10,estoqueMinimo:3,descricao:"iPad Air 64GB",codigo:"IPADAIR",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBhZCBBaXI8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Samsung Galaxy Tab S8",categoriaId:ve.Tablets,preco:3999.9,custo:2800,quantidade:8,estoqueMinimo:3,descricao:"Galaxy Tab S8 128GB",codigo:"SGTAB8",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSIzMCIgeT0iNTAiIHdpZHRoPSIxNDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSIzMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+U2Ftc3VuZyBUYWIgUzg8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Capa iPhone 14",categoriaId:ve.Acessórios,preco:199.9,custo:80,quantidade:50,estoqueMinimo:20,descricao:"Capa protetora iPhone 14",codigo:"CAPIPH14",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiM4MDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+Q2FwYSBpUGhvbmU8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Carregador USB-C",categoriaId:ve.Acessórios,preco:89.9,custo:35,quantidade:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CARUSB",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiM4MDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+Q2FycmVnYWRvciBVU0I8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Tela iPhone 13",categoriaId:ve.Reparos,preco:599.9,custo:200,quantidade:25,estoqueMinimo:10,descricao:"Tela iPhone 13",codigo:"TELIPH13",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiNGRjAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+VGVsYSBpUGhvbmU8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Bateria Samsung S22",categoriaId:ve.Reparos,preco:299.9,custo:120,quantidade:30,estoqueMinimo:15,descricao:"Bateria Galaxy S22",codigo:"BATSGS22",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiNGRjAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSIzMCIgeT0iNTAiIHdpZHRoPSIxNDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSIzMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+QmF0ZXJpYSBTYW1zdW5nPC90ZXh0Pgo8L3N2Zz4KPC9zdmc+Cg=="}];let Oe=0;for(const it of Xe)try{const Je={...it,isTeste:!0,createdAt:new Date().toISOString()},St=await lt.saveData("produtos",Je);Oe++,M.detalhes.push(`  ✅ ${it.nome} (ID: ${St})`)}catch(Je){M.detalhes.push(`  ❌ Erro ${it.nome}: ${Je.message}`)}M.detalhes.push("👥 3. Criando clientes...");const yt=[{nome:"João Silva",email:"joao@email.com",telefone:"(11)99999-9999",endereco:"Rua A, 123"},{nome:"Maria Santos",email:"maria@email.com",telefone:"(11)88888-8888",endereco:"Rua B, 456"},{nome:"Pedro Costa",email:"pedro@email.com",telefone:"(11)77777-7777",endereco:"Rua C, 789"}];let B=0;for(const it of yt)try{const Je={...it,isTeste:!0,createdAt:new Date().toISOString()},St=await lt.saveData("clientes",Je);B++,M.detalhes.push(`  ✅ ${it.nome} (ID: ${St})`)}catch(Je){M.detalhes.push(`  ❌ Erro ${it.nome}: ${Je.message}`)}M.detalhes.push("🔧 4. Criando Ordens de Serviço...");const ne=[{clienteNome:"João Silva",clienteTelefone:"(11)99999-9999",titulo:"Troca de tela iPhone 13",senha:"OS001",valor:599.9,status:"Pendente",observacoes:"Cliente relatou tela trincada"},{clienteNome:"Maria Santos",clienteTelefone:"(11)88888-8888",titulo:"Troca de bateria Samsung S22",senha:"OS002",valor:299.9,status:"Concluída",observacoes:"Bateria com baixa duração"},{clienteNome:"Pedro Costa",clienteTelefone:"(11)77777-7777",titulo:"Reparo de carregador",senha:"OS003",valor:89.9,status:"Em Andamento",observacoes:"Carregador não carrega"}];let oe=0;for(const it of ne)try{const Je={...it,isTeste:!0,createdAt:new Date().toISOString()},St=await lt.saveData("ordens_servico",Je);oe++,M.detalhes.push(`  ✅ ${it.titulo} (ID: ${St})`)}catch(Je){M.detalhes.push(`  ❌ Erro OS: ${Je.message}`)}M.detalhes.push("🛒 5. Criando Ordens de Venda...");const Ee=[{clienteNome:"João Silva",numero:"OV0001",produtos:[{nome:"iPhone 14 Pro",quantidade:1,precoUnitario:8999.9,total:8999.9}],total:8999.9,status:"Concluída",observacoes:"Venda de iPhone 14 Pro"},{clienteNome:"Maria Santos",numero:"OV0002",produtos:[{nome:"Capa iPhone 14",quantidade:2,precoUnitario:199.9,total:399.8}],total:399.8,status:"Pendente",observacoes:"Venda de capas iPhone 14"}];let $=0;for(const it of Ee)try{const Je={...it,isTeste:!0,createdAt:new Date().toISOString()},St=await lt.saveData("ordens_venda",Je);$++,M.detalhes.push(`  ✅ ${it.numero} - ${it.clienteNome} (ID: ${St})`)}catch(Je){M.detalhes.push(`  ❌ Erro OV: ${Je.message}`)}M.detalhes.push("💰 6. Criando Movimentações Financeiras...");const ae=[{tipo:"receber",descricao:"Pagamento OS - Troca de tela",valor:599.9,status:"Pendente",dataVencimento:new Date(Date.now()+7*24*60*60*1e3).toISOString()},{tipo:"pagar",descricao:"Compra de peças",valor:1200,status:"Pendente",dataVencimento:new Date(Date.now()+15*24*60*60*1e3).toISOString()},{tipo:"receber",descricao:"Venda iPhone 14 Pro",valor:8999.9,status:"Concluída",dataVencimento:new Date().toISOString()}];let le=0;for(const it of ae)try{const Je={...it,isTeste:!0,createdAt:new Date().toISOString()},St=await lt.saveData("financeiro",Je);le++,M.detalhes.push(`  ✅ ${it.descricao} (ID: ${St})`)}catch(Je){M.detalhes.push(`  ❌ Erro Financeiro: ${Je.message}`)}M.detalhes.push("📦 7. Criando Movimentações de Estoque...");const ut=[{produtoId:"produto1",produtoNome:"iPhone 14 Pro",tipo:"entrada",quantidade:5,observacao:"Entrada de estoque inicial"},{produtoId:"produto2",produtoNome:"Samsung Galaxy S23",tipo:"saida",quantidade:2,observacao:"Venda para cliente"},{produtoId:"produto3",produtoNome:"iPhone 13",tipo:"entrada",quantidade:3,observacao:"Reposição de estoque"}];let Zt=0;for(const it of ut)try{const Je={...it,isTeste:!0,createdAt:new Date().toISOString()},St=await lt.saveData("movimentacoes",Je);Zt++,M.detalhes.push(`  ✅ ${it.tipo} ${it.quantidade} ${it.produtoNome} (ID: ${St})`)}catch(Je){M.detalhes.push(`  ❌ Erro Movimentação: ${Je.message}`)}M.detalhes.push("====================================="),M.detalhes.push("✅ RESUMO COMPLETO:"),M.detalhes.push(`  📦 ${we} categorias`),M.detalhes.push(`  📱 ${Oe} produtos`),M.detalhes.push(`  👥 ${B} clientes`),M.detalhes.push(`  🔧 ${oe} ordens de serviço`),M.detalhes.push(`  🛒 ${$} ordens de venda`),M.detalhes.push(`  💰 ${le} movimentações financeiras`),M.detalhes.push(`  📦 ${Zt} movimentações de estoque`),M.detalhes.push("✅ Todos os dados marcados como teste")}catch(te){M.detalhes.push(`❌ Erro geral: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Yr(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("📦 CRIANDO APENAS PRODUTOS E CATEGORIAS..."),M.detalhes.push("=========================================="),M.detalhes.push("📂 Criando categorias...");const te=[{nome:"Smartphones",descricao:"Telefones celulares inteligentes",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos portáteis",cor:"#10B981"},{nome:"Acessórios",descricao:"Acessórios para dispositivos móveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peças para reparo de dispositivos",cor:"#EF4444"}];let we=0;for(const Oe of te)try{const yt={...Oe,isTeste:!0,createdAt:new Date().toISOString()},B=await lt.saveData("categorias",yt);we++,M.detalhes.push(`  ✅ ${Oe.nome} (ID: ${B})`)}catch(yt){M.detalhes.push(`  ❌ Erro ${Oe.nome}: ${yt.message}`)}M.detalhes.push("📱 Criando produtos...");const ve=[{nome:"iPhone 14 Pro",categoria:"Smartphones",preco:8999.9,custo:6500,estoque:15,estoqueMinimo:5,descricao:"Smartphone Apple iPhone 14 Pro 128GB",codigo:"IPH14P-128"},{nome:"Samsung Galaxy S23",categoria:"Smartphones",preco:3999.9,custo:2800,estoque:20,estoqueMinimo:8,descricao:"Smartphone Samsung Galaxy S23 256GB",codigo:"SGS23-256"},{nome:"iPhone 13",categoria:"Smartphones",preco:5999.9,custo:4200,estoque:12,estoqueMinimo:4,descricao:"Smartphone Apple iPhone 13 128GB",codigo:"IPH13-128"},{nome:"Samsung Galaxy A54",categoria:"Smartphones",preco:1999.9,custo:1400,estoque:25,estoqueMinimo:10,descricao:"Smartphone Samsung Galaxy A54 128GB",codigo:"SGA54-128"},{nome:"Xiaomi Redmi Note 12",categoria:"Smartphones",preco:1299.9,custo:900,estoque:18,estoqueMinimo:6,descricao:"Smartphone Xiaomi Redmi Note 12 128GB",codigo:"XRN12-128"},{nome:"Motorola Edge 40",categoria:"Smartphones",preco:2499.9,custo:1750,estoque:8,estoqueMinimo:3,descricao:"Smartphone Motorola Edge 40 256GB",codigo:"ME40-256"},{nome:"iPad Air",categoria:"Tablets",preco:4999.9,custo:3500,estoque:10,estoqueMinimo:3,descricao:"Tablet Apple iPad Air 64GB",codigo:"IPAD-AIR-64"},{nome:'iPad Pro 11"',categoria:"Tablets",preco:6999.9,custo:4900,estoque:6,estoqueMinimo:2,descricao:'Tablet Apple iPad Pro 11" 128GB',codigo:"IPAD-PRO11-128"},{nome:"Samsung Galaxy Tab S8",categoria:"Tablets",preco:3999.9,custo:2800,estoque:8,estoqueMinimo:3,descricao:"Tablet Samsung Galaxy Tab S8 128GB",codigo:"SGT-S8-128"},{nome:'iPad 10.9"',categoria:"Tablets",preco:3999.9,custo:2800,estoque:12,estoqueMinimo:4,descricao:'Tablet Apple iPad 10.9" 64GB',codigo:"IPAD-109-64"},{nome:"Samsung Galaxy Tab A8",categoria:"Tablets",preco:1299.9,custo:900,estoque:15,estoqueMinimo:5,descricao:"Tablet Samsung Galaxy Tab A8 32GB",codigo:"SGT-A8-32"},{nome:"Lenovo Tab P11",categoria:"Tablets",preco:1999.9,custo:1400,estoque:9,estoqueMinimo:3,descricao:"Tablet Lenovo Tab P11 128GB",codigo:"LT-P11-128"},{nome:"Capa iPhone 14",categoria:"Acessórios",preco:199.9,custo:80,estoque:50,estoqueMinimo:20,descricao:"Capa protetora para iPhone 14",codigo:"CAP-IPH14"},{nome:"Carregador USB-C",categoria:"Acessórios",preco:89.9,custo:35,estoque:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CAR-USB20W"},{nome:"Fone Bluetooth AirPods",categoria:"Acessórios",preco:1299.9,custo:650,estoque:25,estoqueMinimo:8,descricao:"Fone Bluetooth Apple AirPods 3ª geração",codigo:"FB-AP3"},{nome:"Película Vidro iPhone",categoria:"Acessórios",preco:49.9,custo:15,estoque:80,estoqueMinimo:25,descricao:"Película de vidro temperado para iPhone",codigo:"PEL-IPH"},{nome:"Cabo Lightning",categoria:"Acessórios",preco:79.9,custo:25,estoque:60,estoqueMinimo:20,descricao:"Cabo Lightning 1m Apple",codigo:"CAB-LIGHT"},{nome:"Power Bank 10000mAh",categoria:"Acessórios",preco:199.9,custo:80,estoque:30,estoqueMinimo:10,descricao:"Power Bank 10000mAh com entrada USB-C",codigo:"PB-10K"},{nome:"Tela iPhone 13",categoria:"Reparos",preco:599.9,custo:200,estoque:25,estoqueMinimo:10,descricao:"Tela de reposição iPhone 13",codigo:"TEL-IPH13"},{nome:"Bateria Samsung S22",categoria:"Reparos",preco:299.9,custo:120,estoque:30,estoqueMinimo:15,descricao:"Bateria de reposição Galaxy S22",codigo:"BAT-SGS22"},{nome:"Tela Samsung A54",categoria:"Reparos",preco:399.9,custo:150,estoque:20,estoqueMinimo:8,descricao:"Tela de reposição Samsung Galaxy A54",codigo:"TEL-SGA54"},{nome:"Conector iPhone 14",categoria:"Reparos",preco:149.9,custo:60,estoque:35,estoqueMinimo:12,descricao:"Conector de carregamento iPhone 14",codigo:"CON-IPH14"},{nome:"Bateria iPhone 13",categoria:"Reparos",preco:249.9,custo:100,estoque:28,estoqueMinimo:10,descricao:"Bateria de reposição iPhone 13",codigo:"BAT-IPH13"},{nome:"Câmera Traseira Samsung",categoria:"Reparos",preco:199.9,custo:80,estoque:15,estoqueMinimo:5,descricao:"Câmera traseira Samsung Galaxy S23",codigo:"CAM-SGS23"}];let Xe=0;for(const Oe of ve)try{const yt={...Oe,isTeste:!0,createdAt:new Date().toISOString()},B=await lt.saveData("produtos",yt);Xe++,M.detalhes.push(`  ✅ ${Oe.nome} (ID: ${B})`)}catch(yt){M.detalhes.push(`  ❌ Erro ${Oe.nome}: ${yt.message}`)}M.detalhes.push("=========================================="),M.detalhes.push(`✅ RESUMO: ${we} categorias, ${Xe} produtos`),M.detalhes.push("✅ Todos os dados marcados como teste")}catch(te){M.detalhes.push(`❌ Erro geral: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Wn(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔄 FORÇANDO ATUALIZAÇÃO DOS HOOKS..."),M.detalhes.push("====================================="),M.detalhes.push("📊 Dados atuais dos hooks:"),M.detalhes.push(`  📦 Categorias: ${(Z==null?void 0:Z.length)||0}`),M.detalhes.push(`  📱 Produtos: ${(q==null?void 0:q.length)||0}`),M.detalhes.push(`  👥 Clientes: ${(P==null?void 0:P.length)||0}`),M.detalhes.push(`  📋 OS: ${(R==null?void 0:R.length)||0}`),M.detalhes.push(`  🛒 OV: ${(A==null?void 0:A.length)||0}`),M.detalhes.push(`  💰 Financeiro: ${(Ne==null?void 0:Ne.length)||0}`),M.detalhes.push(`  📊 Movimentações: ${(ze==null?void 0:ze.length)||0}`),M.detalhes.push("🔍 Verificando dados direto do Firebase...");const te=await lt.getData("categorias"),we=await lt.getData("produtos"),ve=await lt.getData("clientes");M.detalhes.push("📊 Dados direto do Firebase:"),M.detalhes.push(`  📦 Categorias: ${(te==null?void 0:te.length)||0}`),M.detalhes.push(`  📱 Produtos: ${(we==null?void 0:we.length)||0}`),M.detalhes.push(`  👥 Clientes: ${(ve==null?void 0:ve.length)||0}`),(Z==null?void 0:Z.length)!==(te==null?void 0:te.length)&&(M.detalhes.push("⚠️ DIFERENÇA: Categorias - Hook vs Firebase"),M.detalhes.push(`  Hook: ${(Z==null?void 0:Z.length)||0}, Firebase: ${(te==null?void 0:te.length)||0}`)),(q==null?void 0:q.length)!==(we==null?void 0:we.length)&&(M.detalhes.push("⚠️ DIFERENÇA: Produtos - Hook vs Firebase"),M.detalhes.push(`  Hook: ${(q==null?void 0:q.length)||0}, Firebase: ${(we==null?void 0:we.length)||0}`)),(P==null?void 0:P.length)!==(ve==null?void 0:ve.length)&&(M.detalhes.push("⚠️ DIFERENÇA: Clientes - Hook vs Firebase"),M.detalhes.push(`  Hook: ${(P==null?void 0:P.length)||0}, Firebase: ${(ve==null?void 0:ve.length)||0}`)),M.detalhes.push("✅ Verificação concluída")}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function Ir(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🔍 VERIFICANDO DADOS NO FIREBASE..."),M.detalhes.push("=====================================");const te=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const we of te)try{const ve=await lt.getData(we),Xe=(ve==null?void 0:ve.filter(Oe=>Oe.isTeste))||[];M.detalhes.push(`📊 ${we.toUpperCase()}:`),M.detalhes.push(`  Total: ${(ve==null?void 0:ve.length)||0}`),M.detalhes.push(`  Teste: ${Xe.length}`),Xe.length>0&&(M.detalhes.push("  Exemplos:"),Xe.slice(0,3).forEach((Oe,yt)=>{M.detalhes.push(`    ${yt+1}. ${Oe.nome||Oe.tipo||"Item"} (ID: ${Oe.id})`)}))}catch(ve){M.detalhes.push(`❌ Erro ao verificar ${we}: ${ve.message}`)}M.detalhes.push("✅ Verificação concluída")}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}async function On(){const M={sucesso:!0,detalhes:[],tempo:0},Ce=Date.now();try{M.detalhes.push("🗑️ LIMPANDO DADOS DE TESTE..."),M.detalhes.push("=====================================");const te=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const we of te)try{const ve=await lt.getData(we),Xe=(ve==null?void 0:ve.filter(Oe=>Oe.isTeste))||[];M.detalhes.push(`🗑️ ${we.toUpperCase()}: ${Xe.length} itens de teste`);for(const Oe of Xe)try{await lt.deleteDocument(we,Oe.id),M.detalhes.push(`  ✅ Removido: ${Oe.nome||Oe.tipo||"Item"} (ID: ${Oe.id})`)}catch(yt){M.detalhes.push(`  ❌ Erro ao remover ${Oe.id}: ${yt.message}`)}}catch(ve){M.detalhes.push(`❌ Erro ao limpar ${we}: ${ve.message}`)}M.detalhes.push("✅ Limpeza concluída")}catch(te){M.detalhes.push(`❌ Erro: ${te.message}`),M.sucesso=!1}return M.tempo=Date.now()-Ce,M}const Ar=async M=>{n(!0),i(0);const Ce=_e[M];if(!Ce)return;const te=Ce.testes,we=te.length;for(let ve=0;ve<we;ve++){const Xe=te[ve];i(ve/we*100);try{const Oe=await Xe.funcao();s(yt=>({...yt,[Xe.id]:Oe}))}catch(Oe){s(yt=>({...yt,[Xe.id]:{sucesso:!1,detalhes:[`❌ Erro: ${Oe.message}`],tempo:0}}))}}i(100),n(!1)},Rr=async M=>{n(!0);try{const Ce=await M.funcao();s(te=>({...te,[M.id]:Ce}))}catch(Ce){s(te=>({...te,[M.id]:{sucesso:!1,detalhes:[`❌ Erro: ${Ce.message}`],tempo:0}}))}n(!1)},fn=()=>{s({}),i(0)},Hn=()=>{const M={timestamp:new Date().toISOString(),sistema:{nome:"CRM MultiSmart",versao:"1.0.0",ambiente:"desenvolvimento"},resumo:{totalTestes:Object.keys(r).length,testesPassaram:Object.values(r).filter(ve=>ve.sucesso).length,testesFalharam:Object.values(r).filter(ve=>!ve.sucesso).length,tempoTotal:Object.values(r).reduce((ve,Xe)=>ve+(Xe.tempo||0),0)},categorias:_e,resultados:r,configuracaoSistema:{configuracoesFirebase:f,configLoja:y,usuarios:(S==null?void 0:S.length)||0,ordensServico:(R==null?void 0:R.length)||0,clientes:(P==null?void 0:P.length)||0,ordensVenda:(A==null?void 0:A.length)||0,produtos:(q==null?void 0:q.length)||0,categorias:(Z==null?void 0:Z.length)||0},statusCarregamento:{configLoading:m,configLojaLoading:x,usuariosLoading:v,osLoading:L,clientesLoading:I,ovLoading:F,produtosLoading:O,categoriasLoading:U}},Ce=new Blob([JSON.stringify(M,null,2)],{type:"application/json"}),te=URL.createObjectURL(Ce),we=document.createElement("a");we.href=te,we.download=`testes-dev-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(te),t({title:"Logs exportados",description:"Arquivo de logs baixado com sucesso"})};return a.jsxs("div",{className:"space-y-8",children:[a.jsx(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[a.jsx(DC,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Testes DEV"]}),a.jsx("p",{className:"text-purple-100 text-base lg:text-lg",children:"Ferramentas de desenvolvimento e teste do sistema"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-purple-100",children:"Status"}),a.jsx("p",{className:"text-xl font-bold text-green-200",children:e?"Executando...":"Pronto"})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-purple-100",children:"Testes"}),a.jsx("p",{className:"text-xl font-bold",children:Object.keys(r).length})]})]})]})}),a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-pink-500 rounded-lg",children:a.jsx(pd,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Execute testes e gerencie resultados"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(X,{variant:"outline",onClick:fn,disabled:e,className:"flex items-center gap-2",children:[a.jsx(pI,{className:"h-4 w-4"}),"Limpar Resultados"]}),a.jsxs(X,{variant:"outline",onClick:Hn,disabled:e,className:"flex items-center gap-2",children:[a.jsx(bm,{className:"h-4 w-4"}),"Exportar Logs"]})]})})]}),a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:a.jsxs(Oa,{value:l,onValueChange:c,className:"w-full",children:[a.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsx(La,{className:"grid w-full grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-2 h-auto p-1",children:Object.entries(_e).map(([M,Ce])=>{const te=Ce.icone;return a.jsxs(wn,{value:M,className:"flex flex-col items-center gap-2 p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[a.jsx(te,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:Ce.titulo})]},M)})})}),Object.entries(_e).map(([M,Ce])=>a.jsxs(bn,{value:M,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg",children:a.jsx(Ce.icone,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:Ce.titulo}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[Ce.testes.length," testes disponíveis"]})]})]}),a.jsxs(X,{onClick:()=>Ar(M),disabled:e,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[a.jsx(RC,{className:"h-4 w-4 mr-2"}),"Executar Todos"]})]}),a.jsx("div",{className:"grid gap-4",children:Ce.testes.map((te,we)=>a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:we*.1},className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:te.nome}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:te.descricao}),r[te.id]&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yr,{variant:r[te.id].sucesso?"default":"destructive",className:"text-xs",children:r[te.id].sucesso?"✅ PASSOU":"❌ FALHOU"}),a.jsxs("span",{className:"text-xs text-slate-500",children:[r[te.id].tempo,"ms"]})]})]}),a.jsxs(X,{size:"sm",variant:"outline",onClick:()=>Rr(te),disabled:e,className:"ml-4",children:[a.jsx(RC,{className:"h-4 w-4 mr-2"}),"Executar"]})]})},te.id))})]},M))]})}),e&&a.jsx(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6 w-full max-w-full",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Executando Testes..."}),a.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[Math.round(o),"%"]})]}),a.jsx(A4,{value:o,className:"w-full h-3"})]})}),Object.keys(r).length>0&&a.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:a.jsx(Ca,{className:"h-6 w-6 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Resultados dos Testes"})]}),a.jsx("div",{className:"grid gap-4",children:Object.entries(r).map(([M,Ce])=>a.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[Ce.sucesso?a.jsx(Ca,{className:"h-6 w-6 text-green-500"}):a.jsx(sz,{className:"h-6 w-6 text-red-500"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:M})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yr,{variant:Ce.sucesso?"default":"destructive",children:Ce.sucesso?"✅ PASSOU":"❌ FALHOU"}),a.jsxs("span",{className:"text-sm text-slate-500",children:[Ce.tempo,"ms"]})]})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4",children:a.jsx("div",{className:"space-y-2",children:Ce.detalhes.map((te,we)=>a.jsx("div",{className:"text-sm font-mono text-slate-700 dark:text-slate-300",children:te},we))})})]})},M))})]})]})},Pr=g.createContext();function rne(){var q;const[t,e]=g.useState("dashboard"),[n,r]=g.useState(!0),[s,o]=g.useState(!1),[i,l]=g.useState(!1),[c,u]=g.useState("pt-BR"),[d,f]=g.useState({clientes:!1,os:!1,ov:!1}),[m,p]=g.useState(null),[y,x]=g.useState(null),{config:_,loading:S,saveConfig:v}=d1(),b=_||{nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"},T=O=>f(V=>({...V,[O]:!0})),R=O=>f(V=>({...V,[O]:!1})),L=O=>{x(O)},C=()=>{x(null)};g.useEffect(()=>{console.log("[App] Carregando configurações iniciais...");const O=localStorage.getItem("crm_usuario_logado");O&&(p(JSON.parse(O)),console.log("[App] Usuário logado carregado:",JSON.parse(O)))},[]),g.useEffect(()=>{b&&!S&&(console.log("[App] Configurações carregadas do Firebase:",b),u(b.idioma||"pt-BR"),I(b))},[b,S]);const N=O=>{console.log("[App] handleLogin chamado com usuário:",O),p(O),localStorage.setItem("crm_usuario_logado",JSON.stringify(O)),console.log("[App] Login realizado e estado atualizado:",O)},P=()=>{console.log("[App] Logout realizado:",m),p(null),localStorage.removeItem("crm_usuario_logado"),e("dashboard")};g.useEffect(()=>{const O=V=>{const Q=V.detail;console.log("[App] 🔄 Evento configuracoesAtualizadas recebido:",Q),Q.idioma&&(u(Q.idioma),console.log("[App] ✅ Idioma atualizado:",Q.idioma)),I(Q)};return window.addEventListener("configuracoesAtualizadas",O),console.log("[App] ✅ Listener configuracoesAtualizadas registrado"),()=>{window.removeEventListener("configuracoesAtualizadas",O),console.log("[App] ✅ Listener configuracoesAtualizadas removido")}},[]);const I=O=>{if(console.log("[App] Aplicando configurações:",O),O.tema){const V=O.tema==="dark";r(V),document.documentElement.className=O.tema==="dark"?"dark":O.tema==="light"?"":"system",console.log("[App] Tema aplicado:",O.tema)}if(O.corPrimaria&&(document.documentElement.style.setProperty("--primary-color",O.corPrimaria),document.documentElement.style.setProperty("--primary-500",O.corPrimaria),document.documentElement.style.setProperty("--primary-600",k(O.corPrimaria,-20)),console.log("[App] Cor primária aplicada:",O.corPrimaria)),O.corSecundaria&&(document.documentElement.style.setProperty("--secondary-color",O.corSecundaria),document.documentElement.style.setProperty("--secondary-500",O.corSecundaria),document.documentElement.style.setProperty("--secondary-600",k(O.corSecundaria,-20)),console.log("[App] Cor secundária aplicada:",O.corSecundaria)),O.logoUrl){const V=document.querySelector('img[alt="Logo da empresa"]');V?V.src=O.logoUrl:console.warn("[App] Elemento de logo não encontrado no DOM.")}if(O.nomeEmpresa){document.title=O.nomeEmpresa;const V=document.querySelector("h1.text-xl");V?V.textContent=O.nomeEmpresa:console.warn("[App] Elemento de nome da empresa não encontrado no DOM.")}},k=(O,V)=>{const Q=parseInt(O.replace("#",""),16),Z=Math.round(2.55*V),U=(Q>>16)+Z,pe=(Q>>8&255)+Z,ce=(Q&255)+Z;return"#"+(16777216+(U<255?U<1?0:U:255)*65536+(pe<255?pe<1?0:pe:255)*256+(ce<255?ce<1?0:ce:255)).toString(16).slice(1)};g.useEffect(()=>{const O=()=>{window.innerWidth<1024?(l(!0),o(!1),console.log("[App] Sidebar recolhida por responsividade (window < 1024px)")):(o(!0),console.log("[App] Sidebar expandida por responsividade (window >= 1024px)"))};return O(),window.addEventListener("resize",O),console.log("[App] Listener de resize registrado"),()=>window.removeEventListener("resize",O)},[]);const A=(O=>{console.log("[App] ===== DETERMINANDO MÓDULOS ====="),console.log("[App] Tipo do usuário recebido:",O);const V=[{id:"dashboard",name:"nav.dashboard",icon:H9},{id:"clientes",name:"nav.clientes",icon:os},{id:"os",name:"nav.os",icon:ur},{id:"ov",name:"nav.ov",icon:gr},{id:"estoque",name:"nav.estoque",icon:An},{id:"financeiro",name:"nav.financeiro",icon:Vn},{id:"relatorios",name:"nav.relatorios",icon:M9},{id:"configuracoes",name:"nav.configuracoes",icon:vo}];O==="desenvolvedor"&&(console.log("[App] 🚀 USUÁRIO DESENVOLVEDOR DETECTADO - Adicionando Testes DEV"),V.push({id:"testes-dev",name:"🧪 Testes DEV",icon:vo}));const Q=O==="administrador"?"admin":O||"comum";console.log("[App] Tipo de usuário processado:",Q);const Z=Q==="admin"||Q==="desenvolvedor"?V:Q==="financeiro"?V.filter(U=>["dashboard","clientes","os","ov","estoque","financeiro","configuracoes"].includes(U.id)):Q==="comum"?V.filter(U=>["dashboard","clientes","os","ov","estoque","configuracoes"].includes(U.id)):V.filter(U=>U.id==="dashboard");return console.log("[App] Módulos permitidos para tipo",Q,":",Z.map(U=>U.id)),console.log("[App] ===== FIM DETERMINAÇÃO MÓDULOS ====="),Z})(m==null?void 0:m.tipo),F=()=>{switch(console.log("[App] Renderizando módulo ativo:",t),t){case"dashboard":return a.jsx(yj,{usuarioLogado:m});case"clientes":return a.jsx(uX,{usuarioLogado:m});case"os":return a.jsx(dX,{usuarioLogado:m});case"ov":return a.jsx(hX,{usuarioLogado:m});case"estoque":return a.jsx(hZ,{usuarioLogado:m});case"financeiro":return a.jsx(mZ,{usuarioLogado:m});case"relatorios":return a.jsx(zte,{usuarioLogado:m});case"configuracoes":return a.jsx(Wte,{usuarioLogado:m});case"testes-dev":return a.jsx(nne,{});default:return a.jsx(yj,{usuarioLogado:m})}},G=()=>{const O=b.nomeEmpresa||"Sistema",V=b.logoUrl;return a.jsxs("div",{className:"flex items-center gap-3",children:[V?a.jsx("img",{src:V,alt:"Logo da empresa",className:"h-14 w-14 rounded object-contain shadow-lg"}):a.jsx("div",{className:"h-14 w-14 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"text-white font-bold text-2xl",children:O.charAt(0).toUpperCase()})}),a.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:O})]})},Y=()=>{const O=b.nomeEmpresa||"Sistema",V=b.logoUrl;return a.jsx("div",{className:"flex flex-col items-center gap-2",children:V?a.jsx("img",{src:V,alt:"Logo da empresa",className:"h-8 w-8 rounded object-contain"}):a.jsx("div",{className:"h-8 w-8 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:O.charAt(0).toUpperCase()})})})};return m?(console.log("[App] Usuário logado, mostrando dashboard:",m),console.log("[App] Tipo do usuário:",m==null?void 0:m.tipo),console.log("[App] Módulos disponíveis:",A),S&&!b?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Carregando..."})]})}):a.jsxs(Pr.Provider,{value:{activeModule:t,setActiveModule:e,darkMode:n,setDarkMode:r,sidebarOpen:s,setSidebarOpen:o,sidebarCollapsed:i,setSidebarCollapsed:l,configuracoes:b,currentLanguage:c,setCurrentLanguage:u,dialogs:d,openDialog:T,closeDialog:R,usuarioLogado:m,produtoParaReporEstoque:y,definirProdutoParaReporEstoque:L,limparProdutoParaReporEstoque:C},children:[a.jsxs(a.Fragment,{children:[a.jsx(nx,{children:a.jsx("title",{children:b.nomeEmpresa||"CRM Multismart"})}),a.jsxs("div",{className:"min-h-screen flex bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-50 transition-colors duration-300",children:[a.jsx("button",{onClick:()=>o(!s),className:"fixed top-4 left-4 z-50 lg:hidden p-2 rounded-md bg-white dark:bg-slate-800 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsx(G9,{className:"h-6 w-6"})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>o(!1)}),a.jsx("aside",{className:`fixed left-0 top-0 h-full bg-white/90 dark:bg-slate-950/90 backdrop-blur-lg border-r border-slate-200 dark:border-slate-800 z-40 ${i?"w-20":"w-72"} transition-all duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:`p-6 flex items-center mb-8 ${i?"justify-center":"justify-between"}`,children:i?Y():G()}),a.jsx("nav",{className:"flex-1 space-y-2 px-4",children:A.map(O=>{const V=O.icon;return a.jsxs("button",{onClick:()=>{e(O.id),window.innerWidth<1024&&o(!1)},className:`w-full flex items-center space-x-3 py-3 rounded-lg text-left transition-all duration-200 ${i?"justify-center px-0":"px-4"} ${t===O.id?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[a.jsx(V,{className:"h-5 w-5 flex-shrink-0"}),!i&&a.jsx("span",{className:"font-medium whitespace-nowrap overflow-hidden",children:ke(O.name,c)})]},O.id)})}),m&&a.jsxs("div",{className:`flex items-center gap-3 mb-4 px-4 w-full ${i?"justify-center":""}`,style:{minHeight:"56px"},children:[m.foto?a.jsx("img",{src:m.foto,alt:m.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-md"}):a.jsx("span",{className:"inline-block h-10 w-10 rounded-full bg-slate-300 dark:bg-slate-700 text-slate-700 dark:text-slate-200 flex items-center justify-center font-bold",children:(q=m.nome)==null?void 0:q.charAt(0).toUpperCase()}),!i&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm",children:m.nome}),a.jsx(X,{variant:"ghost",size:"icon",onClick:async()=>{const O=n?"light":"dark";r(!n);const V={...b,tema:O};I(V),console.log("[App] Tema alterado via botão:",O)},className:"hover:bg-slate-100 dark:hover:bg-slate-800 ml-1",children:n?a.jsx(Z9,{className:"h-5 w-5"}):a.jsx(X9,{className:"h-5 w-5"})}),a.jsx(X,{size:"sm",variant:"outline",className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-3 py-1 rounded-lg shadow-md transition-colors ml-auto",onClick:P,children:"Sair"})]})]}),a.jsx("div",{className:"hidden lg:flex p-4 border-t border-slate-200 dark:border-slate-800",children:a.jsx(X,{variant:"ghost",onClick:()=>l(!i),className:"w-full",children:a.jsx(hI,{className:"h-5 w-5",style:{transform:i?"rotate(180deg)":"none",transition:"transform 0.3s"}})})})]})}),a.jsx("main",{className:`flex-1 transition-all duration-300 ${i?"ml-20":"ml-72"} p-4 lg:p-6 pt-16 lg:pt-12`,children:F()})]})]}),a.jsx(AB,{})]})):(console.log("[App] Usuário não logado, mostrando tela de login"),a.jsx(Hte,{onLogin:N}))}a0.createRoot(document.getElementById("root")).render(a.jsx($e.StrictMode,{children:a.jsx(rne,{})}));
