function QM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Qa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var bN={exports:{}},nm={},_N={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd=Symbol.for("react.element"),JM=Symbol.for("react.portal"),ZM=Symbol.for("react.fragment"),e4=Symbol.for("react.strict_mode"),t4=Symbol.for("react.profiler"),n4=Symbol.for("react.provider"),r4=Symbol.for("react.context"),s4=Symbol.for("react.forward_ref"),o4=Symbol.for("react.suspense"),i4=Symbol.for("react.memo"),a4=Symbol.for("react.lazy"),i_=Symbol.iterator;function l4(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var SN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EN=Object.assign,CN={};function wc(t,e,n){this.props=t,this.context=e,this.refs=CN,this.updater=n||SN}wc.prototype.isReactComponent={};wc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TN(){}TN.prototype=wc.prototype;function mx(t,e,n){this.props=t,this.context=e,this.refs=CN,this.updater=n||SN}var gx=mx.prototype=new TN;gx.constructor=mx;EN(gx,wc.prototype);gx.isPureReactComponent=!0;var a_=Array.isArray,NN=Object.prototype.hasOwnProperty,vx={current:null},kN={key:!0,ref:!0,__self:!0,__source:!0};function jN(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)NN.call(e,r)&&!kN.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Pd,type:t,key:o,ref:i,props:s,_owner:vx.current}}function c4(t,e){return{$$typeof:Pd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pd}function u4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var l_=/\/+/g;function jg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?u4(""+t.key):e.toString(36)}function lf(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Pd:case JM:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+jg(i,0):r,a_(s)?(n="",t!=null&&(n=t.replace(l_,"$&/")+"/"),lf(s,e,n,"",function(u){return u})):s!=null&&(yx(s)&&(s=c4(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(l_,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",a_(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+jg(o,l);i+=lf(o,e,n,c,s)}else if(c=l4(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+jg(o,l++),i+=lf(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function vh(t,e,n){if(t==null)return t;var r=[],s=0;return lf(t,r,"","",function(o){return e.call(n,o,s++)}),r}function d4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ir={current:null},cf={transition:null},h4={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:cf,ReactCurrentOwner:vx};function PN(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:vh,forEach:function(t,e,n){vh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vh(t,function(){e++}),e},toArray:function(t){return vh(t,function(e){return e})||[]},only:function(t){if(!yx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xe.Component=wc;Xe.Fragment=ZM;Xe.Profiler=t4;Xe.PureComponent=mx;Xe.StrictMode=e4;Xe.Suspense=o4;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h4;Xe.act=PN;Xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=EN({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=vx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)NN.call(e,c)&&!kN.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Pd,type:t.type,key:s,ref:o,props:r,_owner:i}};Xe.createContext=function(t){return t={$$typeof:r4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:n4,_context:t},t.Consumer=t};Xe.createElement=jN;Xe.createFactory=function(t){var e=jN.bind(null,t);return e.type=t,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(t){return{$$typeof:s4,render:t}};Xe.isValidElement=yx;Xe.lazy=function(t){return{$$typeof:a4,_payload:{_status:-1,_result:t},_init:d4}};Xe.memo=function(t,e){return{$$typeof:i4,type:t,compare:e===void 0?null:e}};Xe.startTransition=function(t){var e=cf.transition;cf.transition={};try{t()}finally{cf.transition=e}};Xe.unstable_act=PN;Xe.useCallback=function(t,e){return ir.current.useCallback(t,e)};Xe.useContext=function(t){return ir.current.useContext(t)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(t){return ir.current.useDeferredValue(t)};Xe.useEffect=function(t,e){return ir.current.useEffect(t,e)};Xe.useId=function(){return ir.current.useId()};Xe.useImperativeHandle=function(t,e,n){return ir.current.useImperativeHandle(t,e,n)};Xe.useInsertionEffect=function(t,e){return ir.current.useInsertionEffect(t,e)};Xe.useLayoutEffect=function(t,e){return ir.current.useLayoutEffect(t,e)};Xe.useMemo=function(t,e){return ir.current.useMemo(t,e)};Xe.useReducer=function(t,e,n){return ir.current.useReducer(t,e,n)};Xe.useRef=function(t){return ir.current.useRef(t)};Xe.useState=function(t){return ir.current.useState(t)};Xe.useSyncExternalStore=function(t,e,n){return ir.current.useSyncExternalStore(t,e,n)};Xe.useTransition=function(){return ir.current.useTransition()};Xe.version="18.3.1";_N.exports=Xe;var g=_N.exports;const Pe=Qa(g),AN=QM({__proto__:null,default:Pe},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f4=g,p4=Symbol.for("react.element"),m4=Symbol.for("react.fragment"),g4=Object.prototype.hasOwnProperty,v4=f4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y4={key:!0,ref:!0,__self:!0,__source:!0};function IN(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)g4.call(e,r)&&!y4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:p4,type:t,key:o,ref:i,props:s,_owner:v4.current}}nm.Fragment=m4;nm.jsx=IN;nm.jsxs=IN;bN.exports=nm;var a=bN.exports,o0={},RN={exports:{}},Ur={},DN={exports:{}},ON={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var G=M.length;M.push(V);e:for(;0<G;){var K=G-1>>>1,ie=M[K];if(0<s(ie,V))M[K]=V,M[G]=ie,G=K;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var V=M[0],G=M.pop();if(G!==V){M[0]=G;e:for(var K=0,ie=M.length,ae=ie>>>1;K<ae;){var me=2*(K+1)-1,Ue=M[me],Ae=me+1,le=M[Ae];if(0>s(Ue,G))Ae<ie&&0>s(le,Ue)?(M[K]=le,M[Ae]=G,K=Ae):(M[K]=Ue,M[me]=G,K=me);else if(Ae<ie&&0>s(le,G))M[K]=le,M[Ae]=G,K=Ae;else break e}}return V}function s(M,V){var G=M.sortIndex-V.sortIndex;return G!==0?G:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,m=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=M)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function j(M){if(x=!1,b(M),!y)if(n(c)!==null)y=!0,B(R);else{var V=n(u);V!==null&&$(j,V.startTime-M)}}function R(M,V){y=!1,x&&(x=!1,_(T),T=-1),m=!0;var G=p;try{for(b(V),f=n(c);f!==null&&(!(f.expirationTime>V)||M&&!k());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var ie=K(f.expirationTime<=V);V=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(c)&&r(c),b(V)}else r(c);f=n(c)}if(f!==null)var ae=!0;else{var me=n(u);me!==null&&$(j,me.startTime-V),ae=!1}return ae}finally{f=null,p=G,m=!1}}var F=!1,E=null,T=-1,A=5,I=-1;function k(){return!(t.unstable_now()-I<A)}function N(){if(E!==null){var M=t.unstable_now();I=M;var V=!0;try{V=E(!0,M)}finally{V?P():(F=!1,E=null)}}else F=!1}var P;if(typeof v=="function")P=function(){v(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,L=D.port2;D.port1.onmessage=N,P=function(){L.postMessage(null)}}else P=function(){S(N,0)};function B(M){E=M,F||(F=!0,P())}function $(M,V){T=S(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,B(R))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return M()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=p;p=M;try{return V()}finally{p=G}},t.unstable_scheduleCallback=function(M,V,G){var K=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,M){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=G+ie,M={id:d++,callback:V,priorityLevel:M,startTime:G,expirationTime:ie,sortIndex:-1},G>K?(M.sortIndex=G,e(u,M),n(c)===null&&M===n(u)&&(x?(_(T),T=-1):x=!0,$(j,G-K))):(M.sortIndex=ie,e(c,M),y||m||(y=!0,B(R))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var V=p;return function(){var G=p;p=V;try{return M.apply(this,arguments)}finally{p=G}}}})(ON);DN.exports=ON;var x4=DN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4=g,Vr=x4;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MN=new Set,Hu={};function Xa(t,e){Xl(t,e),Xl(t+"Capture",e)}function Xl(t,e){for(Hu[t]=e,t=0;t<e.length;t++)MN.add(e[t])}var Co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i0=Object.prototype.hasOwnProperty,b4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c_={},u_={};function _4(t){return i0.call(u_,t)?!0:i0.call(c_,t)?!1:b4.test(t)?u_[t]=!0:(c_[t]=!0,!1)}function S4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E4(t,e,n,r){if(e===null||typeof e>"u"||S4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var xx=/[\-:]([a-z])/g;function wx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xx,wx);Pn[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xx,wx);Pn[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xx,wx);Pn[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function bx(t,e,n,r){var s=Pn.hasOwnProperty(e)?Pn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(E4(e,n,s,r)&&(n=null),r||s===null?_4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lo=w4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),xl=Symbol.for("react.portal"),wl=Symbol.for("react.fragment"),_x=Symbol.for("react.strict_mode"),a0=Symbol.for("react.profiler"),LN=Symbol.for("react.provider"),FN=Symbol.for("react.context"),Sx=Symbol.for("react.forward_ref"),l0=Symbol.for("react.suspense"),c0=Symbol.for("react.suspense_list"),Ex=Symbol.for("react.memo"),Zo=Symbol.for("react.lazy"),VN=Symbol.for("react.offscreen"),d_=Symbol.iterator;function Qc(t){return t===null||typeof t!="object"?null:(t=d_&&t[d_]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Object.assign,Pg;function fu(t){if(Pg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pg=e&&e[1]||""}return`
`+Pg+t}var Ag=!1;function Ig(t,e){if(!t||Ag)return"";Ag=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ag=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fu(t):""}function C4(t){switch(t.tag){case 5:return fu(t.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return t=Ig(t.type,!1),t;case 11:return t=Ig(t.type.render,!1),t;case 1:return t=Ig(t.type,!0),t;default:return""}}function u0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wl:return"Fragment";case xl:return"Portal";case a0:return"Profiler";case _x:return"StrictMode";case l0:return"Suspense";case c0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FN:return(t.displayName||"Context")+".Consumer";case LN:return(t._context.displayName||"Context")+".Provider";case Sx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ex:return e=t.displayName||null,e!==null?e:u0(t.type)||"Memo";case Zo:e=t._payload,t=t._init;try{return u0(t(e))}catch{}}return null}function T4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u0(e);case 8:return e===_x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N4(t){var e=zN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xh(t){t._valueTracker||(t._valueTracker=N4(t))}function UN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function d0(t,e){var n=e.checked;return zt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function h_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BN(t,e){e=e.checked,e!=null&&bx(t,"checked",e,!1)}function h0(t,e){BN(t,e);var n=Ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?f0(t,e.type,n):e.hasOwnProperty("defaultValue")&&f0(t,e.type,Ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function f0(t,e,n){(e!=="number"||zf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pu=Array.isArray;function Ll(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function p0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return zt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function p_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(pu(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ni(n)}}function $N(t,e){var n=Ni(e.value),r=Ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,WN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k4=["Webkit","ms","Moz","O"];Object.keys(Cu).forEach(function(t){k4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cu[e]=Cu[t]})});function HN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cu.hasOwnProperty(t)&&Cu[t]?(""+e).trim():e+"px"}function GN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=HN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var j4=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g0(t,e){if(e){if(j4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function v0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y0=null;function Cx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var x0=null,Fl=null,Vl=null;function g_(t){if(t=Rd(t)){if(typeof x0!="function")throw Error(se(280));var e=t.stateNode;e&&(e=am(e),x0(t.stateNode,t.type,e))}}function KN(t){Fl?Vl?Vl.push(t):Vl=[t]:Fl=t}function YN(){if(Fl){var t=Fl,e=Vl;if(Vl=Fl=null,g_(t),e)for(t=0;t<e.length;t++)g_(e[t])}}function QN(t,e){return t(e)}function XN(){}var Rg=!1;function JN(t,e,n){if(Rg)return t(e,n);Rg=!0;try{return QN(t,e,n)}finally{Rg=!1,(Fl!==null||Vl!==null)&&(XN(),YN())}}function Ku(t,e){var n=t.stateNode;if(n===null)return null;var r=am(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var w0=!1;if(Co)try{var Xc={};Object.defineProperty(Xc,"passive",{get:function(){w0=!0}}),window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{w0=!1}function P4(t,e,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Tu=!1,Uf=null,Bf=!1,b0=null,A4={onError:function(t){Tu=!0,Uf=t}};function I4(t,e,n,r,s,o,i,l,c){Tu=!1,Uf=null,P4.apply(A4,arguments)}function R4(t,e,n,r,s,o,i,l,c){if(I4.apply(this,arguments),Tu){if(Tu){var u=Uf;Tu=!1,Uf=null}else throw Error(se(198));Bf||(Bf=!0,b0=u)}}function Ja(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v_(t){if(Ja(t)!==t)throw Error(se(188))}function D4(t){var e=t.alternate;if(!e){if(e=Ja(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return v_(s),t;if(o===r)return v_(s),e;o=o.sibling}throw Error(se(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function ek(t){return t=D4(t),t!==null?tk(t):null}function tk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tk(t);if(e!==null)return e;t=t.sibling}return null}var nk=Vr.unstable_scheduleCallback,y_=Vr.unstable_cancelCallback,O4=Vr.unstable_shouldYield,M4=Vr.unstable_requestPaint,Xt=Vr.unstable_now,L4=Vr.unstable_getCurrentPriorityLevel,Tx=Vr.unstable_ImmediatePriority,rk=Vr.unstable_UserBlockingPriority,$f=Vr.unstable_NormalPriority,F4=Vr.unstable_LowPriority,sk=Vr.unstable_IdlePriority,rm=null,zs=null;function V4(t){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(rm,t,void 0,(t.current.flags&128)===128)}catch{}}var gs=Math.clz32?Math.clz32:B4,z4=Math.log,U4=Math.LN2;function B4(t){return t>>>=0,t===0?32:31-(z4(t)/U4|0)|0}var bh=64,_h=4194304;function mu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=mu(l):(o&=i,o!==0&&(r=mu(o)))}else i=n&~s,i!==0?r=mu(i):o!==0&&(r=mu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gs(e),s=1<<n,r|=t[n],e&=~s;return r}function $4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-gs(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=$4(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function _0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ok(){var t=bh;return bh<<=1,!(bh&4194240)&&(bh=64),t}function Dg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ad(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gs(e),t[e]=n}function W4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-gs(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Nx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var mt=0;function ik(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ak,kx,lk,ck,uk,S0=!1,Sh=[],hi=null,fi=null,pi=null,Yu=new Map,Qu=new Map,ri=[],H4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x_(t,e){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Yu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(e.pointerId)}}function Jc(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Rd(e),e!==null&&kx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function G4(t,e,n,r,s){switch(e){case"focusin":return hi=Jc(hi,t,e,n,r,s),!0;case"dragenter":return fi=Jc(fi,t,e,n,r,s),!0;case"mouseover":return pi=Jc(pi,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Yu.set(o,Jc(Yu.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Qu.set(o,Jc(Qu.get(o)||null,t,e,n,r,s)),!0}return!1}function dk(t){var e=ma(t.target);if(e!==null){var n=Ja(e);if(n!==null){if(e=n.tag,e===13){if(e=ZN(n),e!==null){t.blockedOn=e,uk(t.priority,function(){lk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=E0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);y0=r,n.target.dispatchEvent(r),y0=null}else return e=Rd(n),e!==null&&kx(e),t.blockedOn=n,!1;e.shift()}return!0}function w_(t,e,n){uf(t)&&n.delete(e)}function K4(){S0=!1,hi!==null&&uf(hi)&&(hi=null),fi!==null&&uf(fi)&&(fi=null),pi!==null&&uf(pi)&&(pi=null),Yu.forEach(w_),Qu.forEach(w_)}function Zc(t,e){t.blockedOn===e&&(t.blockedOn=null,S0||(S0=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,K4)))}function Xu(t){function e(s){return Zc(s,t)}if(0<Sh.length){Zc(Sh[0],t);for(var n=1;n<Sh.length;n++){var r=Sh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hi!==null&&Zc(hi,t),fi!==null&&Zc(fi,t),pi!==null&&Zc(pi,t),Yu.forEach(e),Qu.forEach(e),n=0;n<ri.length;n++)r=ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)dk(n),n.blockedOn===null&&ri.shift()}var zl=Lo.ReactCurrentBatchConfig,Wf=!0;function Y4(t,e,n,r){var s=mt,o=zl.transition;zl.transition=null;try{mt=1,jx(t,e,n,r)}finally{mt=s,zl.transition=o}}function Q4(t,e,n,r){var s=mt,o=zl.transition;zl.transition=null;try{mt=4,jx(t,e,n,r)}finally{mt=s,zl.transition=o}}function jx(t,e,n,r){if(Wf){var s=E0(t,e,n,r);if(s===null)qg(t,e,r,Hf,n),x_(t,r);else if(G4(s,t,e,n,r))r.stopPropagation();else if(x_(t,r),e&4&&-1<H4.indexOf(t)){for(;s!==null;){var o=Rd(s);if(o!==null&&ak(o),o=E0(t,e,n,r),o===null&&qg(t,e,r,Hf,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else qg(t,e,r,null,n)}}var Hf=null;function E0(t,e,n,r){if(Hf=null,t=Cx(r),t=ma(t),t!==null)if(e=Ja(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hf=t,null}function hk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L4()){case Tx:return 1;case rk:return 4;case $f:case F4:return 16;case sk:return 536870912;default:return 16}default:return 16}}var ci=null,Px=null,df=null;function fk(){if(df)return df;var t,e=Px,n=e.length,r,s="value"in ci?ci.value:ci.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return df=s.slice(t,1<r?1-r:void 0)}function hf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eh(){return!0}function b_(){return!1}function Br(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Eh:b_,this.isPropagationStopped=b_,this}return zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),e}var bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ax=Br(bc),Id=zt({},bc,{view:0,detail:0}),X4=Br(Id),Og,Mg,eu,sm=zt({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ix,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eu&&(eu&&t.type==="mousemove"?(Og=t.screenX-eu.screenX,Mg=t.screenY-eu.screenY):Mg=Og=0,eu=t),Og)},movementY:function(t){return"movementY"in t?t.movementY:Mg}}),__=Br(sm),J4=zt({},sm,{dataTransfer:0}),Z4=Br(J4),eL=zt({},Id,{relatedTarget:0}),Lg=Br(eL),tL=zt({},bc,{animationName:0,elapsedTime:0,pseudoElement:0}),nL=Br(tL),rL=zt({},bc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sL=Br(rL),oL=zt({},bc,{data:0}),S_=Br(oL),iL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lL[t])?!!e[t]:!1}function Ix(){return cL}var uL=zt({},Id,{key:function(t){if(t.key){var e=iL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ix,charCode:function(t){return t.type==="keypress"?hf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dL=Br(uL),hL=zt({},sm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E_=Br(hL),fL=zt({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ix}),pL=Br(fL),mL=zt({},bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),gL=Br(mL),vL=zt({},sm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yL=Br(vL),xL=[9,13,27,32],Rx=Co&&"CompositionEvent"in window,Nu=null;Co&&"documentMode"in document&&(Nu=document.documentMode);var wL=Co&&"TextEvent"in window&&!Nu,pk=Co&&(!Rx||Nu&&8<Nu&&11>=Nu),C_=String.fromCharCode(32),T_=!1;function mk(t,e){switch(t){case"keyup":return xL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bl=!1;function bL(t,e){switch(t){case"compositionend":return gk(e);case"keypress":return e.which!==32?null:(T_=!0,C_);case"textInput":return t=e.data,t===C_&&T_?null:t;default:return null}}function _L(t,e){if(bl)return t==="compositionend"||!Rx&&mk(t,e)?(t=fk(),df=Px=ci=null,bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pk&&e.locale!=="ko"?null:e.data;default:return null}}var SL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SL[t.type]:e==="textarea"}function vk(t,e,n,r){KN(r),e=Gf(e,"onChange"),0<e.length&&(n=new Ax("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ku=null,Ju=null;function EL(t){kk(t,0)}function om(t){var e=El(t);if(UN(e))return t}function CL(t,e){if(t==="change")return e}var yk=!1;if(Co){var Fg;if(Co){var Vg="oninput"in document;if(!Vg){var k_=document.createElement("div");k_.setAttribute("oninput","return;"),Vg=typeof k_.oninput=="function"}Fg=Vg}else Fg=!1;yk=Fg&&(!document.documentMode||9<document.documentMode)}function j_(){ku&&(ku.detachEvent("onpropertychange",xk),Ju=ku=null)}function xk(t){if(t.propertyName==="value"&&om(Ju)){var e=[];vk(e,Ju,t,Cx(t)),JN(EL,e)}}function TL(t,e,n){t==="focusin"?(j_(),ku=e,Ju=n,ku.attachEvent("onpropertychange",xk)):t==="focusout"&&j_()}function NL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return om(Ju)}function kL(t,e){if(t==="click")return om(e)}function jL(t,e){if(t==="input"||t==="change")return om(e)}function PL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bs=typeof Object.is=="function"?Object.is:PL;function Zu(t,e){if(bs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!i0.call(e,s)||!bs(t[s],e[s]))return!1}return!0}function P_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A_(t,e){var n=P_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P_(n)}}function wk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bk(){for(var t=window,e=zf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zf(t.document)}return e}function Dx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AL(t){var e=bk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wk(n.ownerDocument.documentElement,n)){if(r!==null&&Dx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=A_(n,o);var i=A_(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IL=Co&&"documentMode"in document&&11>=document.documentMode,_l=null,C0=null,ju=null,T0=!1;function I_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T0||_l==null||_l!==zf(r)||(r=_l,"selectionStart"in r&&Dx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ju&&Zu(ju,r)||(ju=r,r=Gf(C0,"onSelect"),0<r.length&&(e=new Ax("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_l)))}function Ch(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sl={animationend:Ch("Animation","AnimationEnd"),animationiteration:Ch("Animation","AnimationIteration"),animationstart:Ch("Animation","AnimationStart"),transitionend:Ch("Transition","TransitionEnd")},zg={},_k={};Co&&(_k=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function im(t){if(zg[t])return zg[t];if(!Sl[t])return t;var e=Sl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _k)return zg[t]=e[n];return t}var Sk=im("animationend"),Ek=im("animationiteration"),Ck=im("animationstart"),Tk=im("transitionend"),Nk=new Map,R_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(t,e){Nk.set(t,e),Xa(e,[t])}for(var Ug=0;Ug<R_.length;Ug++){var Bg=R_[Ug],RL=Bg.toLowerCase(),DL=Bg[0].toUpperCase()+Bg.slice(1);Bi(RL,"on"+DL)}Bi(Sk,"onAnimationEnd");Bi(Ek,"onAnimationIteration");Bi(Ck,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(Tk,"onTransitionEnd");Xl("onMouseEnter",["mouseout","mouseover"]);Xl("onMouseLeave",["mouseout","mouseover"]);Xl("onPointerEnter",["pointerout","pointerover"]);Xl("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OL=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function D_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,R4(r,e,void 0,t),t.currentTarget=null}function kk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;D_(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;D_(s,l,u),o=c}}}if(Bf)throw t=b0,Bf=!1,b0=null,t}function jt(t,e){var n=e[A0];n===void 0&&(n=e[A0]=new Set);var r=t+"__bubble";n.has(r)||(jk(e,t,2,!1),n.add(r))}function $g(t,e,n){var r=0;e&&(r|=4),jk(n,t,r,e)}var Th="_reactListening"+Math.random().toString(36).slice(2);function ed(t){if(!t[Th]){t[Th]=!0,MN.forEach(function(n){n!=="selectionchange"&&(OL.has(n)||$g(n,!1,t),$g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Th]||(e[Th]=!0,$g("selectionchange",!1,e))}}function jk(t,e,n,r){switch(hk(e)){case 1:var s=Y4;break;case 4:s=Q4;break;default:s=jx}n=s.bind(null,e,n,t),s=void 0,!w0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qg(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ma(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}JN(function(){var u=o,d=Cx(n),f=[];e:{var p=Nk.get(t);if(p!==void 0){var m=Ax,y=t;switch(t){case"keypress":if(hf(n)===0)break e;case"keydown":case"keyup":m=dL;break;case"focusin":y="focus",m=Lg;break;case"focusout":y="blur",m=Lg;break;case"beforeblur":case"afterblur":m=Lg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=__;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Z4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pL;break;case Sk:case Ek:case Ck:m=nL;break;case Tk:m=gL;break;case"scroll":m=X4;break;case"wheel":m=yL;break;case"copy":case"cut":case"paste":m=sL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=E_}var x=(e&4)!==0,S=!x&&t==="scroll",_=x?p!==null?p+"Capture":null:p;x=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,_!==null&&(j=Ku(v,_),j!=null&&x.push(td(v,j,b)))),S)break;v=v.return}0<x.length&&(p=new m(p,y,null,n,d),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==y0&&(y=n.relatedTarget||n.fromElement)&&(ma(y)||y[To]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ma(y):null,y!==null&&(S=Ja(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=__,j="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=E_,j="onPointerLeave",_="onPointerEnter",v="pointer"),S=m==null?p:El(m),b=y==null?p:El(y),p=new x(j,v+"leave",m,n,d),p.target=S,p.relatedTarget=b,j=null,ma(d)===u&&(x=new x(_,v+"enter",y,n,d),x.target=b,x.relatedTarget=S,j=x),S=j,m&&y)t:{for(x=m,_=y,v=0,b=x;b;b=ll(b))v++;for(b=0,j=_;j;j=ll(j))b++;for(;0<v-b;)x=ll(x),v--;for(;0<b-v;)_=ll(_),b--;for(;v--;){if(x===_||_!==null&&x===_.alternate)break t;x=ll(x),_=ll(_)}x=null}else x=null;m!==null&&O_(f,p,m,x,!1),y!==null&&S!==null&&O_(f,S,y,x,!0)}}e:{if(p=u?El(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=CL;else if(N_(p))if(yk)R=jL;else{R=NL;var F=TL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=kL);if(R&&(R=R(t,u))){vk(f,R,n,d);break e}F&&F(t,p,u),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&f0(p,"number",p.value)}switch(F=u?El(u):window,t){case"focusin":(N_(F)||F.contentEditable==="true")&&(_l=F,C0=u,ju=null);break;case"focusout":ju=C0=_l=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,I_(f,n,d);break;case"selectionchange":if(IL)break;case"keydown":case"keyup":I_(f,n,d)}var E;if(Rx)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else bl?mk(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(pk&&n.locale!=="ko"&&(bl||T!=="onCompositionStart"?T==="onCompositionEnd"&&bl&&(E=fk()):(ci=d,Px="value"in ci?ci.value:ci.textContent,bl=!0)),F=Gf(u,T),0<F.length&&(T=new S_(T,t,null,n,d),f.push({event:T,listeners:F}),E?T.data=E:(E=gk(n),E!==null&&(T.data=E)))),(E=wL?bL(t,n):_L(t,n))&&(u=Gf(u,"onBeforeInput"),0<u.length&&(d=new S_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}kk(f,e)})}function td(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ku(t,n),o!=null&&r.unshift(td(t,o,s)),o=Ku(t,e),o!=null&&r.push(td(t,o,s))),t=t.return}return r}function ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O_(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ku(n,o),c!=null&&i.unshift(td(n,c,l))):s||(c=Ku(n,o),c!=null&&i.push(td(n,c,l)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var ML=/\r\n?/g,LL=/\u0000|\uFFFD/g;function M_(t){return(typeof t=="string"?t:""+t).replace(ML,`
`).replace(LL,"")}function Nh(t,e,n){if(e=M_(e),M_(t)!==e&&n)throw Error(se(425))}function Kf(){}var N0=null,k0=null;function j0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var P0=typeof setTimeout=="function"?setTimeout:void 0,FL=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,VL=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(zL)}:P0;function zL(t){setTimeout(function(){throw t})}function Wg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xu(e)}function mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _c=Math.random().toString(36).slice(2),Ms="__reactFiber$"+_c,nd="__reactProps$"+_c,To="__reactContainer$"+_c,A0="__reactEvents$"+_c,UL="__reactListeners$"+_c,BL="__reactHandles$"+_c;function ma(t){var e=t[Ms];if(e)return e;for(var n=t.parentNode;n;){if(e=n[To]||n[Ms]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F_(t);t!==null;){if(n=t[Ms])return n;t=F_(t)}return e}t=n,n=t.parentNode}return null}function Rd(t){return t=t[Ms]||t[To],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function El(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function am(t){return t[nd]||null}var I0=[],Cl=-1;function $i(t){return{current:t}}function It(t){0>Cl||(t.current=I0[Cl],I0[Cl]=null,Cl--)}function St(t,e){Cl++,I0[Cl]=t.current,t.current=e}var ki={},Yn=$i(ki),xr=$i(!1),Pa=ki;function Jl(t,e){var n=t.type.contextTypes;if(!n)return ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wr(t){return t=t.childContextTypes,t!=null}function Yf(){It(xr),It(Yn)}function V_(t,e,n){if(Yn.current!==ki)throw Error(se(168));St(Yn,e),St(xr,n)}function Pk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(se(108,T4(t)||"Unknown",s));return zt({},n,r)}function Qf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,Pa=Yn.current,St(Yn,t),St(xr,xr.current),!0}function z_(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=Pk(t,e,Pa),r.__reactInternalMemoizedMergedChildContext=t,It(xr),It(Yn),St(Yn,t)):It(xr),St(xr,n)}var uo=null,lm=!1,Hg=!1;function Ak(t){uo===null?uo=[t]:uo.push(t)}function $L(t){lm=!0,Ak(t)}function qi(){if(!Hg&&uo!==null){Hg=!0;var t=0,e=mt;try{var n=uo;for(mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}uo=null,lm=!1}catch(s){throw uo!==null&&(uo=uo.slice(t+1)),nk(Tx,qi),s}finally{mt=e,Hg=!1}}return null}var Tl=[],Nl=0,Xf=null,Jf=0,Gr=[],Kr=0,Aa=null,ho=1,fo="";function ia(t,e){Tl[Nl++]=Jf,Tl[Nl++]=Xf,Xf=t,Jf=e}function Ik(t,e,n){Gr[Kr++]=ho,Gr[Kr++]=fo,Gr[Kr++]=Aa,Aa=t;var r=ho;t=fo;var s=32-gs(r)-1;r&=~(1<<s),n+=1;var o=32-gs(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,ho=1<<32-gs(e)+s|n<<s|r,fo=o+t}else ho=1<<o|n<<s|r,fo=t}function Ox(t){t.return!==null&&(ia(t,1),Ik(t,1,0))}function Mx(t){for(;t===Xf;)Xf=Tl[--Nl],Tl[Nl]=null,Jf=Tl[--Nl],Tl[Nl]=null;for(;t===Aa;)Aa=Gr[--Kr],Gr[Kr]=null,fo=Gr[--Kr],Gr[Kr]=null,ho=Gr[--Kr],Gr[Kr]=null}var Mr=null,Dr=null,Dt=!1,hs=null;function Rk(t,e){var n=Qr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function U_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mr=t,Dr=mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mr=t,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Aa!==null?{id:ho,overflow:fo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mr=t,Dr=null,!0):!1;default:return!1}}function R0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function D0(t){if(Dt){var e=Dr;if(e){var n=e;if(!U_(t,e)){if(R0(t))throw Error(se(418));e=mi(n.nextSibling);var r=Mr;e&&U_(t,e)?Rk(r,n):(t.flags=t.flags&-4097|2,Dt=!1,Mr=t)}}else{if(R0(t))throw Error(se(418));t.flags=t.flags&-4097|2,Dt=!1,Mr=t}}}function B_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mr=t}function kh(t){if(t!==Mr)return!1;if(!Dt)return B_(t),Dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!j0(t.type,t.memoizedProps)),e&&(e=Dr)){if(R0(t))throw Dk(),Error(se(418));for(;e;)Rk(t,e),e=mi(e.nextSibling)}if(B_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dr=mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dr=null}}else Dr=Mr?mi(t.stateNode.nextSibling):null;return!0}function Dk(){for(var t=Dr;t;)t=mi(t.nextSibling)}function Zl(){Dr=Mr=null,Dt=!1}function Lx(t){hs===null?hs=[t]:hs.push(t)}var qL=Lo.ReactCurrentBatchConfig;function tu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function jh(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $_(t){var e=t._init;return e(t._payload)}function Ok(t){function e(_,v){if(t){var b=_.deletions;b===null?(_.deletions=[v],_.flags|=16):b.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=xi(_,v),_.index=0,_.sibling=null,_}function o(_,v,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<v?(_.flags|=2,v):b):(_.flags|=2,v)):(_.flags|=1048576,v)}function i(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,v,b,j){return v===null||v.tag!==6?(v=Zg(b,_.mode,j),v.return=_,v):(v=s(v,b),v.return=_,v)}function c(_,v,b,j){var R=b.type;return R===wl?d(_,v,b.props.children,j,b.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Zo&&$_(R)===v.type)?(j=s(v,b.props),j.ref=tu(_,v,b),j.return=_,j):(j=xf(b.type,b.key,b.props,null,_.mode,j),j.ref=tu(_,v,b),j.return=_,j)}function u(_,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=ev(b,_.mode,j),v.return=_,v):(v=s(v,b.children||[]),v.return=_,v)}function d(_,v,b,j,R){return v===null||v.tag!==7?(v=_a(b,_.mode,j,R),v.return=_,v):(v=s(v,b),v.return=_,v)}function f(_,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Zg(""+v,_.mode,b),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yh:return b=xf(v.type,v.key,v.props,null,_.mode,b),b.ref=tu(_,null,v),b.return=_,b;case xl:return v=ev(v,_.mode,b),v.return=_,v;case Zo:var j=v._init;return f(_,j(v._payload),b)}if(pu(v)||Qc(v))return v=_a(v,_.mode,b,null),v.return=_,v;jh(_,v)}return null}function p(_,v,b,j){var R=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:l(_,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yh:return b.key===R?c(_,v,b,j):null;case xl:return b.key===R?u(_,v,b,j):null;case Zo:return R=b._init,p(_,v,R(b._payload),j)}if(pu(b)||Qc(b))return R!==null?null:d(_,v,b,j,null);jh(_,b)}return null}function m(_,v,b,j,R){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(b)||null,l(v,_,""+j,R);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case yh:return _=_.get(j.key===null?b:j.key)||null,c(v,_,j,R);case xl:return _=_.get(j.key===null?b:j.key)||null,u(v,_,j,R);case Zo:var F=j._init;return m(_,v,b,F(j._payload),R)}if(pu(j)||Qc(j))return _=_.get(b)||null,d(v,_,j,R,null);jh(v,j)}return null}function y(_,v,b,j){for(var R=null,F=null,E=v,T=v=0,A=null;E!==null&&T<b.length;T++){E.index>T?(A=E,E=null):A=E.sibling;var I=p(_,E,b[T],j);if(I===null){E===null&&(E=A);break}t&&E&&I.alternate===null&&e(_,E),v=o(I,v,T),F===null?R=I:F.sibling=I,F=I,E=A}if(T===b.length)return n(_,E),Dt&&ia(_,T),R;if(E===null){for(;T<b.length;T++)E=f(_,b[T],j),E!==null&&(v=o(E,v,T),F===null?R=E:F.sibling=E,F=E);return Dt&&ia(_,T),R}for(E=r(_,E);T<b.length;T++)A=m(E,_,T,b[T],j),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?T:A.key),v=o(A,v,T),F===null?R=A:F.sibling=A,F=A);return t&&E.forEach(function(k){return e(_,k)}),Dt&&ia(_,T),R}function x(_,v,b,j){var R=Qc(b);if(typeof R!="function")throw Error(se(150));if(b=R.call(b),b==null)throw Error(se(151));for(var F=R=null,E=v,T=v=0,A=null,I=b.next();E!==null&&!I.done;T++,I=b.next()){E.index>T?(A=E,E=null):A=E.sibling;var k=p(_,E,I.value,j);if(k===null){E===null&&(E=A);break}t&&E&&k.alternate===null&&e(_,E),v=o(k,v,T),F===null?R=k:F.sibling=k,F=k,E=A}if(I.done)return n(_,E),Dt&&ia(_,T),R;if(E===null){for(;!I.done;T++,I=b.next())I=f(_,I.value,j),I!==null&&(v=o(I,v,T),F===null?R=I:F.sibling=I,F=I);return Dt&&ia(_,T),R}for(E=r(_,E);!I.done;T++,I=b.next())I=m(E,_,T,I.value,j),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?T:I.key),v=o(I,v,T),F===null?R=I:F.sibling=I,F=I);return t&&E.forEach(function(N){return e(_,N)}),Dt&&ia(_,T),R}function S(_,v,b,j){if(typeof b=="object"&&b!==null&&b.type===wl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yh:e:{for(var R=b.key,F=v;F!==null;){if(F.key===R){if(R=b.type,R===wl){if(F.tag===7){n(_,F.sibling),v=s(F,b.props.children),v.return=_,_=v;break e}}else if(F.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Zo&&$_(R)===F.type){n(_,F.sibling),v=s(F,b.props),v.ref=tu(_,F,b),v.return=_,_=v;break e}n(_,F);break}else e(_,F);F=F.sibling}b.type===wl?(v=_a(b.props.children,_.mode,j,b.key),v.return=_,_=v):(j=xf(b.type,b.key,b.props,null,_.mode,j),j.ref=tu(_,v,b),j.return=_,_=j)}return i(_);case xl:e:{for(F=b.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(_,v.sibling),v=s(v,b.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=ev(b,_.mode,j),v.return=_,_=v}return i(_);case Zo:return F=b._init,S(_,v,F(b._payload),j)}if(pu(b))return y(_,v,b,j);if(Qc(b))return x(_,v,b,j);jh(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,b),v.return=_,_=v):(n(_,v),v=Zg(b,_.mode,j),v.return=_,_=v),i(_)):n(_,v)}return S}var ec=Ok(!0),Mk=Ok(!1),Zf=$i(null),ep=null,kl=null,Fx=null;function Vx(){Fx=kl=ep=null}function zx(t){var e=Zf.current;It(Zf),t._currentValue=e}function O0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ul(t,e){ep=t,Fx=kl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vr=!0),t.firstContext=null)}function ts(t){var e=t._currentValue;if(Fx!==t)if(t={context:t,memoizedValue:e,next:null},kl===null){if(ep===null)throw Error(se(308));kl=t,ep.dependencies={lanes:0,firstContext:t}}else kl=kl.next=t;return e}var ga=null;function Ux(t){ga===null?ga=[t]:ga.push(t)}function Lk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ux(e)):(n.next=s.next,s.next=n),e.interleaved=n,No(t,r)}function No(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ei=!1;function Bx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,No(t,n)}return s=r.interleaved,s===null?(e.next=e,Ux(r)):(e.next=s.next,s.next=e),r.interleaved=e,No(t,n)}function ff(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nx(t,n)}}function q_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tp(t,e,n,r){var s=t.updateQueue;ei=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var p=l.lane,m=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,x=l;switch(p=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=zt({},f,p);break e;case 2:ei=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ra|=i,t.lanes=i,t.memoizedState=f}}function W_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(se(191,s));s.call(r)}}}var Dd={},Us=$i(Dd),rd=$i(Dd),sd=$i(Dd);function va(t){if(t===Dd)throw Error(se(174));return t}function $x(t,e){switch(St(sd,e),St(rd,t),St(Us,Dd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:m0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=m0(e,t)}It(Us),St(Us,e)}function tc(){It(Us),It(rd),It(sd)}function Vk(t){va(sd.current);var e=va(Us.current),n=m0(e,t.type);e!==n&&(St(rd,t),St(Us,n))}function qx(t){rd.current===t&&(It(Us),It(rd))}var Lt=$i(0);function np(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gg=[];function Wx(){for(var t=0;t<Gg.length;t++)Gg[t]._workInProgressVersionPrimary=null;Gg.length=0}var pf=Lo.ReactCurrentDispatcher,Kg=Lo.ReactCurrentBatchConfig,Ia=0,Vt=null,dn=null,yn=null,rp=!1,Pu=!1,od=0,WL=0;function Fn(){throw Error(se(321))}function Hx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bs(t[n],e[n]))return!1;return!0}function Gx(t,e,n,r,s,o){if(Ia=o,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pf.current=t===null||t.memoizedState===null?YL:QL,t=n(r,s),Pu){o=0;do{if(Pu=!1,od=0,25<=o)throw Error(se(301));o+=1,yn=dn=null,e.updateQueue=null,pf.current=XL,t=n(r,s)}while(Pu)}if(pf.current=sp,e=dn!==null&&dn.next!==null,Ia=0,yn=dn=Vt=null,rp=!1,e)throw Error(se(300));return t}function Kx(){var t=od!==0;return od=0,t}function Rs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Vt.memoizedState=yn=t:yn=yn.next=t,yn}function ns(){if(dn===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=dn.next;var e=yn===null?Vt.memoizedState:yn.next;if(e!==null)yn=e,dn=t;else{if(t===null)throw Error(se(310));dn=t,t={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},yn===null?Vt.memoizedState=yn=t:yn=yn.next=t}return yn}function id(t,e){return typeof e=="function"?e(t):e}function Yg(t){var e=ns(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=dn,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Ia&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Vt.lanes|=d,Ra|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,bs(r,e.memoizedState)||(vr=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Vt.lanes|=o,Ra|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qg(t){var e=ns(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);bs(o,e.memoizedState)||(vr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function zk(){}function Uk(t,e){var n=Vt,r=ns(),s=e(),o=!bs(r.memoizedState,s);if(o&&(r.memoizedState=s,vr=!0),r=r.queue,Yx(qk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||yn!==null&&yn.memoizedState.tag&1){if(n.flags|=2048,ad(9,$k.bind(null,n,r,s,e),void 0,null),xn===null)throw Error(se(349));Ia&30||Bk(n,e,s)}return s}function Bk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $k(t,e,n,r){e.value=n,e.getSnapshot=r,Wk(e)&&Hk(t)}function qk(t,e,n){return n(function(){Wk(e)&&Hk(t)})}function Wk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bs(t,n)}catch{return!0}}function Hk(t){var e=No(t,1);e!==null&&vs(e,t,1,-1)}function H_(t){var e=Rs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},e.queue=t,t=t.dispatch=KL.bind(null,Vt,t),[e.memoizedState,t]}function ad(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gk(){return ns().memoizedState}function mf(t,e,n,r){var s=Rs();Vt.flags|=t,s.memoizedState=ad(1|e,n,void 0,r===void 0?null:r)}function cm(t,e,n,r){var s=ns();r=r===void 0?null:r;var o=void 0;if(dn!==null){var i=dn.memoizedState;if(o=i.destroy,r!==null&&Hx(r,i.deps)){s.memoizedState=ad(e,n,o,r);return}}Vt.flags|=t,s.memoizedState=ad(1|e,n,o,r)}function G_(t,e){return mf(8390656,8,t,e)}function Yx(t,e){return cm(2048,8,t,e)}function Kk(t,e){return cm(4,2,t,e)}function Yk(t,e){return cm(4,4,t,e)}function Qk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xk(t,e,n){return n=n!=null?n.concat([t]):null,cm(4,4,Qk.bind(null,e,t),n)}function Qx(){}function Jk(t,e){var n=ns();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zk(t,e){var n=ns();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ej(t,e,n){return Ia&21?(bs(n,e)||(n=ok(),Vt.lanes|=n,Ra|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vr=!0),t.memoizedState=n)}function HL(t,e){var n=mt;mt=n!==0&&4>n?n:4,t(!0);var r=Kg.transition;Kg.transition={};try{t(!1),e()}finally{mt=n,Kg.transition=r}}function tj(){return ns().memoizedState}function GL(t,e,n){var r=yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nj(t))rj(e,n);else if(n=Lk(t,e,n,r),n!==null){var s=or();vs(n,t,r,s),sj(n,e,r)}}function KL(t,e,n){var r=yi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nj(t))rj(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,bs(l,i)){var c=e.interleaved;c===null?(s.next=s,Ux(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Lk(t,e,s,r),n!==null&&(s=or(),vs(n,t,r,s),sj(n,e,r))}}function nj(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function rj(t,e){Pu=rp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nx(t,n)}}var sp={readContext:ts,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},YL={readContext:ts,useCallback:function(t,e){return Rs().memoizedState=[t,e===void 0?null:e],t},useContext:ts,useEffect:G_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mf(4194308,4,Qk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mf(4194308,4,t,e)},useInsertionEffect:function(t,e){return mf(4,2,t,e)},useMemo:function(t,e){var n=Rs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GL.bind(null,Vt,t),[r.memoizedState,t]},useRef:function(t){var e=Rs();return t={current:t},e.memoizedState=t},useState:H_,useDebugValue:Qx,useDeferredValue:function(t){return Rs().memoizedState=t},useTransition:function(){var t=H_(!1),e=t[0];return t=HL.bind(null,t[1]),Rs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Vt,s=Rs();if(Dt){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),xn===null)throw Error(se(349));Ia&30||Bk(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,G_(qk.bind(null,r,o,t),[t]),r.flags|=2048,ad(9,$k.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Rs(),e=xn.identifierPrefix;if(Dt){var n=fo,r=ho;n=(r&~(1<<32-gs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=od++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QL={readContext:ts,useCallback:Jk,useContext:ts,useEffect:Yx,useImperativeHandle:Xk,useInsertionEffect:Kk,useLayoutEffect:Yk,useMemo:Zk,useReducer:Yg,useRef:Gk,useState:function(){return Yg(id)},useDebugValue:Qx,useDeferredValue:function(t){var e=ns();return ej(e,dn.memoizedState,t)},useTransition:function(){var t=Yg(id)[0],e=ns().memoizedState;return[t,e]},useMutableSource:zk,useSyncExternalStore:Uk,useId:tj,unstable_isNewReconciler:!1},XL={readContext:ts,useCallback:Jk,useContext:ts,useEffect:Yx,useImperativeHandle:Xk,useInsertionEffect:Kk,useLayoutEffect:Yk,useMemo:Zk,useReducer:Qg,useRef:Gk,useState:function(){return Qg(id)},useDebugValue:Qx,useDeferredValue:function(t){var e=ns();return dn===null?e.memoizedState=t:ej(e,dn.memoizedState,t)},useTransition:function(){var t=Qg(id)[0],e=ns().memoizedState;return[t,e]},useMutableSource:zk,useSyncExternalStore:Uk,useId:tj,unstable_isNewReconciler:!1};function us(t,e){if(t&&t.defaultProps){e=zt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function M0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:zt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var um={isMounted:function(t){return(t=t._reactInternals)?Ja(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=or(),s=yi(t),o=xo(r,s);o.payload=e,n!=null&&(o.callback=n),e=gi(t,o,s),e!==null&&(vs(e,t,s,r),ff(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=or(),s=yi(t),o=xo(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=gi(t,o,s),e!==null&&(vs(e,t,s,r),ff(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=or(),r=yi(t),s=xo(n,r);s.tag=2,e!=null&&(s.callback=e),e=gi(t,s,r),e!==null&&(vs(e,t,r,n),ff(e,t,r))}};function K_(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!Zu(n,r)||!Zu(s,o):!0}function oj(t,e,n){var r=!1,s=ki,o=e.contextType;return typeof o=="object"&&o!==null?o=ts(o):(s=wr(e)?Pa:Yn.current,r=e.contextTypes,o=(r=r!=null)?Jl(t,s):ki),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=um,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Y_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&um.enqueueReplaceState(e,e.state,null)}function L0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Bx(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=ts(o):(o=wr(e)?Pa:Yn.current,s.context=Jl(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(M0(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&um.enqueueReplaceState(s,s.state,null),tp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function nc(t,e){try{var n="",r=e;do n+=C4(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Xg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function F0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JL=typeof WeakMap=="function"?WeakMap:Map;function ij(t,e,n){n=xo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ip||(ip=!0,K0=r),F0(t,e)},n}function aj(t,e,n){n=xo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){F0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){F0(t,e),typeof r!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Q_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=hF.bind(null,t,e,n),e.then(t,t))}function X_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xo(-1,1),e.tag=2,gi(n,e,1))),n.lanes|=1),t)}var ZL=Lo.ReactCurrentOwner,vr=!1;function sr(t,e,n,r){e.child=t===null?Mk(e,null,n,r):ec(e,t.child,n,r)}function Z_(t,e,n,r,s){n=n.render;var o=e.ref;return Ul(e,s),r=Gx(t,e,n,r,o,s),n=Kx(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ko(t,e,s)):(Dt&&n&&Ox(e),e.flags|=1,sr(t,e,r,s),e.child)}function eS(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!sw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,lj(t,e,o,r,s)):(t=xf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zu,n(i,r)&&t.ref===e.ref)return ko(t,e,s)}return e.flags|=1,t=xi(o,r),t.ref=e.ref,t.return=e,e.child=t}function lj(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Zu(o,r)&&t.ref===e.ref)if(vr=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(vr=!0);else return e.lanes=t.lanes,ko(t,e,s)}return V0(t,e,n,r,s)}function cj(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Pl,Pr),Pr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,St(Pl,Pr),Pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,St(Pl,Pr),Pr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,St(Pl,Pr),Pr|=r;return sr(t,e,s,n),e.child}function uj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function V0(t,e,n,r,s){var o=wr(n)?Pa:Yn.current;return o=Jl(e,o),Ul(e,s),n=Gx(t,e,n,r,o,s),r=Kx(),t!==null&&!vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ko(t,e,s)):(Dt&&r&&Ox(e),e.flags|=1,sr(t,e,n,s),e.child)}function tS(t,e,n,r,s){if(wr(n)){var o=!0;Qf(e)}else o=!1;if(Ul(e,s),e.stateNode===null)gf(t,e),oj(e,n,r),L0(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=ts(u):(u=wr(n)?Pa:Yn.current,u=Jl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Y_(e,i,r,u),ei=!1;var p=e.memoizedState;i.state=p,tp(e,r,i,s),c=e.memoizedState,l!==r||p!==c||xr.current||ei?(typeof d=="function"&&(M0(e,n,d,r),c=e.memoizedState),(l=ei||K_(e,n,l,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,Fk(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:us(e.type,l),i.props=u,f=e.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=ts(c):(c=wr(n)?Pa:Yn.current,c=Jl(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Y_(e,i,r,c),ei=!1,p=e.memoizedState,i.state=p,tp(e,r,i,s);var y=e.memoizedState;l!==f||p!==y||xr.current||ei?(typeof m=="function"&&(M0(e,n,m,r),y=e.memoizedState),(u=ei||K_(e,n,u,r,p,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return z0(t,e,n,r,o,s)}function z0(t,e,n,r,s,o){uj(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&z_(e,n,!1),ko(t,e,o);r=e.stateNode,ZL.current=e;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=ec(e,t.child,null,o),e.child=ec(e,null,l,o)):sr(t,e,l,o),e.memoizedState=r.state,s&&z_(e,n,!0),e.child}function dj(t){var e=t.stateNode;e.pendingContext?V_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V_(t,e.context,!1),$x(t,e.containerInfo)}function nS(t,e,n,r,s){return Zl(),Lx(s),e.flags|=256,sr(t,e,n,r),e.child}var U0={dehydrated:null,treeContext:null,retryLane:0};function B0(t){return{baseLanes:t,cachePool:null,transitions:null}}function hj(t,e,n){var r=e.pendingProps,s=Lt.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),St(Lt,s&1),t===null)return D0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=fm(i,r,0,null),t=_a(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=B0(n),e.memoizedState=U0,t):Xx(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return eF(t,e,i,r,l,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=xi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=xi(l,o):(o=_a(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?B0(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=U0,r}return o=t.child,t=o.sibling,r=xi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xx(t,e){return e=fm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,n,r){return r!==null&&Lx(r),ec(e,t.child,null,n),t=Xx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eF(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Xg(Error(se(422))),Ph(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=fm({mode:"visible",children:r.children},s,0,null),o=_a(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ec(e,t.child,null,i),e.child.memoizedState=B0(i),e.memoizedState=U0,o);if(!(e.mode&1))return Ph(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(se(419)),r=Xg(o,r,void 0),Ph(t,e,i,r)}if(l=(i&t.childLanes)!==0,vr||l){if(r=xn,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,No(t,s),vs(r,t,s,-1))}return rw(),r=Xg(Error(se(421))),Ph(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fF.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Dr=mi(s.nextSibling),Mr=e,Dt=!0,hs=null,t!==null&&(Gr[Kr++]=ho,Gr[Kr++]=fo,Gr[Kr++]=Aa,ho=t.id,fo=t.overflow,Aa=e),e=Xx(e,r.children),e.flags|=4096,e)}function rS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),O0(t.return,e,n)}function Jg(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function fj(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(sr(t,e,r.children,n),r=Lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rS(t,n,e);else if(t.tag===19)rS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(St(Lt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&np(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Jg(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&np(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Jg(e,!0,n,null,o);break;case"together":Jg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ko(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ra|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tF(t,e,n){switch(e.tag){case 3:dj(e),Zl();break;case 5:Vk(e);break;case 1:wr(e.type)&&Qf(e);break;case 4:$x(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;St(Zf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(St(Lt,Lt.current&1),e.flags|=128,null):n&e.child.childLanes?hj(t,e,n):(St(Lt,Lt.current&1),t=ko(t,e,n),t!==null?t.sibling:null);St(Lt,Lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fj(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),St(Lt,Lt.current),r)break;return null;case 22:case 23:return e.lanes=0,cj(t,e,n)}return ko(t,e,n)}var pj,$0,mj,gj;pj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$0=function(){};mj=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,va(Us.current);var o=null;switch(n){case"input":s=d0(t,s),r=d0(t,r),o=[];break;case"select":s=zt({},s,{value:void 0}),r=zt({},r,{value:void 0}),o=[];break;case"textarea":s=p0(t,s),r=p0(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kf)}g0(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&jt("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};gj=function(t,e,n,r){n!==r&&(e.flags|=4)};function nu(t,e){if(!Dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nF(t,e,n){var r=e.pendingProps;switch(Mx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(e),null;case 1:return wr(e.type)&&Yf(),Vn(e),null;case 3:return r=e.stateNode,tc(),It(xr),It(Yn),Wx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hs!==null&&(X0(hs),hs=null))),$0(t,e),Vn(e),null;case 5:qx(e);var s=va(sd.current);if(n=e.type,t!==null&&e.stateNode!=null)mj(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Vn(e),null}if(t=va(Us.current),kh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ms]=e,r[nd]=o,t=(e.mode&1)!==0,n){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(s=0;s<gu.length;s++)jt(gu[s],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":h_(r,o),jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jt("invalid",r);break;case"textarea":p_(r,o),jt("invalid",r)}g0(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Nh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Nh(r.textContent,l,t),s=["children",""+l]):Hu.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&jt("scroll",r)}switch(n){case"input":xh(r),f_(r,o,!0);break;case"textarea":xh(r),m_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Kf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Ms]=e,t[nd]=r,pj(t,e,!1,!1),e.stateNode=t;e:{switch(i=v0(n,r),n){case"dialog":jt("cancel",t),jt("close",t),s=r;break;case"iframe":case"object":case"embed":jt("load",t),s=r;break;case"video":case"audio":for(s=0;s<gu.length;s++)jt(gu[s],t);s=r;break;case"source":jt("error",t),s=r;break;case"img":case"image":case"link":jt("error",t),jt("load",t),s=r;break;case"details":jt("toggle",t),s=r;break;case"input":h_(t,r),s=d0(t,r),jt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=zt({},r,{value:void 0}),jt("invalid",t);break;case"textarea":p_(t,r),s=p0(t,r),jt("invalid",t);break;default:s=r}g0(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?GN(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&WN(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gu(t,c):typeof c=="number"&&Gu(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hu.hasOwnProperty(o)?c!=null&&o==="onScroll"&&jt("scroll",t):c!=null&&bx(t,o,c,i))}switch(n){case"input":xh(t),f_(t,r,!1);break;case"textarea":xh(t),m_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ni(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ll(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ll(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Kf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vn(e),null;case 6:if(t&&e.stateNode!=null)gj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=va(sd.current),va(Us.current),kh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ms]=e,(o=r.nodeValue!==n)&&(t=Mr,t!==null))switch(t.tag){case 3:Nh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ms]=e,e.stateNode=r}return Vn(e),null;case 13:if(It(Lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dt&&Dr!==null&&e.mode&1&&!(e.flags&128))Dk(),Zl(),e.flags|=98560,o=!1;else if(o=kh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(se(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[Ms]=e}else Zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vn(e),o=!1}else hs!==null&&(X0(hs),hs=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Lt.current&1?pn===0&&(pn=3):rw())),e.updateQueue!==null&&(e.flags|=4),Vn(e),null);case 4:return tc(),$0(t,e),t===null&&ed(e.stateNode.containerInfo),Vn(e),null;case 10:return zx(e.type._context),Vn(e),null;case 17:return wr(e.type)&&Yf(),Vn(e),null;case 19:if(It(Lt),o=e.memoizedState,o===null)return Vn(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)nu(o,!1);else{if(pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=np(t),i!==null){for(e.flags|=128,nu(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return St(Lt,Lt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xt()>rc&&(e.flags|=128,r=!0,nu(o,!1),e.lanes=4194304)}else{if(!r)if(t=np(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Dt)return Vn(e),null}else 2*Xt()-o.renderingStartTime>rc&&n!==1073741824&&(e.flags|=128,r=!0,nu(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xt(),e.sibling=null,n=Lt.current,St(Lt,r?n&1|2:n&1),e):(Vn(e),null);case 22:case 23:return nw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pr&1073741824&&(Vn(e),e.subtreeFlags&6&&(e.flags|=8192)):Vn(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function rF(t,e){switch(Mx(e),e.tag){case 1:return wr(e.type)&&Yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tc(),It(xr),It(Yn),Wx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qx(e),null;case 13:if(It(Lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));Zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return It(Lt),null;case 4:return tc(),null;case 10:return zx(e.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var Ah=!1,qn=!1,sF=typeof WeakSet=="function"?WeakSet:Set,xe=null;function jl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qt(t,e,r)}else n.current=null}function q0(t,e,n){try{n()}catch(r){qt(t,e,r)}}var sS=!1;function oF(t,e){if(N0=Wf,t=bk(),Dx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===s&&(l=i),p===o&&++d===r&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(k0={focusedElem:t,selectionRange:n},Wf=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:us(e.type,x),S);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(j){qt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return y=sS,sS=!1,y}function Au(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&q0(e,n,o)}s=s.next}while(s!==r)}}function dm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function W0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vj(t){var e=t.alternate;e!==null&&(t.alternate=null,vj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ms],delete e[nd],delete e[A0],delete e[UL],delete e[BL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yj(t){return t.tag===5||t.tag===3||t.tag===4}function oS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function H0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kf));else if(r!==4&&(t=t.child,t!==null))for(H0(t,e,n),t=t.sibling;t!==null;)H0(t,e,n),t=t.sibling}function G0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(G0(t,e,n),t=t.sibling;t!==null;)G0(t,e,n),t=t.sibling}var _n=null,ds=!1;function Wo(t,e,n){for(n=n.child;n!==null;)xj(t,e,n),n=n.sibling}function xj(t,e,n){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(rm,n)}catch{}switch(n.tag){case 5:qn||jl(n,e);case 6:var r=_n,s=ds;_n=null,Wo(t,e,n),_n=r,ds=s,_n!==null&&(ds?(t=_n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_n.removeChild(n.stateNode));break;case 18:_n!==null&&(ds?(t=_n,n=n.stateNode,t.nodeType===8?Wg(t.parentNode,n):t.nodeType===1&&Wg(t,n),Xu(t)):Wg(_n,n.stateNode));break;case 4:r=_n,s=ds,_n=n.stateNode.containerInfo,ds=!0,Wo(t,e,n),_n=r,ds=s;break;case 0:case 11:case 14:case 15:if(!qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&q0(n,e,i),s=s.next}while(s!==r)}Wo(t,e,n);break;case 1:if(!qn&&(jl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qt(n,e,l)}Wo(t,e,n);break;case 21:Wo(t,e,n);break;case 22:n.mode&1?(qn=(r=qn)||n.memoizedState!==null,Wo(t,e,n),qn=r):Wo(t,e,n);break;default:Wo(t,e,n)}}function iS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sF),e.forEach(function(r){var s=pF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function is(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:_n=l.stateNode,ds=!1;break e;case 3:_n=l.stateNode.containerInfo,ds=!0;break e;case 4:_n=l.stateNode.containerInfo,ds=!0;break e}l=l.return}if(_n===null)throw Error(se(160));xj(o,i,s),_n=null,ds=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){qt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wj(e,t),e=e.sibling}function wj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(is(e,t),As(t),r&4){try{Au(3,t,t.return),dm(3,t)}catch(x){qt(t,t.return,x)}try{Au(5,t,t.return)}catch(x){qt(t,t.return,x)}}break;case 1:is(e,t),As(t),r&512&&n!==null&&jl(n,n.return);break;case 5:if(is(e,t),As(t),r&512&&n!==null&&jl(n,n.return),t.flags&32){var s=t.stateNode;try{Gu(s,"")}catch(x){qt(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&BN(s,o),v0(l,i);var u=v0(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?GN(s,f):d==="dangerouslySetInnerHTML"?WN(s,f):d==="children"?Gu(s,f):bx(s,d,f,u)}switch(l){case"input":h0(s,o);break;case"textarea":$N(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ll(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ll(s,!!o.multiple,o.defaultValue,!0):Ll(s,!!o.multiple,o.multiple?[]:"",!1))}s[nd]=o}catch(x){qt(t,t.return,x)}}break;case 6:if(is(e,t),As(t),r&4){if(t.stateNode===null)throw Error(se(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(x){qt(t,t.return,x)}}break;case 3:if(is(e,t),As(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xu(e.containerInfo)}catch(x){qt(t,t.return,x)}break;case 4:is(e,t),As(t);break;case 13:is(e,t),As(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(ew=Xt())),r&4&&iS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(qn=(u=qn)||d,is(e,t),qn=u):is(e,t),As(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(xe=t,d=t.child;d!==null;){for(f=xe=d;xe!==null;){switch(p=xe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Au(4,p,p.return);break;case 1:jl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){qt(r,n,x)}}break;case 5:jl(p,p.return);break;case 22:if(p.memoizedState!==null){lS(f);continue}}m!==null?(m.return=p,xe=m):lS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=HN("display",i))}catch(x){qt(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){qt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:is(e,t),As(t),r&4&&iS(t);break;case 21:break;default:is(e,t),As(t)}}function As(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yj(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gu(s,""),r.flags&=-33);var o=oS(t);G0(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=oS(t);H0(t,l,i);break;default:throw Error(se(161))}}catch(c){qt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iF(t,e,n){xe=t,bj(t)}function bj(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var s=xe,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ah;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||qn;l=Ah;var u=qn;if(Ah=i,(qn=c)&&!u)for(xe=s;xe!==null;)i=xe,c=i.child,i.tag===22&&i.memoizedState!==null?cS(s):c!==null?(c.return=i,xe=c):cS(s);for(;o!==null;)xe=o,bj(o),o=o.sibling;xe=s,Ah=l,qn=u}aS(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,xe=o):aS(t)}}function aS(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qn||dm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:us(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&W_(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}W_(e,i,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}qn||e.flags&512&&W0(e)}catch(p){qt(e,e.return,p)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function lS(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function cS(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dm(4,e)}catch(c){qt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){qt(e,s,c)}}var o=e.return;try{W0(e)}catch(c){qt(e,o,c)}break;case 5:var i=e.return;try{W0(e)}catch(c){qt(e,i,c)}}}catch(c){qt(e,e.return,c)}if(e===t){xe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xe=l;break}xe=e.return}}var aF=Math.ceil,op=Lo.ReactCurrentDispatcher,Jx=Lo.ReactCurrentOwner,Jr=Lo.ReactCurrentBatchConfig,it=0,xn=null,sn=null,jn=0,Pr=0,Pl=$i(0),pn=0,ld=null,Ra=0,hm=0,Zx=0,Iu=null,pr=null,ew=0,rc=1/0,co=null,ip=!1,K0=null,vi=null,Ih=!1,ui=null,ap=0,Ru=0,Y0=null,vf=-1,yf=0;function or(){return it&6?Xt():vf!==-1?vf:vf=Xt()}function yi(t){return t.mode&1?it&2&&jn!==0?jn&-jn:qL.transition!==null?(yf===0&&(yf=ok()),yf):(t=mt,t!==0||(t=window.event,t=t===void 0?16:hk(t.type)),t):1}function vs(t,e,n,r){if(50<Ru)throw Ru=0,Y0=null,Error(se(185));Ad(t,n,r),(!(it&2)||t!==xn)&&(t===xn&&(!(it&2)&&(hm|=n),pn===4&&si(t,jn)),br(t,r),n===1&&it===0&&!(e.mode&1)&&(rc=Xt()+500,lm&&qi()))}function br(t,e){var n=t.callbackNode;q4(t,e);var r=qf(t,t===xn?jn:0);if(r===0)n!==null&&y_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&y_(n),e===1)t.tag===0?$L(uS.bind(null,t)):Ak(uS.bind(null,t)),VL(function(){!(it&6)&&qi()}),n=null;else{switch(ik(r)){case 1:n=Tx;break;case 4:n=rk;break;case 16:n=$f;break;case 536870912:n=sk;break;default:n=$f}n=jj(n,_j.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _j(t,e){if(vf=-1,yf=0,it&6)throw Error(se(327));var n=t.callbackNode;if(Bl()&&t.callbackNode!==n)return null;var r=qf(t,t===xn?jn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lp(t,r);else{e=r;var s=it;it|=2;var o=Ej();(xn!==t||jn!==e)&&(co=null,rc=Xt()+500,ba(t,e));do try{uF();break}catch(l){Sj(t,l)}while(1);Vx(),op.current=o,it=s,sn!==null?e=0:(xn=null,jn=0,e=pn)}if(e!==0){if(e===2&&(s=_0(t),s!==0&&(r=s,e=Q0(t,s))),e===1)throw n=ld,ba(t,0),si(t,r),br(t,Xt()),n;if(e===6)si(t,r);else{if(s=t.current.alternate,!(r&30)&&!lF(s)&&(e=lp(t,r),e===2&&(o=_0(t),o!==0&&(r=o,e=Q0(t,o))),e===1))throw n=ld,ba(t,0),si(t,r),br(t,Xt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:aa(t,pr,co);break;case 3:if(si(t,r),(r&130023424)===r&&(e=ew+500-Xt(),10<e)){if(qf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){or(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=P0(aa.bind(null,t,pr,co),e);break}aa(t,pr,co);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-gs(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aF(r/1960))-r,10<r){t.timeoutHandle=P0(aa.bind(null,t,pr,co),r);break}aa(t,pr,co);break;case 5:aa(t,pr,co);break;default:throw Error(se(329))}}}return br(t,Xt()),t.callbackNode===n?_j.bind(null,t):null}function Q0(t,e){var n=Iu;return t.current.memoizedState.isDehydrated&&(ba(t,e).flags|=256),t=lp(t,e),t!==2&&(e=pr,pr=n,e!==null&&X0(e)),t}function X0(t){pr===null?pr=t:pr.push.apply(pr,t)}function lF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!bs(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~Zx,e&=~hm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gs(e),r=1<<n;t[n]=-1,e&=~r}}function uS(t){if(it&6)throw Error(se(327));Bl();var e=qf(t,0);if(!(e&1))return br(t,Xt()),null;var n=lp(t,e);if(t.tag!==0&&n===2){var r=_0(t);r!==0&&(e=r,n=Q0(t,r))}if(n===1)throw n=ld,ba(t,0),si(t,e),br(t,Xt()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,aa(t,pr,co),br(t,Xt()),null}function tw(t,e){var n=it;it|=1;try{return t(e)}finally{it=n,it===0&&(rc=Xt()+500,lm&&qi())}}function Da(t){ui!==null&&ui.tag===0&&!(it&6)&&Bl();var e=it;it|=1;var n=Jr.transition,r=mt;try{if(Jr.transition=null,mt=1,t)return t()}finally{mt=r,Jr.transition=n,it=e,!(it&6)&&qi()}}function nw(){Pr=Pl.current,It(Pl)}function ba(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FL(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(Mx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yf();break;case 3:tc(),It(xr),It(Yn),Wx();break;case 5:qx(r);break;case 4:tc();break;case 13:It(Lt);break;case 19:It(Lt);break;case 10:zx(r.type._context);break;case 22:case 23:nw()}n=n.return}if(xn=t,sn=t=xi(t.current,null),jn=Pr=e,pn=0,ld=null,Zx=hm=Ra=0,pr=Iu=null,ga!==null){for(e=0;e<ga.length;e++)if(n=ga[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}ga=null}return t}function Sj(t,e){do{var n=sn;try{if(Vx(),pf.current=sp,rp){for(var r=Vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rp=!1}if(Ia=0,yn=dn=Vt=null,Pu=!1,od=0,Jx.current=null,n===null||n.return===null){pn=1,ld=e,sn=null;break}e:{var o=t,i=n.return,l=n,c=e;if(e=jn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=X_(i);if(m!==null){m.flags&=-257,J_(m,i,l,o,e),m.mode&1&&Q_(o,u,e),e=m,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){Q_(o,u,e),rw();break e}c=Error(se(426))}}else if(Dt&&l.mode&1){var S=X_(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),J_(S,i,l,o,e),Lx(nc(c,l));break e}}o=c=nc(c,l),pn!==4&&(pn=2),Iu===null?Iu=[o]:Iu.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=ij(o,c,e);q_(o,_);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(vi===null||!vi.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var j=aj(o,l,e);q_(o,j);break e}}o=o.return}while(o!==null)}Tj(n)}catch(R){e=R,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(1)}function Ej(){var t=op.current;return op.current=sp,t===null?sp:t}function rw(){(pn===0||pn===3||pn===2)&&(pn=4),xn===null||!(Ra&268435455)&&!(hm&268435455)||si(xn,jn)}function lp(t,e){var n=it;it|=2;var r=Ej();(xn!==t||jn!==e)&&(co=null,ba(t,e));do try{cF();break}catch(s){Sj(t,s)}while(1);if(Vx(),it=n,op.current=r,sn!==null)throw Error(se(261));return xn=null,jn=0,pn}function cF(){for(;sn!==null;)Cj(sn)}function uF(){for(;sn!==null&&!O4();)Cj(sn)}function Cj(t){var e=kj(t.alternate,t,Pr);t.memoizedProps=t.pendingProps,e===null?Tj(t):sn=e,Jx.current=null}function Tj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rF(n,e),n!==null){n.flags&=32767,sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pn=6,sn=null;return}}else if(n=nF(n,e,Pr),n!==null){sn=n;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);pn===0&&(pn=5)}function aa(t,e,n){var r=mt,s=Jr.transition;try{Jr.transition=null,mt=1,dF(t,e,n,r)}finally{Jr.transition=s,mt=r}return null}function dF(t,e,n,r){do Bl();while(ui!==null);if(it&6)throw Error(se(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(W4(t,o),t===xn&&(sn=xn=null,jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ih||(Ih=!0,jj($f,function(){return Bl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Jr.transition,Jr.transition=null;var i=mt;mt=1;var l=it;it|=4,Jx.current=null,oF(t,n),wj(n,t),AL(k0),Wf=!!N0,k0=N0=null,t.current=n,iF(n),M4(),it=l,mt=i,Jr.transition=o}else t.current=n;if(Ih&&(Ih=!1,ui=t,ap=s),o=t.pendingLanes,o===0&&(vi=null),V4(n.stateNode),br(t,Xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ip)throw ip=!1,t=K0,K0=null,t;return ap&1&&t.tag!==0&&Bl(),o=t.pendingLanes,o&1?t===Y0?Ru++:(Ru=0,Y0=t):Ru=0,qi(),null}function Bl(){if(ui!==null){var t=ik(ap),e=Jr.transition,n=mt;try{if(Jr.transition=null,mt=16>t?16:t,ui===null)var r=!1;else{if(t=ui,ui=null,ap=0,it&6)throw Error(se(331));var s=it;for(it|=4,xe=t.current;xe!==null;){var o=xe,i=o.child;if(xe.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(xe=u;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:Au(8,d,o)}var f=d.child;if(f!==null)f.return=d,xe=f;else for(;xe!==null;){d=xe;var p=d.sibling,m=d.return;if(vj(d),d===u){xe=null;break}if(p!==null){p.return=m,xe=p;break}xe=m}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}xe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,xe=i;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Au(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,xe=_;break e}xe=o.return}}var v=t.current;for(xe=v;xe!==null;){i=xe;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,xe=b;else e:for(i=v;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dm(9,l)}}catch(R){qt(l,l.return,R)}if(l===i){xe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,xe=j;break e}xe=l.return}}if(it=s,qi(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(rm,t)}catch{}r=!0}return r}finally{mt=n,Jr.transition=e}}return!1}function dS(t,e,n){e=nc(n,e),e=ij(t,e,1),t=gi(t,e,1),e=or(),t!==null&&(Ad(t,1,e),br(t,e))}function qt(t,e,n){if(t.tag===3)dS(t,t,n);else for(;e!==null;){if(e.tag===3){dS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){t=nc(n,t),t=aj(e,t,1),e=gi(e,t,1),t=or(),e!==null&&(Ad(e,1,t),br(e,t));break}}e=e.return}}function hF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=or(),t.pingedLanes|=t.suspendedLanes&n,xn===t&&(jn&n)===n&&(pn===4||pn===3&&(jn&130023424)===jn&&500>Xt()-ew?ba(t,0):Zx|=n),br(t,e)}function Nj(t,e){e===0&&(t.mode&1?(e=_h,_h<<=1,!(_h&130023424)&&(_h=4194304)):e=1);var n=or();t=No(t,e),t!==null&&(Ad(t,e,n),br(t,n))}function fF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Nj(t,n)}function pF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),Nj(t,n)}var kj;kj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xr.current)vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vr=!1,tF(t,e,n);vr=!!(t.flags&131072)}else vr=!1,Dt&&e.flags&1048576&&Ik(e,Jf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gf(t,e),t=e.pendingProps;var s=Jl(e,Yn.current);Ul(e,n),s=Gx(null,e,r,t,s,n);var o=Kx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(r)?(o=!0,Qf(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bx(e),s.updater=um,e.stateNode=s,s._reactInternals=e,L0(e,r,t,n),e=z0(null,e,r,!0,o,n)):(e.tag=0,Dt&&o&&Ox(e),sr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gF(r),t=us(r,t),s){case 0:e=V0(null,e,r,t,n);break e;case 1:e=tS(null,e,r,t,n);break e;case 11:e=Z_(null,e,r,t,n);break e;case 14:e=eS(null,e,r,us(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:us(r,s),V0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:us(r,s),tS(t,e,r,s,n);case 3:e:{if(dj(e),t===null)throw Error(se(387));r=e.pendingProps,o=e.memoizedState,s=o.element,Fk(t,e),tp(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=nc(Error(se(423)),e),e=nS(t,e,r,n,s);break e}else if(r!==s){s=nc(Error(se(424)),e),e=nS(t,e,r,n,s);break e}else for(Dr=mi(e.stateNode.containerInfo.firstChild),Mr=e,Dt=!0,hs=null,n=Mk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zl(),r===s){e=ko(t,e,n);break e}sr(t,e,r,n)}e=e.child}return e;case 5:return Vk(e),t===null&&D0(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,j0(r,s)?i=null:o!==null&&j0(r,o)&&(e.flags|=32),uj(t,e),sr(t,e,i,n),e.child;case 6:return t===null&&D0(e),null;case 13:return hj(t,e,n);case 4:return $x(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ec(e,null,r,n):sr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:us(r,s),Z_(t,e,r,s,n);case 7:return sr(t,e,e.pendingProps,n),e.child;case 8:return sr(t,e,e.pendingProps.children,n),e.child;case 12:return sr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,St(Zf,r._currentValue),r._currentValue=i,o!==null)if(bs(o.value,i)){if(o.children===s.children&&!xr.current){e=ko(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=xo(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),O0(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(se(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),O0(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}sr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ul(e,n),s=ts(s),r=r(s),e.flags|=1,sr(t,e,r,n),e.child;case 14:return r=e.type,s=us(r,e.pendingProps),s=us(r.type,s),eS(t,e,r,s,n);case 15:return lj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:us(r,s),gf(t,e),e.tag=1,wr(r)?(t=!0,Qf(e)):t=!1,Ul(e,n),oj(e,r,s),L0(e,r,s,n),z0(null,e,r,!0,t,n);case 19:return fj(t,e,n);case 22:return cj(t,e,n)}throw Error(se(156,e.tag))};function jj(t,e){return nk(t,e)}function mF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(t,e,n,r){return new mF(t,e,n,r)}function sw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gF(t){if(typeof t=="function")return sw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sx)return 11;if(t===Ex)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=Qr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xf(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")sw(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case wl:return _a(n.children,s,o,e);case _x:i=8,s|=8;break;case a0:return t=Qr(12,n,e,s|2),t.elementType=a0,t.lanes=o,t;case l0:return t=Qr(13,n,e,s),t.elementType=l0,t.lanes=o,t;case c0:return t=Qr(19,n,e,s),t.elementType=c0,t.lanes=o,t;case VN:return fm(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LN:i=10;break e;case FN:i=9;break e;case Sx:i=11;break e;case Ex:i=14;break e;case Zo:i=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=Qr(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function _a(t,e,n,r){return t=Qr(7,t,r,e),t.lanes=n,t}function fm(t,e,n,r){return t=Qr(22,t,r,e),t.elementType=VN,t.lanes=n,t.stateNode={isHidden:!1},t}function Zg(t,e,n){return t=Qr(6,t,null,e),t.lanes=n,t}function ev(t,e,n){return e=Qr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dg(0),this.expirationTimes=Dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ow(t,e,n,r,s,o,i,l,c){return t=new vF(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Qr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bx(o),t}function yF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Pj(t){if(!t)return ki;t=t._reactInternals;e:{if(Ja(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(wr(n))return Pk(t,n,e)}return e}function Aj(t,e,n,r,s,o,i,l,c){return t=ow(n,r,!0,t,s,o,i,l,c),t.context=Pj(null),n=t.current,r=or(),s=yi(n),o=xo(r,s),o.callback=e??null,gi(n,o,s),t.current.lanes=s,Ad(t,s,r),br(t,r),t}function pm(t,e,n,r){var s=e.current,o=or(),i=yi(s);return n=Pj(n),e.context===null?e.context=n:e.pendingContext=n,e=xo(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gi(s,e,i),t!==null&&(vs(t,s,i,o),ff(t,s,i)),i}function cp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iw(t,e){hS(t,e),(t=t.alternate)&&hS(t,e)}function xF(){return null}var Ij=typeof reportError=="function"?reportError:function(t){console.error(t)};function aw(t){this._internalRoot=t}mm.prototype.render=aw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));pm(t,e,null,null)};mm.prototype.unmount=aw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Da(function(){pm(null,t,null,null)}),e[To]=null}};function mm(t){this._internalRoot=t}mm.prototype.unstable_scheduleHydration=function(t){if(t){var e=ck();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ri.length&&e!==0&&e<ri[n].priority;n++);ri.splice(n,0,t),n===0&&dk(t)}};function lw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fS(){}function wF(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=cp(i);o.call(u)}}var i=Aj(e,r,t,0,null,!1,!1,"",fS);return t._reactRootContainer=i,t[To]=i.current,ed(t.nodeType===8?t.parentNode:t),Da(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=cp(c);l.call(u)}}var c=ow(t,0,!1,null,null,!1,!1,"",fS);return t._reactRootContainer=c,t[To]=c.current,ed(t.nodeType===8?t.parentNode:t),Da(function(){pm(e,c,n,r)}),c}function vm(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=cp(i);l.call(c)}}pm(e,i,t,s)}else i=wF(n,e,t,s,r);return cp(i)}ak=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mu(e.pendingLanes);n!==0&&(Nx(e,n|1),br(e,Xt()),!(it&6)&&(rc=Xt()+500,qi()))}break;case 13:Da(function(){var r=No(t,1);if(r!==null){var s=or();vs(r,t,1,s)}}),iw(t,1)}};kx=function(t){if(t.tag===13){var e=No(t,134217728);if(e!==null){var n=or();vs(e,t,134217728,n)}iw(t,134217728)}};lk=function(t){if(t.tag===13){var e=yi(t),n=No(t,e);if(n!==null){var r=or();vs(n,t,e,r)}iw(t,e)}};ck=function(){return mt};uk=function(t,e){var n=mt;try{return mt=t,e()}finally{mt=n}};x0=function(t,e,n){switch(e){case"input":if(h0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=am(r);if(!s)throw Error(se(90));UN(r),h0(r,s)}}}break;case"textarea":$N(t,n);break;case"select":e=n.value,e!=null&&Ll(t,!!n.multiple,e,!1)}};QN=tw;XN=Da;var bF={usingClientEntryPoint:!1,Events:[Rd,El,am,KN,YN,tw]},ru={findFiberByHostInstance:ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_F={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ek(t),t===null?null:t.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||xF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{rm=Rh.inject(_F),zs=Rh}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bF;Ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lw(e))throw Error(se(200));return yF(t,e,null,n)};Ur.createRoot=function(t,e){if(!lw(t))throw Error(se(299));var n=!1,r="",s=Ij;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ow(t,1,!1,null,null,n,!1,r,s),t[To]=e.current,ed(t.nodeType===8?t.parentNode:t),new aw(e)};Ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=ek(e),t=t===null?null:t.stateNode,t};Ur.flushSync=function(t){return Da(t)};Ur.hydrate=function(t,e,n){if(!gm(e))throw Error(se(200));return vm(null,t,e,!0,n)};Ur.hydrateRoot=function(t,e,n){if(!lw(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Ij;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=Aj(e,null,t,1,n??null,s,!1,o,i),t[To]=e.current,ed(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mm(e)};Ur.render=function(t,e,n){if(!gm(e))throw Error(se(200));return vm(null,t,e,!1,n)};Ur.unmountComponentAtNode=function(t){if(!gm(t))throw Error(se(40));return t._reactRootContainer?(Da(function(){vm(null,null,t,!1,function(){t._reactRootContainer=null,t[To]=null})}),!0):!1};Ur.unstable_batchedUpdates=tw;Ur.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gm(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return vm(t,e,n,!1,r)};Ur.version="18.3.1-next-f1338f8080-20240426";function Rj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rj)}catch(t){console.error(t)}}Rj(),RN.exports=Ur;var Ts=RN.exports;const SF=Qa(Ts);var pS=Ts;o0.createRoot=pS.createRoot,o0.hydrateRoot=pS.hydrateRoot;var Dj={exports:{}},EF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CF=EF,TF=CF;function Oj(){}function Mj(){}Mj.resetWarningCache=Oj;var NF=function(){function t(r,s,o,i,l,c){if(c!==TF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Mj,resetWarningCache:Oj};return n.PropTypes=n,n};Dj.exports=NF();var cw=Dj.exports;const je=Qa(cw);function kF(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Lj=g,jF=kF(Lj);function mS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var AF=!!(typeof window<"u"&&window.document&&window.document.createElement);function IF(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],l;function c(){l=t(i.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){PF(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=l;return l=void 0,i=[],y};var p=f.prototype;return p.UNSAFE_componentWillMount=function(){i.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var y=i.indexOf(this);i.splice(y,1),c()},p.render=function(){return jF.createElement(o,this.props)},f}(Lj.PureComponent);return mS(u,"displayName","SideEffect("+r(o)+")"),mS(u,"canUseDOM",AF),u}}var RF=IF;const DF=Qa(RF);var OF=typeof Element<"u",MF=typeof Map=="function",LF=typeof Set=="function",FF=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function wf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!wf(t[r],e[r]))return!1;return!0}var o;if(MF&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!wf(r.value[1],e.get(r.value[0])))return!1;return!0}if(LF&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(FF&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(OF&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!wf(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var VF=function(e,n){try{return wf(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const zF=Qa(VF);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var gS=Object.getOwnPropertySymbols,UF=Object.prototype.hasOwnProperty,BF=Object.prototype.propertyIsEnumerable;function $F(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function qF(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var WF=qF()?Object.assign:function(t,e){for(var n,r=$F(t),s,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var i in n)UF.call(n,i)&&(r[i]=n[i]);if(gS){s=gS(n);for(var l=0;l<s.length;l++)BF.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const HF=Qa(WF);var Sa={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},$e={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys($e).map(function(t){return $e[t]});var Rt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},up={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},cd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},GF=Object.keys(up).reduce(function(t,e){return t[up[e]]=e,t},{}),KF=[$e.NOSCRIPT,$e.SCRIPT,$e.STYLE],ps="data-react-helmet",YF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QF=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},XF=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),dr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JF=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},vS=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},ZF=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},J0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},eV=function(e){var n=$l(e,$e.TITLE),r=$l(e,cd.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=$l(e,cd.DEFAULT_TITLE);return n||s||void 0},tV=function(e){return $l(e,cd.ON_CHANGE_CLIENT_STATE)||function(){}},tv=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return dr({},r,s)},{})},nV=function(e,n){return n.filter(function(r){return typeof r[$e.BASE]<"u"}).map(function(r){return r[$e.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var o=Object.keys(s),i=0;i<o.length;i++){var l=o[i],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},su=function(e,n,r){var s={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&iV("Helmet: "+e+' should be of type "Array". Instead found type "'+YF(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,i){var l={};i.filter(function(p){for(var m=void 0,y=Object.keys(p),x=0;x<y.length;x++){var S=y[x],_=S.toLowerCase();n.indexOf(_)!==-1&&!(m===Rt.REL&&p[m].toLowerCase()==="canonical")&&!(_===Rt.REL&&p[_].toLowerCase()==="stylesheet")&&(m=_),n.indexOf(S)!==-1&&(S===Rt.INNER_HTML||S===Rt.CSS_TEXT||S===Rt.ITEM_PROP)&&(m=S)}if(!m||!p[m])return!1;var v=p[m].toLowerCase();return s[m]||(s[m]={}),l[m]||(l[m]={}),s[m][v]?!1:(l[m][v]=!0,!0)}).reverse().forEach(function(p){return o.push(p)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=HF({},s[d],l[d]);s[d]=f}return o},[]).reverse()},$l=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},rV=function(e){return{baseTag:nV([Rt.HREF,Rt.TARGET],e),bodyAttributes:tv(Sa.BODY,e),defer:$l(e,cd.DEFER),encode:$l(e,cd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:tv(Sa.HTML,e),linkTags:su($e.LINK,[Rt.REL,Rt.HREF],e),metaTags:su($e.META,[Rt.NAME,Rt.CHARSET,Rt.HTTPEQUIV,Rt.PROPERTY,Rt.ITEM_PROP],e),noscriptTags:su($e.NOSCRIPT,[Rt.INNER_HTML],e),onChangeClientState:tV(e),scriptTags:su($e.SCRIPT,[Rt.SRC,Rt.INNER_HTML],e),styleTags:su($e.STYLE,[Rt.CSS_TEXT],e),title:eV(e),titleAttributes:tv(Sa.TITLE,e)}},Z0=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Z0(e)},0)}}(),yS=function(e){return clearTimeout(e)},sV=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Z0:global.requestAnimationFrame||Z0,oV=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||yS:global.cancelAnimationFrame||yS,iV=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},ou=null,aV=function(e){ou&&oV(ou),e.defer?ou=sV(function(){xS(e,function(){ou=null})}):(xS(e),ou=null)},xS=function(e,n){var r=e.baseTag,s=e.bodyAttributes,o=e.htmlAttributes,i=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,p=e.title,m=e.titleAttributes;ey($e.BODY,s),ey($e.HTML,o),lV(p,m);var y={baseTag:cl($e.BASE,r),linkTags:cl($e.LINK,i),metaTags:cl($e.META,l),noscriptTags:cl($e.NOSCRIPT,c),scriptTags:cl($e.SCRIPT,d),styleTags:cl($e.STYLE,f)},x={},S={};Object.keys(y).forEach(function(_){var v=y[_],b=v.newTags,j=v.oldTags;b.length&&(x[_]=b),j.length&&(S[_]=y[_].oldTags)}),n&&n(),u(e,x,S)},Fj=function(e){return Array.isArray(e)?e.join(""):e},lV=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=Fj(e)),ey($e.TITLE,n)},ey=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(ps),o=s?s.split(","):[],i=[].concat(o),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),o.indexOf(u)===-1&&o.push(u);var f=i.indexOf(u);f!==-1&&i.splice(f,1)}for(var p=i.length-1;p>=0;p--)r.removeAttribute(i[p]);o.length===i.length?r.removeAttribute(ps):r.getAttribute(ps)!==l.join(",")&&r.setAttribute(ps,l.join(","))}},cl=function(e,n){var r=document.head||document.querySelector($e.HEAD),s=r.querySelectorAll(e+"["+ps+"]"),o=Array.prototype.slice.call(s),i=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Rt.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Rt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(ps,"true"),o.some(function(p,m){return l=m,u.isEqualNode(p)})?o.splice(l,1):i.push(u)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return r.appendChild(c)}),{oldTags:o,newTags:i}},Vj=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},cV=function(e,n,r,s){var o=Vj(r),i=Fj(n);return o?"<"+e+" "+ps+'="true" '+o+">"+J0(i,s)+"</"+e+">":"<"+e+" "+ps+'="true">'+J0(i,s)+"</"+e+">"},uV=function(e,n,r){return n.reduce(function(s,o){var i=Object.keys(o).filter(function(u){return!(u===Rt.INNER_HTML||u===Rt.CSS_TEXT)}).reduce(function(u,d){var f=typeof o[d]>"u"?d:d+'="'+J0(o[d],r)+'"';return u?u+" "+f:f},""),l=o.innerHTML||o.cssText||"",c=KF.indexOf(e)===-1;return s+"<"+e+" "+ps+'="true" '+i+(c?"/>":">"+l+"</"+e+">")},"")},zj=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[up[s]||s]=e[s],r},n)},dV=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[GF[s]||s]=e[s],r},n)},hV=function(e,n,r){var s,o=(s={key:n},s[ps]=!0,s),i=zj(r,o);return[Pe.createElement($e.TITLE,i,n)]},fV=function(e,n){return n.map(function(r,s){var o,i=(o={key:s},o[ps]=!0,o);return Object.keys(r).forEach(function(l){var c=up[l]||l;if(c===Rt.INNER_HTML||c===Rt.CSS_TEXT){var u=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[c]=r[l]}),Pe.createElement(e,i)})},io=function(e,n,r){switch(e){case $e.TITLE:return{toComponent:function(){return hV(e,n.title,n.titleAttributes)},toString:function(){return cV(e,n.title,n.titleAttributes,r)}};case Sa.BODY:case Sa.HTML:return{toComponent:function(){return zj(n)},toString:function(){return Vj(n)}};default:return{toComponent:function(){return fV(e,n)},toString:function(){return uV(e,n,r)}}}},Uj=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,o=e.htmlAttributes,i=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,f=e.title,p=f===void 0?"":f,m=e.titleAttributes;return{base:io($e.BASE,n,s),bodyAttributes:io(Sa.BODY,r,s),htmlAttributes:io(Sa.HTML,o,s),link:io($e.LINK,i,s),meta:io($e.META,l,s),noscript:io($e.NOSCRIPT,c,s),script:io($e.SCRIPT,u,s),style:io($e.STYLE,d,s),title:io($e.TITLE,{title:p,titleAttributes:m},s)}},pV=function(e){var n,r;return r=n=function(s){JF(o,s);function o(){return QF(this,o),ZF(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!zF(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case $e.SCRIPT:case $e.NOSCRIPT:return{innerHTML:c};case $e.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,p=l.nestedChildren;return dr({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[dr({},f,this.mapNestedChildrenToProps(u,p))]),c))},o.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,p=l.newChildProps,m=l.nestedChildren;switch(d.type){case $e.TITLE:return dr({},f,(c={},c[d.type]=m,c.titleAttributes=dr({},p),c));case $e.BODY:return dr({},f,{bodyAttributes:dr({},p)});case $e.HTML:return dr({},f,{htmlAttributes:dr({},p)})}return dr({},f,(u={},u[d.type]=dr({},p),u))},o.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=dr({},c);return Object.keys(l).forEach(function(d){var f;u=dr({},u,(f={},f[d]=l[d],f))}),u},o.prototype.warnOnInvalidChildren=function(l,c){return!0},o.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Pe.Children.forEach(l,function(f){if(!(!f||!f.props)){var p=f.props,m=p.children,y=vS(p,["children"]),x=dV(y);switch(u.warnOnInvalidChildren(f,m),f.type){case $e.LINK:case $e.META:case $e.NOSCRIPT:case $e.SCRIPT:case $e.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:x,nestedChildren:m});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:x,nestedChildren:m});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},o.prototype.render=function(){var l=this.props,c=l.children,u=vS(l,["children"]),d=dr({},u);return c&&(d=this.mapChildrenToProps(c,d)),Pe.createElement(e,d)},XF(o,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),o}(Pe.Component),n.propTypes={base:je.object,bodyAttributes:je.object,children:je.oneOfType([je.arrayOf(je.node),je.node]),defaultTitle:je.string,defer:je.bool,encodeSpecialCharacters:je.bool,htmlAttributes:je.object,link:je.arrayOf(je.object),meta:je.arrayOf(je.object),noscript:je.arrayOf(je.object),onChangeClientState:je.func,script:je.arrayOf(je.object),style:je.arrayOf(je.object),title:je.string,titleAttributes:je.object,titleTemplate:je.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=Uj({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},mV=function(){return null},gV=DF(rV,aV,Uj)(mV),ty=pV(gV);ty.renderStatic=ty.rewind;const Bj=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ym=g.createContext({}),xm=g.createContext(null),wm=typeof document<"u",uw=wm?g.useLayoutEffect:g.useEffect,$j=g.createContext({strict:!1}),dw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),vV="framerAppearId",qj="data-"+dw(vV);function yV(t,e,n,r){const{visualElement:s}=g.useContext(ym),o=g.useContext($j),i=g.useContext(xm),l=g.useContext(Bj).reducedMotion,c=g.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;g.useInsertionEffect(()=>{u&&u.update(n,i)});const d=g.useRef(!!(n[qj]&&!window.HandoffComplete));return uw(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Al(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xV(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Al(n)&&(n.current=r))},[e])}function ud(t){return typeof t=="string"||Array.isArray(t)}function bm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const hw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fw=["initial",...hw];function _m(t){return bm(t.animate)||fw.some(e=>ud(t[e]))}function Wj(t){return!!(_m(t)||t.variants)}function wV(t,e){if(_m(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ud(n)?n:void 0,animate:ud(r)?r:void 0}}return t.inherit!==!1?e:{}}function bV(t){const{initial:e,animate:n}=wV(t,g.useContext(ym));return g.useMemo(()=>({initial:e,animate:n}),[wS(e),wS(n)])}function wS(t){return Array.isArray(t)?t.join(" "):t}const bS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dd={};for(const t in bS)dd[t]={isEnabled:e=>bS[t].some(n=>!!e[n])};function _V(t){for(const e in t)dd[e]={...dd[e],...t[e]}}const pw=g.createContext({}),Hj=g.createContext({}),SV=Symbol.for("motionComponentSymbol");function EV({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&_V(t);function o(l,c){let u;const d={...g.useContext(Bj),...l,layoutId:CV(l)},{isStatic:f}=d,p=bV(l),m=r(l,f);if(!f&&wm){p.visualElement=yV(s,m,d,e);const y=g.useContext(Hj),x=g.useContext($j).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,x,t,y))}return g.createElement(ym.Provider,{value:p},u&&p.visualElement?g.createElement(u,{visualElement:p.visualElement,...d}):null,n(s,l,xV(m,p.visualElement,c),m,f,p.visualElement))}const i=g.forwardRef(o);return i[SV]=s,i}function CV({layoutId:t}){const e=g.useContext(pw).id;return e&&t!==void 0?e+"-"+t:t}function TV(t){function e(r,s={}){return EV(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const NV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mw(t){return typeof t!="string"||t.includes("-")?!1:!!(NV.indexOf(t)>-1||/[A-Z]/.test(t))}const dp={};function kV(t){Object.assign(dp,t)}const Od=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Za=new Set(Od);function Gj(t,{layout:e,layoutId:n}){return Za.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dp[t]||t==="opacity")}const Sr=t=>!!(t&&t.getVelocity),jV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PV=Od.length;function AV(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<PV;i++){const l=Od[i];if(t[l]!==void 0){const c=jV[l]||l;o+=`${c}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const Kj=t=>e=>typeof e=="string"&&e.startsWith(t),Yj=Kj("--"),ny=Kj("var(--"),IV=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,RV=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ji=(t,e,n)=>Math.min(Math.max(n,t),e),el={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Du={...el,transform:t=>ji(0,1,t)},Dh={...el,default:1},Ou=t=>Math.round(t*1e5)/1e5,Sm=/(-)?([\d]*\.?[\d])+/g,Qj=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,DV=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Md(t){return typeof t=="string"}const Ld=t=>({test:e=>Md(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xo=Ld("deg"),Bs=Ld("%"),Re=Ld("px"),OV=Ld("vh"),MV=Ld("vw"),_S={...Bs,parse:t=>Bs.parse(t)/100,transform:t=>Bs.transform(t*100)},SS={...el,transform:Math.round},Xj={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,size:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,rotate:Xo,rotateX:Xo,rotateY:Xo,rotateZ:Xo,scale:Dh,scaleX:Dh,scaleY:Dh,scaleZ:Dh,skew:Xo,skewX:Xo,skewY:Xo,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Du,originX:_S,originY:_S,originZ:Re,zIndex:SS,fillOpacity:Du,strokeOpacity:Du,numOctaves:SS};function gw(t,e,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const f in e){const p=e[f];if(Yj(f)){o[f]=p;continue}const m=Xj[f],y=RV(p,m);if(Za.has(f)){if(c=!0,i[f]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=y):s[f]=y}if(e.transform||(c||r?s.transform=AV(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${p} ${m}`}}const vw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jj(t,e,n){for(const r in e)!Sr(e[r])&&!Gj(r,n)&&(t[r]=e[r])}function LV({transformTemplate:t},e,n){return g.useMemo(()=>{const r=vw();return gw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function FV(t,e,n){const r=t.style||{},s={};return Jj(s,r,t),Object.assign(s,LV(t,e,n)),t.transformValues?t.transformValues(s):s}function VV(t,e,n){const r={},s=FV(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const zV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zV.has(t)}let Zj=t=>!hp(t);function UV(t){t&&(Zj=e=>e.startsWith("on")?!hp(e):t(e))}try{UV(require("@emotion/is-prop-valid").default)}catch{}function BV(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Zj(s)||n===!0&&hp(s)||!e&&!hp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function ES(t,e,n){return typeof t=="string"?t:Re.transform(e+n*t)}function $V(t,e,n){const r=ES(e,t.x,t.width),s=ES(n,t.y,t.height);return`${r} ${s}`}const qV={offset:"stroke-dashoffset",array:"stroke-dasharray"},WV={offset:"strokeDashoffset",array:"strokeDasharray"};function HV(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?qV:WV;t[o.offset]=Re.transform(-r);const i=Re.transform(e),l=Re.transform(n);t[o.array]=`${i} ${l}`}function yw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,p){if(gw(t,u,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:x}=t;m.transform&&(x&&(y.transform=m.transform),delete m.transform),x&&(s!==void 0||o!==void 0||y.transform)&&(y.transformOrigin=$V(x,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&HV(m,i,l,c,!1)}const eP=()=>({...vw(),attrs:{}}),xw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GV(t,e,n,r){const s=g.useMemo(()=>{const o=eP();return yw(o,e,{enableHardwareAcceleration:!1},xw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Jj(o,t.style,t),s.style={...o,...s.style}}return s}function KV(t=!1){return(n,r,s,{latestValues:o},i)=>{const c=(mw(n)?GV:VV)(r,o,i,n),d={...BV(r,typeof n=="string",t),...c,ref:s},{children:f}=r,p=g.useMemo(()=>Sr(f)?f.get():f,[f]);return g.createElement(n,{...d,children:p})}}function tP(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const nP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rP(t,e,n,r){tP(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(nP.has(s)?s:dw(s),e.attrs[s])}function ww(t,e){const{style:n}=t,r={};for(const s in n)(Sr(n[s])||e.style&&Sr(e.style[s])||Gj(s,t))&&(r[s]=n[s]);return r}function sP(t,e){const n=ww(t,e);for(const r in t)if(Sr(t[r])||Sr(e[r])){const s=Od.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function bw(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function oP(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const fp=t=>Array.isArray(t),YV=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),QV=t=>fp(t)?t[t.length-1]||0:t;function bf(t){const e=Sr(t)?t.get():t;return YV(e)?e.toValue():e}function XV({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const i={latestValues:JV(r,s,o,t),renderState:e()};return n&&(i.mount=l=>n(r,l,i)),i}const iP=t=>(e,n)=>{const r=g.useContext(ym),s=g.useContext(xm),o=()=>XV(t,e,r,s);return n?o():oP(o)};function JV(t,e,n,r){const s={},o=r(t,{});for(const p in o)s[p]=bf(o[p]);let{initial:i,animate:l}=t;const c=_m(t),u=Wj(t);e&&u&&!c&&t.inherit!==!1&&(i===void 0&&(i=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!bm(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=bw(t,m);if(!y)return;const{transitionEnd:x,transition:S,..._}=y;for(const v in _){let b=_[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(s[v]=b)}for(const v in x)s[v]=x[v]}),s}const Wt=t=>t;class CS{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function ZV(t){let e=new CS,n=new CS,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,p=f?e:n;return u&&i.add(c),p.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(c),i.has(d)&&(l.schedule(d),t())}s=!1,o&&(o=!1,l.process(c))}};return l}const Oh=["prepare","read","update","preRender","render","postRender"],e3=40;function t3(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Oh.reduce((f,p)=>(f[p]=ZV(()=>n=!0),f),{}),i=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,e3),1),s.timestamp=f,s.isProcessing=!0,Oh.forEach(i),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:Oh.reduce((f,p)=>{const m=o[p];return f[p]=(y,x=!1,S=!1)=>(n||c(),m.schedule(y,x,S)),f},{}),cancel:f=>Oh.forEach(p=>o[p].cancel(f)),state:s,steps:o}}const{schedule:Et,cancel:jo,state:Bn,steps:nv}=t3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wt,!0),n3={useVisualState:iP({scrapeMotionValuesFromProps:sP,createRenderState:eP,onMount:(t,e,{renderState:n,latestValues:r})=>{Et.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Et.render(()=>{yw(n,r,{enableHardwareAcceleration:!1},xw(e.tagName),t.transformTemplate),rP(e,n)})}})},r3={useVisualState:iP({scrapeMotionValuesFromProps:ww,createRenderState:vw})};function s3(t,{forwardMotionProps:e=!1},n,r){return{...mw(t)?n3:r3,preloadedFeatures:n,useRender:KV(e),createVisualElement:r,Component:t}}function po(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const aP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Em(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const o3=t=>e=>aP(e)&&t(e,Em(e));function wo(t,e,n,r){return po(t,e,o3(n),r)}const i3=(t,e)=>n=>e(t(n)),wi=(...t)=>t.reduce(i3);function lP(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const TS=lP("dragHorizontal"),NS=lP("dragVertical");function cP(t){let e=!1;if(t==="y")e=NS();else if(t==="x")e=TS();else{const n=TS(),r=NS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function uP(){const t=cP(!0);return t?(t(),!1):!0}class Wi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function kS(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||uP())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Et.update(()=>l[r](o,i))};return wo(t.current,n,s,{passive:!t.getProps()[r]})}class a3 extends Wi{mount(){this.unmount=wi(kS(this.node,!0),kS(this.node,!1))}unmount(){}}class l3 extends Wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wi(po(this.node.current,"focus",()=>this.onFocus()),po(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const dP=(t,e)=>e?t===e?!0:dP(t,e.parentElement):!1;function rv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Em(n))}class c3 extends Wi{constructor(){super(...arguments),this.removeStartListeners=Wt,this.removeEndListeners=Wt,this.removeAccessibleListeners=Wt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=wo(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Et.update(()=>{!f&&!dP(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=wo(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wi(o,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||rv("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Et.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=po(this.node.current,"keyup",i),rv("down",(l,c)=>{this.startPress(l,c)})},n=po(this.node.current,"keydown",e),r=()=>{this.isPressing&&rv("cancel",(o,i)=>this.cancelPress(o,i))},s=po(this.node.current,"blur",r);this.removeAccessibleListeners=wi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Et.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!uP()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Et.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=wo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=po(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ry=new WeakMap,sv=new WeakMap,u3=t=>{const e=ry.get(t.target);e&&e(t)},d3=t=>{t.forEach(u3)};function h3({root:t,...e}){const n=t||document;sv.has(n)||sv.set(n,{});const r=sv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(d3,{root:t,...e})),r[s]}function f3(t,e,n){const r=h3(e);return ry.set(t,n),r.observe(t),()=>{ry.delete(t),r.unobserve(t)}}const p3={some:0,all:1};class m3 extends Wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:p3[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return f3(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(g3(e,n))&&this.startObserver()}unmount(){}}function g3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const v3={inView:{Feature:m3},tap:{Feature:c3},focus:{Feature:l3},hover:{Feature:a3}};function hP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function y3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function x3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Cm(t,e,n){const r=t.getProps();return bw(r,e,n!==void 0?n:r.custom,y3(t),x3(t))}let w3=Wt,_w=Wt;const bi=t=>t*1e3,bo=t=>t/1e3,b3={current:!1},fP=t=>Array.isArray(t)&&typeof t[0]=="number";function pP(t){return!!(!t||typeof t=="string"&&mP[t]||fP(t)||Array.isArray(t)&&t.every(pP))}const vu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vu([0,.65,.55,1]),circOut:vu([.55,0,1,.45]),backIn:vu([.31,.01,.66,-.59]),backOut:vu([.33,1.53,.69,.99])};function gP(t){if(t)return fP(t)?vu(t):Array.isArray(t)?t.map(gP):mP[t]}function _3(t,e,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=gP(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function S3(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const vP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,E3=1e-7,C3=12;function T3(t,e,n,r,s){let o,i,l=0;do i=e+(n-e)/2,o=vP(i,r,s)-t,o>0?n=i:e=i;while(Math.abs(o)>E3&&++l<C3);return i}function Fd(t,e,n,r){if(t===e&&n===r)return Wt;const s=o=>T3(o,0,1,t,n);return o=>o===0||o===1?o:vP(s(o),e,r)}const N3=Fd(.42,0,1,1),k3=Fd(0,0,.58,1),yP=Fd(.42,0,.58,1),j3=t=>Array.isArray(t)&&typeof t[0]!="number",xP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wP=t=>e=>1-t(1-e),Sw=t=>1-Math.sin(Math.acos(t)),bP=wP(Sw),P3=xP(Sw),_P=Fd(.33,1.53,.69,.99),Ew=wP(_P),A3=xP(Ew),I3=t=>(t*=2)<1?.5*Ew(t):.5*(2-Math.pow(2,-10*(t-1))),R3={linear:Wt,easeIn:N3,easeInOut:yP,easeOut:k3,circIn:Sw,circInOut:P3,circOut:bP,backIn:Ew,backInOut:A3,backOut:_P,anticipate:I3},jS=t=>{if(Array.isArray(t)){_w(t.length===4);const[e,n,r,s]=t;return Fd(e,n,r,s)}else if(typeof t=="string")return R3[t];return t},Cw=(t,e)=>n=>!!(Md(n)&&DV.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),SP=(t,e,n)=>r=>{if(!Md(r))return r;const[s,o,i,l]=r.match(Sm);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},D3=t=>ji(0,255,t),ov={...el,transform:t=>Math.round(D3(t))},ya={test:Cw("rgb","red"),parse:SP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ov.transform(t)+", "+ov.transform(e)+", "+ov.transform(n)+", "+Ou(Du.transform(r))+")"};function O3(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const sy={test:Cw("#"),parse:O3,transform:ya.transform},Il={test:Cw("hsl","hue"),parse:SP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bs.transform(Ou(e))+", "+Bs.transform(Ou(n))+", "+Ou(Du.transform(r))+")"},nr={test:t=>ya.test(t)||sy.test(t)||Il.test(t),parse:t=>ya.test(t)?ya.parse(t):Il.test(t)?Il.parse(t):sy.parse(t),transform:t=>Md(t)?t:t.hasOwnProperty("red")?ya.transform(t):Il.transform(t)},Ft=(t,e,n)=>-n*t+n*e+t;function iv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function M3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,i=0;if(!e)s=o=i=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=iv(c,l,t+1/3),o=iv(c,l,t),i=iv(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const av=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},L3=[sy,ya,Il],F3=t=>L3.find(e=>e.test(t));function PS(t){const e=F3(t);let n=e.parse(t);return e===Il&&(n=M3(n)),n}const EP=(t,e)=>{const n=PS(t),r=PS(e),s={...n};return o=>(s.red=av(n.red,r.red,o),s.green=av(n.green,r.green,o),s.blue=av(n.blue,r.blue,o),s.alpha=Ft(n.alpha,r.alpha,o),ya.transform(s))};function V3(t){var e,n;return isNaN(t)&&Md(t)&&(((e=t.match(Sm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Qj))===null||n===void 0?void 0:n.length)||0)>0}const CP={regex:IV,countKey:"Vars",token:"${v}",parse:Wt},TP={regex:Qj,countKey:"Colors",token:"${c}",parse:nr.parse},NP={regex:Sm,countKey:"Numbers",token:"${n}",parse:el.parse};function lv(t,{regex:e,countKey:n,token:r,parse:s}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(s)))}function pp(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&lv(n,CP),lv(n,TP),lv(n,NP),n}function kP(t){return pp(t).values}function jP(t){const{values:e,numColors:n,numVars:r,tokenised:s}=pp(t),o=e.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(CP.token,i[c]):c<r+n?l=l.replace(TP.token,nr.transform(i[c])):l=l.replace(NP.token,Ou(i[c]));return l}}const z3=t=>typeof t=="number"?0:t;function U3(t){const e=kP(t);return jP(t)(e.map(z3))}const Pi={test:V3,parse:kP,createTransformer:jP,getAnimatableNone:U3},PP=(t,e)=>n=>`${n>0?e:t}`;function AP(t,e){return typeof t=="number"?n=>Ft(t,e,n):nr.test(t)?EP(t,e):t.startsWith("var(")?PP(t,e):RP(t,e)}const IP=(t,e)=>{const n=[...t],r=n.length,s=t.map((o,i)=>AP(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},B3=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=AP(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},RP=(t,e)=>{const n=Pi.createTransformer(e),r=pp(t),s=pp(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?wi(IP(r.values,s.values),n):PP(t,e)},hd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},AS=(t,e)=>n=>Ft(t,e,n);function $3(t){return typeof t=="number"?AS:typeof t=="string"?nr.test(t)?EP:RP:Array.isArray(t)?IP:typeof t=="object"?B3:AS}function q3(t,e,n){const r=[],s=n||$3(t[0]),o=t.length-1;for(let i=0;i<o;i++){let l=s(t[i],t[i+1]);if(e){const c=Array.isArray(e)?e[i]||Wt:e;l=wi(c,l)}r.push(l)}return r}function DP(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(_w(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=q3(e,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=hd(t[d],t[d+1],u);return i[d](f)};return n?u=>c(ji(t[0],t[o-1],u)):c}function W3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=hd(0,e,r);t.push(Ft(n,1,s))}}function H3(t){const e=[0];return W3(e,t.length-1),e}function G3(t,e){return t.map(n=>n*e)}function K3(t,e){return t.map(()=>e||yP).splice(0,t.length-1)}function mp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=j3(r)?r.map(jS):jS(r),o={done:!1,value:e[0]},i=G3(n&&n.length===e.length?n:H3(e),t),l=DP(i,e,{ease:Array.isArray(s)?s:K3(e,s)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}function OP(t,e){return e?t*(1e3/e):0}const Y3=5;function MP(t,e,n){const r=Math.max(e-Y3,0);return OP(n-t(r),e-r)}const cv=.001,Q3=.01,IS=10,X3=.05,J3=1;function Z3({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o;w3(t<=bi(IS));let i=1-e;i=ji(X3,J3,i),t=ji(Q3,IS,bo(t)),i<1?(s=u=>{const d=u*i,f=d*t,p=d-n,m=oy(u,i),y=Math.exp(-f);return cv-p/m*y},o=u=>{const f=u*i*t,p=f*n+n,m=Math.pow(i,2)*Math.pow(u,2)*t,y=Math.exp(-f),x=oy(Math.pow(u,2),i);return(-s(u)+cv>0?-1:1)*((p-m)*y)/x}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-cv+d*f},o=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=t5(s,o,l);if(t=bi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const e5=12;function t5(t,e,n){let r=n;for(let s=1;s<e5;s++)r=r-t(r)/e(r);return r}function oy(t,e){return t*Math.sqrt(1-e*e)}const n5=["duration","bounce"],r5=["stiffness","damping","mass"];function RS(t,e){return e.some(n=>t[n]!==void 0)}function s5(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!RS(t,r5)&&RS(t,n5)){const n=Z3(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function LP({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=s5({...r,velocity:-bo(r.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(l*u)),x=o-s,S=bo(Math.sqrt(l/u)),_=Math.abs(x)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let v;if(y<1){const b=oy(S,y);v=j=>{const R=Math.exp(-y*S*j);return o-R*((m+y*S*x)/b*Math.sin(b*j)+x*Math.cos(b*j))}}else if(y===1)v=b=>o-Math.exp(-S*b)*(x+(m+S*x)*b);else{const b=S*Math.sqrt(y*y-1);v=j=>{const R=Math.exp(-y*S*j),F=Math.min(b*j,300);return o-R*((m+y*S*x)*Math.sinh(F)+b*x*Math.cosh(F))/b}}return{calculatedDuration:p&&d||null,next:b=>{const j=v(b);if(p)i.done=b>=d;else{let R=m;b!==0&&(y<1?R=MP(v,b,j):R=0);const F=Math.abs(R)<=n,E=Math.abs(o-j)<=e;i.done=F&&E}return i.value=i.done?o:j,i}}}function DS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=T=>l!==void 0&&T<l||c!==void 0&&T>c,y=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let x=n*e;const S=f+x,_=i===void 0?S:i(S);_!==S&&(x=_-f);const v=T=>-x*Math.exp(-T/r),b=T=>_+v(T),j=T=>{const A=v(T),I=b(T);p.done=Math.abs(A)<=u,p.value=p.done?_:I};let R,F;const E=T=>{m(p.value)&&(R=T,F=LP({keyframes:[p.value,y(p.value)],velocity:MP(b,T,p.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:T=>{let A=!1;return!F&&R===void 0&&(A=!0,j(T),E(T)),R!==void 0&&T>R?F.next(T-R):(!A&&j(T),p)}}}const o5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Et.update(e,!0),stop:()=>jo(e),now:()=>Bn.isProcessing?Bn.timestamp:performance.now()}},OS=2e4;function MS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<OS;)e+=n,r=t.next(e);return e>=OS?1/0:e}const i5={decay:DS,inertia:DS,tween:mp,keyframes:mp,spring:LP};function gp({autoplay:t=!0,delay:e=0,driver:n=o5,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,y=!1,x,S;const _=()=>{S=new Promise(K=>{x=K})};_();let v;const b=i5[s]||mp;let j;b!==mp&&typeof r[0]!="number"&&(j=DP([0,100],r,{clamp:!1}),r=[0,100]);const R=b({...p,keyframes:r});let F;l==="mirror"&&(F=b({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",T=null,A=null,I=null;R.calculatedDuration===null&&o&&(R.calculatedDuration=MS(R));const{calculatedDuration:k}=R;let N=1/0,P=1/0;k!==null&&(N=k+i,P=N*(o+1)-i);let D=0;const L=K=>{if(A===null)return;m>0&&(A=Math.min(A,K)),m<0&&(A=Math.min(K-P/m,A)),T!==null?D=T:D=Math.round(K-A)*m;const ie=D-e*(m>=0?1:-1),ae=m>=0?ie<0:ie>P;D=Math.max(ie,0),E==="finished"&&T===null&&(D=P);let me=D,Ue=R;if(o){const Ke=Math.min(D,P)/N;let q=Math.floor(Ke),ce=Ke%1;!ce&&Ke>=1&&(ce=1),ce===1&&q--,q=Math.min(q,o+1),!!(q%2)&&(l==="reverse"?(ce=1-ce,i&&(ce-=i/N)):l==="mirror"&&(Ue=F)),me=ji(0,1,ce)*N}const Ae=ae?{done:!1,value:r[0]}:Ue.next(me);j&&(Ae.value=j(Ae.value));let{done:le}=Ae;!ae&&k!==null&&(le=m>=0?D>=P:D<=0);const Ie=T===null&&(E==="finished"||E==="running"&&le);return f&&f(Ae.value),Ie&&M(),Ae},B=()=>{v&&v.stop(),v=void 0},$=()=>{E="idle",B(),x(),_(),A=I=null},M=()=>{E="finished",d&&d(),B(),x()},V=()=>{if(y)return;v||(v=n(L));const K=v.now();c&&c(),T!==null?A=K-T:(!A||E==="finished")&&(A=K),E==="finished"&&_(),I=A,T=null,E="running",v.start()};t&&V();const G={then(K,ie){return S.then(K,ie)},get time(){return bo(D)},set time(K){K=bi(K),D=K,T!==null||!v||m===0?T=K:A=v.now()-K/m},get duration(){const K=R.calculatedDuration===null?MS(R):R.calculatedDuration;return bo(K)},get speed(){return m},set speed(K){K===m||!v||(m=K,G.time=bo(D))},get state(){return E},play:V,pause:()=>{E="paused",T=D},stop:()=>{y=!0,E!=="idle"&&(E="idle",u&&u(),$())},cancel:()=>{I!==null&&L(I),$()},complete:()=>{E="finished"},sample:K=>(A=0,L(K))};return G}function a5(t){let e;return()=>(e===void 0&&(e=t()),e)}const l5=a5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),c5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Mh=10,u5=2e4,d5=(t,e)=>e.type==="spring"||t==="backgroundColor"||!pP(e.ease);function h5(t,e,{onUpdate:n,onComplete:r,...s}){if(!(l5()&&c5.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:f,duration:p=300,ease:m,times:y}=s;if(d5(e,s)){const b=gp({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const R=[];let F=0;for(;!j.done&&F<u5;)j=b.sample(F),R.push(j.value),F+=Mh;y=void 0,f=R,p=F-Mh,m="linear"}const x=_3(t.owner.current,e,f,{...s,duration:p,ease:m,times:y}),S=()=>{u=!1,x.cancel()},_=()=>{u=!0,Et.update(S),l(),d()};return x.onfinish=()=>{u||(t.set(S3(f,s)),r&&r(),_())},{then(b,j){return c.then(b,j)},attachTimeline(b){return x.timeline=b,x.onfinish=null,Wt},get time(){return bo(x.currentTime||0)},set time(b){x.currentTime=bi(b)},get speed(){return x.playbackRate},set speed(b){x.playbackRate=b},get duration(){return bo(p)},play:()=>{i||(x.play(),jo(S))},pause:()=>x.pause(),stop:()=>{if(i=!0,x.playState==="idle")return;const{currentTime:b}=x;if(b){const j=gp({...s,autoplay:!1});t.setWithVelocity(j.sample(b-Mh).value,j.sample(b).value,Mh)}_()},complete:()=>{u||x.finish()},cancel:_}}function f5({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Wt,pause:Wt,stop:Wt,then:o=>(o(),Promise.resolve()),cancel:Wt,complete:Wt});return e?gp({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const p5={type:"spring",stiffness:500,damping:25,restSpeed:10},m5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),g5={type:"keyframes",duration:.8},v5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},y5=(t,{keyframes:e})=>e.length>2?g5:Za.has(t)?t.startsWith("scale")?m5(e[1]):p5:v5,iy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pi.test(e)||e==="0")&&!e.startsWith("url(")),x5=new Set(["brightness","contrast","saturate","opacity"]);function w5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Sm)||[];if(!r)return t;const s=n.replace(r,"");let o=x5.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const b5=/([a-z-]*)\(.*?\)/g,ay={...Pi,getAnimatableNone:t=>{const e=t.match(b5);return e?e.map(w5).join(" "):t}},_5={...Xj,color:nr,backgroundColor:nr,outlineColor:nr,fill:nr,stroke:nr,borderColor:nr,borderTopColor:nr,borderRightColor:nr,borderBottomColor:nr,borderLeftColor:nr,filter:ay,WebkitFilter:ay},Tw=t=>_5[t];function FP(t,e){let n=Tw(t);return n!==ay&&(n=Pi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VP=t=>/^0[^.\s]+$/.test(t);function S5(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||VP(t)}function E5(t,e,n,r){const s=iy(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:t.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),S5(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=FP(e,l)}return o}function C5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Nw(t,e){return t[e]||t.default||t}const T5={skipAnimations:!1},kw=(t,e,n,r={})=>s=>{const o=Nw(r,t)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-bi(i);const c=E5(e,t,n,o),u=c[0],d=c[c.length-1],f=iy(t,u),p=iy(t,d);let m={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:y=>{e.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(C5(o)||(m={...m,...y5(t,m)}),m.duration&&(m.duration=bi(m.duration)),m.repeatDelay&&(m.repeatDelay=bi(m.repeatDelay)),!f||!p||b3.current||o.type===!1||T5.skipAnimations)return f5(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=h5(e,t,m);if(y)return y}return gp(m)};function vp(t){return!!(Sr(t)&&t.add)}const zP=t=>/^\-?\d*\.?\d+$/.test(t);function jw(t,e){t.indexOf(e)===-1&&t.push(e)}function Pw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Aw{constructor(){this.subscriptions=[]}add(e){return jw(this.subscriptions,e),()=>Pw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const N5=t=>!isNaN(parseFloat(t));class k5{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=Bn;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,Et.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Et.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=N5(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Aw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?OP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sc(t,e){return new k5(t,e)}const UP=t=>e=>e.test(t),j5={test:t=>t==="auto",parse:t=>t},BP=[el,Re,Bs,Xo,MV,OV,j5],iu=t=>BP.find(UP(t)),P5=[...BP,nr,Pi],A5=t=>P5.find(UP(t));function I5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,sc(n))}function R5(t,e){const n=Cm(t,e);let{transitionEnd:r={},transition:s={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=QV(o[i]);I5(t,i,l)}}function D5(t,e,n){var r,s;const o=Object.keys(e).filter(l=>!t.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),d!=null&&(typeof d=="string"&&(zP(d)||VP(d))?d=parseFloat(d):!A5(d)&&Pi.test(u)&&(d=FP(c,u)),t.addValue(c,sc(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function O5(t,e){return e?(e[t]||e.default||e).from:void 0}function M5(t,e,n){const r={};for(const s in t){const o=O5(s,e);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function L5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function F5(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function $P(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const p=t.getValue(f),m=l[f];if(!p||m===void 0||d&&L5(d,f))continue;const y={delay:n,elapsed:0,...Nw(o||{},f)};if(window.HandoffAppearAnimations){const _=t.getProps()[qj];if(_){const v=window.HandoffAppearAnimations(_,f,p,Et);v!==null&&(y.elapsed=v,y.isHandoff=!0)}}let x=!y.isHandoff&&!F5(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(x=!1),p.animation&&(x=!1),x)continue;p.start(kw(f,p,m,t.shouldReduceMotion&&Za.has(f)?{type:!1}:y));const S=p.animation;vp(c)&&(c.add(f),S.then(()=>c.remove(f))),u.push(S)}return i&&Promise.all(u).then(()=>{i&&R5(t,i)}),u}function ly(t,e,n={}){const r=Cm(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all($P(t,r,n)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return V5(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function V5(t,e,n=0,r=0,s=1,o){const i=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(z5).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(ly(u,e,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function z5(t,e){return t.sortNodePosition(e)}function U5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>ly(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=ly(t,e,n);else{const s=typeof e=="function"?Cm(t,e,n.custom):e;r=Promise.all($P(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const B5=[...hw].reverse(),$5=hw.length;function q5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>U5(t,n,r)))}function W5(t){let e=q5(t);const n=G5();let r=!0;const s=(c,u)=>{const d=Cm(t,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function o(c){e=c(t)}function i(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},p=[],m=new Set;let y={},x=1/0;for(let _=0;_<$5;_++){const v=B5[_],b=n[v],j=d[v]!==void 0?d[v]:f[v],R=ud(j),F=v===u?b.isActive:null;F===!1&&(x=_);let E=j===f[v]&&j!==d[v]&&R;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...y},!b.isActive&&F===null||!j&&!b.prevProp||bm(j)||typeof j=="boolean")continue;let A=H5(b.prevProp,j)||v===u&&b.isActive&&!E&&R||_>x&&R,I=!1;const k=Array.isArray(j)?j:[j];let N=k.reduce(s,{});F===!1&&(N={});const{prevResolvedValues:P={}}=b,D={...P,...N},L=B=>{A=!0,m.has(B)&&(I=!0,m.delete(B)),b.needsAnimating[B]=!0};for(const B in D){const $=N[B],M=P[B];if(y.hasOwnProperty(B))continue;let V=!1;fp($)&&fp(M)?V=!hP($,M):V=$!==M,V?$!==void 0?L(B):m.add(B):$!==void 0&&m.has(B)?L(B):b.protectedKeys[B]=!0}b.prevProp=j,b.prevResolvedValues=N,b.isActive&&(y={...y,...N}),r&&t.blockInitialAnimation&&(A=!1),A&&(!E||I)&&p.push(...k.map(B=>({animation:B,options:{type:v,...c}})))}if(m.size){const _={};m.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(_[v]=b)}),p.push({animation:_})}let S=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const p=i(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function H5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hP(e,t):!1}function sa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function G5(){return{animate:sa(!0),whileInView:sa(),whileHover:sa(),whileTap:sa(),whileDrag:sa(),whileFocus:sa(),exit:sa()}}class K5 extends Wi{constructor(e){super(e),e.animationState||(e.animationState=W5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),bm(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Y5=0;class Q5 extends Wi{constructor(){super(...arguments),this.id=Y5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const X5={animation:{Feature:K5},exit:{Feature:Q5}},LS=(t,e)=>Math.abs(t-e);function J5(t,e){const n=LS(t.x,e.x),r=LS(t.y,e.y);return Math.sqrt(n**2+r**2)}class qP{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=dv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=J5(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=f,{timestamp:x}=Bn;this.history.push({...y,timestamp:x});const{onStart:S,onMove:_}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=uv(p,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=dv(f.type==="pointercancel"?this.lastMoveEventInfo:uv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,S),y&&y(f,S)},!aP(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=Em(e),l=uv(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Bn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,dv(l,this.history)),this.removeListeners=wi(wo(this.contextWindow,"pointermove",this.handlePointerMove),wo(this.contextWindow,"pointerup",this.handlePointerUp),wo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jo(this.updatePoint)}}function uv(t,e){return e?{point:e(t.point)}:t}function FS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dv({point:t},e){return{point:t,delta:FS(t,WP(e)),offset:FS(t,Z5(e)),velocity:e6(e,.1)}}function Z5(t){return t[0]}function WP(t){return t[t.length-1]}function e6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=WP(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>bi(e)));)n--;if(!r)return{x:0,y:0};const o=bo(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function zr(t){return t.max-t.min}function cy(t,e=0,n=.01){return Math.abs(t-e)<=n}function VS(t,e,n,r=.5){t.origin=r,t.originPoint=Ft(e.min,e.max,t.origin),t.scale=zr(n)/zr(e),(cy(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ft(n.min,n.max,t.origin)-t.originPoint,(cy(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Mu(t,e,n,r){VS(t.x,e.x,n.x,r?r.originX:void 0),VS(t.y,e.y,n.y,r?r.originY:void 0)}function zS(t,e,n){t.min=n.min+e.min,t.max=t.min+zr(e)}function t6(t,e,n){zS(t.x,e.x,n.x),zS(t.y,e.y,n.y)}function US(t,e,n){t.min=e.min-n.min,t.max=t.min+zr(e)}function Lu(t,e,n){US(t.x,e.x,n.x),US(t.y,e.y,n.y)}function n6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ft(n,t,r.max):Math.min(t,n)),t}function BS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function r6(t,{top:e,left:n,bottom:r,right:s}){return{x:BS(t.x,n,s),y:BS(t.y,e,r)}}function $S(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function s6(t,e){return{x:$S(t.x,e.x),y:$S(t.y,e.y)}}function o6(t,e){let n=.5;const r=zr(t),s=zr(e);return s>r?n=hd(e.min,e.max-r,t.min):r>s&&(n=hd(t.min,t.max-s,e.min)),ji(0,1,n)}function i6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uy=.35;function a6(t=uy){return t===!1?t=0:t===!0&&(t=uy),{x:qS(t,"left","right"),y:qS(t,"top","bottom")}}function qS(t,e,n){return{min:WS(t,e),max:WS(t,n)}}function WS(t,e){return typeof t=="number"?t:t[e]||0}const HS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rl=()=>({x:HS(),y:HS()}),GS=()=>({min:0,max:0}),tn=()=>({x:GS(),y:GS()});function Hr(t){return[t("x"),t("y")]}function HP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function l6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hv(t){return t===void 0||t===1}function dy({scale:t,scaleX:e,scaleY:n}){return!hv(t)||!hv(e)||!hv(n)}function la(t){return dy(t)||GP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function GP(t){return KS(t.x)||KS(t.y)}function KS(t){return t&&t!=="0%"}function yp(t,e,n){const r=t-n,s=e*r;return n+s}function YS(t,e,n,r,s){return s!==void 0&&(t=yp(t,s,r)),yp(t,n,r)+e}function hy(t,e=0,n=1,r,s){t.min=YS(t.min,e,n,r,s),t.max=YS(t.max,e,n,r,s)}function KP(t,{x:e,y:n}){hy(t.x,e.translate,e.scale,e.originPoint),hy(t.y,n.translate,n.scale,n.originPoint)}function u6(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Dl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,KP(t,i)),r&&la(o.latestValues)&&Dl(t,o.latestValues))}e.x=QS(e.x),e.y=QS(e.y)}function QS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ti(t,e){t.min=t.min+e,t.max=t.max+e}function XS(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,i=Ft(t.min,t.max,o);hy(t,e[n],e[r],i,e.scale)}const d6=["x","scaleX","originX"],h6=["y","scaleY","originY"];function Dl(t,e){XS(t.x,e,d6),XS(t.y,e,h6)}function YP(t,e){return HP(c6(t.getBoundingClientRect(),e))}function f6(t,e,n){const r=YP(t,n),{scroll:s}=e;return s&&(ti(r.x,s.offset.x),ti(r.y,s.offset.y)),r}const QP=({current:t})=>t?t.ownerDocument.defaultView:null,p6=new WeakMap;class m6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Em(d,"page").point)},o=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=cP(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hr(S=>{let _=this.getAxisMotionValue(S).get()||0;if(Bs.test(_)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[S];b&&(_=zr(b)*(parseFloat(_)/100))}}this.originPoint[S]=_}),y&&Et.update(()=>y(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=f;if(m&&this.currentDirection===null){this.currentDirection=g6(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Hr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new qP(e,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:QP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Et.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Lh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=n6(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Al(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=r6(s.layoutBox,n):this.constraints=!1,this.elastic=a6(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hr(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=i6(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Al(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=f6(r,s.root,this.visualElement.getTransformPagePoint());let i=s6(s.layout.layoutBox,o);if(n){const l=n(l6(i));this.hasMutatedConstraints=!!l,l&&(i=HP(l))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Hr(d=>{if(!Lh(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(kw(e,r,0,n))}stopAnimation(){Hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hr(n=>{const{drag:r}=this.getProps();if(!Lh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(e[n]-Ft(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Al(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hr(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=o6({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hr(i=>{if(!Lh(i,e,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Ft(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;p6.set(this.visualElement,this);const e=this.visualElement.current,n=wo(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Al(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=po(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=uy,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Lh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function g6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class v6 extends Wi{constructor(e){super(e),this.removeGroupControls=Wt,this.removeListeners=Wt,this.controls=new m6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const JS=t=>(e,n)=>{t&&Et.update(()=>t(e,n))};class y6 extends Wi{constructor(){super(...arguments),this.removePointerDownListener=Wt}onPointerDown(e){this.session=new qP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:JS(e),onStart:JS(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&Et.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=wo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function x6(){const t=g.useContext(xm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=g.useId();return g.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const _f={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const au={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=ZS(t,e.target.x),r=ZS(t,e.target.y);return`${n}% ${r}%`}},w6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Pi.parse(t);if(s.length>5)return r;const o=Pi.createTransformer(t),i=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+i]/=l,s[1+i]/=c;const u=Ft(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class b6 extends Pe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;kV(_6),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),_f.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Et.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XP(t){const[e,n]=x6(),r=g.useContext(pw);return Pe.createElement(b6,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(Hj),isPresent:e,safeToRemove:n})}const _6={borderRadius:{...au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:au,borderTopRightRadius:au,borderBottomLeftRadius:au,borderBottomRightRadius:au,boxShadow:w6},JP=["TopLeft","TopRight","BottomLeft","BottomRight"],S6=JP.length,eE=t=>typeof t=="string"?parseFloat(t):t,tE=t=>typeof t=="number"||Re.test(t);function E6(t,e,n,r,s,o){s?(t.opacity=Ft(0,n.opacity!==void 0?n.opacity:1,C6(r)),t.opacityExit=Ft(e.opacity!==void 0?e.opacity:1,0,T6(r))):o&&(t.opacity=Ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<S6;i++){const l=`border${JP[i]}Radius`;let c=nE(e,l),u=nE(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||tE(c)===tE(u)?(t[l]=Math.max(Ft(eE(c),eE(u),r),0),(Bs.test(u)||Bs.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Ft(e.rotate||0,n.rotate||0,r))}function nE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const C6=ZP(0,.5,bP),T6=ZP(.5,.95,Wt);function ZP(t,e,n){return r=>r<t?0:r>e?1:n(hd(t,e,r))}function rE(t,e){t.min=e.min,t.max=e.max}function qr(t,e){rE(t.x,e.x),rE(t.y,e.y)}function sE(t,e,n,r,s){return t-=e,t=yp(t,1/n,r),s!==void 0&&(t=yp(t,1/s,r)),t}function N6(t,e=0,n=1,r=.5,s,o=t,i=t){if(Bs.test(e)&&(e=parseFloat(e),e=Ft(i.min,i.max,e/100)-i.min),typeof e!="number")return;let l=Ft(o.min,o.max,r);t===o&&(l-=e),t.min=sE(t.min,e,n,l,s),t.max=sE(t.max,e,n,l,s)}function oE(t,e,[n,r,s],o,i){N6(t,e[n],e[r],e[s],e.scale,o,i)}const k6=["x","scaleX","originX"],j6=["y","scaleY","originY"];function iE(t,e,n,r){oE(t.x,e,k6,n?n.x:void 0,r?r.x:void 0),oE(t.y,e,j6,n?n.y:void 0,r?r.y:void 0)}function aE(t){return t.translate===0&&t.scale===1}function eA(t){return aE(t.x)&&aE(t.y)}function P6(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function tA(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function lE(t){return zr(t.x)/zr(t.y)}class A6{constructor(){this.members=[]}add(e){jw(this.members,e),e.scheduleRender()}remove(e){if(Pw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cE(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=t.x.scale*e.x,l=t.y.scale*e.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const I6=(t,e)=>t.depth-e.depth;class R6{constructor(){this.children=[],this.isDirty=!1}add(e){jw(this.children,e),this.isDirty=!0}remove(e){Pw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I6),this.isDirty=!1,this.children.forEach(e)}}function D6(t,e){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(jo(r),t(o-e))};return Et.read(r,!0),()=>jo(r)}function O6(t){window.MotionDebug&&window.MotionDebug.record(t)}function M6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function L6(t,e,n){const r=Sr(t)?t:sc(t);return r.start(kw("",r,e,n)),r.animation}const uE=["","X","Y","Z"],F6={visibility:"hidden"},dE=1e3;let V6=0;const ca={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function nA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=e==null?void 0:e()){this.id=V6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ca.totalNodes=ca.resolvedTargetDeltas=ca.recalculatedProjection=0,this.nodes.forEach(B6),this.nodes.forEach(G6),this.nodes.forEach(K6),this.nodes.forEach($6),O6(ca)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new R6)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Aw),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=M6(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=D6(p,250),_f.hasAnimatedSinceResize&&(_f.hasAnimatedSinceResize=!1,this.nodes.forEach(fE))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||Z6,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=d.getProps(),v=!this.targetLayout||!tA(this.targetLayout,y)||m,b=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...Nw(x,"layout"),onPlay:S,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else p||fE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,jo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Y6),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hE);return}this.isUpdating||this.nodes.forEach(W6),this.isUpdating=!1,this.nodes.forEach(H6),this.nodes.forEach(z6),this.nodes.forEach(U6),this.clearAllSnapshots();const l=performance.now();Bn.delta=ji(0,1e3/60,l-Bn.timestamp),Bn.timestamp=l,Bn.isProcessing=!0,nv.update.process(Bn),nv.preRender.process(Bn),nv.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(q6),this.sharedNodes.forEach(Q6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!eA(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||la(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),e9(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return tn();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(ti(l.x,c.offset.x),ti(l.y,c.offset.y)),l}removeElementScroll(i){const l=tn();qr(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){qr(l,i);const{scroll:p}=this.root;p&&(ti(l.x,-p.offset.x),ti(l.y,-p.offset.y))}ti(l.x,d.offset.x),ti(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=tn();qr(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Dl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),la(d.latestValues)&&Dl(c,d.latestValues)}return la(this.latestValues)&&Dl(c,this.latestValues),c}removeTransform(i){const l=tn();qr(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!la(u.latestValues))continue;dy(u.latestValues)&&u.updateSnapshot();const d=tn(),f=u.measurePageBox();qr(d,f),iE(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return la(this.latestValues)&&iE(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Lu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qr(this.target,this.layout.layoutBox),KP(this.target,this.targetDelta)):qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Lu(this.relativeTargetOrigin,this.target,m.target),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ca.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dy(this.parent.latestValues)||GP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;qr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;u6(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=Rl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Rl(),this.projectionDeltaWithTransform=Rl());const x=this.projectionTransform;Mu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=cE(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ca.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=tn(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,S=this.getStack(),_=!S||S.members.length<=1,v=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(J6));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const R=j/1e3;pE(f.x,i.x,R),pE(f.y,i.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),X6(this.relativeTarget,this.relativeTargetOrigin,p,R),b&&P6(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=tn()),qr(b,this.relativeTarget)),x&&(this.animationValues=d,E6(d,u,this.latestValues,R,v,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(jo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{_f.hasAnimatedSinceResize=!0,this.currentAnimation=L6(0,dE,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&rA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||tn();const f=zr(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const p=zr(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+p}qr(l,c),Dl(l,d),Mu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new A6),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<uE.length;d++){const f="rotate"+uE[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F6;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=bf(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=bf(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!la(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=cE(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in dp){if(p[x]===void 0)continue;const{correct:S,applyTo:_}=dp[x],v=u.transform==="none"?p[x]:S(p[x],f);if(_){const b=_.length;for(let j=0;j<b;j++)u[_[j]]=v}else u[x]=v}return this.options.layoutId&&(u.pointerEvents=f===this?bf(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(hE),this.root.sharedNodes.clear()}}}function z6(t){t.updateLayout()}function U6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,i=n.source!==t.layout.source;o==="size"?Hr(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],m=zr(p);p.min=r[f].min,p.max=p.min+m}):rA(o,n.layoutBox,r)&&Hr(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],m=zr(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const l=Rl();Mu(l,r,n.layoutBox);const c=Rl();i?Mu(c,t.applyTransform(s,!0),n.measuredBox):Mu(c,r,n.layoutBox);const u=!eA(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=tn();Lu(y,n.layoutBox,p.layoutBox);const x=tn();Lu(x,r,m.layoutBox),tA(y,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function B6(t){ca.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q6(t){t.clearSnapshot()}function hE(t){t.clearMeasurements()}function W6(t){t.isLayoutDirty=!1}function H6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function G6(t){t.resolveTargetDelta()}function K6(t){t.calcProjection()}function Y6(t){t.resetRotation()}function Q6(t){t.removeLeadSnapshot()}function pE(t,e,n){t.translate=Ft(e.translate,0,n),t.scale=Ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mE(t,e,n,r){t.min=Ft(e.min,n.min,r),t.max=Ft(e.max,n.max,r)}function X6(t,e,n,r){mE(t.x,e.x,n.x,r),mE(t.y,e.y,n.y,r)}function J6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Z6={duration:.45,ease:[.4,0,.1,1]},gE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),vE=gE("applewebkit/")&&!gE("chrome/")?Math.round:Wt;function yE(t){t.min=vE(t.min),t.max=vE(t.max)}function e9(t){yE(t.x),yE(t.y)}function rA(t,e,n){return t==="position"||t==="preserve-aspect"&&!cy(lE(e),lE(n),.2)}const t9=nA({attachResizeListener:(t,e)=>po(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fv={current:void 0},sA=nA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fv.current){const t=new t9({});t.mount(window),t.setOptions({layoutScroll:!0}),fv.current=t}return fv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),n9={pan:{Feature:y6},drag:{Feature:v6,ProjectionNode:sA,MeasureLayout:XP}},r9=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function s9(t){const e=r9.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function fy(t,e,n=1){const[r,s]=s9(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return zP(i)?parseFloat(i):i}else return ny(s)?fy(s,e,n+1):s}function o9(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const o=s.get();if(!ny(o))return;const i=fy(o,r);i&&s.set(i)});for(const s in e){const o=e[s];if(!ny(o))continue;const i=fy(o,r);i&&(e[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:e,transitionEnd:n}}const i9=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),oA=t=>i9.has(t),a9=t=>Object.keys(t).some(oA),xE=t=>t===el||t===Re,wE=(t,e)=>parseFloat(t.split(", ")[e]),bE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return wE(s[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?wE(o[1],t):0}},l9=new Set(["x","y","z"]),c9=Od.filter(t=>!l9.has(t));function u9(t){const e=[];return c9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const oc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bE(4,13),y:bE(5,14)};oc.translateX=oc.x;oc.translateY=oc.y;const d9=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=oc[u](r,o)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=oc[u](c,o)}),t},h9=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(oA);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],f=iu(d);const p=e[c];let m;if(fp(p)){const y=p.length,x=p[0]===null?1:0;d=p[x],f=iu(d);for(let S=x;S<y&&p[S]!==null;S++)m?_w(iu(p[S])===m):m=iu(p[S])}else m=iu(p);if(f!==m)if(xE(f)&&xE(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&m===Re&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):e[c]=f.transform(p):(i||(o=u9(t),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=d9(e,t,l);return o.length&&o.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),wm&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function f9(t,e,n,r){return a9(e)?h9(t,e,n,r):{target:e,transitionEnd:r}}const p9=(t,e,n,r)=>{const s=o9(t,e,r);return e=s.target,r=s.transitionEnd,f9(t,e,n,r)},py={current:null},iA={current:!1};function m9(){if(iA.current=!0,!!wm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>py.current=t.matches;t.addListener(e),e()}else py.current=!1}function g9(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],i=n[s];if(Sr(o))t.addValue(s,o),vp(r)&&r.add(s);else if(Sr(i))t.addValue(s,sc(o,{owner:t})),vp(r)&&r.remove(s);else if(i!==o)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(s);t.addValue(s,sc(l!==void 0?l:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const _E=new WeakMap,aA=Object.keys(dd),v9=aA.length,SE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],y9=fw.length;class x9{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Et.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=_m(n),this.isVariantNode=Wj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];l[f]!==void 0&&Sr(p)&&(p.set(l[f],!1),vp(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,_E.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iA.current||m9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:py.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_E.delete(this.current),this.projection&&this.projection.unmount(),jo(this.notifyUpdate),jo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Za.has(e),s=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&Et.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,o){let i,l;for(let c=0;c<v9;c++){const u=aA[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=dd[u];p&&(i=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Al(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:p,layoutRoot:m})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SE.length;r++){const s=SE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=e["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=g9(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<y9;r++){const s=fw[r],o=this.props[s];(ud(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=sc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=bw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Sr(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Aw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lA extends x9{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},o){let i=M5(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){D5(this,r,i);const l=p9(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function w9(t){return window.getComputedStyle(t)}class b9 extends lA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Za.has(n)){const r=Tw(n);return r&&r.default||0}else{const r=w9(e),s=(Yj(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YP(e,n)}build(e,n,r,s){gw(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ww(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){tP(e,n,r,s)}}class _9 extends lA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Za.has(n)){const r=Tw(n);return r&&r.default||0}return n=nP.has(n)?n:dw(n),e.getAttribute(n)}measureInstanceViewportBox(){return tn()}scrapeMotionValuesFromProps(e,n){return sP(e,n)}build(e,n,r,s){yw(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){rP(e,n,r,s)}mount(e){this.isSVGTag=xw(e.tagName),super.mount(e)}}const S9=(t,e)=>mw(t)?new _9(e,{enableHardwareAcceleration:!1}):new b9(e,{enableHardwareAcceleration:!0}),E9={layout:{ProjectionNode:sA,MeasureLayout:XP}},C9={...X5,...v3,...n9,...E9},be=TV((t,e)=>s3(t,e,C9,S9));function cA(){const t=g.useRef(!1);return uw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function T9(){const t=cA(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>Et.postRender(r),[r]),e]}class N9 extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function k9({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(e||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),g.createElement(N9,{isPresent:e,childRef:r,sizeRef:s},g.cloneElement(t,{ref:r}))}const pv=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=oP(j9),c=g.useId(),u=g.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return g.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(t=g.createElement(k9,{isPresent:n},t)),g.createElement(xm.Provider,{value:u},t)};function j9(){return new Map}function P9(t){return g.useEffect(()=>()=>t(),[])}const ua=t=>t.key||"";function A9(t,e){t.forEach(n=>{const r=ua(n);e.set(r,n)})}function I9(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const uA=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=g.useContext(pw).forceRender||T9()[0],c=cA(),u=I9(t);let d=u;const f=g.useRef(new Map).current,p=g.useRef(d),m=g.useRef(new Map).current,y=g.useRef(!0);if(uw(()=>{y.current=!1,A9(u,m),p.current=d}),P9(()=>{y.current=!0,m.clear(),f.clear()}),y.current)return g.createElement(g.Fragment,null,d.map(v=>g.createElement(pv,{key:ua(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},v)));d=[...d];const x=p.current.map(ua),S=u.map(ua),_=x.length;for(let v=0;v<_;v++){const b=x[v];S.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((v,b)=>{if(S.indexOf(b)!==-1)return;const j=m.get(b);if(!j)return;const R=x.indexOf(b);let F=v;if(!F){const E=()=>{f.delete(b);const T=Array.from(m.keys()).filter(A=>!S.includes(A));if(T.forEach(A=>m.delete(A)),p.current=u.filter(A=>{const I=ua(A);return I===b||T.includes(I)}),!f.size){if(c.current===!1)return;l(),r&&r()}};F=g.createElement(pv,{key:ua(j),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:o,mode:i},j),f.set(b,F)}d.splice(R,0,F)}),d=d.map(v=>{const b=v.key;return f.has(b)?v:g.createElement(pv,{key:ua(v),isPresent:!0,presenceAffectsLayout:o,mode:i},v)}),g.createElement(g.Fragment,null,f.size?d:d.map(v=>g.cloneElement(v)))};var R9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const D9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ue=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},u)=>g.createElement("svg",{ref:u,...R9,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${D9(t)}`,...c},[...e.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},my=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),$s=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),O9=ue("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),EE=ue("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),M9=ue("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),L9=ue("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),CE=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),F9=ue("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),mv=ue("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),V9=ue("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),z9=ue("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),fr=ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),gv=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Fh=ue("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),fa=ue("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ea=ue("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),xp=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),U9=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),dA=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),hA=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),B9=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$9=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ni=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Vh=ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),q9=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Fu=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Nn=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),wp=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ql=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qs=ue("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Iw=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),TE=ue("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),fA=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),W9=ue("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),NE=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),pA=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),kE=ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),H9=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),jE=ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),gy=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),PE=ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Ca=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),bp=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),G9=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),K9=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Y9=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),AE=ue("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Q9=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Gn=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),vv=ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),ys=ue("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Ta=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),yv=ue("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),IE=ue("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Ir=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_p=ue("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),zh=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),mA=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),gA=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Rr=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),_o=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Oa=ue("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),fs=ue("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Sf=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),X9=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Vu=ue("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),yu=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),RE=ue("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Zr=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ma=ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),mr=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),J9=ue("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Rw=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Z9=ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),xu=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ez=ue("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Xr=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),xs=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),tz=ue("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),nz=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),_r=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fd=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),rz=ue("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function vA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=vA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=vA(t))&&(r&&(r+=" "),r+=e);return r}function sz(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=xA(e))&&(r&&(r+=" "),r+=n);return r}function xA(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=xA(t[r]))&&(n&&(n+=" "),n+=e);return n}var Dw="-";function oz(t){var e=az(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(Dw);return c[0]===""&&c.length!==1&&c.shift(),wA(c,e)||iz(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function wA(t,e){var i;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?wA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var o=t.join(Dw);return(i=e.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var DE=/^\[(.+)\]$/;function iz(t){if(DE.test(t)){var e=DE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function az(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=cz(Object.entries(t.classGroups),n);return s.forEach(function(o){var i=o[0],l=o[1];vy(l,r,i,e)}),r}function vy(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var o=s===""?e:OE(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(lz(s)){vy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];vy(c,OE(e,l),n,r)})})}function OE(t,e){var n=t;return e.split(Dw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function lz(t){return t.isThemeGetter}function cz(t,e){return e?t.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[e+c,u]})):i});return[r,o]}):t}function uz(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var bA="!";function dz(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(i){for(var l=[],c=0,u=0,d,f=0;f<i.length;f++){var p=i[f];if(c===0){if(p===r&&(n||i.slice(f,f+s)===e)){l.push(i.slice(u,f)),u=f+s;continue}if(p==="/"){d=f;continue}}p==="["?c++:p==="]"&&c--}var m=l.length===0?i:i.substring(u),y=m.startsWith(bA),x=y?m.substring(1):m,S=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:S}}}function hz(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function fz(t){return{cache:uz(t.cacheSize),splitModifiers:dz(t),...oz(t)}}var pz=/\s+/;function mz(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(pz).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,p=r(f?d.substring(0,f):d),m=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:i};if(p=r(d),!p)return{isTailwindClass:!1,originalClassName:i};m=!1}var y=hz(c).join(":"),x=u?y+bA:y;return{isTailwindClass:!0,modifierId:x,classGroupId:p,originalClassName:i,hasPostfixModifier:m}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function gz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,o,i=l;function l(u){var d=e[0],f=e.slice(1),p=f.reduce(function(m,y){return y(m)},d());return r=fz(p),s=r.cache.get,o=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=mz(u,r);return o(u,f),f}return function(){return i(sz.apply(null,arguments))}}function kt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var _A=/^\[(?:([a-z-]+):)?(.+)\]$/i,vz=/^\d+\/\d+$/,yz=new Set(["px","full","screen"]),xz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bz=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function as(t){return xa(t)||yz.has(t)||vz.test(t)||yy(t)}function yy(t){return tl(t,"length",Nz)}function _z(t){return tl(t,"size",SA)}function Sz(t){return tl(t,"position",SA)}function Ez(t){return tl(t,"url",kz)}function Uh(t){return tl(t,"number",xa)}function xa(t){return!Number.isNaN(Number(t))}function Cz(t){return t.endsWith("%")&&xa(t.slice(0,-1))}function lu(t){return ME(t)||tl(t,"number",ME)}function Je(t){return _A.test(t)}function cu(){return!0}function Ho(t){return xz.test(t)}function Tz(t){return tl(t,"",jz)}function tl(t,e,n){var r=_A.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function Nz(t){return wz.test(t)}function SA(){return!1}function kz(t){return t.startsWith("url(")}function ME(t){return Number.isInteger(Number(t))}function jz(t){return bz.test(t)}function Pz(){var t=kt("colors"),e=kt("spacing"),n=kt("blur"),r=kt("brightness"),s=kt("borderColor"),o=kt("borderRadius"),i=kt("borderSpacing"),l=kt("borderWidth"),c=kt("contrast"),u=kt("grayscale"),d=kt("hueRotate"),f=kt("invert"),p=kt("gap"),m=kt("gradientColorStops"),y=kt("gradientColorStopPositions"),x=kt("inset"),S=kt("margin"),_=kt("opacity"),v=kt("padding"),b=kt("saturate"),j=kt("scale"),R=kt("sepia"),F=kt("skew"),E=kt("space"),T=kt("translate"),A=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",Je,e]},N=function(){return[Je,e]},P=function(){return["",as]},D=function(){return["auto",xa,Je]},L=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},B=function(){return["solid","dashed","dotted","double","none"]},$=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},M=function(){return["start","end","center","between","around","evenly","stretch"]},V=function(){return["","0",Je]},G=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},K=function(){return[xa,Uh]},ie=function(){return[xa,Je]};return{cacheSize:500,theme:{colors:[cu],spacing:[as],blur:["none","",Ho,Je],brightness:K(),borderColor:[t],borderRadius:["none","","full",Ho,Je],borderSpacing:N(),borderWidth:P(),contrast:K(),grayscale:V(),hueRotate:ie(),invert:V(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Cz,yy],inset:k(),margin:k(),opacity:K(),padding:N(),saturate:K(),scale:K(),sepia:V(),skew:ie(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Ho]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(L(),[Je])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lu]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",lu]}],"grid-cols":[{"grid-cols":[cu]}],"col-start-end":[{col:["auto",{span:["full",lu]},Je]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[cu]}],"row-start-end":[{row:["auto",{span:[lu]},Je]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(M())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(M(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(M(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Je,e]}],"min-w":[{"min-w":["min","max","fit",Je,as]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ho]},Ho,Je]}],h:[{h:[Je,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Je,as]}],"max-h":[{"max-h":[Je,e,"min","max","fit"]}],"font-size":[{text:["base",Ho,yy]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uh]}],"font-family":[{font:[cu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",xa,Uh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Je,as]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(B(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",as]}],"underline-offset":[{"underline-offset":["auto",Je,as]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(L(),[Sz])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_z]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ez]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat(B(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(B())}],"outline-offset":[{"outline-offset":[Je,as]}],"outline-w":[{outline:[as]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[as]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ho,Tz]}],"shadow-color":[{shadow:[cu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":$()}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ho,Je]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[lu,Je]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[as,Uh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Az=gz(Pz);function qe(...t){return Az(yA(t))}function LE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function EA(...t){return e=>{let n=!1;const r=t.map(s=>{const o=LE(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():LE(t[s],null)}}}}function yt(...t){return g.useCallback(EA(...t),t)}function La(t){const e=Rz(t),n=g.forwardRef((r,s)=>{const{children:o,...i}=r,l=g.Children.toArray(o),c=l.find(Oz);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...i,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var Iz=La("Slot");function Rz(t){const e=g.forwardRef((n,r)=>{const{children:s,...o}=n;if(g.isValidElement(s)){const i=Lz(s),l=Mz(o,s.props);return s.type!==g.Fragment&&(l.ref=r?EA(r,i):i),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var CA=Symbol("radix.slottable");function Dz(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=CA,e}function Oz(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===CA}function Mz(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function Lz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const FE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,VE=yA,Tm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return VE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const p=FE(d)||FE(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(y=>{let[x,S]=y;return Array.isArray(S)?S.includes({...o,...l}[x]):{...o,...l}[x]===S})?[...u,f,p]:u},[]);return VE(t,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Fz=Tm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=Pe.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?Iz:"button";return a.jsx(i,{className:qe(Fz({variant:e,size:n,className:t})),ref:o,...s})});Q.displayName="Button";function Ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Vz(t,e){const n=g.createContext(e),r=o=>{const{children:i,...l}=o,c=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=t+"Provider";function s(o){const i=g.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function no(t,e=[]){let n=[];function r(o,i){const l=g.createContext(i),c=n.length;n=[...n,i];const u=f=>{var _;const{scope:p,children:m,...y}=f,x=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,S=g.useMemo(()=>y,Object.values(y));return a.jsx(x.Provider,{value:S,children:m})};u.displayName=o+"Provider";function d(f,p){var x;const m=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,y=g.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,zz(s,...e)]}function zz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Ow(t){const e=t+"CollectionProvider",[n,r]=no(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:S,children:_}=x,v=Pe.useRef(null),b=Pe.useRef(new Map).current;return a.jsx(s,{scope:S,itemMap:b,collectionRef:v,children:_})};i.displayName=e;const l=t+"CollectionSlot",c=La(l),u=Pe.forwardRef((x,S)=>{const{scope:_,children:v}=x,b=o(l,_),j=yt(S,b.collectionRef);return a.jsx(c,{ref:j,children:v})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=La(d),m=Pe.forwardRef((x,S)=>{const{scope:_,children:v,...b}=x,j=Pe.useRef(null),R=yt(S,j),F=o(d,_);return Pe.useEffect(()=>(F.itemMap.set(j,{ref:j,...b}),()=>void F.itemMap.delete(j))),a.jsx(p,{[f]:"",ref:R,children:v})});m.displayName=d;function y(x){const S=o(t+"CollectionConsumer",x);return Pe.useCallback(()=>{const v=S.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((F,E)=>b.indexOf(F.ref.current)-b.indexOf(E.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},y,r]}var Uz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=Uz.reduce((t,e)=>{const n=La(`Primitive.${e}`),r=g.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function TA(t,e){t&&Ts.flushSync(()=>t.dispatchEvent(e))}function rs(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Bz(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $z="DismissableLayer",xy="dismissableLayer.update",qz="dismissableLayer.pointerDownOutside",Wz="dismissableLayer.focusOutside",zE,NA=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=t,u=g.useContext(NA),[d,f]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),y=yt(e,E=>f(E)),x=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(S),v=d?x.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=_,R=Gz(E=>{const T=E.target,A=[...u.branches].some(I=>I.contains(T));!j||A||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},p),F=Kz(E=>{const T=E.target;[...u.branches].some(I=>I.contains(T))||(o==null||o(E),i==null||i(E),E.defaultPrevented||l==null||l())},p);return Bz(E=>{v===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),UE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=zE)}},[d,p,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),UE())},[d,u]),g.useEffect(()=>{const E=()=>m({});return document.addEventListener(xy,E),()=>document.removeEventListener(xy,E)},[]),a.jsx(ze.div,{...c,ref:y,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,R.onPointerDownCapture)})});Sc.displayName=$z;var Hz="DismissableLayerBranch",kA=g.forwardRef((t,e)=>{const n=g.useContext(NA),r=g.useRef(null),s=yt(e,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(ze.div,{...t,ref:s})});kA.displayName=Hz;function Gz(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){jA(qz,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Kz(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t),r=g.useRef(!1);return g.useEffect(()=>{const s=o=>{o.target&&!r.current&&jA(Wz,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UE(){const t=new CustomEvent(xy);document.dispatchEvent(t)}function jA(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?TA(s,o):s.dispatchEvent(o)}var Yz=Sc,Qz=kA,An=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Xz="Portal",Vd=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,o]=g.useState(!1);An(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?SF.createPortal(a.jsx(ze.div,{...r,ref:e}),i):null});Vd.displayName=Xz;function Jz(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Fo=t=>{const{present:e,children:n}=t,r=Zz(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=yt(r.ref,eU(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};Fo.displayName="Presence";function Zz(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),o=g.useRef("none"),i=t?"mounted":"unmounted",[l,c]=Jz(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Bh(r.current);o.current=l==="mounted"?u:"none"},[l]),An(()=>{const u=r.current,d=s.current;if(d!==t){const p=o.current,m=Bh(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),An(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const x=Bh(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&x&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=m=>{m.target===e&&(o.current=Bh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Bh(t){return(t==null?void 0:t.animationName)||"none"}function eU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tU=AN[" useInsertionEffect ".trim().toString()]||An;function Fa({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=nU({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=g.useCallback(d=>{var f;if(l){const p=rU(d)?d(t):d;p!==t&&((f=i.current)==null||f.call(i,p))}else o(d)},[l,t,o,i]);return[c,u]}function nU({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),o=g.useRef(e);return tU(()=>{o.current=e},[e]),g.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function rU(t){return typeof t=="function"}var PA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sU="VisuallyHidden",Nm=g.forwardRef((t,e)=>a.jsx(ze.span,{...t,ref:e,style:{...PA,...t.style}}));Nm.displayName=sU;var oU=Nm,Mw="ToastProvider",[Lw,iU,aU]=Ow("Toast"),[AA,nne]=no("Toast",[aU]),[lU,km]=AA(Mw),IA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mw}\`. Expected non-empty \`string\`.`),a.jsx(Lw.Provider,{scope:e,children:a.jsx(lU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};IA.displayName=Mw;var RA="ToastViewport",cU=["F8"],wy="toast.viewportPause",by="toast.viewportResume",DA=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=cU,label:s="Notifications ({hotkey})",...o}=t,i=km(RA,n),l=iU(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),p=yt(e,f,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;g.useEffect(()=>{const S=_=>{var b;r.length!==0&&r.every(j=>_[j]||_.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=c.current,_=f.current;if(y&&S&&_){const v=()=>{if(!i.isClosePausedRef.current){const F=new CustomEvent(wy);_.dispatchEvent(F),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const F=new CustomEvent(by);_.dispatchEvent(F),i.isClosePausedRef.current=!1}},j=F=>{!S.contains(F.relatedTarget)&&b()},R=()=>{S.contains(document.activeElement)||b()};return S.addEventListener("focusin",v),S.addEventListener("focusout",j),S.addEventListener("pointermove",v),S.addEventListener("pointerleave",R),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{S.removeEventListener("focusin",v),S.removeEventListener("focusout",j),S.removeEventListener("pointermove",v),S.removeEventListener("pointerleave",R),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[y,i.isClosePausedRef]);const x=g.useCallback(({tabbingDirection:S})=>{const v=l().map(b=>{const j=b.ref.current,R=[j,..._U(j)];return S==="forwards"?R:R.reverse()});return(S==="forwards"?v.reverse():v).flat()},[l]);return g.useEffect(()=>{const S=f.current;if(S){const _=v=>{var R,F,E;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const T=document.activeElement,A=v.shiftKey;if(v.target===S&&A){(R=u.current)==null||R.focus();return}const N=x({tabbingDirection:A?"backwards":"forwards"}),P=N.findIndex(D=>D===T);xv(N.slice(P+1))?v.preventDefault():A?(F=u.current)==null||F.focus():(E=d.current)==null||E.focus()}};return S.addEventListener("keydown",_),()=>S.removeEventListener("keydown",_)}},[l,x]),a.jsxs(Qz,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(_y,{ref:u,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});xv(S)}}),a.jsx(Lw.Slot,{scope:n,children:a.jsx(ze.ol,{tabIndex:-1,...o,ref:p})}),y&&a.jsx(_y,{ref:d,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});xv(S)}})]})});DA.displayName=RA;var OA="ToastFocusProxy",_y=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=km(OA,n);return a.jsx(Nm,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});_y.displayName=OA;var zd="Toast",uU="toast.swipeStart",dU="toast.swipeMove",hU="toast.swipeCancel",fU="toast.swipeEnd",MA=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[l,c]=Fa({prop:r,defaultProp:s??!0,onChange:o,caller:zd});return a.jsx(Fo,{present:n||l,children:a.jsx(gU,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:rs(t.onPause),onResume:rs(t.onResume),onSwipeStart:Ce(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});MA.displayName=zd;var[pU,mU]=AA(zd,{onClose(){}}),gU=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...y}=t,x=km(zd,n),[S,_]=g.useState(null),v=yt(e,D=>_(D)),b=g.useRef(null),j=g.useRef(null),R=s||x.duration,F=g.useRef(0),E=g.useRef(R),T=g.useRef(0),{onToastAdd:A,onToastRemove:I}=x,k=rs(()=>{var L;(S==null?void 0:S.contains(document.activeElement))&&((L=x.viewport)==null||L.focus()),i()}),N=g.useCallback(D=>{!D||D===1/0||(window.clearTimeout(T.current),F.current=new Date().getTime(),T.current=window.setTimeout(k,D))},[k]);g.useEffect(()=>{const D=x.viewport;if(D){const L=()=>{N(E.current),u==null||u()},B=()=>{const $=new Date().getTime()-F.current;E.current=E.current-$,window.clearTimeout(T.current),c==null||c()};return D.addEventListener(wy,B),D.addEventListener(by,L),()=>{D.removeEventListener(wy,B),D.removeEventListener(by,L)}}},[x.viewport,R,c,u,N]),g.useEffect(()=>{o&&!x.isClosePausedRef.current&&N(R)},[o,R,x.isClosePausedRef,N]),g.useEffect(()=>(A(),()=>I()),[A,I]);const P=g.useMemo(()=>S?$A(S):null,[S]);return x.viewport?a.jsxs(a.Fragment,{children:[P&&a.jsx(vU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:P}),a.jsx(pU,{scope:n,onClose:k,children:Ts.createPortal(a.jsx(Lw.ItemSlot,{scope:n,children:a.jsx(Yz,{asChild:!0,onEscapeKeyDown:Ce(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ze.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ce(t.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:Ce(t.onPointerMove,D=>{if(!b.current)return;const L=D.clientX-b.current.x,B=D.clientY-b.current.y,$=!!j.current,M=["left","right"].includes(x.swipeDirection),V=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,G=M?V(0,L):0,K=M?0:V(0,B),ie=D.pointerType==="touch"?10:2,ae={x:G,y:K},me={originalEvent:D,delta:ae};$?(j.current=ae,$h(dU,f,me,{discrete:!1})):BE(ae,x.swipeDirection,ie)?(j.current=ae,$h(uU,d,me,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(L)>ie||Math.abs(B)>ie)&&(b.current=null)}),onPointerUp:Ce(t.onPointerUp,D=>{const L=j.current,B=D.target;if(B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),j.current=null,b.current=null,L){const $=D.currentTarget,M={originalEvent:D,delta:L};BE(L,x.swipeDirection,x.swipeThreshold)?$h(fU,m,M,{discrete:!0}):$h(hU,p,M,{discrete:!0}),$.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),vU=t=>{const{__scopeToast:e,children:n,...r}=t,s=km(zd,e),[o,i]=g.useState(!1),[l,c]=g.useState(!1);return wU(()=>i(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Vd,{asChild:!0,children:a.jsx(Nm,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},yU="ToastTitle",LA=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(ze.div,{...r,ref:e})});LA.displayName=yU;var xU="ToastDescription",FA=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(ze.div,{...r,ref:e})});FA.displayName=xU;var VA="ToastAction",zA=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(BA,{altText:n,asChild:!0,children:a.jsx(Fw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${VA}\`. Expected non-empty \`string\`.`),null)});zA.displayName=VA;var UA="ToastClose",Fw=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=mU(UA,n);return a.jsx(BA,{asChild:!0,children:a.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,s.onClose)})})});Fw.displayName=UA;var BA=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function $A(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...$A(r))}}),e}function $h(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?TA(s,o):s.dispatchEvent(o)}var BE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function wU(t=()=>{}){const e=rs(t);An(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function bU(t){return t.nodeType===t.ELEMENT_NODE}function _U(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var SU=IA,qA=DA,WA=MA,HA=LA,GA=FA,KA=zA,YA=Fw;const EU=SU,QA=Pe.forwardRef(({className:t,...e},n)=>a.jsx(qA,{ref:n,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));QA.displayName=qA.displayName;const CU=Tm("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XA=Pe.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(WA,{ref:r,className:qe(CU({variant:e}),t),...n}));XA.displayName=WA.displayName;const TU=Pe.forwardRef(({className:t,...e},n)=>a.jsx(KA,{ref:n,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));TU.displayName=KA.displayName;const JA=Pe.forwardRef(({className:t,...e},n)=>a.jsx(YA,{ref:n,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(_r,{className:"h-4 w-4"})}));JA.displayName=YA.displayName;const ZA=Pe.forwardRef(({className:t,...e},n)=>a.jsx(HA,{ref:n,className:qe("text-sm font-semibold",t),...e}));ZA.displayName=HA.displayName;const e2=Pe.forwardRef(({className:t,...e},n)=>a.jsx(GA,{ref:n,className:qe("text-sm opacity-90",t),...e}));e2.displayName=GA.displayName;const NU=5;let wv=0;function kU(){return wv=(wv+1)%Number.MAX_VALUE,wv.toString()}const rr={state:{toasts:[]},listeners:[],getState:()=>rr.state,setState:t=>{typeof t=="function"?rr.state=t(rr.state):rr.state={...rr.state,...t},rr.listeners.forEach(e=>e(rr.state))},subscribe:t=>(rr.listeners.push(t),()=>{rr.listeners=rr.listeners.filter(e=>e!==t)})},jU=({...t})=>{const e=kU(),n=s=>rr.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===e?{...i,...s}:i)})),r=()=>rr.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==e)}));return rr.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,NU)})),{id:e,dismiss:r,update:n}};function Er(){const[t,e]=g.useState(rr.getState());return g.useEffect(()=>rr.subscribe(r=>{e(r)}),[]),g.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:jU,toasts:t.toasts}}function PU(){const{toasts:t}=Er();return a.jsxs(EU,{children:[t.map(({id:e,title:n,description:r,action:s,...o})=>a.jsxs(XA,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(ZA,{children:n}),r&&a.jsx(e2,{children:r})]}),s,a.jsx(JA,{})]},e)),a.jsx(QA,{})]})}var AU=AN[" useId ".trim().toString()]||(()=>{}),IU=0;function So(t){const[e,n]=g.useState(AU());return An(()=>{t||n(r=>r??String(IU++))},[t]),t||(e?`radix-${e}`:"")}const RU=["top","right","bottom","left"],Ai=Math.min,Ar=Math.max,Sp=Math.round,qh=Math.floor,Ws=t=>({x:t,y:t}),DU={left:"right",right:"left",bottom:"top",top:"bottom"},OU={start:"end",end:"start"};function Sy(t,e,n){return Ar(t,Ai(e,n))}function Po(t,e){return typeof t=="function"?t(e):t}function Ao(t){return t.split("-")[0]}function Ec(t){return t.split("-")[1]}function Vw(t){return t==="x"?"y":"x"}function zw(t){return t==="y"?"height":"width"}const MU=new Set(["top","bottom"]);function Vs(t){return MU.has(Ao(t))?"y":"x"}function Uw(t){return Vw(Vs(t))}function LU(t,e,n){n===void 0&&(n=!1);const r=Ec(t),s=Uw(t),o=zw(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Ep(i)),[i,Ep(i)]}function FU(t){const e=Ep(t);return[Ey(t),e,Ey(e)]}function Ey(t){return t.replace(/start|end/g,e=>OU[e])}const $E=["left","right"],qE=["right","left"],VU=["top","bottom"],zU=["bottom","top"];function UU(t,e,n){switch(t){case"top":case"bottom":return n?e?qE:$E:e?$E:qE;case"left":case"right":return e?VU:zU;default:return[]}}function BU(t,e,n,r){const s=Ec(t);let o=UU(Ao(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Ey)))),o}function Ep(t){return t.replace(/left|right|bottom|top/g,e=>DU[e])}function $U(t){return{top:0,right:0,bottom:0,left:0,...t}}function t2(t){return typeof t!="number"?$U(t):{top:t,right:t,bottom:t,left:t}}function Cp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function WE(t,e,n){let{reference:r,floating:s}=t;const o=Vs(e),i=Uw(e),l=zw(i),c=Ao(e),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Ec(e)){case"start":m[i]-=p*(n&&u?-1:1);break;case"end":m[i]+=p*(n&&u?-1:1);break}return m}const qU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=WE(u,r,c),p=r,m={},y=0;for(let x=0;x<l.length;x++){const{name:S,fn:_}=l[x],{x:v,y:b,data:j,reset:R}=await _({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:t,floating:e}});d=v??d,f=b??f,m={...m,[S]:{...m[S],...j}},R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(u=R.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:d,y:f}=WE(u,p,c)),x=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function pd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Po(e,t),y=t2(m),S=l[p?f==="floating"?"reference":"floating":f],_=Cp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},R=Cp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(_.top-R.top+y.top)/j.y,bottom:(R.bottom-_.bottom+y.bottom)/j.y,left:(_.left-R.left+y.left)/j.x,right:(R.right-_.right+y.right)/j.x}}const WU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Po(t,e)||{};if(u==null)return{};const f=t2(d),p={x:n,y:r},m=Uw(s),y=zw(m),x=await i.getDimensions(u),S=m==="y",_=S?"top":"left",v=S?"bottom":"right",b=S?"clientHeight":"clientWidth",j=o.reference[y]+o.reference[m]-p[m]-o.floating[y],R=p[m]-o.reference[m],F=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let E=F?F[b]:0;(!E||!await(i.isElement==null?void 0:i.isElement(F)))&&(E=l.floating[b]||o.floating[y]);const T=j/2-R/2,A=E/2-x[y]/2-1,I=Ai(f[_],A),k=Ai(f[v],A),N=I,P=E-x[y]-k,D=E/2-x[y]/2+T,L=Sy(N,D,P),B=!c.arrow&&Ec(s)!=null&&D!==L&&o.reference[y]/2-(D<N?I:k)-x[y]/2<0,$=B?D<N?D-N:D-P:0;return{[m]:p[m]+$,data:{[m]:L,centerOffset:D-L-$,...B&&{alignmentOffset:$}},reset:B}}}),HU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...S}=Po(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=Ao(s),v=Vs(l),b=Ao(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),R=p||(b||!x?[Ep(l)]:FU(l)),F=y!=="none";!p&&F&&R.push(...BU(l,x,y,j));const E=[l,...R],T=await pd(e,S),A=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[_]),f){const D=LU(s,i,j);A.push(T[D[0]],T[D[1]])}if(I=[...I,{placement:s,overflows:A}],!A.every(D=>D<=0)){var k,N;const D=(((k=o.flip)==null?void 0:k.index)||0)+1,L=E[D];if(L&&(!(f==="alignment"?v!==Vs(L):!1)||I.every(M=>Vs(M.placement)===v?M.overflows[0]>0:!0)))return{data:{index:D,overflows:I},reset:{placement:L}};let B=(N=I.filter($=>$.overflows[0]<=0).sort(($,M)=>$.overflows[1]-M.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(m){case"bestFit":{var P;const $=(P=I.filter(M=>{if(F){const V=Vs(M.placement);return V===v||V==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(V=>V>0).reduce((V,G)=>V+G,0)]).sort((M,V)=>M[1]-V[1])[0])==null?void 0:P[0];$&&(B=$);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function HE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function GE(t){return RU.some(e=>t[e]>=0)}const GU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Po(t,e);switch(r){case"referenceHidden":{const o=await pd(e,{...s,elementContext:"reference"}),i=HE(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:GE(i)}}}case"escaped":{const o=await pd(e,{...s,altBoundary:!0}),i=HE(o,n.floating);return{data:{escapedOffsets:i,escaped:GE(i)}}}default:return{}}}}},n2=new Set(["left","top"]);async function KU(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Ao(n),l=Ec(n),c=Vs(n)==="y",u=n2.has(i)?-1:1,d=o&&c?-1:1,f=Po(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const YU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=e,c=await KU(e,t);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},QU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:S=>{let{x:_,y:v}=S;return{x:_,y:v}}},...c}=Po(t,e),u={x:n,y:r},d=await pd(e,c),f=Vs(Ao(s)),p=Vw(f);let m=u[p],y=u[f];if(o){const S=p==="y"?"top":"left",_=p==="y"?"bottom":"right",v=m+d[S],b=m-d[_];m=Sy(v,m,b)}if(i){const S=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=y+d[S],b=y-d[_];y=Sy(v,y,b)}const x=l.fn({...e,[p]:m,[f]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:o,[f]:i}}}}}},XU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Po(t,e),d={x:n,y:r},f=Vs(s),p=Vw(f);let m=d[p],y=d[f];const x=Po(l,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=p==="y"?"height":"width",j=o.reference[p]-o.floating[b]+S.mainAxis,R=o.reference[p]+o.reference[b]-S.mainAxis;m<j?m=j:m>R&&(m=R)}if(u){var _,v;const b=p==="y"?"width":"height",j=n2.has(Ao(s)),R=o.reference[f]-o.floating[b]+(j&&((_=i.offset)==null?void 0:_[f])||0)+(j?0:S.crossAxis),F=o.reference[f]+o.reference[b]+(j?0:((v=i.offset)==null?void 0:v[f])||0)-(j?S.crossAxis:0);y<R?y=R:y>F&&(y=F)}return{[p]:m,[f]:y}}}},JU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:l}=e,{apply:c=()=>{},...u}=Po(t,e),d=await pd(e,u),f=Ao(s),p=Ec(s),m=Vs(s)==="y",{width:y,height:x}=o.floating;let S,_;f==="top"||f==="bottom"?(S=f,_=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,S=p==="end"?"top":"bottom");const v=x-d.top-d.bottom,b=y-d.left-d.right,j=Ai(x-d[S],v),R=Ai(y-d[_],b),F=!e.middlewareData.shift;let E=j,T=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=v),F&&!p){const I=Ar(d.left,0),k=Ar(d.right,0),N=Ar(d.top,0),P=Ar(d.bottom,0);m?T=y-2*(I!==0||k!==0?I+k:Ar(d.left,d.right)):E=x-2*(N!==0||P!==0?N+P:Ar(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:E});const A=await i.getDimensions(l.floating);return y!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function jm(){return typeof window<"u"}function Cc(t){return r2(t)?(t.nodeName||"").toLowerCase():"#document"}function Lr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ro(t){var e;return(e=(r2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function r2(t){return jm()?t instanceof Node||t instanceof Lr(t).Node:!1}function _s(t){return jm()?t instanceof Element||t instanceof Lr(t).Element:!1}function Zs(t){return jm()?t instanceof HTMLElement||t instanceof Lr(t).HTMLElement:!1}function KE(t){return!jm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Lr(t).ShadowRoot}const ZU=new Set(["inline","contents"]);function Ud(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ss(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ZU.has(s)}const eB=new Set(["table","td","th"]);function tB(t){return eB.has(Cc(t))}const nB=[":popover-open",":modal"];function Pm(t){return nB.some(e=>{try{return t.matches(e)}catch{return!1}})}const rB=["transform","translate","scale","rotate","perspective"],sB=["transform","translate","scale","rotate","perspective","filter"],oB=["paint","layout","strict","content"];function Bw(t){const e=$w(),n=_s(t)?Ss(t):t;return rB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||sB.some(r=>(n.willChange||"").includes(r))||oB.some(r=>(n.contain||"").includes(r))}function iB(t){let e=Ii(t);for(;Zs(e)&&!ic(e);){if(Bw(e))return e;if(Pm(e))return null;e=Ii(e)}return null}function $w(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const aB=new Set(["html","body","#document"]);function ic(t){return aB.has(Cc(t))}function Ss(t){return Lr(t).getComputedStyle(t)}function Am(t){return _s(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ii(t){if(Cc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KE(t)&&t.host||ro(t);return KE(e)?e.host:e}function s2(t){const e=Ii(t);return ic(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zs(e)&&Ud(e)?e:s2(e)}function md(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=s2(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Lr(s);if(o){const l=Cy(i);return e.concat(i,i.visualViewport||[],Ud(s)?s:[],l&&n?md(l):[])}return e.concat(s,md(s,[],n))}function Cy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function o2(t){const e=Ss(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zs(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,l=Sp(n)!==o||Sp(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function qw(t){return _s(t)?t:t.contextElement}function Wl(t){const e=qw(t);if(!Zs(e))return Ws(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=o2(e);let i=(o?Sp(n.width):n.width)/r,l=(o?Sp(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const lB=Ws(0);function i2(t){const e=Lr(t);return!$w()||!e.visualViewport?lB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Lr(t)?!1:e}function Va(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=qw(t);let i=Ws(1);e&&(r?_s(r)&&(i=Wl(r)):i=Wl(t));const l=cB(o,n,r)?i2(o):Ws(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=Lr(o),m=r&&_s(r)?Lr(r):r;let y=p,x=Cy(y);for(;x&&r&&m!==y;){const S=Wl(x),_=x.getBoundingClientRect(),v=Ss(x),b=_.left+(x.clientLeft+parseFloat(v.paddingLeft))*S.x,j=_.top+(x.clientTop+parseFloat(v.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,f*=S.y,c+=b,u+=j,y=Lr(x),x=Cy(y)}}return Cp({width:d,height:f,x:c,y:u})}function Im(t,e){const n=Am(t).scrollLeft;return e?e.left+n:Va(ro(t)).left+n}function a2(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Im(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function uB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=ro(r),l=e?Pm(e.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Ws(1);const d=Ws(0),f=Zs(r);if((f||!f&&!o)&&((Cc(r)!=="body"||Ud(i))&&(c=Am(r)),Zs(r))){const m=Va(r);u=Wl(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=i&&!f&&!o?a2(i,c):Ws(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function dB(t){return Array.from(t.getClientRects())}function hB(t){const e=ro(t),n=Am(t),r=t.ownerDocument.body,s=Ar(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ar(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Im(t);const l=-n.scrollTop;return Ss(r).direction==="rtl"&&(i+=Ar(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}const YE=25;function fB(t,e){const n=Lr(t),r=ro(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=$w();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Im(r);if(u<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-m);y<=YE&&(o-=y)}else u<=YE&&(o+=u);return{width:o,height:i,x:l,y:c}}const pB=new Set(["absolute","fixed"]);function mB(t,e){const n=Va(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Zs(t)?Wl(t):Ws(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function QE(t,e,n){let r;if(e==="viewport")r=fB(t,n);else if(e==="document")r=hB(ro(t));else if(_s(e))r=mB(e,n);else{const s=i2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Cp(r)}function l2(t,e){const n=Ii(t);return n===e||!_s(n)||ic(n)?!1:Ss(n).position==="fixed"||l2(n,e)}function gB(t,e){const n=e.get(t);if(n)return n;let r=md(t,[],!1).filter(l=>_s(l)&&Cc(l)!=="body"),s=null;const o=Ss(t).position==="fixed";let i=o?Ii(t):t;for(;_s(i)&&!ic(i);){const l=Ss(i),c=Bw(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&pB.has(s.position)||Ud(i)&&!c&&l2(t,i))?r=r.filter(d=>d!==i):s=l,i=Ii(i)}return e.set(t,r),r}function vB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Pm(e)?[]:gB(e,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=QE(e,d,s);return u.top=Ar(f.top,u.top),u.right=Ai(f.right,u.right),u.bottom=Ai(f.bottom,u.bottom),u.left=Ar(f.left,u.left),u},QE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yB(t){const{width:e,height:n}=o2(t);return{width:e,height:n}}function xB(t,e,n){const r=Zs(e),s=ro(e),o=n==="fixed",i=Va(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Ws(0);function u(){c.x=Im(s)}if(r||!r&&!o)if((Cc(e)!=="body"||Ud(s))&&(l=Am(e)),r){const m=Va(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?a2(s,l):Ws(0),f=i.left+l.scrollLeft-c.x-d.x,p=i.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function bv(t){return Ss(t).position==="static"}function XE(t,e){if(!Zs(t)||Ss(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ro(t)===n&&(n=n.ownerDocument.body),n}function c2(t,e){const n=Lr(t);if(Pm(t))return n;if(!Zs(t)){let s=Ii(t);for(;s&&!ic(s);){if(_s(s)&&!bv(s))return s;s=Ii(s)}return n}let r=XE(t,e);for(;r&&tB(r)&&bv(r);)r=XE(r,e);return r&&ic(r)&&bv(r)&&!Bw(r)?n:r||iB(t)||n}const wB=async function(t){const e=this.getOffsetParent||c2,n=this.getDimensions,r=await n(t.floating);return{reference:xB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bB(t){return Ss(t).direction==="rtl"}const _B={convertOffsetParentRelativeRectToViewportRelativeRect:uB,getDocumentElement:ro,getClippingRect:vB,getOffsetParent:c2,getElementRects:wB,getClientRects:dB,getDimensions:yB,getScale:Wl,isElement:_s,isRTL:bB};function u2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SB(t,e){let n=null,r;const s=ro(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=u;if(l||e(),!p||!m)return;const y=qh(f),x=qh(s.clientWidth-(d+p)),S=qh(s.clientHeight-(f+m)),_=qh(d),b={rootMargin:-y+"px "+-x+"px "+-S+"px "+-_+"px",threshold:Ar(0,Ai(1,c))||1};let j=!0;function R(F){const E=F[0].intersectionRatio;if(E!==c){if(!j)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!u2(u,t.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(R,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,b)}n.observe(t)}return i(!0),o}function EB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qw(t),d=s||o?[...u?md(u):[],...md(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const f=u&&l?SB(u,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let y,x=c?Va(t):null;c&&S();function S(){const _=Va(t);x&&!u2(x,_)&&n(),x=_,y=requestAnimationFrame(S)}return n(),()=>{var _;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const CB=YU,TB=QU,NB=HU,kB=JU,jB=GU,JE=WU,PB=XU,AB=(t,e,n)=>{const r=new Map,s={platform:_B,...n},o={...s.platform,_c:r};return qU(t,e,{...s,platform:o})};var IB=typeof document<"u",RB=function(){},Ef=IB?g.useLayoutEffect:RB;function Tp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Tp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Tp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function d2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZE(t,e){const n=d2(t);return Math.round(e*n)/n}function _v(t){const e=g.useRef(t);return Ef(()=>{e.current=t}),e}function DB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=g.useState(r);Tp(p,r)||m(r);const[y,x]=g.useState(null),[S,_]=g.useState(null),v=g.useCallback(M=>{M!==F.current&&(F.current=M,x(M))},[]),b=g.useCallback(M=>{M!==E.current&&(E.current=M,_(M))},[]),j=o||y,R=i||S,F=g.useRef(null),E=g.useRef(null),T=g.useRef(d),A=c!=null,I=_v(c),k=_v(s),N=_v(u),P=g.useCallback(()=>{if(!F.current||!E.current)return;const M={placement:e,strategy:n,middleware:p};k.current&&(M.platform=k.current),AB(F.current,E.current,M).then(V=>{const G={...V,isPositioned:N.current!==!1};D.current&&!Tp(T.current,G)&&(T.current=G,Ts.flushSync(()=>{f(G)}))})},[p,e,n,k,N]);Ef(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const D=g.useRef(!1);Ef(()=>(D.current=!0,()=>{D.current=!1}),[]),Ef(()=>{if(j&&(F.current=j),R&&(E.current=R),j&&R){if(I.current)return I.current(j,R,P);P()}},[j,R,P,I,A]);const L=g.useMemo(()=>({reference:F,floating:E,setReference:v,setFloating:b}),[v,b]),B=g.useMemo(()=>({reference:j,floating:R}),[j,R]),$=g.useMemo(()=>{const M={position:n,left:0,top:0};if(!B.floating)return M;const V=ZE(B.floating,d.x),G=ZE(B.floating,d.y);return l?{...M,transform:"translate("+V+"px, "+G+"px)",...d2(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:G}},[n,l,B.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:P,refs:L,elements:B,floatingStyles:$}),[d,P,L,B,$])}const OB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JE({element:r.current,padding:s}).fn(n):{}:r?JE({element:r,padding:s}).fn(n):{}}}},MB=(t,e)=>({...CB(t),options:[t,e]}),LB=(t,e)=>({...TB(t),options:[t,e]}),FB=(t,e)=>({...PB(t),options:[t,e]}),VB=(t,e)=>({...NB(t),options:[t,e]}),zB=(t,e)=>({...kB(t),options:[t,e]}),UB=(t,e)=>({...jB(t),options:[t,e]}),BB=(t,e)=>({...OB(t),options:[t,e]});var $B="Arrow",h2=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return a.jsx(ze.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});h2.displayName=$B;var qB=h2;function WB(t){const[e,n]=g.useState(void 0);return An(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ww="Popper",[f2,Tc]=no(Ww),[HB,p2]=f2(Ww),m2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return a.jsx(HB,{scope:e,anchor:r,onAnchorChange:s,children:n})};m2.displayName=Ww;var g2="PopperAnchor",v2=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=p2(g2,n),i=g.useRef(null),l=yt(e,i),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:a.jsx(ze.div,{...s,ref:l})});v2.displayName=g2;var Hw="PopperContent",[GB,KB]=f2(Hw),y2=g.forwardRef((t,e)=>{var le,Ie,Ke,q,ce,re;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:y,...x}=t,S=p2(Hw,n),[_,v]=g.useState(null),b=yt(e,ke=>v(ke)),[j,R]=g.useState(null),F=WB(j),E=(F==null?void 0:F.width)??0,T=(F==null?void 0:F.height)??0,A=r+(o!=="center"?"-"+o:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],N=k.length>0,P={padding:I,boundary:k.filter(QB),altBoundary:N},{refs:D,floatingStyles:L,placement:B,isPositioned:$,middlewareData:M}=DB({strategy:"fixed",placement:A,whileElementsMounted:(...ke)=>EB(...ke,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[MB({mainAxis:s+T,alignmentAxis:i}),c&&LB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?FB():void 0,...P}),c&&VB({...P}),zB({...P,apply:({elements:ke,rects:Le,availableWidth:Qe,availableHeight:nt})=>{const{width:rt,height:gt}=Le.reference,Ot=ke.floating.style;Ot.setProperty("--radix-popper-available-width",`${Qe}px`),Ot.setProperty("--radix-popper-available-height",`${nt}px`),Ot.setProperty("--radix-popper-anchor-width",`${rt}px`),Ot.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),j&&BB({element:j,padding:l}),XB({arrowWidth:E,arrowHeight:T}),p&&UB({strategy:"referenceHidden",...P})]}),[V,G]=b2(B),K=rs(y);An(()=>{$&&(K==null||K())},[$,K]);const ie=(le=M.arrow)==null?void 0:le.x,ae=(Ie=M.arrow)==null?void 0:Ie.y,me=((Ke=M.arrow)==null?void 0:Ke.centerOffset)!==0,[Ue,Ae]=g.useState();return An(()=>{_&&Ae(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:$?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(q=M.transformOrigin)==null?void 0:q.x,(ce=M.transformOrigin)==null?void 0:ce.y].join(" "),...((re=M.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(GB,{scope:n,placedSide:V,onArrowChange:R,arrowX:ie,arrowY:ae,shouldHideArrow:me,children:a.jsx(ze.div,{"data-side":V,"data-align":G,...x,ref:b,style:{...x.style,animation:$?void 0:"none"}})})})});y2.displayName=Hw;var x2="PopperArrow",YB={top:"bottom",right:"left",bottom:"top",left:"right"},w2=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=KB(x2,r),i=YB[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(qB,{...s,ref:n,style:{...s.style,display:"block"}})})});w2.displayName=x2;function QB(t){return t!==null}var XB=t=>({name:"transformOrigin",options:t,fn(e){var S,_,v;const{placement:n,rects:r,middlewareData:s}=e,i=((S=s.arrow)==null?void 0:S.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=b2(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=i?f:`${p}px`,x=`${-c}px`):u==="top"?(y=i?f:`${p}px`,x=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=i?f:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,x=i?f:`${m}px`),{data:{x:y,y:x}}}});function b2(t){const[e,n="center"]=t.split("-");return[e,n]}var _2=m2,Rm=v2,Gw=y2,Kw=w2,[Dm,rne]=no("Tooltip",[Tc]),Yw=Tc(),JB="TooltipProvider",eC="tooltip.open",[sne,S2]=Dm(JB),E2="Tooltip",[one,Om]=Dm(E2),Ty="TooltipTrigger",ZB=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Om(Ty,n),o=S2(Ty,n),i=Yw(n),l=g.useRef(null),c=yt(e,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Rm,{asChild:!0,...i,children:a.jsx(ze.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ce(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ce(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ce(t.onBlur,s.onClose),onClick:Ce(t.onClick,s.onClose)})})});ZB.displayName=Ty;var e$="TooltipPortal",[ine,t$]=Dm(e$,{forceMount:void 0}),ac="TooltipContent",C2=g.forwardRef((t,e)=>{const n=t$(ac,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=Om(ac,t.__scopeTooltip);return a.jsx(Fo,{present:r||i.open,children:i.disableHoverableContent?a.jsx(T2,{side:s,...o,ref:e}):a.jsx(n$,{side:s,...o,ref:e})})}),n$=g.forwardRef((t,e)=>{const n=Om(ac,t.__scopeTooltip),r=S2(ac,t.__scopeTooltip),s=g.useRef(null),o=yt(e,s),[i,l]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=g.useCallback(()=>{l(null),f(!1)},[f]),m=g.useCallback((y,x)=>{const S=y.currentTarget,_={x:y.clientX,y:y.clientY},v=a$(_,S.getBoundingClientRect()),b=l$(_,v),j=c$(x.getBoundingClientRect()),R=d$([...b,...j]);l(R),f(!0)},[f]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(c&&d){const y=S=>m(S,d),x=S=>m(S,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,m,p]),g.useEffect(()=>{if(i){const y=x=>{const S=x.target,_={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(S))||(d==null?void 0:d.contains(S)),b=!u$(_,i);v?p():b&&(p(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,i,u,p]),a.jsx(T2,{...t,ref:o})}),[r$,s$]=Dm(E2,{isInside:!1}),o$=Dz("TooltipContent"),T2=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,c=Om(ac,n),u=Yw(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(eC,d),()=>document.removeEventListener(eC,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Sc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Gw,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(o$,{children:r}),a.jsx(r$,{scope:n,isInside:!0,children:a.jsx(oU,{id:c.contentId,role:"tooltip",children:s||r})})]})})});C2.displayName=ac;var N2="TooltipArrow",i$=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Yw(n);return s$(N2,n).isInside?null:a.jsx(Kw,{...s,...r,ref:e})});i$.displayName=N2;function a$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function l$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function c$(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function u$(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o],c=e[i],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function d$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),h$(e)}function h$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var k2=C2;const f$=Pe.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(k2,{ref:r,sideOffset:e,className:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));f$.displayName=k2.displayName;var Sv="focusScope.autoFocusOnMount",Ev="focusScope.autoFocusOnUnmount",tC={bubbles:!1,cancelable:!0},p$="FocusScope",Mm=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[l,c]=g.useState(null),u=rs(s),d=rs(o),f=g.useRef(null),p=yt(e,x=>c(x)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let x=function(b){if(m.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:Jo(f.current,{select:!0})},S=function(b){if(m.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Jo(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const R of b)R.removedNodes.length>0&&Jo(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const v=new MutationObserver(_);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),v.disconnect()}}},[r,l,m.paused]),g.useEffect(()=>{if(l){rC.add(m);const x=document.activeElement;if(!l.contains(x)){const _=new CustomEvent(Sv,tC);l.addEventListener(Sv,u),l.dispatchEvent(_),_.defaultPrevented||(m$(w$(j2(l)),{select:!0}),document.activeElement===x&&Jo(l))}return()=>{l.removeEventListener(Sv,u),setTimeout(()=>{const _=new CustomEvent(Ev,tC);l.addEventListener(Ev,d),l.dispatchEvent(_),_.defaultPrevented||Jo(x??document.body,{select:!0}),l.removeEventListener(Ev,d),rC.remove(m)},0)}}},[l,u,d,m]);const y=g.useCallback(x=>{if(!n&&!r||m.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(S&&_){const v=x.currentTarget,[b,j]=g$(v);b&&j?!x.shiftKey&&_===j?(x.preventDefault(),n&&Jo(b,{select:!0})):x.shiftKey&&_===b&&(x.preventDefault(),n&&Jo(j,{select:!0})):_===v&&x.preventDefault()}},[n,r,m.paused]);return a.jsx(ze.div,{tabIndex:-1,...i,ref:p,onKeyDown:y})});Mm.displayName=p$;function m$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Jo(r,{select:e}),document.activeElement!==n)return}function g$(t){const e=j2(t),n=nC(e,t),r=nC(e.reverse(),t);return[n,r]}function j2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nC(t,e){for(const n of t)if(!v$(n,{upTo:e}))return n}function v$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function y$(t){return t instanceof HTMLInputElement&&"select"in t}function Jo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&y$(t)&&e&&t.select()}}var rC=x$();function x$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sC(t,e),t.unshift(e)},remove(e){var n;t=sC(t,e),(n=t[0])==null||n.resume()}}}function sC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function w$(t){return t.filter(e=>e.tagName!=="A")}var Cv=0;function Qw(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??oC()),document.body.insertAdjacentElement("beforeend",t[1]??oC()),Cv++,()=>{Cv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cv--}},[])}function oC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ls=function(){return Ls=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ls.apply(this,arguments)};function P2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function nl(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function b$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Cf="right-scroll-bar-position",Tf="width-before-scroll-bar",_$="with-scroll-bars-hidden",S$="--removed-body-scroll-bar-size";function Tv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function E$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var C$=typeof window<"u"?g.useLayoutEffect:g.useEffect,iC=new WeakMap;function T$(t,e){var n=E$(e||null,function(r){return t.forEach(function(s){return Tv(s,r)})});return C$(function(){var r=iC.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(l){o.has(l)||Tv(l,null)}),o.forEach(function(l){s.has(l)||Tv(l,i)})}iC.set(n,t)},[t]),n}function N$(t){return t}function k$(t,e){e===void 0&&(e=N$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function j$(t){t===void 0&&(t={});var e=k$(null);return e.options=Ls({async:!0,ssr:!1},t),e}var A2=function(t){var e=t.sideCar,n=P2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Ls({},n))};A2.isSideCarExport=!0;function P$(t,e){return t.useMedium(e),A2}var I2=j$(),Nv=function(){},Lm=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Nv,onWheelCapture:Nv,onTouchMoveCapture:Nv}),s=r[0],o=r[1],i=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,y=t.noIsolation,x=t.inert,S=t.allowPinchZoom,_=t.as,v=_===void 0?"div":_,b=t.gapMode,j=P2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,F=T$([n,e]),E=Ls(Ls({},j),s);return g.createElement(g.Fragment,null,d&&g.createElement(R,{sideCar:I2,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:b}),i?g.cloneElement(g.Children.only(l),Ls(Ls({},E),{ref:F})):g.createElement(v,Ls({},E,{className:c,ref:F}),l))});Lm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lm.classNames={fullWidth:Tf,zeroRight:Cf};var aC,A$=function(){if(aC)return aC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=A$();return e&&t.setAttribute("nonce",e),t}function R$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function D$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var O$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=I$())&&(R$(e,n),D$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},M$=function(){var t=O$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},R2=function(){var t=M$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},L$={left:0,top:0,right:0,gap:0},kv=function(t){return parseInt(t||"",10)||0},F$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[kv(n),kv(r),kv(s)]},V$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return L$;var e=F$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},z$=R2(),Hl="data-scroll-locked",U$=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Hl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Tf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tf," .").concat(Tf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hl,`] {
    `).concat(S$,": ").concat(l,`px;
  }
`)},lC=function(){var t=parseInt(document.body.getAttribute(Hl)||"0",10);return isFinite(t)?t:0},B$=function(){g.useEffect(function(){return document.body.setAttribute(Hl,(lC()+1).toString()),function(){var t=lC()-1;t<=0?document.body.removeAttribute(Hl):document.body.setAttribute(Hl,t.toString())}},[])},$$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;B$();var o=g.useMemo(function(){return V$(s)},[s]);return g.createElement(z$,{styles:U$(o,!e,s,n?"":"!important")})},Ny=!1;if(typeof window<"u")try{var Wh=Object.defineProperty({},"passive",{get:function(){return Ny=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch{Ny=!1}var ul=Ny?{passive:!1}:!1,q$=function(t){return t.tagName==="TEXTAREA"},D2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!q$(t)&&n[e]==="visible")},W$=function(t){return D2(t,"overflowY")},H$=function(t){return D2(t,"overflowX")},cC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=O2(t,r);if(s){var o=M2(t,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},G$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},K$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},O2=function(t,e){return t==="v"?W$(e):H$(e)},M2=function(t,e){return t==="v"?G$(e):K$(e)},Y$=function(t,e){return t==="h"&&e==="rtl"?-1:1},Q$=function(t,e,n,r,s){var o=Y$(t,window.getComputedStyle(e).direction),i=o*r,l=n.target,c=e.contains(l),u=!1,d=i>0,f=0,p=0;do{if(!l)break;var m=M2(t,l),y=m[0],x=m[1],S=m[2],_=x-S-o*y;(y||_)&&O2(t,l)&&(f+=_,p+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(p)<1||!s&&-i>p))&&(u=!0),u},Hh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uC=function(t){return[t.deltaX,t.deltaY]},dC=function(t){return t&&"current"in t?t.current:t},X$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},J$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Z$=0,dl=[];function e8(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(Z$++)[0],o=g.useState(R2)[0],i=g.useRef(t);g.useEffect(function(){i.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=b$([t.lockRef.current],(t.shards||[]).map(dC),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var _=Hh(x),v=n.current,b="deltaX"in x?x.deltaX:v[0]-_[0],j="deltaY"in x?x.deltaY:v[1]-_[1],R,F=x.target,E=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in x&&E==="h"&&F.type==="range")return!1;var T=cC(E,F);if(!T)return!0;if(T?R=E:(R=E==="v"?"h":"v",T=cC(E,F)),!T)return!1;if(!r.current&&"changedTouches"in x&&(b||j)&&(r.current=R),!R)return!0;var A=r.current||R;return Q$(A,S,x,A==="h"?b:j,!0)},[]),c=g.useCallback(function(x){var S=x;if(!(!dl.length||dl[dl.length-1]!==o)){var _="deltaY"in S?uC(S):Hh(S),v=e.current.filter(function(R){return R.name===S.type&&(R.target===S.target||S.target===R.shadowParent)&&X$(R.delta,_)})[0];if(v&&v.should){S.cancelable&&S.preventDefault();return}if(!v){var b=(i.current.shards||[]).map(dC).filter(Boolean).filter(function(R){return R.contains(S.target)}),j=b.length>0?l(S,b[0]):!i.current.noIsolation;j&&S.cancelable&&S.preventDefault()}}},[]),u=g.useCallback(function(x,S,_,v){var b={name:x,delta:S,target:_,should:v,shadowParent:t8(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(j){return j!==b})},1)},[]),d=g.useCallback(function(x){n.current=Hh(x),r.current=void 0},[]),f=g.useCallback(function(x){u(x.type,uC(x),x.target,l(x,t.lockRef.current))},[]),p=g.useCallback(function(x){u(x.type,Hh(x),x.target,l(x,t.lockRef.current))},[]);g.useEffect(function(){return dl.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ul),document.addEventListener("touchmove",c,ul),document.addEventListener("touchstart",d,ul),function(){dl=dl.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,ul),document.removeEventListener("touchmove",c,ul),document.removeEventListener("touchstart",d,ul)}},[]);var m=t.removeScrollBar,y=t.inert;return g.createElement(g.Fragment,null,y?g.createElement(o,{styles:J$(s)}):null,m?g.createElement($$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function t8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const n8=P$(I2,e8);var L2=g.forwardRef(function(t,e){return g.createElement(Lm,Ls({},t,{ref:e,sideCar:n8}))});L2.classNames=Lm.classNames;const Xw=L2;var r8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hl=new WeakMap,Gh=new WeakMap,Kh={},jv=0,F2=function(t){return t&&(t.host||F2(t.parentNode))},s8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=F2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},o8=function(t,e,n,r){var s=s8(e,Array.isArray(t)?t:[t]);Kh[n]||(Kh[n]=new WeakMap);var o=Kh[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var m=p.getAttribute(r),y=m!==null&&m!=="false",x=(hl.get(p)||0)+1,S=(o.get(p)||0)+1;hl.set(p,x),o.set(p,S),i.push(p),x===1&&y&&Gh.set(p,!0),S===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),l.clear(),jv++,function(){i.forEach(function(f){var p=hl.get(f)-1,m=o.get(f)-1;hl.set(f,p),o.set(f,m),p||(Gh.has(f)||f.removeAttribute(r),Gh.delete(f)),m||f.removeAttribute(n)}),jv--,jv||(hl=new WeakMap,hl=new WeakMap,Gh=new WeakMap,Kh={})}},Jw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||r8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),o8(r,s,n,"aria-hidden")):function(){return null}},Fm="Dialog",[V2,ane]=no(Fm),[i8,Ns]=V2(Fm),z2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,l=g.useRef(null),c=g.useRef(null),[u,d]=Fa({prop:r,defaultProp:s??!1,onChange:o,caller:Fm});return a.jsx(i8,{scope:e,triggerRef:l,contentRef:c,contentId:So(),titleId:So(),descriptionId:So(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};z2.displayName=Fm;var U2="DialogTrigger",B2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(U2,n),o=yt(e,s.triggerRef);return a.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tb(s.open),...r,ref:o,onClick:Ce(t.onClick,s.onOpenToggle)})});B2.displayName=U2;var Zw="DialogPortal",[a8,$2]=V2(Zw,{forceMount:void 0}),q2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Ns(Zw,e);return a.jsx(a8,{scope:e,forceMount:n,children:g.Children.map(r,i=>a.jsx(Fo,{present:n||o.open,children:a.jsx(Vd,{asChild:!0,container:s,children:i})}))})};q2.displayName=Zw;var Np="DialogOverlay",W2=g.forwardRef((t,e)=>{const n=$2(Np,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ns(Np,t.__scopeDialog);return o.modal?a.jsx(Fo,{present:r||o.open,children:a.jsx(c8,{...s,ref:e})}):null});W2.displayName=Np;var l8=La("DialogOverlay.RemoveScroll"),c8=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(Np,n);return a.jsx(Xw,{as:l8,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ze.div,{"data-state":tb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),za="DialogContent",H2=g.forwardRef((t,e)=>{const n=$2(za,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ns(za,t.__scopeDialog);return a.jsx(Fo,{present:r||o.open,children:o.modal?a.jsx(u8,{...s,ref:e}):a.jsx(d8,{...s,ref:e})})});H2.displayName=za;var u8=g.forwardRef((t,e)=>{const n=Ns(za,t.__scopeDialog),r=g.useRef(null),s=yt(e,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return Jw(o)},[]),a.jsx(G2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,o=>o.preventDefault())})}),d8=g.forwardRef((t,e)=>{const n=Ns(za,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(G2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),G2=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,l=Ns(za,n),c=g.useRef(null),u=yt(e,c);return Qw(),a.jsxs(a.Fragment,{children:[a.jsx(Mm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Sc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tb(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(h8,{titleId:l.titleId}),a.jsx(p8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),eb="DialogTitle",K2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(eb,n);return a.jsx(ze.h2,{id:s.titleId,...r,ref:e})});K2.displayName=eb;var Y2="DialogDescription",Q2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(Y2,n);return a.jsx(ze.p,{id:s.descriptionId,...r,ref:e})});Q2.displayName=Y2;var X2="DialogClose",J2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(X2,n);return a.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});J2.displayName=X2;function tb(t){return t?"open":"closed"}var Z2="DialogTitleWarning",[lne,eI]=Vz(Z2,{contentName:za,titleName:eb,docsSlug:"dialog"}),h8=({titleId:t})=>{const e=eI(Z2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},f8="DialogDescriptionWarning",p8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eI(f8).contentName}}.`;return g.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},m8=z2,g8=B2,v8=q2,tI=W2,nI=H2,rI=K2,sI=Q2,y8=J2;const Wn=m8,Nf=g8,x8=v8,oI=Pe.forwardRef(({className:t,...e},n)=>a.jsx(tI,{ref:n,className:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));oI.displayName=tI.displayName;const En=Pe.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(x8,{children:[a.jsx(oI,{}),a.jsxs(nI,{ref:r,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(y8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));En.displayName=nI.displayName;const Cn=({className:t,...e})=>a.jsx("div",{className:qe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Cn.displayName="DialogHeader";const Tn=Pe.forwardRef(({className:t,...e},n)=>a.jsx(rI,{ref:n,className:qe("text-lg font-semibold leading-none tracking-tight",t),...e}));Tn.displayName=rI.displayName;const Vm=Pe.forwardRef(({className:t,...e},n)=>a.jsx(sI,{ref:n,className:qe("text-sm text-muted-foreground",t),...e}));Vm.displayName=sI.displayName;const fe=Pe.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));fe.displayName="Input";var w8="Label",iI=g.forwardRef((t,e)=>a.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iI.displayName=w8;var aI=iI;const b8=Tm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=Pe.forwardRef(({className:t,...e},n)=>a.jsx(aI,{ref:n,className:qe(b8(),t),...e}));ne.displayName=aI.displayName;const gd=Pe.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));gd.displayName="Textarea";function hC(t,[e,n]){return Math.min(n,Math.max(e,t))}var _8=g.createContext(void 0);function nb(t){const e=g.useContext(_8);return t||e||"ltr"}function S8(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var E8=[" ","Enter","ArrowUp","ArrowDown"],C8=[" ","Enter"],Ua="Select",[zm,Um,T8]=Ow(Ua),[Nc,cne]=no(Ua,[T8,Tc]),Bm=Tc(),[N8,Hi]=Nc(Ua),[k8,j8]=Nc(Ua),lI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:m,form:y}=t,x=Bm(e),[S,_]=g.useState(null),[v,b]=g.useState(null),[j,R]=g.useState(!1),F=nb(u),[E,T]=Fa({prop:r,defaultProp:s??!1,onChange:o,caller:Ua}),[A,I]=Fa({prop:i,defaultProp:l,onChange:c,caller:Ua}),k=g.useRef(null),N=S?y||!!S.closest("form"):!0,[P,D]=g.useState(new Set),L=Array.from(P).map(B=>B.props.value).join(";");return a.jsx(_2,{...x,children:a.jsxs(N8,{required:m,scope:e,trigger:S,onTriggerChange:_,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:R,contentId:So(),value:A,onValueChange:I,open:E,onOpenChange:T,dir:F,triggerPointerDownPosRef:k,disabled:p,children:[a.jsx(zm.Provider,{scope:e,children:a.jsx(k8,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(B=>{D($=>new Set($).add(B))},[]),onNativeOptionRemove:g.useCallback(B=>{D($=>{const M=new Set($);return M.delete(B),M})},[]),children:n})}),N?a.jsxs(II,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:B=>I(B.target.value),disabled:p,form:y,children:[A===void 0?a.jsx("option",{value:""}):null,Array.from(P)]},L):null]})})};lI.displayName=Ua;var cI="SelectTrigger",uI=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Bm(n),i=Hi(cI,n),l=i.disabled||r,c=yt(e,i.onTriggerChange),u=Um(n),d=g.useRef("touch"),[f,p,m]=DI(x=>{const S=u().filter(b=>!b.disabled),_=S.find(b=>b.value===i.value),v=OI(S,x,_);v!==void 0&&i.onValueChange(v.value)}),y=x=>{l||(i.onOpenChange(!0),m()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(Rm,{asChild:!0,...o,children:a.jsx(ze.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":RI(i.value)?"":void 0,...s,ref:c,onClick:Ce(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:Ce(s.onPointerDown,x=>{d.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Ce(s.onKeyDown,x=>{const S=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(S&&x.key===" ")&&E8.includes(x.key)&&(y(),x.preventDefault())})})})});uI.displayName=cI;var dI="SelectValue",hI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=t,c=Hi(dI,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=yt(e,c.onValueNodeChange);return An(()=>{u(d)},[u,d]),a.jsx(ze.span,{...l,ref:f,style:{pointerEvents:"none"},children:RI(c.value)?a.jsx(a.Fragment,{children:i}):o})});hI.displayName=dI;var P8="SelectIcon",fI=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(ze.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});fI.displayName=P8;var A8="SelectPortal",pI=t=>a.jsx(Vd,{asChild:!0,...t});pI.displayName=A8;var Ba="SelectContent",mI=g.forwardRef((t,e)=>{const n=Hi(Ba,t.__scopeSelect),[r,s]=g.useState();if(An(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Ts.createPortal(a.jsx(gI,{scope:t.__scopeSelect,children:a.jsx(zm.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),o):null}return a.jsx(vI,{...t,ref:e})});mI.displayName=Ba;var cs=10,[gI,Gi]=Nc(Ba),I8="SelectContentImpl",R8=La("SelectContent.RemoveScroll"),vI=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:S,..._}=t,v=Hi(Ba,n),[b,j]=g.useState(null),[R,F]=g.useState(null),E=yt(e,le=>j(le)),[T,A]=g.useState(null),[I,k]=g.useState(null),N=Um(n),[P,D]=g.useState(!1),L=g.useRef(!1);g.useEffect(()=>{if(b)return Jw(b)},[b]),Qw();const B=g.useCallback(le=>{const[Ie,...Ke]=N().map(re=>re.ref.current),[q]=Ke.slice(-1),ce=document.activeElement;for(const re of le)if(re===ce||(re==null||re.scrollIntoView({block:"nearest"}),re===Ie&&R&&(R.scrollTop=0),re===q&&R&&(R.scrollTop=R.scrollHeight),re==null||re.focus(),document.activeElement!==ce))return},[N,R]),$=g.useCallback(()=>B([T,b]),[B,T,b]);g.useEffect(()=>{P&&$()},[P,$]);const{onOpenChange:M,triggerPointerDownPosRef:V}=v;g.useEffect(()=>{if(b){let le={x:0,y:0};const Ie=q=>{var ce,re;le={x:Math.abs(Math.round(q.pageX)-(((ce=V.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(q.pageY)-(((re=V.current)==null?void 0:re.y)??0))}},Ke=q=>{le.x<=10&&le.y<=10?q.preventDefault():b.contains(q.target)||M(!1),document.removeEventListener("pointermove",Ie),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",Ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",Ke,{capture:!0})}}},[b,M,V]),g.useEffect(()=>{const le=()=>M(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[M]);const[G,K]=DI(le=>{const Ie=N().filter(ce=>!ce.disabled),Ke=Ie.find(ce=>ce.ref.current===document.activeElement),q=OI(Ie,le,Ke);q&&setTimeout(()=>q.ref.current.focus())}),ie=g.useCallback((le,Ie,Ke)=>{const q=!L.current&&!Ke;(v.value!==void 0&&v.value===Ie||q)&&(A(le),q&&(L.current=!0))},[v.value]),ae=g.useCallback(()=>b==null?void 0:b.focus(),[b]),me=g.useCallback((le,Ie,Ke)=>{const q=!L.current&&!Ke;(v.value!==void 0&&v.value===Ie||q)&&k(le)},[v.value]),Ue=r==="popper"?ky:yI,Ae=Ue===ky?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:S}:{};return a.jsx(gI,{scope:n,content:b,viewport:R,onViewportChange:F,itemRefCallback:ie,selectedItem:T,onItemLeave:ae,itemTextRefCallback:me,focusSelectedItem:$,selectedItemText:I,position:r,isPositioned:P,searchRef:G,children:a.jsx(Xw,{as:R8,allowPinchZoom:!0,children:a.jsx(Mm,{asChild:!0,trapped:v.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ce(s,le=>{var Ie;(Ie=v.trigger)==null||Ie.focus({preventScroll:!0}),le.preventDefault()}),children:a.jsx(Sc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Ue,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:le=>le.preventDefault(),..._,...Ae,onPlaced:()=>D(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ce(_.onKeyDown,le=>{const Ie=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Ie&&le.key.length===1&&K(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let q=N().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(le.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ce=le.target,re=q.indexOf(ce);q=q.slice(re+1)}setTimeout(()=>B(q)),le.preventDefault()}})})})})})})});vI.displayName=I8;var D8="SelectItemAlignedPosition",yI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Hi(Ba,n),i=Gi(Ba,n),[l,c]=g.useState(null),[u,d]=g.useState(null),f=yt(e,E=>d(E)),p=Um(n),m=g.useRef(!1),y=g.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:_,focusSelectedItem:v}=i,b=g.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&S&&_){const E=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),I=_.getBoundingClientRect();if(o.dir!=="rtl"){const ce=I.left-T.left,re=A.left-ce,ke=E.left-re,Le=E.width+ke,Qe=Math.max(Le,T.width),nt=window.innerWidth-cs,rt=hC(re,[cs,Math.max(cs,nt-Qe)]);l.style.minWidth=Le+"px",l.style.left=rt+"px"}else{const ce=T.right-I.right,re=window.innerWidth-A.right-ce,ke=window.innerWidth-E.right-re,Le=E.width+ke,Qe=Math.max(Le,T.width),nt=window.innerWidth-cs,rt=hC(re,[cs,Math.max(cs,nt-Qe)]);l.style.minWidth=Le+"px",l.style.right=rt+"px"}const k=p(),N=window.innerHeight-cs*2,P=x.scrollHeight,D=window.getComputedStyle(u),L=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),$=parseInt(D.borderBottomWidth,10),M=parseInt(D.paddingBottom,10),V=L+B+P+M+$,G=Math.min(S.offsetHeight*5,V),K=window.getComputedStyle(x),ie=parseInt(K.paddingTop,10),ae=parseInt(K.paddingBottom,10),me=E.top+E.height/2-cs,Ue=N-me,Ae=S.offsetHeight/2,le=S.offsetTop+Ae,Ie=L+B+le,Ke=V-Ie;if(Ie<=me){const ce=k.length>0&&S===k[k.length-1].ref.current;l.style.bottom="0px";const re=u.clientHeight-x.offsetTop-x.offsetHeight,ke=Math.max(Ue,Ae+(ce?ae:0)+re+$),Le=Ie+ke;l.style.height=Le+"px"}else{const ce=k.length>0&&S===k[0].ref.current;l.style.top="0px";const ke=Math.max(me,L+x.offsetTop+(ce?ie:0)+Ae)+Ke;l.style.height=ke+"px",x.scrollTop=Ie-me+x.offsetTop}l.style.margin=`${cs}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,l,u,x,S,_,o.dir,r]);An(()=>b(),[b]);const[j,R]=g.useState();An(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const F=g.useCallback(E=>{E&&y.current===!0&&(b(),v==null||v(),y.current=!1)},[b,v]);return a.jsx(M8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:F,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(ze.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});yI.displayName=D8;var O8="SelectPopperPosition",ky=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=cs,...o}=t,i=Bm(n);return a.jsx(Gw,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ky.displayName=O8;var[M8,rb]=Nc(Ba,{}),jy="SelectViewport",xI=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Gi(jy,n),i=rb(jy,n),l=yt(e,o.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(zm.Slot,{scope:n,children:a.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ce(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-cs*2,x=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),_=Math.max(x,S);if(_<y){const v=_+m,b=Math.min(y,v),j=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});xI.displayName=jy;var wI="SelectGroup",[L8,F8]=Nc(wI),V8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=So();return a.jsx(L8,{scope:n,id:s,children:a.jsx(ze.div,{role:"group","aria-labelledby":s,...r,ref:e})})});V8.displayName=wI;var bI="SelectLabel",_I=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=F8(bI,n);return a.jsx(ze.div,{id:s.id,...r,ref:e})});_I.displayName=bI;var kp="SelectItem",[z8,SI]=Nc(kp),EI=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,l=Hi(kp,n),c=Gi(kp,n),u=l.value===r,[d,f]=g.useState(o??""),[p,m]=g.useState(!1),y=yt(e,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),x=So(),S=g.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(z8,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:g.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(zm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(ze.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:Ce(i.onFocus,()=>m(!0)),onBlur:Ce(i.onBlur,()=>m(!1)),onClick:Ce(i.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:Ce(i.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:Ce(i.onPointerDown,v=>{S.current=v.pointerType}),onPointerMove:Ce(i.onPointerMove,v=>{var b;S.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):S.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(i.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ce(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(C8.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});EI.displayName=kp;var wu="SelectItemText",CI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=Hi(wu,n),l=Gi(wu,n),c=SI(wu,n),u=j8(wu,n),[d,f]=g.useState(null),p=yt(e,_=>f(_),c.onItemTextChange,_=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,_,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=u;return An(()=>(x(y),()=>S(y)),[x,S,y]),a.jsxs(a.Fragment,{children:[a.jsx(ze.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ts.createPortal(o.children,i.valueNode):null]})});CI.displayName=wu;var TI="SelectItemIndicator",NI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return SI(TI,n).isSelected?a.jsx(ze.span,{"aria-hidden":!0,...r,ref:e}):null});NI.displayName=TI;var Py="SelectScrollUpButton",kI=g.forwardRef((t,e)=>{const n=Gi(Py,t.__scopeSelect),r=rb(Py,t.__scopeSelect),[s,o]=g.useState(!1),i=yt(e,r.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(PI,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kI.displayName=Py;var Ay="SelectScrollDownButton",jI=g.forwardRef((t,e)=>{const n=Gi(Ay,t.__scopeSelect),r=rb(Ay,t.__scopeSelect),[s,o]=g.useState(!1),i=yt(e,r.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(PI,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});jI.displayName=Ay;var PI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Gi("SelectScrollButton",n),i=g.useRef(null),l=Um(n),c=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),An(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(ze.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ce(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ce(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ce(s.onPointerLeave,()=>{c()})})}),U8="SelectSeparator",AI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(ze.div,{"aria-hidden":!0,...r,ref:e})});AI.displayName=U8;var Iy="SelectArrow",B8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Bm(n),o=Hi(Iy,n),i=Gi(Iy,n);return o.open&&i.position==="popper"?a.jsx(Kw,{...s,...r,ref:e}):null});B8.displayName=Iy;var $8="SelectBubbleInput",II=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),o=yt(r,s),i=S8(e);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[i,e]),a.jsx(ze.select,{...n,style:{...PA,...n.style},ref:o,defaultValue:e})});II.displayName=$8;function RI(t){return t===""||t===void 0}function DI(t){const e=rs(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(i=>{const l=n.current+i;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function OI(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=q8(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function q8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var W8=lI,MI=uI,H8=hI,G8=fI,K8=pI,LI=mI,Y8=xI,FI=_I,VI=EI,Q8=CI,X8=NI,zI=kI,UI=jI,BI=AI;const ut=W8,dt=H8,at=Pe.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(MI,{ref:r,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(G8,{asChild:!0,children:a.jsx(dA,{className:"h-4 w-4 opacity-50"})})]}));at.displayName=MI.displayName;const $I=Pe.forwardRef(({className:t,...e},n)=>a.jsx(zI,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx($9,{className:"h-4 w-4"})}));$I.displayName=zI.displayName;const qI=Pe.forwardRef(({className:t,...e},n)=>a.jsx(UI,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(dA,{className:"h-4 w-4"})}));qI.displayName=UI.displayName;const lt=Pe.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(K8,{children:a.jsxs(LI,{ref:s,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx($I,{}),a.jsx(Y8,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(qI,{})]})}));lt.displayName=LI.displayName;const J8=Pe.forwardRef(({className:t,...e},n)=>a.jsx(FI,{ref:n,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));J8.displayName=FI.displayName;const oe=Pe.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(VI,{ref:r,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(X8,{children:a.jsx(U9,{className:"h-4 w-4"})})}),a.jsx(Q8,{children:e})]}));oe.displayName=VI.displayName;const Z8=Pe.forwardRef(({className:t,...e},n)=>a.jsx(BI,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",t),...e}));Z8.displayName=BI.displayName;const e7=Tm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ri({className:t,variant:e,...n}){return a.jsx("div",{className:qe(e7({variant:e}),t),...n})}const Kt=Pe.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:qe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Kt.displayName="Card";const nn=Pe.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:qe("flex flex-col space-y-1.5 p-6",t),...e}));nn.displayName="CardHeader";const rn=Pe.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:qe("text-2xl font-semibold leading-none tracking-tight",t),...e}));rn.displayName="CardTitle";const mo=Pe.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:qe("text-sm text-muted-foreground",t),...e}));mo.displayName="CardDescription";const Yt=Pe.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:qe("p-6 pt-0",t),...e}));Yt.displayName="CardContent";const t7=Pe.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:qe("flex items-center p-6 pt-0",t),...e}));t7.displayName="CardFooter";var Pv="rovingFocusGroup.onEntryFocus",n7={bubbles:!1,cancelable:!0},Bd="RovingFocusGroup",[Ry,WI,r7]=Ow(Bd),[s7,HI]=no(Bd,[r7]),[o7,i7]=s7(Bd),GI=g.forwardRef((t,e)=>a.jsx(Ry.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Ry.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(a7,{...t,ref:e})})}));GI.displayName=Bd;var a7=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=g.useRef(null),m=yt(e,p),y=nb(o),[x,S]=Fa({prop:i,defaultProp:l??null,onChange:c,caller:Bd}),[_,v]=g.useState(!1),b=rs(u),j=WI(n),R=g.useRef(!1),[F,E]=g.useState(0);return g.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Pv,b),()=>T.removeEventListener(Pv,b)},[b]),a.jsx(o7,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:x,onItemFocus:g.useCallback(T=>S(T),[S]),onItemShiftTab:g.useCallback(()=>v(!0),[]),onFocusableItemAdd:g.useCallback(()=>E(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>E(T=>T-1),[]),children:a.jsx(ze.div,{tabIndex:_||F===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{R.current=!0}),onFocus:Ce(t.onFocus,T=>{const A=!R.current;if(T.target===T.currentTarget&&A&&!_){const I=new CustomEvent(Pv,n7);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const k=j().filter(B=>B.focusable),N=k.find(B=>B.active),P=k.find(B=>B.id===x),L=[N,P,...k].filter(Boolean).map(B=>B.ref.current);QI(L,d)}}R.current=!1}),onBlur:Ce(t.onBlur,()=>v(!1))})})}),KI="RovingFocusGroupItem",YI=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=t,c=So(),u=o||c,d=i7(KI,n),f=d.currentTabStopId===u,p=WI(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:x}=d;return g.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),a.jsx(Ry.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(ze.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ce(t.onMouseDown,S=>{r?d.onItemFocus(u):S.preventDefault()}),onFocus:Ce(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ce(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=u7(S,d.orientation,d.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let b=p().filter(j=>j.focusable).map(j=>j.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const j=b.indexOf(S.currentTarget);b=d.loop?d7(b,j+1):b.slice(j+1)}setTimeout(()=>QI(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});YI.displayName=KI;var l7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function c7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function u7(t,e,n){const r=c7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return l7[r]}function QI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function d7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var h7=GI,f7=YI,$m="Tabs",[p7,une]=no($m,[HI]),XI=HI(),[m7,sb]=p7($m),JI=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=nb(l),[f,p]=Fa({prop:r,onChange:s,defaultProp:o??"",caller:$m});return a.jsx(m7,{scope:n,baseId:So(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:c,children:a.jsx(ze.div,{dir:d,"data-orientation":i,...u,ref:e})})});JI.displayName=$m;var ZI="TabsList",eR=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=sb(ZI,n),i=XI(n);return a.jsx(h7,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(ze.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});eR.displayName=ZI;var tR="TabsTrigger",nR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=sb(tR,n),l=XI(n),c=oR(i.baseId,r),u=iR(i.baseId,r),d=r===i.value;return a.jsx(f7,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(ze.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:Ce(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Ce(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Ce(t.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});nR.displayName=tR;var rR="TabsContent",sR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,l=sb(rR,n),c=oR(l.baseId,r),u=iR(l.baseId,r),d=r===l.value,f=g.useRef(d);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(Fo,{present:s||d,children:({present:p})=>a.jsx(ze.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});sR.displayName=rR;function oR(t,e){return`${t}-trigger-${e}`}function iR(t,e){return`${t}-content-${e}`}var g7=JI,aR=eR,lR=nR,cR=sR;const $a=g7,Di=Pe.forwardRef(({className:t,...e},n)=>a.jsx(aR,{ref:n,className:qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Di.displayName=aR.displayName;const Pt=Pe.forwardRef(({className:t,...e},n)=>a.jsx(lR,{ref:n,className:qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Pt.displayName=lR.displayName;const hn=Pe.forwardRef(({className:t,...e},n)=>a.jsx(cR,{ref:n,className:qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));hn.displayName=cR.displayName;const v7=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function lc(t,e,n){const r=y7(t),{webkitRelativePath:s}=t,o=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof r.path!="string"&&fC(r,"path",o),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),fC(r,"relativePath",o),r}function y7(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),s=v7.get(r);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function fC(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const x7=[".DS_Store","Thumbs.db"];function w7(t){return nl(this,void 0,void 0,function*(){return jp(t)&&b7(t.dataTransfer)?C7(t.dataTransfer,t.type):_7(t)?S7(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?E7(t):[]})}function b7(t){return jp(t)}function _7(t){return jp(t)&&jp(t.target)}function jp(t){return typeof t=="object"&&t!==null}function S7(t){return Dy(t.target.files).map(e=>lc(e))}function E7(t){return nl(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>lc(n))})}function C7(t,e){return nl(this,void 0,void 0,function*(){if(t.items){const n=Dy(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(T7));return pC(uR(r))}return pC(Dy(t.files).map(n=>lc(n)))})}function pC(t){return t.filter(e=>x7.indexOf(e.name)===-1)}function Dy(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function T7(t){if(typeof t.webkitGetAsEntry!="function")return mC(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?dR(e):mC(t,e)}function uR(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?uR(n):[n]],[])}function mC(t,e){return nl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const i=yield o.getFile();return i.handle=o,lc(i)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return lc(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function N7(t){return nl(this,void 0,void 0,function*(){return t.isDirectory?dR(t):k7(t)})}function dR(t){const e=t.createReader();return new Promise((n,r)=>{const s=[];function o(){e.readEntries(i=>nl(this,void 0,void 0,function*(){if(i.length){const l=Promise.all(i.map(N7));s.push(l),o()}else try{const l=yield Promise.all(s);n(l)}catch(l){r(l)}}),i=>{r(i)})}o()})}function k7(t){return nl(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const s=lc(r,t.fullPath);e(s)},r=>{n(r)})})})}var Av=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return n.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):s===l})}return!0};function gC(t){return A7(t)||P7(t)||fR(t)||j7()}function j7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A7(t){if(Array.isArray(t))return Oy(t)}function vC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(n),!0).forEach(function(r){hR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vd(t,e){return D7(t)||R7(t,e)||fR(t,e)||I7()}function I7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fR(t,e){if(t){if(typeof t=="string")return Oy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oy(t,e)}}function Oy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function D7(t){if(Array.isArray(t))return t}var O7=typeof Av=="function"?Av:Av.default,M7="file-invalid-type",L7="file-too-large",F7="file-too-small",V7="too-many-files",z7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:M7,message:"File type must be ".concat(r)}},xC=function(e){return{code:L7,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},wC=function(e){return{code:F7,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},U7={code:V7,message:"Too many files"};function pR(t,e){var n=t.type==="application/x-moz-file"||O7(t,e);return[n,n?null:z7(e)]}function mR(t,e,n){if(pa(t.size))if(pa(e)&&pa(n)){if(t.size>n)return[!1,xC(n)];if(t.size<e)return[!1,wC(e)]}else{if(pa(e)&&t.size<e)return[!1,wC(e)];if(pa(n)&&t.size>n)return[!1,xC(n)]}return[!0,null]}function pa(t){return t!=null}function B7(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,o=t.multiple,i=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&i>=1&&e.length>i?!1:e.every(function(c){var u=pR(c,n),d=vd(u,1),f=d[0],p=mR(c,r,s),m=vd(p,1),y=m[0],x=l?l(c):null;return f&&y&&!x})}function Pp(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Yh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function bC(t){t.preventDefault()}function $7(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function q7(t){return t.indexOf("Edge/")!==-1}function W7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return $7(t)||q7(t)}function Is(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return e.some(function(l){return!Pp(r)&&l&&l.apply(void 0,[r].concat(o)),Pp(r)})}}function H7(){return"showOpenFilePicker"in window}function G7(t){if(pa(t)){var e=Object.entries(t).filter(function(n){var r=vd(n,2),s=r[0],o=r[1],i=!0;return gR(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(o)||!o.every(vR))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(n,r){var s=vd(r,2),o=s[0],i=s[1];return yC(yC({},n),{},hR({},o,i))},{});return[{description:"Files",accept:e}]}return t}function K7(t){if(pa(t))return Object.entries(t).reduce(function(e,n){var r=vd(n,2),s=r[0],o=r[1];return[].concat(gC(e),[s],gC(o))},[]).filter(function(e){return gR(e)||vR(e)}).join(",")}function Y7(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Q7(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function gR(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function vR(t){return/^.*\.[\w]+$/.test(t)}var X7=["children"],J7=["open"],Z7=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],eq=["refKey","onChange","onClick"];function tq(t){return sq(t)||rq(t)||yR(t)||nq()}function nq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sq(t){if(Array.isArray(t))return My(t)}function Iv(t,e){return aq(t)||iq(t,e)||yR(t,e)||oq()}function oq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yR(t,e){if(t){if(typeof t=="string")return My(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(t,e)}}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function aq(t){if(Array.isArray(t))return t}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){Ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ly(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ap(t,e){if(t==null)return{};var n=lq(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var ob=g.forwardRef(function(t,e){var n=t.children,r=Ap(t,X7),s=ib(r),o=s.open,i=Ap(s,J7);return g.useImperativeHandle(e,function(){return{open:o}},[o]),Pe.createElement(g.Fragment,null,n(Mt(Mt({},i),{},{open:o})))});ob.displayName="Dropzone";var xR={disabled:!1,getFilesFromEvent:w7,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ob.defaultProps=xR;ob.propTypes={children:je.func,accept:je.objectOf(je.arrayOf(je.string)),multiple:je.bool,preventDropOnDocument:je.bool,noClick:je.bool,noKeyboard:je.bool,noDrag:je.bool,noDragEventsBubbling:je.bool,minSize:je.number,maxSize:je.number,maxFiles:je.number,disabled:je.bool,getFilesFromEvent:je.func,onFileDialogCancel:je.func,onFileDialogOpen:je.func,useFsAccessApi:je.bool,autoFocus:je.bool,onDragEnter:je.func,onDragLeave:je.func,onDragOver:je.func,onDrop:je.func,onDropAccepted:je.func,onDropRejected:je.func,onError:je.func,validator:je.func};var Fy={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ib(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Mt(Mt({},xR),t),n=e.accept,r=e.disabled,s=e.getFilesFromEvent,o=e.maxSize,i=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,y=e.onDropRejected,x=e.onFileDialogCancel,S=e.onFileDialogOpen,_=e.useFsAccessApi,v=e.autoFocus,b=e.preventDropOnDocument,j=e.noClick,R=e.noKeyboard,F=e.noDrag,E=e.noDragEventsBubbling,T=e.onError,A=e.validator,I=g.useMemo(function(){return K7(n)},[n]),k=g.useMemo(function(){return G7(n)},[n]),N=g.useMemo(function(){return typeof S=="function"?S:SC},[S]),P=g.useMemo(function(){return typeof x=="function"?x:SC},[x]),D=g.useRef(null),L=g.useRef(null),B=g.useReducer(cq,Fy),$=Iv(B,2),M=$[0],V=$[1],G=M.isFocused,K=M.isFileDialogActive,ie=g.useRef(typeof window<"u"&&window.isSecureContext&&_&&H7()),ae=function(){!ie.current&&K&&setTimeout(function(){if(L.current){var Se=L.current.files;Se.length||(V({type:"closeDialog"}),P())}},300)};g.useEffect(function(){return window.addEventListener("focus",ae,!1),function(){window.removeEventListener("focus",ae,!1)}},[L,K,P,ie]);var me=g.useRef([]),Ue=function(Se){D.current&&D.current.contains(Se.target)||(Se.preventDefault(),me.current=[])};g.useEffect(function(){return b&&(document.addEventListener("dragover",bC,!1),document.addEventListener("drop",Ue,!1)),function(){b&&(document.removeEventListener("dragover",bC),document.removeEventListener("drop",Ue))}},[D,b]),g.useEffect(function(){return!r&&v&&D.current&&D.current.focus(),function(){}},[D,v,r]);var Ae=g.useCallback(function(de){T?T(de):console.error(de)},[T]),le=g.useCallback(function(de){de.preventDefault(),de.persist(),ft(de),me.current=[].concat(tq(me.current),[de.target]),Yh(de)&&Promise.resolve(s(de)).then(function(Se){if(!(Pp(de)&&!E)){var ot=Se.length,xt=ot>0&&B7({files:Se,accept:I,minSize:i,maxSize:o,multiple:l,maxFiles:c,validator:A}),Bt=ot>0&&!xt;V({isDragAccept:xt,isDragReject:Bt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(de)}}).catch(function(Se){return Ae(Se)})},[s,u,Ae,E,I,i,o,l,c,A]),Ie=g.useCallback(function(de){de.preventDefault(),de.persist(),ft(de);var Se=Yh(de);if(Se&&de.dataTransfer)try{de.dataTransfer.dropEffect="copy"}catch{}return Se&&f&&f(de),!1},[f,E]),Ke=g.useCallback(function(de){de.preventDefault(),de.persist(),ft(de);var Se=me.current.filter(function(xt){return D.current&&D.current.contains(xt)}),ot=Se.indexOf(de.target);ot!==-1&&Se.splice(ot,1),me.current=Se,!(Se.length>0)&&(V({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Yh(de)&&d&&d(de))},[D,d,E]),q=g.useCallback(function(de,Se){var ot=[],xt=[];de.forEach(function(Bt){var Rn=pR(Bt,I),Dn=Iv(Rn,2),Jn=Dn[0],$r=Dn[1],Tr=mR(Bt,i,o),wn=Iv(Tr,2),Nr=wn[0],Zn=wn[1],Gt=A?A(Bt):null;if(Jn&&Nr&&!Gt)ot.push(Bt);else{var On=[$r,Zn];Gt&&(On=On.concat(Gt)),xt.push({file:Bt,errors:On.filter(function(J){return J})})}}),(!l&&ot.length>1||l&&c>=1&&ot.length>c)&&(ot.forEach(function(Bt){xt.push({file:Bt,errors:[U7]})}),ot.splice(0)),V({acceptedFiles:ot,fileRejections:xt,isDragReject:xt.length>0,type:"setFiles"}),p&&p(ot,xt,Se),xt.length>0&&y&&y(xt,Se),ot.length>0&&m&&m(ot,Se)},[V,l,I,i,o,c,p,m,y,A]),ce=g.useCallback(function(de){de.preventDefault(),de.persist(),ft(de),me.current=[],Yh(de)&&Promise.resolve(s(de)).then(function(Se){Pp(de)&&!E||q(Se,de)}).catch(function(Se){return Ae(Se)}),V({type:"reset"})},[s,q,Ae,E]),re=g.useCallback(function(){if(ie.current){V({type:"openDialog"}),N();var de={multiple:l,types:k};window.showOpenFilePicker(de).then(function(Se){return s(Se)}).then(function(Se){q(Se,null),V({type:"closeDialog"})}).catch(function(Se){Y7(Se)?(P(Se),V({type:"closeDialog"})):Q7(Se)?(ie.current=!1,L.current?(L.current.value=null,L.current.click()):Ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ae(Se)});return}L.current&&(V({type:"openDialog"}),N(),L.current.value=null,L.current.click())},[V,N,P,_,q,Ae,k,l]),ke=g.useCallback(function(de){!D.current||!D.current.isEqualNode(de.target)||(de.key===" "||de.key==="Enter"||de.keyCode===32||de.keyCode===13)&&(de.preventDefault(),re())},[D,re]),Le=g.useCallback(function(){V({type:"focus"})},[]),Qe=g.useCallback(function(){V({type:"blur"})},[]),nt=g.useCallback(function(){j||(W7()?setTimeout(re,0):re())},[j,re]),rt=function(Se){return r?null:Se},gt=function(Se){return R?null:rt(Se)},Ot=function(Se){return F?null:rt(Se)},ft=function(Se){E&&Se.stopPropagation()},ct=g.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=de.refKey,ot=Se===void 0?"ref":Se,xt=de.role,Bt=de.onKeyDown,Rn=de.onFocus,Dn=de.onBlur,Jn=de.onClick,$r=de.onDragEnter,Tr=de.onDragOver,wn=de.onDragLeave,Nr=de.onDrop,Zn=Ap(de,Z7);return Mt(Mt(Ly({onKeyDown:gt(Is(Bt,ke)),onFocus:gt(Is(Rn,Le)),onBlur:gt(Is(Dn,Qe)),onClick:rt(Is(Jn,nt)),onDragEnter:Ot(Is($r,le)),onDragOver:Ot(Is(Tr,Ie)),onDragLeave:Ot(Is(wn,Ke)),onDrop:Ot(Is(Nr,ce)),role:typeof xt=="string"&&xt!==""?xt:"presentation"},ot,D),!r&&!R?{tabIndex:0}:{}),Zn)}},[D,ke,Le,Qe,nt,le,Ie,Ke,ce,R,F,r]),lr=g.useCallback(function(de){de.stopPropagation()},[]),cr=g.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=de.refKey,ot=Se===void 0?"ref":Se,xt=de.onChange,Bt=de.onClick,Rn=Ap(de,eq),Dn=Ly({accept:I,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:rt(Is(xt,ce)),onClick:rt(Is(Bt,lr)),tabIndex:-1},ot,L);return Mt(Mt({},Dn),Rn)}},[L,n,l,ce,r]);return Mt(Mt({},M),{},{isFocused:G&&!r,getRootProps:ct,getInputProps:cr,rootRef:D,inputRef:L,open:rt(re)})}function cq(t,e){switch(e.type){case"focus":return Mt(Mt({},t),{},{isFocused:!0});case"blur":return Mt(Mt({},t),{},{isFocused:!1});case"openDialog":return Mt(Mt({},Fy),{},{isFileDialogActive:!0});case"closeDialog":return Mt(Mt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Mt(Mt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Mt(Mt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Mt({},Fy);default:return t}}function SC(){}const uq=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(i&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},bR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,l=i?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let p=(l&15)<<2|u>>6,m=u&63;c||(m=64,i||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||u==null||f==null)throw new hq;const p=o<<2|l>>4;if(r.push(p),u!==64){const m=l<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fq=function(t){const e=wR(t);return bR.encodeByteArray(e,!0)},Ip=function(t){return fq(t).replace(/\./g,"")},_R=function(t){try{return bR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=()=>pq().__FIREBASE_DEFAULTS__,gq=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_R(t[1]);return e&&JSON.parse(e)},qm=()=>{try{return uq()||mq()||gq()||vq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SR=t=>{var e,n;return(n=(e=qm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yq=t=>{const e=SR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ER=()=>{var t;return(t=qm())==null?void 0:t.config},CR=t=>{var e;return(e=qm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[Ip(JSON.stringify(n)),Ip(JSON.stringify(i)),l].join(".")}const zu={};function bq(){const t={prod:[],emulator:[]};for(const e of Object.keys(zu))zu[e]?t.emulator.push(e):t.prod.push(e);return t}function _q(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let EC=!1;function NR(t,e){if(typeof window>"u"||typeof document>"u"||!kc(window.location.host)||zu[t]===e||zu[t]||EC)return;zu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=bq().prod.length>0;function i(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{EC=!0,i()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=_q(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),x=n("learnmore"),S=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),d(S,x);const j=u();c(v,_),b.append(v,y,S,j),document.body.appendChild(b)}o?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function Eq(){var e;const t=(e=qm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Nq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kq(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jq(){return!Eq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pq(){try{return typeof indexedDB=="object"}catch{return!1}}function Aq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq="FirebaseError";class Vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Iq,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$d.prototype.create)}}class $d{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?Rq(o,r):"Error",l=`${this.serviceName}: ${i} (${s}).`;return new Vo(s,l,r)}}function Rq(t,e){return t.replace(Dq,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Dq=/\{\$([^}]+)}/g;function Oq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(CC(o)&&CC(i)){if(!qa(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function CC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mq(t,e){const n=new Lq(t,e);return n.subscribe.bind(n)}class Lq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Fq(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rv),s.error===void 0&&(s.error=Rv),s.complete===void 0&&(s.complete=Rv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t){return t&&t._delegate?t._delegate:t}class Wa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Uq(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&i.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zq(t){return t===da?void 0:t}function Uq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const $q={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},qq=Ze.INFO,Wq={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},Hq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Wq[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ab{constructor(e){this.name=e,this._logLevel=qq,this._logHandler=Hq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const Gq=(t,e)=>e.some(n=>t instanceof n);let TC,NC;function Kq(){return TC||(TC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yq(){return NC||(NC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kR=new WeakMap,Vy=new WeakMap,jR=new WeakMap,Dv=new WeakMap,lb=new WeakMap;function Qq(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(_i(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&kR.set(n,t)}).catch(()=>{}),lb.set(e,t),e}function Xq(t){if(Vy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Vy.set(t,e)}let zy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Jq(t){zy=t(zy)}function Zq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ov(this),e,...n);return jR.set(r,e.sort?e.sort():[e]),_i(r)}:Yq().includes(t)?function(...e){return t.apply(Ov(this),e),_i(kR.get(this))}:function(...e){return _i(t.apply(Ov(this),e))}}function eW(t){return typeof t=="function"?Zq(t):(t instanceof IDBTransaction&&Xq(t),Gq(t,Kq())?new Proxy(t,zy):t)}function _i(t){if(t instanceof IDBRequest)return Qq(t);if(Dv.has(t))return Dv.get(t);const e=eW(t);return e!==t&&(Dv.set(t,e),lb.set(e,t)),e}const Ov=t=>lb.get(t);function tW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),l=_i(i);return r&&i.addEventListener("upgradeneeded",c=>{r(_i(i.result),c.oldVersion,c.newVersion,_i(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const nW=["get","getKey","getAll","getAllKeys","count"],rW=["put","add","delete","clear"],Mv=new Map;function kC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mv.get(e))return Mv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=rW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||nW.includes(n)))return;const o=async function(i,...l){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Mv.set(e,o),o}Jq(t=>({...t,get:(e,n,r)=>kC(e,n)||t.get(e,n,r),has:(e,n)=>!!kC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uy="@firebase/app",jC="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new ab("@firebase/app"),iW="@firebase/app-compat",aW="@firebase/analytics-compat",lW="@firebase/analytics",cW="@firebase/app-check-compat",uW="@firebase/app-check",dW="@firebase/auth",hW="@firebase/auth-compat",fW="@firebase/database",pW="@firebase/data-connect",mW="@firebase/database-compat",gW="@firebase/functions",vW="@firebase/functions-compat",yW="@firebase/installations",xW="@firebase/installations-compat",wW="@firebase/messaging",bW="@firebase/messaging-compat",_W="@firebase/performance",SW="@firebase/performance-compat",EW="@firebase/remote-config",CW="@firebase/remote-config-compat",TW="@firebase/storage",NW="@firebase/storage-compat",kW="@firebase/firestore",jW="@firebase/ai",PW="@firebase/firestore-compat",AW="firebase",IW="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="[DEFAULT]",RW={[Uy]:"fire-core",[iW]:"fire-core-compat",[lW]:"fire-analytics",[aW]:"fire-analytics-compat",[uW]:"fire-app-check",[cW]:"fire-app-check-compat",[dW]:"fire-auth",[hW]:"fire-auth-compat",[fW]:"fire-rtdb",[pW]:"fire-data-connect",[mW]:"fire-rtdb-compat",[gW]:"fire-fn",[vW]:"fire-fn-compat",[yW]:"fire-iid",[xW]:"fire-iid-compat",[wW]:"fire-fcm",[bW]:"fire-fcm-compat",[_W]:"fire-perf",[SW]:"fire-perf-compat",[EW]:"fire-rc",[CW]:"fire-rc-compat",[TW]:"fire-gcs",[NW]:"fire-gcs-compat",[kW]:"fire-fst",[PW]:"fire-fst-compat",[jW]:"fire-vertex","fire-js":"fire-js",[AW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new Map,DW=new Map,$y=new Map;function PC(t,e){try{t.container.addComponent(e)}catch(n){Io.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cc(t){const e=t.name;if($y.has(e))return Io.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,t);for(const n of Rp.values())PC(n,t);for(const n of DW.values())PC(n,t);return!0}function cb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new $d("app","Firebase",OW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=IW;function PR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:By,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Si.create("bad-app-name",{appName:String(s)});if(n||(n=ER()),!n)throw Si.create("no-options");const o=Rp.get(s);if(o){if(qa(n,o.options)&&qa(r,o.config))return o;throw Si.create("duplicate-app",{appName:s})}const i=new Bq(s);for(const c of $y.values())i.addComponent(c);const l=new MW(n,r,i);return Rp.set(s,l),l}function AR(t=By){const e=Rp.get(t);if(!e&&t===By&&ER())return PR();if(!e)throw Si.create("no-app",{appName:t});return e}function Ei(t,e,n){let r=RW[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const i=[`Unable to register library "${r}" with version "${e}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&i.push("and"),o&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Io.warn(i.join(" "));return}cc(new Wa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW="firebase-heartbeat-database",FW=1,yd="firebase-heartbeat-store";let Lv=null;function IR(){return Lv||(Lv=tW(LW,FW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),Lv}async function VW(t){try{const n=(await IR()).transaction(yd),r=await n.objectStore(yd).get(RR(t));return await n.done,r}catch(e){if(e instanceof Vo)Io.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Io.warn(n.message)}}}async function AC(t,e){try{const r=(await IR()).transaction(yd,"readwrite");await r.objectStore(yd).put(e,RR(t)),await r.done}catch(n){if(n instanceof Vo)Io.warn(n.message);else{const r=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Io.warn(r.message)}}}function RR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=1024,UW=30;class BW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=IC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>UW){const i=WW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Io.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IC(),{heartbeatsToSend:r,unsentEntries:s}=$W(this._heartbeatsCache.heartbeats),o=Ip(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Io.warn(n),""}}}function IC(){return new Date().toISOString().substring(0,10)}function $W(t,e=zW){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),RC(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),RC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pq()?Aq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RC(t){return Ip(JSON.stringify({version:2,heartbeats:t})).length}function WW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t){cc(new Wa("platform-logger",e=>new sW(e),"PRIVATE")),cc(new Wa("heartbeat",e=>new BW(e),"PRIVATE")),Ei(Uy,jC,t),Ei(Uy,jC,"esm2020"),Ei("fire-js","")}HW("");var DC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,DR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function A(){}A.prototype=T.prototype,E.F=T.prototype,E.prototype=new A,E.prototype.constructor=E,E.D=function(I,k,N){for(var P=Array(arguments.length-2),D=2;D<arguments.length;D++)P[D-2]=arguments[D];return T.prototype[k].apply(I,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,T,A){A||(A=0);const I=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)I[k]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(k=0;k<16;++k)I[k]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=E.g[0],A=E.g[1],k=E.g[2];let N=E.g[3],P;P=T+(N^A&(k^N))+I[0]+3614090360&4294967295,T=A+(P<<7&4294967295|P>>>25),P=N+(k^T&(A^k))+I[1]+3905402710&4294967295,N=T+(P<<12&4294967295|P>>>20),P=k+(A^N&(T^A))+I[2]+606105819&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(T^k&(N^T))+I[3]+3250441966&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(N^A&(k^N))+I[4]+4118548399&4294967295,T=A+(P<<7&4294967295|P>>>25),P=N+(k^T&(A^k))+I[5]+1200080426&4294967295,N=T+(P<<12&4294967295|P>>>20),P=k+(A^N&(T^A))+I[6]+2821735955&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(T^k&(N^T))+I[7]+4249261313&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(N^A&(k^N))+I[8]+1770035416&4294967295,T=A+(P<<7&4294967295|P>>>25),P=N+(k^T&(A^k))+I[9]+2336552879&4294967295,N=T+(P<<12&4294967295|P>>>20),P=k+(A^N&(T^A))+I[10]+4294925233&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(T^k&(N^T))+I[11]+2304563134&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(N^A&(k^N))+I[12]+1804603682&4294967295,T=A+(P<<7&4294967295|P>>>25),P=N+(k^T&(A^k))+I[13]+4254626195&4294967295,N=T+(P<<12&4294967295|P>>>20),P=k+(A^N&(T^A))+I[14]+2792965006&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(T^k&(N^T))+I[15]+1236535329&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(k^N&(A^k))+I[1]+4129170786&4294967295,T=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(T^A))+I[6]+3225465664&4294967295,N=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(N^T))+I[11]+643717713&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^T&(k^N))+I[0]+3921069994&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(k^N&(A^k))+I[5]+3593408605&4294967295,T=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(T^A))+I[10]+38016083&4294967295,N=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(N^T))+I[15]+3634488961&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^T&(k^N))+I[4]+3889429448&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(k^N&(A^k))+I[9]+568446438&4294967295,T=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(T^A))+I[14]+3275163606&4294967295,N=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(N^T))+I[3]+4107603335&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^T&(k^N))+I[8]+1163531501&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(k^N&(A^k))+I[13]+2850285829&4294967295,T=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(T^A))+I[2]+4243563512&4294967295,N=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(N^T))+I[7]+1735328473&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^T&(k^N))+I[12]+2368359562&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(A^k^N)+I[5]+4294588738&4294967295,T=A+(P<<4&4294967295|P>>>28),P=N+(T^A^k)+I[8]+2272392833&4294967295,N=T+(P<<11&4294967295|P>>>21),P=k+(N^T^A)+I[11]+1839030562&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^T)+I[14]+4259657740&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(A^k^N)+I[1]+2763975236&4294967295,T=A+(P<<4&4294967295|P>>>28),P=N+(T^A^k)+I[4]+1272893353&4294967295,N=T+(P<<11&4294967295|P>>>21),P=k+(N^T^A)+I[7]+4139469664&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^T)+I[10]+3200236656&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(A^k^N)+I[13]+681279174&4294967295,T=A+(P<<4&4294967295|P>>>28),P=N+(T^A^k)+I[0]+3936430074&4294967295,N=T+(P<<11&4294967295|P>>>21),P=k+(N^T^A)+I[3]+3572445317&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^T)+I[6]+76029189&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(A^k^N)+I[9]+3654602809&4294967295,T=A+(P<<4&4294967295|P>>>28),P=N+(T^A^k)+I[12]+3873151461&4294967295,N=T+(P<<11&4294967295|P>>>21),P=k+(N^T^A)+I[15]+530742520&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^T)+I[2]+3299628645&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(k^(A|~N))+I[0]+4096336452&4294967295,T=A+(P<<6&4294967295|P>>>26),P=N+(A^(T|~k))+I[7]+1126891415&4294967295,N=T+(P<<10&4294967295|P>>>22),P=k+(T^(N|~A))+I[14]+2878612391&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~T))+I[5]+4237533241&4294967295,A=k+(P<<21&4294967295|P>>>11),P=T+(k^(A|~N))+I[12]+1700485571&4294967295,T=A+(P<<6&4294967295|P>>>26),P=N+(A^(T|~k))+I[3]+2399980690&4294967295,N=T+(P<<10&4294967295|P>>>22),P=k+(T^(N|~A))+I[10]+4293915773&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~T))+I[1]+2240044497&4294967295,A=k+(P<<21&4294967295|P>>>11),P=T+(k^(A|~N))+I[8]+1873313359&4294967295,T=A+(P<<6&4294967295|P>>>26),P=N+(A^(T|~k))+I[15]+4264355552&4294967295,N=T+(P<<10&4294967295|P>>>22),P=k+(T^(N|~A))+I[6]+2734768916&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~T))+I[13]+1309151649&4294967295,A=k+(P<<21&4294967295|P>>>11),P=T+(k^(A|~N))+I[4]+4149444226&4294967295,T=A+(P<<6&4294967295|P>>>26),P=N+(A^(T|~k))+I[11]+3174756917&4294967295,N=T+(P<<10&4294967295|P>>>22),P=k+(T^(N|~A))+I[2]+718787259&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~T))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+N&4294967295}r.prototype.v=function(E,T){T===void 0&&(T=E.length);const A=T-this.blockSize,I=this.C;let k=this.h,N=0;for(;N<T;){if(k==0)for(;N<=A;)s(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<T;)if(I[k++]=E.charCodeAt(N++),k==this.blockSize){s(this,I),k=0;break}}else for(;N<T;)if(I[k++]=E[N++],k==this.blockSize){s(this,I),k=0;break}}this.h=k,this.o+=T},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;T=this.o*8;for(var A=E.length-8;A<E.length;++A)E[A]=T&255,T/=256;for(this.v(E),E=Array(16),T=0,A=0;A<4;++A)for(let I=0;I<32;I+=8)E[T++]=this.g[A]>>>I&255;return E};function o(E,T){var A=l;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=T(E)}function i(E,T){this.h=T;const A=[];let I=!0;for(let k=E.length-1;k>=0;k--){const N=E[k]|0;I&&N==T||(A[k]=N,I=!1)}this.g=A}var l={};function c(E){return-128<=E&&E<128?o(E,function(T){return new i([T|0],T<0?-1:0)}):new i([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return S(u(-E));const T=[];let A=1;for(let I=0;E>=A;I++)T[I]=E/A|0,A*=4294967296;return new i(T,0)}function d(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return S(d(E.substring(1),T));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(T,8));let I=f;for(let N=0;N<E.length;N+=8){var k=Math.min(8,E.length-N);const P=parseInt(E.substring(N,N+k),T);k<8?(k=u(Math.pow(T,k)),I=I.j(k).add(u(P))):(I=I.j(A),I=I.add(u(P)))}return I}var f=c(0),p=c(1),m=c(16777216);t=i.prototype,t.m=function(){if(x(this))return-S(this).m();let E=0,T=1;for(let A=0;A<this.g.length;A++){const I=this.i(A);E+=(I>=0?I:4294967296+I)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(x(this))return"-"+S(this).toString(E);const T=u(Math.pow(E,6));var A=this;let I="";for(;;){const k=j(A,T).g;A=_(A,k.j(T));let N=((A.g.length>0?A.g[0]:A.h)>>>0).toString(E);if(A=k,y(A))return N+I;for(;N.length<6;)N="0"+N;I=N+I}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(let T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=_(this,E),x(E)?-1:y(E)?0:1};function S(E){const T=E.g.length,A=[];for(let I=0;I<T;I++)A[I]=~E.g[I];return new i(A,~E.h).add(p)}t.abs=function(){return x(this)?S(this):this},t.add=function(E){const T=Math.max(this.g.length,E.g.length),A=[];let I=0;for(let k=0;k<=T;k++){let N=I+(this.i(k)&65535)+(E.i(k)&65535),P=(N>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);I=P>>>16,N&=65535,P&=65535,A[k]=P<<16|N}return new i(A,A[A.length-1]&-2147483648?-1:0)};function _(E,T){return E.add(S(T))}t.j=function(E){if(y(this)||y(E))return f;if(x(this))return x(E)?S(this).j(S(E)):S(S(this).j(E));if(x(E))return S(this.j(S(E)));if(this.l(m)<0&&E.l(m)<0)return u(this.m()*E.m());const T=this.g.length+E.g.length,A=[];for(var I=0;I<2*T;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(let k=0;k<E.g.length;k++){const N=this.i(I)>>>16,P=this.i(I)&65535,D=E.i(k)>>>16,L=E.i(k)&65535;A[2*I+2*k]+=P*L,v(A,2*I+2*k),A[2*I+2*k+1]+=N*L,v(A,2*I+2*k+1),A[2*I+2*k+1]+=P*D,v(A,2*I+2*k+1),A[2*I+2*k+2]+=N*D,v(A,2*I+2*k+2)}for(E=0;E<T;E++)A[E]=A[2*E+1]<<16|A[2*E];for(E=T;E<2*T;E++)A[E]=0;return new i(A,0)};function v(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function b(E,T){this.g=E,this.h=T}function j(E,T){if(y(T))throw Error("division by zero");if(y(E))return new b(f,f);if(x(E))return T=j(S(E),T),new b(S(T.g),S(T.h));if(x(T))return T=j(E,S(T)),new b(S(T.g),T.h);if(E.g.length>30){if(x(E)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var A=p,I=T;I.l(E)<=0;)A=R(A),I=R(I);var k=F(A,1),N=F(I,1);for(I=F(I,2),A=F(A,2);!y(I);){var P=N.add(I);P.l(E)<=0&&(k=k.add(A),N=P),I=F(I,1),A=F(A,1)}return T=_(E,k.j(T)),new b(k,T)}for(k=f;E.l(T)>=0;){for(A=Math.max(1,Math.floor(E.m()/T.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),N=u(A),P=N.j(T);x(P)||P.l(E)>0;)A-=I,N=u(A),P=N.j(T);y(N)&&(N=p),k=k.add(N),E=_(E,P)}return new b(k,E)}t.B=function(E){return j(this,E).h},t.and=function(E){const T=Math.max(this.g.length,E.g.length),A=[];for(let I=0;I<T;I++)A[I]=this.i(I)&E.i(I);return new i(A,this.h&E.h)},t.or=function(E){const T=Math.max(this.g.length,E.g.length),A=[];for(let I=0;I<T;I++)A[I]=this.i(I)|E.i(I);return new i(A,this.h|E.h)},t.xor=function(E){const T=Math.max(this.g.length,E.g.length),A=[];for(let I=0;I<T;I++)A[I]=this.i(I)^E.i(I);return new i(A,this.h^E.h)};function R(E){const T=E.g.length+1,A=[];for(let I=0;I<T;I++)A[I]=E.i(I)<<1|E.i(I-1)>>>31;return new i(A,E.h)}function F(E,T){const A=T>>5;T%=32;const I=E.g.length-A,k=[];for(let N=0;N<I;N++)k[N]=T>0?E.i(N+A)>>>T|E.i(N+A+1)<<32-T:E.i(N+A);return new i(k,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DR=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,Ci=i}).apply(typeof DC<"u"?DC:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OR,bu,MR,kf,qy,LR,FR,VR;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var w=0;w<h.length;++w){var C=h[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(h,w){if(w)e:{var C=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var W=h[O];if(!(W in C))break e;C=C[W]}h=h[h.length-1],O=C[h],w=w(O),w!=O&&w!=null&&e(C,h,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(w){var C=[],O;for(O in w)Object.prototype.hasOwnProperty.call(w,O)&&C.push([O,w[O]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},i=this||self;function l(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function c(h,w,C){return h.call.apply(h.bind,arguments)}function u(h,w,C){return u=c,u.apply(null,arguments)}function d(h,w){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function f(h,w){function C(){}C.prototype=w.prototype,h.Z=w.prototype,h.prototype=new C,h.prototype.constructor=h,h.Ob=function(O,W,H){for(var he=Array(arguments.length-2),He=2;He<arguments.length;He++)he[He-2]=arguments[He];return w.prototype[W].apply(O,he)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function m(h){const w=h.length;if(w>0){const C=Array(w);for(let O=0;O<w;O++)C[O]=h[O];return C}return[]}function y(h,w){for(let O=1;O<arguments.length;O++){const W=arguments[O];var C=typeof W;if(C=C!="object"?C:W?Array.isArray(W)?"array":C:"null",C=="array"||C=="object"&&typeof W.length=="number"){C=h.length||0;const H=W.length||0;h.length=C+H;for(let he=0;he<H;he++)h[C+he]=W[he]}else h.push(W)}}class x{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function S(h){i.setTimeout(()=>{throw h},0)}function _(){var h=E;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class v{constructor(){this.h=this.g=null}add(w,C){const O=b.get();O.set(w,C),this.h?this.h.next=O:this.g=O,this.h=O}}var b=new x(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let R,F=!1,E=new v,T=()=>{const h=Promise.resolve(void 0);R=()=>{h.then(A)}};function A(){for(var h;h=_();){try{h.h.call(h.g)}catch(C){S(C)}var w=b;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}F=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const C=()=>{};i.addEventListener("test",C,w),i.removeEventListener("test",C,w)}catch{}return h}();function P(h){return/^[\s\xa0]*$/.test(h)}function D(h,w){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}f(D,k),D.prototype.init=function(h,w){const C=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(C=="mouseover"?w=h.fromElement:C=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var L="closure_listenable_"+(Math.random()*1e6|0),B=0;function $(h,w,C,O,W){this.listener=h,this.proxy=null,this.src=w,this.type=C,this.capture=!!O,this.ha=W,this.key=++B,this.da=this.fa=!1}function M(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function V(h,w,C){for(const O in h)w.call(C,h[O],O,h)}function G(h,w){for(const C in h)w.call(void 0,h[C],C,h)}function K(h){const w={};for(const C in h)w[C]=h[C];return w}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,w){let C,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(C in O)h[C]=O[C];for(let H=0;H<ie.length;H++)C=ie[H],Object.prototype.hasOwnProperty.call(O,C)&&(h[C]=O[C])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,w,C,O,W){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const he=Ae(h,w,O,W);return he>-1?(w=h[he],C||(w.fa=!1)):(w=new $(w,this.src,H,!!O,W),w.fa=C,h.push(w)),w};function Ue(h,w){const C=w.type;if(C in h.g){var O=h.g[C],W=Array.prototype.indexOf.call(O,w,void 0),H;(H=W>=0)&&Array.prototype.splice.call(O,W,1),H&&(M(w),h.g[C].length==0&&(delete h.g[C],h.h--))}}function Ae(h,w,C,O){for(let W=0;W<h.length;++W){const H=h[W];if(!H.da&&H.listener==w&&H.capture==!!C&&H.ha==O)return W}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Ie={};function Ke(h,w,C,O,W){if(O&&O.once)return re(h,w,C,O,W);if(Array.isArray(w)){for(let H=0;H<w.length;H++)Ke(h,w[H],C,O,W);return null}return C=Ot(C),h&&h[L]?h.J(w,C,l(O)?!!O.capture:!!O,W):q(h,w,C,!1,O,W)}function q(h,w,C,O,W,H){if(!w)throw Error("Invalid event type");const he=l(W)?!!W.capture:!!W;let He=rt(h);if(He||(h[le]=He=new me(h)),C=He.add(w,C,O,he,H),C.proxy)return C;if(O=ce(),C.proxy=O,O.src=h,O.listener=C,h.addEventListener)N||(W=he),W===void 0&&(W=!1),h.addEventListener(w.toString(),O,W);else if(h.attachEvent)h.attachEvent(Qe(w.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function ce(){function h(C){return w.call(h.src,h.listener,C)}const w=nt;return h}function re(h,w,C,O,W){if(Array.isArray(w)){for(let H=0;H<w.length;H++)re(h,w[H],C,O,W);return null}return C=Ot(C),h&&h[L]?h.K(w,C,l(O)?!!O.capture:!!O,W):q(h,w,C,!0,O,W)}function ke(h,w,C,O,W){if(Array.isArray(w))for(var H=0;H<w.length;H++)ke(h,w[H],C,O,W);else O=l(O)?!!O.capture:!!O,C=Ot(C),h&&h[L]?(h=h.i,H=String(w).toString(),H in h.g&&(w=h.g[H],C=Ae(w,C,O,W),C>-1&&(M(w[C]),Array.prototype.splice.call(w,C,1),w.length==0&&(delete h.g[H],h.h--)))):h&&(h=rt(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ae(w,C,O,W)),(C=h>-1?w[h]:null)&&Le(C))}function Le(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[L])Ue(w.i,h);else{var C=h.type,O=h.proxy;w.removeEventListener?w.removeEventListener(C,O,h.capture):w.detachEvent?w.detachEvent(Qe(C),O):w.addListener&&w.removeListener&&w.removeListener(O),(C=rt(w))?(Ue(C,h),C.h==0&&(C.src=null,w[le]=null)):M(h)}}}function Qe(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function nt(h,w){if(h.da)h=!0;else{w=new D(w,this);const C=h.listener,O=h.ha||h.src;h.fa&&Le(h),h=C.call(O,w)}return h}function rt(h){return h=h[le],h instanceof me?h:null}var gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ot(h){return typeof h=="function"?h:(h[gt]||(h[gt]=function(w){return h.handleEvent(w)}),h[gt])}function ft(){I.call(this),this.i=new me(this),this.M=this,this.G=null}f(ft,I),ft.prototype[L]=!0,ft.prototype.removeEventListener=function(h,w,C,O){ke(this,h,w,C,O)};function ct(h,w){var C,O=h.G;if(O)for(C=[];O;O=O.G)C.push(O);if(h=h.M,O=w.type||w,typeof w=="string")w=new k(w,h);else if(w instanceof k)w.target=w.target||h;else{var W=w;w=new k(O,h),ae(w,W)}W=!0;let H,he;if(C)for(he=C.length-1;he>=0;he--)H=w.g=C[he],W=lr(H,O,!0,w)&&W;if(H=w.g=h,W=lr(H,O,!0,w)&&W,W=lr(H,O,!1,w)&&W,C)for(he=0;he<C.length;he++)H=w.g=C[he],W=lr(H,O,!1,w)&&W}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const C=h.g[w];for(let O=0;O<C.length;O++)M(C[O]);delete h.g[w],h.h--}}this.G=null},ft.prototype.J=function(h,w,C,O){return this.i.add(String(h),w,!1,C,O)},ft.prototype.K=function(h,w,C,O){return this.i.add(String(h),w,!0,C,O)};function lr(h,w,C,O){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let H=0;H<w.length;++H){const he=w[H];if(he&&!he.da&&he.capture==C){const He=he.listener,cn=he.ha||he.src;he.fa&&Ue(h.i,he),W=He.call(cn,O)!==!1&&W}}return W&&!O.defaultPrevented}function cr(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:i.setTimeout(h,w||0)}function de(h){h.g=cr(()=>{h.g=null,h.i&&(h.i=!1,de(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Se extends I{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(h){I.call(this),this.h=h,this.g={}}f(ot,I);var xt=[];function Bt(h){V(h.g,function(w,C){this.g.hasOwnProperty(C)&&Le(w)},h),h.g={}}ot.prototype.N=function(){ot.Z.N.call(this),Bt(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=i.JSON.stringify,Dn=i.JSON.parse,Jn=class{stringify(h){return i.JSON.stringify(h,void 0)}parse(h){return i.JSON.parse(h,void 0)}};function $r(){}function Tr(){}var wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nr(){k.call(this,"d")}f(Nr,k);function Zn(){k.call(this,"c")}f(Zn,k);var Gt={},On=null;function J(){return On=On||new ft}Gt.Ia="serverreachability";function Be(h){k.call(this,Gt.Ia,h)}f(Be,k);function Ee(h){const w=J();ct(w,new Be(w))}Gt.STAT_EVENT="statevent";function We(h,w){k.call(this,Gt.STAT_EVENT,h),this.stat=w}f(We,k);function we(h){const w=J();ct(w,new We(w,h))}Gt.Ja="timingevent";function vt(h,w){k.call(this,Gt.Ja,h),this.size=w}f(vt,k);function Ye(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){h()},w)}function z(){this.g=!0}z.prototype.ua=function(){this.g=!1};function Z(h,w,C,O,W,H){h.info(function(){if(h.g)if(H){var he="",He=H.split("&");for(let wt=0;wt<He.length;wt++){var cn=He[wt].split("=");if(cn.length>1){const gn=cn[0];cn=cn[1];const Ps=gn.split("_");he=Ps.length>=2&&Ps[1]=="type"?he+(gn+"="+cn+"&"):he+(gn+"=redacted&")}}}else he=null;else he=H;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+w+`
`+C+`
`+he})}function te(h,w,C,O,W,H,he){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+w+`
`+C+`
`+H+" "+he})}function pe(h,w,C,O){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+U(h,C)+(O?" "+O:"")})}function er(h,w){h.info(function(){return"TIMEOUT: "+w})}z.prototype.info=function(){};function U(h,w){if(!h.g)return w;if(!w)return null;try{const H=JSON.parse(w);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var C=H[h];if(!(C.length<2)){var O=C[1];if(Array.isArray(O)&&!(O.length<1)){var W=O[0];if(W!="noop"&&W!="stop"&&W!="close")for(let he=1;he<O.length;he++)O[he]=""}}}}return Rn(H)}catch{return w}}var Y={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_e={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tt;function Mn(){}f(Mn,$r),Mn.prototype.g=function(){return new XMLHttpRequest},Tt=new Mn;function ks(h){return encodeURIComponent(String(h))}function Ln(h){var w=1;h=h.split(":");const C=[];for(;w>0&&h.length;)C.push(h.shift()),w--;return h.length&&C.push(h.join(":")),C}function bn(h,w,C,O){this.j=h,this.i=w,this.l=C,this.S=O||1,this.V=new ot(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new os}function os(){this.i=null,this.g="",this.h=!1}var Fc={},Vc={};function vg(h,w,C){h.M=1,h.A=ch(js(w)),h.u=C,h.R=!0,C1(h,null)}function C1(h,w){h.F=Date.now(),lh(h),h.B=js(h.A);var C=h.B,O=h.S;Array.isArray(O)||(O=[String(O)]),F1(C.i,"t",O),h.C=0,C=h.j.L,h.h=new os,h.g=n_(h.j,C?w:null,!h.u),h.P>0&&(h.O=new Se(u(h.Y,h,h.g),h.P)),w=h.V,C=h.g,O=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(xt[0]=W.toString()),W=xt);for(let H=0;H<W.length;H++){const he=Ke(C,W[H],O||w.handleEvent,!1,w.h||w);if(!he)break;w.g[he.key]=he}w=h.J?K(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),Ee(),Z(h.i,h.v,h.B,h.l,h.S,h.u)}bn.prototype.ba=function(h){h=h.target;const w=this.O;w&&Bo(h)==3?w.j():this.Y(h)},bn.prototype.Y=function(h){try{if(h==this.g)e:{const He=Bo(this.g),cn=this.g.ya(),wt=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||W1(this.g)))){this.K||He!=4||cn==7||(cn==8||wt<=0?Ee(3):Ee(2)),yg(this);var w=this.g.ca();this.X=w;var C=RM(this);if(this.o=w==200,te(this.i,this.v,this.B,this.l,this.S,He,w),this.o){if(this.U&&!this.L){t:{if(this.g){var O,W=this.g;if((O=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(O)){var H=O;break t}}H=null}if(h=H)pe(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xg(this,h);else{this.o=!1,this.m=3,we(12),ea(this),zc(this);break e}}if(this.R){h=!0;let gn;for(;!this.K&&this.C<C.length;)if(gn=DM(this,C),gn==Vc){He==4&&(this.m=4,we(14),h=!1),pe(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Fc){this.m=4,we(15),pe(this.i,this.l,C,"[Invalid Chunk]"),h=!1;break}else pe(this.i,this.l,gn,null),xg(this,gn);if(T1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||C.length!=0||this.h.h||(this.m=1,we(16),h=!1),this.o=this.o&&h,!h)pe(this.i,this.l,C,"[Invalid Chunked Response]"),ea(this),zc(this);else if(C.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Ng(he),he.P=!0,we(11))}}else pe(this.i,this.l,C,null),xg(this,C);He==4&&ea(this),this.o&&!this.K&&(He==4?J1(this.j,this):(this.o=!1,lh(this)))}else KM(this.g),w==400&&C.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),ea(this),zc(this)}}}catch{}finally{}};function RM(h){if(!T1(h))return h.g.la();const w=W1(h.g);if(w==="")return"";let C="";const O=w.length,W=Bo(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ea(h),zc(h),"";h.h.i=new i.TextDecoder}for(let H=0;H<O;H++)h.h.h=!0,C+=h.h.i.decode(w[H],{stream:!(W&&H==O-1)});return w.length=0,h.h.g+=C,h.C=0,h.h.g}function T1(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function DM(h,w){var C=h.C,O=w.indexOf(`
`,C);return O==-1?Vc:(C=Number(w.substring(C,O)),isNaN(C)?Fc:(O+=1,O+C>w.length?Vc:(w=w.slice(O,O+C),h.C=O+C,w)))}bn.prototype.cancel=function(){this.K=!0,ea(this)};function lh(h){h.T=Date.now()+h.H,N1(h,h.H)}function N1(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ye(u(h.aa,h),w)}function yg(h){h.D&&(i.clearTimeout(h.D),h.D=null)}bn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(er(this.i,this.B),this.M!=2&&(Ee(),we(17)),ea(this),this.m=2,zc(this)):N1(this,this.T-h)};function zc(h){h.j.I==0||h.K||J1(h.j,h)}function ea(h){yg(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,Bt(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function xg(h,w){try{var C=h.j;if(C.I!=0&&(C.g==h||wg(C.h,h))){if(!h.L&&wg(C.h,h)&&C.I==3){try{var O=C.Ba.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<h.F)ph(C),hh(C);else break e;Tg(C),we(18)}}else C.xa=W[1],0<C.xa-C.K&&W[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Ye(u(C.Va,C),6e3));P1(C.h)<=1&&C.ta&&(C.ta=void 0)}else na(C,11)}else if((h.L||C.g==h)&&ph(C),!P(w))for(W=C.Ba.g.parse(w),w=0;w<W.length;w++){let wt=W[w];const gn=wt[0];if(!(gn<=C.K))if(C.K=gn,wt=wt[1],C.I==2)if(wt[0]=="c"){C.M=wt[1],C.ba=wt[2];const Ps=wt[3];Ps!=null&&(C.ka=Ps,C.j.info("VER="+C.ka));const ra=wt[4];ra!=null&&(C.za=ra,C.j.info("SVER="+C.za));const $o=wt[5];$o!=null&&typeof $o=="number"&&$o>0&&(O=1.5*$o,C.O=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;const qo=h.g;if(qo){const gh=qo.g?qo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gh){var H=O.h;H.g||gh.indexOf("spdy")==-1&&gh.indexOf("quic")==-1&&gh.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(bg(H,H.h),H.h=null))}if(O.G){const kg=qo.g?qo.g.getResponseHeader("X-HTTP-Session-Id"):null;kg&&(O.wa=kg,Nt(O.J,O.G,kg))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-h.F,C.j.info("Handshake RTT: "+C.T+"ms")),O=C;var he=h;if(O.na=t_(O,O.L?O.ba:null,O.W),he.L){A1(O.h,he);var He=he,cn=O.O;cn&&(He.H=cn),He.D&&(yg(He),lh(He)),O.g=he}else Q1(O);C.i.length>0&&fh(C)}else wt[0]!="stop"&&wt[0]!="close"||na(C,7);else C.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?na(C,7):Cg(C):wt[0]!="noop"&&C.l&&C.l.qa(wt),C.A=0)}}Ee(4)}catch{}}var OM=class{constructor(h,w){this.g=h,this.map=w}};function k1(h){this.l=h||10,i.PerformanceNavigationTiming?(h=i.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function j1(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function P1(h){return h.h?1:h.g?h.g.size:0}function wg(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function bg(h,w){h.g?h.g.add(w):h.h=w}function A1(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}k1.prototype.cancel=function(){if(this.i=I1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function I1(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const C of h.g.values())w=w.concat(C.G);return w}return m(h.i)}var R1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MM(h,w){if(h){h=h.split("&");for(let C=0;C<h.length;C++){const O=h[C].indexOf("=");let W,H=null;O>=0?(W=h[C].substring(0,O),H=h[C].substring(O+1)):W=h[C],w(W,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function zo(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof zo?(this.l=h.l,Uc(this,h.j),this.o=h.o,this.g=h.g,Bc(this,h.u),this.h=h.h,_g(this,V1(h.i)),this.m=h.m):h&&(w=String(h).match(R1))?(this.l=!1,Uc(this,w[1]||"",!0),this.o=$c(w[2]||""),this.g=$c(w[3]||"",!0),Bc(this,w[4]),this.h=$c(w[5]||"",!0),_g(this,w[6]||"",!0),this.m=$c(w[7]||"")):(this.l=!1,this.i=new Wc(null,this.l))}zo.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(qc(w,D1,!0),":");var C=this.g;return(C||w=="file")&&(h.push("//"),(w=this.o)&&h.push(qc(w,D1,!0),"@"),h.push(ks(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&h.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&h.push("/"),h.push(qc(C,C.charAt(0)=="/"?VM:FM,!0))),(C=this.i.toString())&&h.push("?",C),(C=this.m)&&h.push("#",qc(C,UM)),h.join("")},zo.prototype.resolve=function(h){const w=js(this);let C=!!h.j;C?Uc(w,h.j):C=!!h.o,C?w.o=h.o:C=!!h.g,C?w.g=h.g:C=h.u!=null;var O=h.h;if(C)Bc(w,h.u);else if(C=!!h.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var W=w.h.lastIndexOf("/");W!=-1&&(O=w.h.slice(0,W+1)+O)}if(W=O,W==".."||W==".")O="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){O=W.lastIndexOf("/",0)==0,W=W.split("/");const H=[];for(let he=0;he<W.length;){const He=W[he++];He=="."?O&&he==W.length&&H.push(""):He==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),O&&he==W.length&&H.push("")):(H.push(He),O=!0)}O=H.join("/")}else O=W}return C?w.h=O:C=h.i.toString()!=="",C?_g(w,V1(h.i)):C=!!h.m,C&&(w.m=h.m),w};function js(h){return new zo(h)}function Uc(h,w,C){h.j=C?$c(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Bc(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function _g(h,w,C){w instanceof Wc?(h.i=w,BM(h.i,h.l)):(C||(w=qc(w,zM)),h.i=new Wc(w,h.l))}function Nt(h,w,C){h.i.set(w,C)}function ch(h){return Nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function $c(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function qc(h,w,C){return typeof h=="string"?(h=encodeURI(h).replace(w,LM),C&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function LM(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var D1=/[#\/\?@]/g,FM=/[#\?:]/g,VM=/[#\?]/g,zM=/[#\?@]/g,UM=/#/g;function Wc(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function ta(h){h.g||(h.g=new Map,h.h=0,h.i&&MM(h.i,function(w,C){h.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}t=Wc.prototype,t.add=function(h,w){ta(this),this.i=null,h=il(this,h);let C=this.g.get(h);return C||this.g.set(h,C=[]),C.push(w),this.h+=1,this};function O1(h,w){ta(h),w=il(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function M1(h,w){return ta(h),w=il(h,w),h.g.has(w)}t.forEach=function(h,w){ta(this),this.g.forEach(function(C,O){C.forEach(function(W){h.call(w,W,O,this)},this)},this)};function L1(h,w){ta(h);let C=[];if(typeof w=="string")M1(h,w)&&(C=C.concat(h.g.get(il(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)C=C.concat(h[w]);return C}t.set=function(h,w){return ta(this),this.i=null,h=il(this,h),M1(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=L1(this,h),h.length>0?String(h[0]):w):w};function F1(h,w,C){O1(h,w),C.length>0&&(h.i=null,h.g.set(il(h,w),m(C)),h.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let O=0;O<w.length;O++){var C=w[O];const W=ks(C);C=L1(this,C);for(let H=0;H<C.length;H++){let he=W;C[H]!==""&&(he+="="+ks(C[H])),h.push(he)}}return this.i=h.join("&")};function V1(h){const w=new Wc;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function il(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function BM(h,w){w&&!h.j&&(ta(h),h.i=null,h.g.forEach(function(C,O){const W=O.toLowerCase();O!=W&&(O1(this,O),F1(this,W,C))},h)),h.j=w}function $M(h,w){const C=new z;if(i.Image){const O=new Image;O.onload=d(Uo,C,"TestLoadImage: loaded",!0,w,O),O.onerror=d(Uo,C,"TestLoadImage: error",!1,w,O),O.onabort=d(Uo,C,"TestLoadImage: abort",!1,w,O),O.ontimeout=d(Uo,C,"TestLoadImage: timeout",!1,w,O),i.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else w(!1)}function qM(h,w){const C=new z,O=new AbortController,W=setTimeout(()=>{O.abort(),Uo(C,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:O.signal}).then(H=>{clearTimeout(W),H.ok?Uo(C,"TestPingServer: ok",!0,w):Uo(C,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),Uo(C,"TestPingServer: error",!1,w)})}function Uo(h,w,C,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(C)}catch{}}function WM(){this.g=new Jn}function Sg(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Sg,$r),Sg.prototype.g=function(){return new uh(this.i,this.h)};function uh(h,w){ft.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(uh,ft),t=uh.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,Gc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||i).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hc(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof i.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;z1(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function z1(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Hc(this):Gc(this),this.readyState==3&&z1(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Hc(this))},t.Na=function(h){this.g&&(this.response=h,Hc(this))},t.ga=function(){this.g&&Hc(this)};function Hc(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Gc(h)}t.setRequestHeader=function(h,w){this.A.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var C=w.next();!C.done;)C=C.value,h.push(C[0]+": "+C[1]),C=w.next();return h.join(`\r
`)};function Gc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function U1(h){let w="";return V(h,function(C,O){w+=O,w+=":",w+=C,w+=`\r
`}),w}function Eg(h,w,C){e:{for(O in C){var O=!1;break e}O=!0}O||(C=U1(C),typeof h=="string"?C!=null&&ks(C):Nt(h,w,C))}function $t(h){ft.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f($t,ft);var HM=/^https?$/i,GM=["POST","PUT"];t=$t.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,w,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tt.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(H){B1(this,H);return}if(h=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)C.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const H of O.keys())C.set(H,O.get(H));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(H=>H.toLowerCase()=="content-type"),W=i.FormData&&h instanceof i.FormData,!(Array.prototype.indexOf.call(GM,w,void 0)>=0)||O||W||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,he]of C)this.g.setRequestHeader(H,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){B1(this,H)}};function B1(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,$1(h),dh(h)}function $1(h){h.A||(h.A=!0,ct(h,"complete"),ct(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ct(this,"complete"),ct(this,"abort"),dh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dh(this,!0)),$t.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?q1(this):this.Xa())},t.Xa=function(){q1(this)};function q1(h){if(h.h&&typeof o<"u"){if(h.v&&Bo(h)==4)setTimeout(h.Ca.bind(h),0);else if(ct(h,"readystatechange"),Bo(h)==4){h.h=!1;try{const H=h.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var C;if(!(C=w)){var O;if(O=H===0){let he=String(h.D).match(R1)[1]||null;!he&&i.self&&i.self.location&&(he=i.self.location.protocol.slice(0,-1)),O=!HM.test(he?he.toLowerCase():"")}C=O}if(C)ct(h,"complete"),ct(h,"success");else{h.o=6;try{var W=Bo(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",$1(h)}}finally{dh(h)}}}}function dh(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const C=h.g;h.g=null,w||ct(h,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bo(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Bo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Dn(w)}};function W1(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function KM(h){const w={};h=(h.g&&Bo(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(P(h[O]))continue;var C=Ln(h[O]);const W=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const H=w[W]||[];w[W]=H,H.push(C)}G(w,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kc(h,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[h]||w}function H1(h){this.za=0,this.i=[],this.j=new z,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Kc("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Kc("baseRetryDelayMs",5e3,h),this.Za=Kc("retryDelaySeedMs",1e4,h),this.Ta=Kc("forwardChannelMaxRetries",2,h),this.va=Kc("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new k1(h&&h.concurrentRequestLimit),this.Ba=new WM,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=H1.prototype,t.ka=8,t.I=1,t.connect=function(h,w,C,O){we(0),this.W=h,this.H=w||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.J=t_(this,null,this.W),fh(this)};function Cg(h){if(G1(h),h.I==3){var w=h.V++,C=js(h.J);if(Nt(C,"SID",h.M),Nt(C,"RID",w),Nt(C,"TYPE","terminate"),Yc(h,C),w=new bn(h,h.j,w),w.M=2,w.A=ch(js(C)),C=!1,i.navigator&&i.navigator.sendBeacon)try{C=i.navigator.sendBeacon(w.A.toString(),"")}catch{}!C&&i.Image&&(new Image().src=w.A,C=!0),C||(w.g=n_(w.j,null),w.g.ea(w.A)),w.F=Date.now(),lh(w)}e_(h)}function hh(h){h.g&&(Ng(h),h.g.cancel(),h.g=null)}function G1(h){hh(h),h.v&&(i.clearTimeout(h.v),h.v=null),ph(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&i.clearTimeout(h.m),h.m=null)}function fh(h){if(!j1(h.h)&&!h.m){h.m=!0;var w=h.Ea;R||T(),F||(R(),F=!0),E.add(w,h),h.D=0}}function YM(h,w){return P1(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ye(u(h.Ea,h,w),Z1(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new bn(this,this.j,h);let H=this.o;if(this.U&&(H?(H=K(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(W.J=H,H=null),this.S)e:{for(var w=0,C=0;C<this.i.length;C++){t:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,w>4096){w=C;break e}if(w===4096||C===this.i.length-1){w=C+1;break e}}w=1e3}else w=1e3;w=Y1(this,W,w),C=js(this.J),Nt(C,"RID",h),Nt(C,"CVER",22),this.G&&Nt(C,"X-HTTP-Session-Id",this.G),Yc(this,C),H&&(this.R?w="headers="+ks(U1(H))+"&"+w:this.u&&Eg(C,this.u,H)),bg(this.h,W),this.Ra&&Nt(C,"TYPE","init"),this.S?(Nt(C,"$req",w),Nt(C,"SID","null"),W.U=!0,vg(W,C,null)):vg(W,C,w),this.I=2}}else this.I==3&&(h?K1(this,h):this.i.length==0||j1(this.h)||K1(this))};function K1(h,w){var C;w?C=w.l:C=h.V++;const O=js(h.J);Nt(O,"SID",h.M),Nt(O,"RID",C),Nt(O,"AID",h.K),Yc(h,O),h.u&&h.o&&Eg(O,h.u,h.o),C=new bn(h,h.j,C,h.D+1),h.u===null&&(C.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Y1(h,C,1e3),C.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),bg(h.h,C),vg(C,O,w)}function Yc(h,w){h.H&&V(h.H,function(C,O){Nt(w,O,C)}),h.l&&V({},function(C,O){Nt(w,O,C)})}function Y1(h,w,C){C=Math.min(h.i.length,C);const O=h.l?u(h.l.Ka,h.l,h):null;e:{var W=h.i;let He=-1;for(;;){const cn=["count="+C];He==-1?C>0?(He=W[0].g,cn.push("ofs="+He)):He=0:cn.push("ofs="+He);let wt=!0;for(let gn=0;gn<C;gn++){var H=W[gn].g;const Ps=W[gn].map;if(H-=He,H<0)He=Math.max(0,W[gn].g-100),wt=!1;else try{H="req"+H+"_"||"";try{var he=Ps instanceof Map?Ps:Object.entries(Ps);for(const[ra,$o]of he){let qo=$o;l($o)&&(qo=Rn($o)),cn.push(H+ra+"="+encodeURIComponent(qo))}}catch(ra){throw cn.push(H+"type="+encodeURIComponent("_badmap")),ra}}catch{O&&O(Ps)}}if(wt){he=cn.join("&");break e}}he=void 0}return h=h.i.splice(0,C),w.G=h,he}function Q1(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;R||T(),F||(R(),F=!0),E.add(w,h),h.A=0}}function Tg(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ye(u(h.Da,h),Z1(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,X1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ye(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),hh(this),X1(this))};function Ng(h){h.B!=null&&(i.clearTimeout(h.B),h.B=null)}function X1(h){h.g=new bn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=js(h.na);Nt(w,"RID","rpc"),Nt(w,"SID",h.M),Nt(w,"AID",h.K),Nt(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&Nt(w,"TO",h.ia),Nt(w,"TYPE","xmlhttp"),Yc(h,w),h.u&&h.o&&Eg(w,h.u,h.o),h.O&&(h.g.H=h.O);var C=h.g;h=h.ba,C.M=1,C.A=ch(js(w)),C.u=null,C.R=!0,C1(C,h)}t.Va=function(){this.C!=null&&(this.C=null,hh(this),Tg(this),we(19))};function ph(h){h.C!=null&&(i.clearTimeout(h.C),h.C=null)}function J1(h,w){var C=null;if(h.g==w){ph(h),Ng(h),h.g=null;var O=2}else if(wg(h.h,w))C=w.G,A1(h.h,w),O=1;else return;if(h.I!=0){if(w.o)if(O==1){C=w.u?w.u.length:0,w=Date.now()-w.F;var W=h.D;O=J(),ct(O,new vt(O,C)),fh(h)}else Q1(h);else if(W=w.m,W==3||W==0&&w.X>0||!(O==1&&YM(h,w)||O==2&&Tg(h)))switch(C&&C.length>0&&(w=h.h,w.i=w.i.concat(C)),W){case 1:na(h,5);break;case 4:na(h,10);break;case 3:na(h,6);break;default:na(h,2)}}}function Z1(h,w){let C=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(C*=2),C*w}function na(h,w){if(h.j.info("Error code "+w),w==2){var C=u(h.bb,h),O=h.Ua;const W=!O;O=new zo(O||"//www.google.com/images/cleardot.gif"),i.location&&i.location.protocol=="http"||Uc(O,"https"),ch(O),W?$M(O.toString(),C):qM(O.toString(),C)}else we(2);h.I=0,h.l&&h.l.pa(w),e_(h),G1(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function e_(h){if(h.I=0,h.ja=[],h.l){const w=I1(h.h);(w.length!=0||h.i.length!=0)&&(y(h.ja,w),y(h.ja,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.oa()}}function t_(h,w,C){var O=C instanceof zo?js(C):new zo(C);if(O.g!="")w&&(O.g=w+"."+O.g),Bc(O,O.u);else{var W=i.location;O=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const H=new zo(null);O&&Uc(H,O),w&&(H.g=w),W&&Bc(H,W),C&&(H.h=C),O=H}return C=h.G,w=h.wa,C&&w&&Nt(O,C,w),Nt(O,"VER",h.ka),Yc(h,O),O}function n_(h,w,C){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new $t(new Sg({ab:C})):new $t(h.ma),w.Fa(h.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function r_(){}t=r_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mh(){}mh.prototype.g=function(h,w){return new kr(h,w)};function kr(h,w){ft.call(this),this.g=new H1(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!P(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new al(this)}f(kr,ft),kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kr.prototype.close=function(){Cg(this.g)},kr.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var C={};C.__data__=h,h=C}else this.v&&(C={},C.__data__=Rn(h),h=C);w.i.push(new OM(w.Ya++,h)),w.I==3&&fh(w)},kr.prototype.N=function(){this.g.l=null,delete this.j,Cg(this.g),delete this.g,kr.Z.N.call(this)};function s_(h){Nr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const C in w){h=C;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}f(s_,Nr);function o_(){Zn.call(this),this.status=1}f(o_,Zn);function al(h){this.g=h}f(al,r_),al.prototype.ra=function(){ct(this.g,"a")},al.prototype.qa=function(h){ct(this.g,new s_(h))},al.prototype.pa=function(h){ct(this.g,new o_)},al.prototype.oa=function(){ct(this.g,"b")},mh.prototype.createWebChannel=mh.prototype.g,kr.prototype.send=kr.prototype.o,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,VR=function(){return new mh},FR=function(){return J()},LR=Gt,qy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Y.NO_ERROR=0,Y.TIMEOUT=8,Y.HTTP_ERROR=6,kf=Y,_e.COMPLETE="complete",MR=_e,Tr.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,bu=Tr,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,OR=$t}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const OC="@firebase/firestore",MC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new ab("@firebase/firestore");function ml(){return Ha.logLevel}function ye(t,...e){if(Ha.logLevel<=Ze.DEBUG){const n=e.map(ub);Ha.debug(`Firestore (${Pc}): ${t}`,...n)}}function Ro(t,...e){if(Ha.logLevel<=Ze.ERROR){const n=e.map(ub);Ha.error(`Firestore (${Pc}): ${t}`,...n)}}function uc(t,...e){if(Ha.logLevel<=Ze.WARN){const n=e.map(ub);Ha.warn(`Firestore (${Pc}): ${t}`,...n)}}function ub(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zR(t,r,n)}function zR(t,e,n){let r=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ro(r),new Error(r)}function ht(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||zR(e,s,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($n.UNAUTHENTICATED))}shutdown(){}}class KW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YW{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Eo,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Eo)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new UR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new $n(e)}}class QW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=ZW(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function Wy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Fv(s)===Fv(o)?et(s,o):Fv(s)?1:-1}return et(t.length,e.length)}const eH=55296,tH=57343;function Fv(t){const e=t.charCodeAt(0);return e>=eH&&e<=tH}function dc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="__name__";class Os{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Os.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Os?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Os.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return et(e.length,n.length)}static compareSegments(e,n){const r=Os.isNumericId(e),s=Os.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Os.extractNumericId(e).compare(Os.extractNumericId(n)):Wy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ci.fromString(e.substring(4,e.length-2))}}class _t extends Os{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const nH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Os{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return nH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FC}static keyField(){return new kn([FC])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ge(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ge(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ge(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(i=!i,s++):l!=="."||i?(r+=l,s++):(o(),s++)}if(o(),i)throw new ge(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(_t.fromString(e))}static fromName(e){return new Te(_t.fromString(e).popFirst(5))}static empty(){return new Te(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e,n){if(!n)throw new ge(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rH(t,e,n,r){if(e===!0&&r===!0)throw new ge(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VC(t){if(!Te.isDocumentKey(t))throw new ge(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zC(t){if(Te.isDocumentKey(t))throw new ge(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $R(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Wm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wm(t);throw new ge(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wd(t,e){if(!$R(t))throw new ge(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ge(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=-62135596800,BC=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BC);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UC)throw new ge(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BC}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wd(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:an("string",At._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new At(0,0))}static max(){return new Fe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function sH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new Oi(s,Te.empty(),e)}function oH(t){return new Oi(t.readTime,t.key,xd)}class Oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oi(Fe.min(),Te.empty(),xd)}static max(){return new Oi(Fe.max(),Te.empty(),xd)}}function iH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==aH)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let s=0,o=0,i=!1;e.forEach(l=>{++s,l.next(()=>{++o,i&&o===s&&n()},c=>r(c))}),i=!0,o===s&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(s=>s?ee.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,s)=>{const o=e.length,i=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{i[u]=d,++l,l===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new ee((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function cH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=-1;function Gm(t){return t==null}function Dp(t){return t===0&&1/t==-1/0}function uH(t){return typeof t=="number"&&Number.isInteger(t)&&!Dp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="";function dH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$C(e)),e=hH(t.get(n),e);return $C(e)}function hH(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case qR:n+="";break;default:n+=o}}return n}function $C(t){return t+qR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Sn.RED,this.left=s??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Sn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Sn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WC(this.data.getIterator())}getIteratorFrom(e){return new WC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class WC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new mn(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new HR("Invalid base64 string: "+o):o}}(e);return new In(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const fH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=fH.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Li(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="server_timestamp",KR="__type__",YR="__previous_value__",QR="__local_write_time__";function fb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[KR])==null?void 0:r.stringValue)===GR}function Km(t){const e=t.mapValue.fields[YR];return fb(e)?Km(e):e}function wd(t){const e=Mi(t.mapValue.fields[QR].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e,n,r,s,o,i,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Op="(default)";class bd{constructor(e,n){this.projectId=e,this.database=n||Op}static empty(){return new bd("","")}get isDefaultDatabase(){return this.database===Op}isEqual(e){return e instanceof bd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="__type__",JR="__max__",Jh={mapValue:{fields:{__type__:{stringValue:JR}}}},ZR="__vector__",Mp="value";function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fb(t)?4:gH(t)?9007199254740991:mH(t)?10:11:De(28295,{value:t})}function eo(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wd(t).isEqual(wd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=Mi(s.timestampValue),l=Mi(o.timestampValue);return i.seconds===l.seconds&&i.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Li(s.bytesValue).isEqual(Li(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Qt(s.geoPointValue.latitude)===Qt(o.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Qt(s.integerValue)===Qt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=Qt(s.doubleValue),l=Qt(o.doubleValue);return i===l?Dp(i)===Dp(l):isNaN(i)&&isNaN(l)}return!1}(t,e);case 9:return dc(t.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},l=o.mapValue.fields||{};if(qC(i)!==qC(l))return!1;for(const c in i)if(i.hasOwnProperty(c)&&(l[c]===void 0||!eo(i[c],l[c])))return!1;return!0}(t,e);default:return De(52216,{left:t})}}function _d(t,e){return(t.values||[]).find(n=>eo(n,e))!==void 0}function hc(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(o,i){const l=Qt(o.integerValue||o.doubleValue),c=Qt(i.integerValue||i.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return HC(t.timestampValue,e.timestampValue);case 4:return HC(wd(t),wd(e));case 5:return Wy(t.stringValue,e.stringValue);case 6:return function(o,i){const l=Li(o),c=Li(i);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const l=o.split("/"),c=i.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=et(l[u],c[u]);if(d!==0)return d}return et(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const l=et(Qt(o.latitude),Qt(i.latitude));return l!==0?l:et(Qt(o.longitude),Qt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GC(t.arrayValue,e.arrayValue);case 10:return function(o,i){var p,m,y,x;const l=o.fields||{},c=i.fields||{},u=(p=l[Mp])==null?void 0:p.arrayValue,d=(m=c[Mp])==null?void 0:m.arrayValue,f=et(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return f!==0?f:GC(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===Jh.mapValue&&i===Jh.mapValue)return 0;if(o===Jh.mapValue)return 1;if(i===Jh.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=i.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=Wy(c[f],d[f]);if(p!==0)return p;const m=hc(l[c[f]],u[d[f]]);if(m!==0)return m}return et(c.length,d.length)}(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function HC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Mi(t),r=Mi(e),s=et(n.seconds,r.seconds);return s!==0?s:et(n.nanos,r.nanos)}function GC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=hc(n[s],r[s]);if(o)return o}return et(n.length,r.length)}function fc(t){return Hy(t)}function Hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Hy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${Hy(n.fields[i])}`;return s+"}"}(t.mapValue):De(61005,{value:t})}function jf(t){switch(Fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Km(t);return e?16+jf(e):16;case 5:return 2*t.stringValue.length;case 6:return Li(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+jf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ki(r.fields,(o,i)=>{s+=o.length+jf(i)}),s}(t.mapValue);default:throw De(13486,{value:t})}}function KC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gy(t){return!!t&&"integerValue"in t}function pb(t){return!!t&&"arrayValue"in t}function YC(t){return!!t&&"nullValue"in t}function QC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function mH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XR])==null?void 0:r.stringValue)===ZR}function Uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return{...t}}function gH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=kn.emptyPath(),r={},s=[];e.forEach((i,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}i?r[l.lastSegment()]=Uu(i):s.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new gr(Uu(this.value))}}function eD(t){const e=[];return Ki(t.fields,(n,r)=>{const s=new kn([n]);if(Pf(r)){const o=eD(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,r,s,o,i,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=l}static newInvalidDocument(e){return new Hn(e,0,Fe.min(),Fe.min(),Fe.min(),gr.empty(),0)}static newFoundDocument(e,n,r,s){return new Hn(e,1,n,Fe.min(),r,s,0)}static newNoDocument(e,n){return new Hn(e,2,n,Fe.min(),Fe.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new Hn(e,3,n,Fe.min(),Fe.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.position=e,this.inclusive=n}}function XC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=Te.comparator(Te.fromName(i.referenceValue),n.key):r=hc(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!eo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function vH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{}class on extends tD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xH(e,n,r):n==="array-contains"?new _H(e,r):n==="in"?new SH(e,r):n==="not-in"?new EH(e,r):n==="array-contains-any"?new CH(e,r):new on(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wH(e,r):new bH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hc(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends tD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Es(e,n)}matches(e){return nD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nD(t){return t.op==="and"}function rD(t){return yH(t)&&nD(t)}function yH(t){for(const e of t.filters)if(e instanceof Es)return!1;return!0}function Ky(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(rD(t))return t.filters.map(e=>Ky(e)).join(",");{const e=t.filters.map(n=>Ky(n)).join(",");return`${t.op}(${e})`}}function sD(t,e){return t instanceof on?function(r,s){return s instanceof on&&r.op===s.op&&r.field.isEqual(s.field)&&eo(r.value,s.value)}(t,e):t instanceof Es?function(r,s){return s instanceof Es&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,l)=>o&&sD(i,s.filters[l]),!0):!1}(t,e):void De(19439)}function oD(t){return t instanceof on?function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`}(t):t instanceof Es?function(n){return n.op.toString()+" {"+n.getFilters().map(oD).join(" ,")+"}"}(t):"Filter"}class xH extends on{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class wH extends on{constructor(e,n){super(e,"in",n),this.keys=iD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bH extends on{constructor(e,n){super(e,"not-in",n),this.keys=iD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class _H extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pb(n)&&_d(n.arrayValue,this.value)}}class SH extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_d(this.value.arrayValue,n)}}class EH extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_d(this.value.arrayValue,n)}}class CH extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,n=null,r=[],s=[],o=null,i=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=l,this.Te=null}}function ZC(t,e=null,n=[],r=[],s=null,o=null,i=null){return new TH(t,e,n,r,s,o,i)}function mb(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ky(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fc(r)).join(",")),e.Te=n}return e.Te}function gb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JC(t.startAt,e.startAt)&&JC(t.endAt,e.endAt)}function Yy(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n=null,r=[],s=[],o=null,i="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NH(t,e,n,r,s,o,i,l){return new Rc(t,e,n,r,s,o,i,l)}function Ym(t){return new Rc(t)}function eT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aD(t){return t.collectionGroup!==null}function Bu(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let l=new mn(kn.comparator);return i.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Sd(o,r))}),n.has(kn.keyField().canonicalString())||e.Ie.push(new Sd(kn.keyField(),r))}return e.Ie}function Hs(t){const e=Ve(t);return e.Ee||(e.Ee=kH(e,Bu(t))),e.Ee}function kH(t,e){if(t.limitType==="F")return ZC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Sd(s.field,o)});const n=t.endAt?new Lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lp(t.startAt.position,t.startAt.inclusive):null;return ZC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qy(t,e){const n=t.filters.concat([e]);return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xy(t,e,n){return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qm(t,e){return gb(Hs(t),Hs(e))&&t.limitType===e.limitType}function lD(t){return`${mb(Hs(t))}|lt:${t.limitType}`}function gl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>oD(s)).join(", ")}]`),Gm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fc(s)).join(",")),`Target(${r})`}(Hs(t))}; limitType=${t.limitType})`}function Xm(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Bu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,l,c){const u=XC(i,l,c);return i.inclusive?u<=0:u<0}(r.startAt,Bu(r),s)||r.endAt&&!function(i,l,c){const u=XC(i,l,c);return i.inclusive?u>=0:u>0}(r.endAt,Bu(r),s))}(t,e)}function jH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cD(t){return(e,n)=>{let r=!1;for(const s of Bu(t)){const o=PH(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function PH(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(o,i,l){const c=i.data.field(o),u=l.data.field(o);return c!==null&&u!==null?hc(c,u):De(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return WR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=new Ut(Te.comparator);function Do(){return AH}const uD=new Ut(Te.comparator);function _u(...t){let e=uD;for(const n of t)e=e.insert(n.key,n);return e}function dD(t){let e=uD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wa(){return $u()}function hD(){return $u()}function $u(){return new rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const IH=new Ut(Te.comparator),RH=new mn(Te.comparator);function tt(...t){let e=RH;for(const n of t)e=e.add(n);return e}const DH=new mn(et);function OH(){return DH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dp(e)?"-0":e}}function fD(t){return{integerValue:""+t}}function MH(t,e){return uH(e)?fD(e):vb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this._=void 0}}function LH(t,e,n){return t instanceof Fp?function(s,o){const i={fields:{[KR]:{stringValue:GR},[QR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&fb(o)&&(o=Km(o)),o&&(i.fields[YR]=o),{mapValue:i}}(n,e):t instanceof Ed?mD(t,e):t instanceof Cd?gD(t,e):function(s,o){const i=pD(s,o),l=tT(i)+tT(s.Ae);return Gy(i)&&Gy(s.Ae)?fD(l):vb(s.serializer,l)}(t,e)}function FH(t,e,n){return t instanceof Ed?mD(t,e):t instanceof Cd?gD(t,e):n}function pD(t,e){return t instanceof Vp?function(r){return Gy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Fp extends Jm{}class Ed extends Jm{constructor(e){super(),this.elements=e}}function mD(t,e){const n=vD(e);for(const r of t.elements)n.some(s=>eo(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cd extends Jm{constructor(e){super(),this.elements=e}}function gD(t,e){let n=vD(e);for(const r of t.elements)n=n.filter(s=>!eo(s,r));return{arrayValue:{values:n}}}class Vp extends Jm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tT(t){return Qt(t.integerValue||t.doubleValue)}function vD(t){return pb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ed&&s instanceof Ed||r instanceof Cd&&s instanceof Cd?dc(r.elements,s.elements,eo):r instanceof Vp&&s instanceof Vp?eo(r.Ae,s.Ae):r instanceof Fp&&s instanceof Fp}(t.transform,e.transform)}class zH{constructor(e,n){this.version=e,this.transformResults=n}}class ws{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ws}static exists(e){return new ws(void 0,e)}static updateTime(e){return new ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zm{}function yD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yb(t.key,ws.none()):new Hd(t.key,t.data,ws.none());{const n=t.data,r=gr.empty();let s=new mn(kn.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new Yi(t.key,r,new Or(s.toArray()),ws.none())}}function UH(t,e,n){t instanceof Hd?function(s,o,i){const l=s.value.clone(),c=rT(s.fieldTransforms,o,i.transformResults);l.setAll(c),o.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(s,o,i){if(!Af(s.precondition,o))return void o.convertToUnknownDocument(i.version);const l=rT(s.fieldTransforms,o,i.transformResults),c=o.data;c.setAll(xD(s)),c.setAll(l),o.convertToFoundDocument(i.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function qu(t,e,n,r){return t instanceof Hd?function(o,i,l,c){if(!Af(o.precondition,i))return l;const u=o.value.clone(),d=sT(o.fieldTransforms,c,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(o,i,l,c){if(!Af(o.precondition,i))return l;const u=sT(o.fieldTransforms,c,i),d=i.data;return d.setAll(xD(o)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,i,l){return Af(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):l}(t,e,n)}function BH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=pD(r.transform,s||null);o!=null&&(n===null&&(n=gr.empty()),n.set(r.field,o))}return n||null}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&dc(r,s,(o,i)=>VH(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hd extends Zm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yi extends Zm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rT(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,l=e.data.field(o.field);r.set(o.field,FH(i,l,n[s]))}return r}function sT(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,LH(o,i,e))}return r}class yb extends Zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $H extends Zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&UH(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hD();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let l=this.applyToLocalView(i,o.mutatedFields);l=n.has(s.key)?null:l;const c=yD(i,l);c!==null&&r.set(s.key,c),i.isValidDocument()||i.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(n,r)=>nT(n,r))&&dc(this.baseMutations,e.baseMutations,(n,r)=>nT(n,r))}}class xb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return IH}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new xb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,st;function GH(t){switch(t){case X.OK:return De(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function wD(t){if(t===void 0)return Ro("GRPC error has no .code"),X.UNKNOWN;switch(t){case Zt.OK:return X.OK;case Zt.CANCELLED:return X.CANCELLED;case Zt.UNKNOWN:return X.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return X.INTERNAL;case Zt.UNAVAILABLE:return X.UNAVAILABLE;case Zt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Zt.NOT_FOUND:return X.NOT_FOUND;case Zt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Zt.ABORTED:return X.ABORTED;case Zt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Zt.DATA_LOSS:return X.DATA_LOSS;default:return De(39323,{code:t})}}(st=Zt||(Zt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=new Ci([4294967295,4294967295],0);function oT(t){const e=KH().encode(t),n=new DR;return n.update(e),new Uint8Array(n.digest())}function iT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ci([n,r],0),new Ci([s,o],0)]}class wb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ci.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ci.fromNumber(r)));return s.compare(YH)===1&&(s=new Ci([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oT(e),[r,s]=iT(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);if(!this.we(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new wb(o,s,n);return r.forEach(l=>i.insert(l)),i}insert(e){if(this.ge===0)return;const n=oT(e),[r,s]=iT(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);this.Se(i)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eg(Fe.min(),s,new Ut(et),Do(),tt())}}class Gd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gd(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class bD{constructor(e,n){this.targetId=e,this.Ce=n}}class _D{constructor(e,n,r=In.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class aT{constructor(){this.ve=0,this.Fe=lT(),this.Me=In.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),r=tt();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:De(38017,{changeType:o})}}),new Gd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Do(),this.Je=Zh(),this.He=Zh(),this.Ye=new Ut(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Yy(o))if(r===0){const i=new Te(o.path);this.et(n,i,Hn.newNoDocument(i,Fe.min()))}else ht(r===1,20013,{expectedCount:r});else{const i=this._t(n);if(i!==r){const l=this.ut(e),c=l?this.ct(l,e,i):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,l;try{i=Li(r).toUint8Array()}catch(c){if(c instanceof HR)return uc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new wb(i,s,o)}catch(c){return uc(c instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Ge.ht(),l=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,i)=>{const l=this.ot(i);if(l){if(o.current&&Yy(l.target)){const c=new Te(l.target.path);this.It(c).has(i)||this.Et(i,c)||this.et(i,c,Hn.newNoDocument(c,e))}o.Be&&(n.set(i,o.ke()),o.qe())}});let r=tt();this.He.forEach((o,i)=>{let l=!0;i.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.je.forEach((o,i)=>i.setReadTime(e));const s=new eg(e,n,this.Ye,this.je,r);return this.je=Do(),this.Je=Zh(),this.He=Zh(),this.Ye=new Ut(et),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new aT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new mn(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new mn(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zh(){return new Ut(Te.comparator)}function lT(){return new Ut(Te.comparator)}const XH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),JH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ZH=(()=>({and:"AND",or:"OR"}))();class eG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jy(t,e){return t.useProto3Json||Gm(e)?e:{value:e}}function zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tG(t,e){return zp(t,e.toTimestamp())}function Gs(t){return ht(!!t,49232),Fe.fromTimestamp(function(n){const r=Mi(n);return new At(r.seconds,r.nanos)}(t))}function bb(t,e){return Zy(t,e).canonicalString()}function Zy(t,e){const n=function(s){return new _t(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ED(t){const e=_t.fromString(t);return ht(jD(e),10190,{key:e.toString()}),e}function ex(t,e){return bb(t.databaseId,e.path)}function Vv(t,e){const n=ED(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(TD(n))}function CD(t,e){return bb(t.databaseId,e)}function nG(t){const e=ED(t);return e.length===4?_t.emptyPath():TD(e)}function tx(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TD(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cT(t,e,n){return{name:ex(t,e),fields:n.value.mapValue.fields}}function rG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:De(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(ht(d===void 0||typeof d=="string",58123),In.fromBase64String(d||"")):(ht(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),In.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,l=i&&function(u){const d=u.code===void 0?X.UNKNOWN:wD(u.code);return new ge(d,u.message||"")}(i);n=new _D(r,s,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vv(t,r.document.name),o=Gs(r.document.updateTime),i=r.document.createTime?Gs(r.document.createTime):Fe.min(),l=new gr({mapValue:{fields:r.document.fields}}),c=Hn.newFoundDocument(s,o,i,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new If(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vv(t,r.document),o=r.readTime?Gs(r.readTime):Fe.min(),i=Hn.newNoDocument(s,o),l=r.removedTargetIds||[];n=new If([],l,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vv(t,r.document),o=r.removedTargetIds||[];n=new If([],o,s,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new HH(s,o),l=r.targetId;n=new bD(l,i)}}return n}function sG(t,e){let n;if(e instanceof Hd)n={update:cT(t,e.key,e.value)};else if(e instanceof yb)n={delete:ex(t,e.key)};else if(e instanceof Yi)n={update:cT(t,e.key,e.data),updateMask:fG(e.fieldMask)};else{if(!(e instanceof $H))return De(16599,{Vt:e.type});n={verify:ex(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const l=i.transform;if(l instanceof Fp)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ed)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Cd)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Vp)return{fieldPath:i.field.canonicalString(),increment:l.Ae};throw De(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:tG(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:De(27497)}(t,e.precondition)),n}function oG(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map(n=>function(s,o){let i=s.updateTime?Gs(s.updateTime):Gs(o);return i.isEqual(Fe.min())&&(i=Gs(o)),new zH(i,s.transformResults||[])}(n,e))):[]}function iG(t,e){return{documents:[CD(t,e.path)]}}function aG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CD(t,s);const o=function(u){if(u.length!==0)return kD(Es.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:vl(p.field),direction:uG(p.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const l=Jy(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function lG(t){let e=nG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ht(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const p=ND(f);return p instanceof Es&&rD(p)?p.getFilters():[p]}(n.where));let i=[];n.orderBy&&(i=function(f){return f.map(p=>function(y){return new Sd(yl(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Gm(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,m=f.values||[];return new Lp(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new Lp(m,p)}(n.endAt)),NH(e,s,i,o,l,"F",c,u)}function cG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ND(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yl(n.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yl(n.unaryFilter.field);return on.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yl(n.unaryFilter.field);return on.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=yl(n.unaryFilter.field);return on.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}}(t):t.fieldFilter!==void 0?function(n){return on.create(yl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Es.create(n.compositeFilter.filters.map(r=>ND(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}}(n.compositeFilter.op))}(t):De(30097,{filter:t})}function uG(t){return XH[t]}function dG(t){return JH[t]}function hG(t){return ZH[t]}function vl(t){return{fieldPath:t.canonicalString()}}function yl(t){return kn.fromServerFormat(t.fieldPath)}function kD(t){return t instanceof on?function(n){if(n.op==="=="){if(QC(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(YC(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QC(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(YC(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:dG(n.op),value:n.value}}}(t):t instanceof Es?function(n){const r=n.getFilters().map(s=>kD(s));return r.length===1?r[0]:{compositeFilter:{op:hG(n.op),filters:r}}}(t):De(54877,{filter:t})}function fG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r,s,o=Fe.min(),i=Fe.min(),l=In.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.yt=e}}function mG(t){const e=lG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(){this.Cn=new vG}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Oi.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class vG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mn(_t.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PD=41943040;class hr{static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(PD,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pc(0)}static cr(){return new pc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="LruGarbageCollector",yG=1048576;function hT([t,e],[n,r]){const s=et(t,n);return s===0?et(e,r):s}class xG{constructor(e){this.Ir=e,this.buffer=new mn(hT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(dT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ic(n)?ye(dT,"Ignoring IndexedDB error during garbage collection: ",n):await Ac(n)}await this.Vr(3e5)})}}class bG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Hm.ce);const r=new xG(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(uT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,i,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,i=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ml()<=Ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${s} in `+(l-i)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:f})))}}function _G(t,e){return new bG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(){this.changes=new rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&qu(r.mutation,s,Or.empty(),At.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const s=wa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=_u();return o.forEach((l,c)=>{i=i.insert(l,c.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=wa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,l)=>{n.set(i,l)})})}computeViews(e,n,r,s){let o=Do();const i=$u(),l=function(){return $u()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Yi)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),qu(d.mutation,u,d.mutation.getFieldMask(),At.now())):i.set(u.key,Or.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>l.set(u,new EG(d,i.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=$u();let s=new Ut((i,l)=>i-l),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const l of i)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Or.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||tt()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const i=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=hD();d.forEach(p=>{if(!o.has(p)){const m=yD(n.get(p),r.get(p));m!==null&&f.set(p,m),o=o.add(p)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ee.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ee.resolve(wa());let l=xd,c=o;return i.next(u=>ee.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,tt())).next(d=>({batchId:l,changes:dD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let s=_u();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=_u();return this.indexManager.getCollectionParents(e,o).next(l=>ee.forEach(l,c=>{const u=function(f,p){return new Rc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{i=i.insert(f,p)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((c,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,Hn.newInvalidDocument(d)))});let l=_u();return i.forEach((c,u)=>{const d=o.get(c);d!==void 0&&qu(d.mutation,u,Or.empty(),At.now()),Xm(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Gs(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:mG(s.bundledQuery),readTime:Gs(s.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(){this.overlays=new Ut(Te.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wa();return ee.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const s=wa(),o=n.length+1,i=new Te(n.child("")),l=this.overlays.getIteratorFrom(i);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Ut((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=wa(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=wa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return ee.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new WH(n,r));let o=this.qr.get(n);o===void 0&&(o=tt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.Qr=new mn(vn.$r),this.Ur=new mn(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new vn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new vn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Te(new _t([])),r=new vn(n,e),s=new vn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],i=>{this.Gr(i),o.push(i.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new _t([])),r=new vn(n,e),s=new vn(n,e+1);let o=tt();return this.Ur.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new vn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new mn(vn.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new qH(o,n,r,s);this.mutationQueue.push(i);for(const l of s)this.Zr=this.Zr.add(new vn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(i)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?hb:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),s=new vn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],i=>{const l=this.Xr(i.Yr);o.push(l)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(et);return n.forEach(s=>{const o=new vn(s,0),i=new vn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,i],l=>{r=r.add(l.Yr)})}),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Te.isDocumentKey(o)||(o=o.child(""));const i=new vn(new Te(o),0);let l=new mn(et);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},i),ee.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,s=>{const o=new vn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new vn(n,0),s=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e){this.ri=e,this.docs=function(){return new Ut(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let r=Do();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Hn.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Do();const i=n.path,l=new Te(i.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||iH(oH(d),r)<=0||(s.has(d.key)||Xm(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,s){De(9500)}ii(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AG(this)}getSize(e){return ee.resolve(this.size)}}class AG extends SG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.persistence=e,this.si=new rl(n=>mb(n),gb),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new _b,this.targetCount=0,this.ai=pc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new pc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((i,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),ee.waitFor(o).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hm(0),this.li=!1,this.li=!0,this.hi=new kG,this.referenceDelegate=e(this),this.Pi=new IG(this),this.indexManager=new gG,this.remoteDocumentCache=function(s){return new PG(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new pG(n),this.Ii=new TG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new jG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const s=new RG(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return ee.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class RG extends lH{constructor(e){super(),this.currentSequenceNumber=e}}class Sb{constructor(e){this.persistence=e,this.Ri=new _b,this.Vi=null}static mi(e){return new Sb(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,r=>{const s=Te.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Up{constructor(e,n){this.persistence=e,this.pi=new rl(r=>dH(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=_G(this,n)}static mi(e,n){return new Up(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ee.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?ee.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,i=>this.br(e,i,n).next(l=>{l||(r++,o.removeEntry(i,Fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jf(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=tt(),s=tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Eb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return jq()?8:cH(Qn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new DG;return this.Ss(e,n,i).next(l=>{if(o.result=l,this.Vs)return this.bs(e,n,i,l.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ml()<=Ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(ml()<=Ze.DEBUG&&ye("QueryEngine","Query:",gl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ml()<=Ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(n))):ee.resolve())}ys(e,n){if(eT(n))return ee.resolve(null);let r=Hs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xy(n,null,"F"),r=Hs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=tt(...o);return this.ps.getDocuments(e,i).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,i,c.readTime)?this.ys(e,Xy(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return eT(n)||s.isEqual(Fe.min())?ee.resolve(null):this.ps.getDocuments(e,r).next(o=>{const i=this.Ds(n,o);return this.Cs(n,i,r,s)?ee.resolve(null):(ml()<=Ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gl(n)),this.vs(e,i,n,sH(s,xd)).next(l=>l))})}Ds(e,n){let r=new mn(cD(e));return n.forEach((s,o)=>{Xm(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return ml()<=Ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",gl(n)),this.ps.getDocumentsMatchingQuery(e,n,Oi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="LocalStore",MG=3e8;class LG{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ut(et),this.xs=new rl(o=>mb(o),gb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function FG(t,e,n,r){return new LG(t,e,n,r)}async function ID(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],l=[];let c=tt();for(const u of s){i.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:i,addedBatchIds:l}))})})}function VG(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,p=f.keys();let m=ee.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(c,y)).next(x=>{const S=u.docVersions.get(y);ht(S!==null,48541),x.version.compareTo(S)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=tt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function RD(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function zG(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(In.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(x,S,_){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=MG?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,d)&&l.push(n.Pi.updateTargetData(o,m))});let c=Do(),u=tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(UG(o,i,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(Fe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return ee.waitFor(l).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=s,o))}function UG(t,e,n){let r=tt(),s=tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=Do();return n.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(l,c.readTime),i=i.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),i=i.insert(l,c)):ye(Cb,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:i,qs:s}})}function BG(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $G(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,ee.resolve(s)):n.Pi.allocateTargetId(r).next(i=>(s=new di(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function nx(t,e,n){const r=Ve(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Ic(i))throw i;ye(Cb,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function fT(t,e,n){const r=Ve(t);let s=Fe.min(),o=tt();return r.persistence.runTransaction("Execute query","readwrite",i=>function(c,u,d){const f=Ve(c),p=f.xs.get(d);return p!==void 0?ee.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,i,Hs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(i,l.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(i,e,n?s:Fe.min(),n?o:tt())).next(l=>(qG(r,jH(e),l),{documents:l,Qs:o})))}function qG(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class pT{constructor(){this.activeTargetIds=OH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WG{constructor(){this.Mo=new pT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="ConnectivityMonitor";class gT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(mT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(mT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef=null;function rx(){return ef===null?ef=function(){return 268435456+Math.round(2147483648*Math.random())}():ef++,"0x"+ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="RestConnection",GG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Op?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const i=rx(),l=this.zo(e,n.toUriEncodedString());ye(zv,`Sending RPC '${e}' ${i}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,o);const{host:u}=new URL(l),d=kc(u);return this.Jo(e,l,c,r,d).then(f=>(ye(zv,`Received RPC '${e}' ${i}: `,f),f),f=>{throw uc(zv,`RPC '${e}' ${i} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,o,i){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=GG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class QG extends KG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const i=rx();return new Promise((l,c)=>{const u=new OR;u.setWithCredentials(!0),u.listenOnce(MR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kf.NO_ERROR:const f=u.getResponseJson();ye(zn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),l(f);break;case kf.TIMEOUT:ye(zn,`RPC '${e}' ${i} timed out`),c(new ge(X.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const p=u.getStatus();if(ye(zn,`RPC '${e}' ${i} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const x=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(v)>=0?v:X.UNKNOWN}(y.status);c(new ge(x,y.message))}else c(new ge(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ge(X.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:i,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ye(zn,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);ye(zn,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=rx(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=VR(),l=FR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");ye(zn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=i.createWebChannel(d,c);this.I_(f);let p=!1,m=!1;const y=new YG({Yo:S=>{m?ye(zn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(ye(zn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ye(zn,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),x=(S,_,v)=>{S.listen(_,b=>{try{v(b)}catch(j){setTimeout(()=>{throw j},0)}})};return x(f,bu.EventType.OPEN,()=>{m||(ye(zn,`RPC '${e}' stream ${s} transport opened.`),y.o_())}),x(f,bu.EventType.CLOSE,()=>{m||(m=!0,ye(zn,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(f))}),x(f,bu.EventType.ERROR,S=>{m||(m=!0,uc(zn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),y.a_(new ge(X.UNAVAILABLE,"The operation could not be completed")))}),x(f,bu.EventType.MESSAGE,S=>{var _;if(!m){const v=S.data[0];ht(!!v,16349);const b=v,j=(b==null?void 0:b.error)||((_=b[0])==null?void 0:_.error);if(j){ye(zn,`RPC '${e}' stream ${s} received error:`,j);const R=j.status;let F=function(A){const I=Zt[A];if(I!==void 0)return wD(I)}(R),E=j.message;F===void 0&&(F=X.INTERNAL,E="Unknown error status: "+R+" with message "+j.message),m=!0,y.a_(new ge(F,E)),f.close()}else ye(zn,`RPC '${e}' stream ${s} received:`,v),y.u_(v)}}),x(l,LR.STAT_EVENT,S=>{S.stat===qy.PROXY?ye(zn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===qy.NOPROXY&&ye(zn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Uv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t){return new eG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="PersistentStream";class OD{constructor(e,n,r,s,o,i,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ro(n.toString()),Ro("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ge(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(vT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(vT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XG extends OD{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rG(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?Fe.min():i.readTime?Gs(i.readTime):Fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=tx(this.serializer),n.addTarget=function(o,i){let l;const c=i.target;if(l=Yy(c)?{documents:iG(o,c)}:{query:aG(o,c).ft},l.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){l.resumeToken=SD(o,i.resumeToken);const u=Jy(o,i.expectedCount);u!==null&&(l.expectedCount=u)}else if(i.snapshotVersion.compareTo(Fe.min())>0){l.readTime=zp(o,i.snapshotVersion.toTimestamp());const u=Jy(o,i.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=cG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=tx(this.serializer),n.removeTarget=e,this.q_(n)}}class JG extends OD{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=oG(e.writeResults,e.commitTime),r=Gs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=tx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sG(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{}class eK extends ZG{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ge(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Go(e,Zy(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(X.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Ho(e,Zy(n,r),s,i,l,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ge(X.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class tK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ro(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="RemoteStore";class nK{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(i=>{r.enqueueAndForget(async()=>{sl(this)&&(ye(Ga,"Restarting streams for network reachability change."),await async function(c){const u=Ve(c);u.Ea.add(4),await Kd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await ng(u)}(this))})}),this.Ra=new tK(r,s)}}async function ng(t){if(sl(t))for(const e of t.da)await e(!0)}async function Kd(t){for(const e of t.da)await e(!1)}function MD(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jb(n)?kb(n):Dc(n).O_()&&Nb(n,e))}function Tb(t,e){const n=Ve(t),r=Dc(n);n.Ia.delete(e),r.O_()&&LD(n,e),n.Ia.size===0&&(r.O_()?r.L_():sl(n)&&n.Ra.set("Unknown"))}function Nb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dc(t).Y_(e)}function LD(t,e){t.Va.Ue(e),Dc(t).Z_(e)}function kb(t){t.Va=new QH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Dc(t).start(),t.Ra.ua()}function jb(t){return sl(t)&&!Dc(t).x_()&&t.Ia.size>0}function sl(t){return Ve(t).Ea.size===0}function FD(t){t.Va=void 0}async function rK(t){t.Ra.set("Online")}async function sK(t){t.Ia.forEach((e,n)=>{Nb(t,e)})}async function oK(t,e){FD(t),jb(t)?(t.Ra.ha(e),kb(t)):t.Ra.set("Unknown")}async function iK(t,e,n){if(t.Ra.set("Online"),e instanceof _D&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const l of o.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,i),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){ye(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bp(t,r)}else if(e instanceof If?t.Va.Ze(e):e instanceof bD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await RD(t.localStore);n.compareTo(r)>=0&&await function(o,i){const l=o.Va.Tt(i);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(c.resumeToken,i))}}),l.targetMismatches.forEach((c,u)=>{const d=o.Ia.get(c);if(!d)return;o.Ia.set(c,d.withResumeToken(In.EMPTY_BYTE_STRING,d.snapshotVersion)),LD(o,c);const f=new di(d.target,c,u,d.sequenceNumber);Nb(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ye(Ga,"Failed to raise snapshot:",r),await Bp(t,r)}}async function Bp(t,e,n){if(!Ic(e))throw e;t.Ea.add(1),await Kd(t),t.Ra.set("Offline"),n||(n=()=>RD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(Ga,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ng(t)})}function VD(t,e){return e().catch(n=>Bp(t,n,e))}async function rg(t){const e=Ve(t),n=Vi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hb;for(;aK(e);)try{const s=await BG(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,lK(e,s)}catch(s){await Bp(e,s)}zD(e)&&UD(e)}function aK(t){return sl(t)&&t.Ta.length<10}function lK(t,e){t.Ta.push(e);const n=Vi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zD(t){return sl(t)&&!Vi(t).x_()&&t.Ta.length>0}function UD(t){Vi(t).start()}async function cK(t){Vi(t).ra()}async function uK(t){const e=Vi(t);for(const n of t.Ta)e.ea(n.mutations)}async function dK(t,e,n){const r=t.Ta.shift(),s=xb.from(r,e,n);await VD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rg(t)}async function hK(t,e){e&&Vi(t).X_&&await async function(r,s){if(function(i){return GH(i)&&i!==X.ABORTED}(s.code)){const o=r.Ta.shift();Vi(r).B_(),await VD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await rg(r)}}(t,e),zD(t)&&UD(t)}async function yT(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ye(Ga,"RemoteStore received new credentials");const r=sl(n);n.Ea.add(3),await Kd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ng(n)}async function fK(t,e){const n=Ve(t);e?(n.Ea.delete(2),await ng(n)):e||(n.Ea.add(2),await Kd(n),n.Ra.set("Unknown"))}function Dc(t){return t.ma||(t.ma=function(n,r,s){const o=Ve(n);return o.sa(),new XG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:rK.bind(null,t),t_:sK.bind(null,t),r_:oK.bind(null,t),H_:iK.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),jb(t)?kb(t):t.Ra.set("Unknown")):(await t.ma.stop(),FD(t))})),t.ma}function Vi(t){return t.fa||(t.fa=function(n,r,s){const o=Ve(n);return o.sa(),new JG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:cK.bind(null,t),r_:hK.bind(null,t),ta:uK.bind(null,t),na:dK.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await rg(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(Ga,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,l=new Pb(e,n,i,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ab(t,e){if(Ro("AsyncQueue",`${e}: ${t}`),Ic(t))return new ge(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{static emptySet(e){return new Gl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=_u(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.ga=new Ut(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class mc{constructor(e,n,r,s,o,i,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(l=>{i.push({type:0,doc:l})}),new mc(e,n,Gl.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class mK{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ve(n),o=s.queries;s.queries=wT(),o.forEach((i,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ge(X.ABORTED,"Firestore shutting down"))}}function wT(){return new rl(t=>lD(t),Qm)}async function Ib(t,e){const n=Ve(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new pK,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const l=Ab(i,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Db(n)}async function Rb(t,e){const n=Ve(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.Sa.indexOf(e);i>=0&&(o.Sa.splice(i,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gK(t,e){const n=Ve(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const l of i.Sa)l.Fa(s)&&(r=!0);i.wa=s}}r&&Db(n)}function vK(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Db(t){t.Ca.forEach(e=>{e.next()})}var sx,bT;(bT=sx||(sx={})).Ma="default",bT.Cache="cache";class Ob{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.key=e}}class $D{constructor(e){this.key=e}}class yK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=cD(e),this.tu=new Gl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new xT,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=Xm(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?y!==x&&(r.track({type:3,doc:m}),S=!0):this.su(p,m)||(r.track({type:2,doc:m}),S=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),S=!0):p&&!m&&(r.track({type:1,doc:p}),S=!0,(c||u)&&(l=!0)),S&&(m?(i=i.add(m),o=x?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:i,iu:r,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,f)=>function(m,y){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:S})}};return x(m)-x(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,i.length!==0||u?{snapshot:new mc(this.query,e.tu,o,i,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new $D(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new BD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mb="SyncEngine";class xK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wK{constructor(e){this.key=e,this.hu=!1}}class bK{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new rl(l=>lD(l),Qm),this.Iu=new Map,this.Eu=new Set,this.du=new Ut(Te.comparator),this.Au=new Map,this.Ru=new _b,this.Vu={},this.mu=new Map,this.fu=pc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _K(t,e,n=!0){const r=YD(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await qD(r,e,n,!0),s}async function SK(t,e){const n=YD(t);await qD(n,e,!0,!1)}async function qD(t,e,n,r){const s=await $G(t.localStore,Hs(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await EK(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&MD(t.remoteStore,s),l}async function EK(t,e,n,r,s){t.pu=(f,p,m)=>async function(x,S,_,v){let b=S.view.ru(_);b.Cs&&(b=await fT(x.localStore,S.query,!1).then(({documents:E})=>S.view.ru(E,b)));const j=v&&v.targetChanges.get(S.targetId),R=v&&v.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(b,x.isPrimaryClient,j,R);return ST(x,S.targetId,F.au),F.snapshot}(t,f,p,m);const o=await fT(t.localStore,e,!0),i=new yK(e,o.Qs),l=i.ru(o.documents),c=Gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(l,t.isPrimaryClient,c);ST(t,n,u.au);const d=new xK(e,n,i);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function CK(t,e,n){const r=Ve(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(i=>!Qm(i,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await nx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Tb(r.remoteStore,s.targetId),ox(r,s.targetId)}).catch(Ac)):(ox(r,s.targetId),await nx(r.localStore,s.targetId,!0))}async function TK(t,e){const n=Ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tb(n.remoteStore,r.targetId))}async function NK(t,e,n){const r=DK(t);try{const s=await function(i,l){const c=Ve(i),u=At.now(),d=l.reduce((m,y)=>m.add(y.key),tt());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Do(),x=tt();return c.Ns.getEntries(m,d).next(S=>{y=S,y.forEach((_,v)=>{v.isValidDocument()||(x=x.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(S=>{f=S;const _=[];for(const v of l){const b=BH(v,f.get(v.key).overlayedDocument);b!=null&&_.push(new Yi(v.key,b,eD(b.value.mapValue),ws.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,_,l)}).next(S=>{p=S;const _=S.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(m,S.batchId,_)})}).then(()=>({batchId:p.batchId,changes:dD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,l,c){let u=i.Vu[i.currentUser.toKey()];u||(u=new Ut(et)),u=u.insert(l,c),i.Vu[i.currentUser.toKey()]=u}(r,s.batchId,n),await Yd(r,s.changes),await rg(r.remoteStore)}catch(s){const o=Ab(s,"Failed to persist write");n.reject(o)}}async function WD(t,e){const n=Ve(t);try{const r=await zG(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Au.get(o);i&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.hu=!0:s.modifiedDocuments.size>0?ht(i.hu,14607):s.removedDocuments.size>0&&(ht(i.hu,42227),i.hu=!1))}),await Yd(n,r,e)}catch(r){await Ac(r)}}function _T(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,i)=>{const l=i.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(i,l){const c=Ve(i);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(l)&&(u=!0)}),u&&Db(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kK(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let i=new Ut(Te.comparator);i=i.insert(o,Hn.newNoDocument(o,Fe.min()));const l=tt().add(o),c=new eg(Fe.min(),new Map,new Ut(et),i,l);await WD(r,c),r.du=r.du.remove(o),r.Au.delete(e),Lb(r)}else await nx(r.localStore,e,!1).then(()=>ox(r,e,n)).catch(Ac)}async function jK(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await VG(n.localStore,e);GD(n,r,null),HD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,s)}catch(s){await Ac(s)}}async function PK(t,e,n){const r=Ve(t);try{const s=await function(i,l){const c=Ve(i);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(ht(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);GD(r,e,n),HD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yd(r,s)}catch(s){await Ac(s)}}function HD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function GD(t,e,n){const r=Ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ox(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||KD(t,r)})}function KD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Tb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Lb(t))}function ST(t,e,n){for(const r of n)r instanceof BD?(t.Ru.addReference(r.key,e),AK(t,r)):r instanceof $D?(ye(Mb,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||KD(t,r.key)):De(19791,{wu:r})}function AK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ye(Mb,"New document in limbo: "+n),t.Eu.add(r),Lb(t))}function Lb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(_t.fromString(e)),r=t.fu.next();t.Au.set(r,new wK(n)),t.du=t.du.insert(n,r),MD(t.remoteStore,new di(Hs(Ym(n.path)),r,"TargetPurposeLimboResolution",Hm.ce))}}async function Yd(t,e,n){const r=Ve(t),s=[],o=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{i.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Eb.As(c.targetId,u);o.push(f)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(c,u){const d=Ve(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(u,p=>ee.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>ee.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Ic(f))throw f;ye(Cb,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=d.Ms.get(p),y=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(p,x)}}}(r.localStore,o))}async function IK(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ye(Mb,"User change. New user:",e.toKey());const r=await ID(n.localStore,e);n.currentUser=e,function(o,i){o.mu.forEach(l=>{l.forEach(c=>{c.reject(new ge(X.CANCELLED,i))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yd(n,r.Ls)}}function RK(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return tt().add(r.key);{let s=tt();const o=n.Iu.get(e);if(!o)return s;for(const i of o){const l=n.Tu.get(i);s=s.unionWith(l.view.nu)}return s}}function YD(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kK.bind(null,e),e.Pu.H_=gK.bind(null,e.eventManager),e.Pu.yu=vK.bind(null,e.eventManager),e}function DK(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PK.bind(null,e),e}class $p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return FG(this.persistence,new OG,e.initialUser,this.serializer)}Cu(e){return new AD(Sb.mi,this.serializer)}Du(e){return new WG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$p.provider={build:()=>new $p};class OK extends $p{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof Up,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new AD(r=>Up.mi(r,n),this.serializer)}}class ix{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IK.bind(null,this.syncEngine),await fK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mK}()}createDatastore(e){const n=tg(e.databaseInfo.databaseId),r=function(o){return new QG(o)}(e.databaseInfo);return function(o,i,l,c){return new eK(o,i,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,l){return new nK(r,s,o,i,l)}(this.localStore,this.datastore,e.asyncQueue,n=>_T(this.syncEngine,n,0),function(){return gT.v()?new gT:new HG}())}createSyncEngine(e,n){return function(s,o,i,l,c,u,d){const f=new bK(s,o,i,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ve(s);ye(Ga,"RemoteStore shutting down."),o.Ea.add(5),await Kd(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ix.provider={build:()=>new ix};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ro("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class MK{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$n.UNAUTHENTICATED,this.clientId=db.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{ye(zi,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ye(zi,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ab(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bv(t,e){t.asyncQueue.verifyOperationInProgress(),ye(zi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ID(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ET(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LK(t);ye(zi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>yT(e.remoteStore,s)),t._onlineComponents=e}async function LK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(zi,"Using user provided OfflineComponentProvider");try{await Bv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;uc("Error using user provided cache. Falling back to memory cache: "+n),await Bv(t,new $p)}}else ye(zi,"Using default OfflineComponentProvider"),await Bv(t,new OK(void 0));return t._offlineComponents}async function QD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(zi,"Using user provided OnlineComponentProvider"),await ET(t,t._uninitializedComponentsProvider._online)):(ye(zi,"Using default OnlineComponentProvider"),await ET(t,new ix))),t._onlineComponents}function FK(t){return QD(t).then(e=>e.syncEngine)}async function qp(t){const e=await QD(t),n=e.eventManager;return n.onListen=_K.bind(null,e.syncEngine),n.onUnlisten=CK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TK.bind(null,e.syncEngine),n}function VK(t,e,n={}){const r=new Eo;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,l,c,u){const d=new Fb({next:p=>{d.Nu(),i.enqueueAndForget(()=>Rb(o,f));const m=p.docs.has(l);!m&&p.fromCache?u.reject(new ge(X.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?u.reject(new ge(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Ob(Ym(l.path),d,{includeMetadataChanges:!0,qa:!0});return Ib(o,f)}(await qp(t),t.asyncQueue,e,n,r)),r.promise}function zK(t,e,n={}){const r=new Eo;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,l,c,u){const d=new Fb({next:p=>{d.Nu(),i.enqueueAndForget(()=>Rb(o,f)),p.fromCache&&c.source==="server"?u.reject(new ge(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Ob(l,d,{includeMetadataChanges:!0,qa:!0});return Ib(o,f)}(await qp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="firestore.googleapis.com",TT=!0;class NT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JD,this.ssl=TT}else this.host=e.host,this.ssl=e.ssl??TT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yG)throw new ge(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GW;switch(r.type){case"firstParty":return new XW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CT.get(n);r&&(ye("ComponentProvider","Removing Datastore"),CT.delete(n),r.terminate())}(this),Promise.resolve()}}function UK(t,e,n,r={}){var u;t=es(t,sg);const s=kc(e),o=t._getSettings(),i={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(TR(`https://${l}`),NR("Firestore",!0)),o.host!==JD&&o.host!==l&&uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:s,emulatorOptions:r};if(!qa(c,i)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=$n.MOCK_USER;else{d=wq(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ge(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $n(p)}t._authCredentials=new KW(new UR(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wd(n,Jt._jsonSchema))return new Jt(e,r||null,new Te(_t.fromString(n.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:an("string",Jt._jsonSchemaVersion),referencePath:an("string")};class Ti extends Qi{constructor(e,n,r){super(e,n,Ym(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Te(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function oa(t,e,...n){if(t=Xn(t),BR("collection","path",e),t instanceof sg){const r=_t.fromString(e,...n);return zC(r),new Ti(t,null,r)}{if(!(t instanceof Jt||t instanceof Ti))throw new ge(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return zC(r),new Ti(t.firestore,null,r)}}function Rf(t,e,...n){if(t=Xn(t),arguments.length===1&&(e=db.newId()),BR("doc","path",e),t instanceof sg){const r=_t.fromString(e,...n);return VC(r),new Jt(t,null,new Te(r))}{if(!(t instanceof Jt||t instanceof Ti))throw new ge(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return VC(r),new Jt(t.firestore,t instanceof Ti?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="AsyncQueue";class jT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DD(this,"async_queue_retry"),this._c=()=>{const r=Uv();r&&ye(kT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Uv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Eo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ic(e))throw e;ye(kT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ro("INTERNAL UNHANDLED ERROR: ",PT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Pb.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&De(47125,{Pc:PT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function PT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ui extends sg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new jT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jT(e),this._firestoreClient=void 0,await e}}}function BK(t,e){const n=typeof t=="object"?t:AR(),r=typeof t=="string"?t:e||Op,s=cb(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=yq("firestore");o&&UK(s,...o)}return s}function og(t){if(t._terminated)throw new ge(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$K(t),t._firestoreClient}function $K(t){var r,s,o;const e=t._freezeSettings(),n=function(l,c,u,d){return new pH(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,XD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(In.fromBase64String(e))}catch(n){throw new ge(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yr(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wd(e,Yr._jsonSchema))return Yr.fromBase64String(e.bytes)}}Yr._jsonSchemaVersion="firestore/bytes/1.0",Yr._jsonSchema={type:an("string",Yr._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ks._jsonSchemaVersion}}static fromJSON(e){if(Wd(e,Ks._jsonSchema))return new Ks(e.latitude,e.longitude)}}Ks._jsonSchemaVersion="firestore/geoPoint/1.0",Ks._jsonSchema={type:an("string",Ks._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wd(e,Ys._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ys(e.vectorValues);throw new ge(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ys._jsonSchemaVersion="firestore/vectorValue/1.0",Ys._jsonSchema={type:an("string",Ys._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=/^__.*__$/;class WK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hd(e,this.data,n,this.fieldTransforms)}}class ZD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class zb{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eO(this.Ac)&&qK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tg(e)}Cc(e,n,r,s=!1){return new zb({Ac:e,methodName:n,Dc:r,path:kn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ub(t){const e=t._freezeSettings(),n=tg(t._databaseId);return new HK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GK(t,e,n,r,s,o={}){const i=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);Bb("Data must be an object, but it was:",i,r);const l=tO(r,i);let c,u;if(o.merge)c=new Or(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const p=ax(e,f,n);if(!i.contains(p))throw new ge(X.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);rO(d,p)||d.push(p)}c=new Or(d),u=i.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=i.fieldTransforms;return new WK(new gr(l),c,u)}class ag extends Vb{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ag}}function KK(t,e,n,r){const s=t.Cc(1,e,n);Bb("Data must be an object, but it was:",s,r);const o=[],i=gr.empty();Ki(r,(c,u)=>{const d=$b(e,c,n);u=Xn(u);const f=s.yc(d);if(u instanceof ag)o.push(d);else{const p=Qd(u,f);p!=null&&(o.push(d),i.set(d,p))}});const l=new Or(o);return new ZD(i,l,s.fieldTransforms)}function YK(t,e,n,r,s,o){const i=t.Cc(1,e,n),l=[ax(e,r,n)],c=[s];if(o.length%2!=0)throw new ge(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)l.push(ax(e,o[p])),c.push(o[p+1]);const u=[],d=gr.empty();for(let p=l.length-1;p>=0;--p)if(!rO(u,l[p])){const m=l[p];let y=c[p];y=Xn(y);const x=i.yc(m);if(y instanceof ag)u.push(m);else{const S=Qd(y,x);S!=null&&(u.push(m),d.set(m,S))}}const f=new Or(u);return new ZD(d,f,i.fieldTransforms)}function QK(t,e,n,r=!1){return Qd(n,t.Cc(r?4:3,e))}function Qd(t,e){if(nO(t=Xn(t)))return Bb("Unsupported field value:",e,t),tO(t,e);if(t instanceof Vb)return function(r,s){if(!eO(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const l of r){let c=Qd(l,s.wc(i));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=At.fromDate(r);return{timestampValue:zp(s.serializer,o)}}if(r instanceof At){const o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zp(s.serializer,o)}}if(r instanceof Ks)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yr)return{bytesValue:SD(s.serializer,r._byteString)};if(r instanceof Jt){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ys)return function(i,l){return{mapValue:{fields:{[XR]:{stringValue:ZR},[Mp]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return vb(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Wm(r)}`)}(t,e)}function tO(t,e){const n={};return WR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,s)=>{const o=Qd(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Ks||t instanceof Yr||t instanceof Jt||t instanceof Vb||t instanceof Ys)}function Bb(t,e,n){if(!nO(n)||!$R(n)){const r=Wm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ax(t,e,n){if((e=Xn(e))instanceof ig)return e._internalPath;if(typeof e=="string")return $b(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const XK=new RegExp("[~\\*/\\[\\]]");function $b(t,e,n){if(e.search(XK)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ig(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wp(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||i)&&(c+=" (found",o&&(c+=` in field ${r}`),i&&(c+=` in document ${s}`),c+=")"),new ge(X.INVALID_ARGUMENT,l+t+c)}function rO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JK extends sO{data(){return super.data()}}function qb(t,e){return typeof e=="string"?$b(t,e):e instanceof ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wb{}class iO extends Wb{}function $v(t,e,...n){let r=[];e instanceof Wb&&r.push(e),r=r.concat(n),function(o){const i=o.filter(c=>c instanceof Gb).length,l=o.filter(c=>c instanceof Hb).length;if(i>1||i>0&&l>0)throw new ge(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Hb extends iO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hb(e,n,r)}_apply(e){const n=this._parse(e);return aO(e._query,n),new Qi(e.firestore,e.converter,Qy(e._query,n))}_parse(e){const n=Ub(e.firestore);return function(o,i,l,c,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ge(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){DT(f,d);const y=[];for(const x of f)y.push(RT(c,o,x));p={arrayValue:{values:y}}}else p=RT(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||DT(f,d),p=QK(l,i,f,d==="in"||d==="not-in");return on.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Gb extends Wb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let i=s;const l=o.getFlattenedFilters();for(const c of l)aO(i,c),i=Qy(i,c)}(e._query,n),new Qi(e.firestore,e.converter,Qy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kb extends iO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kb(e,n)}_apply(e){const n=function(s,o,i){if(s.startAt!==null)throw new ge(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ge(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sd(o,i)}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(s,o){const i=s.explicitOrderBy.concat([o]);return new Rc(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function IT(t,e="asc"){const n=e,r=qb("orderBy",t);return Kb._create(r,n)}function RT(t,e,n){if(typeof(n=Xn(n))=="string"){if(n==="")throw new ge(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aD(e)&&n.indexOf("/")!==-1)throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!Te.isDocumentKey(r))throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KC(t,new Te(r))}if(n instanceof Jt)return KC(t,n._key);throw new ge(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wm(n)}.`)}function DT(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aO(t,e){const n=function(s,o){for(const i of s)for(const l of i.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZK{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ki(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Mp].arrayValue)==null?void 0:s.values)==null?void 0:o.map(i=>Qt(i.doubleValue));return new Ys(n)}convertGeoPoint(e){return new Ks(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Km(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wd(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);ht(jD(r),9688,{name:e});const s=new bd(r.get(1),r.get(3)),o=new Te(r.popFirst(5));return s.isEqual(n)||Ro(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends sO{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:an("string",Na._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class Df extends Na{data(e={}){return super.data(e)}}class ka{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Eu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Df(this._firestore,this._userDataWriter,r.key,r,new Eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(l=>{const c=new Df(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Eu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new Df(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Eu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=i.indexOf(l.doc.key),i=i.delete(l.doc.key)),l.type!==1&&(i=i.add(l.doc),d=i.indexOf(l.doc.key)),{type:tY(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=db.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(t){t=es(t,Jt);const e=es(t.firestore,Ui);return VK(og(e),t._key).then(n=>lO(e,t,n))}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:an("string",ka._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class Yb extends ZK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function qv(t){t=es(t,Qi);const e=es(t.firestore,Ui),n=og(e),r=new Yb(e);return oO(t._query),zK(n,t._query).then(s=>new ka(e,r,t,s))}function rY(t,e,n,...r){t=es(t,Jt);const s=es(t.firestore,Ui),o=Ub(s);let i;return i=typeof(e=Xn(e))=="string"||e instanceof ig?YK(o,"updateDoc",t._key,e,n,r):KK(o,"updateDoc",t._key,e),Qb(s,[i.toMutation(t._key,ws.exists(!0))])}function sY(t){return Qb(es(t.firestore,Ui),[new yb(t._key,ws.none())])}function oY(t,e){const n=es(t.firestore,Ui),r=Rf(t),s=eY(t.converter,e);return Qb(n,[GK(Ub(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ws.exists(!1))]).then(()=>r)}function Wv(t,...e){var c,u,d;t=Xn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||AT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(AT(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let o,i,l;if(t instanceof Jt)i=es(t.firestore,Ui),l=Ym(t._key.path),o={next:f=>{e[r]&&e[r](lO(i,t,f))},error:e[r+1],complete:e[r+2]};else{const f=es(t,Qi);i=es(f.firestore,Ui),l=f._query;const p=new Yb(i);o={next:m=>{e[r]&&e[r](new ka(i,p,f,m))},error:e[r+1],complete:e[r+2]},oO(t._query)}return function(p,m,y,x){const S=new Fb(x),_=new Ob(m,S,y);return p.asyncQueue.enqueueAndForget(async()=>Ib(await qp(p),_)),()=>{S.Nu(),p.asyncQueue.enqueueAndForget(async()=>Rb(await qp(p),_))}}(og(i),l,s,o)}function Qb(t,e){return function(r,s){const o=new Eo;return r.asyncQueue.enqueueAndForget(async()=>NK(await FK(r),s,o)),o.promise}(og(t),e)}function lO(t,e,n){const r=n.docs.get(e._key),s=new Yb(t);return new Na(t,s,e._key,r,new Eu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Pc=s})(jc),cc(new Wa("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),l=new Ui(new YW(r.getProvider("auth-internal")),new JW(i,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bd(u.options.projectId,d)}(i,s),i);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Ei(OC,MC,e),Ei(OC,MC,"esm2020")})();var iY="firebase",aY="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(iY,aY,"app");function cO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lY=cO,uO=new $d("auth","Firebase",cO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new ab("@firebase/auth");function cY(t,...e){Hp.logLevel<=Ze.WARN&&Hp.warn(`Auth (${jc}): ${t}`,...e)}function Of(t,...e){Hp.logLevel<=Ze.ERROR&&Hp.error(`Auth (${jc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,...e){throw Xb(t,...e)}function Qs(t,...e){return Xb(t,...e)}function dO(t,e,n){const r={...lY(),[e]:n};return new $d("auth","Firebase",r).create(e,{appName:t.name})}function ja(t){return dO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uO.create(t,...e)}function Me(t,e,...n){if(!t)throw Xb(e,...n)}function go(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function Mo(t,e){t||go(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function uY(){return OT()==="http:"||OT()==="https:"}function OT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uY()||Tq()||"connection"in navigator)?navigator.onLine:!0}function hY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mo(n>e,"Short delay should be less than long delay!"),this.isMobile=Sq()||Nq()}get(){return dY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e){Mo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;go("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;go("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;go("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mY=new Xd(3e4,6e4);function Zb(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oc(t,e,n,r,s={}){return fO(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const l=qd({key:t.config.apiKey,...i}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...o};return Cq()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&kc(t.emulatorConfig.host)&&(u.credentials="include"),hO.fetch()(await pO(t,t.config.apiHost,n,l),u)})}async function fO(t,e,n){t._canInitEmulator=!1;const r={...fY,...e};try{const s=new vY(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw tf(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const l=o.ok?i.errorMessage:i.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(t,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw tf(t,"email-already-in-use",i);if(c==="USER_DISABLED")throw tf(t,"user-disabled",i);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dO(t,d,u);Oo(t,d)}}catch(s){if(s instanceof Vo)throw s;Oo(t,"network-request-failed",{message:String(s)})}}async function gY(t,e,n,r,s={}){const o=await Oc(t,e,n,r,s);return"mfaPendingCredential"in o&&Oo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function pO(t,e,n,r){const s=`${e}${n}?${r}`,o=t,i=o.config.emulator?Jb(t.config,s):`${t.config.apiScheme}://${s}`;return pY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(i).toString():i}class vY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qs(this.auth,"network-request-failed")),mY.get())})}}function tf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yY(t,e){return Oc(t,"POST","/v1/accounts:delete",e)}async function Gp(t,e){return Oc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xY(t,e=!1){const n=Xn(t),r=await n.getIdToken(e),s=e1(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Wu(Hv(s.auth_time)),issuedAtTime:Wu(Hv(s.iat)),expirationTime:Wu(Hv(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hv(t){return Number(t)*1e3}function e1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const s=_R(n);return s?JSON.parse(s):(Of("Failed to decode base64 JWT payload"),null)}catch(s){return Of("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function MT(t){const e=e1(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vo&&wY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Td(t,Gp(e,{idToken:n}));Me(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(f=s.providerUserInfo)!=null&&f.length?mO(s.providerUserInfo):[],i=SY(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(i!=null&&i.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new cx(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function _Y(t){const e=Xn(t);await Kp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SY(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EY(t,e){const n=await fO(t,{},async()=>{const r=qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=await pO(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&kc(t.emulatorConfig.host)&&(c.credentials="include"),hO.fetch()(i,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CY(t,e){return Oc(t,"POST","/v2/accounts:revokeToken",Zb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=MT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await EY(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new Kl;return r&&(Me(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(Me(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return go("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ms{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new bY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Td(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xY(this,e)}reload(){return _Y(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fs(this.auth.app))return Promise.reject(ja(this.auth));const e=await this.getIdToken();return await Td(this,yY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,i=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:y,stsTokenManager:x}=n;Me(f&&x,e,"internal-error");const S=Kl.fromJSON(this.name,x);Me(typeof f=="string",e,"internal-error"),Go(r,e.name),Go(s,e.name),Me(typeof p=="boolean",e,"internal-error"),Me(typeof m=="boolean",e,"internal-error"),Go(o,e.name),Go(i,e.name),Go(l,e.name),Go(c,e.name),Go(u,e.name),Go(d,e.name);const _=new ms({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:i,phoneNumber:o,tenantId:l,stsTokenManager:S,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(_.providerData=y.map(v=>({...v}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Kl;s.updateFromServerResponse(n);const o=new ms({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Kp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?mO(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),l=new Kl;l.updateFromIdToken(r);const c=new ms({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:i}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new cx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;function vo(t){Mo(t instanceof Function,"Expected a class definition");let e=LT.get(t);return e?(Mo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gO.type="NONE";const FT=gO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t,e,n){return`firebase:${t}:${e}:${n}`}class Yl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Mf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Mf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gp(this.auth,{idToken:e}).catch(()=>{});return n?ms._fromGetAccountInfoResponse(this.auth,n,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yl(vo(FT),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||vo(FT);const i=Mf(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(i);if(d){let f;if(typeof d=="string"){const p=await Gp(e,{idToken:d}).catch(()=>{});if(!p)break;f=await ms._fromGetAccountInfoResponse(e,p,d)}else f=ms._fromJSON(e,d);u!==o&&(l=f),o=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Yl(o,e,r):(o=c[0],l&&await o._set(i,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new Yl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_O(e))return"Blackberry";if(SO(e))return"Webos";if(yO(e))return"Safari";if((e.includes("chrome/")||xO(e))&&!e.includes("edge/"))return"Chrome";if(bO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vO(t=Qn()){return/firefox\//i.test(t)}function yO(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xO(t=Qn()){return/crios\//i.test(t)}function wO(t=Qn()){return/iemobile/i.test(t)}function bO(t=Qn()){return/android/i.test(t)}function _O(t=Qn()){return/blackberry/i.test(t)}function SO(t=Qn()){return/webos/i.test(t)}function t1(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TY(t=Qn()){var e;return t1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function NY(){return kq()&&document.documentMode===10}function EO(t=Qn()){return t1(t)||bO(t)||SO(t)||_O(t)||/windows phone/i.test(t)||wO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t,e=[]){let n;switch(t){case"Browser":n=VT(Qn());break;case"Worker":n=`${VT(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,l)=>{try{const c=e(o);i(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jY(t,e={}){return Oc(t,"GET","/v2/passwordPolicy",Zb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=6;class AY{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zT(this),this.idTokenSubscription=new zT(this),this.beforeStateQueue=new kY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vo(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Yl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gp(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Fs(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fs(this.app))return Promise.reject(ja(this));const n=e?Xn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fs(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fs(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jY(this),n=new AY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $d("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vo(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Yl.create(this,[vo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let i=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(l,this,"internal-error"),l.then(()=>{i||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{i=!0,c()}}else{const c=e.addObserver(n);return()=>{i=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&cY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function n1(t){return Xn(t)}class zT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mq(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RY(t){r1=t}function DY(t){return r1.loadJS(t)}function OY(){return r1.gapiScript}function MY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(t,e){const n=cb(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(qa(o,e??{}))return s;Oo(s,"already-initialized")}return n.initialize({options:e})}function FY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VY(t,e,n){const r=n1(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=TO(e),{host:i,port:l}=zY(e),c=l===null?"":`:${l}`,u={url:`${o}//${i}${c}/`},d=Object.freeze({host:i,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(qa(u,r.config.emulator)&&qa(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,kc(i)?(TR(`${o}//${i}${c}`),NR("Auth",!0)):s||UY()}function TO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zY(t){const e=TO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:UT(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:UT(i)}}}function UT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return go("not implemented")}_getIdTokenResponse(e){return go("not implemented")}_linkToIdToken(e,n){return go("not implemented")}_getReauthenticationResolver(e){return go("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e){return gY(t,"POST","/v1/accounts:signInWithIdp",Zb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY="http://localhost";class Ka extends NO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Oo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const i=new Ka(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Ql(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ql(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ql(e,n)}buildRequest(){const e={requestUri:BY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends kO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Jd{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Jd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ka._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Jd{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.GITHUB_SIGN_IN_METHOD="github.com";ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Jd{constructor(){super("twitter.com")}static credential(e,n){return Ka._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return li.credential(n,r)}catch{return null}}}li.TWITTER_SIGN_IN_METHOD="twitter.com";li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ms._fromIdTokenResponse(e,r,s),i=BT(r);return new gc({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=BT(r);return new gc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function BT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Vo{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yp(e,n,r,s)}}function jO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Yp._fromErrorAndOperation(t,o,e,r):o})}async function $Y(t,e,n=!1){const r=await Td(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qY(t,e,n=!1){const{auth:r}=t;if(Fs(r.app))return Promise.reject(ja(r));const s="reauthenticate";try{const o=await Td(t,jO(r,s,e,t),n);Me(o.idToken,r,"internal-error");const i=e1(o.idToken);Me(i,r,"internal-error");const{sub:l}=i;return Me(t.uid===l,r,"user-mismatch"),gc._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Oo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WY(t,e,n=!1){if(Fs(t.app))return Promise.reject(ja(t));const r="signIn",s=await jO(t,r,e),o=await gc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}function HY(t,e,n,r){return Xn(t).onIdTokenChanged(e,n,r)}function GY(t,e,n){return Xn(t).beforeAuthStateChanged(e,n)}const Qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qp,"1"),this.storage.removeItem(Qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY=1e3,YY=10;class AO extends PO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,l,c)=>{this.notifyListeners(i,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);NY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,YY):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AO.type="LOCAL";const QY=AO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO extends PO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IO.type="SESSION";const RO=IO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new lg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(i).map(async u=>u(n.origin,o)),c=await XY(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((l,c)=>{const u=s1("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(p.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(){return window}function ZY(t){Xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(){return typeof Xs().WorkerGlobalScope<"u"&&typeof Xs().importScripts=="function"}async function eQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function nQ(){return DO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="firebaseLocalStorageDb",rQ=1,Xp="firebaseLocalStorage",MO="fbase_key";class Zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cg(t,e){return t.transaction([Xp],e?"readwrite":"readonly").objectStore(Xp)}function sQ(){const t=indexedDB.deleteDatabase(OO);return new Zd(t).toPromise()}function ux(){const t=indexedDB.open(OO,rQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xp,{keyPath:MO})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xp)?e(r):(r.close(),await sQ(),e(await ux()))})})}async function $T(t,e,n){const r=cg(t,!0).put({[MO]:e,value:n});return new Zd(r).toPromise()}async function oQ(t,e){const n=cg(t,!1).get(e),r=await new Zd(n).toPromise();return r===void 0?null:r.value}function qT(t,e){const n=cg(t,!0).delete(e);return new Zd(n).toPromise()}const iQ=800,aQ=3;class LO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ux(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lg._getInstance(nQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await eQ(),!this.activeServiceWorker)return;this.sender=new JY(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ux();return await $T(e,Qp,"1"),await qT(e,Qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$T(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=cg(s,!1).getAll();return new Zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LO.type="LOCAL";const lQ=LO;new Xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(t,e){return e?vo(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends NO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uQ(t){return WY(t.auth,new o1(t),t.bypassAuthState)}function dQ(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),qY(n,new o1(t),t.bypassAuthState)}async function hQ(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),$Y(n,new o1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:l}=e;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uQ;case"linkViaPopup":case"linkViaRedirect":return hQ;case"reauthViaPopup":case"reauthViaRedirect":return dQ;default:Oo(this.auth,"internal-error")}}resolve(e){Mo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=new Xd(2e3,1e4);class Ol extends FO{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Mo(this.filter.length===1,"Popup operations only handle one event");const e=s1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Qs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fQ.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ="pendingRedirect",Lf=new Map;class mQ extends FO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const r=await gQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gQ(t,e){const n=xQ(e),r=yQ(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function vQ(t,e){Lf.set(t._key(),e)}function yQ(t){return vo(t._redirectPersistence)}function xQ(t){return Mf(pQ,t.config.apiKey,t.name)}async function wQ(t,e,n=!1){if(Fs(t.app))return Promise.reject(ja(t));const r=n1(t),s=cQ(r,e),i=await new mQ(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ=10*60*1e3;class _Q{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VO(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(WT(e))}saveEventToCache(e){this.cachedEventUids.add(WT(e)),this.lastProcessedEventTime=Date.now()}}function WT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EQ(t,e={}){return Oc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TQ=/^https?/;async function NQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EQ(t);for(const n of e)try{if(kQ(n))return}catch{}Oo(t,"unauthorized-domain")}function kQ(t){const e=lx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!TQ.test(n))return!1;if(CQ.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ=new Xd(3e4,6e4);function HT(){const t=Xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PQ(t){return new Promise((e,n)=>{var s,o,i;function r(){HT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HT(),n(Qs(t,"network-request-failed"))},timeout:jQ.get()})}if((o=(s=Xs().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((i=Xs().gapi)!=null&&i.load)r();else{const l=MY("iframefcb");return Xs()[l]=()=>{gapi.load?r():n(Qs(t,"network-request-failed"))},DY(`${OY()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function AQ(t){return Ff=Ff||PQ(t),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ=new Xd(5e3,15e3),RQ="__/auth/iframe",DQ="emulator/auth/iframe",OQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LQ(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jb(e,DQ):`https://${t.config.authDomain}/${RQ}`,r={apiKey:e.apiKey,appName:t.name,v:jc},s=MQ.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${qd(r).slice(1)}`}async function FQ(t){const e=await AQ(t),n=Xs().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:LQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OQ,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=Qs(t,"network-request-failed"),l=Xs().setTimeout(()=>{o(i)},IQ.get());function c(){Xs().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zQ=500,UQ=600,BQ="_blank",$Q="http://localhost";class GT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qQ(t,e,n,r=zQ,s=UQ){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...VQ,width:r.toString(),height:s.toString(),top:o,left:i},u=Qn().toLowerCase();n&&(l=xO(u)?BQ:n),vO(u)&&(e=e||$Q,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(TY(u)&&l!=="_self")return WQ(e||"",l),new GT(null);const f=window.open(e||"",l,d);Me(f,t,"popup-blocked");try{f.focus()}catch{}return new GT(f)}function WQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ="__/auth/handler",GQ="emulator/auth/handler",KQ=encodeURIComponent("fac");async function KT(t,e,n,r,s,o){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jc,eventId:s};if(e instanceof kO){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",Oq(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))i[d]=f}if(e instanceof Jd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const l=i;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${KQ}=${encodeURIComponent(c)}`:"";return`${YQ(t)}?${qd(l).slice(1)}${u}`}function YQ({config:t}){return t.emulator?Jb(t,GQ):`https://${t.authDomain}/${HQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="webStorageSupport";class QQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RO,this._completeRedirectFn=wQ,this._overrideRedirectResult=vQ}async _openPopup(e,n,r,s){var i;Mo((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await KT(e,n,r,lx(),s);return qQ(e,o,s1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await KT(e,n,r,lx(),s);return ZY(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Mo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FQ(e),r=new _Q(e);return n.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gv,{type:Gv},s=>{var i;const o=(i=s==null?void 0:s[0])==null?void 0:i[Gv];o!==void 0&&n(!!o),Oo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EO()||yO()||t1()}}const XQ=QQ;var YT="@firebase/auth",QT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eX(t){cc(new Wa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:l}=r.options;Me(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:i,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CO(t)},u=new IY(r,s,o,c);return FY(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cc(new Wa("auth-internal",e=>{const n=n1(e.getProvider("auth").getImmediate());return(r=>new JQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(YT,QT,ZQ(t)),Ei(YT,QT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX=5*60,nX=CR("authIdTokenMaxAge")||tX;let XT=null;const rX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nX)return;const s=n==null?void 0:n.token;XT!==s&&(XT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sX(t=AR()){const e=cb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LY(t,{popupRedirectResolver:XQ,persistence:[lQ,QY,RO]}),r=CR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=rX(o.toString());GY(n,i,()=>i(n.currentUser)),HY(n,l=>i(l))}}const s=SR("auth");return s&&VY(n,`http://${s}`),n}function oX(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}RY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Qs("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",oX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eX("Browser");const iX={apiKey:"AIzaSyDZa2C8AZc902HNuRWS0jP2KxfFoX5npyA",authDomain:"firefly-nexus.firebaseapp.com",projectId:"firefly-nexus",storageBucket:"firefly-nexus.firebasestorage.app",messagingSenderId:"981611156212",appId:"1:981611156212:web:aa09e09bbc3995617704a1",measurementId:"G-BG7KGG32F2"},zO=PR(iX),Wr=BK(zO);sX(zO);class aX{constructor(){this.collections={clientes:"clientes",ordensServico:"ordens_servico",ordensVenda:"ordens_venda",produtos:"produtos",categorias:"categorias",movimentacoes:"movimentacoes",financeiro:"financeiro",usuarios:"usuarios",configuracoes:"configuracoes"},this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes"},this.isFirebaseAvailable=!1,this.initialized=!1,this.initPromise=this.init()}async init(){if(!this.initialized)try{await this.checkFirebaseAvailability(),this.initialized=!0,console.log("[FirebaseService]  Inicializao concluda - APENAS FIREBASE")}catch(e){throw console.error("[FirebaseService]  Erro na inicializao:",e),this.initialized=!1,new Error("Firebase no disponvel - sistema requer Firebase")}}async checkFirebaseAvailability(){try{if(console.log("[FirebaseService] ===== VERIFICANDO FIREBASE ====="),console.log("[FirebaseService] Verificando disponibilidade do Firebase..."),console.log("[FirebaseService] db object:",Wr),!Wr)throw new Error("Firebase db no est disponvel");console.log("[FirebaseService] Testando acesso  collection...");const e=oa(Wr,"test_connectivity");console.log("[FirebaseService] Collection criada:",e);const n=$v(e),r=await qv(n);console.log("[FirebaseService] Query executada com sucesso, docs encontrados:",r.size),this.isFirebaseAvailable=!0,console.log("[FirebaseService]  Firebase disponvel - APENAS FIREBASE"),console.log("[FirebaseService] ===== FIREBASE OK =====")}catch(e){throw console.log("[FirebaseService]  Firebase no disponvel - SISTEMA FALHAR"),console.log("[FirebaseService] Erro:",e.message),console.log("[FirebaseService] Stack:",e.stack),this.isFirebaseAvailable=!1,console.log("[FirebaseService] ===== FIREBASE FALHOU - SEM FALLBACK ====="),new Error(`Firebase no disponvel: ${e.message}`)}}async saveData(e,n,r=null){if(console.log(`[FirebaseService] ===== SALVANDO EM ${e} - APENAS FIREBASE =====`),console.log("[FirebaseService] Dados:",n),this.initialized||(console.log("[FirebaseService] Aguardando inicializao..."),await this.initPromise),console.log("[FirebaseService] Firebase disponvel:",this.isFirebaseAvailable),console.log("[FirebaseService] Inicializado:",this.initialized),!this.isFirebaseAvailable)throw console.error("[FirebaseService]  Firebase no disponvel - SISTEMA FALHAR"),new Error("Firebase no disponvel - sistema requer Firebase");try{if(r){const s=Rf(Wr,e,r);return await rY(s,{...n,updatedAt:n.updatedAt||new Date().toISOString()}),console.log(`[FirebaseService]  Documento ${r} atualizado com sucesso no Firebase`),r}else{const s=await oY(oa(Wr,e),{...n,createdAt:n.createdAt||new Date().toISOString(),updatedAt:n.updatedAt||new Date().toISOString()});return console.log(`[FirebaseService]  Novo documento criado no Firebase com ID: ${s.id}`),console.log("[FirebaseService] ===== SALVAMENTO CONCLUDO ====="),s.id}}catch(s){throw console.error(`[FirebaseService]  Erro ao salvar dados em ${e}:`,s),new Error(`Erro ao salvar no Firebase: ${s.message}`)}}saveToLocalStorage(e,n,r=null){try{console.log(`[FirebaseService] saveToLocalStorage chamado para ${e}:`,n);const s=this.localStorageKeys[e];if(!s)throw new Error(`Chave localStorage no encontrada para ${e}`);if(console.log(`[FirebaseService] Chave localStorage: ${s}`),e==="configuracoes"){const i={...n,id:r||"config",updatedAt:new Date().toISOString()};return localStorage.setItem(s,JSON.stringify(i)),window.dispatchEvent(new Event("storage")),r||"config"}const o=JSON.parse(localStorage.getItem(s)||"[]");if(console.log(`[FirebaseService] Dados existentes em ${s}:`,o),r){const i=o.findIndex(l=>l.id===r);i!==-1&&(o[i]={...n,id:r,updatedAt:new Date().toISOString()})}else{const i=r||Date.now().toString(),l={...n,id:i,createdAt:new Date().toISOString()};o.push(l),console.log("[FirebaseService] Novo item adicionado:",l)}return console.log(`[FirebaseService] Salvando dados finais em ${s}:`,o),localStorage.setItem(s,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:s,data:o}})),console.log(`[FirebaseService] Evento localStorageChange disparado para ${s}`),r||Date.now().toString()}catch(s){throw console.error("[FirebaseService] Erro ao salvar no localStorage:",s),s}}async getData(e){if(console.log(`[FirebaseService] getData chamado para ${e}`),this.initialized||(console.log(`[FirebaseService] Aguardando inicializao para ${e}`),await this.initPromise),console.log(`[FirebaseService] Firebase disponvel para ${e}: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService]  Firebase no disponvel - SISTEMA FALHAR"),new Error("Firebase no disponvel - sistema requer Firebase");try{const n=new Promise((o,i)=>setTimeout(()=>i(new Error("Timeout")),2e3)),r=(async()=>{try{const o=$v(oa(Wr,e),IT("createdAt","desc")),i=await qv(o),l=[];return i.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] Query com orderBy funcionou para ${e}: ${l.length} documentos`),l}catch(o){console.warn(`[FirebaseService] orderBy falhou para ${e}, tentando sem orderBy:`,o.message);const i=oa(Wr,e),l=await qv(i),c=[];return l.forEach(u=>{c.push({id:u.id,...u.data()})}),console.log(`[FirebaseService] Query sem orderBy funcionou para ${e}: ${c.length} documentos`),c}})(),s=await Promise.race([r,n]);return console.log(`[FirebaseService] Dados carregados do Firebase para ${e}:`,s.length),s}catch(n){throw console.error(`[FirebaseService]  Erro ao buscar dados de ${e}:`,n),new Error(`Erro ao buscar no Firebase: ${n.message}`)}}getFromLocalStorage(e){try{const n=this.localStorageKeys[e];if(!n)return console.warn(`Chave localStorage no encontrada para ${e}`),e==="configuracoes"?null:[];console.log(`[FirebaseService] getFromLocalStorage para ${e}, chave: ${n}`);const r=localStorage.getItem(n);console.log("[FirebaseService] Dados brutos do localStorage:",r);const s=JSON.parse(r||(e==="configuracoes"?"null":"[]"));if(console.log("[FirebaseService] Dados parseados:",s),e==="configuracoes")return s;const o=Array.isArray(s)?s:[];return console.log(`[FirebaseService] Retornando array para ${e}:`,o),o}catch(n){return console.error("[FirebaseService] Erro ao buscar do localStorage:",n),e==="configuracoes"?null:[]}}async getDocument(e,n){try{const r=Rf(Wr,e,n),s=await nY(r);return s.exists()?{id:s.id,...s.data()}:null}catch(r){return console.error(`Erro ao buscar documento ${n} de ${e}:`,r),null}}async deleteDocument(e,n){if(console.log(`[FirebaseService] ===== DELETANDO DOCUMENTO ${n} DE ${e} - APENAS FIREBASE =====`),!this.isFirebaseAvailable)throw console.error("[FirebaseService]  Firebase no disponvel - SISTEMA FALHAR"),new Error("Firebase no disponvel - sistema requer Firebase");try{return await sY(Rf(Wr,e,n)),console.log(`[FirebaseService]  Documento ${n} deletado com sucesso do Firebase`),!0}catch(r){throw console.error(`[FirebaseService]  Erro ao deletar documento ${n} de ${e}:`,r),new Error(`Erro ao deletar no Firebase: ${r.message}`)}}deleteFromLocalStorage(e,n){try{const r=this.localStorageKeys[e];if(!r)return console.warn(`Chave localStorage no encontrada para ${e}`),!1;const o=JSON.parse(localStorage.getItem(r)||"[]").filter(i=>i.id!==n);return localStorage.setItem(r,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:r,data:o}})),!0}catch(r){return console.error("[FirebaseService] Erro ao deletar do localStorage:",r),!1}}async subscribeToCollection(e,n){if(console.log(`[FirebaseService] ===== SUBSCRIBE TO COLLECTION ${e} =====`),this.initialized||(console.log(`[FirebaseService] Aguardando inicializao para ${e}`),await this.initPromise),console.log(`[FirebaseService] subscribeToCollection para ${e}, Firebase disponvel: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService]  Firebase no disponvel - SISTEMA FALHAR"),new Error("Firebase no disponvel - sistema requer Firebase");console.log(`[FirebaseService] Firebase disponvel, configurando onSnapshot para ${e}`);try{const r=$v(oa(Wr,e),IT("createdAt","desc"));return Wv(r,s=>{const o=[];s.forEach(i=>{o.push({id:i.id,...i.data()})}),console.log(`[FirebaseService] onSnapshot recebido para ${e}:`,o),n(o)},s=>{console.error(`[FirebaseService] Erro no onSnapshot com orderBy para ${e}:`,s),console.log(`[FirebaseService] Tentando sem orderBy para ${e}`);const o=oa(Wr,e);return Wv(o,i=>{const l=[];i.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] onSnapshot sem orderBy recebido para ${e}:`,l),n(l)},i=>{throw console.error(`[FirebaseService]  Erro no onSnapshot sem orderBy para ${e}:`,i),new Error(`Erro no onSnapshot: ${i.message}`)})})}catch(r){console.error(`[FirebaseService] Erro ao criar query com orderBy para ${e}:`,r);const s=oa(Wr,e);return Wv(s,o=>{const i=[];o.forEach(l=>{i.push({id:l.id,...l.data()})}),console.log(`[FirebaseService] onSnapshot simples recebido para ${e}:`,i),n(i)},o=>{throw console.error(`[FirebaseService]  Erro no onSnapshot simples para ${e}:`,o),new Error(`Erro no onSnapshot simples: ${o.message}`)})}}async saveCliente(e,n=null){return await this.saveData(this.collections.clientes,e,n)}async getClientes(){return await this.getData(this.collections.clientes)}async deleteCliente(e){return await this.deleteDocument(this.collections.clientes,e)}subscribeToClientes(e){return this.subscribeToCollection(this.collections.clientes,e)}async saveOS(e,n=null){return await this.saveData(this.collections.ordensServico,e,n)}async getOS(){return await this.getData(this.collections.ordensServico)}async deleteOS(e){return await this.deleteDocument(this.collections.ordensServico,e)}subscribeToOS(e){return this.subscribeToCollection(this.collections.ordensServico,e)}async saveOV(e,n=null){return await this.saveData(this.collections.ordensVenda,e,n)}async getOV(){return await this.getData(this.collections.ordensVenda)}async deleteOV(e){return await this.deleteDocument(this.collections.ordensVenda,e)}subscribeToOV(e){return this.subscribeToCollection(this.collections.ordensVenda,e)}async saveProduto(e,n=null){return await this.saveData(this.collections.produtos,e,n)}async getProdutos(){return await this.getData(this.collections.produtos)}async deleteProduto(e){return await this.deleteDocument(this.collections.produtos,e)}subscribeToProdutos(e){return this.subscribeToCollection(this.collections.produtos,e)}async saveCategoria(e,n=null){return await this.saveData(this.collections.categorias,e,n)}async getCategorias(){return await this.getData(this.collections.categorias)}async deleteCategoria(e){return await this.deleteDocument(this.collections.categorias,e)}subscribeToCategorias(e){return this.subscribeToCollection(this.collections.categorias,e)}async saveMovimentacao(e,n=null){return await this.saveData(this.collections.movimentacoes,e,n)}async getMovimentacoes(){return await this.getData(this.collections.movimentacoes)}async deleteMovimentacao(e){return await this.deleteDocument(this.collections.movimentacoes,e)}subscribeToMovimentacoes(e){return this.subscribeToCollection(this.collections.movimentacoes,e)}async saveFinanceiro(e,n=null){return await this.saveData(this.collections.financeiro,e,n)}async getFinanceiro(){return await this.getData(this.collections.financeiro)}async deleteFinanceiro(e){return await this.deleteDocument(this.collections.financeiro,e)}subscribeToFinanceiro(e){return this.subscribeToCollection(this.collections.financeiro,e)}async saveUsuario(e,n=null){return await this.saveData(this.collections.usuarios,e,n)}async getUsuarios(){return await this.getData(this.collections.usuarios)}async deleteUsuario(e){return await this.deleteDocument(this.collections.usuarios,e)}subscribeToUsuarios(e){return this.subscribeToCollection(this.collections.usuarios,e)}async saveConfiguracao(e,n=null){try{if(console.log("[FirebaseService]  Salvando configurao:",e),!n)try{const s=await this.getData(this.collections.configuracoes);s.length>0?(n=s[0].id,console.log("[FirebaseService]  Configurao existente encontrada, ID:",n)):console.log("[FirebaseService]  Criando nova configurao")}catch(s){console.warn("[FirebaseService]  Erro ao buscar configurao existente:",s)}const r=await this.saveData(this.collections.configuracoes,e,n);return localStorage.removeItem("crm_config_cache"),console.log("[FirebaseService]  Configurao salva com sucesso:",r),r}catch(r){console.error("[FirebaseService]  Erro ao salvar configurao:",r);try{return localStorage.setItem("crm_configuracoes",JSON.stringify(e)),localStorage.setItem("crm_idioma",e.idioma||"pt-BR"),console.log("[FirebaseService]  Fallback: Configurao salva no localStorage"),"localStorage"}catch(s){throw console.error("[FirebaseService]  Erro no fallback localStorage:",s),r}}}async getConfiguracao(){const e=localStorage.getItem("crm_config_cache");if(e)try{const s=JSON.parse(e),o=s.timestamp;if(Date.now()-o<5*60*1e3)return console.log("[FirebaseService] Usando configurao do cache"),s.config}catch(s){console.warn("[FirebaseService] Erro ao ler cache de configurao:",s)}const n=await this.getData(this.collections.configuracoes),r=n.length>0?n[0]:null;return r&&localStorage.setItem("crm_config_cache",JSON.stringify({config:r,timestamp:Date.now()})),r}async migrateFromLocalStorage(){console.log("Iniciando migrao do localStorage para Firebase...");const e=[{key:"crm_clientes",collection:this.collections.clientes},{key:"crm_os",collection:this.collections.ordensServico},{key:"crm_ov",collection:this.collections.ordensVenda},{key:"crm_produtos",collection:this.collections.produtos},{key:"crm_categorias",collection:this.collections.categorias},{key:"crm_movimentacoes",collection:this.collections.movimentacoes},{key:"crm_financeiro",collection:this.collections.financeiro},{key:"crm_usuarios",collection:this.collections.usuarios}];for(const n of e)try{const r=JSON.parse(localStorage.getItem(n.key)||"[]");if(Array.isArray(r)&&r.length>0){console.log(`Migrando ${r.length} itens de ${n.key}...`);for(const s of r){const{id:o,...i}=s;await this.saveData(n.collection,i)}console.log(`Migrao de ${n.key} concluda!`)}}catch(r){console.error(`Erro ao migrar ${n.key}:`,r)}try{const n=localStorage.getItem("crm_configuracoes");if(n){const r=JSON.parse(n);await this.saveConfiguracao(r),console.log("Configuraes migradas!")}}catch(n){console.error("Erro ao migrar configuraes:",n)}console.log("Migrao concluda!")}}const bt=new aX,Xi=(t,e={})=>{const[n,r]=g.useState([]),[s,o]=g.useState(!0),[i,l]=g.useState(null),{enableRealtime:c=!0,onError:u=null}=e;return g.useEffect(()=>{let p=null,m=0;const y=3,x=async()=>{try{if(o(!0),l(null),console.log(`[useFirebaseData] ===== INCIO CARREGAMENTO ${t} =====`),console.log(`[useFirebaseData] enableRealtime: ${c}`),console.log(`[useFirebaseData] Tentativa ${m+1}/${y+1}`),!bt.isFirebaseAvailable){console.log("[useFirebaseData] Firebase no disponvel, tentando inicializar...");try{await bt.init(),console.log("[useFirebaseData]  Firebase inicializado com sucesso")}catch(S){throw console.error("[useFirebaseData]  Erro na inicializao do Firebase:",S),S}}if(c){console.log(`[useFirebaseData] Configurando escuta em tempo real para ${t}`);try{p=await bt.subscribeToCollection(t,S=>{console.log(`[useFirebaseData]  Dados recebidos de ${t}:`,S),console.log("[useFirebaseData] Tipo dos dados:",typeof S,Array.isArray(S)),r(Array.isArray(S)?S:[]),o(!1)}),console.log(`[useFirebaseData]  Escuta configurada com sucesso para ${t}`)}catch(S){console.error(`[useFirebaseData]  Erro ao configurar escuta para ${t}:`,S),console.log("[useFirebaseData] Tentando carregamento nico como fallback...");const _=await bt.getData(t);console.log(`[useFirebaseData] Dados carregados (fallback) de ${t}:`,_),r(Array.isArray(_)?_:[]),o(!1)}}else{console.log(`[useFirebaseData] Carregando dados uma nica vez para ${t}`);const S=await bt.getData(t);console.log(`[useFirebaseData] Dados carregados de ${t}:`,S),console.log("[useFirebaseData] Tipo dos dados:",typeof S,Array.isArray(S)),r(Array.isArray(S)?S:[]),o(!1)}console.log(`[useFirebaseData] ===== FIM CARREGAMENTO ${t} =====`)}catch(S){if(console.error(`[useFirebaseData]  ERRO CRTICO ao carregar dados de ${t}:`,S),console.error("[useFirebaseData] Stack trace:",S.stack),m<y){m++,console.log(`[useFirebaseData] Tentando novamente em 2 segundos... (${m}/${y})`),setTimeout(()=>{x()},2e3);return}l(S),o(!1),r([]),u&&u(S)}};return x(),()=>{p&&p()}},[t,c,u]),{data:n,loading:s,error:i,save:async(p,m=null)=>{try{console.log(`[useFirebaseData] Salvando item em ${t}:`,p);const y=await bt.saveData(t,p,m);return console.log(`[useFirebaseData] Item salvo com sucesso em ${t}:`,y),y}catch(y){throw console.error(`[useFirebaseData] Erro ao salvar em ${t}:`,y),l(y),y}},remove:async p=>{try{console.log(`[useFirebaseData] Removendo item ${p} de ${t}`);const m=await bt.deleteDocument(t,p);return console.log(`[useFirebaseData] Item removido com sucesso de ${t}`),m}catch(m){throw console.error(`[useFirebaseData] Erro ao deletar de ${t}:`,m),l(m),m}},refresh:()=>{o(!0),bt.getData(t).then(r).finally(()=>o(!1))}}},Mc=()=>Xi("clientes"),ug=()=>Xi("ordens_servico"),eh=()=>Xi("ordens_venda"),th=()=>Xi("produtos"),nh=()=>Xi("categorias"),i1=()=>Xi("movimentacoes"),rh=()=>Xi("financeiro"),a1=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0),console.log("[useConfiguracoesLoja] Carregando configuraes da loja...");const c=await bt.getData("configuracoes_loja");console.log("[useConfiguracoesLoja] Configuraes carregadas:",c),!c||c.length===0?e({nomeEmpresa:"MultiSmart",descricao:"Manuteno e Comrcio de Celulares e Tablets",endereco:"Rua Jos Pedro dos Santos n74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""}):e(c[0]),r(!1)}catch(c){console.error("[useConfiguracoesLoja] Erro ao carregar configuraes:",c),o(c),r(!1),e({nomeEmpresa:"MultiSmart",descricao:"Manuteno e Comrcio de Celulares e Tablets",endereco:"Rua Jos Pedro dos Santos n74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""})}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{if(console.log("[useConfiguracoesLoja] Salvando configuraes:",l),t&&t.id){const c=await bt.saveData("configuracoes_loja",l,t.id);return e({...l,id:t.id}),c}else{const c=await bt.saveData("configuracoes_loja",l);return e({...l,id:c.id}),c}}catch(c){throw console.error("[useConfiguracoesLoja] Erro ao salvar configuraes:",c),o(c),c}}}},Lc=()=>{const t=Xi("usuarios");console.log("[useUsuarios] Hook result completo:",t),console.log("[useUsuarios] result.data:",t.data),console.log("[useUsuarios] result.loading:",t.loading),console.log("[useUsuarios] result.error:",t.error);const e=Array.isArray(t.data)?t.data:[];return console.log("[useUsuarios] usuarios finais:",e),{...t,usuarios:e,saveUsuario:t.save}},l1=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0);const c=new Promise((f,p)=>setTimeout(()=>p(new Error("Timeout")),500)),u=bt.getConfiguracao(),d=await Promise.race([u,c]);e(d),r(!1),console.log("[useConfiguracao] Configurao carregada:",d)}catch(c){console.warn("[useConfiguracao] Erro ao carregar configurao, usando padro:",c.message),e({nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"}),o(c),r(!1)}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{const c=await bt.saveConfiguracao(l);return e(l),c}catch(c){throw console.error("Erro ao salvar configurao:",c),o(c),c}}}},lX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(Cr),{data:r,loading:s,save:o,remove:i}=Mc(),{data:l}=eh(),[c,u]=g.useState(""),[d,f]=g.useState(null),[p,m]=g.useState(null),[y,x]=g.useState("grid"),[S,_]=g.useState("nome"),[v,b]=g.useState("asc"),[j,R]=g.useState("todos"),[F,E]=g.useState(!0),[T,A]=g.useState(!1),[I,k]=g.useState("basico"),[N,P]=g.useState({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),{toast:D}=Er(),L=(q=null)=>{var ce,re,ke,Le,Qe,nt;q?(f(q),P({nome:q.nome||"",telefone:q.telefone||"",email:q.email||"",endereco:q.endereco||"",observacoes:q.observacoes||"",categoria:q.categoria||"cliente",dataNascimento:q.dataNascimento||"",cpf:q.cpf||"",empresa:q.empresa||"",website:q.website||"",foto:q.foto||null,redesSociais:{instagram:((ce=q.redesSociais)==null?void 0:ce.instagram)||"",facebook:((re=q.redesSociais)==null?void 0:re.facebook)||"",linkedin:((ke=q.redesSociais)==null?void 0:ke.linkedin)||""},preferencias:{formaContato:((Le=q.preferencias)==null?void 0:Le.formaContato)||"telefone",horarioContato:((Qe=q.preferencias)==null?void 0:Qe.horarioContato)||"comercial",newsletter:((nt=q.preferencias)==null?void 0:nt.newsletter)||!1}}),console.log("[Clientes] Editando cliente:",q)):(f(null),P({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),console.log("[Clientes] Novo cliente, formulrio limpo")),e("clientes"),console.log("[Clientes] Dialog de cliente aberto")},B=()=>{n("clientes"),console.log("[Clientes] Dialog de cliente fechado")},$=async q=>{if(q.preventDefault(),console.log("[Clientes] Submisso do formulrio de cliente:",N,d),!N.nome){D({title:"Campo obrigatrio",description:"Nome  obrigatrio!",variant:"destructive"});return}if(!N.telefone){D({title:"Campo obrigatrio",description:"Telefone  obrigatrio! Navegando para aba de contato...",variant:"destructive"}),k("contato");return}try{const ce={...N,createdAt:d?d.createdAt:new Date().toISOString()};await o(ce,d==null?void 0:d.id),d?(console.log("[Clientes] Cliente atualizado:",ce),D({title:"Sucesso!",description:"Cliente atualizado com sucesso!"})):(console.log("[Clientes] Cliente cadastrado:",ce),D({title:"Sucesso!",description:"Cliente cadastrado com sucesso!"})),B()}catch(ce){console.error("[Clientes] Erro ao salvar cliente:",ce),D({title:"Erro",description:"Erro ao salvar cliente. Tente novamente.",variant:"destructive"})}},M=async q=>{try{await i(q),console.log("[Clientes] Cliente removido:",q),D({title:"Sucesso!",description:"Cliente removido com sucesso!"})}catch(ce){console.error("[Clientes] Erro ao remover cliente:",ce),D({title:"Erro",description:"Erro ao remover cliente. Tente novamente.",variant:"destructive"})}},V=q=>{const ce=l.filter(Qe=>Qe.clienteId===q.id),re=ce.length,ke=ce.reduce((Qe,nt)=>Qe+(nt.total||0),0),Le=ce.length>0?new Date(Math.max(...ce.map(Qe=>new Date(Qe.createdAt)))):null;return{totalCompras:re,totalGasto:ke,ultimaCompra:Le,ticketMedio:re>0?ke/re:0,status:re===0?"novo":ke>1e3?"vip":Le&&Date.now()-Le.getTime()<30*24*60*60*1e3?"ativo":"inativo"}},G=()=>{const q=r.length,ce=r.filter(Le=>l.some(Qe=>Qe.clienteId===Le.id)).length,re=r.filter(Le=>{const Qe=new Date(Le.createdAt);return Date.now()-Qe.getTime()<30*24*60*60*1e3}).length,ke=r.filter(Le=>V(Le).status==="vip").length;return{total:q,comCompras:ce,novos:re,vip:ke}},K=r.filter(q=>{const ce=q.nome.toLowerCase().includes(c.toLowerCase())||q.telefone.includes(c)||q.email&&q.email.toLowerCase().includes(c.toLowerCase()),re=V(q),ke=j==="todos"||j==="vip"&&re.status==="vip"||j==="novos"&&re.totalCompras===0||j==="ativos"&&re.status==="ativo"||j==="inativos"&&re.status==="inativo";return ce&&ke}).sort((q,ce)=>{let re=0;switch(S){case"nome":re=q.nome.localeCompare(ce.nome);break;case"data":re=new Date(q.createdAt)-new Date(ce.createdAt);break;case"compras":re=V(q).totalCompras-V(ce).totalCompras;break;case"gasto":re=V(q).totalGasto-V(ce).totalGasto;break;default:re=q.nome.localeCompare(ce.nome)}return v==="asc"?re:-re}),ie=q=>{navigator.clipboard.writeText(q),D({title:"Copiado!",description:"Informao copiada para a rea de transferncia"})},ae=q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q),me=q=>{const ce=q[0];if(!ce)return;if(!ce.type.startsWith("image/")){D({title:"Tipo de arquivo invlido!",description:"Por favor, selecione apenas imagens.",variant:"destructive"});return}if(ce.size>2*1024*1024){D({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 2MB.",variant:"destructive"});return}const re=new FileReader;re.onload=()=>{const ke=new Image;ke.onload=()=>{const Le=document.createElement("canvas"),Qe=Le.getContext("2d");let{width:nt,height:rt}=ke;const gt=1e3;nt>rt?nt>gt&&(rt=rt*gt/nt,nt=gt):rt>gt&&(nt=nt*gt/rt,rt=gt),Le.width=nt,Le.height=rt,Qe.drawImage(ke,0,0,nt,rt);const Ot=Le.toDataURL("image/jpeg",.9);P(ft=>({...ft,foto:Ot})),D({title:"Foto adicionada!",description:"Foto do cliente carregada com sucesso."})},ke.src=re.result},re.onerror=()=>{D({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},re.readAsDataURL(ce)},{getRootProps:Ue,getInputProps:Ae,isDragActive:le}=ib({onDrop:me,accept:{"image/*":[]},multiple:!1}),Ie=()=>{P(q=>({...q,foto:null})),D({title:"Foto removida!",description:"Foto do cliente removida com sucesso."})},Ke=G();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-6 text-white",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",children:" Clientes"}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie sua base de clientes com inteligncia"})]}),a.jsx(be.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(Wn,{open:t.clientes,onOpenChange:B,children:[a.jsxs(Q,{onClick:()=>L(),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 text-white",size:"lg",children:[a.jsx(xu,{className:"h-5 w-5 mr-2"}),"Novo Cliente"]}),a.jsxs(En,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Cn,{children:[a.jsxs(Tn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(xu,{className:"h-6 w-6 text-blue-500"}),d?"Editar Cliente":"Novo Cliente"]}),a.jsx(Vm,{children:"Preencha as informaes do cliente. Campos obrigatrios marcados com *."})]}),a.jsxs("form",{onSubmit:$,className:"space-y-6",children:[a.jsxs($a,{value:I,onValueChange:k,className:"w-full",children:[a.jsxs(Di,{className:"grid w-full grid-cols-3",children:[a.jsx(Pt,{value:"basico",children:"Bsico"}),a.jsx(Pt,{value:"contato",children:"Contato"}),a.jsx(Pt,{value:"preferencias",children:"Preferncias"})]}),a.jsxs(hn,{value:"basico",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Foto do Cliente"}),N.foto?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:N.foto,alt:"Foto do cliente",className:"w-32 h-32 rounded-full object-cover border-4 border-slate-200 dark:border-slate-700 shadow-lg"}),a.jsx(Q,{type:"button",variant:"destructive",size:"icon",onClick:Ie,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full",children:a.jsx(_r,{className:"h-3 w-3"})})]}):a.jsxs("div",{...Ue(),className:`w-32 h-32 border-2 border-dashed rounded-full flex flex-col items-center justify-center cursor-pointer transition-all duration-200 ${le?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[a.jsx("input",{...Ae()}),a.jsx(Ea,{className:"h-8 w-8 text-slate-400 mb-2"}),a.jsx("p",{className:"text-xs text-slate-500 text-center px-2",children:le?" Solte a foto aqui":" Arraste uma foto ou clique para selecionar"})]}),a.jsx("p",{className:"text-xs text-slate-500 text-center",children:"PNG, JPG at 2MB  Redimensionada para 1000x1000px"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"nome",children:"Nome Completo *"}),a.jsx(fe,{id:"nome",value:N.nome,onChange:q=>P({...N,nome:q.target.value}),placeholder:"Joo Silva",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"categoria",children:"Categoria"}),a.jsxs(ut,{value:N.categoria,onValueChange:q=>P({...N,categoria:q}),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"cliente",children:"Cliente"}),a.jsx(oe,{value:"fornecedor",children:"Fornecedor"}),a.jsx(oe,{value:"parceiro",children:"Parceiro"}),a.jsx(oe,{value:"vip",children:"VIP"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"cpf",children:"CPF"}),a.jsx(fe,{id:"cpf",value:N.cpf,onChange:q=>P({...N,cpf:q.target.value}),placeholder:"000.000.000-00"})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),a.jsx(fe,{id:"dataNascimento",type:"date",value:N.dataNascimento,onChange:q=>P({...N,dataNascimento:q.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"empresa",children:"Empresa"}),a.jsx(fe,{id:"empresa",value:N.empresa,onChange:q=>P({...N,empresa:q.target.value}),placeholder:"Nome da empresa"})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"observacoes",children:"Observaes"}),a.jsx(gd,{id:"observacoes",value:N.observacoes,onChange:q=>P({...N,observacoes:q.target.value}),placeholder:"Informaes adicionais sobre o cliente",rows:3})]})]}),a.jsxs(hn,{value:"contato",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"telefone",children:"Telefone *"}),a.jsx(fe,{id:"telefone",value:N.telefone,onChange:q=>P({...N,telefone:q.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"email",children:"E-mail"}),a.jsx(fe,{id:"email",type:"email",value:N.email,onChange:q=>P({...N,email:q.target.value}),placeholder:"email@exemplo.com"})]})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"endereco",children:"Endereo"}),a.jsx(gd,{id:"endereco",value:N.endereco,onChange:q=>P({...N,endereco:q.target.value}),placeholder:"Endereo completo",rows:2})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"website",children:"Website"}),a.jsx(fe,{id:"website",value:N.website,onChange:q=>P({...N,website:q.target.value}),placeholder:"https://exemplo.com"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ne,{children:"Redes Sociais"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"instagram",className:"text-sm",children:"Instagram"}),a.jsx(fe,{id:"instagram",value:N.redesSociais.instagram,onChange:q=>P({...N,redesSociais:{...N.redesSociais,instagram:q.target.value}}),placeholder:"@usuario"})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"facebook",className:"text-sm",children:"Facebook"}),a.jsx(fe,{id:"facebook",value:N.redesSociais.facebook,onChange:q=>P({...N,redesSociais:{...N.redesSociais,facebook:q.target.value}}),placeholder:"facebook.com/usuario"})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"linkedin",className:"text-sm",children:"LinkedIn"}),a.jsx(fe,{id:"linkedin",value:N.redesSociais.linkedin,onChange:q=>P({...N,redesSociais:{...N.redesSociais,linkedin:q.target.value}}),placeholder:"linkedin.com/in/usuario"})]})]})]})]}),a.jsxs(hn,{value:"preferencias",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"formaContato",children:"Forma de Contato Preferida"}),a.jsxs(ut,{value:N.preferencias.formaContato,onValueChange:q=>P({...N,preferencias:{...N.preferencias,formaContato:q}}),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"telefone",children:"Telefone"}),a.jsx(oe,{value:"email",children:"E-mail"}),a.jsx(oe,{value:"whatsapp",children:"WhatsApp"}),a.jsx(oe,{value:"instagram",children:"Instagram"})]})]})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"horarioContato",children:"Horrio de Contato"}),a.jsxs(ut,{value:N.preferencias.horarioContato,onValueChange:q=>P({...N,preferencias:{...N.preferencias,horarioContato:q}}),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"comercial",children:"Comercial (9h-18h)"}),a.jsx(oe,{value:"manha",children:"Manh (6h-12h)"}),a.jsx(oe,{value:"tarde",children:"Tarde (12h-18h)"}),a.jsx(oe,{value:"noite",children:"Noite (18h-22h)"}),a.jsx(oe,{value:"livre",children:"Qualquer horrio"})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"newsletter",checked:N.preferencias.newsletter,onChange:q=>P({...N,preferencias:{...N.preferencias,newsletter:q.target.checked}}),className:"rounded"}),a.jsx(ne,{htmlFor:"newsletter",children:"Receber newsletter e promoes"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600",children:d?"Atualizar Cliente":"Cadastrar Cliente"}),a.jsx(Q,{type:"button",variant:"outline",onClick:B,children:"Cancelar"})]})]})]})]})})]}),F&&a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(xs,{className:"h-5 w-5 text-blue-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Total"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ke.total})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(fs,{className:"h-5 w-5 text-green-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Compraram"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ke.comCompras})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(Sf,{className:"h-5 w-5 text-yellow-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"VIP"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ke.vip})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(xu,{className:"h-5 w-5 text-purple-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Novos"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ke.novos})]})]})})]})]}),a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(fe,{placeholder:"Buscar clientes...",value:c,onChange:q=>u(q.target.value),className:"pl-10"})]}),a.jsxs(ut,{value:j,onValueChange:R,children:[a.jsxs(at,{className:"w-full sm:w-40",children:[a.jsx(Iw,{className:"h-4 w-4 mr-2"}),a.jsx(dt,{})]}),a.jsxs(lt,{children:[a.jsx(oe,{value:"todos",children:"Todos"}),a.jsx(oe,{value:"vip",children:"VIP"}),a.jsx(oe,{value:"novos",children:"Novos"}),a.jsx(oe,{value:"ativos",children:"Ativos"}),a.jsx(oe,{value:"inativos",children:"Inativos"})]})]}),a.jsxs(ut,{value:S,onValueChange:_,children:[a.jsxs(at,{className:"w-full sm:w-40",children:[a.jsx(fr,{className:"h-4 w-4 mr-2"}),a.jsx(dt,{})]}),a.jsxs(lt,{children:[a.jsx(oe,{value:"nome",children:"Nome"}),a.jsx(oe,{value:"data",children:"Data"}),a.jsx(oe,{value:"compras",children:"Compras"}),a.jsx(oe,{value:"gasto",children:"Gasto"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q,{variant:v==="asc"?"default":"outline",size:"sm",onClick:()=>b(v==="asc"?"desc":"asc"),children:v==="asc"?a.jsx(F9,{className:"h-4 w-4"}):a.jsx(M9,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex border border-slate-200 dark:border-slate-700 rounded-lg",children:[a.jsx(Q,{variant:y==="grid"?"default":"ghost",size:"sm",onClick:()=>x("grid"),className:"rounded-r-none",children:a.jsx(fr,{className:"h-4 w-4"})}),a.jsx(Q,{variant:y==="list"?"default":"ghost",size:"sm",onClick:()=>x("list"),className:"rounded-l-none",children:a.jsx(xs,{className:"h-4 w-4"})})]})]})]})}),a.jsx(uA,{mode:"wait",children:s?a.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Carregando clientes..."})]}):a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:K.map((q,ce)=>{const re=V(q),ke={novo:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",vip:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"};return y==="grid"?a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ce*.05},whileHover:{y:-5},className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[q.foto?a.jsx("img",{src:q.foto,alt:q.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:q.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-lg group-hover:text-blue-600 transition-colors",children:q.nome}),a.jsx(Ri,{className:ke[re.status],children:re.status==="novo"?"Novo":re.status==="vip"?"VIP":re.status==="ativo"?"Ativo":"Inativo"})]})]}),a.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(q),A(!0)},className:"h-8 w-8",children:a.jsx(ql,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>L(q),className:"h-8 w-8",children:a.jsx(ys,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>M(q.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Zr,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[a.jsx(Ta,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:q.telefone}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ie(q.telefone),className:"h-6 w-6 ml-auto",children:a.jsx(Vh,{className:"h-3 w-3"})})]}),q.email&&a.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[a.jsx(Ca,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm truncate",children:q.email}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ie(q.email),className:"h-6 w-6 ml-auto",children:a.jsx(Vh,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:re.totalCompras}),a.jsx("p",{className:"text-xs text-slate-500",children:"Compras"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:ae(re.totalGasto)}),a.jsx("p",{className:"text-xs text-slate-500",children:"Total Gasto"})]})]})]})]},q.id):a.jsx(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:ce*.05},className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[q.foto?a.jsx("img",{src:q.foto,alt:q.nome,className:"w-10 h-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:q.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:q.nome}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(Ta,{className:"h-3 w-3"}),q.telefone,q.email&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx(Ca,{className:"h-3 w-3"}),q.email]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium",children:[re.totalCompras," compras"]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:ae(re.totalGasto)})]}),a.jsx(Ri,{className:ke[re.status],children:re.status==="novo"?"Novo":re.status==="vip"?"VIP":re.status==="ativo"?"Ativo":"Inativo"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(q),A(!0)},className:"h-8 w-8",children:a.jsx(ql,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>L(q),className:"h-8 w-8",children:a.jsx(ys,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>M(q.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Zr,{className:"h-4 w-4"})})]})]})]})},q.id)})},y)}),!s&&K.length===0&&a.jsxs(be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(xs,{className:"h-12 w-12 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:c?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:c?"Tente buscar com outros termos":"Comece cadastrando seu primeiro cliente"}),!c&&a.jsxs(Q,{onClick:()=>L(),className:"bg-gradient-to-r from-blue-600 to-purple-600",children:[a.jsx(xu,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Cliente"]})]}),a.jsx(Wn,{open:T,onOpenChange:A,children:a.jsx(En,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:p&&a.jsxs(a.Fragment,{children:[a.jsx(Cn,{children:a.jsxs(Tn,{className:"text-2xl font-bold flex items-center gap-3",children:[p.foto?a.jsx("img",{src:p.foto,alt:p.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:p.nome.charAt(0).toUpperCase()}),p.nome]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Kt,{children:[a.jsx(nn,{className:"pb-3",children:a.jsxs(rn,{className:"text-lg flex items-center gap-2",children:[a.jsx(fs,{className:"h-5 w-5 text-blue-500"}),"Compras"]})}),a.jsxs(Yt,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:V(p).totalCompras}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total de compras realizadas"})]})]}),a.jsxs(Kt,{children:[a.jsx(nn,{className:"pb-3",children:a.jsxs(rn,{className:"text-lg flex items-center gap-2",children:[a.jsx(mr,{className:"h-5 w-5 text-green-500"}),"Total Gasto"]})}),a.jsxs(Yt,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:ae(V(p).totalGasto)}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor total gasto"})]})]})]}),a.jsxs(Kt,{children:[a.jsx(nn,{children:a.jsxs(rn,{className:"text-lg flex items-center gap-2",children:[a.jsx(qs,{className:"h-5 w-5 text-purple-500"}),"Informaes de Contato"]})}),a.jsxs(Yt,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ta,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:p.telefone}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ie(p.telefone),className:"h-6 w-6 ml-auto",children:a.jsx(Vh,{className:"h-3 w-3"})})]}),p.email&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ca,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:p.email}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ie(p.email),className:"h-6 w-6 ml-auto",children:a.jsx(Vh,{className:"h-3 w-3"})})]}),p.endereco&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(bp,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:p.endereco})]})]})]})]})]})})})]})},cX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(Cr),{data:r,loading:s,save:o,remove:i}=ug(),{data:l}=Mc(),{save:c}=rh(),{config:u}=a1(),[d,f]=g.useState(""),[p,m]=g.useState("Todos"),[y,x]=g.useState("grid"),[S,_]=g.useState(null),[v,b]=g.useState({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),{toast:j}=Er();console.log("[OS] ===== DADOS CARREGADOS ====="),console.log("[OS] Ordens:",r),console.log("[OS] Clientes:",l),console.log("[OS] Loading:",s);const R=(L=null)=>{L?(_(L),b({...L,valor:L.valor?L.valor.toString():""}),console.log("[OS] Editando OS:",L)):(_(null),b({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),console.log("[OS] Nova OS, formulrio limpo")),e("os"),console.log("[OS] Dialog de OS aberto")},F=()=>{n("os"),console.log("[OS] Dialog de OS fechado")},E=async(L,B)=>{try{if(B==="add"){const $={descricao:`Recebimento da OS: ${L.numero}`,valor:parseFloat(L.valor),dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`os-${L.id}`};await c($),console.log("[OS]  Entrada financeira criada:",$)}}catch($){console.error("[OS]  Erro ao atualizar financeiro:",$)}},T=async L=>{if(L.preventDefault(),!v.clienteNome||!v.clienteTelefone||!v.titulo||!v.senha||!v.valor){j({title:"Erro",description:"Todos os campos obrigatrios devem ser preenchidos!",variant:"destructive"});return}try{const B={numero:S?S.numero:`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,...v,valor:parseFloat(v.valor),createdAt:S?S.createdAt:new Date().toISOString()};await o(B,S==null?void 0:S.id),j(S?{title:"Sucesso!",description:"OS atualizada com sucesso!"}:{title:"Sucesso!",description:"OS criada com sucesso!"}),B.status==="Concluda"?await E(B,"add"):await E(B,"remove"),b({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),_(null),F()}catch(B){console.error("[OS]  Erro ao salvar OS:",B),j({title:"Erro",description:"Erro ao salvar ordem de servio. Tente novamente.",variant:"destructive"})}},A=async L=>{try{const B=r==null?void 0:r.find($=>$.id===L);B&&await E(B,"remove"),await i(L),j({title:"Sucesso!",description:"OS removida com sucesso!"})}catch(B){console.error("[OS]  Erro ao remover OS:",B),j({title:"Erro",description:"Erro ao remover ordem de servio. Tente novamente.",variant:"destructive"})}},I=L=>{const B=new Date().toLocaleDateString("pt-BR"),$=L.numero||`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,M=u||{},V=M.nomeEmpresa||"MultiSmart",G=M.descricao||"Manuteno e Comrcio de Celulares e Tablets",K=M.endereco||"Rua Jos Pedro dos Santos n74 - JD das Lanjeiras, Bebedouro - SP",ie=M.cnpj||"47.309.271/0001-97",ae=M.telefone||"(17)3345-1016",me=M.whatsapp||"(17)99157-1263",Ue=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Ordem de Servio - ${$}</title>
          <meta charset="UTF-8">
          <style>
            @page {
              size: A4;
              margin: 0.5cm;
            }
            
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 0;
              color: #000; 
              font-size: 12px;
              line-height: 1.3;
            }
            
            .page {
              width: 21cm;
              height: 29.7cm;
              page-break-after: always;
              position: relative;
              border: 1px solid #ccc;
              box-sizing: border-box;
            }
            
            .page:last-child {
              page-break-after: avoid;
            }
            
            .cut-line {
              border-top: 2px dashed #000;
              margin: 14.85cm 0;
              position: relative;
            }
            
            .cut-line::before {
              content: "CORTE AQUI";
              position: absolute;
              top: -8px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 0 10px;
              font-size: 10px;
              font-weight: bold;
            }
            
            .os-container {
              padding: 20px;
              height: 14.35cm;
              box-sizing: border-box;
              position: relative;
            }
            
            .header {
              text-align: center;
              margin-bottom: 25px;
              border-bottom: 2px solid #000;
              padding-bottom: 15px;
            }
            
            .company-name {
              font-size: 28px;
              font-weight: bold;
              color: #2E8B57;
              margin-bottom: 5px;
              text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            }
            
            .company-subtitle {
              font-size: 14px;
              color: #666;
              margin-bottom: 10px;
            }
            
            .company-info {
              font-size: 11px;
              line-height: 1.4;
            }
            
            .os-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin: 20px 0;
              padding: 10px;
              background: #f5f5f5;
              border-radius: 5px;
            }
            
            .os-number {
              font-size: 24px;
              font-weight: bold;
              color: #2E8B57;
            }
            
            .os-date {
              font-size: 14px;
              font-weight: bold;
            }
            
            .form-section {
              display: grid;
              grid-template-columns: 1fr 1fr 1fr;
              gap: 20px;
              margin-bottom: 20px;
            }
            
            .form-column {
              display: flex;
              flex-direction: column;
            }
            
            .form-field {
              margin-bottom: 15px;
            }
            
            .form-label {
              font-weight: bold;
              font-size: 11px;
              margin-bottom: 5px;
              display: block;
            }
            
            .form-input {
              border: none;
              border-bottom: 1px solid #000;
              padding: 5px 0;
              font-size: 12px;
              width: 100%;
              background: transparent;
            }
            
            .form-textarea {
              border: 1px solid #ccc;
              padding: 8px;
              font-size: 11px;
              width: 100%;
              min-height: 60px;
              resize: none;
              background: #fafafa;
            }
            
            .phone-input {
              font-family: monospace;
              letter-spacing: 1px;
            }
            
            .terms-section {
              margin-top: 20px;
              padding: 15px;
              border: 1px solid #000;
              border-radius: 5px;
            }
            
            .terms-title {
              text-align: center;
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 15px;
              border-bottom: 1px dashed #000;
              padding-bottom: 5px;
            }
            
            .terms-list {
              list-style: none;
              padding: 0;
              margin: 0;
            }
            
            .terms-list li {
              margin-bottom: 8px;
              font-size: 11px;
              line-height: 1.4;
            }
            
            .dots-grid {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 5px;
              margin-top: 10px;
            }
            
            .dot {
              width: 8px;
              height: 8px;
              background: #000;
              border-radius: 50%;
              margin: 0 auto;
            }
            
            .footer-section {
              display: grid;
              grid-template-columns: 1fr 1fr 2fr;
              gap: 20px;
              margin-top: 20px;
              padding-top: 15px;
              border-top: 1px solid #000; 
            }
            
            .signature-line {
              border-bottom: 1px solid #000;
              padding: 5px 0;
              text-align: center;
              font-size: 11px;
              font-weight: bold;
            }
            
            .print-info {
              font-size: 10px;
              color: #666;
              text-align: center; 
              margin-top: 10px;
            }
            
            @media print {
              .page {
                border: none;
              }
              .cut-line {
                border-top: 2px dashed #000;
              }
            }
          </style>
        </head>
        <body>
          <!-- Primeira OS -->
          <div class="page">
            <div class="os-container">
              <div class="header">
                <div class="company-name">${V}</div>
                <div class="company-subtitle">${G}</div>
                <div class="company-info">
                  ${K}<br>
                  CNPJ: ${ie} | Fone: ${ae} | WhatsApp: ${me}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${B}</div>
                <div class="os-number">NO.S.: ${$}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${L.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitao/Reclamao:</label>
                    <div class="form-textarea">${L.observacoes||""}</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${L.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Servios executados/peas:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${L.clienteTelefone||"(  )     -    "}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                </div>
              </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorizao para execuo de servio ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias ser sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados aps anlise sero comunicados posteriormente.</li>
                  <li>4 - No haver garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                </div>
              </div>
              
              <div class="footer-section">
                <div class="signature-line">Pin: ${L.senha||""}</div>
                <div class="signature-line">Senha: ${L.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>
          
          <!-- Linha de corte -->
          <div class="cut-line"></div>
          
          <!-- Segunda OS (cpia) -->
          <div class="page">
            <div class="os-container">
          <div class="header">
                <div class="company-name">${V}</div>
                <div class="company-subtitle">${G}</div>
                <div class="company-info">
                  ${K}<br>
                  CNPJ: ${ie} | Fone: ${ae} | WhatsApp: ${me}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${B}</div>
                <div class="os-number">NO.S.: ${$}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${L.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitao/Reclamao:</label>
                    <div class="form-textarea">${L.observacoes||""}</div>
                  </div>
          </div>
          
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${L.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Servios executados/peas:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
            </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${L.clienteTelefone||"(  )     -    "}</div>
            </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
            </div>
            </div>
            </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorizao para execuo de servio ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias ser sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados aps anlise sero comunicados posteriormente.</li>
                  <li>4 - No haver garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
          </div>

              <div class="footer-section">
                <div class="signature-line">Pin: ${L.senha||""}</div>
                <div class="signature-line">Senha: ${L.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>

          <div class="print-info">
            Impresso em: ${new Date().toLocaleString("pt-BR")} | MultiSmart CRM System
          </div>
        </body>
      </html>
    `,Ae=window.open("","_blank","width=800,height=600");Ae.document.write(Ue),Ae.document.close(),Ae.focus(),setTimeout(()=>{Ae.print()},500)},k=L=>{const B=l.find($=>$.id===parseInt(L));B&&b({...v,clienteNome:B.nome,clienteTelefone:B.telefone})},N=(r||[]).filter(L=>{var M,V,G,K;const B=((M=L.clienteNome)==null?void 0:M.toLowerCase().includes(d.toLowerCase()))||((V=L.numero)==null?void 0:V.toLowerCase().includes(d.toLowerCase()))||((G=L.titulo)==null?void 0:G.toLowerCase().includes(d.toLowerCase()))||((K=L.clienteTelefone)==null?void 0:K.toLowerCase().includes(d.toLowerCase())),$=p==="Todos"||L.status===p;return B&&$}),P=L=>{switch(L){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Em Andamento":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluda":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},D={total:(r==null?void 0:r.length)||0,pendentes:(r==null?void 0:r.filter(L=>L.status==="Pendente").length)||0,emAndamento:(r==null?void 0:r.filter(L=>L.status==="Em Andamento").length)||0,concluidas:(r==null?void 0:r.filter(L=>L.status==="Concluda").length)||0,valorTotal:(r==null?void 0:r.reduce((L,B)=>L+(B.valor||0),0))||0};return a.jsxs("div",{className:"space-y-8",children:[a.jsx(be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[a.jsx(_o,{className:"h-10 w-10"}),"Ordens de Servio"]}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie e acompanhe todos os seus servios"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(Q,{onClick:()=>x(y==="grid"?"list":"grid"),variant:"secondary",className:"bg-white/20 hover:bg-white/30 border-white/30",children:[y==="grid"?a.jsx(ql,{className:"h-4 w-4 mr-2"}):a.jsx(_o,{className:"h-4 w-4 mr-2"}),y==="grid"?"Lista":"Cards"]}),a.jsxs(Wn,{open:t.os,onOpenChange:F,children:[a.jsxs(Q,{onClick:()=>R(),className:"bg-white text-blue-600 hover:bg-blue-50 shadow-lg",children:[a.jsx(Ir,{className:"h-5 w-5 mr-2"}),"Nova OS"]}),a.jsxs(En,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[a.jsx(Cn,{children:a.jsx(Tn,{children:S?"Editar OS":"Nova Ordem de Servio"})}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.length>0&&a.jsxs("div",{children:[a.jsx(ne,{children:"Selecionar Cliente Existente"}),a.jsxs(ut,{onValueChange:k,children:[a.jsx(at,{children:a.jsx(dt,{placeholder:"Escolha um cliente..."})}),a.jsx(lt,{children:l.map(L=>a.jsxs(oe,{value:L.id.toString(),children:[L.nome," - ",L.telefone]},L.id))})]})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"clienteNome",children:"Nome do Cliente *"}),a.jsx(fe,{id:"clienteNome",value:v.clienteNome,onChange:L=>b({...v,clienteNome:L.target.value}),placeholder:"Nome do cliente",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"clienteTelefone",children:"Telefone do Cliente *"}),a.jsx(fe,{id:"clienteTelefone",value:v.clienteTelefone,onChange:L=>b({...v,clienteTelefone:L.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"titulo",children:"Descrio/Ttulo *"}),a.jsx(fe,{id:"titulo",value:v.titulo,onChange:L=>b({...v,titulo:L.target.value}),placeholder:"Ex: Troca de tela, reparo de bateria...",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"senha",children:"Senha do Dispositivo *"}),a.jsx(fe,{id:"senha",value:v.senha,onChange:L=>b({...v,senha:L.target.value}),placeholder:"Senha ou PIN",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"valor",children:"Valor do Servio (R$) *"}),a.jsx(fe,{id:"valor",type:"number",step:"0.01",value:v.valor,onChange:L=>b({...v,valor:L.target.value}),placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"status",children:"Status"}),a.jsxs(ut,{value:v.status,onValueChange:L=>b({...v,status:L}),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"Pendente",children:"Pendente"}),a.jsx(oe,{value:"Em Andamento",children:"Em Andamento"}),a.jsx(oe,{value:"Concluda",children:"Concluda"})]})]})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"observacoes",children:"Observaes"}),a.jsx(gd,{id:"observacoes",value:v.observacoes,onChange:L=>b({...v,observacoes:L.target.value}),placeholder:"Observaes adicionais",rows:3})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{type:"submit",className:"flex-1",children:S?"Atualizar":"Criar OS"}),a.jsx(Q,{type:"button",variant:"outline",onClick:F,children:"Cancelar"})]})]})]})]})]})]})}),a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:D.total})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(qs,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Pendentes"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:D.pendentes})]}),a.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:a.jsx(ni,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Em Andamento"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:D.emAndamento})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(_o,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Concludas"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:D.concluidas})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(xp,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Valor Total"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D.valorTotal)})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Nn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})]}),a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx(fe,{placeholder:"Buscar por cliente, nmero, descrio ou telefone...",value:d,onChange:L=>f(L.target.value),className:"pl-12 h-12 text-lg"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ut,{value:p,onValueChange:m,children:[a.jsxs(at,{className:"w-48 h-12",children:[a.jsx(Iw,{className:"h-4 w-4 mr-2"}),a.jsx(dt,{})]}),a.jsxs(lt,{children:[a.jsx(oe,{value:"Todos",children:"Todos os Status"}),a.jsx(oe,{value:"Pendente",children:"Pendentes"}),a.jsx(oe,{value:"Em Andamento",children:"Em Andamento"}),a.jsx(oe,{value:"Concluda",children:"Concludas"})]})]}),a.jsxs(Q,{variant:"outline",className:"h-12",children:[a.jsx(wp,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})}),a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:s?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Carregando ordens de servio..."})]}):a.jsx(a.Fragment,{children:y==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((L,B)=>a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:B*.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-xl",children:L.numero}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${P(L.status)}`,children:L.status})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>I(L),className:"h-10 w-10 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:a.jsx(_p,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>R(L),className:"h-10 w-10 hover:bg-green-100 dark:hover:bg-green-900/30",children:a.jsx(ys,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>A(L.id),className:"h-10 w-10 hover:bg-red-100 dark:hover:bg-red-900/30",children:a.jsx(Zr,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(Xr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:L.clienteNome}),a.jsxs("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[a.jsx(Ta,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:L.clienteTelefone})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:a.jsx(tz,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsx("div",{children:a.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-sm",children:L.titulo})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Nn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx("div",{children:a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:L.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L.valor):"R$ 0,00"})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:a.jsx(Oa,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Senha: ",a.jsx("span",{className:"font-mono font-semibold",children:L.senha})]})})]}),L.observacoes&&a.jsx("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:L.observacoes})}),a.jsxs("div",{className:"flex items-center space-x-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(fa,{className:"h-4 w-4 text-slate-400"}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Criada em: ",new Date(L.createdAt).toLocaleDateString("pt-BR")]})]})]})]},L.id))}):a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"OS"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Servio"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Valor"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Data"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:N.map((L,B)=>a.jsxs(be.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:B*.05},className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:L.numero})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:L.clienteNome}),a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:L.clienteTelefone})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-slate-900 dark:text-white max-w-xs truncate",children:L.titulo})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${P(L.status)}`,children:L.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:L.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L.valor):"R$ 0,00"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(L.createdAt).toLocaleDateString("pt-BR")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>I(L),className:"h-8 w-8",children:a.jsx(_p,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>R(L),className:"h-8 w-8",children:a.jsx(ys,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>A(L.id),className:"h-8 w-8 text-red-500 hover:text-red-700",children:a.jsx(Zr,{className:"h-4 w-4"})})]})})]},L.id))})]})})})})}),!s&&N.length===0&&a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[a.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:a.jsx(qs,{className:"h-10 w-10 text-slate-400"})}),a.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:d||p!=="Todos"?"Nenhuma OS encontrada":"Nenhuma OS cadastrada"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-6 max-w-md mx-auto",children:d||p!=="Todos"?"Tente ajustar os filtros ou buscar com outros termos":"Comece criando sua primeira ordem de servio e organize seus atendimentos"}),!d&&p==="Todos"&&a.jsxs(Q,{onClick:()=>R(),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[a.jsx(Ir,{className:"h-5 w-5 mr-2"}),"Criar Primeira OS"]})]})]})},uX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(Cr),{toast:r}=Er(),{data:s,save:o,remove:i}=eh(),{data:l}=Mc(),{data:c,save:u}=th(),{data:d}=nh(),{save:f}=i1(),[p,m]=g.useState(""),[y,x]=g.useState("todas"),[S,_]=g.useState(""),[v,b]=g.useState([]),[j,R]=g.useState(null),[F,E]=g.useState("selecionar"),[T,A]=g.useState(""),[I,k]=g.useState([]),[N,P]=g.useState(!1);g.useState(""),g.useState([]),g.useState(!1);const[D,L]=g.useState({}),[B,$]=g.useState({}),[M,V]=g.useState({}),[G,K]=g.useState(!1),[ie,ae]=g.useState([]),[me,Ue]=g.useState({tipo:"porcentagem",valor:0}),[Ae,le]=g.useState(!1),[Ie,Ke]=g.useState("recentes");g.useState(!1);const[q,ce]=g.useState(null),[re,ke]=g.useState({clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0});g.useEffect(()=>{console.log("[OV] Clientes carregados:",l),console.log("[OV] Produtos carregados:",c),console.log("[OV] Categorias carregadas:",d),console.log("[OV] Ordens carregadas:",s)},[l,c,d,s]);const Le=async z=>{try{await o(z),r({title:"Sucesso!",description:"Ordem de Venda criada com sucesso!"})}catch(Z){console.error("[OV] Erro ao salvar OV:",Z),r({title:"Erro!",description:"Erro ao criar Ordem de Venda.",variant:"destructive"})}},Qe=(z=null)=>{ce(z),ke(z?{clienteId:z.clienteId,clienteNome:z.clienteNome,produtos:z.produtos,status:z.status,total:z.total}:{clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0}),e("ov")},nt=()=>{ce(null),n("ov"),console.log("[OV] Dialog de OV fechado")},rt=z=>z.reduce((Z,te)=>Z+te.preco*te.quantidade,0),gt=(z,Z,te)=>{const pe=[...re.produtos];if(Z==="produtoId"){const U=c.find(Y=>Y.id===te);U&&(pe[z]={...pe[z],produtoId:te,nome:U.nome,preco:U.preco})}else pe[z][Z]=Z==="quantidade"||Z==="preco"?parseFloat(te)||0:te;const er=rt(pe);ke({...re,produtos:pe,total:er})},Ot=()=>{ke({...re,produtos:[...re.produtos,{produtoId:"",nome:"",preco:0,quantidade:1}]})},ft=z=>{const Z=re.produtos.filter((pe,er)=>er!==z),te=rt(Z);ke({...re,produtos:Z,total:te})},ct=(z,Z)=>{const te=JSON.parse(localStorage.getItem("crm_financeiro")||"[]");let pe=te;if(Z==="add"){if(!te.find(U=>U.origemId===`ov-${z.id}`)){const U={id:Date.now(),descricao:`Recebimento da OV: ${z.numero}`,valor:z.total,dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`ov-${z.id}`,createdAt:new Date().toISOString()};pe=[...te,U]}}else Z==="remove"&&(pe=te.filter(er=>er.origemId!==`ov-${z.id}`));localStorage.setItem("crm_financeiro",JSON.stringify(pe)),window.dispatchEvent(new Event("storage"))},lr=async z=>{if(z.preventDefault(),!re.clienteNome||re.produtos.length===0||re.produtos.some(te=>!te.nome)){r({title:"Erro",description:"Cliente e pelo menos um produto so obrigatrios!",variant:"destructive"});return}const Z={numero:q?q.numero:`OV${String(s.length+1).padStart(4,"0")}`,...re,createdAt:q?q.createdAt:new Date().toISOString()};try{q?(await o(Z,q.id),r({title:"Sucesso!",description:"OV atualizada com sucesso!"})):(await o(Z),r({title:"Sucesso!",description:"OV criada com sucesso!"})),Z.status==="Concluda"?ct(Z,"add"):ct(Z,"remove"),nt()}catch(te){console.error("[OV] Erro ao salvar OV:",te),r({title:"Erro!",description:"Erro ao salvar OV.",variant:"destructive"})}},cr=async z=>{try{const Z=s.find(te=>te.id===z);if(!Z){r({title:"Erro!",description:"OV no encontrada",variant:"destructive"});return}ct(Z,"remove"),await i(z),r({title:"Sucesso!",description:"OV removida com sucesso!"}),console.log(` OV ${Z.numero} removida com sucesso`)}catch(Z){console.error(" Erro ao excluir OV:",Z),r({title:"Erro!",description:"Erro ao excluir a OV. Tente novamente.",variant:"destructive"})}},de=z=>{if(A(z),z.length>0){const Z=l.filter(te=>{var pe;return te.nome.toLowerCase().includes(z.toLowerCase())||te.telefone.includes(z)||((pe=te.email)==null?void 0:pe.toLowerCase().includes(z.toLowerCase()))});k(Z),P(!0)}else k([]),P(!1)},Se=z=>{R(z),A(z.nome),P(!1)},ot=(z,Z)=>{if(L(te=>({...te,[z]:Z})),Z.length>0){const te=c.filter(pe=>pe.nome.toLowerCase().includes(Z.toLowerCase())||pe.codigo.toLowerCase().includes(Z.toLowerCase()));$(pe=>({...pe,[z]:te})),V(pe=>({...pe,[z]:!0}))}else $(te=>({...te,[z]:[]})),V(te=>({...te,[z]:!1}))},xt=(z,Z)=>{gt(z,"produtoId",Z.id),L(te=>({...te,[z]:Z.nome})),V(te=>({...te,[z]:!1}))};g.useEffect(()=>{F!=="selecionar"&&(A(""),k([]),P(!1))},[F]),g.useEffect(()=>{t.ov||(A(""),k([]),P(!1),L({}),$({}),V({}))},[t.ov]);const Bt=z=>{const Z=v.find(te=>te.id===z.id);b(Z?v.map(te=>te.id===z.id?{...te,quantidade:te.quantidade+1}:te):[...v,{...z,quantidade:1}]),r({title:"Produto adicionado!",description:`${z.nome} foi adicionado ao carrinho`})},Rn=z=>{b(v.filter(Z=>Z.id!==z)),r({title:"Produto removido!",description:"Produto removido do carrinho"})},Dn=(z,Z)=>{if(Z<=0){Rn(z);return}b(v.map(te=>te.id===z?{...te,quantidade:Z}:te))},Jn=()=>v.reduce((z,Z)=>z+Z.preco*Z.quantidade,0),$r=()=>{if(v.length===0){r({title:"Carrinho vazio!",description:"Adicione produtos ao carrinho antes de finalizar",variant:"destructive"});return}if(!j){r({title:"Cliente no informado!",description:"Selecione um cliente antes de finalizar",variant:"destructive"});return}K(!0)},Tr=()=>{b([]),R(null),setClienteDigitado(""),E("selecionar"),ae([]),Ue({tipo:"porcentagem",valor:0}),r({title:"Venda cancelada",description:"Carrinho limpo"})},wn=()=>{ae([...ie,{id:Date.now(),tipo:"dinheiro",valor:0,observacao:""}])},Nr=z=>{ae(ie.filter(Z=>Z.id!==z))},Zn=(z,Z,te)=>{ae(ie.map(pe=>pe.id===z?{...pe,[Z]:te}:pe))},Gt=()=>{const z=Jn();return me.tipo==="porcentagem"?z*(1-me.valor/100):Math.max(0,z-me.valor)},On=()=>ie.reduce((z,Z)=>z+Z.valor,0),J=async z=>{try{for(const Z of z){const te=c.find(pe=>pe.id===Z.produtoId);if(te){const pe=te.quantidade-Z.quantidade;await u({...te,quantidade:pe},te.id),await f({produtoId:Z.produtoId,produto:Z.nome,tipo:"saida",quantidade:Z.quantidade,observacao:`Venda - OV ${s.length+1}`,data:new Date().toISOString(),usuario:"Sistema",createdAt:new Date().toISOString()}),console.log(` Baixa realizada: ${Z.nome} - ${Z.quantidade} unidades`)}}r({title:"Estoque atualizado!",description:"Baixa realizada com sucesso no estoque"})}catch(Z){console.error(" Erro ao dar baixa no estoque:",Z),r({title:"Erro no estoque!",description:"Erro ao atualizar o estoque. Verifique manualmente.",variant:"destructive"})}},Be=async()=>{const z=Gt(),Z=On();if(Z<z){r({title:"Valor insuficiente!",description:`Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z)} | Pago: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Z)}`,variant:"destructive"});return}const te={numero:`OV${String(s.length+1).padStart(4,"0")}`,clienteId:j.id||null,clienteNome:j.nome,produtos:v.map(pe=>({produtoId:pe.id,nome:pe.nome,preco:pe.preco,quantidade:pe.quantidade})),status:"Concluda",total:z,desconto:me,formasPagamento:ie,troco:Z-z,createdAt:new Date().toISOString()};try{await Le(te),await J(v),ct(te,"add"),b([]),R(null),setClienteDigitado(""),E("selecionar"),ae([]),Ue({tipo:"porcentagem",valor:0}),K(!1),r({title:"Venda finalizada!",description:`OV criada com sucesso. Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z)}. Estoque atualizado.`})}catch(pe){console.error("[OV] Erro ao finalizar pagamento:",pe),r({title:"Erro!",description:"Erro ao finalizar a venda.",variant:"destructive"})}},Ee=c.filter(z=>{const Z=z.nome.toLowerCase().includes(p.toLowerCase())||z.codigo.toLowerCase().includes(p.toLowerCase()),te=y==="todas"||z.categoriaId===y;return Z&&te}),We=new Date().toISOString().slice(0,10),we=s.filter(z=>{var te,pe;return((te=z.createdAt)!=null&&te.toDate?z.createdAt.toDate().toISOString().slice(0,10):(pe=z.createdAt)==null?void 0:pe.slice(0,10))===We}).sort((z,Z)=>{var er,U;const te=(er=z.createdAt)!=null&&er.toDate?z.createdAt.toDate():new Date(z.createdAt),pe=(U=Z.createdAt)!=null&&U.toDate?Z.createdAt.toDate():new Date(Z.createdAt);return Ie==="recentes"?pe-te:te-pe}),vt=we.filter(z=>z.clienteNome.toLowerCase().includes(S.toLowerCase())||z.numero.toLowerCase().includes(S.toLowerCase())),Ye=z=>{switch(z){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Processando":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluda":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelada":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Ordens de Venda"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Catlogo de produtos e carrinho de vendas"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Wn,{open:t.ov,onOpenChange:nt,children:[a.jsxs(Q,{onClick:()=>Qe(),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Nova OV Manual"]}),a.jsxs(En,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(Cn,{children:a.jsxs(Tn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(fs,{className:"h-6 w-6 text-blue-500"}),q?"Editar OV":"Nova Ordem de Venda"]})}),a.jsxs("form",{onSubmit:lr,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Xr,{className:"h-5 w-5 text-blue-500"}),"Informaes do Cliente"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Cliente Cadastrado"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(fe,{value:T,onChange:z=>de(z.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),a.jsx(Rr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),N&&I.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:I.map(z=>a.jsx("div",{onClick:()=>{ke({...re,clienteId:z.id.toString(),clienteNome:z.nome}),A(z.nome),P(!1)},className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx(Xr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:z.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:[z.telefone," ",z.email&&` ${z.email}`]})]})]})},z.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Digite o nome, telefone ou email do cliente para buscar"}),l.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:" Cadastre clientes no mdulo Clientes primeiro"})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"clienteNome",className:"text-sm font-medium",children:"Nome do Cliente"}),a.jsx(fe,{id:"clienteNome",value:re.clienteNome,onChange:z=>ke({...re,clienteNome:z.target.value}),placeholder:"Digite o nome do cliente",className:"mt-1",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use este campo se o cliente no estiver cadastrado"})]})]}),re.clienteNome&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:[" Cliente: ",a.jsx("span",{className:"font-semibold",children:re.clienteNome})]})})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Gn,{className:"h-5 w-5 text-green-500"}),"Produtos"]}),a.jsxs(Q,{type:"button",onClick:Ot,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[a.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Adicionar Produto"]})]}),a.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:re.produtos.map((z,Z)=>{var te;return a.jsxs("div",{className:"bg-white dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white",children:["Produto ",Z+1]}),re.produtos.length>1&&a.jsx(Q,{type:"button",variant:"ghost",size:"icon",onClick:()=>ft(Z),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Zr,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Produto Cadastrado"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(fe,{value:D[Z]||"",onChange:pe=>ot(Z,pe.target.value),placeholder:"Digite o nome ou cdigo do produto...",className:"pr-10"}),a.jsx(Rr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),M[Z]&&((te=B[Z])==null?void 0:te.length)>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:B[Z].map(pe=>a.jsx("div",{onClick:()=>xt(Z,pe),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[pe.imagem&&a.jsx("img",{src:pe.imagem,alt:pe.nome,className:"w-8 h-8 object-cover rounded border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:pe.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Cdigo: ",pe.codigo," | Estoque: ",pe.quantidade," | ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(pe.preco)]})]})]})},pe.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Digite o nome ou cdigo do produto para buscar"}),c.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:" Cadastre produtos no mdulo Estoque primeiro"})]}),a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Nome do Produto"}),a.jsx(fe,{value:z.nome,onChange:pe=>gt(Z,"nome",pe.target.value),placeholder:"Nome do produto",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Preo Unitrio"}),a.jsx(fe,{type:"number",step:"0.01",value:z.preco,onChange:pe=>gt(Z,"preco",pe.target.value),placeholder:"0.00",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Quantidade"}),a.jsx(fe,{type:"number",min:"1",value:z.quantidade,onChange:pe=>gt(Z,"quantidade",pe.target.value),className:"mt-1"})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Subtotal:"}),a.jsx("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z.preco*z.quantidade)})]})})]},Z)})})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"status",className:"text-sm font-medium",children:"Status da OV"}),a.jsxs(ut,{value:re.status,onValueChange:z=>ke({...re,status:z}),className:"mt-1",children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"Pendente",children:"Pendente"}),a.jsx(oe,{value:"Processando",children:"Processando"}),a.jsx(oe,{value:"Concluda",children:"Concluda"}),a.jsx(oe,{value:"Cancelada",children:"Cancelada"})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Total da OV"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(re.total)})]})})]})}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2",children:q?"Atualizar OV":"Criar OV"}),a.jsx(Q,{type:"button",variant:"outline",onClick:nt,className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(Q,{onClick:()=>le(!0),variant:"outline",className:"border-blue-500 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:["Ver OVs do Dia (",we.length,")"]})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(fe,{placeholder:"Buscar produtos...",value:p,onChange:z=>m(z.target.value),className:"pl-10"})]}),a.jsxs(ut,{value:y,onValueChange:x,children:[a.jsx(at,{className:"w-48",children:a.jsx(dt,{placeholder:"Categoria"})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"todas",children:"Todas as categorias"}),d.map(z=>a.jsx(oe,{value:z.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:z.cor}}),z.nome]})},z.id))]})]})]}),a.jsx("div",{className:"space-y-6",children:d.map(z=>{const Z=Ee.filter(te=>te.categoriaId===z.id);return Z.length===0?null:a.jsxs("div",{children:[a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 border rounded-lg p-3 mb-4",style:{borderColor:z.cor},children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:z.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:z.nome}),a.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[Z.length," produtos"]})]})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:Z.map((te,pe)=>a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:pe*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex gap-3",children:[te.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:te.imagem,alt:te.nome,className:"w-16 h-16 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:te.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Cdigo: ",te.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Nn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(te.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Gn,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${te.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[te.quantidade," ",te.quantidade<=5&&"(Baixo)"]})]})]}),a.jsxs(Q,{size:"sm",onClick:()=>Bt(te),className:"w-full mt-2 bg-green-500 hover:bg-green-600 text-white",disabled:te.quantidade<=0,children:[a.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})]})},te.id))})]},z.id)})}),Ee.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Gn,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:p?"Nenhum produto encontrado":"Nenhum produto cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:p?"Tente buscar com outros termos":"Cadastre produtos no mdulo de Estoque"})]})]}),a.jsxs("div",{className:"w-80 bg-white dark:bg-slate-800 rounded-lg border p-4 h-fit sticky top-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(fs,{className:"h-5 w-5"}),"Carrinho"]}),v.length>0&&a.jsx(Q,{size:"sm",variant:"outline",onClick:Tr,children:a.jsx(_r,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs(ne,{className:"text-sm font-medium",children:["Cliente ",l.length>0&&`(${l.length} cadastrados)`]}),a.jsx("div",{className:"mb-2",children:a.jsx("span",{className:"text-xs text-slate-500",children:l.length===0?"Nenhum cliente encontrado":`${l.length} cliente(s) disponvel(is)`})}),a.jsx("div",{className:"space-y-2 mb-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(fe,{value:T,onChange:z=>de(z.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),a.jsx(Rr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),N&&I.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:I.map(z=>a.jsx("div",{onClick:()=>Se(z),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx(Xr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:z.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:[z.telefone," ",z.email&&` ${z.email}`]})]})]})},z.id))})]}),a.jsx("p",{className:"text-xs text-slate-500",children:" Digite o nome, telefone ou email do cliente para buscar"}),j&&a.jsxs("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:[" Cliente selecionado: ",j.nome]}),l.length===0&&a.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:" Nenhum cliente cadastrado. Digite o nome do cliente abaixo."})]})})]}),a.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:v.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(fs,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Seu carrinho est vazio"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Adicione produtos do catlogo"})]}):v.map(z=>a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:z.nome}),a.jsx("p",{className:"text-xs text-slate-500",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z.preco)})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Dn(z.id,z.quantidade-1),className:"h-6 w-6 p-0",children:a.jsx(Y9,{className:"h-3 w-3"})}),a.jsx("span",{className:"text-sm w-6 text-center",children:z.quantidade}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Dn(z.id,z.quantidade+1),className:"h-6 w-6 p-0",children:a.jsx(Ir,{className:"h-3 w-3"})})]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Rn(z.id),className:"h-6 w-6 p-0 text-red-500",children:a.jsx(_r,{className:"h-3 w-3"})})]},z.id))}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"font-semibold",children:"Total:"}),a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",Jn().toFixed(2)]})]}),a.jsx(Q,{onClick:$r,className:"w-full bg-green-600 hover:bg-green-700",disabled:v.length===0||!j,children:"Finalizar Venda"})]})]})]}),a.jsx(Wn,{open:Ae,onOpenChange:le,children:a.jsxs(En,{className:"max-w-7xl max-h-[95vh] flex flex-col bg-white dark:bg-slate-900",children:[a.jsxs(Cn,{className:"pb-4 flex-shrink-0",children:[a.jsxs(Tn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(fs,{className:"h-6 w-6 text-blue-500"}),"Ordens de Venda do Dia",a.jsxs("span",{className:"text-lg font-normal text-slate-500",children:["(",we.length," OVs)"]})]}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Todas as ordens de venda criadas hoje (",new Date().toLocaleDateString("pt-BR"),")"]})]}),a.jsxs("div",{className:"mb-6 space-y-4 flex-shrink-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(fe,{placeholder:"Buscar OVs por cliente ou nmero...",value:S,onChange:z=>_(z.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Ordenar por:"}),a.jsxs(ut,{value:Ie,onValueChange:Ke,children:[a.jsx(at,{className:"w-48",children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"recentes",children:"Mais Recentes"}),a.jsx(oe,{value:"antigas",children:"Mais Antigas"})]})]})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[vt.length," OV(s) encontrada(s)"]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",maxHeight:"calc(95vh - 200px)"},children:[a.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),vt.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(fs,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-slate-900 dark:text-white mb-2",children:S?"Nenhuma OV encontrada":"Nenhuma OV criada hoje"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:S?"Tente buscar com outros termos":"As OVs criadas hoje aparecero aqui"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:vt.map((z,Z)=>{var te;return a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Z*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:z.numero}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ye(z.status)}`,children:z.status})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>Qe(z),className:"h-7 w-7 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/20",children:a.jsx(ys,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>cr(z.id),className:"h-7 w-7 p-0 text-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20",children:a.jsx(Zr,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(Xr,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:z.clienteNome})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[a.jsx(fs,{className:"h-4 w-4"}),a.jsxs("span",{children:[z.produtos.length," produto(s)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z.total)})]})]}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date((te=z.createdAt)!=null&&te.toDate?z.createdAt.toDate():z.createdAt).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})})]}),a.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:a.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:z.produtos.map((pe,er)=>a.jsxs("div",{className:"flex justify-between items-center text-xs bg-slate-50 dark:bg-slate-700/50 p-2 rounded",children:[a.jsx("span",{className:"font-medium truncate flex-1 mr-2",children:pe.nome}),a.jsxs("span",{className:"text-slate-500 whitespace-nowrap",children:[pe.quantidade,"x ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(pe.preco)]})]},er))})})]})},z.id)})})]})]})}),a.jsx(Wn,{open:G,onOpenChange:K,children:a.jsxs(En,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(Cn,{children:a.jsx(Tn,{children:"Finalizar Venda - Formas de Pagamento"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Resumo da Venda"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cliente:"}),a.jsx("span",{className:"font-medium",children:j==null?void 0:j.nome})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Original:"}),a.jsxs("span",{children:["R$ ",Jn().toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Desconto:"}),a.jsx("span",{className:"text-red-600",children:me.valor>0?me.tipo==="porcentagem"?`${me.valor}% (${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Jn()*me.valor/100)})`:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(me.valor):a.jsx("span",{className:"text-slate-500",children:"Nenhum desconto"})})]}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[a.jsx("span",{children:"Total Final:"}),a.jsxs("span",{className:"text-green-600",children:["R$ ",Gt().toFixed(2)]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold",children:"Desconto"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ut,{value:me.tipo,onValueChange:z=>Ue({...me,tipo:z}),children:[a.jsx(at,{className:"w-32",children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"porcentagem",children:"%"}),a.jsx(oe,{value:"valor",children:"R$"})]})]}),a.jsx(fe,{type:"number",step:me.tipo==="porcentagem"?"1":"0.01",min:"0",max:me.tipo==="porcentagem"?"100":Jn(),value:me.valor,onChange:z=>Ue({...me,valor:parseFloat(z.target.value)||0}),placeholder:"0",className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold",children:"Formas de Pagamento"}),a.jsxs(Q,{size:"sm",onClick:wn,children:[a.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),a.jsx("div",{className:"space-y-3",children:ie.map((z,Z)=>a.jsxs("div",{className:"flex gap-3 items-center p-3 border rounded-lg",children:[a.jsxs(ut,{value:z.tipo,onValueChange:te=>Zn(z.id,"tipo",te),children:[a.jsx(at,{className:"w-32",children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"dinheiro",children:"Dinheiro"}),a.jsx(oe,{value:"cartao_debito",children:"Carto Dbito"}),a.jsx(oe,{value:"cartao_credito",children:"Carto Crdito"}),a.jsx(oe,{value:"pix",children:"PIX"}),a.jsx(oe,{value:"cheque",children:"Cheque"}),a.jsx(oe,{value:"outros",children:"Outros"})]})]}),a.jsx(fe,{type:"number",step:"0.01",min:"0",value:z.valor,onChange:te=>Zn(z.id,"valor",parseFloat(te.target.value)||0),placeholder:"Valor",className:"flex-1"}),a.jsx(fe,{value:z.observacao,onChange:te=>Zn(z.id,"observacao",te.target.value),placeholder:"Observao",className:"flex-1"}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Nr(z.id),className:"text-red-500",children:a.jsx(_r,{className:"h-4 w-4"})})]},z.id))})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Pago:"}),a.jsxs("span",{className:"font-semibold",children:["R$ ",On().toFixed(2)]})]}),On()>Gt()&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Troco:"}),a.jsxs("span",{className:"font-semibold",children:["R$ ",(On()-Gt()).toFixed(2)]})]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Q,{onClick:Be,className:"flex-1 bg-green-600 hover:bg-green-700",disabled:ie.length===0||On()<Gt(),children:"Finalizar Pagamento"}),a.jsx(Q,{variant:"outline",onClick:()=>K(!1),className:"flex-1",children:"Cancelar"})]})]})]})})]})};var dg={exports:{}},UO={};function BO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=BO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function JT(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=BO(t))&&(r&&(r+=" "),r+=e);return r}const dX=Object.freeze(Object.defineProperty({__proto__:null,clsx:JT,default:JT},Symbol.toStringTag,{value:"Module"})),hX=XM(dX);var Ht={},so={};Object.defineProperty(so,"__esModule",{value:!0});so.dontSetMe=vX;so.findInArray=fX;so.int=gX;so.isFunction=pX;so.isNum=mX;function fX(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function pX(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function mX(t){return typeof t=="number"&&!isNaN(t)}function gX(t){return parseInt(t,10)}function vX(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.browserPrefixToKey=qO;ol.browserPrefixToStyle=yX;ol.default=void 0;ol.getPrefix=$O;const Kv=["Moz","Webkit","O","ms"];function $O(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Kv.length;r++)if(qO(e,Kv[r])in n)return Kv[r];return""}function qO(t,e){return e?"".concat(e).concat(xX(t)):t}function yX(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function xX(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}ol.default=$O();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.addClassName=GO;Ht.addEvent=_X;Ht.addUserSelectStyles=RX;Ht.createCSSTransform=jX;Ht.createSVGTransform=PX;Ht.getTouch=AX;Ht.getTouchIdentifier=IX;Ht.getTranslation=c1;Ht.innerHeight=TX;Ht.innerWidth=NX;Ht.matchesSelector=HO;Ht.matchesSelectorAndParentsTo=bX;Ht.offsetXYFromParent=kX;Ht.outerHeight=EX;Ht.outerWidth=CX;Ht.removeClassName=KO;Ht.removeEvent=SX;Ht.removeUserSelectStyles=DX;var Fr=so,ZT=wX(ol);function WO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(WO=function(r){return r?n:e})(t)}function wX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=WO(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var i=s?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let nf="";function HO(t,e){return nf||(nf=(0,Fr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Fr.isFunction)(t[n])})),(0,Fr.isFunction)(t[nf])?t[nf](e):!1}function bX(t,e,n){let r=t;do{if(HO(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function _X(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function SX(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function EX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Fr.int)(n.borderTopWidth),e+=(0,Fr.int)(n.borderBottomWidth),e}function CX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Fr.int)(n.borderLeftWidth),e+=(0,Fr.int)(n.borderRightWidth),e}function TX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Fr.int)(n.paddingTop),e-=(0,Fr.int)(n.paddingBottom),e}function NX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Fr.int)(n.paddingLeft),e-=(0,Fr.int)(n.paddingRight),e}function kX(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-s.left)/n,i=(t.clientY+e.scrollTop-s.top)/n;return{x:o,y:i}}function jX(t,e){const n=c1(t,e,"px");return{[(0,ZT.browserPrefixToKey)("transform",ZT.default)]:n}}function PX(t,e){return c1(t,e,"")}function c1(t,e,n){let{x:r,y:s}=t,o="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const i="".concat(typeof e.x=="string"?e.x:e.x+n),l="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(i,", ").concat(l,")")+o}return o}function AX(t,e){return t.targetTouches&&(0,Fr.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Fr.findInArray)(t.changedTouches,n=>e===n.identifier)}function IX(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function RX(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&GO(t.body,"react-draggable-transparent-selection")}function DX(t){if(t)try{if(t.body&&KO(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function GO(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function KO(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.canDragX=LX;oo.canDragY=FX;oo.createCoreData=zX;oo.createDraggableData=UX;oo.getBoundPosition=OX;oo.getControlPosition=VX;oo.snapToGrid=MX;var jr=so,Ml=Ht;function OX(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:BX(r);const s=u1(t);if(typeof r=="string"){const{ownerDocument:o}=s,i=o.defaultView;let l;if(r==="parent"?l=s.parentNode:l=o.querySelector(r),!(l instanceof i.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=l,u=i.getComputedStyle(s),d=i.getComputedStyle(c);r={left:-s.offsetLeft+(0,jr.int)(d.paddingLeft)+(0,jr.int)(u.marginLeft),top:-s.offsetTop+(0,jr.int)(d.paddingTop)+(0,jr.int)(u.marginTop),right:(0,Ml.innerWidth)(c)-(0,Ml.outerWidth)(s)-s.offsetLeft+(0,jr.int)(d.paddingRight)-(0,jr.int)(u.marginRight),bottom:(0,Ml.innerHeight)(c)-(0,Ml.outerHeight)(s)-s.offsetTop+(0,jr.int)(d.paddingBottom)-(0,jr.int)(u.marginBottom)}}return(0,jr.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,jr.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,jr.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,jr.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function MX(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function LX(t){return t.props.axis==="both"||t.props.axis==="x"}function FX(t){return t.props.axis==="both"||t.props.axis==="y"}function VX(t,e,n){const r=typeof e=="number"?(0,Ml.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=u1(n),o=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Ml.offsetXYFromParent)(r||t,o,n.props.scale)}function zX(t,e,n){const r=!(0,jr.isNum)(t.lastX),s=u1(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function UX(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function BX(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function u1(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var hg={},fg={};Object.defineProperty(fg,"__esModule",{value:!0});fg.default=$X;function $X(){}Object.defineProperty(hg,"__esModule",{value:!0});hg.default=void 0;var Yv=WX(g),ur=d1(cw),qX=d1(Ts),Un=Ht,Ko=oo,Qv=so,uu=d1(fg);function d1(t){return t&&t.__esModule?t:{default:t}}function YO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(YO=function(r){return r?n:e})(t)}function WX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=YO(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var i=s?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function tr(t,e,n){return e=HX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HX(t){var e=GX(t,"string");return typeof e=="symbol"?e:String(e)}function GX(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ls={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Yo=ls.mouse,pg=class extends Yv.Component{constructor(){super(...arguments),tr(this,"dragging",!1),tr(this,"lastX",NaN),tr(this,"lastY",NaN),tr(this,"touchIdentifier",null),tr(this,"mounted",!1),tr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Un.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Un.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,Un.getTouchIdentifier)(e);this.touchIdentifier=s;const o=(0,Ko.getControlPosition)(e,s,this);if(o==null)return;const{x:i,y:l}=o,c=(0,Ko.createCoreData)(this,i,l);(0,uu.default)("DraggableCore: handleDragStart: %j",c),(0,uu.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Un.addUserSelectStyles)(r),this.dragging=!0,this.lastX=i,this.lastY=l,(0,Un.addEvent)(r,Yo.move,this.handleDrag),(0,Un.addEvent)(r,Yo.stop,this.handleDragStop))}),tr(this,"handleDrag",e=>{const n=(0,Ko.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX,c=s-this.lastY;if([l,c]=(0,Ko.snapToGrid)(this.props.grid,l,c),!l&&!c)return;r=this.lastX+l,s=this.lastY+c}const o=(0,Ko.createCoreData)(this,r,s);if((0,uu.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),tr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Ko.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,u=s-this.lastY||0;[c,u]=(0,Ko.snapToGrid)(this.props.grid,c,u),r=this.lastX+c,s=this.lastY+u}const o=(0,Ko.createCoreData)(this,r,s);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,Un.removeUserSelectStyles)(l.ownerDocument),(0,uu.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,uu.default)("DraggableCore: Removing handlers"),(0,Un.removeEvent)(l.ownerDocument,Yo.move,this.handleDrag),(0,Un.removeEvent)(l.ownerDocument,Yo.stop,this.handleDragStop))}),tr(this,"onMouseDown",e=>(Yo=ls.mouse,this.handleDragStart(e))),tr(this,"onMouseUp",e=>(Yo=ls.mouse,this.handleDragStop(e))),tr(this,"onTouchStart",e=>(Yo=ls.touch,this.handleDragStart(e))),tr(this,"onTouchEnd",e=>(Yo=ls.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Un.addEvent)(e,ls.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Un.removeEvent)(n,ls.mouse.move,this.handleDrag),(0,Un.removeEvent)(n,ls.touch.move,this.handleDrag),(0,Un.removeEvent)(n,ls.mouse.stop,this.handleDragStop),(0,Un.removeEvent)(n,ls.touch.stop,this.handleDragStop),(0,Un.removeEvent)(e,ls.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Un.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:qX.default.findDOMNode(this)}render(){return Yv.cloneElement(Yv.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};hg.default=pg;tr(pg,"displayName","DraggableCore");tr(pg,"propTypes",{allowAnyClick:ur.default.bool,children:ur.default.node.isRequired,disabled:ur.default.bool,enableUserSelectHack:ur.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ur.default.arrayOf(ur.default.number),handle:ur.default.string,cancel:ur.default.string,nodeRef:ur.default.object,onStart:ur.default.func,onDrag:ur.default.func,onStop:ur.default.func,onMouseDown:ur.default.func,scale:ur.default.number,className:Qv.dontSetMe,style:Qv.dontSetMe,transform:Qv.dontSetMe});tr(pg,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=p(g),n=d(cw),r=d(Ts),s=d(hX),o=Ht,i=oo,l=so,c=d(hg),u=d(fg);function d(v){return v&&v.__esModule?v:{default:v}}function f(v){if(typeof WeakMap!="function")return null;var b=new WeakMap,j=new WeakMap;return(f=function(R){return R?j:b})(v)}function p(v,b){if(!b&&v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var j=f(b);if(j&&j.has(v))return j.get(v);var R={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in v)if(E!=="default"&&Object.prototype.hasOwnProperty.call(v,E)){var T=F?Object.getOwnPropertyDescriptor(v,E):null;T&&(T.get||T.set)?Object.defineProperty(R,E,T):R[E]=v[E]}return R.default=v,j&&j.set(v,R),R}function m(){return m=Object.assign?Object.assign.bind():function(v){for(var b=1;b<arguments.length;b++){var j=arguments[b];for(var R in j)Object.prototype.hasOwnProperty.call(j,R)&&(v[R]=j[R])}return v},m.apply(this,arguments)}function y(v,b,j){return b=x(b),b in v?Object.defineProperty(v,b,{value:j,enumerable:!0,configurable:!0,writable:!0}):v[b]=j,v}function x(v){var b=S(v,"string");return typeof b=="symbol"?b:String(b)}function S(v,b){if(typeof v!="object"||v===null)return v;var j=v[Symbol.toPrimitive];if(j!==void 0){var R=j.call(v,b||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(v)}class _ extends e.Component{static getDerivedStateFromProps(b,j){let{position:R}=b,{prevPropsPosition:F}=j;return R&&(!F||R.x!==F.x||R.y!==F.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:F}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(b){super(b),y(this,"onDragStart",(j,R)=>{if((0,u.default)("Draggable: onDragStart: %j",R),this.props.onStart(j,(0,i.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(j,R)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",R);const F=(0,i.createDraggableData)(this,R),E={x:F.x,y:F.y,slackX:0,slackY:0};if(this.props.bounds){const{x:A,y:I}=E;E.x+=this.state.slackX,E.y+=this.state.slackY;const[k,N]=(0,i.getBoundPosition)(this,E.x,E.y);E.x=k,E.y=N,E.slackX=this.state.slackX+(A-E.x),E.slackY=this.state.slackY+(I-E.y),F.x=E.x,F.y=E.y,F.deltaX=E.x-this.state.x,F.deltaY=E.y-this.state.y}if(this.props.onDrag(j,F)===!1)return!1;this.setState(E)}),y(this,"onDragStop",(j,R)=>{if(!this.state.dragging||this.props.onStop(j,(0,i.createDraggableData)(this,R))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",R);const E={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:A,y:I}=this.props.position;E.x=A,E.y=I}this.setState(E)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,j;return(b=(j=this.props)===null||j===void 0||(j=j.nodeRef)===null||j===void 0?void 0:j.current)!==null&&b!==void 0?b:r.default.findDOMNode(this)}render(){const{axis:b,bounds:j,children:R,defaultPosition:F,defaultClassName:E,defaultClassNameDragging:T,defaultClassNameDragged:A,position:I,positionOffset:k,scale:N,...P}=this.props;let D={},L=null;const $=!!!I||this.state.dragging,M=I||F,V={x:(0,i.canDragX)(this)&&$?this.state.x:M.x,y:(0,i.canDragY)(this)&&$?this.state.y:M.y};this.state.isElementSVG?L=(0,o.createSVGTransform)(V,k):D=(0,o.createCSSTransform)(V,k);const G=(0,s.default)(R.props.className||"",E,{[T]:this.state.dragging,[A]:this.state.dragged});return e.createElement(c.default,m({},P,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(R),{className:G,style:{...R.props.style,...D},transform:L}))}}t.default=_,y(_,"displayName","Draggable"),y(_,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),y(_,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(UO);const{default:QO,DraggableCore:KX}=UO;dg.exports=QO;dg.exports.default=QO;dg.exports.DraggableCore=KX;var YX=dg.exports;const QX=Qa(YX);var en=globalThis&&globalThis.__assign||function(){return en=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},en.apply(this,arguments)},eN={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},tN={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},rf={width:"20px",height:"20px",position:"absolute",zIndex:1},XX={top:en(en({},eN),{top:"-5px"}),right:en(en({},tN),{left:void 0,right:"-5px"}),bottom:en(en({},eN),{top:void 0,bottom:"-5px"}),left:en(en({},tN),{left:"-5px"}),topRight:en(en({},rf),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:en(en({},rf),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:en(en({},rf),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:en(en({},rf),{left:"-10px",top:"-10px",cursor:"nw-resize"})},JX=g.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,s=t.replaceStyles,o=t.className,i=g.useCallback(function(u){e(u,n)},[e,n]),l=g.useCallback(function(u){e(u,n)},[e,n]),c=g.useMemo(function(){return en(en({position:"absolute",userSelect:"none"},XX[n]),s??{})},[s,n]);return a.jsx("div",{className:o||void 0,style:c,onMouseDown:i,onTouchStart:l,children:r})}),ZX=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ds=globalThis&&globalThis.__assign||function(){return Ds=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ds.apply(this,arguments)},eJ={width:"auto",height:"auto"},sf=function(t,e,n){return Math.max(Math.min(t,n),e)},nN=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},fl=function(t,e){return new RegExp(t,"i").test(e)},of=function(t){return!!(t.touches&&t.touches.length)},tJ=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},rN=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(o,i,l){return Math.abs(i-t)<Math.abs(e[o]-t)?l:o},0),s=Math.abs(e[r]-t);return n===0||s<n?e[r]:t},Xv=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},af=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var s=Number(t.replace("%",""))/100;return e*s}if(t.endsWith("vw")){var s=Number(t.replace("vw",""))/100;return n*s}if(t.endsWith("vh")){var s=Number(t.replace("vh",""))/100;return r*s}}return t},nJ=function(t,e,n,r,s,o,i){return r=af(r,t.width,e,n),s=af(s,t.height,e,n),o=af(o,t.width,e,n),i=af(i,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof i>"u"?void 0:Number(i)}},rJ=function(t){return Array.isArray(t)?t:[t,t]},sJ=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],sN="__resizable_base__",oJ=function(t){ZX(e,t);function e(n){var r,s,o,i,l=t.call(this,n)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var c=l.parentNode;if(!c)return null;var u=l.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(sN):u.className+=sN,c.appendChild(u),u},l.removeBase=function(c){var u=l.parentNode;u&&u.removeChild(c)},l.state={isResizing:!1,width:(s=(r=l.propsSize)===null||r===void 0?void 0:r.width)!==null&&s!==void 0?s:"auto",height:(i=(o=l.propsSize)===null||o===void 0?void 0:o.height)!==null&&i!==void 0?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||eJ},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,o=this.resizable.offsetHeight,i=this.resizable.style.position;i!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=i}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,s=function(l){var c;if(typeof n.state[l]>"u"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&(!((c=n.propsSize[l])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var u=n.getParentSize(),d=Number(n.state[l].toString().replace("px","")),f=d/u[l]*100;return"".concat(f,"%")}return Xv(n.state[l])},o=r&&typeof r.width<"u"&&!this.state.isResizing?Xv(r.width):s("width"),i=r&&typeof r.height<"u"&&!this.state.isResizing?Xv(r.height):s("height");return{width:o,height:i}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=s),this.removeBase(n),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var s=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof s>"u"||s==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var s=this.props.boundsByDirection,o=this.state.direction,i=s&&fl("left",o),l=s&&fl("top",o),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=i?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=l?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var s=this.props.scale||1,o=rJ(this.props.resizeRatio||1),i=o[0],l=o[1],c=this.state,u=c.direction,d=c.original,f=this.props,p=f.lockAspectRatio,m=f.lockAspectRatioExtraHeight,y=f.lockAspectRatioExtraWidth,x=d.width,S=d.height,_=m||0,v=y||0;return fl("right",u)&&(x=d.width+(n-d.x)*i/s,p&&(S=(x-v)/this.ratio+_)),fl("left",u)&&(x=d.width-(n-d.x)*i/s,p&&(S=(x-v)/this.ratio+_)),fl("bottom",u)&&(S=d.height+(r-d.y)*l/s,p&&(x=(S-_)*this.ratio+v)),fl("top",u)&&(S=d.height-(r-d.y)*l/s,p&&(x=(S-_)*this.ratio+v)),{newWidth:x,newHeight:S}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,s,o){var i=this.props,l=i.lockAspectRatio,c=i.lockAspectRatioExtraHeight,u=i.lockAspectRatioExtraWidth,d=typeof o.width>"u"?10:o.width,f=typeof s.width>"u"||s.width<0?n:s.width,p=typeof o.height>"u"?10:o.height,m=typeof s.height>"u"||s.height<0?r:s.height,y=c||0,x=u||0;if(l){var S=(p-y)*this.ratio+x,_=(m-y)*this.ratio+x,v=(d-x)/this.ratio+y,b=(f-x)/this.ratio+y,j=Math.max(d,S),R=Math.min(f,_),F=Math.max(p,v),E=Math.min(m,b);n=sf(n,j,R),r=sf(r,F,E)}else n=sf(n,d,f),r=sf(r,p,m);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var s=r.getBoundingClientRect();this.parentLeft=s.left*n,this.parentTop=s.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var i=this.resizable.getBoundingClientRect(),l=i.left,c=i.top,u=i.right,d=i.bottom;this.resizableLeft=l*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var s=0,o=0;if(n.nativeEvent&&tJ(n.nativeEvent)?(s=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&of(n.nativeEvent)&&(s=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var i=this.props.onResizeStart(n,r,this.resizable);if(i===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",l=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:s,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Ds(Ds({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(f)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&of(n))try{n.preventDefault(),n.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,i=s.maxHeight,l=s.minWidth,c=s.minHeight,u=of(n)?n.touches[0].clientX:n.clientX,d=of(n)?n.touches[0].clientY:n.clientY,f=this.state,p=f.direction,m=f.original,y=f.width,x=f.height,S=this.getParentSize(),_=nJ(S,this.window.innerWidth,this.window.innerHeight,o,i,l,c);o=_.maxWidth,i=_.maxHeight,l=_.minWidth,c=_.minHeight;var v=this.calculateNewSizeFromDirection(u,d),b=v.newHeight,j=v.newWidth,R=this.calculateNewMaxFromBoundary(o,i);this.props.snap&&this.props.snap.x&&(j=rN(j,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=rN(b,this.props.snap.y,this.props.snapGap));var F=this.calculateNewSizeFromAspectRatio(j,b,{width:R.maxWidth,height:R.maxHeight},{width:l,height:c});if(j=F.newWidth,b=F.newHeight,this.props.grid){var E=nN(j,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),T=nN(b,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),A=this.props.snapGap||0,I=A===0||Math.abs(E-j)<=A?E:j,k=A===0||Math.abs(T-b)<=A?T:b;j=I,b=k}var N={width:j-m.width,height:b-m.height};if(this.delta=N,y&&typeof y=="string"){if(y.endsWith("%")){var P=j/S.width*100;j="".concat(P,"%")}else if(y.endsWith("vw")){var D=j/this.window.innerWidth*100;j="".concat(D,"vw")}else if(y.endsWith("vh")){var L=j/this.window.innerHeight*100;j="".concat(L,"vh")}}if(x&&typeof x=="string"){if(x.endsWith("%")){var P=b/S.height*100;b="".concat(P,"%")}else if(x.endsWith("vw")){var D=b/this.window.innerWidth*100;b="".concat(D,"vw")}else if(x.endsWith("vh")){var L=b/this.window.innerHeight*100;b="".concat(L,"vh")}}var B={width:this.createSizeForCssProperty(j,"width"),height:this.createSizeForCssProperty(b,"height")};this.flexDir==="row"?B.flexBasis=B.width:this.flexDir==="column"&&(B.flexBasis=B.height);var $=this.state.width!==B.width,M=this.state.height!==B.height,V=this.state.flexBasis!==B.flexBasis,G=$||M||V;G&&Ts.flushSync(function(){r.setState(B)}),this.props.onResize&&G&&this.props.onResize(n,p,this.resizable,N)}},e.prototype.onMouseUp=function(n){var r,s,o=this.state,i=o.isResizing,l=o.direction;o.original,!(!i||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,l,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Ds(Ds({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,s;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(s=n.height)!==null&&s!==void 0?s:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,s=r.enable,o=r.handleStyles,i=r.handleClasses,l=r.handleWrapperStyle,c=r.handleWrapperClass,u=r.handleComponent;if(!s)return null;var d=Object.keys(s).map(function(f){return s[f]!==!1?a.jsx(JX,{direction:f,onResizeStart:n.onResizeStart,replaceStyles:o&&o[f],className:i&&i[f],children:u&&u[f]?u[f]:null},f):null});return a.jsx("div",{className:c,style:l,children:d})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(i,l){return sJ.indexOf(l)!==-1||(i[l]=n.props[l]),i},{}),s=Ds(Ds(Ds({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return a.jsxs(o,Ds({style:s,className:this.props.className},r,{ref:function(i){i&&(n.resizable=i)},children:[this.state.isResizing&&a.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(g.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dx=function(t,e){return dx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},dx(t,e)};function iJ(t,e){dx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var un=function(){return un=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},un.apply(this,arguments)};function aJ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var lJ={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},cJ=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}};(function(t){iJ(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,s=n.top,o=this.getDraggablePosition(),i=o.x,l=o.y;this.draggable.setState({x:i-r,y:l-s}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,s=n.y;return{x:r,y:s}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var s=this.getDraggablePosition();if(this.originalPosition=s,!!this.props.bounds){var o=this.getParent(),i=this.props.scale,l;if(this.props.bounds==="parent")l=o;else if(this.props.bounds==="body"){var c=o.getBoundingClientRect(),u=c.left,d=c.top,f=document.body.getBoundingClientRect(),p=-(u-o.offsetLeft*i-f.left)/i,m=-(d-o.offsetTop*i-f.top)/i,y=(document.body.offsetWidth-this.resizable.size.width*i)/i+p,x=(document.body.offsetHeight-this.resizable.size.height*i)/i+m;return this.setState({bounds:{top:m,right:y,bottom:x,left:p}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var S=o.getBoundingClientRect(),_=S.left,v=S.top,b=-(_-o.offsetLeft*i)/i,j=-(v-o.offsetTop*i)/i,y=(window.innerWidth-this.resizable.size.width*i)/i+b,x=(window.innerHeight-this.resizable.size.height*i)/i+j;return this.setState({bounds:{top:j,right:y,bottom:x,left:b}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(o instanceof HTMLElement))){var R=l.getBoundingClientRect(),F=R.left,E=R.top,T=o.getBoundingClientRect(),A=T.left,I=T.top,k=(F-A)/i,N=E-I;if(this.resizable){this.updateOffsetFromParent();var P=this.offsetFromParent;this.setState({bounds:{top:N-P.top,right:k+(l.offsetWidth-this.resizable.size.width)-P.left/i,bottom:N+(l.offsetHeight-this.resizable.size.height)-P.top,left:k-P.left/i}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var s=this.offsetFromParent,o=s.left,i=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,un(un({},r),{x:r.x+o,y:r.y+i}));if(this.props.dragAxis==="x")return this.props.onDrag(n,un(un({},r),{x:r.x+o,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,un(un({},r),{x:this.originalPosition.x+o,y:r.y+i,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var s=this.offsetFromParent,o=s.left,i=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,un(un({},r),{x:r.x+o,y:r.y+i}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,un(un({},r),{x:r.x+o,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,un(un({},r),{x:this.originalPosition.x+o,y:r.y+i,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,s){n.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,i=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+i.left,y:l.y+i.top},this.originalPosition=l,this.props.bounds){var c=this.getParent(),u=void 0;this.props.bounds==="parent"?u=c:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(u instanceof HTMLElement||u===window)&&c instanceof HTMLElement){var f=this.getMaxSizesFromProps(),p=f.maxWidth,m=f.maxHeight,y=this.getParentSize();if(p&&typeof p=="string")if(p.endsWith("%")){var x=Number(p.replace("%",""))/100;p=y.width*x}else p.endsWith("px")&&(p=Number(p.replace("px","")));if(m&&typeof m=="string")if(m.endsWith("%")){var x=Number(m.replace("%",""))/100;m=y.height*x}else m.endsWith("px")&&(m=Number(m.replace("px","")));var S=d.getBoundingClientRect(),_=S.left,v=S.top,b=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),j=b.left,R=b.top,F=this.getOffsetWidth(u),E=this.getOffsetHeight(u),T=r.toLowerCase().endsWith("left"),A=r.toLowerCase().endsWith("right"),I=r.startsWith("top"),k=r.startsWith("bottom");if((T||I)&&this.resizable){var N=(_-j)/o+this.resizable.size.width;this.setState({maxWidth:N>Number(p)?p:N})}if(A||this.props.lockAspectRatio&&!T&&!I){var N=F+(j-_)/o;this.setState({maxWidth:N>Number(p)?p:N})}if((I||T)&&this.resizable){var N=(v-R)/o+this.resizable.size.height;this.setState({maxHeight:N>Number(m)?m:N})}if(k||this.props.lockAspectRatio&&!I&&!T){var N=E+(R-v)/o;this.setState({maxHeight:N>Number(m)?m:N})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,s)},e.prototype.onResize=function(n,r,s,o){var i=this,l={x:this.originalPosition.x,y:this.originalPosition.y},c=-o.width,u=-o.height,d=["top","left","topLeft","bottomLeft","topRight"];d.includes(r)&&(r==="bottomLeft"?l.x+=c:(r==="topRight"||(l.x+=c),l.y+=u));var f=this.draggable.state;(l.x!==f.x||l.y!==f.y)&&Ts.flushSync(function(){i.draggable.setState(l)}),this.updateOffsetFromParent();var p=this.offsetFromParent,m=this.getDraggablePosition().x+p.left,y=this.getDraggablePosition().y+p.top;this.resizingPosition={x:m,y},this.props.onResize&&this.props.onResize(n,r,s,o,{x:m,y})},e.prototype.onResizeStop=function(n,r,s,o){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),l=i.maxWidth,c=i.maxHeight;this.setState({maxWidth:l,maxHeight:c}),this.props.onResizeStop&&this.props.onResizeStop(n,r,s,o,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),s=this.getSelfElement();if(!r||s===null)return{top:0,left:0};var o=r.getBoundingClientRect(),i=o.left,l=o.top,c=s.getBoundingClientRect(),u=this.getDraggablePosition(),d=r.scrollLeft,f=r.scrollTop;this.offsetFromParent={left:c.left-i+d-u.x*n,top:c.top-l+f-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,s=r.disableDragging,o=r.style,i=r.dragHandleClassName,l=r.position,c=r.onMouseDown,u=r.onMouseUp,d=r.dragAxis,f=r.dragGrid,p=r.bounds,m=r.enableUserSelectHack,y=r.cancel,x=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var S=r.resizeHandleStyles,_=r.resizeHandleClasses,v=r.resizeHandleComponent,b=r.enableResizing,j=r.resizeGrid,R=r.resizeHandleWrapperClass,F=r.resizeHandleWrapperStyle,E=r.scale,T=r.allowAnyClick,A=r.dragPositionOffset,I=aJ(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),k=this.props.default?un({},this.props.default):void 0;delete I.default;var N=s||i?{cursor:"auto"}:{cursor:"move"},P=un(un(un({},lJ),N),o),D=this.offsetFromParent,L=D.left,B=D.top,$;l&&($={x:l.x-L,y:l.y-B});var M=this.state.resizing?void 0:$,V=this.state.resizing?"both":d;return g.createElement(QX,{ref:function(G){G&&(n.draggable=G)},handle:i?".".concat(i):void 0,defaultPosition:k,onMouseDown:c,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:V,disabled:s,grid:f,bounds:p?this.state.bounds:void 0,position:M,enableUserSelectHack:m,cancel:y,scale:E,allowAnyClick:T,nodeRef:this.resizableElement,positionOffset:A},g.createElement(oJ,un({},I,{ref:function(G){G&&(n.resizable=G,n.resizableElement.current=G.resizable)},defaultSize:k,size:this.props.size,enable:typeof b=="boolean"?cJ(b):b,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:P,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:j,handleWrapperClass:R,handleWrapperStyle:F,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:S,handleClasses:_,handleComponent:v,scale:this.props.scale}),x))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e})(g.PureComponent);const uJ=()=>{const{dialogs:t,openDialog:e,closeDialog:n,produtoParaReporEstoque:r,limparProdutoParaReporEstoque:s,darkMode:o}=g.useContext(Cr),{toast:i}=Er(),{data:l,loading:c,save:u,remove:d}=nh(),{data:f,loading:p,save:m,remove:y}=th(),{data:x,loading:S,save:_,remove:v}=i1(),[b,j]=g.useState(""),[R,F]=g.useState(!1),[E,T]=g.useState(!1),[A,I]=g.useState(!1),[k,N]=g.useState(!1),[P,D]=g.useState(null),[L,B]=g.useState(""),[$,M]=g.useState(!1),[V,G]=g.useState(null),[K,ie]=g.useState(null),[ae,me]=g.useState({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),[Ue,Ae]=g.useState({nome:"",cor:"#8b5cf6"}),[le,Ie]=g.useState({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),[Ke,q]=g.useState(""),[ce,re]=g.useState([]),[ke,Le]=g.useState(!1),[Qe,nt]=g.useState(null),[rt,gt]=g.useState(!1),[Ot,ft]=g.useState("personalizada"),[ct,lr]=g.useState([]),[cr,de]=g.useState(null),[Se,ot]=g.useState(null);g.useState(!1),g.useRef(null),g.useEffect(()=>{t.produto&&(G(null),me({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),F(!0),n("produto")),t.movimentacao&&(r?(Ie({produtoId:r.id,tipo:"entrada",quantidade:"",observacao:`Reposio de estoque - ${r.nome}`}),q(r.nome),s()):(Ie({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),q(""),re([]),Le(!1)),I(!0),n("movimentacao"))},[t,n,r,s]);const xt=async U=>{if(U.preventDefault(),!Ue.nome){i({title:"Erro",description:"Nome da categoria  obrigatrio!",variant:"destructive"});return}try{await u({nome:Ue.nome,cor:Ue.cor,createdAt:K?K.createdAt:new Date().toISOString()},K==null?void 0:K.id),i({title:"Sucesso!",description:K?"Categoria atualizada!":"Categoria criada!"}),Ae({nome:"",cor:"#8b5cf6"}),ie(null),T(!1)}catch(Y){console.error("[Estoque]  Erro ao salvar categoria:",Y),i({title:"Erro",description:"Erro ao salvar categoria. Tente novamente.",variant:"destructive"})}},Bt=async U=>{try{const Y=f.filter(_e=>_e.categoriaId===U);for(const _e of Y)await y(_e.id);await d(U),Qe===U&&nt(null),i({title:"Sucesso!",description:"Categoria e produtos vinculados removidos!"})}catch(Y){console.error("[Estoque]  Erro ao remover categoria:",Y),i({title:"Erro",description:"Erro ao remover categoria. Tente novamente.",variant:"destructive"})}},Rn=async U=>{if(U.preventDefault(),console.log("[Estoque] ===== INICIANDO CADASTRO DE PRODUTO ====="),console.log("[Estoque] FormData:",ae),!ae.nome||!ae.codigo||!ae.preco||!ae.quantidade||!ae.categoriaId){console.log("[Estoque]  Campos obrigatrios no preenchidos"),i({title:"Erro",description:"Todos os campos so obrigatrios!",variant:"destructive"});return}try{const Y={nome:ae.nome,codigo:ae.codigo,preco:parseFloat(ae.preco),quantidade:parseInt(ae.quantidade),categoriaId:ae.categoriaId,imagem:ae.imagem,createdAt:V?V.createdAt:new Date().toISOString()};console.log("[Estoque] ProdutoData preparado:",Y),console.log("[Estoque] Salvando produto..."),console.log("[Estoque] editingProduto?.id:",V==null?void 0:V.id);const _e=await m(Y,V==null?void 0:V.id);console.log("[Estoque]  Produto salvo com ID:",_e),console.log("[Estoque] Verificando se produto aparece na lista..."),console.log("[Estoque] Forando refresh dos dados..."),setTimeout(()=>{console.log("[Estoque] Produtos aps salvamento:",f),console.log("[Estoque] Total de produtos:",f==null?void 0:f.length),console.log("[Estoque] Verificando localStorage:",JSON.parse(localStorage.getItem("crm_produtos")||"[]").length)},1e3),i({title:"Sucesso!",description:V?"Produto atualizado!":"Produto cadastrado!"}),me({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),G(null),F(!1),console.log("[Estoque] ===== PRODUTO CADASTRADO COM SUCESSO ====="),console.log("[Estoque] Formulrio limpo e dialog fechado")}catch(Y){console.error("[Estoque]  Erro ao salvar produto:",Y),i({title:"Erro",description:"Erro ao salvar produto. Tente novamente.",variant:"destructive"})}},Dn=U=>{me({nome:U.nome,codigo:U.codigo,preco:U.preco.toString(),quantidade:U.quantidade.toString(),categoriaId:U.categoriaId.toString(),imagem:U.imagem||null}),G(U),F(!0)},Jn=U=>{Ie({produtoId:U.id,tipo:"entrada",quantidade:"",observacao:`Reposio de estoque - ${U.nome}`}),q(U.nome),I(!0),M(!1)},$r=(U,Y)=>{const _e=f.find(Tt=>Tt.id===Y);if(_e){const Tt=U==="entrada"?`Reposio de estoque - ${_e.nome}`:`Sada de estoque - ${_e.nome}`;Ie(Mn=>({...Mn,tipo:U,observacao:Tt}))}},Tr=async U=>{try{await y(U),i({title:"Sucesso!",description:"Produto removido!"})}catch(Y){console.error("[Estoque]  Erro ao remover produto:",Y),i({title:"Erro",description:"Erro ao remover produto. Tente novamente.",variant:"destructive"})}},wn=(U,Y)=>{D(U),B(Y),N(!0)},Nr=U=>{if(q(U),U.length>0){const Y=f.filter(_e=>_e.nome.toLowerCase().includes(U.toLowerCase())||_e.codigo.toLowerCase().includes(U.toLowerCase()));re(Y),Le(!0)}else re([]),Le(!1)},Zn=U=>{Ie({...le,produtoId:U.id}),q(U.nome),Le(!1)};g.useEffect(()=>{A||(q(""),re([]),Le(!1))},[A]);const Gt=async U=>{if(U.preventDefault(),!le.produtoId||!le.quantidade){i({title:"Erro",description:"Produto e quantidade so obrigatrios!",variant:"destructive"});return}try{const Y=f.find(Mn=>Mn.id===le.produtoId),_e=parseInt(le.quantidade);if(le.tipo==="saida"&&Y.quantidade<_e){i({title:"Erro",description:"Quantidade insuficiente em estoque!",variant:"destructive"});return}await _({produtoId:le.produtoId,produtoNome:Y.nome,tipo:le.tipo,quantidade:_e,observacao:le.observacao,createdAt:new Date().toISOString()});const Tt={...Y,quantidade:le.tipo==="entrada"?Y.quantidade+_e:Y.quantidade-_e};await m(Tt,Y.id),i({title:"Sucesso!",description:`Movimentao de ${le.tipo} registrada!`}),Ie({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),I(!1)}catch(Y){console.error("[Estoque]  Erro ao registrar movimentao:",Y),i({title:"Erro",description:"Erro ao registrar movimentao. Tente novamente.",variant:"destructive"})}},On=new Date().toISOString().slice(0,10),J=(x||[]).filter(U=>{var _e;const Y=(_e=U.createdAt)!=null&&_e.toDate?U.createdAt.toDate().toISOString():U.createdAt;return(Y==null?void 0:Y.slice(0,10))===On}),Be=(f||[]).filter(U=>{var Y,_e;return((Y=U.nome)==null?void 0:Y.toLowerCase().includes(b.toLowerCase()))||((_e=U.codigo)==null?void 0:_e.toLowerCase().includes(b.toLowerCase()))}),Ee=U=>{if(console.log("[Estoque] ===== UPLOAD DE IMAGEM ====="),console.log("[Estoque] Arquivos aceitos:",U),U.length===0){console.log("[Estoque]  Nenhum arquivo aceito");return}const Y=U[0];if(console.log("[Estoque] Arquivo selecionado:",Y),Y.size>2*1024*1024){console.log("[Estoque]  Arquivo muito grande:",Y.size),i({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 2MB.",variant:"destructive"});return}const _e=new FileReader;_e.onload=()=>{const Tt=new Image;Tt.onload=()=>{const Mn=document.createElement("canvas"),ks=Mn.getContext("2d"),Ln=1e3;let{width:bn,height:os}=Tt;bn>os?bn>Ln&&(os=os*Ln/bn,bn=Ln):os>Ln&&(bn=bn*Ln/os,os=Ln),Mn.width=bn,Mn.height=os,ks.drawImage(Tt,0,0,bn,os);const Fc=Mn.toDataURL("image/jpeg",.9);console.log("[Estoque]  Imagem comprimida, tamanho original:",_e.result.length,"comprimida:",Fc.length),me(Vc=>({...Vc,imagem:Fc}))},Tt.src=_e.result},_e.onerror=()=>{console.log("[Estoque]  Erro ao ler arquivo"),i({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},_e.readAsDataURL(Y)},{getRootProps:We,getInputProps:we,isDragActive:vt}=ib({onDrop:Ee,accept:{"image/*":[]}}),Ye=f.filter(U=>U.quantidade<=5),z=U=>{de(U)},Z=(U,Y)=>{U.preventDefault(),ot(Y)},te=()=>{if(cr!==null&&Se!==null&&cr!==Se){const U=[...ct],Y=U[cr];U.splice(cr,1),U.splice(Se,0,Y),lr(U)}de(null),ot(null)},pe=async()=>{try{console.log("[Estoque]  Iniciando salvamento da nova ordem das categorias"),console.log("[Estoque] Categorias reordenadas:",ct.map(Y=>({id:Y.id,nome:Y.nome,ordemAtual:Y.ordem})));let U=0;for(let Y=0;Y<ct.length;Y++){const _e=ct[Y];_e.ordem!==Y?(console.log(`[Estoque] Atualizando categoria "${_e.nome}" (ID: ${_e.id}) da ordem ${_e.ordem} para ${Y}`),await u({..._e,ordem:Y},_e.id),U++):console.log(`[Estoque] Categoria "${_e.nome}" j est na ordem correta (${Y}), pulando...`)}console.log(`[Estoque]  Salvamento concludo! ${U} categorias atualizadas`),i({title:"Sucesso!",description:`Ordem de ${U} categorias salva com sucesso!`}),gt(!1)}catch(U){console.error("[Estoque]  Erro ao salvar ordem das categorias:",U),i({title:"Erro!",description:"Erro ao salvar ordem das categorias.",variant:"destructive"})}},er=U=>{let Y=[...l];switch(U){case"alfabetica":Y.sort((_e,Tt)=>_e.nome.localeCompare(Tt.nome));break;case"mais_produtos":Y.sort((_e,Tt)=>{const Mn=f.filter(Ln=>Ln.categoriaId===_e.id).length;return f.filter(Ln=>Ln.categoriaId===Tt.id).length-Mn});break;case"menos_produtos":Y.sort((_e,Tt)=>{const Mn=f.filter(Ln=>Ln.categoriaId===_e.id).length,ks=f.filter(Ln=>Ln.categoriaId===Tt.id).length;return Mn-ks});break;default:Y.sort((_e,Tt)=>(_e.ordem||0)-(Tt.ordem||0))}lr(Y)};return g.useEffect(()=>{rt&&lr([...l])},[rt,l]),console.log("[Estoque] Produtos:",f==null?void 0:f.length,"Categorias:",l==null?void 0:l.length),a.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen",children:[a.jsxs("aside",{className:"w-full lg:w-64 bg-slate-100 dark:bg-slate-900 border-r border-b lg:border-b-0 h-auto lg:h-screen flex flex-col",children:[a.jsxs("div",{className:"p-4 flex flex-col gap-2",children:[a.jsx(Q,{onClick:()=>nt(null),variant:Qe===null?"default":"outline",className:"w-full justify-start",children:"Todos os Produtos"}),a.jsxs(Q,{onClick:()=>{ie(null),Ae({nome:"",cor:"#8b5cf6"}),T(!0)},variant:"outline",className:"w-full justify-start bg-violet-500 text-white hover:bg-violet-600",children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),a.jsx(TE,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:a.jsx("ul",{className:"space-y-1",children:l.map(U=>a.jsxs("li",{className:"flex items-center justify-between group",children:[a.jsx(Q,{onClick:()=>nt(U.id),variant:Qe===U.id?"default":"ghost",className:"flex-1 justify-start text-left border-l-2",style:{borderLeftColor:U.cor},children:U.nome}),a.jsx("button",{title:"Editar categoria",className:"p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-800",onClick:()=>{ie(U),Ae({nome:U.nome,cor:U.cor||"#8b5cf6"}),T(!0)},children:a.jsx(ys,{className:"h-4 w-4"})}),a.jsx("button",{title:"Excluir categoria",className:"p-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>Bt(U.id),children:a.jsx(Zr,{className:"h-4 w-4 text-red-500"})})]},U.id))})})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx("div",{className:"p-4 lg:p-6 border-b bg-white dark:bg-slate-800",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900 dark:text-white",children:"Estoque"}),a.jsx("p",{className:"text-sm lg:text-base text-slate-600 dark:text-slate-400",children:"Gerencie categorias, produtos e movimentaes"})]}),Ye.length>0&&a.jsxs(be.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:()=>M(!0),className:"bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded-lg p-3 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 transition-all duration-200 cursor-pointer flex items-center gap-2 lg:gap-3 min-w-0 flex-shrink-0 w-full lg:w-auto",children:[a.jsx($s,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-500 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Estoque Crtico"}),a.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:[Ye.length," produto(s)"]})]})]})]})}),a.jsxs($a,{defaultValue:"produtos",className:"flex-1",children:[a.jsxs("div",{className:"px-4 lg:px-6 pt-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-4 gap-4",children:[a.jsxs(Di,{className:"h-12 px-1",children:[a.jsx(Pt,{value:"produtos",className:"px-6",children:"Produtos"}),a.jsx(Pt,{value:"movimentacoes",className:"px-6",children:"Movimentaes"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Wn,{open:E,onOpenChange:T,children:[a.jsx(Nf,{asChild:!0,children:a.jsx(Q,{variant:"outline",size:"sm",children:"Nova Categoria"})}),a.jsxs(En,{className:`sm:max-w-lg bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(Cn,{children:a.jsxs(Tn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(TE,{className:"h-6 w-6 text-purple-500"}),K?"Editar Categoria":"Nova Categoria"]})}),a.jsxs("form",{onSubmit:xt,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Vu,{className:"h-5 w-5 text-blue-500"}),"Informaes da Categoria"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Nome da Categoria *"}),a.jsx(fe,{value:Ue.nome,onChange:U=>Ae({...Ue,nome:U.target.value}),placeholder:"Ex: Eletrnicos, Roupas, Acessrios...",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Cor da Categoria *"}),a.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[a.jsx(fe,{type:"color",value:Ue.cor,onChange:U=>Ae({...Ue,cor:U.target.value}),className:"w-16 h-10 rounded-lg border-2 border-slate-300 dark:border-slate-600"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-slate-300 dark:border-slate-600",style:{backgroundColor:Ue.cor}}),a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:Ue.cor})]})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Escolha uma cor que represente bem sua categoria"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2",children:K?"Atualizar Categoria":"Criar Categoria"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{T(!1),ie(null),Ae({nome:"",cor:"#8b5cf6"})},className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(Wn,{open:R,onOpenChange:F,children:[a.jsx(Nf,{asChild:!0,children:a.jsx(Q,{size:"sm",className:"bg-gradient-to-r from-orange-500 to-red-500",children:"Novo Produto"})}),a.jsxs(En,{className:`sm:max-w-2xl bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(Cn,{children:a.jsxs(Tn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(Gn,{className:"h-6 w-6 text-green-500"}),V?"Editar Produto":"Novo Produto"]})}),a.jsxs("form",{onSubmit:Rn,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Gn,{className:"h-5 w-5 text-blue-500"}),"Informaes Bsicas"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Nome do Produto *"}),a.jsx(fe,{value:ae.nome,onChange:U=>{if(me({...ae,nome:U.target.value}),!ae.codigo&&U.target.value){const Y=U.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,6)+String(Date.now()).slice(-4);me(_e=>({..._e,codigo:Y}))}},placeholder:"Ex: Mouse Gamer RGB",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Preo *"}),a.jsx(fe,{type:"number",step:"0.01",value:ae.preco,onChange:U=>me({...ae,preco:U.target.value}),placeholder:"0.00",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Quantidade *"}),a.jsx(fe,{type:"number",value:ae.quantidade,onChange:U=>me({...ae,quantidade:U.target.value}),placeholder:"0",className:"mt-1",required:!0})]})]})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Vu,{className:"h-5 w-5 text-purple-500"}),"Categoria"]}),a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Categoria *"}),a.jsxs(ut,{value:ae.categoriaId,onValueChange:U=>me({...ae,categoriaId:U}),className:"mt-1",children:[a.jsx(at,{children:a.jsx(dt,{placeholder:"Selecione uma categoria..."})}),a.jsx(lt,{children:l.map(U=>a.jsx(oe,{value:U.id.toString(),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.cor}}),U.nome]})},U.id))})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(fr,{className:"h-5 w-5 text-orange-500"}),"Cdigo do Produto"]}),a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Cdigo (Gerado Automaticamente)"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(fe,{value:ae.codigo,onChange:U=>me({...ae,codigo:U.target.value}),placeholder:"Ser gerado automaticamente",className:"pr-10",required:!0}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",title:"Gerado automaticamente"})})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Cdigo gerado automaticamente baseado no nome do produto"})]})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Ea,{className:"h-5 w-5 text-indigo-500"}),"Imagem do Produto"]}),a.jsxs("div",{...We(),className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all duration-200 ${vt?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 scale-105":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/70"} ${ae.imagem?"bg-slate-50 dark:bg-slate-800/50":""}`,children:[a.jsx("input",{...we()}),ae.imagem?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:ae.imagem,alt:"Preview do produto",className:"max-w-full max-h-40 object-contain rounded-lg border-2 border-slate-200 dark:border-slate-700 shadow-lg"}),a.jsx("button",{type:"button",onClick:U=>{U.stopPropagation(),me({...ae,imagem:null})},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(_r,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:" Clique ou arraste para alterar a imagem"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center",children:a.jsx(Ea,{className:"w-10 h-10 text-slate-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:vt?" Solte a imagem aqui":" Arraste uma imagem ou clique para selecionar"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"PNG, JPG at 2MB  Redimensionada para 1000x1000px"})]})]})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2",children:V?"Atualizar Produto":"Cadastrar Produto"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{F(!1),G(null),me({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null})},className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(Wn,{open:A,onOpenChange:I,children:[a.jsx(Nf,{asChild:!0,children:a.jsx(Q,{size:"sm",variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50",children:"Movimentao"})}),a.jsxs(En,{className:`sm:max-w-lg bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(Cn,{children:a.jsxs(Tn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(mr,{className:"h-6 w-6 text-orange-500"}),"Nova Movimentao"]})}),a.jsxs("form",{onSubmit:Gt,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Gn,{className:"h-5 w-5 text-blue-500"}),"Dados da Movimentao"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Produto *"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(fe,{value:Ke,onChange:U=>Nr(U.target.value),placeholder:"Digite o nome ou cdigo do produto...",className:"pr-10"}),a.jsx(Rr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),ke&&ce.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ce.map(U=>a.jsx("div",{onClick:()=>Zn(U),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[U.imagem&&a.jsx("img",{src:U.imagem,alt:U.nome,className:"w-8 h-8 object-cover rounded border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:U.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Cdigo: ",U.codigo," | Estoque: ",U.quantidade]})]})]})},U.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Digite o nome ou cdigo do produto para buscar"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Tipo de Movimentao *"}),a.jsxs(ut,{value:le.tipo,onValueChange:U=>$r(U,le.produtoId),className:"mt-1",children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"entrada",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"h-4 w-4 text-green-500"}),"Entrada"]})}),a.jsx(oe,{value:"saida",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ma,{className:"h-4 w-4 text-red-500"}),"Sada"]})})]})]})]}),a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Quantidade *"}),a.jsx(fe,{type:"number",min:"1",value:le.quantidade,onChange:U=>Ie({...le,quantidade:U.target.value}),placeholder:"0",className:"mt-1",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(ne,{className:"text-sm font-medium",children:"Observao"}),a.jsx(fe,{value:le.observacao,onChange:U=>Ie({...le,observacao:U.target.value}),placeholder:"Ex: Compra, venda, ajuste de estoque...",className:"mt-1"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Descreva o motivo da movimentao"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2",children:"Registrar Movimentao"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{I(!1),Ie({produtoId:"",tipo:"entrada",quantidade:"",observacao:""})},className:"flex-1",children:"Cancelar"})]})]})]})]})]})]}),a.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-4"})]}),a.jsxs(hn,{value:"produtos",className:"px-4 lg:px-6 pt-4 space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-auto sm:max-w-sm",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(fe,{placeholder:"Buscar por nome ou cdigo...",value:b,onChange:U=>j(U.target.value),className:"w-full sm:w-auto pl-10"})]}),a.jsxs(Q,{onClick:()=>gt(!0),variant:"outline",size:"sm",className:"bg-black text-white hover:bg-gray-800 dark:bg-gray-900 dark:hover:bg-gray-800",children:[a.jsx(fr,{className:"h-4 w-4 mr-2"}),"Reordenar Categorias"]})]}),Qe===null?l.map(U=>a.jsxs("div",{children:[a.jsx("div",{className:`bg-slate-100 dark:bg-slate-800/50 rounded-lg p-3 mb-4 border-2 ${o?"":"shadow-sm"}`,style:{borderColor:U.cor},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:U.nome}),a.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[Be.filter(Y=>Y.categoriaId===U.id).length," produtos"]})]}),a.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{G(null),me({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:U.id.toString(),imagem:null}),F(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white border-blue-500",children:[a.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Novo Produto"]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:Be.filter(Y=>Y.categoriaId===U.id).map((Y,_e)=>a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:_e*.1},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${o?"":"shadow-sm"}`,children:a.jsxs("div",{className:"flex gap-3",children:[Y.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:Y.imagem,alt:Y.nome,className:"w-20 h-20 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>wn(Y.imagem,Y.nome)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:Y.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Cdigo: ",Y.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Nn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Y.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(fr,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${Y.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[Y.quantidade," ",Y.quantidade<=5&&"(Baixo)"]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>Dn(Y),className:"h-6 w-6",children:a.jsx(ys,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>Tr(Y.id),className:"h-6 w-6 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Zr,{className:"h-3 w-3"})})]})]})},Y.id))})]},U.id)):l.filter(U=>U.id===Qe).map(U=>a.jsxs("div",{children:[a.jsx("div",{className:`bg-slate-100 dark:bg-slate-800/50 rounded-lg p-3 mb-4 border-2 ${o?"":"shadow-sm"}`,style:{borderColor:U.cor},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:U.nome}),a.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[Be.filter(Y=>Y.categoriaId===U.id).length," produtos"]})]}),a.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{G(null),me({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:U.id.toString(),imagem:null}),F(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white border-blue-500",children:[a.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Novo Produto"]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:Be.filter(Y=>Y.categoriaId===U.id).map((Y,_e)=>a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:_e*.1},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${o?"":"shadow-sm"}`,children:a.jsxs("div",{className:"flex gap-3",children:[Y.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:Y.imagem,alt:Y.nome,className:"w-20 h-20 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>wn(Y.imagem,Y.nome)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:Y.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Cdigo: ",Y.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Nn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Y.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(fr,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${Y.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[Y.quantidade," ",Y.quantidade<=5&&"(Baixo)"]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>Dn(Y),className:"h-6 w-6",children:a.jsx(ys,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>Tr(Y.id),className:"h-6 w-6 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Zr,{className:"h-3 w-3"})})]})]})},Y.id))})]},U.id))]}),a.jsxs(hn,{value:"movimentacoes",className:"px-4 lg:px-6 pt-4 space-y-4",children:[J.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:a.jsx(fr,{className:"h-8 w-8 text-slate-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-1",children:"Nenhuma movimentao hoje"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"As movimentaes de entrada e sada aparecero aqui"})]}),a.jsxs(Q,{onClick:()=>I(!0),size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white",children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Nova Movimentao"]})]})}),J.map(U=>{var Y;return a.jsx(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`bg-white dark:bg-slate-800/50 p-4 rounded-lg border-2 shadow-sm hover:shadow-md transition-all duration-200 ${U.tipo==="entrada"?"border-green-200 dark:border-green-700 bg-green-50/30 dark:bg-green-900/10":"border-red-200 dark:border-red-700 bg-red-50/30 dark:bg-red-900/10"}`,children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:`p-2 rounded-full ${U.tipo==="entrada"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:U.tipo==="entrada"?a.jsx(mr,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):a.jsx(Ma,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:U.produtoNome}),a.jsxs("p",{className:`text-sm font-medium ${U.tipo==="entrada"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:[U.tipo==="entrada"?"Entrada":"Sada"," de ",U.quantidade," unidades"]})]})]}),U.observacao&&a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2 bg-slate-100 dark:bg-slate-700/50 p-2 rounded border-l-2 border-slate-300 dark:border-slate-600",children:[a.jsx("span",{className:"font-medium",children:"Obs:"})," ",U.observacao]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[a.jsx(Gn,{className:"h-3 w-3"}),new Date((Y=U.createdAt)!=null&&Y.toDate?U.createdAt.toDate():U.createdAt).toLocaleString("pt-BR")]})]})})},U.id)})]})]})]}),a.jsx(Wn,{open:k,onOpenChange:N,children:a.jsxs(En,{className:`sm:max-w-4xl max-w-[90vw] bg-white dark:bg-slate-900 border-0 p-0 overflow-hidden ${o?"":"shadow-2xl"}`,children:[a.jsx(Cn,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:a.jsxs(Tn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(rz,{className:"h-7 w-7"}),L]})}),a.jsx("div",{className:"relative bg-slate-50 dark:bg-slate-800 min-h-[60vh] flex items-center justify-center p-8",children:P&&a.jsxs("div",{className:"relative group",children:[a.jsxs(be.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"relative overflow-hidden rounded-2xl shadow-2xl",children:[a.jsx("img",{src:P,alt:L,className:"max-w-full max-h-[60vh] object-contain rounded-2xl transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 rounded-2xl"}),a.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsxs(Q,{size:"sm",variant:"secondary",onClick:()=>{const U=document.createElement("a");U.href=P,U.download=`${L}.jpg`,U.click()},className:"bg-white/90 hover:bg-white text-slate-900 shadow-lg",children:[a.jsx(wp,{className:"h-4 w-4 mr-2"}),"Download"]})})]}),a.jsx(be.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.1},className:"mt-6 text-center",children:a.jsx("div",{className:"bg-white dark:bg-slate-700 rounded-xl p-4 shadow-lg",children:a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:L})})})]})}),a.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(Ea,{className:"h-4 w-4"}),"Clique fora da imagem ou use ESC para fechar"]}),a.jsx(Q,{variant:"outline",onClick:()=>N(!1),className:"bg-white dark:bg-slate-700",children:"Fechar"})]})]})}),a.jsx(Wn,{open:rt,onOpenChange:gt,children:a.jsxs(En,{className:`sm:max-w-3xl bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 ${o?"shadow-2xl shadow-slate-900/50":"shadow-2xl border-slate-200"}`,children:[a.jsx(Cn,{children:a.jsxs(be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs(Tn,{className:"flex items-center gap-3 text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[a.jsx(be.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:a.jsx(fr,{className:"h-6 w-6 text-blue-500"})}),"Reordenar Categorias"]}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Organize suas categorias da forma que preferir"})]})}),a.jsxs(be.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.3},children:[a.jsxs(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.3},className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[a.jsxs(ne,{className:"text-sm font-semibold flex items-center gap-2 mb-3",children:[a.jsx(mr,{className:"h-4 w-4 text-blue-500"}),"Tipo de Ordenao:"]}),a.jsxs(ut,{value:Ot,onValueChange:U=>{ft(U),er(U)},children:[a.jsx(at,{className:"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 hover:border-blue-400 transition-colors",children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"personalizada",children:" Personalizada (Arrastar e Soltar)"}),a.jsx(oe,{value:"alfabetica",children:" Ordem Alfabtica"}),a.jsx(oe,{value:"mais_produtos",children:" Mais Produtos"}),a.jsx(oe,{value:"menos_produtos",children:" Menos Produtos"})]})]})]}),a.jsx(be.div,{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:ct.map((U,Y)=>{const _e=f.filter(Tt=>Tt.categoriaId===U.id);return a.jsxs(be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*Y,duration:.3},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},draggable:Ot==="personalizada",onDragStart:()=>z(Y),onDragOver:Tt=>Z(Tt,Y),onDrop:te,className:`group relative p-4 rounded-xl cursor-move transition-all duration-300 ${cr===Y?"border-2 border-blue-400 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 shadow-lg shadow-blue-500/20 scale-105":"border border-slate-200 dark:border-slate-700 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm hover:border-slate-300 dark:hover:border-slate-600 hover:shadow-lg hover:shadow-slate-500/10"} ${o?"":"bg-white/70"}`,style:{borderLeftColor:U.cor,borderLeftWidth:"4px",boxShadow:cr===Y?`0 10px 25px -5px ${U.cor}20`:void 0},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(be.div,{className:"w-6 h-6 rounded-full shadow-lg",style:{backgroundColor:U.cor},whileHover:{scale:1.2},transition:{type:"spring",stiffness:300}}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:U.nome}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[_e.length," produto",_e.length!==1?"s":""]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(be.div,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400},children:["#",Y+1]}),Ot==="personalizada"&&a.jsxs(be.div,{className:"flex flex-col gap-1",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:[a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"})]})]})]}),a.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},U.id)})}),a.jsxs(be.div,{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},children:[a.jsx(Q,{variant:"outline",onClick:()=>gt(!1),className:"hover:bg-slate-100 dark:hover:bg-slate-700 transition-all duration-200",children:"Cancelar"}),a.jsx(be.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(Q,{onClick:pe,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(fr,{className:"h-4 w-4 mr-2"}),"Salvar Ordem"]})})]})]})]})}),a.jsx(Wn,{open:$,onOpenChange:M,children:a.jsxs(En,{className:`sm:max-w-2xl bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(Cn,{children:a.jsxs(Tn,{className:"flex items-center gap-2",children:[a.jsx($s,{className:"h-5 w-5 text-yellow-500"}),"Estoque Crtico"]})}),a.jsx("div",{className:"space-y-3",children:Ye.map(U=>{const Y=l.find(_e=>_e.id===U.categoriaId);return a.jsx(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:U.nome}),a.jsxs("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:["Categoria: ",(Y==null?void 0:Y.nome)||"Sem categoria"," | Estoque: ",a.jsx("span",{className:"font-bold",children:U.quantidade})," unidades"]})]}),a.jsx(Q,{size:"sm",onClick:()=>Jn(U),className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Repor Estoque"})]})},U.id)})})]})})]})},dJ=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(Cr),{toast:r}=Er(),{data:s,loading:o,save:i,remove:l}=rh(),[c,u]=g.useState(""),[d,f]=g.useState(!1),[p,m]=g.useState(null),[y,x]=g.useState({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"});g.useEffect(()=>{t.lancamento&&(m(null),x({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"}),f(!0),n("lancamento"))},[t,n]),console.log("[Financeiro] ===== DADOS CARREGADOS ====="),console.log("[Financeiro] Lanamentos:",s),console.log("[Financeiro] Loading:",o);const S=async D=>{if(D.preventDefault(),!y.descricao||!y.valor||!y.dataVencimento){r({title:"Erro",description:"Todos os campos obrigatrios devem ser preenchidos!",variant:"destructive"});return}try{const L={descricao:y.descricao,valor:parseFloat(y.valor),dataVencimento:y.dataVencimento,tipo:y.tipo,status:y.status,createdAt:p?p.createdAt:new Date().toISOString()};await i(L,p==null?void 0:p.id),r(p?{title:"Sucesso!",description:"Lanamento atualizado com sucesso!"}:{title:"Sucesso!",description:"Lanamento criado com sucesso!"}),x({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"}),m(null),f(!1)}catch(L){console.error("[Financeiro]  Erro ao salvar lanamento:",L),r({title:"Erro",description:"Erro ao salvar lanamento. Tente novamente.",variant:"destructive"})}},_=D=>{m(D),x({descricao:D.descricao,valor:D.valor.toString(),dataVencimento:D.dataVencimento,tipo:D.tipo,status:D.status}),f(!0)},v=async D=>{try{await l(D),r({title:"Sucesso!",description:"Lanamento removido com sucesso!"})}catch(L){console.error("[Financeiro]  Erro ao remover lanamento:",L),r({title:"Erro",description:"Erro ao remover lanamento. Tente novamente.",variant:"destructive"})}},b=D=>{const L=s.map(B=>{if(B.id===D){const $=B.status==="Pendente"?B.tipo==="receber"?"Recebido":"Pago":"Pendente";return{...B,status:$}}return B});saveLancamentos(L),r({title:"Sucesso!",description:"Status atualizado com sucesso!"})},j=s.filter(D=>D.descricao.toLowerCase().includes(c.toLowerCase())),R=j.filter(D=>D.tipo==="receber"),F=j.filter(D=>D.tipo==="pagar"),E=R.filter(D=>D.status==="Pendente").reduce((D,L)=>D+L.valor,0),T=F.filter(D=>D.status==="Pendente").reduce((D,L)=>D+L.valor,0),A=R.filter(D=>D.status==="Recebido").reduce((D,L)=>D+L.valor,0),I=F.filter(D=>D.status==="Pago").reduce((D,L)=>D+L.valor,0),k=(D,L)=>D==="Pendente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":D==="Recebido"&&L==="receber"||D==="Pago"&&L==="pagar"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300",N=(D,L)=>{if(L!=="Pendente")return!1;const B=new Date;return B.setHours(0,0,0,0),new Date(D)<B},P=({conta:D,index:L})=>a.jsx(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:L*.05},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border transition-all duration-300 ${N(D.dataVencimento,D.status)?"border-red-400 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-700 hover:shadow-lg"}`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center flex-wrap gap-x-3 gap-y-2",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:D.descricao}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k(D.status,D.tipo)}`,children:D.status}),N(D.dataVencimento,D.status)&&a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",children:"Vencido"})]}),a.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-2 mt-2",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Nn,{className:"h-4 w-4"}),a.jsx("span",{className:`font-semibold ${D.tipo==="receber"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D.valor)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(fa,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:new Date(D.dataVencimento).toLocaleDateString("pt-BR",{timeZone:"UTC"})})]})]})]}),a.jsxs("div",{className:"flex space-x-1 self-start sm:self-center",children:[a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>b(D.id),className:D.status==="Pendente"?"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-400 dark:hover:text-yellow-300",children:D.status==="Pendente"?`Marcar como ${D.tipo==="receber"?"Recebido":"Pago"}`:"Marcar como Pendente"}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>_(D),className:"h-8 w-8",children:a.jsx(ys,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>v(D.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Zr,{className:"h-4 w-4"})})]})]})},D.id);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Financeiro"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Controle suas contas a pagar e receber"})]}),a.jsxs(Wn,{open:d,onOpenChange:f,children:[a.jsx(Nf,{asChild:!0,children:a.jsxs(Q,{className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[a.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Novo Lanamento"]})}),a.jsxs(En,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[a.jsx(Cn,{children:a.jsx(Tn,{children:p?"Editar Lanamento":"Novo Lanamento"})}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"descricao",children:"Descrio *"}),a.jsx(fe,{id:"descricao",value:y.descricao,onChange:D=>x({...y,descricao:D.target.value}),placeholder:"Descrio do lanamento",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"valor",children:"Valor *"}),a.jsx(fe,{id:"valor",type:"number",step:"0.01",value:y.valor,onChange:D=>x({...y,valor:D.target.value}),placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"dataVencimento",children:"Data de Vencimento *"}),a.jsx(fe,{id:"dataVencimento",type:"date",value:y.dataVencimento,onChange:D=>x({...y,dataVencimento:D.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(ne,{children:"Tipo"}),a.jsxs(ut,{value:y.tipo,onValueChange:D=>x({...y,tipo:D}),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"receber",children:"Conta a Receber"}),a.jsx(oe,{value:"pagar",children:"Conta a Pagar"})]})]})]}),a.jsxs("div",{children:[a.jsx(ne,{children:"Status"}),a.jsxs(ut,{value:y.status,onValueChange:D=>x({...y,status:D}),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"Pendente",children:"Pendente"}),a.jsx(oe,{value:y.tipo==="receber"?"Recebido":"Pago",children:y.tipo==="receber"?"Recebido":"Pago"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{type:"submit",className:"flex-1",children:p?"Atualizar":"Criar"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{f(!1),m(null),x({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"})},children:"Cancelar"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"A Receber"}),a.jsx("p",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E)})]}),a.jsx(mr,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]})}),a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"A Pagar"}),a.jsx("p",{className:"text-xl font-bold text-red-700 dark:text-red-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T)})]}),a.jsx(Ma,{className:"h-8 w-8 text-red-600 dark:text-red-400"})]})}),a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Recebido"}),a.jsx("p",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A)})]}),a.jsx(Nn,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})}),a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:"Pago"}),a.jsx("p",{className:"text-xl font-bold text-purple-700 dark:text-purple-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I)})]}),a.jsx(Nn,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})]})})]}),a.jsxs($a,{defaultValue:"receber",className:"w-full",children:[a.jsxs(Di,{className:"grid w-full grid-cols-2",children:[a.jsx(Pt,{value:"receber",children:"Contas a Receber"}),a.jsx(Pt,{value:"pagar",children:"Contas a Pagar"})]}),a.jsxs(hn,{value:"receber",className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(fe,{placeholder:"Buscar por descrio...",value:c,onChange:D=>u(D.target.value),className:"max-w-sm pl-10"})]}),a.jsx("div",{className:"space-y-3",children:R.map((D,L)=>a.jsx(P,{conta:D,index:L},D.id))}),R.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(mr,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a receber"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Suas contas a receber aparecero aqui"})]})]}),a.jsxs(hn,{value:"pagar",className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(fe,{placeholder:"Buscar por descrio...",value:c,onChange:D=>u(D.target.value),className:"max-w-sm pl-10"})]}),a.jsx("div",{className:"space-y-3",children:F.map((D,L)=>a.jsx(P,{conta:D,index:L},D.id))}),F.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ma,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a pagar"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Suas contas a pagar aparecero aqui"})]})]})]})]})};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function ln(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ne(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ge(t){Ne(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||vc(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function fn(t,e){Ne(2,arguments);var n=Ge(t),r=ln(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ss(t,e){Ne(2,arguments);var n=Ge(t),r=ln(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var i=o.getDate();return s>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function hJ(t,e){Ne(2,arguments);var n=Ge(t).getTime(),r=ln(e);return new Date(n+r)}var fJ={};function Ji(){return fJ}function to(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Ji(),f=ln((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ge(t),m=p.getDay(),y=(m<f?7:0)+m-f;return p.setDate(p.getDate()-y),p.setHours(0,0,0,0),p}function Ya(t){return Ne(1,arguments),to(t,{weekStartsOn:1})}function pJ(t){Ne(1,arguments);var e=Ge(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=Ya(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var i=Ya(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function mJ(t){Ne(1,arguments);var e=pJ(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Ya(n);return r}function Nd(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function yc(t){Ne(1,arguments);var e=Ge(t);return e.setHours(0,0,0,0),e}var gJ=864e5;function yo(t,e){Ne(2,arguments);var n=yc(t),r=yc(e),s=n.getTime()-Nd(n),o=r.getTime()-Nd(r);return Math.round((s-o)/gJ)}function hx(t,e){Ne(2,arguments);var n=ln(e),r=n*7;return fn(t,r)}function XO(t,e){Ne(2,arguments);var n=ln(e);return ss(t,n*12)}function vJ(t){Ne(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(vc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=Ge(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function yJ(t){Ne(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(vc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=Ge(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function yr(t,e){Ne(2,arguments);var n=yc(t),r=yc(e);return n.getTime()===r.getTime()}function h1(t){return Ne(1,arguments),t instanceof Date||vc(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xJ(t){if(Ne(1,arguments),!h1(t)&&typeof t!="number")return!1;var e=Ge(t);return!isNaN(Number(e))}function kd(t,e){Ne(2,arguments);var n=Ge(t),r=Ge(e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}var wJ=6048e5;function bJ(t,e,n){Ne(2,arguments);var r=to(t,n),s=to(e,n),o=r.getTime()-Nd(r),i=s.getTime()-Nd(s);return Math.round((o-i)/wJ)}function jd(t){Ne(1,arguments);var e=Ge(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Kn(t){Ne(1,arguments);var e=Ge(t);return e.setDate(1),e.setHours(0,0,0,0),e}function oN(t){Ne(1,arguments);var e=Ge(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function fx(t){Ne(1,arguments);var e=Ge(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function f1(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Ji(),f=ln((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ge(t),m=p.getDay(),y=(m<f?-7:0)+6-(m-f);return p.setDate(p.getDate()+y),p.setHours(23,59,59,999),p}function JO(t){return Ne(1,arguments),f1(t,{weekStartsOn:1})}function _J(t,e){Ne(2,arguments);var n=ln(e);return hJ(t,-n)}var SJ=864e5;function EJ(t){Ne(1,arguments);var e=Ge(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/SJ)+1}function Jp(t){Ne(1,arguments);var e=1,n=Ge(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function ZO(t){Ne(1,arguments);var e=Ge(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Jp(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=Jp(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function CJ(t){Ne(1,arguments);var e=ZO(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Jp(n);return r}var TJ=6048e5;function NJ(t){Ne(1,arguments);var e=Ge(t),n=Jp(e).getTime()-CJ(e).getTime();return Math.round(n/TJ)+1}function Zp(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Ji(),f=ln((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ge(t),m=p.getUTCDay(),y=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-y),p.setUTCHours(0,0,0,0),p}function eM(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Ge(t),f=d.getUTCFullYear(),p=Ji(),m=ln((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,m),y.setUTCHours(0,0,0,0);var x=Zp(y,e),S=new Date(0);S.setUTCFullYear(f,0,m),S.setUTCHours(0,0,0,0);var _=Zp(S,e);return d.getTime()>=x.getTime()?f+1:d.getTime()>=_.getTime()?f:f-1}function kJ(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Ji(),f=ln((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=eM(t,e),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var y=Zp(m,e);return y}var jJ=6048e5;function PJ(t,e){Ne(1,arguments);var n=Ge(t),r=Zp(n,e).getTime()-kJ(n,e).getTime();return Math.round(r/jJ)+1}function pt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var AJ={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return pt(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):pt(r+1,2)},d:function(e,n){return pt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return pt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return pt(e.getUTCHours(),n.length)},m:function(e,n){return pt(e.getUTCMinutes(),n.length)},s:function(e,n){return pt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return pt(o,n.length)}};const Qo=AJ;var pl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IJ={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Qo.y(e,n)},Y:function(e,n,r,s){var o=eM(e,s),i=o>0?o:1-o;if(n==="YY"){var l=i%100;return pt(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):pt(i,n.length)},R:function(e,n){var r=ZO(e);return pt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return pt(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return pt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return pt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Qo.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return pt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var o=PJ(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):pt(o,n.length)},I:function(e,n,r){var s=NJ(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):pt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Qo.d(e,n)},D:function(e,n,r){var s=EJ(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):pt(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return pt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return pt(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return pt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),o;switch(s===12?o=pl.noon:s===0?o=pl.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),o;switch(s>=17?o=pl.evening:s>=12?o=pl.afternoon:s>=4?o=pl.morning:o=pl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Qo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Qo.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):pt(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):pt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Qo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Qo.s(e,n)},S:function(e,n){return Qo.S(e,n)},X:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return aN(i);case"XXXX":case"XX":return ha(i);case"XXXXX":case"XXX":default:return ha(i,":")}},x:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"x":return aN(i);case"xxxx":case"xx":return ha(i);case"xxxxx":case"xxx":default:return ha(i,":")}},O:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+iN(i,":");case"OOOO":default:return"GMT"+ha(i,":")}},z:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+iN(i,":");case"zzzz":default:return"GMT"+ha(i,":")}},t:function(e,n,r,s){var o=s._originalDate||e,i=Math.floor(o.getTime()/1e3);return pt(i,n.length)},T:function(e,n,r,s){var o=s._originalDate||e,i=o.getTime();return pt(i,n.length)}};function iN(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var i=e||"";return n+String(s)+i+pt(o,2)}function aN(t,e){if(t%60===0){var n=t>0?"-":"+";return n+pt(Math.abs(t)/60,2)}return ha(t,e)}function ha(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),o=pt(Math.floor(s/60),2),i=pt(s%60,2);return r+o+n+i}const RJ=IJ;var lN=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},tM=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},DJ=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return lN(e,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",lN(s,n)).replace("{{time}}",tM(o,n))},OJ={p:tM,P:DJ};const MJ=OJ;var LJ=["D","DD"],FJ=["YY","YYYY"];function VJ(t){return LJ.indexOf(t)!==-1}function zJ(t){return FJ.indexOf(t)!==-1}function cN(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var UJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BJ=function(e,n,r){var s,o=UJ[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const $J=BJ;function Jv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var qJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GJ={date:Jv({formats:qJ,defaultWidth:"full"}),time:Jv({formats:WJ,defaultWidth:"full"}),dateTime:Jv({formats:HJ,defaultWidth:"full"})};const KJ=GJ;var YJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QJ=function(e,n,r,s){return YJ[e]};const XJ=QJ;function du(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,i=n!=null&&n.width?String(n.width):o;s=t.formattingValues[i]||t.formattingValues[o]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var JJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sZ=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},oZ={ordinalNumber:sZ,era:du({values:JJ,defaultWidth:"wide"}),quarter:du({values:ZJ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:du({values:eZ,defaultWidth:"wide"}),day:du({values:tZ,defaultWidth:"wide"}),dayPeriod:du({values:nZ,defaultWidth:"wide",formattingValues:rZ,defaultFormattingWidth:"wide"})};const iZ=oZ;function hu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;var i=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?lZ(l,function(f){return f.test(i)}):aZ(l,function(f){return f.test(i)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(i.length);return{value:u,rest:d}}}function aZ(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function lZ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function cZ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],o=e.match(t.parsePattern);if(!o)return null;var i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;var l=e.slice(s.length);return{value:i,rest:l}}}var uZ=/^(\d+)(th|st|nd|rd)?/i,dZ=/\d+/i,hZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fZ={any:[/^b/i,/^(a|c)/i]},pZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mZ={any:[/1/i,/2/i,/3/i,/4/i]},gZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_Z={ordinalNumber:cZ({matchPattern:uZ,parsePattern:dZ,valueCallback:function(e){return parseInt(e,10)}}),era:hu({matchPatterns:hZ,defaultMatchWidth:"wide",parsePatterns:fZ,defaultParseWidth:"any"}),quarter:hu({matchPatterns:pZ,defaultMatchWidth:"wide",parsePatterns:mZ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:hu({matchPatterns:gZ,defaultMatchWidth:"wide",parsePatterns:vZ,defaultParseWidth:"any"}),day:hu({matchPatterns:yZ,defaultMatchWidth:"wide",parsePatterns:xZ,defaultParseWidth:"any"}),dayPeriod:hu({matchPatterns:wZ,defaultMatchWidth:"any",parsePatterns:bZ,defaultParseWidth:"any"})};const SZ=_Z;var EZ={code:"en-US",formatDistance:$J,formatLong:KJ,formatRelative:XJ,localize:iZ,match:SZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};const nM=EZ;var CZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NZ=/^'([^]*?)'?$/,kZ=/''/g,jZ=/[a-zA-Z]/;function Js(t,e,n){var r,s,o,i,l,c,u,d,f,p,m,y,x,S,_,v,b,j;Ne(2,arguments);var R=String(e),F=Ji(),E=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:F.locale)!==null&&r!==void 0?r:nM,T=ln((o=(i=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:F.firstWeekContainsDate)!==null&&i!==void 0?i:(f=F.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=ln((m=(y=(x=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(_=n.locale)===null||_===void 0||(v=_.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&x!==void 0?x:F.weekStartsOn)!==null&&y!==void 0?y:(b=F.locale)===null||b===void 0||(j=b.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&m!==void 0?m:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var I=Ge(t);if(!xJ(I))throw new RangeError("Invalid time value");var k=Nd(I),N=_J(I,k),P={firstWeekContainsDate:T,weekStartsOn:A,locale:E,_originalDate:I},D=R.match(TZ).map(function(L){var B=L[0];if(B==="p"||B==="P"){var $=MJ[B];return $(L,E.formatLong)}return L}).join("").match(CZ).map(function(L){if(L==="''")return"'";var B=L[0];if(B==="'")return PZ(L);var $=RJ[B];if($)return!(n!=null&&n.useAdditionalWeekYearTokens)&&zJ(L)&&cN(L,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&VJ(L)&&cN(L,e,String(t)),$(N,L,E.localize,P);if(B.match(jZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return L}).join("");return D}function PZ(t){var e=t.match(NZ);return e?e[1].replace(kZ,"'"):t}function AZ(t){Ne(1,arguments);var e=Ge(t),n=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var IZ=6048e5;function RZ(t){Ne(1,arguments);var e=Ge(t),n=Ya(e).getTime()-mJ(e).getTime();return Math.round(n/IZ)+1}function DZ(t){Ne(1,arguments);var e=Ge(t),n=e.getTime();return n}function OZ(t){return Ne(1,arguments),Math.floor(DZ(t)/1e3)}function MZ(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Ge(t),f=d.getFullYear(),p=Ji(),m=ln((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setFullYear(f+1,0,m),y.setHours(0,0,0,0);var x=to(y,e),S=new Date(0);S.setFullYear(f,0,m),S.setHours(0,0,0,0);var _=to(S,e);return d.getTime()>=x.getTime()?f+1:d.getTime()>=_.getTime()?f:f-1}function LZ(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Ji(),f=ln((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=MZ(t,e),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var y=to(m,e);return y}var FZ=6048e5;function VZ(t,e){Ne(1,arguments);var n=Ge(t),r=to(n,e).getTime()-LZ(n,e).getTime();return Math.round(r/FZ)+1}function zZ(t){Ne(1,arguments);var e=Ge(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function UZ(t,e){return Ne(1,arguments),bJ(zZ(t),Kn(t),e)+1}function px(t,e){Ne(2,arguments);var n=Ge(t),r=Ge(e);return n.getTime()>r.getTime()}function rM(t,e){Ne(2,arguments);var n=Ge(t),r=Ge(e);return n.getTime()<r.getTime()}function p1(t,e){Ne(2,arguments);var n=Ge(t),r=Ge(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function BZ(t,e){Ne(2,arguments);var n=Ge(t),r=Ge(e);return n.getFullYear()===r.getFullYear()}function Zv(t,e){Ne(2,arguments);var n=ln(e);return fn(t,-n)}function e0(t,e){Ne(2,arguments);var n=Ge(t),r=ln(e),s=n.getFullYear(),o=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var l=AZ(i);return n.setMonth(r,Math.min(o,l)),n}function uN(t,e){Ne(2,arguments);var n=Ge(t),r=ln(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function dN(t,e){Ne(2,arguments);var n=ln(e);return ss(t,-n)}function hN(t,e){Ne(2,arguments);var n=ln(e);return XO(t,-n)}var Oe=function(){return Oe=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Oe.apply(this,arguments)};function $Z(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function sM(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function sh(t){return t.mode==="multiple"}function oh(t){return t.mode==="range"}function mg(t){return t.mode==="single"}var qZ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function WZ(t,e){return Js(t,"LLLL y",e)}function HZ(t,e){return Js(t,"d",e)}function GZ(t,e){return Js(t,"LLLL",e)}function KZ(t){return"".concat(t)}function YZ(t,e){return Js(t,"cccccc",e)}function QZ(t,e){return Js(t,"yyyy",e)}var XZ=Object.freeze({__proto__:null,formatCaption:WZ,formatDay:HZ,formatMonthCaption:GZ,formatWeekNumber:KZ,formatWeekdayName:YZ,formatYearCaption:QZ}),JZ=function(t,e,n){return Js(t,"do MMMM (EEEE)",n)},ZZ=function(){return"Month: "},eee=function(){return"Go to next month"},tee=function(){return"Go to previous month"},nee=function(t,e){return Js(t,"cccc",e)},ree=function(t){return"Week n. ".concat(t)},see=function(){return"Year: "},oee=Object.freeze({__proto__:null,labelDay:JZ,labelMonthDropdown:ZZ,labelNext:eee,labelPrevious:tee,labelWeekNumber:ree,labelWeekday:nee,labelYearDropdown:see});function iee(){var t="buttons",e=qZ,n=nM,r={},s={},o=1,i={},l=new Date;return{captionLayout:t,classNames:e,formatters:XZ,labels:oee,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function aee(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,o=t.fromDate,i=t.toDate;return r?o=Kn(r):e&&(o=new Date(e,0,1)),s?i=jd(s):n&&(i=new Date(n,11,31)),{fromDate:o?yc(o):void 0,toDate:i?yc(i):void 0}}var oM=g.createContext(void 0);function lee(t){var e,n=t.initialProps,r=iee(),s=aee(n),o=s.fromDate,i=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(mg(n)||sh(n)||oh(n))&&(c=n.onSelect);var u=Oe(Oe(Oe({},r),n),{captionLayout:l,classNames:Oe(Oe({},r.classNames),n.classNames),components:Oe({},n.components),formatters:Oe(Oe({},r.formatters),n.formatters),fromDate:o,labels:Oe(Oe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Oe(Oe({},r.modifiers),n.modifiers),modifiersClassNames:Oe(Oe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Oe(Oe({},r.styles),n.styles),toDate:i});return a.jsx(oM.Provider,{value:u,children:t.children})}function Ct(){var t=g.useContext(oM);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function iM(t){var e=Ct(),n=e.locale,r=e.classNames,s=e.styles,o=e.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function cee(t){return a.jsx("svg",Oe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function aM(t){var e,n,r=t.onChange,s=t.value,o=t.children,i=t.caption,l=t.className,c=t.style,u=Ct(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:cee;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function uee(t){var e,n=Ct(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(BZ(r,s))for(var p=Kn(r),m=r.getMonth();m<=s.getMonth();m++)f.push(e0(p,m));else for(var p=Kn(new Date),m=0;m<=11;m++)f.push(e0(p,m));var y=function(S){var _=Number(S.target.value),v=e0(Kn(t.displayMonth),_);t.onChange(v)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:aM;return a.jsx(x,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:f.map(function(S){return a.jsx("option",{value:S.getMonth(),children:l(S,{locale:i})},S.getMonth())})})}function dee(t){var e,n=t.displayMonth,r=Ct(),s=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var m=s.getFullYear(),y=o.getFullYear(),x=m;x<=y;x++)p.push(uN(fx(new Date),x));var S=function(v){var b=uN(Kn(n),Number(v.target.value));t.onChange(b)},_=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:aM;return a.jsx(_,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:S,value:n.getFullYear(),caption:d(n,{locale:i}),children:p.map(function(v){return a.jsx("option",{value:v.getFullYear(),children:d(v,{locale:i})},v.getFullYear())})})}function hee(t,e){var n=g.useState(t),r=n[0],s=n[1],o=e===void 0?r:e;return[o,s]}function fee(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,o=t.toDate,i=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(o&&kd(o,s)<0){var u=-1*(c-1);s=ss(o,u)}return i&&kd(s,i)<0&&(s=i),Kn(s)}function pee(){var t=Ct(),e=fee(t),n=hee(e,t.month),r=n[0],s=n[1],o=function(i){var l;if(!t.disableNavigation){var c=Kn(i);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,o]}function mee(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Kn(t),o=Kn(ss(s,r)),i=kd(o,s),l=[],c=0;c<i;c++){var u=ss(s,c);l.push(u)}return n&&(l=l.reverse()),l}function gee(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Kn(t);if(!n)return ss(l,i);var c=kd(n,t);if(!(c<o))return ss(l,i)}}function vee(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Kn(t);if(!n)return ss(l,-i);var c=kd(l,n);if(!(c<=0))return ss(l,-i)}}var lM=g.createContext(void 0);function yee(t){var e=Ct(),n=pee(),r=n[0],s=n[1],o=mee(r,e),i=gee(r,e),l=vee(r,e),c=function(f){return o.some(function(p){return p1(f,p)})},u=function(f,p){c(f)||(p&&rM(f,p)?s(ss(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return a.jsx(lM.Provider,{value:d,children:t.children})}function ih(){var t=g.useContext(lM);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function fN(t){var e,n=Ct(),r=n.classNames,s=n.styles,o=n.components,i=ih().goToMonth,l=function(d){i(ss(d,t.displayIndex?-t.displayIndex:0))},c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:iM,u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:u}),a.jsx(uee,{onChange:l,displayMonth:t.displayMonth}),a.jsx(dee,{onChange:l,displayMonth:t.displayMonth})]})}function xee(t){return a.jsx("svg",Oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wee(t){return a.jsx("svg",Oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var em=g.forwardRef(function(t,e){var n=Ct(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var i=o.join(" "),l=Oe(Oe({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),a.jsx("button",Oe({},t,{ref:e,type:"button",className:i,style:l}))});function bee(t){var e,n,r=Ct(),s=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var p=u(t.previousMonth,{locale:o}),m=[i.nav_button,i.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:o}),x=[i.nav_button,i.nav_button_next].join(" "),S=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:wee,_=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:xee;return a.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&a.jsx(em,{name:"previous-month","aria-label":p,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?a.jsx(S,{className:i.nav_icon,style:l.nav_icon}):a.jsx(_,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&a.jsx(em,{name:"next-month","aria-label":y,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?a.jsx(_,{className:i.nav_icon,style:l.nav_icon}):a.jsx(S,{className:i.nav_icon,style:l.nav_icon})})]})}function pN(t){var e=Ct().numberOfMonths,n=ih(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(y){return p1(t.displayMonth,y)}),c=l===0,u=l===i.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){r&&o(r)},m=function(){s&&o(s)};return a.jsx(bee,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:m})}function _ee(t){var e,n=Ct(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:iM,u;return s?u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?u=a.jsx(fN,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(fN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(pN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(pN,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:r.caption,style:o.caption,children:u})}function See(t){var e=Ct(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function Eee(t,e,n){for(var r=n?Ya(new Date):to(new Date,{locale:t,weekStartsOn:e}),s=[],o=0;o<7;o++){var i=fn(r,o);s.push(i)}return s}function Cee(){var t=Ct(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,o=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=Eee(s,o,i);return a.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function Tee(){var t,e=Ct(),n=e.classNames,r=e.styles,s=e.components,o=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:Cee;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(o,{})})}function Nee(t){var e=Ct(),n=e.locale,r=e.formatters.formatDay;return a.jsx(a.Fragment,{children:r(t.date,{locale:n})})}var m1=g.createContext(void 0);function kee(t){if(!sh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(m1.Provider,{value:e,children:t.children})}return a.jsx(jee,{initialProps:t.initialProps,children:t.children})}function jee(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,o=e.max,i=function(u,d,f){var p,m;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var x=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!x){var S=r?sM([],r,!0):[];if(d.selected){var _=S.findIndex(function(v){return yr(u,v)});S.splice(_,1)}else S.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,S,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,f=r.some(function(p){return yr(p,u)});return!!(d&&!f)});var c={selected:r,onDayClick:i,modifiers:l};return a.jsx(m1.Provider,{value:c,children:n})}function g1(){var t=g.useContext(m1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Pee(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?yr(s,t)&&yr(r,t)?void 0:yr(s,t)?{from:s,to:void 0}:yr(r,t)?void 0:px(r,t)?{from:t,to:s}:{from:r,to:t}:s?px(t,s)?{from:s,to:t}:{from:t,to:s}:r?rM(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var v1=g.createContext(void 0);function Aee(t){if(!oh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(v1.Provider,{value:e,children:t.children})}return a.jsx(Iee,{initialProps:t.initialProps,children:t.children})}function Iee(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},o=s.from,i=s.to,l=e.min,c=e.max,u=function(m,y,x){var S,_;(S=e.onDayClick)===null||S===void 0||S.call(e,m,y,x);var v=Pee(m,r);(_=e.onSelect)===null||_===void 0||_.call(e,v,m,y,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],yr(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:Zv(o,l-1),before:fn(o,l-1)}),o&&i&&d.disabled.push({after:o,before:fn(o,l-1)}),!o&&i&&d.disabled.push({after:Zv(i,l-1),before:fn(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:fn(o,-c+1)}),d.disabled.push({after:fn(o,c-1)})),o&&i){var f=yo(i,o)+1,p=c-f;d.disabled.push({before:Zv(o,p)}),d.disabled.push({after:fn(i,p)})}!o&&i&&(d.disabled.push({before:fn(i,-c+1)}),d.disabled.push({after:fn(i,c-1)}))}return a.jsx(v1.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function y1(){var t=g.useContext(v1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Vf(t){return Array.isArray(t)?sM([],t,!0):t!==void 0?[t]:[]}function Ree(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Vf(s)}),e}var Cs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Cs||(Cs={}));var Dee=Cs.Selected,ao=Cs.Disabled,Oee=Cs.Hidden,Mee=Cs.Today,t0=Cs.RangeEnd,n0=Cs.RangeMiddle,r0=Cs.RangeStart,Lee=Cs.Outside;function Fee(t,e,n){var r,s=(r={},r[Dee]=Vf(t.selected),r[ao]=Vf(t.disabled),r[Oee]=Vf(t.hidden),r[Mee]=[t.today],r[t0]=[],r[n0]=[],r[r0]=[],r[Lee]=[],r);return t.fromDate&&s[ao].push({before:t.fromDate}),t.toDate&&s[ao].push({after:t.toDate}),sh(t)?s[ao]=s[ao].concat(e.modifiers[ao]):oh(t)&&(s[ao]=s[ao].concat(n.modifiers[ao]),s[r0]=n.modifiers[r0],s[n0]=n.modifiers[n0],s[t0]=n.modifiers[t0]),s}var cM=g.createContext(void 0);function Vee(t){var e=Ct(),n=g1(),r=y1(),s=Fee(e,n,r),o=Ree(e.modifiers),i=Oe(Oe({},s),o);return a.jsx(cM.Provider,{value:i,children:t.children})}function uM(){var t=g.useContext(cM);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function zee(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Uee(t){return!!(t&&typeof t=="object"&&"from"in t)}function Bee(t){return!!(t&&typeof t=="object"&&"after"in t)}function $ee(t){return!!(t&&typeof t=="object"&&"before"in t)}function qee(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Wee(t,e){var n,r=e.from,s=e.to;if(r&&s){var o=yo(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=yo(t,r)>=0&&yo(s,t)>=0;return i}return s?yr(s,t):r?yr(r,t):!1}function Hee(t){return h1(t)}function Gee(t){return Array.isArray(t)&&t.every(h1)}function Kee(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Hee(n))return yr(t,n);if(Gee(n))return n.includes(t);if(Uee(n))return Wee(t,n);if(qee(n))return n.dayOfWeek.includes(t.getDay());if(zee(n)){var r=yo(n.before,t),s=yo(n.after,t),o=r>0,i=s<0,l=px(n.before,n.after);return l?i&&o:o||i}return Bee(n)?yo(t,n.after)>0:$ee(n)?yo(n.before,t)>0:typeof n=="function"?n(t):!1})}function x1(t,e,n){var r=Object.keys(e).reduce(function(o,i){var l=e[i];return Kee(t,l)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!p1(t,n)&&(s.outside=!0),s}function Yee(t,e){for(var n=Kn(t[0]),r=jd(t[t.length-1]),s,o,i=n;i<=r;){var l=x1(i,e),c=!l.disabled&&!l.hidden;if(!c){i=fn(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=fn(i,1)}return o||s}var Qee=365;function dM(t,e){var n=e.moveBy,r=e.direction,s=e.context,o=e.modifiers,i=e.retry,l=i===void 0?{count:0,lastFocused:t}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,p={day:fn,week:hx,month:ss,year:XO,startOfWeek:function(S){return s.ISOWeek?Ya(S):to(S,{locale:f,weekStartsOn:c})},endOfWeek:function(S){return s.ISOWeek?JO(S):f1(S,{locale:f,weekStartsOn:c})}},m=p[n](t,r==="after"?1:-1);r==="before"&&u?m=vJ([u,m]):r==="after"&&d&&(m=yJ([d,m]));var y=!0;if(o){var x=x1(m,o);y=!x.disabled&&!x.hidden}return y?m:l.count>Qee?l.lastFocused:dM(m,{moveBy:n,direction:r,context:s,modifiers:o,retry:Oe(Oe({},l),{count:l.count+1})})}var hM=g.createContext(void 0);function Xee(t){var e=ih(),n=uM(),r=g.useState(),s=r[0],o=r[1],i=g.useState(),l=i[0],c=i[1],u=Yee(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),o(void 0)},p=function(S){o(S)},m=Ct(),y=function(S,_){if(s){var v=dM(s,{moveBy:S,direction:_,context:m,modifiers:n});yr(s,v)||(e.goToDate(v,s),p(v))}},x={focusedDay:s,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return a.jsx(hM.Provider,{value:x,children:t.children})}function w1(){var t=g.useContext(hM);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Jee(t,e){var n=uM(),r=x1(t,n,e);return r}var b1=g.createContext(void 0);function Zee(t){if(!mg(t.initialProps)){var e={selected:void 0};return a.jsx(b1.Provider,{value:e,children:t.children})}return a.jsx(ete,{initialProps:t.initialProps,children:t.children})}function ete(t){var e=t.initialProps,n=t.children,r=function(o,i,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,o,i,l),i.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,o,i,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,o,o,i,l)},s={selected:e.selected,onDayClick:r};return a.jsx(b1.Provider,{value:s,children:n})}function fM(){var t=g.useContext(b1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function tte(t,e){var n=Ct(),r=fM(),s=g1(),o=y1(),i=w1(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,p=i.focus,m=i.focusMonthBefore,y=i.focusMonthAfter,x=i.focusYearBefore,S=i.focusYearAfter,_=i.focusStartOfWeek,v=i.focusEndOfWeek,b=function($){var M,V,G,K;mg(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,t,e,$):sh(n)?(V=s.onDayClick)===null||V===void 0||V.call(s,t,e,$):oh(n)?(G=o.onDayClick)===null||G===void 0||G.call(o,t,e,$):(K=n.onDayClick)===null||K===void 0||K.call(n,t,e,$)},j=function($){var M;p(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,$)},R=function($){var M;f(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,$)},F=function($){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,$)},E=function($){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,$)},T=function($){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,$)},A=function($){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,$)},I=function($){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,$)},k=function($){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,$)},N=function($){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,$)},P=function($){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,$)},D=function($){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,$)},L=function($){var M;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?x():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?S():y();break;case"Home":$.preventDefault(),$.stopPropagation(),_();break;case"End":$.preventDefault(),$.stopPropagation(),v();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,$)},B={onClick:b,onFocus:j,onBlur:R,onKeyDown:L,onKeyUp:D,onMouseEnter:F,onMouseLeave:E,onPointerEnter:T,onPointerLeave:A,onTouchCancel:I,onTouchEnd:k,onTouchMove:N,onTouchStart:P};return B}function nte(){var t=Ct(),e=fM(),n=g1(),r=y1(),s=mg(t)?e.selected:sh(t)?n.selected:oh(t)?r.selected:void 0;return s}function rte(t){return Object.values(Cs).includes(t)}function ste(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(rte(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function ote(t,e){var n=Oe({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Oe(Oe({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function ite(t,e,n){var r,s,o,i=Ct(),l=w1(),c=Jee(t,e),u=tte(t,c),d=nte(),f=!!(i.onDayClick||i.mode!=="default");g.useEffect(function(){var F;c.outside||l.focusedDay&&f&&yr(l.focusedDay,t)&&((F=n.current)===null||F===void 0||F.focus())},[l.focusedDay,t,n,f,c.outside]);var p=ste(i,c).join(" "),m=ote(i,c),y=!!(c.outside&&!i.showOutsideDays||c.hidden),x=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:Nee,S=a.jsx(x,{date:t,displayMonth:e,activeModifiers:c}),_={style:m,className:p,children:S,role:"gridcell"},v=l.focusTarget&&yr(l.focusTarget,t)&&!c.outside,b=l.focusedDay&&yr(l.focusedDay,t),j=Oe(Oe(Oe({},_),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||v?0:-1,r)),u),R={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:_};return R}function ate(t){var e=g.useRef(null),n=ite(t.date,t.displayMonth,e);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(em,Oe({name:"day",ref:e},n.buttonProps)):a.jsx("div",Oe({},n.divProps))}function lte(t){var e=t.number,n=t.dates,r=Ct(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(m){s(e,n,m)};return a.jsx(em,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:p,children:d})}function cte(t){var e,n,r=Ct(),s=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:ate,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:lte,d;return i&&(d=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[d,t.dates.map(function(f){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:t.displayMonth,date:f})},OZ(f))})]})}function mN(t,e,n){for(var r=n!=null&&n.ISOWeek?JO(e):f1(e,n),s=n!=null&&n.ISOWeek?Ya(t):to(t,n),o=yo(r,s),i=[],l=0;l<=o;l++)i.push(fn(s,l));var c=i.reduce(function(u,d){var f=n!=null&&n.ISOWeek?RZ(d):VZ(d,n),p=u.find(function(m){return m.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function ute(t,e){var n=mN(Kn(t),jd(t),e);if(e!=null&&e.useFixedWeeks){var r=UZ(t,e);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=hx(o,6-r),l=mN(hx(o,1),i,e);n.push.apply(n,l)}}return n}function dte(t){var e,n,r,s=Ct(),o=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,m=s.ISOWeek,y=ute(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:o,weekStartsOn:f,firstWeekContainsDate:p}),x=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Tee,S=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:cte,_=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:See;return a.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&a.jsx(x,{}),a.jsx("tbody",{className:i.tbody,style:l.tbody,children:y.map(function(v){return a.jsx(S,{displayMonth:t.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),a.jsx(_,{displayMonth:t.displayMonth})]})}function hte(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var fte=hte()?g.useLayoutEffect:g.useEffect,s0=!1,pte=0;function gN(){return"react-day-picker-".concat(++pte)}function mte(t){var e,n=t??(s0?gN():null),r=g.useState(n),s=r[0],o=r[1];return fte(function(){s===null&&o(gN())},[]),g.useEffect(function(){s0===!1&&(s0=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function gte(t){var e,n,r=Ct(),s=r.dir,o=r.classNames,i=r.styles,l=r.components,c=ih().displayMonths,u=mte(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],p=i.month,m=t.displayIndex===0,y=t.displayIndex===c.length-1,x=!m&&!y;s==="rtl"&&(e=[m,y],y=e[0],m=e[1]),m&&(f.push(o.caption_start),p=Oe(Oe({},p),i.caption_start)),y&&(f.push(o.caption_end),p=Oe(Oe({},p),i.caption_end)),x&&(f.push(o.caption_between),p=Oe(Oe({},p),i.caption_between));var S=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:_ee;return a.jsxs("div",{className:f.join(" "),style:p,children:[a.jsx(S,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(dte,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function vte(t){var e=Ct(),n=e.classNames,r=e.styles;return a.jsx("div",{className:n.months,style:r.months,children:t.children})}function yte(t){var e,n,r=t.initialProps,s=Ct(),o=w1(),i=ih(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Oe(Oe({},s.styles.root),s.style),p=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,x){var S;return Oe(Oe({},y),(S={},S[x]=r[x],S))},{}),m=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:vte;return a.jsx("div",Oe({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:a.jsx(m,{children:i.displayMonths.map(function(y,x){return a.jsx(gte,{displayIndex:x,displayMonth:y},x)})})}))}function xte(t){var e=t.children,n=$Z(t,["children"]);return a.jsx(lee,{initialProps:n,children:a.jsx(yee,{children:a.jsx(Zee,{initialProps:n,children:a.jsx(kee,{initialProps:n,children:a.jsx(Aee,{initialProps:n,children:a.jsx(Vee,{children:a.jsx(Xee,{children:e})})})})})})})}function wte(t){return a.jsx(xte,Oe({},t,{children:a.jsx(yte,{initialProps:t})}))}function pM({className:t,classNames:e,showOutsideDays:n=!0,...r}){return a.jsx(wte,{showOutsideDays:n,className:qe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:qe("h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:qe("h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>a.jsx(hA,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(B9,{className:"h-4 w-4"})},...r})}pM.displayName="Calendar";var gg="Popover",[mM,fne]=no(gg,[Tc]),ah=Tc(),[bte,Zi]=mM(gg),gM=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=t,l=ah(e),c=g.useRef(null),[u,d]=g.useState(!1),[f,p]=Fa({prop:r,defaultProp:s??!1,onChange:o,caller:gg});return a.jsx(_2,{...l,children:a.jsx(bte,{scope:e,contentId:So(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:i,children:n})})};gM.displayName=gg;var vM="PopoverAnchor",_te=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Zi(vM,n),o=ah(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(Rm,{...o,...r,ref:e})});_te.displayName=vM;var yM="PopoverTrigger",xM=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Zi(yM,n),o=ah(n),i=yt(e,s.triggerRef),l=a.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":EM(s.open),...r,ref:i,onClick:Ce(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Rm,{asChild:!0,...o,children:l})});xM.displayName=yM;var _1="PopoverPortal",[Ste,Ete]=mM(_1,{forceMount:void 0}),wM=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Zi(_1,e);return a.jsx(Ste,{scope:e,forceMount:n,children:a.jsx(Fo,{present:n||o.open,children:a.jsx(Vd,{asChild:!0,container:s,children:r})})})};wM.displayName=_1;var xc="PopoverContent",bM=g.forwardRef((t,e)=>{const n=Ete(xc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Zi(xc,t.__scopePopover);return a.jsx(Fo,{present:r||o.open,children:o.modal?a.jsx(Tte,{...s,ref:e}):a.jsx(Nte,{...s,ref:e})})});bM.displayName=xc;var Cte=La("PopoverContent.RemoveScroll"),Tte=g.forwardRef((t,e)=>{const n=Zi(xc,t.__scopePopover),r=g.useRef(null),s=yt(e,r),o=g.useRef(!1);return g.useEffect(()=>{const i=r.current;if(i)return Jw(i)},[]),a.jsx(Xw,{as:Cte,allowPinchZoom:!0,children:a.jsx(_M,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Nte=g.forwardRef((t,e)=>{const n=Zi(xc,t.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(_M,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),_M=g.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=Zi(xc,n),m=ah(n);return Qw(),a.jsx(Mm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Sc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:a.jsx(Gw,{"data-state":EM(p.open),role:"dialog",id:p.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),SM="PopoverClose",kte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Zi(SM,n);return a.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});kte.displayName=SM;var jte="PopoverArrow",Pte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ah(n);return a.jsx(Kw,{...s,...r,ref:e})});Pte.displayName=jte;function EM(t){return t?"open":"closed"}var Ate=gM,Ite=xM,Rte=wM,CM=bM;const Dte=Ate,Ote=Ite,TM=Pe.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>a.jsx(Rte,{children:a.jsx(CM,{ref:s,align:e,sideOffset:n,className:qe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));TM.displayName=CM.displayName;const Mte=Pe.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx("div",{ref:s,role:n?"none":"separator","aria-orientation":e,className:qe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Mte.displayName="Separator";const Lte=()=>{g.useContext(Cr);const{toast:t}=Er();Mc();const{ordens:e=[]}=ug(),{ordens:n=[]}=eh();th(),nh();const{financeiro:r=[]}=rh(),[s,o]=g.useState("graficos"),[i,l]=g.useState({from:fn(new Date,-30),to:new Date}),[c,u]=g.useState(null),[d,f]=g.useState(""),[p,m]=g.useState("all"),[y,x]=g.useState("grid"),[S,_]=g.useState(!1),v=[{label:"ltimos 7 dias",value:"7d",from:fn(new Date,-7),to:new Date},{label:"ltimos 30 dias",value:"30d",from:fn(new Date,-30),to:new Date},{label:"ltimos 90 dias",value:"90d",from:fn(new Date,-90),to:new Date},{label:"Este ms",value:"month",from:Kn(new Date),to:jd(new Date)},{label:"Ms passado",value:"lastMonth",from:Kn(dN(new Date,1)),to:jd(dN(new Date,1))},{label:"Este ano",value:"year",from:fx(new Date),to:oN(new Date)},{label:"Ano passado",value:"lastYear",from:fx(hN(new Date,1)),to:oN(hN(new Date,1))}];n.filter(I=>{const k=new Date(I.createdAt);return k>=i.from&&k<=i.to}),e.filter(I=>{const k=new Date(I.createdAt);return k>=i.from&&k<=i.to}),r.filter(I=>{const k=new Date(I.createdAt);return k>=i.from&&k<=i.to});const b=[{id:"vendas-diarias",title:"Vendas Dirias",description:"Evoluo das vendas por dia",icon:fr,color:"bg-blue-500",type:"bar"},{id:"fluxo-caixa",title:"Fluxo de Caixa",description:"Entradas e sadas de dinheiro",icon:mr,color:"bg-green-500",type:"line"},{id:"produtos-vendidos",title:"Produtos Mais Vendidos",description:"Ranking dos produtos por quantidade",icon:Gn,color:"bg-purple-500",type:"horizontalBar"},{id:"categorias-vendas",title:"Vendas por Categoria",description:"Distribuio de vendas por categoria",icon:yv,color:"bg-orange-500",type:"pie"},{id:"clientes-top",title:"Top Clientes",description:"Clientes que mais compraram",icon:xs,color:"bg-indigo-500",type:"bar"},{id:"receitas-despesas",title:"Receitas vs Despesas",description:"Comparativo mensal de receitas e despesas",icon:Nn,color:"bg-emerald-500",type:"composed"},{id:"ticket-medio",title:"Ticket Mdio",description:"Valor mdio por venda ao longo do tempo",icon:Fh,color:"bg-cyan-500",type:"line"},{id:"conversao-vendas",title:"Taxa de Converso",description:"Percentual de converso de propostas em vendas",icon:yu,color:"bg-pink-500",type:"area"}],j=[{id:"vendas-por-periodo",title:"Vendas por Perodo",category:"Vendas",icon:fa,color:"bg-blue-500"},{id:"vendas-por-cliente",title:"Vendas por Cliente",category:"Vendas",icon:xs,color:"bg-indigo-500"},{id:"vendas-por-produto",title:"Vendas por Produto",category:"Vendas",icon:Gn,color:"bg-purple-500"},{id:"vendas-por-categoria",title:"Vendas por Categoria",category:"Vendas",icon:Vu,color:"bg-orange-500"},{id:"vendas-por-vendedor",title:"Vendas por Vendedor",category:"Vendas",icon:Xr,color:"bg-green-500"},{id:"vendas-por-regiao",title:"Vendas por Regio",category:"Vendas",icon:bp,color:"bg-red-500"},{id:"vendas-por-canal",title:"Vendas por Canal",category:"Vendas",icon:fA,color:"bg-cyan-500"},{id:"vendas-por-forma-pagamento",title:"Vendas por Forma de Pagamento",category:"Vendas",icon:q9,color:"bg-yellow-500"},{id:"ticket-medio-cliente",title:"Ticket Mdio por Cliente",category:"Vendas",icon:Fh,color:"bg-pink-500"},{id:"frequencia-compra",title:"Frequncia de Compra",category:"Vendas",icon:ni,color:"bg-teal-500"},{id:"receitas-periodo",title:"Receitas por Perodo",category:"Financeiro",icon:mr,color:"bg-emerald-500"},{id:"despesas-periodo",title:"Despesas por Perodo",category:"Financeiro",icon:Ma,color:"bg-red-500"},{id:"fluxo-caixa-detalhado",title:"Fluxo de Caixa Detalhado",category:"Financeiro",icon:Nn,color:"bg-green-500"},{id:"contas-receber",title:"Contas a Receber",category:"Financeiro",icon:ni,color:"bg-yellow-500"},{id:"contas-pagar",title:"Contas a Pagar",category:"Financeiro",icon:$s,color:"bg-orange-500"},{id:"margem-lucro",title:"Margem de Lucro",category:"Financeiro",icon:yu,color:"bg-purple-500"},{id:"roi-produtos",title:"ROI por Produto",category:"Financeiro",icon:fr,color:"bg-indigo-500"},{id:"custo-venda",title:"Custo por Venda",category:"Financeiro",icon:Fh,color:"bg-cyan-500"},{id:"lucratividade-categoria",title:"Lucratividade por Categoria",category:"Financeiro",icon:yv,color:"bg-pink-500"},{id:"projecao-receitas",title:"Projeo de Receitas",category:"Financeiro",icon:mr,color:"bg-teal-500"},{id:"estoque-atual",title:"Estoque Atual",category:"Estoque",icon:Gn,color:"bg-blue-500"},{id:"produtos-baixo-estoque",title:"Produtos com Baixo Estoque",category:"Estoque",icon:$s,color:"bg-red-500"},{id:"produtos-sem-estoque",title:"Produtos sem Estoque",category:"Estoque",icon:_r,color:"bg-red-600"},{id:"movimentacao-estoque",title:"Movimentao de Estoque",category:"Estoque",icon:my,color:"bg-green-500"},{id:"giro-estoque",title:"Giro de Estoque",category:"Estoque",icon:zh,color:"bg-purple-500"},{id:"valor-estoque",title:"Valor do Estoque",category:"Estoque",icon:Nn,color:"bg-yellow-500"},{id:"produtos-vencidos",title:"Produtos Vencidos",category:"Estoque",icon:fa,color:"bg-orange-500"},{id:"produtos-proximo-vencimento",title:"Produtos Prximos ao Vencimento",category:"Estoque",icon:ni,color:"bg-yellow-600"},{id:"entradas-estoque",title:"Entradas de Estoque",category:"Estoque",icon:L9,color:"bg-green-600"},{id:"saidas-estoque",title:"Sadas de Estoque",category:"Estoque",icon:V9,color:"bg-red-600"},{id:"clientes-cadastrados",title:"Clientes Cadastrados",category:"Clientes",icon:xs,color:"bg-indigo-500"},{id:"clientes-ativos",title:"Clientes Ativos",category:"Clientes",icon:xp,color:"bg-green-500"},{id:"clientes-inativos",title:"Clientes Inativos",category:"Clientes",icon:_r,color:"bg-red-500"},{id:"novos-clientes",title:"Novos Clientes",category:"Clientes",icon:Ir,color:"bg-blue-500"},{id:"clientes-fidelidade",title:"Clientes Fidelidade",category:"Clientes",icon:Sf,color:"bg-yellow-500"},{id:"segmentacao-clientes",title:"Segmentao de Clientes",category:"Clientes",icon:kE,color:"bg-purple-500"},{id:"satisfacao-clientes",title:"Satisfao dos Clientes",category:"Clientes",icon:NE,color:"bg-pink-500"},{id:"clientes-potenciais",title:"Clientes Potenciais",category:"Clientes",icon:yu,color:"bg-cyan-500"},{id:"historico-cliente",title:"Histrico por Cliente",category:"Clientes",icon:qs,color:"bg-teal-500"},{id:"geolocalizacao-clientes",title:"Geolocalizao de Clientes",category:"Clientes",icon:bp,color:"bg-orange-500"},{id:"catalogo-produtos",title:"Catlogo de Produtos",category:"Produtos",icon:Gn,color:"bg-blue-500"},{id:"produtos-mais-vendidos",title:"Produtos Mais Vendidos",category:"Produtos",icon:mr,color:"bg-green-500"},{id:"produtos-menos-vendidos",title:"Produtos Menos Vendidos",category:"Produtos",icon:Ma,color:"bg-red-500"},{id:"produtos-lucrativos",title:"Produtos Mais Lucrativos",category:"Produtos",icon:Nn,color:"bg-yellow-500"},{id:"produtos-sazonalidade",title:"Sazonalidade de Produtos",category:"Produtos",icon:fa,color:"bg-purple-500"},{id:"preco-produtos",title:"Anlise de Preos",category:"Produtos",icon:Vu,color:"bg-indigo-500"},{id:"margem-produtos",title:"Margem por Produto",category:"Produtos",icon:Fh,color:"bg-cyan-500"},{id:"produtos-categoria",title:"Produtos por Categoria",category:"Produtos",icon:kE,color:"bg-orange-500"},{id:"produtos-fornecedor",title:"Produtos por Fornecedor",category:"Produtos",icon:J9,color:"bg-teal-500"},{id:"produtos-promocao",title:"Produtos em Promoo",category:"Produtos",icon:fd,color:"bg-pink-500"},{id:"ordens-servico",title:"Ordens de Servio",category:"Servios",icon:qs,color:"bg-blue-500"},{id:"servicos-concluidos",title:"Servios Concludos",category:"Servios",icon:xp,color:"bg-green-500"},{id:"servicos-pendentes",title:"Servios Pendentes",category:"Servios",icon:ni,color:"bg-yellow-500"},{id:"servicos-atrasados",title:"Servios Atrasados",category:"Servios",icon:$s,color:"bg-red-500"},{id:"tempo-medio-servico",title:"Tempo Mdio de Servio",category:"Servios",icon:ni,color:"bg-purple-500"},{id:"servicos-tecnico",title:"Servios por Tcnico",category:"Servios",icon:Xr,color:"bg-indigo-500"},{id:"servicos-tipo",title:"Servios por Tipo",category:"Servios",icon:Vu,color:"bg-orange-500"},{id:"satisfacao-servicos",title:"Satisfao dos Servios",category:"Servios",icon:Sf,color:"bg-yellow-500"},{id:"custos-servicos",title:"Custos dos Servios",category:"Servios",icon:Nn,color:"bg-green-500"},{id:"agendamentos",title:"Agendamentos",category:"Servios",icon:fa,color:"bg-cyan-500"},{id:"performance-vendedores",title:"Performance dos Vendedores",category:"Performance",icon:z9,color:"bg-yellow-600"},{id:"metas-vendas",title:"Metas de Vendas",category:"Performance",icon:yu,color:"bg-purple-500"},{id:"conversao-leads",title:"Converso de Leads",category:"Performance",icon:mr,color:"bg-green-500"},{id:"tempo-resposta",title:"Tempo de Resposta",category:"Performance",icon:ni,color:"bg-blue-500"},{id:"produtividade-equipe",title:"Produtividade da Equipe",category:"Performance",icon:my,color:"bg-indigo-500"},{id:"eficiencia-processos",title:"Eficincia dos Processos",category:"Performance",icon:fd,color:"bg-yellow-500"},{id:"qualidade-atendimento",title:"Qualidade do Atendimento",category:"Performance",icon:Sf,color:"bg-pink-500"},{id:"retencao-clientes",title:"Reteno de Clientes",category:"Performance",icon:NE,color:"bg-red-500"},{id:"crescimento-receita",title:"Crescimento da Receita",category:"Performance",icon:mr,color:"bg-emerald-500"},{id:"market-share",title:"Market Share",category:"Performance",icon:yv,color:"bg-cyan-500"}],R=I=>{l({from:I.from,to:I.to})},F=async I=>{_(!0);try{await new Promise(k=>setTimeout(k,1e3)),t({title:"Relatrio gerado!",description:"O relatrio foi processado com sucesso."}),u(I)}catch{t({title:"Erro",description:"Erro ao gerar o relatrio.",variant:"destructive"})}finally{_(!1)}},E=I=>{t({title:"Exportando...",description:`Relatrio sendo exportado em formato ${I}`})},T=j.filter(I=>{const k=p==="all"||I.category===p,N=I.title.toLowerCase().includes(d.toLowerCase());return k&&N}),A=["all",...new Set(j.map(I=>I.category))];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatrios"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Anlise completa e detalhada do seu negcio"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(Dte,{children:[a.jsx(Ote,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"w-full sm:w-[280px] justify-start",children:[a.jsx(fa,{className:"mr-2 h-4 w-4"}),i!=null&&i.from?i.to?a.jsxs(a.Fragment,{children:[Js(i.from,"dd/MM/yyyy")," - ",Js(i.to,"dd/MM/yyyy")]}):Js(i.from,"dd/MM/yyyy"):a.jsx("span",{children:"Selecione um perodo"})]})}),a.jsx(TM,{className:"w-auto p-0",align:"end",children:a.jsx(pM,{initialFocus:!0,mode:"range",defaultMonth:i==null?void 0:i.from,selected:i,onSelect:l,numberOfMonths:2})})]}),a.jsxs(ut,{onValueChange:I=>{const k=v.find(N=>N.value===I);k&&R(k)},children:[a.jsx(at,{className:"w-full sm:w-[180px]",children:a.jsx(dt,{placeholder:"Perodo rpido"})}),a.jsx(lt,{children:v.map(I=>a.jsx(oe,{value:I.value,children:I.label},I.value))})]})]})]}),a.jsxs($a,{value:s,onValueChange:o,className:"w-full",children:[a.jsxs(Di,{className:"grid w-full grid-cols-2",children:[a.jsxs(Pt,{value:"graficos",className:"flex items-center gap-2",children:[a.jsx(fr,{className:"h-4 w-4"}),"Relatrios Grficos"]}),a.jsxs(Pt,{value:"lista",className:"flex items-center gap-2",children:[a.jsx(jE,{className:"h-4 w-4"}),"Relatrios em Lista"]})]}),a.jsx(hn,{value:"graficos",className:"space-y-6 pt-6",children:a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(I=>a.jsxs(Kt,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:[a.jsxs(nn,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-5 w-5 text-white"})}),a.jsx(Ri,{variant:"secondary",className:"text-xs",children:I.type})]}),a.jsx(rn,{className:"text-lg",children:I.title}),a.jsx(mo,{className:"text-sm",children:I.description})]}),a.jsx(Yt,{className:"pt-0",children:a.jsxs(Q,{onClick:()=>F(I.id),className:"w-full",disabled:S,children:[S?a.jsx(zh,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(ql,{className:"h-4 w-4 mr-2"}),"Visualizar"]})})]},I.id))})}),a.jsxs(hn,{value:"lista",className:"space-y-6 pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(fe,{placeholder:"Buscar relatrios...",value:d,onChange:I=>f(I.target.value),className:"pl-10"})]}),a.jsxs(ut,{value:p,onValueChange:m,children:[a.jsx(at,{className:"w-full sm:w-[200px]",children:a.jsx(dt,{placeholder:"Categoria"})}),a.jsx(lt,{children:A.map(I=>a.jsx(oe,{value:I,children:I==="all"?"Todas as Categorias":I},I))})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q,{variant:y==="grid"?"default":"outline",size:"sm",onClick:()=>x("grid"),children:a.jsx(W9,{className:"h-4 w-4"})}),a.jsx(Q,{variant:y==="list"?"default":"outline",size:"sm",onClick:()=>x("list"),children:a.jsx(jE,{className:"h-4 w-4"})})]})]}),a.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:qe("gap-4",y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"space-y-3"),children:a.jsx(uA,{children:T.map((I,k)=>a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:k*.05},children:y==="grid"?a.jsxs(Kt,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer h-full",children:[a.jsxs(nn,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-5 w-5 text-white"})}),a.jsx(Ri,{variant:"outline",className:"text-xs",children:I.category})]}),a.jsx(rn,{className:"text-base",children:I.title})]}),a.jsx(Yt,{className:"pt-0",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Q,{size:"sm",onClick:()=>F(I.id),className:"flex-1",disabled:S,children:[S?a.jsx(zh,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx(ql,{className:"h-3 w-3 mr-1"}),"Ver"]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>E("PDF"),children:a.jsx(wp,{className:"h-3 w-3"})})]})})]}):a.jsx(Kt,{className:"group hover:shadow-md transition-all duration-300 cursor-pointer",children:a.jsx(Yt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:I.title}),a.jsx("p",{className:"text-sm text-slate-500",children:I.category})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Q,{size:"sm",onClick:()=>F(I.id),disabled:S,children:[S?a.jsx(zh,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx(ql,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>E("PDF"),children:a.jsx(wp,{className:"h-3 w-3"})}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>E("Excel"),children:a.jsx(qs,{className:"h-3 w-3"})})]})]})})})},I.id))})}),a.jsx("div",{className:"mt-8 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400",children:[a.jsxs("span",{children:["Total de relatrios: ",T.length]}),a.jsxs("span",{children:["Categoria: ",p==="all"?"Todas":p]})]})})]})]})]})},lo=Pe.forwardRef(({className:t,checked:e,onCheckedChange:n,...r},s)=>a.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>n==null?void 0:n(!e),className:qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e?"bg-primary":"bg-input",t),ref:s,...r,children:a.jsx("span",{className:qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",e?"translate-x-5":"translate-x-0")})}));lo.displayName="Switch";const vN={"pt-BR":{"nav.dashboard":"Dashboard","nav.clientes":"Clientes","nav.os":"Ordens de Servio","nav.ov":"Ordens de Venda","nav.estoque":"Estoque","nav.financeiro":"Financeiro","nav.relatorios":"Relatrios","nav.configuracoes":"Configuraes","config.titulo":"Configuraes","config.descricao":"Gerencie todas as configuraes do sistema","config.salvar":"Salvar Configuraes","config.restaurarPadroes":"Restaurar Padres","config.tabs.personalizacao":"Personalizao","config.tabs.usuarios":"Usurios","config.tabs.seguranca":"Segurana","config.tabs.impressao":"Impresso","config.tabs.sistema":"Sistema","config.tabs.loja":"Loja","config.personalizacao.titulo":"Personalizao do Sistema","config.personalizacao.descricao":"Configure a aparncia e identidade visual do sistema","config.tema":"Tema","config.tema.descricao":"Escolha entre tema claro, escuro ou automtico do sistema","config.tema.light":"Claro","config.tema.dark":"Escuro","config.tema.system":"Sistema","config.corPrimaria":"Cor Primria","config.corPrimaria.descricao":"Cor principal usada em botes, links e elementos destacados","config.corSecundaria":"Cor Secundria","config.corSecundaria.descricao":"Cor complementar usada em gradientes e elementos secundrios","config.nomeEmpresa":"Nome da Empresa","config.nomeEmpresa.descricao":"Nome que aparecer no cabealho e ttulo do sistema","config.logoEmpresa":"Logo da Empresa","config.logoEmpresa.descricao":"Imagem que aparecer no cabealho do sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal da interface do usurio","config.idioma.pt-BR":"Portugus (Brasil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Espaol","config.idioma.zh-CN":" ()","config.idioma ja-JP":"","config.usuarios.titulo":"Configuraes de Usurios","config.usuarios.descricao":"Gerencie configuraes relacionadas aos usurios do sistema","config.permitirCadastro":"Permitir Cadastro","config.permitirCadastro.descricao":"Permite que novos usurios se cadastrem no sistema","config.requerAprovacao":"Requer Aprovao","config.requerAprovacao.descricao":"Novos cadastros precisam ser aprovados por um administrador","config.limiteUsuarios":"Limite de Usurios","config.limiteUsuarios.descricao":"Nmero mximo de usurios permitidos no sistema","config.notificacaoNovosUsuarios":"Notificar Novos Usurios","config.notificacaoNovosUsuarios.descricao":"Enviar notificaes quando novos usurios se cadastrarem","usuarios.tipos.admin":"Administrador","usuarios.tipos.financeiro":"Financeiro","usuarios.tipos.comum":"Comum","usuarios.status.ativo":"Ativo","usuarios.status.inativo":"Inativo","usuarios.erros.nomeObrigatorio":"Nome  obrigatrio","usuarios.erros.nomeMinimo":"Nome deve ter pelo menos 2 caracteres","usuarios.erros.emailObrigatorio":"Email  obrigatrio","usuarios.erros.emailInvalido":"Email invlido","usuarios.erros.telefoneInvalido":"Telefone invlido","usuarios.edicao.titulo":"Editar Usurio","usuarios.edicao.descricao":"Edite as informaes do usurio","usuarios.edicao.cancelar":"Cancelar","usuarios.edicao.salvar":"Salvar","usuarios.edicao.salvando":"Salvando...","usuarios.edicao.erro":"Erro ao salvar","usuarios.edicao.erroDescricao":"No foi possvel salvar as alteraes","usuarios.remocao.titulo":"Remover Usurio","usuarios.remocao.descricao":"Tem certeza que deseja remover este usurio?","usuarios.remocao.cancelar":"Cancelar","usuarios.remocao.confirmar":"Remover","usuarios.remocao.removendo":"Removendo...","usuarios.remocao.erro":"Erro ao remover","usuarios.remocao.erroDescricao":"No foi possvel remover o usurio","usuarios.remocao.erroConfirmacao":"Confirmao necessria","usuarios.remocao.erroConfirmacaoDescricao":'Digite "CONFIRMAR" para remover o usurio',"usuarios.remocao.aviso.titulo":"Ateno!","usuarios.remocao.aviso.descricao":"Esta ao no pode ser desfeita.","usuarios.remocao.aviso.item1":"O usurio perder acesso ao sistema","usuarios.remocao.aviso.item2":"Todos os dados do usurio sero removidos","usuarios.remocao.aviso.item3":"Esta ao no pode ser desfeita","usuarios.remocao.confirmacao.label":"Confirmao","usuarios.remocao.confirmacao.descricao":'Digite "CONFIRMAR" para confirmar a remoo',"usuarios.remocao.confirmacao.placeholder":"CONFIRMAR","usuarios.cadastro.form.nome":"Nome","usuarios.cadastro.form.nomePlaceholder":"Digite o nome completo","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Digite o email","usuarios.cadastro.form.telefone":"Telefone","usuarios.cadastro.form.telefonePlaceholder":"Digite o telefone","usuarios.cadastro.form.tipo":"Tipo de Usurio","usuarios.cadastro.form.senha":"Senha","usuarios.cadastro.form.senhaPlaceholder":"Digite a senha","usuarios.cadastro.form.confirmarSenha":"Confirmar Senha","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirme a senha","usuarios.listagem.titulo":"Usurios","usuarios.listagem.descricao":"Gerencie os usurios do sistema","usuarios.filtros.titulo":"Filtros","usuarios.busca":"Buscar","usuarios.busca.placeholder":"Buscar por nome ou email...","usuarios.filtros.tipo":"Tipo","usuarios.filtros.status":"Status","usuarios.filtros.todos":"Todos","usuarios.lista.titulo":"Lista de Usurios","usuarios.lista.descricao":"Usurios encontrados","usuarios.adicionar":"Adicionar Usurio","usuarios.tabela.nome":"Nome","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Tipo","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"ltimo Acesso","usuarios.tabela.acoes":"Aes","usuarios.lista.vazia":"Nenhum usurio encontrado","config.seguranca.titulo":"Configuraes de Segurana","config.seguranca.descricao":"Configure as polticas de segurana e autenticao","config.autenticacaoDoisFatores":"Autenticao 2 Fatores","config.autenticacaoDoisFatores.descricao":"Requer segundo fator de autenticao para login","config.tempoSessao":"Tempo da Sesso (min)","config.tempoSessao.descricao":"Tempo em minutos antes da sesso expirar automaticamente","config.tentativasLogin":"Tentativas de Login","config.tentativasLogin.descricao":"Nmero de tentativas de login antes do bloqueio","config.bloqueioAutomatico":"Bloqueio Automtico","config.bloqueioAutomatico.descricao":"Bloqueia automaticamente aps tentativas falhas","config.auditoriaAtivada":"Auditoria Ativada","config.auditoriaAtivada.descricao":"Registra todas as aes dos usurios no sistema","config.impressao.titulo":"Configuraes de Impresso","config.impressao.descricao":"Configure as opes padro para impresso de documentos","config.formatoPadrao":"Formato Padro","config.formatoPadrao.descricao":"Formato de papel padro para impresses","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientao","config.orientacao.descricao":"Orientao padro da pgina para impresses","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisagem","config.margens":"Margens","config.margens.descricao":"Configurao das margens padro para impresses","config.margens.normal":"Normal","config.margens.estreita":"Estreita","config.margens.larga":"Larga","config.cabecalhoPersonalizado":"Cabealho Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir cabealho personalizado nas impresses","config.rodapePersonalizado":"Rodap Personalizado","config.rodapePersonalizado.descricao":"Incluir rodap personalizado nas impresses","config.sistema.titulo":"Configuraes do Sistema","config.sistema.descricao":"Configuraes tcnicas e de performance do sistema","config.backupAutomatico":"Backup Automtico","config.backupAutomatico.descricao":"Realizar backups automticos dos dados","config.frequenciaBackup":"Frequncia Backup","config.frequenciaBackup.descricao":"Com que frequncia os backups devem ser realizados","config.frequencia.diario":"Dirio","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensal","config.notificacoesEmail":"Notificaes Email","config.notificacoesEmail.descricao":"Enviar notificaes importantes por email","config.cacheAtivo":"Cache Ativo","config.cacheAtivo.descricao":"Ativar sistema de cache para melhorar performance","config.logsAtivo":"Logs Ativo","config.logsAtivo.descricao":"Manter registros detalhados das atividades do sistema","msg.configuracoesSalvas":"Configuraes salvas com sucesso!","msg.configuracoesRestauradas":"Configuraes restauradas para os padres!","msg.descricaoRestaurada":"Todas as configuraes foram restauradas para os valores padro.","msg.arquivoInvalido":"Arquivo invlido! Por favor, selecione uma imagem.","msg.logoRemovido":"Logo removido com sucesso!","msg.erroUpload":"Erro no upload da imagem. Tente novamente.","common.salvar":"Salvar","common.cancelar":"Cancelar","config.logoDescricao":"Arraste uma imagem ou clique para selecionar","config.logoTipos":"PNG, JPG ou GIF (mx. 5MB)","config.removerLogo":"Remover Logo","config.selecionarArquivo":"clique para selecionar"},"en-US":{"nav.dashboard":"Dashboard","nav.clientes":"Clients","nav.os":"Service Orders","nav.ov":"Sales Orders","nav.estoque":"Inventory","nav.financeiro":"Financial","nav.relatorios":"Reports","nav.configuracoes":"Settings","config.titulo":"Settings","config.descricao":"Manage all system settings","config.salvar":"Save Settings","config.restaurarPadroes":"Restore Defaults","config.personalizacao.titulo":"System Personalization","config.personalizacao.descricao":"Configure system appearance and visual identity","config.tema":"Theme","config.tema.descricao":"Choose between light, dark or system automatic theme","config.tema.light":"Light","config.tema.dark":"Dark","config.tema.system":"System","config.corPrimaria":"Primary Color","config.corPrimaria.descricao":"Main color used in buttons, links and highlighted elements","config.corSecundaria":"Secondary Color","config.corSecundaria.descricao":"Complementary color used in gradients and secondary elements","config.nomeEmpresa":"Company Name","config.nomeEmpresa.descricao":"Name that will appear in the header and system title","config.logoEmpresa":"Company Logo","config.logoEmpresa.descricao":"Image that will appear in the system header","config.idioma":"Language","config.idioma.descricao":"Main language of the user interface","config.idioma.pt-BR":"Portuguese (Brazil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Spanish","config.idioma.zh-CN":"Chinese (Simplified)","config.idioma ja-JP":"Japanese","config.usuarios.titulo":"User Settings","config.usuarios.descricao":"Manage user-related system settings","config.permitirCadastro":"Allow Registration","config.permitirCadastro.descricao":"Allows new users to register in the system","config.requerAprovacao":"Require Approval","config.requerAprovacao.descricao":"New registrations need to be approved by an administrator","config.limiteUsuarios":"User Limit","config.limiteUsuarios.descricao":"Maximum number of users allowed in the system","config.notificacaoNovosUsuarios":"Notify New Users","config.notificacaoNovosUsuarios.descricao":"Send notifications when new users register","usuarios.tipos.admin":"Administrator","usuarios.tipos.financeiro":"Financial","usuarios.tipos.comum":"Common","usuarios.status.ativo":"Active","usuarios.status.inativo":"Inactive","usuarios.erros.nomeObrigatorio":"Name is required","usuarios.erros.nomeMinimo":"Name must have at least 2 characters","usuarios.erros.emailObrigatorio":"Email is required","usuarios.erros.emailInvalido":"Invalid email","usuarios.erros.telefoneInvalido":"Invalid phone","usuarios.edicao.titulo":"Edit User","usuarios.edicao.descricao":"Edit user information","usuarios.edicao.cancelar":"Cancel","usuarios.edicao.salvar":"Save","usuarios.edicao.salvando":"Saving...","usuarios.edicao.erro":"Error saving","usuarios.edicao.erroDescricao":"Could not save changes","usuarios.remocao.titulo":"Remove User","usuarios.remocao.descricao":"Are you sure you want to remove this user?","usuarios.remocao.cancelar":"Cancel","usuarios.remocao.confirmar":"Remove","usuarios.remocao.removendo":"Removing...","usuarios.remocao.erro":"Error removing","usuarios.remocao.erroDescricao":"Could not remove user","usuarios.remocao.erroConfirmacao":"Confirmation required","usuarios.remocao.erroConfirmacaoDescricao":'Type "CONFIRM" to remove the user',"usuarios.remocao.aviso.titulo":"Warning!","usuarios.remocao.aviso.descricao":"This action cannot be undone.","usuarios.remocao.aviso.item1":"The user will lose access to the system","usuarios.remocao.aviso.item2":"All user data will be removed","usuarios.remocao.aviso.item3":"This action cannot be undone","usuarios.remocao.confirmacao.label":"Confirmation","usuarios.remocao.confirmacao.descricao":'Type "CONFIRM" to confirm removal',"usuarios.remocao.confirmacao.placeholder":"CONFIRM","usuarios.cadastro.form.nome":"Name","usuarios.cadastro.form.nomePlaceholder":"Enter full name","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Enter email","usuarios.cadastro.form.telefone":"Phone","usuarios.cadastro.form.telefonePlaceholder":"Enter phone","usuarios.cadastro.form.tipo":"User Type","usuarios.cadastro.form.senha":"Password","usuarios.cadastro.form.senhaPlaceholder":"Enter password","usuarios.cadastro.form.confirmarSenha":"Confirm Password","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirm password","usuarios.listagem.titulo":"Users","usuarios.listagem.descricao":"Manage system users","usuarios.filtros.titulo":"Filters","usuarios.busca":"Search","usuarios.busca.placeholder":"Search by name or email...","usuarios.filtros.tipo":"Type","usuarios.filtros.status":"Status","usuarios.filtros.todos":"All","usuarios.lista.titulo":"User List","usuarios.lista.descricao":"Users found","usuarios.adicionar":"Add User","usuarios.tabela.nome":"Name","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Type","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Last Access","usuarios.tabela.acoes":"Actions","usuarios.lista.vazia":"No users found","config.seguranca.titulo":"Security Settings","config.seguranca.descricao":"Configure security and authentication policies","config.autenticacaoDoisFatores":"Two-Factor Authentication","config.autenticacaoDoisFatores.descricao":"Requires second authentication factor for login","config.tempoSessao":"Session Time (min)","config.tempoSessao.descricao":"Time in minutes before session expires automatically","config.tentativasLogin":"Login Attempts","config.tentativasLogin.descricao":"Number of login attempts before blocking","config.bloqueioAutomatico":"Automatic Lock","config.bloqueioAutomatico.descricao":"Automatically blocks after failed attempts","config.auditoriaAtivada":"Audit Enabled","config.auditoriaAtivada.descricao":"Records all user actions in the system","config.impressao.titulo":"Print Settings","config.impressao.descricao":"Configure default options for document printing","config.formatoPadrao":"Default Format","config.formatoPadrao.descricao":"Default paper format for printing","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Letter","config.orientacao":"Orientation","config.orientacao.descricao":"Default page orientation for printing","config.orientacao.retrato":"Portrait","config.orientacao.paisagem":"Landscape","config.margens":"Margins","config.margens.descricao":"Default margin configuration for printing","config.margens.normal":"Normal","config.margens.estreita":"Narrow","config.margens.larga":"Wide","config.cabecalhoPersonalizado":"Custom Header","config.cabecalhoPersonalizado.descricao":"Include custom header in prints","config.rodapePersonalizado":"Custom Footer","config.rodapePersonalizado.descricao":"Include custom footer in prints","config.sistema.titulo":"System Settings","config.sistema.descricao":"Technical and performance system settings","config.backupAutomatico":"Automatic Backup","config.backupAutomatico.descricao":"Perform automatic data backups","config.frequenciaBackup":"Backup Frequency","config.frequenciaBackup.descricao":"How often backups should be performed","config.frequencia.diario":"Daily","config.frequencia.semanal":"Weekly","config.frequencia.mensal":"Monthly","config.notificacoesEmail":"Email Notifications","config.notificacoesEmail.descricao":"Send important notifications by email","config.cacheAtivo":"Cache Active","config.cacheAtivo.descricao":"Enable cache system to improve performance","config.logsAtivo":"Logs Active","config.logsAtivo.descricao":"Keep detailed records of system activities","msg.configuracoesSalvas":"Settings saved successfully!","msg.configuracoesRestauradas":"Settings restored to defaults!","msg.descricaoRestaurada":"All settings have been restored to default values.","msg.arquivoInvalido":"Invalid file! Please select an image.","msg.logoRemovido":"Logo removed successfully!","msg.erroUpload":"Upload error. Please try again.","common.salvar":"Save","common.cancelar":"Cancel","config.logoDescricao":"Drag an image or click to select","config.logoTipos":"PNG, JPG or GIF (max. 5MB)","config.removerLogo":"Remove Logo","config.selecionarArquivo":"click to select"},"es-ES":{"nav.dashboard":"Panel","nav.clientes":"Clientes","nav.os":"rdenes de Servicio","nav.ov":"rdenes de Venta","nav.estoque":"Inventario","nav.financeiro":"Financiero","nav.relatorios":"Reportes","nav.configuracoes":"Configuraciones","config.titulo":"Configuraciones","config.descricao":"Gestionar todas las configuraciones del sistema","config.salvar":"Guardar Configuraciones","config.restaurarPadroes":"Restaurar Predeterminados","config.personalizacao.titulo":"Personalizacin del Sistema","config.personalizacao.descricao":"Configurar apariencia e identidad visual del sistema","config.tema":"Tema","config.tema.descricao":"Elegir entre tema claro, oscuro o automtico del sistema","config.tema.light":"Claro","config.tema.dark":"Oscuro","config.tema.system":"Sistema","config.corPrimaria":"Color Primario","config.corPrimaria.descricao":"Color principal usado en botones, enlaces y elementos destacados","config.corSecundaria":"Color Secundario","config.corSecundaria.descricao":"Color complementario usado en gradientes y elementos secundarios","config.nomeEmpresa":"Nombre de la Empresa","config.nomeEmpresa.descricao":"Nombre que aparecer en el encabezado y ttulo del sistema","config.logoEmpresa":"Logo de la Empresa","config.logoEmpresa.descricao":"Imagen que aparecer en el encabezado del sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal de la interfaz de usuario","config.idioma.pt-BR":"Portugus (Brasil)","config.idioma.en-US":"Ingls (EE.UU.)","config.idioma.es-ES":"Espaol","config.idioma.zh-CN":"Chino (Simplificado)","config.idioma ja-JP":"Japons","config.usuarios.titulo":"Configuraciones de Usuarios","config.usuarios.descricao":"Gestionar configuraciones relacionadas con usuarios del sistema","config.permitirCadastro":"Permitir Registro","config.permitirCadastro.descricao":"Permite que nuevos usuarios se registren en el sistema","config.requerAprovacao":"Requiere Aprobacin","config.requerAprovacao.descricao":"Nuevos registros necesitan ser aprobados por un administrador","config.limiteUsuarios":"Lmite de Usurios","config.limiteUsuarios.descricao":"Nmero mximo de usuarios permitidos en el sistema","config.notificacaoNovosUsuarios":"Notificar Nuevos Usuarios","config.notificacaoNovosUsuarios.descricao":"Enviar notificaciones cuando nuevos usuarios se registren","config.seguranca.titulo":"Configuraciones de Seguridad","config.seguranca.descricao":"Configurar polticas de seguridad y autenticacin","config.autenticacaoDoisFatores":"Autenticacin de Dos Factores","config.autenticacaoDoisFatores.descricao":"Requiere segundo factor de autenticacin para inicio de sesin","config.tempoSessao":"Tiempo de Sesin (min)","config.tempoSessao.descricao":"Tiempo en minutos antes de que la sesin expire automticamente","config.tentativasLogin":"Intentos de Inicio de Sesin","config.tentativasLogin.descricao":"Nmero de intentos de inicio de sesin antes del bloqueo","config.bloqueioAutomatico":"Bloqueo Automtico","config.bloqueioAutomatico.descricao":"Bloquea automticamente despus de intentos fallidos","config.auditoriaAtivada":"Auditora Activada","config.auditoriaAtivada.descricao":"Registra todas las acciones de los usuarios en el sistema","config.impressao.titulo":"Configuraciones de Impresin","config.impressao.descricao":"Configurar opciones predeterminadas para impresin de documentos","config.formatoPadrao":"Formato Predeterminado","config.formatoPadrao.descricao":"Formato de papel predeterminado para impresiones","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientacin","config.orientacao.descricao":"Orientacin predeterminada de la pgina para impresiones","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisaje","config.margens":"Mrgenes","config.margens.descricao":"Configuracin de los mrgenes predeterminados para impresiones","config.margens.normal":"Normal","config.margens.estreita":"Estrecha","config.margens.larga":"Ancha","config.cabecalhoPersonalizado":"Encabezado Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir encabezado personalizado en las impresiones","config.rodapePersonalizado":"Pie de Pgina Personalizado","config.rodapePersonalizado.descricao":"Incluir pie de pgina personalizado en las impresiones","config.sistema.titulo":"Configuraciones del Sistema","config.sistema.descricao":"Configuraciones tcnicas y de rendimiento del sistema","config.backupAutomatico":"Copia de Seguridad Automtica","config.backupAutomatico.descricao":"Realizar copias de seguridad automticas de los datos","config.frequenciaBackup":"Frecuencia de Copia de Seguridad","config.frequenciaBackup.descricao":"Con qu frecuencia deben realizarse las copias de seguridad","config.frequencia.diario":"Diario","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensual","config.notificacoesEmail":"Notificaciones por Correo","config.notificacoesEmail.descricao":"Enviar notificaciones importantes por correo electrnico","config.cacheAtivo":"Cach Activo","config.cacheAtivo.descricao":"Activar sistema de cach para mejorar el rendimiento","config.logsAtivo":"Registros Activos","config.logsAtivo.descricao":"Mantener registros detallados de las actividades del sistema","msg.configuracoesSalvas":"Configuraciones guardadas exitosamente!","msg.configuracoesRestauradas":"Configuraciones restauradas a los valores predeterminados!","msg.descricaoRestaurada":"Todas las configuraciones han sido restauradas a los valores predeterminados.","msg.arquivoInvalido":"Archivo invlido! Por favor selecciona una imagen.","msg.logoRemovido":"Logo eliminado exitosamente!","msg.erroUpload":"Error en la carga. Intntalo de nuevo.","common.salvar":"Guardar","common.cancelar":"Cancelar","config.logoDescricao":"Arrastra una imagen o haz clic para seleccionar","config.logoTipos":"PNG, JPG o GIF (mx. 5MB)","config.removerLogo":"Eliminar Logo","config.selecionarArquivo":"haz clic para seleccionar"},"zh-CN":{"nav.dashboard":"","nav.clientes":"","nav.os":"","nav.ov":"","nav.estoque":"","nav.financeiro":"","nav.relatorios":"","nav.configuracoes":"","config.titulo":"","config.descricao":"","config.salvar":"","config.restaurarPadroes":"","config.personalizacao.titulo":"","config.personalizacao.descricao":"","config.tema":"","config.tema.descricao":"","config.tema.light":"","config.tema.dark":"","config.tema.system":"","config.corPrimaria":"","config.corPrimaria.descricao":"","config.corSecundaria":"","config.corSecundaria.descricao":"","config.nomeEmpresa":"","config.nomeEmpresa.descricao":"","config.logoEmpresa":"","config.logoEmpresa.descricao":"","config.idioma":"","config.idioma.descricao":"","config.idioma.pt-BR":"","config.idioma.en-US":"","config.idioma.es-ES":"","config.idioma.zh-CN":"","config.idioma ja-JP":"","config.usuarios.titulo":"","config.usuarios.descricao":"","config.permitirCadastro":"","config.permitirCadastro.descricao":"","config.requerAprovacao":"","config.requerAprovacao.descricao":"","config.limiteUsuarios":"","config.limiteUsuarios.descricao":"","config.notificacaoNovosUsuarios":"","config.notificacaoNovosUsuarios.descricao":"","config.seguranca.titulo":"","config.seguranca.descricao":"","config.autenticacaoDoisFatores":"","config.autenticacaoDoisFatores.descricao":"","config.tempoSessao":"","config.tempoSessao.descricao":"","config.tentativasLogin":"","config.tentativasLogin.descricao":"","config.bloqueioAutomatico":"","config.bloqueioAutomatico.descricao":"","config.auditoriaAtivada":"","config.auditoriaAtivada.descricao":"","config.impressao.titulo":"","config.impressao.descricao":"","config.formatoPadrao":"","config.formatoPadrao.descricao":"","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"","config.orientacao":"","config.orientacao.descricao":"","config.orientacao.retrato":"","config.orientacao.paisagem":"","config.margens":"","config.margens.descricao":"","config.margens.normal":"","config.margens.estreita":"","config.margens.larga":"","config.cabecalhoPersonalizado":"","config.cabecalhoPersonalizado.descricao":"","config.rodapePersonalizado":"","config.rodapePersonalizado.descricao":"","config.sistema.titulo":"","config.sistema.descricao":"","config.backupAutomatico":"","config.backupAutomatico.descricao":"","config.frequenciaBackup":"","config.frequenciaBackup.descricao":"","config.frequencia.diario":"","config.frequencia.semanal":"","config.frequencia.mensal":"","config.notificacoesEmail":"","config.notificacoesEmail.descricao":"","config.cacheAtivo":"","config.cacheAtivo.descricao":"","config.logsAtivo":"","config.logsAtivo.descricao":"","msg.configuracoesSalvas":"","msg.configuracoesRestauradas":"","msg.descricaoRestaurada":"","msg.arquivoInvalido":"","msg.logoRemovido":"","msg.erroUpload":"","common.salvar":"","common.cancelar":"","config.logoDescricao":"","config.logoTipos":"PNGJPG  GIF 5MB","config.removerLogo":"","config.selecionarArquivo":""},"ja-JP":{"nav.dashboard":"","nav.clientes":"","nav.os":"","nav.ov":"","nav.estoque":"","nav.financeiro":"","nav.relatorios":"","nav.configuracoes":"","config.titulo":"","config.descricao":"","config.salvar":"","config.restaurarPadroes":"","config.personalizacao.titulo":"","config.personalizacao.descricao":"","config.tema":"","config.tema.descricao":"","config.tema.light":"","config.tema.dark":"","config.tema.system":"","config.corPrimaria":"","config.corPrimaria.descricao":"","config.corSecundaria":"","config.corSecundaria.descricao":"","config.nomeEmpresa":"","config.nomeEmpresa.descricao":"","config.logoEmpresa":"","config.logoEmpresa.descricao":"","config.idioma":"","config.idioma.descricao":"","config.idioma.pt-BR":"","config.idioma.en-US":"","config.idioma.es-ES":"","config.idioma.zh-CN":"","config.idioma ja-JP":"","config.usuarios.titulo":"","config.usuarios.descricao":"","config.permitirCadastro":"","config.permitirCadastro.descricao":"","config.requerAprovacao":"","config.requerAprovacao.descricao":"","config.limiteUsuarios":"","config.limiteUsuarios.descricao":"","config.notificacaoNovosUsuarios":"","config.notificacaoNovosUsuarios.descricao":"","config.seguranca.titulo":"","config.seguranca.descricao":"","config.autenticacaoDoisFatores":"","config.autenticacaoDoisFatores.descricao":"","config.tempoSessao":"","config.tempoSessao.descricao":"","config.tentativasLogin":"","config.tentativasLogin.descricao":"","config.bloqueioAutomatico":"","config.bloqueioAutomatico.descricao":"","config.auditoriaAtivada":"","config.auditoriaAtivada.descricao":"","config.impressao.titulo":"","config.impressao.descricao":"","config.formatoPadrao":"","config.formatoPadrao.descricao":"","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"","config.orientacao":"","config.orientacao.descricao":"","config.orientacao.retrato":"","config.orientacao.paisagem":"","config.margens":"","config.margens.descricao":"","config.margens.normal":"","config.margens.estreita":"","config.margens.larga":"","config.cabecalhoPersonalizado":"","config.cabecalhoPersonalizado.descricao":"","config.rodapePersonalizado":"","config.rodapePersonalizado.descricao":"","config.sistema.titulo":"","config.sistema.descricao":"","config.backupAutomatico":"","config.backupAutomatico.descricao":"","config.frequenciaBackup":"","config.frequenciaBackup.descricao":"","config.frequencia.diario":"","config.frequencia.semanal":"","config.frequencia.mensal":"","config.notificacoesEmail":"","config.notificacoesEmail.descricao":"","config.cacheAtivo":"","config.cacheAtivo.descricao":"","config.logsAtivo":"","config.logsAtivo.descricao":"","msg.configuracoesSalvas":"","msg.configuracoesRestauradas":"","msg.descricaoRestaurada":"","msg.arquivoInvalido":"","msg.logoRemovido":"","msg.erroUpload":"","common.salvar":"","common.cancelar":"","config.logoDescricao":"","config.logoTipos":"PNGJPG GIF 5MB","config.removerLogo":"","config.selecionarArquivo":""}},ve=(t,e="pt-BR")=>(vN[e]||vN["pt-BR"])[t]||t,Fte=()=>{g.useContext(Cr);const{toast:t}=Er(),{usuarios:e,saveUsuario:n}=Lc(),[r,s]=g.useState({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),[o,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(""),f=g.useRef(null),p=(R,F)=>{s(E=>({...E,[R]:F}))},m=R=>{R.preventDefault(),R.stopPropagation(),R.type==="dragenter"||R.type==="dragover"?c(!0):R.type==="dragleave"&&c(!1)},y=R=>{R.preventDefault(),R.stopPropagation(),c(!1),R.dataTransfer.files&&R.dataTransfer.files[0]&&x(R.dataTransfer.files[0])},x=R=>{if(R.type.startsWith("image/")){if(R.size>1048576){t({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const F=new FileReader;F.onload=E=>{S(E.target.result,T=>{d(T),s(A=>({...A,foto:T}))})},F.readAsDataURL(R)}else t({title:"Arquivo invlido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},S=(R,F)=>{const E=document.createElement("canvas"),T=E.getContext("2d"),A=new Image;A.onload=()=>{let{width:k,height:N}=A;k>N?k>200&&(N=N*200/k,k=200):N>200&&(k=k*200/N,N=200),E.width=k,E.height=N,T.drawImage(A,0,0,k,N);const P=E.toDataURL("image/jpeg",.7);F(P)},A.src=R},_=R=>{R.target.files&&R.target.files[0]&&x(R.target.files[0])},v=()=>{d(""),s(R=>({...R,foto:""})),f.current&&(f.current.value="")},b=()=>r.nome.trim()?r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?r.senha?r.senha.length<6?(t({title:"Erro de validao",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),!1):r.senha!==r.confirmarSenha?(t({title:"Erro de validao",description:"As senhas no coincidem.",variant:"destructive"}),!1):!0:(t({title:"Erro de validao",description:"A senha  obrigatria.",variant:"destructive"}),!1):(t({title:"Erro de validao",description:"Por favor, insira um email vlido.",variant:"destructive"}),!1):(t({title:"Erro de validao",description:"O email  obrigatrio.",variant:"destructive"}),!1):(t({title:"Erro de validao",description:"O nome  obrigatrio.",variant:"destructive"}),!1),j=async R=>{if(R.preventDefault(),!!b()){i(!0);try{if(e.some(E=>E.email===r.email)){t({title:"Erro de validao",description:"Este email j est cadastrado.",variant:"destructive"}),i(!1);return}const F={nome:r.nome,email:r.email,senha:r.senha,telefone:r.telefone,endereco:r.endereco,tipo:r.tipoUsuario,foto:r.foto,status:"ativo",dataCriacao:new Date().toISOString(),ultimoAcesso:null};await n(F),t({title:"Usurio cadastrado!",description:`${r.nome} foi cadastrado com sucesso.`,variant:"default"}),s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")}catch(F){console.error("Erro ao cadastrar usurio:",F),t({title:"Erro ao cadastrar",description:"Ocorreu um erro ao cadastrar o usurio. Tente novamente.",variant:"destructive"})}finally{i(!1)}}};return a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Xr,{className:"h-5 w-5"}),"Informaes Pessoais"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"nome",children:"Nome Completo *"}),a.jsx(fe,{id:"nome",type:"text",value:r.nome,onChange:R=>p("nome",R.target.value),placeholder:"Digite o nome completo",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"email",children:"Email *"}),a.jsx(fe,{id:"email",type:"email",value:r.email,onChange:R=>p("email",R.target.value),placeholder:"usuario@exemplo.com",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"telefone",children:"Telefone"}),a.jsx(fe,{id:"telefone",type:"tel",value:r.telefone,onChange:R=>p("telefone",R.target.value),placeholder:"(11) 99999-9999"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"endereco",children:"Endereo"}),a.jsx(fe,{id:"endereco",type:"text",value:r.endereco,onChange:R=>p("endereco",R.target.value),placeholder:"Rua, nmero, bairro, cidade"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(pA,{className:"h-5 w-5"}),"Foto do Usurio"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${l?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:y,children:u?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:u,alt:"Preview da foto",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),a.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:v,children:a.jsx(_r,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var R;return(R=f.current)==null?void 0:R.click()},className:"mt-2",children:"Trocar imagem"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rw,{className:"h-8 w-8 mx-auto text-slate-400"}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),a.jsx("p",{children:"ou"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var R;return(R=f.current)==null?void 0:R.click()},className:"mt-2",children:"Selecione uma imagem"})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF at 1MB"})]})}),a.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:_,className:"hidden"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(gy,{className:"h-5 w-5"}),"Informaes de Acesso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"senha",children:"Senha *"}),a.jsx(fe,{id:"senha",type:"password",value:r.senha,onChange:R=>p("senha",R.target.value),placeholder:"Mnimo 6 caracteres",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"confirmarSenha",children:"Confirmar Senha *"}),a.jsx(fe,{id:"confirmarSenha",type:"password",value:r.confirmarSenha,onChange:R=>p("confirmarSenha",R.target.value),placeholder:"Digite a senha novamente",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"tipoUsuario",children:"Tipo de Usurio"}),a.jsxs(ut,{value:r.tipoUsuario,onValueChange:R=>p("tipoUsuario",R),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"comum",children:"Usurio Comum"}),a.jsx(oe,{value:"financeiro",children:"Usurio Financeiro"}),a.jsx(oe,{value:"administrador",children:"Administrador"})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")},disabled:o,children:"Limpar"}),a.jsx(Q,{type:"submit",disabled:o,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cadastrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(xu,{className:"h-4 w-4 mr-2"}),"Cadastrar Usurio"]})})]})]})},Vte=({usuario:t,isOpen:e,onClose:n,onSave:r})=>{const{currentLanguage:s}=g.useContext(Cr),{toast:o}=Er(),{saveUsuario:i}=Lc(),[l,c]=g.useState({nome:"",email:"",telefone:"",tipo:"comum",foto:""}),[u,d]=g.useState(!1),[f,p]=g.useState({}),[m,y]=g.useState(!1),[x,S]=g.useState(""),_=g.useRef(null);g.useEffect(()=>{t&&(console.log("[EditarUsuarioModal] Inicializando com usurio:",t),c({nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}),S(t.foto||""),p({}),console.log("[EditarUsuarioModal] FormData inicializado:",{nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}))},[t]);const v=(D,L)=>{c(B=>({...B,[D]:L})),f[D]&&p(B=>({...B,[D]:""}))},b=D=>{D.preventDefault(),D.stopPropagation(),D.type==="dragenter"||D.type==="dragover"?y(!0):D.type==="dragleave"&&y(!1)},j=D=>{D.preventDefault(),D.stopPropagation(),y(!1),D.dataTransfer.files&&D.dataTransfer.files[0]&&R(D.dataTransfer.files[0])},R=D=>{if(D.type.startsWith("image/")){if(D.size>1048576){o({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const L=new FileReader;L.onload=B=>{F(B.target.result,$=>{S($),c(M=>({...M,foto:$}))})},L.readAsDataURL(D)}else o({title:"Arquivo invlido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},F=(D,L)=>{const B=document.createElement("canvas"),$=B.getContext("2d"),M=new Image;M.onload=()=>{let{width:G,height:K}=M;G>K?G>200&&(K=K*200/G,G=200):K>200&&(G=G*200/K,K=200),B.width=G,B.height=K,$.drawImage(M,0,0,G,K);const ie=B.toDataURL("image/jpeg",.7);L(ie)},M.src=D},E=D=>{D.target.files&&D.target.files[0]&&R(D.target.files[0])},T=()=>{S(""),c(D=>({...D,foto:""})),_.current&&(_.current.value="")},A=D=>{const L=D.replace(/\D/g,"");return L.length<=11?L.replace(/(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3"):D},I=D=>{const L=A(D.target.value);v("telefone",L)},k=()=>{const D={};return l.nome.trim()?l.nome.trim().length<2&&(D.nome=ve("usuarios.erros.nomeMinimo",s)):D.nome=ve("usuarios.erros.nomeObrigatorio",s),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(D.email=ve("usuarios.erros.emailInvalido",s)):D.email=ve("usuarios.erros.emailObrigatorio",s),l.telefone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(l.telefone)&&(D.telefone=ve("usuarios.erros.telefoneInvalido",s)),p(D),Object.keys(D).length===0},N=async D=>{if(D.preventDefault(),!!k()){d(!0);try{const L={...t,nome:l.nome.trim(),email:l.email.trim().toLowerCase(),telefone:l.telefone,tipo:l.tipo,foto:l.foto};console.log("[EditarUsuarioModal] Salvando usurio atualizado:",L),console.log("[EditarUsuarioModal] Foto atual:",l.foto),await i(L,t.id),o({title:ve("usuarios.edicao.sucesso",s),description:ve("usuarios.edicao.sucessoDescricao",s),variant:"default"}),r(L),n()}catch{o({title:ve("usuarios.edicao.erro",s),description:ve("usuarios.edicao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{d(!1)}}},P=()=>{u||n()};return t?a.jsx(Wn,{open:e,onOpenChange:P,children:a.jsxs(En,{className:"sm:max-w-md",children:[a.jsxs(Cn,{children:[a.jsxs(Tn,{className:"flex items-center gap-2",children:[a.jsx(ys,{className:"h-5 w-5"}),ve("usuarios.edicao.titulo",s)]}),a.jsx(Vm,{children:ve("usuarios.edicao.descricao",s)})]}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ne,{htmlFor:"edit-nome",className:"flex items-center gap-2",children:[a.jsx(Xr,{className:"h-4 w-4"}),ve("usuarios.cadastro.form.nome",s)]}),a.jsx(fe,{id:"edit-nome",type:"text",value:l.nome,onChange:D=>v("nome",D.target.value),placeholder:ve("usuarios.cadastro.form.nomePlaceholder",s),className:f.nome?"border-red-500":""}),f.nome&&a.jsx("p",{className:"text-sm text-red-500",children:f.nome})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ne,{htmlFor:"edit-email",className:"flex items-center gap-2",children:[a.jsx(Ca,{className:"h-4 w-4"}),ve("usuarios.cadastro.form.email",s)]}),a.jsx(fe,{id:"edit-email",type:"email",value:l.email,onChange:D=>v("email",D.target.value),placeholder:ve("usuarios.cadastro.form.emailPlaceholder",s),className:f.email?"border-red-500":""}),f.email&&a.jsx("p",{className:"text-sm text-red-500",children:f.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ne,{htmlFor:"edit-telefone",className:"flex items-center gap-2",children:[a.jsx(Ta,{className:"h-4 w-4"}),ve("usuarios.cadastro.form.telefone",s)]}),a.jsx(fe,{id:"edit-telefone",type:"tel",value:l.telefone,onChange:I,placeholder:ve("usuarios.cadastro.form.telefonePlaceholder",s),className:f.telefone?"border-red-500":""}),f.telefone&&a.jsx("p",{className:"text-sm text-red-500",children:f.telefone})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ne,{htmlFor:"edit-tipo",className:"flex items-center gap-2",children:[a.jsx(Oa,{className:"h-4 w-4"}),ve("usuarios.cadastro.form.tipo",s)]}),a.jsxs(ut,{value:l.tipo,onValueChange:D=>v("tipo",D),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"comum",children:ve("usuarios.tipos.comum",s)}),a.jsx(oe,{value:"financeiro",children:ve("usuarios.tipos.financeiro",s)}),a.jsx(oe,{value:"admin",children:ve("usuarios.tipos.admin",s)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(pA,{className:"h-4 w-4"}),"Foto do Usurio"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${m?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:b,onDragLeave:b,onDragOver:b,onDrop:j,children:x?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:x,alt:"Preview da foto",className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),a.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0",onClick:T,children:a.jsx(_r,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var D;return(D=_.current)==null?void 0:D.click()},className:"mt-1",children:"Trocar imagem"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rw,{className:"h-6 w-6 mx-auto text-slate-400"}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),a.jsx("p",{children:"ou"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var D;return(D=_.current)==null?void 0:D.click()},className:"mt-1",children:"Selecione uma imagem"})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF at 1MB"})]})}),a.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:E,className:"hidden"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsxs(Q,{type:"button",variant:"outline",onClick:P,disabled:u,children:[a.jsx(_r,{className:"h-4 w-4 mr-2"}),ve("usuarios.edicao.cancelar",s)]}),a.jsx(Q,{type:"submit",disabled:u,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),ve("usuarios.edicao.salvando",s)]}):a.jsxs(a.Fragment,{children:[a.jsx(gA,{className:"h-4 w-4 mr-2"}),ve("usuarios.edicao.salvar",s)]})})]})]})]})}):null},zte=({usuario:t,isOpen:e,onClose:n,onConfirm:r})=>{const{currentLanguage:s}=g.useContext(Cr),{toast:o}=Er(),[i,l]=g.useState(!1),[c,u]=g.useState(""),d=async()=>{if(c!=="CONFIRMAR"){o({title:ve("usuarios.remocao.erroConfirmacao",s),description:ve("usuarios.remocao.erroConfirmacaoDescricao",s),variant:"destructive",duration:4e3});return}l(!0);try{await new Promise(m=>setTimeout(m,1500)),r(t.id)}catch{o({title:ve("usuarios.remocao.erro",s),description:ve("usuarios.remocao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{l(!1)}},f=()=>{i||(u(""),n())},p=m=>{u(m.target.value)};return t?a.jsx(Wn,{open:e,onOpenChange:f,children:a.jsxs(En,{className:"sm:max-w-md",children:[a.jsxs(Cn,{children:[a.jsxs(Tn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx($s,{className:"h-5 w-5"}),ve("usuarios.remocao.titulo",s)]}),a.jsx(Vm,{children:ve("usuarios.remocao.descricao",s)})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-lg",children:t.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:t.nome}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-2 py-1 rounded",children:t.tipo==="admin"?ve("usuarios.tipos.admin",s):t.tipo==="financeiro"?ve("usuarios.tipos.financeiro",s):ve("usuarios.tipos.comum",s)}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.status==="ativo"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300"}`,children:t.status==="ativo"?ve("usuarios.status.ativo",s):ve("usuarios.status.inativo",s)})]})]})]})}),a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($s,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:ve("usuarios.remocao.aviso.titulo",s)}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:ve("usuarios.remocao.aviso.descricao",s)}),a.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-2 list-disc list-inside space-y-1",children:[a.jsx("li",{children:ve("usuarios.remocao.aviso.item1",s)}),a.jsx("li",{children:ve("usuarios.remocao.aviso.item2",s)}),a.jsx("li",{children:ve("usuarios.remocao.aviso.item3",s)})]})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:ve("usuarios.remocao.confirmacao.label",s)}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ve("usuarios.remocao.confirmacao.descricao",s)}),a.jsx("input",{type:"text",value:c,onChange:p,placeholder:ve("usuarios.remocao.confirmacao.placeholder",s),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:i})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsxs(Q,{type:"button",variant:"outline",onClick:f,disabled:i,children:[a.jsx(_r,{className:"h-4 w-4 mr-2"}),ve("usuarios.remocao.cancelar",s)]}),a.jsx(Q,{onClick:d,disabled:i||c!=="CONFIRMAR",className:"bg-red-600 hover:bg-red-700 text-white",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),ve("usuarios.remocao.removendo",s)]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"h-4 w-4 mr-2"}),ve("usuarios.remocao.confirmar",s)]})})]})]})]})}):null},Ute=({usuariosExternos:t,onAddUsuario:e})=>{const{currentLanguage:n}=g.useContext(Cr),{toast:r}=Er(),{data:s,loading:o}=Lc(),[i,l]=g.useState([]),[c,u]=g.useState(""),[d,f]=g.useState("todos"),[p,m]=g.useState("todos"),[y,x]=g.useState(!1),[S,_]=g.useState(!1),[v,b]=g.useState(null);g.useEffect(()=>{s&&s.length>0&&l(s)},[s]);const j=i.filter(N=>{const P=N.nome.toLowerCase().includes(c.toLowerCase()),D=d==="todos"||N.tipo===d,L=p==="todos"||N.status===p;return P&&D&&L});g.useEffect(()=>{l(t)},[t]),g.useEffect(()=>{const N=()=>{const D=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[UsuariosListagem] Usurios carregados do localStorage:",D);const L=D.map(B=>({...B,status:B.status||"ativo",ultimoAcesso:B.ultimoAcesso||new Date().toISOString(),tipo:B.tipo||B.tipoUsuario||"comum"}));l(L)};N();const P=()=>{N()};return window.addEventListener("storage",P),()=>{window.removeEventListener("storage",P)}},[]);const R=N=>{b(N),x(!0)},F=N=>{b(N),_(!0)},E=(N,P)=>{l(D=>D.map(L=>L.id===N?{...L,status:P}:L)),r({title:"Status alterado!",description:`Status do usurio alterado para ${P==="ativo"?"ativo":"inativo"}`,variant:"default",duration:3e3})},T=N=>{l(P=>P.filter(D=>D.id!==N)),_(!1),b(null),r({title:"Usurio removido!",description:"Usurio removido com sucesso do sistema",variant:"default",duration:3e3})},A=N=>{l(P=>P.map(D=>D.id===N.id?N:D)),x(!1),b(null),r({title:"Usurio atualizado!",description:"Dados do usurio atualizados com sucesso",variant:"default",duration:3e3})},I=N=>{const P={admin:{label:"Administrador",variant:"default"},financeiro:{label:"Financeiro",variant:"secondary"},comum:{label:"Comum",variant:"outline"}},D=P[N]||P.comum;return a.jsx(Ri,{variant:D.variant,children:D.label})},k=N=>a.jsx(Ri,{variant:N==="ativo"?"default":"destructive",children:N==="ativo"?"Ativo":"Inativo"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:ve("usuarios.listagem.titulo",n)}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:ve("usuarios.listagem.descricao",n)})]}),a.jsxs(Kt,{children:[a.jsx(nn,{children:a.jsxs(rn,{className:"flex items-center gap-2",children:[a.jsx(Iw,{className:"h-5 w-5"}),ve("usuarios.filtros.titulo",n)]})}),a.jsx(Yt,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:ve("usuarios.busca",n)}),a.jsxs("div",{className:"relative",children:[a.jsx(Rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),a.jsx(fe,{placeholder:ve("usuarios.busca.placeholder",n),value:c,onChange:N=>u(N.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:ve("usuarios.filtros.tipo",n)}),a.jsxs(ut,{value:d,onValueChange:f,children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"todos",children:ve("usuarios.filtros.todos",n)}),a.jsx(oe,{value:"admin",children:ve("usuarios.tipos.admin",n)}),a.jsx(oe,{value:"financeiro",children:ve("usuarios.tipos.financeiro",n)}),a.jsx(oe,{value:"comum",children:ve("usuarios.tipos.comum",n)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:ve("usuarios.filtros.status",n)}),a.jsxs(ut,{value:p,onValueChange:m,children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"todos",children:ve("usuarios.filtros.todos",n)}),a.jsx(oe,{value:"ativo",children:ve("usuarios.status.ativo",n)}),a.jsx(oe,{value:"inativo",children:ve("usuarios.status.inativo",n)})]})]})]})]})})]}),a.jsxs(Kt,{children:[a.jsx(nn,{children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx(rn,{children:ve("usuarios.lista.titulo",n)}),a.jsx(mo,{children:o?"Carregando usurios...":`${ve("usuarios.lista.descricao",n)} (${j.length} ${j.length===1?"usurio":"usurios"})`})]})})}),a.jsx(Yt,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ve("usuarios.tabela.nome",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ve("usuarios.tabela.email",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ve("usuarios.tabela.tipo",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ve("usuarios.tabela.status",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ve("usuarios.tabela.ultimoAcesso",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ve("usuarios.tabela.acoes",n)})]})}),a.jsx("tbody",{children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Carregando usurios..."})}):j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhum usurio encontrado"})}):j.map(N=>a.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[N.foto?a.jsx("img",{src:N.foto,alt:N.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold",children:N.nome.charAt(0).toUpperCase()}),a.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:N.nome})]})}),a.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:N.email}),a.jsx("td",{className:"p-4",children:I(N.tipo)}),a.jsx("td",{className:"p-4",children:k(N.status)}),a.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:new Date(N.ultimoAcesso).toLocaleDateString("pt-BR")}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>R(N),className:"hover:bg-blue-50 hover:border-blue-200",children:a.jsx(ys,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>E(N.id,N.status==="ativo"?"inativo":"ativo"),className:N.status==="ativo"?"hover:bg-red-50 hover:border-red-200":"hover:bg-green-50 hover:border-green-200",children:N.status==="ativo"?a.jsx(ez,{className:"h-4 w-4"}):a.jsx(Z9,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>F(N),className:"hover:bg-red-50 hover:border-red-200",children:a.jsx(Zr,{className:"h-4 w-4"})})]})})]},N.id))})]})})})]}),y&&v&&a.jsx(Vte,{usuario:v,isOpen:y,onClose:()=>x(!1),onSave:A}),S&&v&&a.jsx(zte,{usuario:v,isOpen:S,onClose:()=>_(!1),onConfirm:T})]})},Bte=({usuarioLogado:t})=>{g.useContext(Cr);const{toast:e}=Er(),{config:n,loading:r,saveConfig:s}=l1(),{config:o,saveConfig:i}=a1();Lc();const[l,c]=g.useState("usuarios"),[u,d]=g.useState({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0}),[f,p]=g.useState({nomeEmpresa:"",descricao:"",endereco:"",telefone:"",whatsapp:"",cnpj:"",email:"",site:"",logo:""}),[m,y]=g.useState(!1),[x,S]=g.useState("");g.useEffect(()=>{n&&d(E=>({...E,...n}))},[n]),g.useEffect(()=>{o&&p({nomeEmpresa:o.nomeEmpresa||"",descricao:o.descricao||"",endereco:o.endereco||"",telefone:o.telefone||"",whatsapp:o.whatsapp||"",cnpj:o.cnpj||"",email:o.email||"",site:o.site||"",logo:o.logo||""})},[o]),g.useEffect(()=>{n&&S(n.logo||"")},[n]);const _=(E,T)=>{d(A=>({...A,[E]:T}))},v=(E,T)=>{p(A=>({...A,[E]:T}))},b=E=>{const T=E.target.files[0];if(T){const A=new FileReader;A.onload=I=>{const k=I.target.result;S(k),d(N=>({...N,logo:k}))},A.readAsDataURL(T)}},j=()=>{S(""),d(E=>({...E,logo:""}))},R=async()=>{if(!f.nomeEmpresa||!f.endereco||!f.telefone){e({title:"Erro",description:"Na aba 'Loja': Nome da empresa, endereo e telefone so obrigatrios!",variant:"destructive"});return}y(!0);try{await s(u),await i(f),e({title:"Sucesso!",description:"Todas as configuraes foram salvas com sucesso!"})}catch(E){console.error("Erro ao salvar configuraes:",E),e({title:"Erro",description:"Erro ao salvar configuraes. Tente novamente.",variant:"destructive"})}finally{y(!1)}},F=()=>{d({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0})};return r?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),a.jsx("p",{className:"ml-4 text-lg text-slate-600 dark:text-slate-400",children:"Carregando configuraes..."})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsx(be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:a.jsx(_o,{className:"h-10 w-10"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Configuraes do Sistema"}),a.jsx("p",{className:"text-purple-100 text-lg",children:"Gerencie todas as configuraes e preferncias"})]})]})}),a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsxs($a,{defaultValue:"loja",className:"w-full",children:[a.jsxs(Di,{className:"grid w-full grid-cols-6 bg-slate-100 dark:bg-slate-700/50 rounded-none border-b border-slate-200 dark:border-slate-600",children:[a.jsxs(Pt,{value:"loja",className:"flex items-center gap-2",children:[a.jsx(gv,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Loja"})]}),a.jsxs(Pt,{value:"personalizacao",className:"flex items-center gap-2",children:[a.jsx(vv,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Personalizao"})]}),a.jsxs(Pt,{value:"usuarios",className:"flex items-center gap-2",children:[a.jsx(xs,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Usurios"})]}),a.jsxs(Pt,{value:"seguranca",className:"flex items-center gap-2",children:[a.jsx(Oa,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Segurana"})]}),a.jsxs(Pt,{value:"impressao",className:"flex items-center gap-2",children:[a.jsx(_p,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Impresso"})]}),a.jsxs(Pt,{value:"sistema",className:"flex items-center gap-2",children:[a.jsx(Fu,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sistema"})]})]}),a.jsxs(hn,{value:"loja",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(gv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configuraes da Loja"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure os dados da sua empresa que aparecero nos documentos impressos (ordens de servio, oramentos, etc.)"})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(gv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informaes Bsicas"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"loja-nomeEmpresa",children:"Nome da Empresa *"}),a.jsx(fe,{id:"loja-nomeEmpresa",value:f.nomeEmpresa,onChange:E=>v("nomeEmpresa",E.target.value),placeholder:"Ex: MultiSmart",className:"h-12",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecer nos documentos impressos (ordens de servio, oramentos)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"loja-descricao",children:"Descrio dos Servios"}),a.jsx(fe,{id:"loja-descricao",value:f.descricao,onChange:E=>v("descricao",E.target.value),placeholder:"Ex: Manuteno e Comrcio de Celulares e Tablets",className:"h-12"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Descrio que aparecer abaixo do nome da empresa nos documentos"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Ta,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informaes de Contato"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ne,{htmlFor:"loja-telefone",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ta,{className:"h-4 w-4"}),"Telefone *"]}),a.jsx(fe,{id:"loja-telefone",value:f.telefone,onChange:E=>v("telefone",E.target.value),placeholder:"(17) 3345-1016",className:"h-12",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Telefone que aparecer nos documentos impressos"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ne,{htmlFor:"loja-whatsapp",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(K9,{className:"h-4 w-4"}),"WhatsApp"]}),a.jsx(fe,{id:"loja-whatsapp",value:f.whatsapp,onChange:E=>v("whatsapp",E.target.value),placeholder:"(17) 99157-1263",className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ne,{htmlFor:"loja-email",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ca,{className:"h-4 w-4"}),"E-mail"]}),a.jsx(fe,{id:"loja-email",type:"email",value:f.email,onChange:E=>v("email",E.target.value),placeholder:"contato@multismart.com",className:"h-12"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ne,{htmlFor:"loja-site",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(fA,{className:"h-4 w-4"}),"Site/URL"]}),a.jsx(fe,{id:"loja-site",value:f.site,onChange:E=>v("site",E.target.value),placeholder:"https://www.multismart.com",className:"h-12"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(bp,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Endereo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"loja-endereco",children:"Endereo Completo *"}),a.jsx(gd,{id:"loja-endereco",value:f.endereco,onChange:E=>v("endereco",E.target.value),placeholder:"Rua Jos Pedro dos Santos n74 - JD das Lanjeiras, Bebedouro - SP",rows:3,className:"resize-none",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Endereo completo que aparecer nos documentos impressos"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(qs,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Documentos"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"loja-cnpj",children:"CNPJ"}),a.jsx(fe,{id:"loja-cnpj",value:f.cnpj,onChange:E=>v("cnpj",E.target.value),placeholder:"47.309.271/0001-97",className:"h-12"})]})]})]})]}),a.jsxs(hn,{value:"personalizacao",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(vv,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Personalizao do Sistema"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure a aparncia visual do sistema (cores, tema, idioma) e o nome que aparece no cabealho da interface"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Ea,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Logo do Sistema"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Upload do Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(fe,{type:"file",accept:"image/*",onChange:b,className:"flex-1"}),a.jsxs(Q,{type:"button",variant:"outline",onClick:()=>document.querySelector('input[type="file"]').click(),children:[a.jsx(Rw,{className:"h-4 w-4 mr-2"}),"Escolher"]})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Logo que aparecer no cabealho do sistema. Formatos aceitos: JPG, PNG, GIF. Tamanho recomendado: 200x200px"})]}),x&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:x,alt:"Preview do logo",className:"w-24 h-24 object-contain border-2 border-slate-200 dark:border-slate-700 rounded-lg"}),a.jsx(Q,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:j,children:a.jsx(_r,{className:"h-3 w-3"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs(Kt,{children:[a.jsxs(nn,{children:[a.jsxs(rn,{className:"flex items-center gap-2",children:[a.jsx(vv,{className:"h-5 w-5"}),"Aparncia"]}),a.jsx(mo,{children:"Configure cores e tema do sistema"})]}),a.jsxs(Yt,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Tema"}),a.jsxs(ut,{value:u.tema,onValueChange:E=>_("tema",E),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"light",children:"Claro"}),a.jsx(oe,{value:"dark",children:"Escuro"}),a.jsx(oe,{value:"system",children:"Sistema"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Cor Primria"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(fe,{type:"color",value:u.corPrimaria,onChange:E=>_("corPrimaria",E.target.value),className:"w-16 h-10 p-1 border rounded"}),a.jsx(fe,{value:u.corPrimaria,onChange:E=>_("corPrimaria",E.target.value),className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Cor Secundria"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(fe,{type:"color",value:u.corSecundaria,onChange:E=>_("corSecundaria",E.target.value),className:"w-16 h-10 p-1 border rounded"}),a.jsx(fe,{value:u.corSecundaria,onChange:E=>_("corSecundaria",E.target.value),className:"flex-1"})]})]})]})]})]}),a.jsxs(Kt,{children:[a.jsxs(nn,{children:[a.jsxs(rn,{className:"flex items-center gap-2",children:[a.jsx(_o,{className:"h-5 w-5"}),"Sistema"]}),a.jsx(mo,{children:"Configuraes gerais do sistema"})]}),a.jsxs(Yt,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"nomeEmpresa",children:"Nome da Empresa"}),a.jsx(fe,{id:"nomeEmpresa",value:u.nomeEmpresa,onChange:E=>_("nomeEmpresa",E.target.value),placeholder:"Nome da empresa"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecer no cabealho da interface do sistema"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Idioma"}),a.jsxs(ut,{value:u.idioma,onValueChange:E=>_("idioma",E),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"pt-BR",children:"Portugus (Brasil)"}),a.jsx(oe,{value:"en-US",children:"English (US)"}),a.jsx(oe,{value:"es-ES",children:"Espaol"})]})]})]})]})]})]})]}),a.jsxs(hn,{value:"usuarios",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(xs,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Gerenciamento de Usurios"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure como novos usurios podem se cadastrar no sistema e gerencie usurios existentes"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(Kt,{children:[a.jsxs(nn,{children:[a.jsx(rn,{children:"Configuraes de Usurios"}),a.jsx(mo,{children:"Configure como os usurios interagem com o sistema"})]}),a.jsxs(Yt,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ne,{children:"Permitir Cadastro"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Permite que novos usurios se cadastrem"})]}),a.jsx(lo,{checked:u.permitirCadastro,onCheckedChange:E=>_("permitirCadastro",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ne,{children:"Requer Aprovao"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Novos cadastros precisam de aprovao"})]}),a.jsx(lo,{checked:u.requerAprovacao,onCheckedChange:E=>_("requerAprovacao",E)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Limite de Usurios"}),a.jsx(fe,{type:"number",value:u.limiteUsuarios,onChange:E=>_("limiteUsuarios",parseInt(E.target.value)),min:"1",max:"100"})]})]})]}),a.jsxs(Kt,{children:[a.jsxs(nn,{children:[a.jsx(rn,{children:"Usurios do Sistema"}),a.jsx(mo,{children:"Gerencie usurios existentes"})]}),a.jsx(Yt,{children:a.jsxs($a,{value:l,onValueChange:c,children:[a.jsxs(Di,{className:"grid w-full grid-cols-2",children:[a.jsx(Pt,{value:"usuarios",children:"Usurios"}),a.jsx(Pt,{value:"cadastro",children:"Novo Usurio"})]}),a.jsx(hn,{value:"usuarios",className:"mt-4",children:a.jsx(Ute,{usuarioLogado:t})}),a.jsx(hn,{value:"cadastro",className:"mt-4",children:a.jsx(Fte,{})})]})})]})]})]}),a.jsxs(hn,{value:"seguranca",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Oa,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configuraes de Segurana"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure autenticao de dois fatores, tempo de sesso, tentativas de login e monitoramento de atividades"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Kt,{children:[a.jsx(nn,{children:a.jsx(rn,{children:"Autenticao"})}),a.jsxs(Yt,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ne,{children:"2FA (Dois Fatores)"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Autenticao de dois fatores"})]}),a.jsx(lo,{checked:u.autenticacaoDoisFatores,onCheckedChange:E=>_("autenticacaoDoisFatores",E)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Tempo de Sesso (minutos)"}),a.jsx(fe,{type:"number",value:u.tempoSessao,onChange:E=>_("tempoSessao",parseInt(E.target.value)),min:"5",max:"480"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Tentativas de Login"}),a.jsx(fe,{type:"number",value:u.tentativasLogin,onChange:E=>_("tentativasLogin",parseInt(E.target.value)),min:"1",max:"10"})]})]})]}),a.jsxs(Kt,{children:[a.jsx(nn,{children:a.jsx(rn,{children:"Monitoramento"})}),a.jsxs(Yt,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ne,{children:"Bloqueio Automtico"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bloqueia aps tentativas falhadas"})]}),a.jsx(lo,{checked:u.bloqueioAutomatico,onCheckedChange:E=>_("bloqueioAutomatico",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ne,{children:"Auditoria Ativada"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra aes dos usurios"})]}),a.jsx(lo,{checked:u.auditoriaAtivada,onCheckedChange:E=>_("auditoriaAtivada",E)})]})]})]})]})]}),a.jsxs(hn,{value:"impressao",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(_p,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configuraes de Impresso"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure o formato, orientao, margens e fonte dos documentos que sero impressos (ordens de servio, oramentos, etc.)"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Kt,{children:[a.jsx(nn,{children:a.jsx(rn,{children:"Formato do Documento"})}),a.jsxs(Yt,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Formato Padro"}),a.jsxs(ut,{value:u.formatoPadrao,onValueChange:E=>_("formatoPadrao",E),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"A4",children:"A4"}),a.jsx(oe,{value:"A3",children:"A3"}),a.jsx(oe,{value:"Letter",children:"Letter"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Orientao"}),a.jsxs(ut,{value:u.orientacaoPadrao,onValueChange:E=>_("orientacaoPadrao",E),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"retrato",children:"Retrato"}),a.jsx(oe,{value:"paisagem",children:"Paisagem"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Margem (cm)"}),a.jsx(fe,{type:"number",value:u.margemPadrao,onChange:E=>_("margemPadrao",parseFloat(E.target.value)),min:"0.5",max:"5",step:"0.1"})]})]})]}),a.jsxs(Kt,{children:[a.jsx(nn,{children:a.jsx(rn,{children:"Fonte e Estilo"})}),a.jsxs(Yt,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Fonte Padro"}),a.jsxs(ut,{value:u.fontePadrao,onValueChange:E=>_("fontePadrao",E),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"Arial",children:"Arial"}),a.jsx(oe,{value:"Times New Roman",children:"Times New Roman"}),a.jsx(oe,{value:"Calibri",children:"Calibri"}),a.jsx(oe,{value:"Helvetica",children:"Helvetica"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Tamanho da Fonte"}),a.jsx(fe,{type:"number",value:u.tamanhoFonte,onChange:E=>_("tamanhoFonte",parseInt(E.target.value)),min:"8",max:"24"})]})]})]})]})]}),a.jsxs(hn,{value:"sistema",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Fu,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configuraes do Sistema"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure backup automtico, frequncia de backup, reteno de dados e monitoramento do sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Kt,{children:[a.jsx(nn,{children:a.jsx(rn,{children:"Backup e Recuperao"})}),a.jsxs(Yt,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ne,{children:"Backup Automtico"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Backup automtico dos dados"})]}),a.jsx(lo,{checked:u.backupAutomatico,onCheckedChange:E=>_("backupAutomatico",E)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Frequncia do Backup"}),a.jsxs(ut,{value:u.frequenciaBackup,onValueChange:E=>_("frequenciaBackup",E),children:[a.jsx(at,{children:a.jsx(dt,{})}),a.jsxs(lt,{children:[a.jsx(oe,{value:"hora",children:"A cada hora"}),a.jsx(oe,{value:"diario",children:"Dirio"}),a.jsx(oe,{value:"semanal",children:"Semanal"}),a.jsx(oe,{value:"mensal",children:"Mensal"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Reteno (dias)"}),a.jsx(fe,{type:"number",value:u.retencaoBackup,onChange:E=>_("retencaoBackup",parseInt(E.target.value)),min:"1",max:"365"})]})]})]}),a.jsxs(Kt,{children:[a.jsx(nn,{children:a.jsx(rn,{children:"Monitoramento"})}),a.jsxs(Yt,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ne,{children:"Logs Ativados"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra atividades do sistema"})]}),a.jsx(lo,{checked:u.logsAtivados,onCheckedChange:E=>_("logsAtivados",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ne,{children:"Monitoramento Ativo"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monitora performance do sistema"})]}),a.jsx(lo,{checked:u.monitoramentoAtivo,onCheckedChange:E=>_("monitoramentoAtivo",E)})]})]})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50",children:[a.jsx(Q,{onClick:R,disabled:m,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 h-12 text-lg",children:m?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gA,{className:"h-5 w-5 mr-2"}),"Salvar Todas as Configuraes"]})}),a.jsxs(Q,{onClick:F,variant:"outline",className:"h-12 px-8",children:[a.jsx(mA,{className:"h-5 w-5 mr-2"}),"Restaurar Padres"]})]})]})]})},yN=()=>{const{openDialog:t,setActiveModule:e,definirProdutoParaReporEstoque:n,darkMode:r}=g.useContext(Cr),{data:s,loading:o}=Mc(),{data:i,loading:l}=ug(),{data:c,loading:u}=eh(),{data:d,loading:f}=th(),{data:p,loading:m}=nh(),{data:y,loading:x}=rh(),[S,_]=g.useState({clientes:0,os:0,ov:0,produtos:0,contasReceber:0,contasPagar:0,estoqueCritico:0,osPendentes:0,osConcluidas:0,faturamentoMes:0}),[v,b]=g.useState(!1);g.useEffect(()=>{var k,N;if(console.log("[Dashboard] ===== ATUALIZANDO ESTATSTICAS ====="),console.log("[Dashboard] Dados recebidos:",{clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,financeiro:(y==null?void 0:y.length)||0}),!o&&!l&&!u&&!f&&!x){const P=((k=y==null?void 0:y.filter(V=>V.tipo==="receber"&&V.status==="Pendente"))==null?void 0:k.reduce((V,G)=>V+(G.valor||0),0))||0,D=((N=y==null?void 0:y.filter(V=>V.tipo==="pagar"&&V.status==="Pendente"))==null?void 0:N.reduce((V,G)=>V+(G.valor||0),0))||0,L=(d==null?void 0:d.filter(V=>V.quantidade<=(V.estoqueMinimo||5)).length)||0,B=(i==null?void 0:i.filter(V=>V.status==="Pendente").length)||0,$=(i==null?void 0:i.filter(V=>V.status==="Concluda").length)||0,M=(i==null?void 0:i.filter(V=>{const G=new Date(V.createdAt),K=new Date().getMonth(),ie=new Date().getFullYear();return V.status==="Concluda"&&G.getMonth()===K&&G.getFullYear()===ie}).reduce((V,G)=>V+(G.valor||0),0))||0;_({clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:P,contasPagar:D,estoqueCritico:L,osPendentes:B,osConcluidas:$,faturamentoMes:M}),console.log("[Dashboard] Estatsticas calculadas:",{clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:P,contasPagar:D,estoqueCritico:L,osPendentes:B,osConcluidas:$,faturamentoMes:M})}},[s,i,c,d,p,y,o,l,u,f,m,x]);const j=[{title:"Clientes",value:S.clientes,icon:xs,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",change:"+12%",changeType:"positive"},{title:"Ordens de Servio",value:S.os,icon:qs,color:"from-green-500 to-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",change:"+8%",changeType:"positive"},{title:"Ordens de Venda",value:S.ov,icon:fs,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",change:"+15%",changeType:"positive"},{title:"Produtos",value:S.produtos,icon:Gn,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",change:"+5%",changeType:"positive"}],R=[{title:"Contas a Receber",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.contasReceber),icon:mr,color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",change:"+R$ 2.500",changeType:"positive"},{title:"Contas a Pagar",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.contasPagar),icon:Ma,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",change:"-R$ 1.200",changeType:"negative"},{title:"Faturamento do Ms",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.faturamentoMes),icon:Nn,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",change:"+R$ 5.800",changeType:"positive"}],F=[{title:"OS Pendentes",value:S.osPendentes,icon:ni,color:"from-amber-500 to-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",isAlert:S.osPendentes>5,alertMessage:"Muitas OS pendentes!"},{title:"Estoque Crtico",value:S.estoqueCritico,icon:$s,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",isAlert:S.estoqueCritico>0,alertMessage:"Produtos com estoque baixo!"}],E=[{title:"Nova OS",description:"Criar nova ordem de servio",icon:qs,color:"from-blue-500 to-blue-600",action:()=>T("os","os"),badge:"Popular"},{title:"Novo Cliente",description:"Cadastrar novo cliente",icon:xs,color:"from-green-500 to-green-600",action:()=>T("clientes","clientes")},{title:"Nova Venda",description:"Criar nova ordem de venda",icon:fs,color:"from-purple-500 to-purple-600",action:()=>T("ov","ov")},{title:"Adicionar Produto",description:"Cadastrar novo produto",icon:Gn,color:"from-orange-500 to-orange-600",action:()=>T("estoque","produto")},{title:"Movimentao",description:"Entrada/Sada de estoque",icon:my,color:"from-teal-500 to-teal-600",action:()=>T("estoque","movimentacao")},{title:"Relatrios",description:"Ver relatrios e anlises",icon:fr,color:"from-indigo-500 to-indigo-600",action:()=>T("relatorios")}],T=(k,N)=>{e(k),N&&setTimeout(()=>t(N),50),console.log("[Dashboard] Ao rpida:",k,N)},A=k=>{n(k),e("estoque"),setTimeout(()=>{t("movimentacao")},50),b(!1)},I=o||l||u||f||m||x;return a.jsxs("div",{className:"space-y-8",children:[a.jsx(be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[a.jsx(fr,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Dashboard"]}),a.jsx("p",{className:"text-blue-100 text-base lg:text-lg",children:I?"Carregando dados...":"Viso geral do seu sistema CRM"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Hoje"}),a.jsx("p",{className:"text-xl font-bold",children:new Date().toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Status"}),a.jsx("p",{className:"text-xl font-bold text-green-200",children:"Online"})]})]})]})}),a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg",children:a.jsx(fd,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Aes Rpidas"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Acesse rapidamente as funcionalidades mais utilizadas"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map((k,N)=>{const P=k.icon;return a.jsxs(be.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1+N*.1},onClick:k.action,className:"group relative bg-white dark:bg-slate-700 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-left",children:[k.badge&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:k.badge}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color} group-hover:scale-110 transition-transform duration-300`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:k.title}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.description})]}),a.jsx(mv,{className:"h-5 w-5 text-slate-400 group-hover:text-blue-500 transition-colors"})]})]},k.title)})})})]}),a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(yu,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Estatsticas Principais"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:j.map((k,N)=>{const P=k.icon;return a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2+N*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[k.changeType==="positive"?a.jsx(mv,{className:"h-4 w-4 text-green-500"}):a.jsx(EE,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:`font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.title})]})]},k.title)})})]}),a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nn,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Financeiro"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:R.map((k,N)=>{const P=k.icon;return a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+N*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[k.changeType==="positive"?a.jsx(mv,{className:"h-4 w-4 text-green-500"}):a.jsx(EE,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:`font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.title})]})]},k.title)})})]}),a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($s,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Alertas e Status"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:F.map((k,N)=>{const P=k.icon;return a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+N*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${k.isAlert?"ring-2 ring-amber-400 ring-opacity-50":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),k.isAlert&&a.jsx("div",{className:"flex items-center gap-1 text-sm",children:a.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-full text-xs font-medium",children:"Ateno"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:k.title}),k.isAlert&&k.value>0&&a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:k.alertMessage})]})]},k.title)})})]}),a.jsx(Wn,{open:v,onOpenChange:b,children:a.jsxs(En,{className:"sm:max-w-md",children:[a.jsx(Cn,{children:a.jsxs(Tn,{className:"flex items-center gap-2",children:[a.jsx($s,{className:"h-5 w-5 text-amber-500"}),"Estoque Crtico"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Os seguintes produtos esto com estoque baixo:"}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d==null?void 0:d.filter(k=>k.quantidade<=(k.estoqueMinimo||5)).map(k=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:k.nome}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Estoque: ",k.quantidade," | Mnimo: ",k.estoqueMinimo||5]})]}),a.jsx(Q,{size:"sm",onClick:()=>A(k),className:"bg-blue-600 hover:bg-blue-700",children:"Repor"})]},k.id))})]})]})})]})},$te=({onLogin:t})=>{const{toast:e}=Er(),{usuarios:n,saveUsuario:r,loading:s,error:o}=Lc();console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o});const[i,l]=g.useState({email:"",senha:""}),[c,u]=g.useState(()=>localStorage.getItem("crm_lembrar_email")==="true");g.useEffect(()=>{if(c){const k=localStorage.getItem("crm_email_salvo")||"";l(N=>({...N,email:k}))}},[c]);const[d,f]=g.useState(!1),[p,m]=g.useState(!1),[y,x]=g.useState({nome:"",email:"",senha:"",tipo:"comum",foto:""}),[S,_]=g.useState(!1),[v,b]=g.useState(!1),j=k=>{l({...i,[k.target.name]:k.target.value})},R=k=>{x({...y,[k.target.name]:k.target.value})},F=k=>{const N=k.target.files[0];if(!N)return;if(N.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const P=new FileReader;P.onload=()=>{T(P.result,D=>{x(L=>({...L,foto:D}))})},P.readAsDataURL(N)},E=k=>{k.preventDefault(),b(!1);const N=k.dataTransfer.files[0];if(N){if(N.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const P=new FileReader;P.onload=()=>{T(P.result,D=>{x(L=>({...L,foto:D}))})},P.readAsDataURL(N)}},T=(k,N)=>{const P=document.createElement("canvas"),D=P.getContext("2d"),L=new Image;L.onload=()=>{let{width:$,height:M}=L;$>M?$>200&&(M=M*200/$,$=200):M>200&&($=$*200/M,M=200),P.width=$,P.height=M,D.drawImage(L,0,0,$,M);const V=P.toDataURL("image/jpeg",.7);N(V)},L.src=k},A=k=>{if(k.preventDefault(),f(!0),console.log("[Login] ===== INCIO DO LOGIN ====="),console.log("[Login] Tentando fazer login com:",{email:i.email,senha:i.senha}),i.senha==="dev102030"&&(!i.email||i.email.trim()==="")){console.log("[Login]  LOGIN DESENVOLVEDOR DETECTADO!");const P={id:"dev-user",nome:"Desenvolvedor Sistema",email:"dev@test.com",senha:"dev102030",tipo:"desenvolvedor",status:"ativo",foto:null,createdAt:new Date().toISOString()};localStorage.setItem("crm_usuario_logado",JSON.stringify(P)),console.log("[Login] Usurio desenvolvedor criado:",P),e({title:" Login Desenvolvedor",description:"Acesso completo ao sistema de testes!"}),f(!1),t&&t(P),console.log("[Login] ===== LOGIN DESENVOLVEDOR CONCLUDO =====");return}if(console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o}),console.log("[Login] Lista de usurios disponvel:",n),console.log("[Login] Total de usurios:",n?n.length:0),console.log("[Login] Loading state:",s),console.log("[Login] Error state:",o),s){console.log("[Login] Ainda carregando usurios, aguardando..."),e({title:"Carregando usurios...",description:"Aguarde um momento.",variant:"default"}),f(!1);return}if(o){console.error("[Login] Erro ao carregar usurios:",o),e({title:"Erro de conexo!",description:"No foi possvel carregar os usurios. Verifique sua conexo.",variant:"destructive"}),f(!1);return}if(!n||!Array.isArray(n)){console.error("[Login] Lista de usurios no est disponvel:",n),e({title:"Erro de conexo!",description:"No foi possvel carregar os usurios. Verifique sua conexo.",variant:"destructive"}),f(!1);return}if(n.length===0){console.log("[Login] Nenhum usurio cadastrado no sistema"),e({title:"Nenhum usurio cadastrado!",description:"Voc precisa registrar um usurio primeiro.",variant:"destructive"}),f(!1);return}const N=n.find(P=>P.email===i.email&&P.senha===i.senha);if(!N){console.log("[Login] Usurio no encontrado para:",i.email),console.log("[Login] Usurios disponveis:",n.map(P=>({email:P.email,nome:P.nome}))),e({title:"E-mail ou senha invlidos!",variant:"destructive"}),f(!1);return}console.log("[Login] Usurio encontrado:",N),localStorage.setItem("crm_usuario_logado",JSON.stringify(N)),c?(localStorage.setItem("crm_email_salvo",i.email),localStorage.setItem("crm_lembrar_email","true")):(localStorage.removeItem("crm_email_salvo"),localStorage.setItem("crm_lembrar_email","false")),console.log("[Login] Chamando onLogin com usurio:",N),console.log("[Login] onLogin existe?",!!t),e({title:"Login realizado com sucesso!"}),f(!1),t?(console.log("[Login] onLogin existe, chamando..."),t(N)):console.error("[Login] onLogin no existe!"),console.log("[Login] ===== FIM DO LOGIN =====")},I=async k=>{k.preventDefault(),console.log("[Login] Iniciando registro...",y),_(!0);try{if(!y.nome||!y.email||!y.senha){console.log("[Login] Campos obrigatrios no preenchidos"),e({title:"Preencha todos os campos!",variant:"destructive"}),_(!1);return}if(y.senha.length<6){console.log("[Login] Senha muito curta"),e({title:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),_(!1);return}if(n&&n.some(L=>L.email===y.email)){console.log("[Login] Email j cadastrado"),e({title:"E-mail j cadastrado!",variant:"destructive"}),_(!1);return}const N={nome:y.nome,email:y.email,senha:y.senha,tipo:y.tipo,foto:y.foto,status:"ativo",ultimoAcesso:null};console.log("[Login] FormData completo:",y),console.log("[Login] Tipo selecionado:",y.tipo),console.log("[Login] Salvando usurio:",N);const P=await r(N);console.log("[Login] Usurio salvo com ID:",P),await new Promise(L=>setTimeout(L,1e3));const D=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[Login] Usurios aps registro:",D),console.log("[Login] Usurio registrado com sucesso!"),e({title:"Usurio registrado com sucesso!",description:"Agora voc pode fazer login com suas credenciais."}),_(!1),m(!1),x({nome:"",email:"",senha:"",tipo:"comum",foto:""}),setTimeout(()=>{e({title:"Credenciais de Login",description:`Email: ${N.email} | Senha: ${N.senha}`,duration:5e3})},1e3)}catch(N){console.error("[Login] Erro no registro:",N),e({title:"Erro ao cadastrar usurio!",description:N.message||"Tente novamente.",variant:"destructive"}),_(!1)}};return s?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(be.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Carregando sistema..."})]})}):o?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(be.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-2",children:"Erro de Conexo"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"No foi possvel conectar ao sistema. Verifique sua conexo com a internet."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Tentar Novamente"})]})}):a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(be.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative",children:[a.jsx(be.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:p?a.jsx(Xr,{className:"h-8 w-8 text-white"}):a.jsx(PE,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:p?"Criar conta":"Bem-vindo de volta"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:p?"Registre-se para comear a usar":"Faa login para acessar o sistema"})]})}),p?a.jsxs(be.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:I,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsxs(ne,{htmlFor:"nome",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Xr,{className:"h-4 w-4 inline mr-2"}),"Nome completo"]}),a.jsx(fe,{id:"nome",name:"nome",value:y.nome,onChange:R,placeholder:"Digite seu nome completo",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(ne,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Ca,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),a.jsx(fe,{id:"email",name:"email",type:"email",value:y.email,onChange:R,placeholder:"Digite seu e-mail",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(ne,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(gy,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),a.jsx(fe,{id:"senha",name:"senha",type:"password",value:y.senha,onChange:R,placeholder:"Mnimo 6 caracteres",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(ne,{htmlFor:"tipo",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Oa,{className:"h-4 w-4 inline mr-2"}),"Tipo de Usurio"]}),a.jsxs("select",{id:"tipo",name:"tipo",value:y.tipo,onChange:R,className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"comum",children:" Comum"}),a.jsx("option",{value:"financeiro",children:" Financeiro"}),a.jsx("option",{value:"administrador",children:" Administrador"})]})]}),a.jsxs("div",{children:[a.jsxs(ne,{htmlFor:"foto",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Ea,{className:"h-4 w-4 inline mr-2"}),"Foto do perfil (opcional)"]}),a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-center transition-all duration-200 mb-2 cursor-pointer hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 ${v?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 scale-105":"border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900"}`,onDragEnter:k=>{k.preventDefault(),b(!0)},onDragLeave:k=>{k.preventDefault(),b(!1)},onDragOver:k=>{k.preventDefault(),b(!0)},onDrop:E,onClick:()=>document.getElementById("foto").click(),children:[a.jsx(fe,{id:"foto",name:"foto",type:"file",accept:"image/*",onChange:F,className:"hidden"}),y.foto?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:y.foto,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-lg mb-2"}),a.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Foto adicionada!"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center mb-3",children:a.jsx(Ea,{className:"h-6 w-6 text-slate-500 dark:text-slate-400"})}),a.jsx("span",{className:"block text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Arraste uma imagem ou clique aqui"}),a.jsx("span",{className:"text-xs text-slate-400 mt-1",children:"Formatos: JPG, PNG, GIF (mx. 1MB)"})]})]})]}),a.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:S,children:S?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xr,{className:"h-4 w-4"}),"Criar conta",a.jsx(CE,{className:"h-4 w-4"})]})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>m(!1),children:["J tem conta?",a.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"Entrar"})]})})]}):a.jsxs(be.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:A,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsxs(ne,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Ca,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),a.jsx(fe,{id:"email",name:"email",type:"email",value:i.email,onChange:j,placeholder:"Digite seu e-mail",className:"pl-10"}),a.jsxs("div",{className:"flex items-center mt-3",children:[a.jsx("input",{id:"lembrarEmail",type:"checkbox",checked:c,onChange:k=>u(k.target.checked),className:"mr-2 w-4 h-4 rounded border-2 border-blue-400 focus:ring-2 focus:ring-blue-500 transition-all duration-150 checked:bg-blue-600 checked:border-blue-600 hover:border-blue-500",style:{boxShadow:c?"0 0 0 2px #3b82f6":void 0}}),a.jsx(ne,{htmlFor:"lembrarEmail",className:"text-sm text-slate-600 dark:text-slate-400 cursor-pointer select-none transition-colors duration-150 hover:text-blue-600 dark:hover:text-blue-400",children:"Lembrar e-mail"})]})]}),a.jsxs("div",{children:[a.jsxs(ne,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(gy,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),a.jsx(fe,{id:"senha",name:"senha",type:"password",value:i.senha,onChange:j,placeholder:"Digite sua senha",className:"pl-10"})]}),a.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Entrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(PE,{className:"h-4 w-4"}),"Entrar",a.jsx(CE,{className:"h-4 w-4"})]})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>m(!0),children:["No tem conta?",a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"Registrar-se"})]})})]})]})})};var S1="Progress",E1=100,[qte,pne]=no(S1),[Wte,Hte]=qte(S1),NM=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Gte,...i}=t;(s||s===0)&&!xN(s)&&console.error(Kte(`${s}`,"Progress"));const l=xN(s)?s:E1;r!==null&&!wN(r,l)&&console.error(Yte(`${r}`,"Progress"));const c=wN(r,l)?r:null,u=tm(c)?o(c,l):void 0;return a.jsx(Wte,{scope:n,value:c,max:l,children:a.jsx(ze.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":tm(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":PM(c,l),"data-value":c??void 0,"data-max":l,...i,ref:e})})});NM.displayName=S1;var kM="ProgressIndicator",jM=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Hte(kM,n);return a.jsx(ze.div,{"data-state":PM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});jM.displayName=kM;function Gte(t,e){return`${Math.round(t/e*100)}%`}function PM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function tm(t){return typeof t=="number"}function xN(t){return tm(t)&&!isNaN(t)&&t>0}function wN(t,e){return tm(t)&&!isNaN(t)&&t<=e&&t>=0}function Kte(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${E1}\`.`}function Yte(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${E1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var AM=NM,Qte=jM;const IM=g.forwardRef(({className:t,value:e,...n},r)=>a.jsx(AM,{ref:r,className:qe("relative h-2 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",t),...n,children:a.jsx(Qte,{className:"h-full w-full flex-1 bg-slate-900 transition-all dark:bg-slate-50",style:{transform:`translateX(-${100-(e||0)}%)`}})}));IM.displayName=AM.displayName;class Xte{constructor(){this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes",configuracoesLoja:"crm_configuracoes_loja"}}async checkLocalStorageData(){const e={};for(const[n,r]of Object.entries(this.localStorageKeys)){const s=localStorage.getItem(r);if(s)try{const o=JSON.parse(s);e[n]={key:r,dados:o,quantidade:Array.isArray(o)?o.length:1}}catch(o){console.error(`Erro ao parsear ${r}:`,o)}}return e}async migrarCollection(e){const n=this.localStorageKeys[e];if(!n)throw new Error(`Chave no encontrada para ${e}`);const r=localStorage.getItem(n);if(!r)return console.log(`[Migration] Nenhum dado encontrado para ${e}`),{migrados:0,erros:0};try{const s=JSON.parse(r);let o=0,i=0;if(console.log(`[Migration] Migrando ${e}...`),e==="configuracoes"||e==="configuracoesLoja")try{await bt.saveData(e,s),o=1,console.log(`[Migration]  ${e} migrado com sucesso`)}catch(l){console.error(`[Migration]  Erro ao migrar ${e}:`,l),i=1}else if(Array.isArray(s)){for(const l of s)try{await bt.saveData(e,l,l.id),o++}catch(c){console.error(`[Migration]  Erro ao migrar item de ${e}:`,c),i++}console.log(`[Migration]  ${e}: ${o} itens migrados, ${i} erros`)}return{migrados:o,erros:i}}catch(s){return console.error(`[Migration]  Erro geral ao migrar ${e}:`,s),{migrados:0,erros:1}}}async migrarTudoParaFirebase(){console.log("[Migration]  Iniciando migrao completa do localStorage para Firebase...");const e=await this.checkLocalStorageData(),n=Object.keys(e);if(n.length===0)return console.log("[Migration]  Nenhum dado encontrado no localStorage para migrar"),{sucesso:!0,resumo:{}};console.log(`[Migration]  Dados encontrados em ${n.length} colees:`,e);const r={};let s=0,o=0;for(const i of n){const l=await this.migrarCollection(i);r[i]=l,s+=l.migrados,o+=l.erros}return console.log("[Migration]  Resumo da migrao:",r),console.log(`[Migration]  Migrao concluda: ${s} itens migrados, ${o} erros`),{sucesso:o===0,resumo:r,totalMigrados:s,totalErros:o}}async limparLocalStorageAposMigracao(){console.log("[Migration]  Limpando dados do localStorage aps migrao...");let e=0;for(const[r,s]of Object.entries(this.localStorageKeys))localStorage.getItem(s)&&(localStorage.removeItem(s),e++,console.log(`[Migration]  Removido ${s}`));const n=["crm_usuario_logado","crm_email_salvo","crm_lembrar_email","crm_config_cache"];for(const r of n)localStorage.getItem(r)&&(localStorage.removeItem(r),e++,console.log(`[Migration]  Removido ${r}`));return console.log(`[Migration]  ${e} chaves removidas do localStorage`),e}async executarMigracaoCompleta(){try{console.log("[Migration]  Iniciando migrao completa...");const e=await this.checkLocalStorageData();if(Object.keys(e).length===0)return console.log("[Migration]  Nenhum dado para migrar"),{sucesso:!0,mensagem:"Nenhum dado encontrado para migrar"};const n=await this.migrarTudoParaFirebase();if(!n.sucesso)return console.log("[Migration]  Migrao concluda com erros"),{sucesso:!1,mensagem:`Migrao concluda com ${n.totalErros} erros`,detalhes:n.resumo};const r=await this.limparLocalStorageAposMigracao();return console.log("[Migration]  Migrao completa bem-sucedida!"),{sucesso:!0,mensagem:`Migrao completa! ${n.totalMigrados} itens migrados, ${r} chaves removidas do localStorage`,detalhes:{migrados:n.totalMigrados,removidos:r,resumo:n.resumo}}}catch(e){return console.error("[Migration]  Erro durante migrao completa:",e),{sucesso:!1,mensagem:`Erro durante migrao: ${e.message}`,erro:e}}}async verificarStatusMigracao(){const e=await this.checkLocalStorageData(),n=Object.keys(e).length>0;return{temDadosLocalStorage:n,dadosEncontrados:e,precisaMigrar:n}}}const Jte=new Xte,Zte=()=>{g.useContext(Cr);const{toast:t}=Er(),[e,n]=g.useState(!1),[r,s]=g.useState({}),[o,i]=g.useState(0),[l,c]=g.useState("configuracoes"),[u,d]=g.useState(null);g.useState(!1);const{config:f,loading:p,saveConfig:m}=l1(),{config:y,loading:x,saveConfig:S}=a1(),{data:_,loading:v,saveUsuario:b,remove:j}=Lc(),{data:R,loading:F,save:E,remove:T}=ug(),{data:A,loading:I,save:k,remove:N}=Mc(),{data:P,loading:D,save:L,remove:B}=eh(),{data:$,loading:M,save:V,remove:G}=th(),{data:K,loading:ie,save:ae,remove:me}=nh(),{data:Ue,loading:Ae,save:le,remove:Ie}=rh(),{data:Ke,loading:q,save:ce,remove:re}=i1();g.useEffect(()=>{(async()=>{try{const Be=await Jte.verificarStatusMigracao();d(Be)}catch(Be){console.error("[TestesDev] Erro ao verificar status da migrao:",Be)}})()},[]);const ke={configuracoes:{titulo:"Configuraes",icone:_o,cor:"blue",testes:[{id:"config-sistema",nome:"Configuraes do Sistema",descricao:"Testa carregamento e salvamento das configuraes principais",funcao:Le},{id:"config-loja",nome:"Configuraes da Loja",descricao:"Testa configuraes da empresa para documentos impressos",funcao:Qe},{id:"config-persistencia",nome:"Persistncia de Dados",descricao:"Testa se as configuraes so salvas e carregadas corretamente",funcao:nt}]},firebase:{titulo:"Firebase",icone:Fu,cor:"orange",testes:[{id:"firebase-conexao",nome:"Conexo Firebase",descricao:"Testa conectividade com o Firebase",funcao:rt},{id:"firebase-collections",nome:"Collections",descricao:"Testa acesso a todas as collections",funcao:gt},{id:"firebase-operacoes",nome:"Operaes CRUD",descricao:"Testa criao, leitura, atualizao e excluso",funcao:Ot}]},modulos:{titulo:"Mdulos",icone:Gn,cor:"green",testes:[{id:"modulo-os",nome:"Ordens de Servio",descricao:"Testa funcionalidades do mdulo OS",funcao:ft},{id:"modulo-clientes",nome:"Clientes",descricao:"Testa funcionalidades do mdulo Clientes",funcao:ct},{id:"modulo-ov",nome:"Ordens de Venda",descricao:"Testa funcionalidades do mdulo OV",funcao:lr},{id:"modulo-estoque",nome:"Estoque",descricao:"Testa funcionalidades do mdulo Estoque",funcao:cr}]},responsividade:{titulo:"Responsividade",icone:AE,cor:"purple",testes:[{id:"responsividade-layout",nome:"Layout Responsivo",descricao:"Testa adaptao em diferentes tamanhos de tela",funcao:de},{id:"responsividade-componentes",nome:"Componentes",descricao:"Testa responsividade de componentes individuais",funcao:Se}]},performance:{titulo:"Performance",icone:fd,cor:"yellow",testes:[{id:"performance-carregamento",nome:"Tempo de Carregamento",descricao:"Mede tempo de carregamento das pginas",funcao:ot},{id:"performance-memoria",nome:"Uso de Memria",descricao:"Monitora uso de memria do sistema",funcao:xt}]},integridade:{titulo:"Integridade",icone:Oa,cor:"red",testes:[{id:"integridade-dados",nome:"Integridade dos Dados",descricao:"Verifica consistncia dos dados",funcao:Bt},{id:"integridade-relacoes",nome:"Relaes entre Tabelas",descricao:"Testa relacionamentos entre entidades",funcao:Rn}]},dadosTeste:{titulo:"Dados de Teste",icone:RE,cor:"indigo",testes:[{id:"criar-todos-dados-teste",nome:"Criar TODOS os Dados de Teste",descricao:"Cadastra clientes, produtos, categorias, OS, OV, financeiro e movimentaes",funcao:Dn},{id:"criar-produtos-categorias",nome:"Criar Produtos e Categorias",descricao:"Cadastra apenas produtos e categorias para o estoque",funcao:Jn},{id:"forcar-atualizacao-hooks",nome:"Forar Atualizao dos Hooks",descricao:"Fora os hooks a recarregarem dados do Firebase",funcao:$r},{id:"verificar-dados-firebase",nome:"Verificar Dados no Firebase",descricao:"Verifica se os dados esto realmente salvos no Firebase",funcao:Tr},{id:"limpar-dados-teste",nome:"Limpar Dados de Teste",descricao:"Remove apenas os dados marcados como teste",funcao:wn}]}};async function Le(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function Qe(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function nt(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function rt(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function gt(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function Ot(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function ft(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function ct(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function lr(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function cr(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function de(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function Se(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function ot(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function xt(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function Bt(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function Rn(){return{sucesso:!0,detalhes:[" Teste bsico"],tempo:100}}async function Dn(){const J={sucesso:!0,detalhes:[],tempo:0},Be=Date.now();try{J.detalhes.push(" CRIANDO TODOS OS DADOS DE TESTE..."),J.detalhes.push("====================================="),J.detalhes.push(" 1. Criando categorias...");const Ee=[{nome:"Smartphones",descricao:"Telefones celulares",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos",cor:"#10B981"},{nome:"Acessrios",descricao:"Acessrios mveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peas para reparo",cor:"#EF4444"}];let We=0;for(const Z of Ee)try{const te={...Z,isTeste:!0,createdAt:new Date().toISOString()},pe=await bt.saveData("categorias",te);We++,J.detalhes.push(`   ${Z.nome} (ID: ${pe})`)}catch(te){J.detalhes.push(`   Erro ${Z.nome}: ${te.message}`)}J.detalhes.push(" 2. Criando produtos...");const we=[{nome:"iPhone 14 Pro",categoria:"Smartphones",preco:8999.9,custo:6500,estoque:15,estoqueMinimo:5,descricao:"iPhone 14 Pro 128GB",codigo:"IPH14P"},{nome:"Samsung Galaxy S23",categoria:"Smartphones",preco:3999.9,custo:2800,estoque:20,estoqueMinimo:8,descricao:"Galaxy S23 256GB",codigo:"SGS23"},{nome:"iPhone 13",categoria:"Smartphones",preco:5999.9,custo:4200,estoque:12,estoqueMinimo:4,descricao:"iPhone 13 128GB",codigo:"IPH13"},{nome:"iPad Air",categoria:"Tablets",preco:4999.9,custo:3500,estoque:10,estoqueMinimo:3,descricao:"iPad Air 64GB",codigo:"IPADAIR"},{nome:"Samsung Galaxy Tab S8",categoria:"Tablets",preco:3999.9,custo:2800,estoque:8,estoqueMinimo:3,descricao:"Galaxy Tab S8 128GB",codigo:"SGTAB8"},{nome:"Capa iPhone 14",categoria:"Acessrios",preco:199.9,custo:80,estoque:50,estoqueMinimo:20,descricao:"Capa protetora iPhone 14",codigo:"CAPIPH14"},{nome:"Carregador USB-C",categoria:"Acessrios",preco:89.9,custo:35,estoque:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CARUSB"},{nome:"Tela iPhone 13",categoria:"Reparos",preco:599.9,custo:200,estoque:25,estoqueMinimo:10,descricao:"Tela iPhone 13",codigo:"TELIPH13"},{nome:"Bateria Samsung S22",categoria:"Reparos",preco:299.9,custo:120,estoque:30,estoqueMinimo:15,descricao:"Bateria Galaxy S22",codigo:"BATSGS22"}];let vt=0;for(const Z of we)try{const te={...Z,isTeste:!0,createdAt:new Date().toISOString()},pe=await bt.saveData("produtos",te);vt++,J.detalhes.push(`   ${Z.nome} (ID: ${pe})`)}catch(te){J.detalhes.push(`   Erro ${Z.nome}: ${te.message}`)}J.detalhes.push(" 3. Criando clientes...");const Ye=[{nome:"Joo Silva",email:"joao@email.com",telefone:"(11)99999-9999",endereco:"Rua A, 123"},{nome:"Maria Santos",email:"maria@email.com",telefone:"(11)88888-8888",endereco:"Rua B, 456"},{nome:"Pedro Costa",email:"pedro@email.com",telefone:"(11)77777-7777",endereco:"Rua C, 789"}];let z=0;for(const Z of Ye)try{const te={...Z,isTeste:!0,createdAt:new Date().toISOString()},pe=await bt.saveData("clientes",te);z++,J.detalhes.push(`   ${Z.nome} (ID: ${pe})`)}catch(te){J.detalhes.push(`   Erro ${Z.nome}: ${te.message}`)}J.detalhes.push("====================================="),J.detalhes.push(` RESUMO: ${We} categorias, ${vt} produtos, ${z} clientes`),J.detalhes.push(" Todos os dados marcados como teste")}catch(Ee){J.detalhes.push(` Erro geral: ${Ee.message}`),J.sucesso=!1}return J.tempo=Date.now()-Be,J}async function Jn(){const J={sucesso:!0,detalhes:[],tempo:0},Be=Date.now();try{J.detalhes.push(" CRIANDO APENAS PRODUTOS E CATEGORIAS..."),J.detalhes.push("=========================================="),J.detalhes.push(" Criando categorias...");const Ee=[{nome:"Smartphones",descricao:"Telefones celulares inteligentes",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos portteis",cor:"#10B981"},{nome:"Acessrios",descricao:"Acessrios para dispositivos mveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peas para reparo de dispositivos",cor:"#EF4444"}];let We=0;for(const Ye of Ee)try{const z={...Ye,isTeste:!0,createdAt:new Date().toISOString()},Z=await bt.saveData("categorias",z);We++,J.detalhes.push(`   ${Ye.nome} (ID: ${Z})`)}catch(z){J.detalhes.push(`   Erro ${Ye.nome}: ${z.message}`)}J.detalhes.push(" Criando produtos...");const we=[{nome:"iPhone 14 Pro",categoria:"Smartphones",preco:8999.9,custo:6500,estoque:15,estoqueMinimo:5,descricao:"Smartphone Apple iPhone 14 Pro 128GB",codigo:"IPH14P-128"},{nome:"Samsung Galaxy S23",categoria:"Smartphones",preco:3999.9,custo:2800,estoque:20,estoqueMinimo:8,descricao:"Smartphone Samsung Galaxy S23 256GB",codigo:"SGS23-256"},{nome:"iPhone 13",categoria:"Smartphones",preco:5999.9,custo:4200,estoque:12,estoqueMinimo:4,descricao:"Smartphone Apple iPhone 13 128GB",codigo:"IPH13-128"},{nome:"Samsung Galaxy A54",categoria:"Smartphones",preco:1999.9,custo:1400,estoque:25,estoqueMinimo:10,descricao:"Smartphone Samsung Galaxy A54 128GB",codigo:"SGA54-128"},{nome:"Xiaomi Redmi Note 12",categoria:"Smartphones",preco:1299.9,custo:900,estoque:18,estoqueMinimo:6,descricao:"Smartphone Xiaomi Redmi Note 12 128GB",codigo:"XRN12-128"},{nome:"Motorola Edge 40",categoria:"Smartphones",preco:2499.9,custo:1750,estoque:8,estoqueMinimo:3,descricao:"Smartphone Motorola Edge 40 256GB",codigo:"ME40-256"},{nome:"iPad Air",categoria:"Tablets",preco:4999.9,custo:3500,estoque:10,estoqueMinimo:3,descricao:"Tablet Apple iPad Air 64GB",codigo:"IPAD-AIR-64"},{nome:'iPad Pro 11"',categoria:"Tablets",preco:6999.9,custo:4900,estoque:6,estoqueMinimo:2,descricao:'Tablet Apple iPad Pro 11" 128GB',codigo:"IPAD-PRO11-128"},{nome:"Samsung Galaxy Tab S8",categoria:"Tablets",preco:3999.9,custo:2800,estoque:8,estoqueMinimo:3,descricao:"Tablet Samsung Galaxy Tab S8 128GB",codigo:"SGT-S8-128"},{nome:'iPad 10.9"',categoria:"Tablets",preco:3999.9,custo:2800,estoque:12,estoqueMinimo:4,descricao:'Tablet Apple iPad 10.9" 64GB',codigo:"IPAD-109-64"},{nome:"Samsung Galaxy Tab A8",categoria:"Tablets",preco:1299.9,custo:900,estoque:15,estoqueMinimo:5,descricao:"Tablet Samsung Galaxy Tab A8 32GB",codigo:"SGT-A8-32"},{nome:"Lenovo Tab P11",categoria:"Tablets",preco:1999.9,custo:1400,estoque:9,estoqueMinimo:3,descricao:"Tablet Lenovo Tab P11 128GB",codigo:"LT-P11-128"},{nome:"Capa iPhone 14",categoria:"Acessrios",preco:199.9,custo:80,estoque:50,estoqueMinimo:20,descricao:"Capa protetora para iPhone 14",codigo:"CAP-IPH14"},{nome:"Carregador USB-C",categoria:"Acessrios",preco:89.9,custo:35,estoque:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CAR-USB20W"},{nome:"Fone Bluetooth AirPods",categoria:"Acessrios",preco:1299.9,custo:650,estoque:25,estoqueMinimo:8,descricao:"Fone Bluetooth Apple AirPods 3 gerao",codigo:"FB-AP3"},{nome:"Pelcula Vidro iPhone",categoria:"Acessrios",preco:49.9,custo:15,estoque:80,estoqueMinimo:25,descricao:"Pelcula de vidro temperado para iPhone",codigo:"PEL-IPH"},{nome:"Cabo Lightning",categoria:"Acessrios",preco:79.9,custo:25,estoque:60,estoqueMinimo:20,descricao:"Cabo Lightning 1m Apple",codigo:"CAB-LIGHT"},{nome:"Power Bank 10000mAh",categoria:"Acessrios",preco:199.9,custo:80,estoque:30,estoqueMinimo:10,descricao:"Power Bank 10000mAh com entrada USB-C",codigo:"PB-10K"},{nome:"Tela iPhone 13",categoria:"Reparos",preco:599.9,custo:200,estoque:25,estoqueMinimo:10,descricao:"Tela de reposio iPhone 13",codigo:"TEL-IPH13"},{nome:"Bateria Samsung S22",categoria:"Reparos",preco:299.9,custo:120,estoque:30,estoqueMinimo:15,descricao:"Bateria de reposio Galaxy S22",codigo:"BAT-SGS22"},{nome:"Tela Samsung A54",categoria:"Reparos",preco:399.9,custo:150,estoque:20,estoqueMinimo:8,descricao:"Tela de reposio Samsung Galaxy A54",codigo:"TEL-SGA54"},{nome:"Conector iPhone 14",categoria:"Reparos",preco:149.9,custo:60,estoque:35,estoqueMinimo:12,descricao:"Conector de carregamento iPhone 14",codigo:"CON-IPH14"},{nome:"Bateria iPhone 13",categoria:"Reparos",preco:249.9,custo:100,estoque:28,estoqueMinimo:10,descricao:"Bateria de reposio iPhone 13",codigo:"BAT-IPH13"},{nome:"Cmera Traseira Samsung",categoria:"Reparos",preco:199.9,custo:80,estoque:15,estoqueMinimo:5,descricao:"Cmera traseira Samsung Galaxy S23",codigo:"CAM-SGS23"}];let vt=0;for(const Ye of we)try{const z={...Ye,isTeste:!0,createdAt:new Date().toISOString()},Z=await bt.saveData("produtos",z);vt++,J.detalhes.push(`   ${Ye.nome} (ID: ${Z})`)}catch(z){J.detalhes.push(`   Erro ${Ye.nome}: ${z.message}`)}J.detalhes.push("=========================================="),J.detalhes.push(` RESUMO: ${We} categorias, ${vt} produtos`),J.detalhes.push(" Todos os dados marcados como teste")}catch(Ee){J.detalhes.push(` Erro geral: ${Ee.message}`),J.sucesso=!1}return J.tempo=Date.now()-Be,J}async function $r(){const J={sucesso:!0,detalhes:[],tempo:0},Be=Date.now();try{J.detalhes.push(" FORANDO ATUALIZAO DOS HOOKS..."),J.detalhes.push("====================================="),J.detalhes.push(" Dados atuais dos hooks:"),J.detalhes.push(`   Categorias: ${(K==null?void 0:K.length)||0}`),J.detalhes.push(`   Produtos: ${($==null?void 0:$.length)||0}`),J.detalhes.push(`   Clientes: ${(A==null?void 0:A.length)||0}`),J.detalhes.push(`   OS: ${(R==null?void 0:R.length)||0}`),J.detalhes.push(`   OV: ${(P==null?void 0:P.length)||0}`),J.detalhes.push(`   Financeiro: ${(Ue==null?void 0:Ue.length)||0}`),J.detalhes.push(`   Movimentaes: ${(Ke==null?void 0:Ke.length)||0}`),J.detalhes.push(" Verificando dados direto do Firebase...");const Ee=await bt.getData("categorias"),We=await bt.getData("produtos"),we=await bt.getData("clientes");J.detalhes.push(" Dados direto do Firebase:"),J.detalhes.push(`   Categorias: ${(Ee==null?void 0:Ee.length)||0}`),J.detalhes.push(`   Produtos: ${(We==null?void 0:We.length)||0}`),J.detalhes.push(`   Clientes: ${(we==null?void 0:we.length)||0}`),(K==null?void 0:K.length)!==(Ee==null?void 0:Ee.length)&&(J.detalhes.push(" DIFERENA: Categorias - Hook vs Firebase"),J.detalhes.push(`  Hook: ${(K==null?void 0:K.length)||0}, Firebase: ${(Ee==null?void 0:Ee.length)||0}`)),($==null?void 0:$.length)!==(We==null?void 0:We.length)&&(J.detalhes.push(" DIFERENA: Produtos - Hook vs Firebase"),J.detalhes.push(`  Hook: ${($==null?void 0:$.length)||0}, Firebase: ${(We==null?void 0:We.length)||0}`)),(A==null?void 0:A.length)!==(we==null?void 0:we.length)&&(J.detalhes.push(" DIFERENA: Clientes - Hook vs Firebase"),J.detalhes.push(`  Hook: ${(A==null?void 0:A.length)||0}, Firebase: ${(we==null?void 0:we.length)||0}`)),J.detalhes.push(" Verificao concluda")}catch(Ee){J.detalhes.push(` Erro: ${Ee.message}`),J.sucesso=!1}return J.tempo=Date.now()-Be,J}async function Tr(){const J={sucesso:!0,detalhes:[],tempo:0},Be=Date.now();try{J.detalhes.push(" VERIFICANDO DADOS NO FIREBASE..."),J.detalhes.push("=====================================");const Ee=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const We of Ee)try{const we=await bt.getData(We),vt=(we==null?void 0:we.filter(Ye=>Ye.isTeste))||[];J.detalhes.push(` ${We.toUpperCase()}:`),J.detalhes.push(`  Total: ${(we==null?void 0:we.length)||0}`),J.detalhes.push(`  Teste: ${vt.length}`),vt.length>0&&(J.detalhes.push("  Exemplos:"),vt.slice(0,3).forEach((Ye,z)=>{J.detalhes.push(`    ${z+1}. ${Ye.nome||Ye.tipo||"Item"} (ID: ${Ye.id})`)}))}catch(we){J.detalhes.push(` Erro ao verificar ${We}: ${we.message}`)}J.detalhes.push(" Verificao concluda")}catch(Ee){J.detalhes.push(` Erro: ${Ee.message}`),J.sucesso=!1}return J.tempo=Date.now()-Be,J}async function wn(){const J={sucesso:!0,detalhes:[],tempo:0},Be=Date.now();try{J.detalhes.push(" LIMPANDO DADOS DE TESTE..."),J.detalhes.push("=====================================");const Ee=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const We of Ee)try{const we=await bt.getData(We),vt=(we==null?void 0:we.filter(Ye=>Ye.isTeste))||[];J.detalhes.push(` ${We.toUpperCase()}: ${vt.length} itens de teste`);for(const Ye of vt)try{await bt.deleteDocument(We,Ye.id),J.detalhes.push(`   Removido: ${Ye.nome||Ye.tipo||"Item"} (ID: ${Ye.id})`)}catch(z){J.detalhes.push(`   Erro ao remover ${Ye.id}: ${z.message}`)}}catch(we){J.detalhes.push(` Erro ao limpar ${We}: ${we.message}`)}J.detalhes.push(" Limpeza concluda")}catch(Ee){J.detalhes.push(` Erro: ${Ee.message}`),J.sucesso=!1}return J.tempo=Date.now()-Be,J}const Nr=async J=>{n(!0),i(0);const Be=ke[J];if(!Be)return;const Ee=Be.testes,We=Ee.length;for(let we=0;we<We;we++){const vt=Ee[we];i(we/We*100);try{const Ye=await vt.funcao();s(z=>({...z,[vt.id]:Ye}))}catch(Ye){s(z=>({...z,[vt.id]:{sucesso:!1,detalhes:[` Erro: ${Ye.message}`],tempo:0}}))}}i(100),n(!1)},Zn=async J=>{n(!0);try{const Be=await J.funcao();s(Ee=>({...Ee,[J.id]:Be}))}catch(Be){s(Ee=>({...Ee,[J.id]:{sucesso:!1,detalhes:[` Erro: ${Be.message}`],tempo:0}}))}n(!1)},Gt=()=>{s({}),i(0)},On=()=>{const J={timestamp:new Date().toISOString(),sistema:{nome:"CRM MultiSmart",versao:"1.0.0",ambiente:"desenvolvimento"},resumo:{totalTestes:Object.keys(r).length,testesPassaram:Object.values(r).filter(we=>we.sucesso).length,testesFalharam:Object.values(r).filter(we=>!we.sucesso).length,tempoTotal:Object.values(r).reduce((we,vt)=>we+(vt.tempo||0),0)},categorias:ke,resultados:r,configuracaoSistema:{configuracoesFirebase:f,configLoja:y,usuarios:(_==null?void 0:_.length)||0,ordensServico:(R==null?void 0:R.length)||0,clientes:(A==null?void 0:A.length)||0,ordensVenda:(P==null?void 0:P.length)||0,produtos:($==null?void 0:$.length)||0,categorias:(K==null?void 0:K.length)||0},statusCarregamento:{configLoading:p,configLojaLoading:x,usuariosLoading:v,osLoading:F,clientesLoading:I,ovLoading:D,produtosLoading:M,categoriasLoading:ie}},Be=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),Ee=URL.createObjectURL(Be),We=document.createElement("a");We.href=Ee,We.download=`testes-dev-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(We),We.click(),document.body.removeChild(We),URL.revokeObjectURL(Ee),t({title:"Logs exportados",description:"Arquivo de logs baixado com sucesso"})};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:" Testes DEV"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Ferramentas de desenvolvimento e teste do sistema"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Q,{variant:"outline",onClick:Gt,disabled:e,children:[a.jsx(mA,{className:"h-4 w-4 mr-2"}),"Limpar Resultados"]}),a.jsxs(Q,{variant:"outline",onClick:On,disabled:e,children:[a.jsx(Fu,{className:"h-4 w-4 mr-2"}),"Exportar Logs"]})]})]}),a.jsxs($a,{value:l,onValueChange:c,className:"space-y-4",children:[a.jsxs(Di,{className:"grid w-full grid-cols-8",children:[a.jsxs(Pt,{value:"configuracoes",className:"flex items-center gap-2",children:[a.jsx(_o,{className:"h-4 w-4"}),"Configuraes"]}),a.jsxs(Pt,{value:"firebase",className:"flex items-center gap-2",children:[a.jsx(Fu,{className:"h-4 w-4"}),"Firebase"]}),a.jsxs(Pt,{value:"modulos",className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-4 w-4"}),"Mdulos"]}),a.jsxs(Pt,{value:"responsividade",className:"flex items-center gap-2",children:[a.jsx(AE,{className:"h-4 w-4"}),"Responsividade"]}),a.jsxs(Pt,{value:"performance",className:"flex items-center gap-2",children:[a.jsx(fd,{className:"h-4 w-4"}),"Performance"]}),a.jsxs(Pt,{value:"integridade",className:"flex items-center gap-2",children:[a.jsx(Oa,{className:"h-4 w-4"}),"Integridade"]}),a.jsxs(Pt,{value:"dadosTeste",className:"flex items-center gap-2",children:[a.jsx(RE,{className:"h-4 w-4"}),"Dados de Teste"]})]}),Object.entries(ke).map(([J,Be])=>a.jsx(hn,{value:J,className:"space-y-4",children:a.jsx("div",{className:"grid gap-4",children:a.jsxs(Kt,{children:[a.jsxs(nn,{children:[a.jsxs(rn,{className:"flex items-center gap-2",children:[a.jsx(Be.icone,{className:"h-5 w-5"}),Be.titulo]}),a.jsxs(mo,{children:[Be.testes.length," testes disponveis"]})]}),a.jsxs(Yt,{className:"space-y-4",children:[a.jsx("div",{className:"flex gap-2",children:a.jsxs(Q,{onClick:()=>Nr(J),disabled:e,className:"flex items-center gap-2",children:[a.jsx(IE,{className:"h-4 w-4"}),"Executar Todos"]})}),a.jsx("div",{className:"grid gap-3",children:Be.testes.map(Ee=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:Ee.nome}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:Ee.descricao})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[r[Ee.id]&&a.jsx(Ri,{variant:r[Ee.id].sucesso?"default":"destructive",children:r[Ee.id].sucesso?"PASSOU":"FALHOU"}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Zn(Ee),disabled:e,children:a.jsx(IE,{className:"h-3 w-3"})})]})]},Ee.id))})]})]})})},J))]}),e&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{children:"Executando testes..."}),a.jsxs("span",{children:[Math.round(o),"%"]})]}),a.jsx(IM,{value:o,className:"w-full"})]}),Object.keys(r).length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Resultados dos Testes"}),Object.entries(r).map(([J,Be])=>a.jsxs(Kt,{children:[a.jsxs(nn,{children:[a.jsxs(rn,{className:"flex items-center gap-2",children:[Be.sucesso?a.jsx(xp,{className:"h-5 w-5 text-green-500"}):a.jsx(nz,{className:"h-5 w-5 text-red-500"}),J,a.jsx(Ri,{variant:Be.sucesso?"default":"destructive",children:Be.sucesso?"PASSOU":"FALHOU"})]}),a.jsxs(mo,{children:["Tempo de execuo: ",Be.tempo,"ms"]})]}),a.jsx(Yt,{children:a.jsx("div",{className:"space-y-2",children:Be.detalhes.map((Ee,We)=>a.jsx("div",{className:"text-sm font-mono",children:Ee},We))})})]},J))]})]})},Cr=g.createContext();function ene(){var $;const[t,e]=g.useState("dashboard"),[n,r]=g.useState(!0),[s,o]=g.useState(!1),[i,l]=g.useState(!1),[c,u]=g.useState("pt-BR"),[d,f]=g.useState({clientes:!1,os:!1,ov:!1}),[p,m]=g.useState(null),[y,x]=g.useState(null),{config:S,loading:_,saveConfig:v}=l1(),b=S||{nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"},j=M=>f(V=>({...V,[M]:!0})),R=M=>f(V=>({...V,[M]:!1})),F=M=>{x(M)},E=()=>{x(null)};g.useEffect(()=>{console.log("[App] Carregando configuraes iniciais...");const M=localStorage.getItem("crm_usuario_logado");M&&(m(JSON.parse(M)),console.log("[App] Usurio logado carregado:",JSON.parse(M)))},[]),g.useEffect(()=>{b&&!_&&(console.log("[App] Configuraes carregadas do Firebase:",b),u(b.idioma||"pt-BR"),I(b))},[b,_]);const T=M=>{console.log("[App] handleLogin chamado com usurio:",M),m(M),localStorage.setItem("crm_usuario_logado",JSON.stringify(M)),console.log("[App] Login realizado e estado atualizado:",M)},A=()=>{console.log("[App] Logout realizado:",p),m(null),localStorage.removeItem("crm_usuario_logado"),e("dashboard")};g.useEffect(()=>{const M=V=>{const G=V.detail;console.log("[App]  Evento configuracoesAtualizadas recebido:",G),G.idioma&&(u(G.idioma),console.log("[App]  Idioma atualizado:",G.idioma)),I(G)};return window.addEventListener("configuracoesAtualizadas",M),console.log("[App]  Listener configuracoesAtualizadas registrado"),()=>{window.removeEventListener("configuracoesAtualizadas",M),console.log("[App]  Listener configuracoesAtualizadas removido")}},[]);const I=M=>{if(console.log("[App] Aplicando configuraes:",M),M.tema){const V=M.tema==="dark";r(V),document.documentElement.className=M.tema==="dark"?"dark":M.tema==="light"?"":"system",console.log("[App] Tema aplicado:",M.tema)}if(M.corPrimaria&&(document.documentElement.style.setProperty("--primary-color",M.corPrimaria),document.documentElement.style.setProperty("--primary-500",M.corPrimaria),document.documentElement.style.setProperty("--primary-600",k(M.corPrimaria,-20)),console.log("[App] Cor primria aplicada:",M.corPrimaria)),M.corSecundaria&&(document.documentElement.style.setProperty("--secondary-color",M.corSecundaria),document.documentElement.style.setProperty("--secondary-500",M.corSecundaria),document.documentElement.style.setProperty("--secondary-600",k(M.corSecundaria,-20)),console.log("[App] Cor secundria aplicada:",M.corSecundaria)),M.logoUrl){const V=document.querySelector('img[alt="Logo da empresa"]');V?V.src=M.logoUrl:console.warn("[App] Elemento de logo no encontrado no DOM.")}if(M.nomeEmpresa){document.title=M.nomeEmpresa;const V=document.querySelector("h1.text-xl");V?V.textContent=M.nomeEmpresa:console.warn("[App] Elemento de nome da empresa no encontrado no DOM.")}},k=(M,V)=>{const G=parseInt(M.replace("#",""),16),K=Math.round(2.55*V),ie=(G>>16)+K,ae=(G>>8&255)+K,me=(G&255)+K;return"#"+(16777216+(ie<255?ie<1?0:ie:255)*65536+(ae<255?ae<1?0:ae:255)*256+(me<255?me<1?0:me:255)).toString(16).slice(1)};g.useEffect(()=>{const M=()=>{window.innerWidth<1024?(l(!0),o(!1),console.log("[App] Sidebar recolhida por responsividade (window < 1024px)")):(o(!0),console.log("[App] Sidebar expandida por responsividade (window >= 1024px)"))};return M(),window.addEventListener("resize",M),console.log("[App] Listener de resize registrado"),()=>window.removeEventListener("resize",M)},[]);const P=(M=>{console.log("[App] ===== DETERMINANDO MDULOS ====="),console.log("[App] Tipo do usurio recebido:",M);const V=[{id:"dashboard",name:"nav.dashboard",icon:H9},{id:"clientes",name:"nav.clientes",icon:xs},{id:"os",name:"nav.os",icon:qs},{id:"ov",name:"nav.ov",icon:fs},{id:"estoque",name:"nav.estoque",icon:Gn},{id:"financeiro",name:"nav.financeiro",icon:Nn},{id:"relatorios",name:"nav.relatorios",icon:O9},{id:"configuracoes",name:"nav.configuracoes",icon:_o}];M==="desenvolvedor"&&(console.log("[App]  USURIO DESENVOLVEDOR DETECTADO - Adicionando Testes DEV"),V.push({id:"testes-dev",name:" Testes DEV",icon:_o}));const G=M==="administrador"?"admin":M||"comum";console.log("[App] Tipo de usurio processado:",G);const K=G==="admin"||G==="desenvolvedor"?V:G==="financeiro"?V.filter(ie=>["dashboard","clientes","os","ov","estoque","financeiro","configuracoes"].includes(ie.id)):G==="comum"?V.filter(ie=>["dashboard","clientes","os","ov","estoque","configuracoes"].includes(ie.id)):V.filter(ie=>ie.id==="dashboard");return console.log("[App] Mdulos permitidos para tipo",G,":",K.map(ie=>ie.id)),console.log("[App] ===== FIM DETERMINAO MDULOS ====="),K})(p==null?void 0:p.tipo),D=()=>{switch(console.log("[App] Renderizando mdulo ativo:",t),t){case"dashboard":return a.jsx(yN,{usuarioLogado:p});case"clientes":return a.jsx(lX,{usuarioLogado:p});case"os":return a.jsx(cX,{usuarioLogado:p});case"ov":return a.jsx(uX,{usuarioLogado:p});case"estoque":return a.jsx(uJ,{usuarioLogado:p});case"financeiro":return a.jsx(dJ,{usuarioLogado:p});case"relatorios":return a.jsx(Lte,{usuarioLogado:p});case"configuracoes":return a.jsx(Bte,{usuarioLogado:p});case"testes-dev":return a.jsx(Zte,{});default:return a.jsx(yN,{usuarioLogado:p})}},L=()=>{const M=b.nomeEmpresa||"Sistema",V=b.logoUrl;return a.jsxs("div",{className:"flex items-center gap-3",children:[V?a.jsx("img",{src:V,alt:"Logo da empresa",className:"h-14 w-14 rounded object-contain shadow-lg"}):a.jsx("div",{className:"h-14 w-14 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"text-white font-bold text-2xl",children:M.charAt(0).toUpperCase()})}),a.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:M})]})},B=()=>{const M=b.nomeEmpresa||"Sistema",V=b.logoUrl;return a.jsx("div",{className:"flex flex-col items-center gap-2",children:V?a.jsx("img",{src:V,alt:"Logo da empresa",className:"h-8 w-8 rounded object-contain"}):a.jsx("div",{className:"h-8 w-8 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:M.charAt(0).toUpperCase()})})})};return p?(console.log("[App] Usurio logado, mostrando dashboard:",p),console.log("[App] Tipo do usurio:",p==null?void 0:p.tipo),console.log("[App] Mdulos disponveis:",P),_&&!b?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Carregando..."})]})}):a.jsxs(Cr.Provider,{value:{activeModule:t,setActiveModule:e,darkMode:n,setDarkMode:r,sidebarOpen:s,setSidebarOpen:o,sidebarCollapsed:i,setSidebarCollapsed:l,configuracoes:b,currentLanguage:c,setCurrentLanguage:u,dialogs:d,openDialog:j,closeDialog:R,usuarioLogado:p,produtoParaReporEstoque:y,definirProdutoParaReporEstoque:F,limparProdutoParaReporEstoque:E},children:[a.jsxs(a.Fragment,{children:[a.jsx(ty,{children:a.jsx("title",{children:b.nomeEmpresa||"CRM Multismart"})}),a.jsxs("div",{className:"min-h-screen flex bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-50 transition-colors duration-300",children:[a.jsx("button",{onClick:()=>o(!s),className:"fixed top-4 left-4 z-50 lg:hidden p-2 rounded-md bg-white dark:bg-slate-800 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsx(G9,{className:"h-6 w-6"})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>o(!1)}),a.jsx("aside",{className:`fixed left-0 top-0 h-full bg-white/90 dark:bg-slate-950/90 backdrop-blur-lg border-r border-slate-200 dark:border-slate-800 z-40 ${i?"w-20":"w-72"} transition-all duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:`p-6 flex items-center mb-8 ${i?"justify-center":"justify-between"}`,children:i?B():L()}),a.jsx("nav",{className:"flex-1 space-y-2 px-4",children:P.map(M=>{const V=M.icon;return a.jsxs("button",{onClick:()=>{e(M.id),window.innerWidth<1024&&o(!1)},className:`w-full flex items-center space-x-3 py-3 rounded-lg text-left transition-all duration-200 ${i?"justify-center px-0":"px-4"} ${t===M.id?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[a.jsx(V,{className:"h-5 w-5 flex-shrink-0"}),!i&&a.jsx("span",{className:"font-medium whitespace-nowrap overflow-hidden",children:ve(M.name,c)})]},M.id)})}),p&&a.jsxs("div",{className:`flex items-center gap-3 mb-4 px-4 w-full ${i?"justify-center":""}`,style:{minHeight:"56px"},children:[p.foto?a.jsx("img",{src:p.foto,alt:p.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-md"}):a.jsx("span",{className:"inline-block h-10 w-10 rounded-full bg-slate-300 dark:bg-slate-700 text-slate-700 dark:text-slate-200 flex items-center justify-center font-bold",children:($=p.nome)==null?void 0:$.charAt(0).toUpperCase()}),!i&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm",children:p.nome}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const M=n?"light":"dark";r(!n);const V={...b,tema:M};I(V),console.log("[App] Tema alterado via boto:",M)},className:"hover:bg-slate-100 dark:hover:bg-slate-800 ml-1",children:n?a.jsx(X9,{className:"h-5 w-5"}):a.jsx(Q9,{className:"h-5 w-5"})}),a.jsx(Q,{size:"sm",variant:"outline",className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-3 py-1 rounded-lg shadow-md transition-colors ml-auto",onClick:A,children:"Sair"})]})]}),a.jsx("div",{className:"hidden lg:flex p-4 border-t border-slate-200 dark:border-slate-800",children:a.jsx(Q,{variant:"ghost",onClick:()=>l(!i),className:"w-full",children:a.jsx(hA,{className:"h-5 w-5",style:{transform:i?"rotate(180deg)":"none",transition:"transform 0.3s"}})})})]})}),a.jsx("main",{className:`flex-1 transition-all duration-300 ${i?"ml-20":"ml-72"} p-4 lg:p-6 pt-16 lg:pt-12`,children:D()})]})]}),a.jsx(PU,{})]})):(console.log("[App] Usurio no logado, mostrando tela de login"),a.jsx($te,{onLogin:T}))}o0.createRoot(document.getElementById("root")).render(a.jsx(Pe.StrictMode,{children:a.jsx(ene,{})}));
