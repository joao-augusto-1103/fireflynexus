function YM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function rc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IT={exports:{}},Im={},PT={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=Symbol.for("react.element"),QM=Symbol.for("react.portal"),ZM=Symbol.for("react.fragment"),XM=Symbol.for("react.strict_mode"),JM=Symbol.for("react.profiler"),e4=Symbol.for("react.provider"),t4=Symbol.for("react.context"),n4=Symbol.for("react.forward_ref"),r4=Symbol.for("react.suspense"),s4=Symbol.for("react.memo"),o4=Symbol.for("react.lazy"),C1=Symbol.iterator;function a4(t){return t===null||typeof t!="object"?null:(t=C1&&t[C1]||t["@@iterator"],typeof t=="function"?t:null)}var AT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RT=Object.assign,DT={};function sc(t,e,n){this.props=t,this.context=e,this.refs=DT,this.updater=n||AT}sc.prototype.isReactComponent={};sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MT(){}MT.prototype=sc.prototype;function Ox(t,e,n){this.props=t,this.context=e,this.refs=DT,this.updater=n||AT}var Lx=Ox.prototype=new MT;Lx.constructor=Ox;RT(Lx,sc.prototype);Lx.isPureReactComponent=!0;var E1=Array.isArray,OT=Object.prototype.hasOwnProperty,Fx={current:null},LT={key:!0,ref:!0,__self:!0,__source:!0};function FT(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)OT.call(e,r)&&!LT.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ud,type:t,key:o,ref:i,props:s,_owner:Fx.current}}function i4(t,e){return{$$typeof:ud,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vx(t){return typeof t=="object"&&t!==null&&t.$$typeof===ud}function l4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var T1=/\/+/g;function eg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?l4(""+t.key):e.toString(36)}function Oh(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case ud:case QM:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+eg(i,0):r,E1(s)?(n="",t!=null&&(n=t.replace(T1,"$&/")+"/"),Oh(s,e,n,"",function(u){return u})):s!=null&&(Vx(s)&&(s=i4(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(T1,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",E1(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+eg(o,l);i+=Oh(o,e,n,c,s)}else if(c=a4(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+eg(o,l++),i+=Oh(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Zd(t,e,n){if(t==null)return t;var r=[],s=0;return Oh(t,r,"","",function(o){return e.call(n,o,s++)}),r}function c4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},Lh={transition:null},u4={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Lh,ReactCurrentOwner:Fx};function VT(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:Zd,forEach:function(t,e,n){Zd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zd(t,function(){e++}),e},toArray:function(t){return Zd(t,function(e){return e})||[]},only:function(t){if(!Vx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=sc;ot.Fragment=ZM;ot.Profiler=JM;ot.PureComponent=Ox;ot.StrictMode=XM;ot.Suspense=r4;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u4;ot.act=VT;ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RT({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=Fx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)OT.call(e,c)&&!LT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ud,type:t.type,key:s,ref:o,props:r,_owner:i}};ot.createContext=function(t){return t={$$typeof:t4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:e4,_context:t},t.Consumer=t};ot.createElement=FT;ot.createFactory=function(t){var e=FT.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:n4,render:t}};ot.isValidElement=Vx;ot.lazy=function(t){return{$$typeof:o4,_payload:{_status:-1,_result:t},_init:c4}};ot.memo=function(t,e){return{$$typeof:s4,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=Lh.transition;Lh.transition={};try{t()}finally{Lh.transition=e}};ot.unstable_act=VT;ot.useCallback=function(t,e){return Xn.current.useCallback(t,e)};ot.useContext=function(t){return Xn.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};ot.useEffect=function(t,e){return Xn.current.useEffect(t,e)};ot.useId=function(){return Xn.current.useId()};ot.useImperativeHandle=function(t,e,n){return Xn.current.useImperativeHandle(t,e,n)};ot.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return Xn.current.useMemo(t,e)};ot.useReducer=function(t,e,n){return Xn.current.useReducer(t,e,n)};ot.useRef=function(t){return Xn.current.useRef(t)};ot.useState=function(t){return Xn.current.useState(t)};ot.useSyncExternalStore=function(t,e,n){return Xn.current.useSyncExternalStore(t,e,n)};ot.useTransition=function(){return Xn.current.useTransition()};ot.version="18.3.1";PT.exports=ot;var g=PT.exports;const Le=rc(g),UT=YM({__proto__:null,default:Le},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4=g,h4=Symbol.for("react.element"),f4=Symbol.for("react.fragment"),m4=Object.prototype.hasOwnProperty,p4=d4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g4={key:!0,ref:!0,__self:!0,__source:!0};function zT(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)m4.call(e,r)&&!g4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:h4,type:t,key:o,ref:i,props:s,_owner:p4.current}}Im.Fragment=f4;Im.jsx=zT;Im.jsxs=zT;IT.exports=Im;var a=IT.exports,Tv={},$T={exports:{}},Nr={},BT={exports:{}},qT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,z){var Z=O.length;O.push(z);e:for(;0<Z;){var Y=Z-1>>>1,de=O[Y];if(0<s(de,z))O[Y]=z,O[Z]=de,Z=Y;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],Z=O.pop();if(Z!==z){O[0]=Z;e:for(var Y=0,de=O.length,Se=de>>>1;Y<Se;){var ye=2*(Y+1)-1,Ve=O[ye],ke=ye+1,fe=O[ke];if(0>s(Ve,Z))ke<de&&0>s(fe,Ve)?(O[Y]=fe,O[ke]=Z,Y=ke):(O[Y]=Ve,O[ye]=Z,Y=ye);else if(ke<de&&0>s(fe,Z))O[Y]=fe,O[ke]=Z,Y=ke;else break e}}return z}function s(O,z){var Z=O.sortIndex-z.sortIndex;return Z!==0?Z:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,w=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=O)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function A(O){if(y=!1,_(O),!w)if(n(c)!==null)w=!0,G(D);else{var z=n(u);z!==null&&B(A,z.startTime-O)}}function D(O,z){w=!1,y&&(y=!1,b(E),E=-1),p=!0;var Z=m;try{for(_(z),f=n(c);f!==null&&(!(f.expirationTime>z)||O&&!N());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var de=Y(f.expirationTime<=z);z=t.unstable_now(),typeof de=="function"?f.callback=de:f===n(c)&&r(c),_(z)}else r(c);f=n(c)}if(f!==null)var Se=!0;else{var ye=n(u);ye!==null&&B(A,ye.startTime-z),Se=!1}return Se}finally{f=null,m=Z,p=!1}}var F=!1,C=null,E=-1,P=5,I=-1;function N(){return!(t.unstable_now()-I<P)}function j(){if(C!==null){var O=t.unstable_now();I=O;var z=!0;try{z=C(!0,O)}finally{z?k():(F=!1,C=null)}}else F=!1}var k;if(typeof x=="function")k=function(){x(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,L=V.port2;V.port1.onmessage=j,k=function(){L.postMessage(null)}}else k=function(){S(j,0)};function G(O){C=O,F||(F=!0,k())}function B(O,z){E=S(function(){O(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,G(D))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var Z=m;m=z;try{return O()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Z=m;m=O;try{return z()}finally{m=Z}},t.unstable_scheduleCallback=function(O,z,Z){var Y=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Y+Z:Y):Z=Y,O){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Z+de,O={id:d++,callback:z,priorityLevel:O,startTime:Z,expirationTime:de,sortIndex:-1},Z>Y?(O.sortIndex=Z,e(u,O),n(c)===null&&O===n(u)&&(y?(b(E),E=-1):y=!0,B(A,Z-Y))):(O.sortIndex=de,e(c,O),w||p||(w=!0,G(D))),O},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(O){var z=m;return function(){var Z=m;m=z;try{return O.apply(this,arguments)}finally{m=Z}}}})(qT);BT.exports=qT;var v4=BT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4=g,Tr=v4;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WT=new Set,Eu={};function ki(t,e){Pl(t,e),Pl(t+"Capture",e)}function Pl(t,e){for(Eu[t]=e,t=0;t<e.length;t++)WT.add(e[t])}var io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jv=Object.prototype.hasOwnProperty,y4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j1={},N1={};function w4(t){return jv.call(N1,t)?!0:jv.call(j1,t)?!1:y4.test(t)?N1[t]=!0:(j1[t]=!0,!1)}function b4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _4(t,e,n,r){if(e===null||typeof e>"u"||b4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jn(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nn[t]=new Jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nn[e]=new Jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nn[t]=new Jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nn[t]=new Jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nn[t]=new Jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nn[t]=new Jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nn[t]=new Jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nn[t]=new Jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nn[t]=new Jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ux=/[\-:]([a-z])/g;function zx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ux,zx);Nn[e]=new Jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ux,zx);Nn[e]=new Jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ux,zx);Nn[e]=new Jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function $x(t,e,n,r){var s=Nn.hasOwnProperty(e)?Nn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_4(e,n,s,r)&&(n=null),r||s===null?w4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wo=x4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xd=Symbol.for("react.element"),Ji=Symbol.for("react.portal"),el=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),Nv=Symbol.for("react.profiler"),HT=Symbol.for("react.provider"),GT=Symbol.for("react.context"),qx=Symbol.for("react.forward_ref"),kv=Symbol.for("react.suspense"),Iv=Symbol.for("react.suspense_list"),Wx=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),KT=Symbol.for("react.offscreen"),k1=Symbol.iterator;function Ac(t){return t===null||typeof t!="object"?null:(t=k1&&t[k1]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,tg;function Kc(t){if(tg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tg=e&&e[1]||""}return`
`+tg+t}var ng=!1;function rg(t,e){if(!t||ng)return"";ng=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{ng=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kc(t):""}function S4(t){switch(t.tag){case 5:return Kc(t.type);case 16:return Kc("Lazy");case 13:return Kc("Suspense");case 19:return Kc("SuspenseList");case 0:case 2:case 15:return t=rg(t.type,!1),t;case 11:return t=rg(t.type.render,!1),t;case 1:return t=rg(t.type,!0),t;default:return""}}function Pv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case el:return"Fragment";case Ji:return"Portal";case Nv:return"Profiler";case Bx:return"StrictMode";case kv:return"Suspense";case Iv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GT:return(t.displayName||"Context")+".Consumer";case HT:return(t._context.displayName||"Context")+".Provider";case qx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wx:return e=t.displayName||null,e!==null?e:Pv(t.type)||"Memo";case Do:e=t._payload,t=t._init;try{return Pv(t(e))}catch{}}return null}function C4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pv(e);case 8:return e===Bx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ca(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E4(t){var e=YT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jd(t){t._valueTracker||(t._valueTracker=E4(t))}function QT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Av(t,e){var n=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function I1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ca(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZT(t,e){e=e.checked,e!=null&&$x(t,"checked",e,!1)}function Rv(t,e){ZT(t,e);var n=ca(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dv(t,e.type,ca(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dv(t,e,n){(e!=="number"||mf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yc=Array.isArray;function gl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ca(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function A1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Yc(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ca(n)}}function XT(t,e){var n=ca(e.value),r=ca(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function R1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ov(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eh,ej=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eh=eh||document.createElement("div"),eh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T4=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(t){T4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),au[e]=au[t]})});function tj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||au.hasOwnProperty(t)&&au[t]?(""+e).trim():e+"px"}function nj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var j4=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lv(t,e){if(e){if(j4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function Fv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vv=null;function Hx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uv=null,vl=null,xl=null;function D1(t){if(t=fd(t)){if(typeof Uv!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Mm(e),Uv(t.stateNode,t.type,e))}}function rj(t){vl?xl?xl.push(t):xl=[t]:vl=t}function sj(){if(vl){var t=vl,e=xl;if(xl=vl=null,D1(t),e)for(t=0;t<e.length;t++)D1(e[t])}}function oj(t,e){return t(e)}function aj(){}var sg=!1;function ij(t,e,n){if(sg)return t(e,n);sg=!0;try{return oj(t,e,n)}finally{sg=!1,(vl!==null||xl!==null)&&(aj(),sj())}}function ju(t,e){var n=t.stateNode;if(n===null)return null;var r=Mm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var zv=!1;if(io)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){zv=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{zv=!1}function N4(t,e,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var iu=!1,pf=null,gf=!1,$v=null,k4={onError:function(t){iu=!0,pf=t}};function I4(t,e,n,r,s,o,i,l,c){iu=!1,pf=null,N4.apply(k4,arguments)}function P4(t,e,n,r,s,o,i,l,c){if(I4.apply(this,arguments),iu){if(iu){var u=pf;iu=!1,pf=null}else throw Error(le(198));gf||(gf=!0,$v=u)}}function Ii(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function M1(t){if(Ii(t)!==t)throw Error(le(188))}function A4(t){var e=t.alternate;if(!e){if(e=Ii(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return M1(s),t;if(o===r)return M1(s),e;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function cj(t){return t=A4(t),t!==null?uj(t):null}function uj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uj(t);if(e!==null)return e;t=t.sibling}return null}var dj=Tr.unstable_scheduleCallback,O1=Tr.unstable_cancelCallback,R4=Tr.unstable_shouldYield,D4=Tr.unstable_requestPaint,Gt=Tr.unstable_now,M4=Tr.unstable_getCurrentPriorityLevel,Gx=Tr.unstable_ImmediatePriority,hj=Tr.unstable_UserBlockingPriority,vf=Tr.unstable_NormalPriority,O4=Tr.unstable_LowPriority,fj=Tr.unstable_IdlePriority,Pm=null,ks=null;function L4(t){if(ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot(Pm,t,void 0,(t.current.flags&128)===128)}catch{}}var rs=Math.clz32?Math.clz32:U4,F4=Math.log,V4=Math.LN2;function U4(t){return t>>>=0,t===0?32:31-(F4(t)/V4|0)|0}var th=64,nh=4194304;function Qc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Qc(l):(o&=i,o!==0&&(r=Qc(o)))}else i=n&~s,i!==0?r=Qc(i):o!==0&&(r=Qc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rs(e),s=1<<n,r|=t[n],e&=~s;return r}function z4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-rs(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=z4(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function Bv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mj(){var t=th;return th<<=1,!(th&4194240)&&(th=64),t}function og(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rs(e),t[e]=n}function B4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-rs(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Kx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var bt=0;function pj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gj,Yx,vj,xj,yj,qv=!1,rh=[],Go=null,Ko=null,Yo=null,Nu=new Map,ku=new Map,Fo=[],q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L1(t,e){switch(t){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":Nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(e.pointerId)}}function Dc(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=fd(e),e!==null&&Yx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function W4(t,e,n,r,s){switch(e){case"focusin":return Go=Dc(Go,t,e,n,r,s),!0;case"dragenter":return Ko=Dc(Ko,t,e,n,r,s),!0;case"mouseover":return Yo=Dc(Yo,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Nu.set(o,Dc(Nu.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ku.set(o,Dc(ku.get(o)||null,t,e,n,r,s)),!0}return!1}function wj(t){var e=Ka(t.target);if(e!==null){var n=Ii(e);if(n!==null){if(e=n.tag,e===13){if(e=lj(n),e!==null){t.blockedOn=e,yj(t.priority,function(){vj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vv=r,n.target.dispatchEvent(r),Vv=null}else return e=fd(n),e!==null&&Yx(e),t.blockedOn=n,!1;e.shift()}return!0}function F1(t,e,n){Fh(t)&&n.delete(e)}function H4(){qv=!1,Go!==null&&Fh(Go)&&(Go=null),Ko!==null&&Fh(Ko)&&(Ko=null),Yo!==null&&Fh(Yo)&&(Yo=null),Nu.forEach(F1),ku.forEach(F1)}function Mc(t,e){t.blockedOn===e&&(t.blockedOn=null,qv||(qv=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,H4)))}function Iu(t){function e(s){return Mc(s,t)}if(0<rh.length){Mc(rh[0],t);for(var n=1;n<rh.length;n++){var r=rh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Go!==null&&Mc(Go,t),Ko!==null&&Mc(Ko,t),Yo!==null&&Mc(Yo,t),Nu.forEach(e),ku.forEach(e),n=0;n<Fo.length;n++)r=Fo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fo.length&&(n=Fo[0],n.blockedOn===null);)wj(n),n.blockedOn===null&&Fo.shift()}var yl=wo.ReactCurrentBatchConfig,yf=!0;function G4(t,e,n,r){var s=bt,o=yl.transition;yl.transition=null;try{bt=1,Qx(t,e,n,r)}finally{bt=s,yl.transition=o}}function K4(t,e,n,r){var s=bt,o=yl.transition;yl.transition=null;try{bt=4,Qx(t,e,n,r)}finally{bt=s,yl.transition=o}}function Qx(t,e,n,r){if(yf){var s=Wv(t,e,n,r);if(s===null)pg(t,e,r,wf,n),L1(t,r);else if(W4(s,t,e,n,r))r.stopPropagation();else if(L1(t,r),e&4&&-1<q4.indexOf(t)){for(;s!==null;){var o=fd(s);if(o!==null&&gj(o),o=Wv(t,e,n,r),o===null&&pg(t,e,r,wf,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else pg(t,e,r,null,n)}}var wf=null;function Wv(t,e,n,r){if(wf=null,t=Hx(r),t=Ka(t),t!==null)if(e=Ii(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wf=t,null}function bj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M4()){case Gx:return 1;case hj:return 4;case vf:case O4:return 16;case fj:return 536870912;default:return 16}default:return 16}}var qo=null,Zx=null,Vh=null;function _j(){if(Vh)return Vh;var t,e=Zx,n=e.length,r,s="value"in qo?qo.value:qo.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return Vh=s.slice(t,1<r?1-r:void 0)}function Uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sh(){return!0}function V1(){return!1}function kr(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?sh:V1,this.isPropagationStopped=V1,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sh)},persist:function(){},isPersistent:sh}),e}var oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xx=kr(oc),hd=Ut({},oc,{view:0,detail:0}),Y4=kr(hd),ag,ig,Oc,Am=Ut({},hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oc&&(Oc&&t.type==="mousemove"?(ag=t.screenX-Oc.screenX,ig=t.screenY-Oc.screenY):ig=ag=0,Oc=t),ag)},movementY:function(t){return"movementY"in t?t.movementY:ig}}),U1=kr(Am),Q4=Ut({},Am,{dataTransfer:0}),Z4=kr(Q4),X4=Ut({},hd,{relatedTarget:0}),lg=kr(X4),J4=Ut({},oc,{animationName:0,elapsedTime:0,pseudoElement:0}),eO=kr(J4),tO=Ut({},oc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nO=kr(tO),rO=Ut({},oc,{data:0}),z1=kr(rO),sO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aO[t])?!!e[t]:!1}function Jx(){return iO}var lO=Ut({},hd,{key:function(t){if(t.key){var e=sO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jx,charCode:function(t){return t.type==="keypress"?Uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cO=kr(lO),uO=Ut({},Am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$1=kr(uO),dO=Ut({},hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jx}),hO=kr(dO),fO=Ut({},oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),mO=kr(fO),pO=Ut({},Am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gO=kr(pO),vO=[9,13,27,32],ey=io&&"CompositionEvent"in window,lu=null;io&&"documentMode"in document&&(lu=document.documentMode);var xO=io&&"TextEvent"in window&&!lu,Sj=io&&(!ey||lu&&8<lu&&11>=lu),B1=String.fromCharCode(32),q1=!1;function Cj(t,e){switch(t){case"keyup":return vO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ej(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tl=!1;function yO(t,e){switch(t){case"compositionend":return Ej(e);case"keypress":return e.which!==32?null:(q1=!0,B1);case"textInput":return t=e.data,t===B1&&q1?null:t;default:return null}}function wO(t,e){if(tl)return t==="compositionend"||!ey&&Cj(t,e)?(t=_j(),Vh=Zx=qo=null,tl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sj&&e.locale!=="ko"?null:e.data;default:return null}}var bO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bO[t.type]:e==="textarea"}function Tj(t,e,n,r){rj(r),e=bf(e,"onChange"),0<e.length&&(n=new Xx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cu=null,Pu=null;function _O(t){Lj(t,0)}function Rm(t){var e=sl(t);if(QT(e))return t}function SO(t,e){if(t==="change")return e}var jj=!1;if(io){var cg;if(io){var ug="oninput"in document;if(!ug){var H1=document.createElement("div");H1.setAttribute("oninput","return;"),ug=typeof H1.oninput=="function"}cg=ug}else cg=!1;jj=cg&&(!document.documentMode||9<document.documentMode)}function G1(){cu&&(cu.detachEvent("onpropertychange",Nj),Pu=cu=null)}function Nj(t){if(t.propertyName==="value"&&Rm(Pu)){var e=[];Tj(e,Pu,t,Hx(t)),ij(_O,e)}}function CO(t,e,n){t==="focusin"?(G1(),cu=e,Pu=n,cu.attachEvent("onpropertychange",Nj)):t==="focusout"&&G1()}function EO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rm(Pu)}function TO(t,e){if(t==="click")return Rm(e)}function jO(t,e){if(t==="input"||t==="change")return Rm(e)}function NO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var is=typeof Object.is=="function"?Object.is:NO;function Au(t,e){if(is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jv.call(e,s)||!is(t[s],e[s]))return!1}return!0}function K1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y1(t,e){var n=K1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=K1(n)}}function kj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ij(){for(var t=window,e=mf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mf(t.document)}return e}function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kO(t){var e=Ij(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kj(n.ownerDocument.documentElement,n)){if(r!==null&&ty(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Y1(n,o);var i=Y1(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IO=io&&"documentMode"in document&&11>=document.documentMode,nl=null,Hv=null,uu=null,Gv=!1;function Q1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gv||nl==null||nl!==mf(r)||(r=nl,"selectionStart"in r&&ty(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uu&&Au(uu,r)||(uu=r,r=bf(Hv,"onSelect"),0<r.length&&(e=new Xx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nl)))}function oh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rl={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},dg={},Pj={};io&&(Pj=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function Dm(t){if(dg[t])return dg[t];if(!rl[t])return t;var e=rl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pj)return dg[t]=e[n];return t}var Aj=Dm("animationend"),Rj=Dm("animationiteration"),Dj=Dm("animationstart"),Mj=Dm("transitionend"),Oj=new Map,Z1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(t,e){Oj.set(t,e),ki(e,[t])}for(var hg=0;hg<Z1.length;hg++){var fg=Z1[hg],PO=fg.toLowerCase(),AO=fg[0].toUpperCase()+fg.slice(1);_a(PO,"on"+AO)}_a(Aj,"onAnimationEnd");_a(Rj,"onAnimationIteration");_a(Dj,"onAnimationStart");_a("dblclick","onDoubleClick");_a("focusin","onFocus");_a("focusout","onBlur");_a(Mj,"onTransitionEnd");Pl("onMouseEnter",["mouseout","mouseover"]);Pl("onMouseLeave",["mouseout","mouseover"]);Pl("onPointerEnter",["pointerout","pointerover"]);Pl("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function X1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,P4(r,e,void 0,t),t.currentTarget=null}function Lj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;X1(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;X1(s,l,u),o=c}}}if(gf)throw t=$v,gf=!1,$v=null,t}function It(t,e){var n=e[Xv];n===void 0&&(n=e[Xv]=new Set);var r=t+"__bubble";n.has(r)||(Fj(e,t,2,!1),n.add(r))}function mg(t,e,n){var r=0;e&&(r|=4),Fj(n,t,r,e)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[ah]){t[ah]=!0,WT.forEach(function(n){n!=="selectionchange"&&(RO.has(n)||mg(n,!1,t),mg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ah]||(e[ah]=!0,mg("selectionchange",!1,e))}}function Fj(t,e,n,r){switch(bj(e)){case 1:var s=G4;break;case 4:s=K4;break;default:s=Qx}n=s.bind(null,e,n,t),s=void 0,!zv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function pg(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Ka(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}ij(function(){var u=o,d=Hx(n),f=[];e:{var m=Oj.get(t);if(m!==void 0){var p=Xx,w=t;switch(t){case"keypress":if(Uh(n)===0)break e;case"keydown":case"keyup":p=cO;break;case"focusin":w="focus",p=lg;break;case"focusout":w="blur",p=lg;break;case"beforeblur":case"afterblur":p=lg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=U1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Z4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hO;break;case Aj:case Rj:case Dj:p=eO;break;case Mj:p=mO;break;case"scroll":p=Y4;break;case"wheel":p=gO;break;case"copy":case"cut":case"paste":p=nO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$1}var y=(e&4)!==0,S=!y&&t==="scroll",b=y?m!==null?m+"Capture":null:m;y=[];for(var x=u,_;x!==null;){_=x;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,b!==null&&(A=ju(x,b),A!=null&&y.push(Du(x,A,_)))),S)break;x=x.return}0<y.length&&(m=new p(m,w,null,n,d),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Vv&&(w=n.relatedTarget||n.fromElement)&&(Ka(w)||w[lo]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?Ka(w):null,w!==null&&(S=Ii(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(y=U1,A="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=$1,A="onPointerLeave",b="onPointerEnter",x="pointer"),S=p==null?m:sl(p),_=w==null?m:sl(w),m=new y(A,x+"leave",p,n,d),m.target=S,m.relatedTarget=_,A=null,Ka(d)===u&&(y=new y(b,x+"enter",w,n,d),y.target=_,y.relatedTarget=S,A=y),S=A,p&&w)t:{for(y=p,b=w,x=0,_=y;_;_=Bi(_))x++;for(_=0,A=b;A;A=Bi(A))_++;for(;0<x-_;)y=Bi(y),x--;for(;0<_-x;)b=Bi(b),_--;for(;x--;){if(y===b||b!==null&&y===b.alternate)break t;y=Bi(y),b=Bi(b)}y=null}else y=null;p!==null&&J1(f,m,p,y,!1),w!==null&&S!==null&&J1(f,S,w,y,!0)}}e:{if(m=u?sl(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var D=SO;else if(W1(m))if(jj)D=jO;else{D=EO;var F=CO}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=TO);if(D&&(D=D(t,u))){Tj(f,D,n,d);break e}F&&F(t,m,u),t==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&Dv(m,"number",m.value)}switch(F=u?sl(u):window,t){case"focusin":(W1(F)||F.contentEditable==="true")&&(nl=F,Hv=u,uu=null);break;case"focusout":uu=Hv=nl=null;break;case"mousedown":Gv=!0;break;case"contextmenu":case"mouseup":case"dragend":Gv=!1,Q1(f,n,d);break;case"selectionchange":if(IO)break;case"keydown":case"keyup":Q1(f,n,d)}var C;if(ey)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else tl?Cj(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Sj&&n.locale!=="ko"&&(tl||E!=="onCompositionStart"?E==="onCompositionEnd"&&tl&&(C=_j()):(qo=d,Zx="value"in qo?qo.value:qo.textContent,tl=!0)),F=bf(u,E),0<F.length&&(E=new z1(E,t,null,n,d),f.push({event:E,listeners:F}),C?E.data=C:(C=Ej(n),C!==null&&(E.data=C)))),(C=xO?yO(t,n):wO(t,n))&&(u=bf(u,"onBeforeInput"),0<u.length&&(d=new z1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}Lj(f,e)})}function Du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ju(t,n),o!=null&&r.unshift(Du(t,o,s)),o=ju(t,e),o!=null&&r.push(Du(t,o,s))),t=t.return}return r}function Bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J1(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ju(n,o),c!=null&&i.unshift(Du(n,c,l))):s||(c=ju(n,o),c!=null&&i.push(Du(n,c,l)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var DO=/\r\n?/g,MO=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(DO,`
`).replace(MO,"")}function ih(t,e,n){if(e=e_(e),e_(t)!==e&&n)throw Error(le(425))}function _f(){}var Kv=null,Yv=null;function Qv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zv=typeof setTimeout=="function"?setTimeout:void 0,OO=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,LO=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(t){return t_.resolve(null).then(t).catch(FO)}:Zv;function FO(t){setTimeout(function(){throw t})}function gg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Iu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Iu(e)}function Qo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function n_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ac=Math.random().toString(36).slice(2),Cs="__reactFiber$"+ac,Mu="__reactProps$"+ac,lo="__reactContainer$"+ac,Xv="__reactEvents$"+ac,VO="__reactListeners$"+ac,UO="__reactHandles$"+ac;function Ka(t){var e=t[Cs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lo]||n[Cs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=n_(t);t!==null;){if(n=t[Cs])return n;t=n_(t)}return e}t=n,n=t.parentNode}return null}function fd(t){return t=t[Cs]||t[lo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Mm(t){return t[Mu]||null}var Jv=[],ol=-1;function Sa(t){return{current:t}}function At(t){0>ol||(t.current=Jv[ol],Jv[ol]=null,ol--)}function Et(t,e){ol++,Jv[ol]=t.current,t.current=e}var ua={},zn=Sa(ua),cr=Sa(!1),ui=ua;function Al(t,e){var n=t.type.contextTypes;if(!n)return ua;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ur(t){return t=t.childContextTypes,t!=null}function Sf(){At(cr),At(zn)}function r_(t,e,n){if(zn.current!==ua)throw Error(le(168));Et(zn,e),Et(cr,n)}function Vj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(le(108,C4(t)||"Unknown",s));return Ut({},n,r)}function Cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ua,ui=zn.current,Et(zn,t),Et(cr,cr.current),!0}function s_(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=Vj(t,e,ui),r.__reactInternalMemoizedMergedChildContext=t,At(cr),At(zn),Et(zn,t)):At(cr),Et(cr,n)}var Ys=null,Om=!1,vg=!1;function Uj(t){Ys===null?Ys=[t]:Ys.push(t)}function zO(t){Om=!0,Uj(t)}function Ca(){if(!vg&&Ys!==null){vg=!0;var t=0,e=bt;try{var n=Ys;for(bt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ys=null,Om=!1}catch(s){throw Ys!==null&&(Ys=Ys.slice(t+1)),dj(Gx,Ca),s}finally{bt=e,vg=!1}}return null}var al=[],il=0,Ef=null,Tf=0,Rr=[],Dr=0,di=null,Qs=1,Zs="";function Ua(t,e){al[il++]=Tf,al[il++]=Ef,Ef=t,Tf=e}function zj(t,e,n){Rr[Dr++]=Qs,Rr[Dr++]=Zs,Rr[Dr++]=di,di=t;var r=Qs;t=Zs;var s=32-rs(r)-1;r&=~(1<<s),n+=1;var o=32-rs(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Qs=1<<32-rs(e)+s|n<<s|r,Zs=o+t}else Qs=1<<o|n<<s|r,Zs=t}function ny(t){t.return!==null&&(Ua(t,1),zj(t,1,0))}function ry(t){for(;t===Ef;)Ef=al[--il],al[il]=null,Tf=al[--il],al[il]=null;for(;t===di;)di=Rr[--Dr],Rr[Dr]=null,Zs=Rr[--Dr],Rr[Dr]=null,Qs=Rr[--Dr],Rr[Dr]=null}var _r=null,wr=null,Dt=!1,Jr=null;function $j(t,e){var n=Lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function o_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_r=t,wr=Qo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_r=t,wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=di!==null?{id:Qs,overflow:Zs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_r=t,wr=null,!0):!1;default:return!1}}function e0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function t0(t){if(Dt){var e=wr;if(e){var n=e;if(!o_(t,e)){if(e0(t))throw Error(le(418));e=Qo(n.nextSibling);var r=_r;e&&o_(t,e)?$j(r,n):(t.flags=t.flags&-4097|2,Dt=!1,_r=t)}}else{if(e0(t))throw Error(le(418));t.flags=t.flags&-4097|2,Dt=!1,_r=t}}}function a_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_r=t}function lh(t){if(t!==_r)return!1;if(!Dt)return a_(t),Dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qv(t.type,t.memoizedProps)),e&&(e=wr)){if(e0(t))throw Bj(),Error(le(418));for(;e;)$j(t,e),e=Qo(e.nextSibling)}if(a_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wr=Qo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=_r?Qo(t.stateNode.nextSibling):null;return!0}function Bj(){for(var t=wr;t;)t=Qo(t.nextSibling)}function Rl(){wr=_r=null,Dt=!1}function sy(t){Jr===null?Jr=[t]:Jr.push(t)}var $O=wo.ReactCurrentBatchConfig;function Lc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function ch(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i_(t){var e=t._init;return e(t._payload)}function qj(t){function e(b,x){if(t){var _=b.deletions;_===null?(b.deletions=[x],b.flags|=16):_.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function s(b,x){return b=ea(b,x),b.index=0,b.sibling=null,b}function o(b,x,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<x?(b.flags|=2,x):_):(b.flags|=2,x)):(b.flags|=1048576,x)}function i(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,x,_,A){return x===null||x.tag!==6?(x=Cg(_,b.mode,A),x.return=b,x):(x=s(x,_),x.return=b,x)}function c(b,x,_,A){var D=_.type;return D===el?d(b,x,_.props.children,A,_.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Do&&i_(D)===x.type)?(A=s(x,_.props),A.ref=Lc(b,x,_),A.return=b,A):(A=Gh(_.type,_.key,_.props,null,b.mode,A),A.ref=Lc(b,x,_),A.return=b,A)}function u(b,x,_,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Eg(_,b.mode,A),x.return=b,x):(x=s(x,_.children||[]),x.return=b,x)}function d(b,x,_,A,D){return x===null||x.tag!==7?(x=ri(_,b.mode,A,D),x.return=b,x):(x=s(x,_),x.return=b,x)}function f(b,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Cg(""+x,b.mode,_),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xd:return _=Gh(x.type,x.key,x.props,null,b.mode,_),_.ref=Lc(b,null,x),_.return=b,_;case Ji:return x=Eg(x,b.mode,_),x.return=b,x;case Do:var A=x._init;return f(b,A(x._payload),_)}if(Yc(x)||Ac(x))return x=ri(x,b.mode,_,null),x.return=b,x;ch(b,x)}return null}function m(b,x,_,A){var D=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return D!==null?null:l(b,x,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xd:return _.key===D?c(b,x,_,A):null;case Ji:return _.key===D?u(b,x,_,A):null;case Do:return D=_._init,m(b,x,D(_._payload),A)}if(Yc(_)||Ac(_))return D!==null?null:d(b,x,_,A,null);ch(b,_)}return null}function p(b,x,_,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(_)||null,l(x,b,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Xd:return b=b.get(A.key===null?_:A.key)||null,c(x,b,A,D);case Ji:return b=b.get(A.key===null?_:A.key)||null,u(x,b,A,D);case Do:var F=A._init;return p(b,x,_,F(A._payload),D)}if(Yc(A)||Ac(A))return b=b.get(_)||null,d(x,b,A,D,null);ch(x,A)}return null}function w(b,x,_,A){for(var D=null,F=null,C=x,E=x=0,P=null;C!==null&&E<_.length;E++){C.index>E?(P=C,C=null):P=C.sibling;var I=m(b,C,_[E],A);if(I===null){C===null&&(C=P);break}t&&C&&I.alternate===null&&e(b,C),x=o(I,x,E),F===null?D=I:F.sibling=I,F=I,C=P}if(E===_.length)return n(b,C),Dt&&Ua(b,E),D;if(C===null){for(;E<_.length;E++)C=f(b,_[E],A),C!==null&&(x=o(C,x,E),F===null?D=C:F.sibling=C,F=C);return Dt&&Ua(b,E),D}for(C=r(b,C);E<_.length;E++)P=p(C,b,E,_[E],A),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?E:P.key),x=o(P,x,E),F===null?D=P:F.sibling=P,F=P);return t&&C.forEach(function(N){return e(b,N)}),Dt&&Ua(b,E),D}function y(b,x,_,A){var D=Ac(_);if(typeof D!="function")throw Error(le(150));if(_=D.call(_),_==null)throw Error(le(151));for(var F=D=null,C=x,E=x=0,P=null,I=_.next();C!==null&&!I.done;E++,I=_.next()){C.index>E?(P=C,C=null):P=C.sibling;var N=m(b,C,I.value,A);if(N===null){C===null&&(C=P);break}t&&C&&N.alternate===null&&e(b,C),x=o(N,x,E),F===null?D=N:F.sibling=N,F=N,C=P}if(I.done)return n(b,C),Dt&&Ua(b,E),D;if(C===null){for(;!I.done;E++,I=_.next())I=f(b,I.value,A),I!==null&&(x=o(I,x,E),F===null?D=I:F.sibling=I,F=I);return Dt&&Ua(b,E),D}for(C=r(b,C);!I.done;E++,I=_.next())I=p(C,b,E,I.value,A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?E:I.key),x=o(I,x,E),F===null?D=I:F.sibling=I,F=I);return t&&C.forEach(function(j){return e(b,j)}),Dt&&Ua(b,E),D}function S(b,x,_,A){if(typeof _=="object"&&_!==null&&_.type===el&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Xd:e:{for(var D=_.key,F=x;F!==null;){if(F.key===D){if(D=_.type,D===el){if(F.tag===7){n(b,F.sibling),x=s(F,_.props.children),x.return=b,b=x;break e}}else if(F.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Do&&i_(D)===F.type){n(b,F.sibling),x=s(F,_.props),x.ref=Lc(b,F,_),x.return=b,b=x;break e}n(b,F);break}else e(b,F);F=F.sibling}_.type===el?(x=ri(_.props.children,b.mode,A,_.key),x.return=b,b=x):(A=Gh(_.type,_.key,_.props,null,b.mode,A),A.ref=Lc(b,x,_),A.return=b,b=A)}return i(b);case Ji:e:{for(F=_.key;x!==null;){if(x.key===F)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(b,x.sibling),x=s(x,_.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=Eg(_,b.mode,A),x.return=b,b=x}return i(b);case Do:return F=_._init,S(b,x,F(_._payload),A)}if(Yc(_))return w(b,x,_,A);if(Ac(_))return y(b,x,_,A);ch(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(b,x.sibling),x=s(x,_),x.return=b,b=x):(n(b,x),x=Cg(_,b.mode,A),x.return=b,b=x),i(b)):n(b,x)}return S}var Dl=qj(!0),Wj=qj(!1),jf=Sa(null),Nf=null,ll=null,oy=null;function ay(){oy=ll=Nf=null}function iy(t){var e=jf.current;At(jf),t._currentValue=e}function n0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wl(t,e){Nf=t,oy=ll=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ir=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(oy!==t)if(t={context:t,memoizedValue:e,next:null},ll===null){if(Nf===null)throw Error(le(308));ll=t,Nf.dependencies={lanes:0,firstContext:t}}else ll=ll.next=t;return e}var Ya=null;function ly(t){Ya===null?Ya=[t]:Ya.push(t)}function Hj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ly(e)):(n.next=s.next,s.next=n),e.interleaved=n,co(t,r)}function co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mo=!1;function cy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function no(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,co(t,n)}return s=r.interleaved,s===null?(e.next=e,ly(r)):(e.next=s.next,s.next=e),r.interleaved=e,co(t,n)}function zh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kx(t,n)}}function l_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kf(t,e,n,r){var s=t.updateQueue;Mo=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,y=l;switch(m=e,p=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(p,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,m=typeof w=="function"?w.call(p,f,m):w,m==null)break e;f=Ut({},f,m);break e;case 2:Mo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);fi|=i,t.lanes=i,t.memoizedState=f}}function c_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(le(191,s));s.call(r)}}}var md={},Is=Sa(md),Ou=Sa(md),Lu=Sa(md);function Qa(t){if(t===md)throw Error(le(174));return t}function uy(t,e){switch(Et(Lu,e),Et(Ou,t),Et(Is,md),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ov(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ov(e,t)}At(Is),Et(Is,e)}function Ml(){At(Is),At(Ou),At(Lu)}function Kj(t){Qa(Lu.current);var e=Qa(Is.current),n=Ov(e,t.type);e!==n&&(Et(Ou,t),Et(Is,n))}function dy(t){Ou.current===t&&(At(Is),At(Ou))}var Lt=Sa(0);function If(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xg=[];function hy(){for(var t=0;t<xg.length;t++)xg[t]._workInProgressVersionPrimary=null;xg.length=0}var $h=wo.ReactCurrentDispatcher,yg=wo.ReactCurrentBatchConfig,hi=0,Vt=null,cn=null,wn=null,Pf=!1,du=!1,Fu=0,BO=0;function An(){throw Error(le(321))}function fy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!is(t[n],e[n]))return!1;return!0}function my(t,e,n,r,s,o){if(hi=o,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$h.current=t===null||t.memoizedState===null?GO:KO,t=n(r,s),du){o=0;do{if(du=!1,Fu=0,25<=o)throw Error(le(301));o+=1,wn=cn=null,e.updateQueue=null,$h.current=YO,t=n(r,s)}while(du)}if($h.current=Af,e=cn!==null&&cn.next!==null,hi=0,wn=cn=Vt=null,Pf=!1,e)throw Error(le(300));return t}function py(){var t=Fu!==0;return Fu=0,t}function bs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Vt.memoizedState=wn=t:wn=wn.next=t,wn}function Br(){if(cn===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=cn.next;var e=wn===null?Vt.memoizedState:wn.next;if(e!==null)wn=e,cn=t;else{if(t===null)throw Error(le(310));cn=t,t={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},wn===null?Vt.memoizedState=wn=t:wn=wn.next=t}return wn}function Vu(t,e){return typeof e=="function"?e(t):e}function wg(t){var e=Br(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=cn,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((hi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Vt.lanes|=d,fi|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,is(r,e.memoizedState)||(ir=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Vt.lanes|=o,fi|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bg(t){var e=Br(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);is(o,e.memoizedState)||(ir=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Yj(){}function Qj(t,e){var n=Vt,r=Br(),s=e(),o=!is(r.memoizedState,s);if(o&&(r.memoizedState=s,ir=!0),r=r.queue,gy(Jj.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||wn!==null&&wn.memoizedState.tag&1){if(n.flags|=2048,Uu(9,Xj.bind(null,n,r,s,e),void 0,null),bn===null)throw Error(le(349));hi&30||Zj(n,e,s)}return s}function Zj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xj(t,e,n,r){e.value=n,e.getSnapshot=r,eN(e)&&tN(t)}function Jj(t,e,n){return n(function(){eN(e)&&tN(t)})}function eN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!is(t,n)}catch{return!0}}function tN(t){var e=co(t,1);e!==null&&ss(e,t,1,-1)}function u_(t){var e=bs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},e.queue=t,t=t.dispatch=HO.bind(null,Vt,t),[e.memoizedState,t]}function Uu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nN(){return Br().memoizedState}function Bh(t,e,n,r){var s=bs();Vt.flags|=t,s.memoizedState=Uu(1|e,n,void 0,r===void 0?null:r)}function Lm(t,e,n,r){var s=Br();r=r===void 0?null:r;var o=void 0;if(cn!==null){var i=cn.memoizedState;if(o=i.destroy,r!==null&&fy(r,i.deps)){s.memoizedState=Uu(e,n,o,r);return}}Vt.flags|=t,s.memoizedState=Uu(1|e,n,o,r)}function d_(t,e){return Bh(8390656,8,t,e)}function gy(t,e){return Lm(2048,8,t,e)}function rN(t,e){return Lm(4,2,t,e)}function sN(t,e){return Lm(4,4,t,e)}function oN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aN(t,e,n){return n=n!=null?n.concat([t]):null,Lm(4,4,oN.bind(null,e,t),n)}function vy(){}function iN(t,e){var n=Br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lN(t,e){var n=Br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cN(t,e,n){return hi&21?(is(n,e)||(n=mj(),Vt.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ir=!0),t.memoizedState=n)}function qO(t,e){var n=bt;bt=n!==0&&4>n?n:4,t(!0);var r=yg.transition;yg.transition={};try{t(!1),e()}finally{bt=n,yg.transition=r}}function uN(){return Br().memoizedState}function WO(t,e,n){var r=Jo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dN(t))hN(e,n);else if(n=Hj(t,e,n,r),n!==null){var s=Zn();ss(n,t,r,s),fN(n,e,r)}}function HO(t,e,n){var r=Jo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dN(t))hN(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,is(l,i)){var c=e.interleaved;c===null?(s.next=s,ly(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Hj(t,e,s,r),n!==null&&(s=Zn(),ss(n,t,r,s),fN(n,e,r))}}function dN(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function hN(t,e){du=Pf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kx(t,n)}}var Af={readContext:$r,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},GO={readContext:$r,useCallback:function(t,e){return bs().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:d_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4194308,4,oN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bh(4,2,t,e)},useMemo:function(t,e){var n=bs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WO.bind(null,Vt,t),[r.memoizedState,t]},useRef:function(t){var e=bs();return t={current:t},e.memoizedState=t},useState:u_,useDebugValue:vy,useDeferredValue:function(t){return bs().memoizedState=t},useTransition:function(){var t=u_(!1),e=t[0];return t=qO.bind(null,t[1]),bs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Vt,s=bs();if(Dt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),bn===null)throw Error(le(349));hi&30||Zj(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,d_(Jj.bind(null,r,o,t),[t]),r.flags|=2048,Uu(9,Xj.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=bs(),e=bn.identifierPrefix;if(Dt){var n=Zs,r=Qs;n=(r&~(1<<32-rs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KO={readContext:$r,useCallback:iN,useContext:$r,useEffect:gy,useImperativeHandle:aN,useInsertionEffect:rN,useLayoutEffect:sN,useMemo:lN,useReducer:wg,useRef:nN,useState:function(){return wg(Vu)},useDebugValue:vy,useDeferredValue:function(t){var e=Br();return cN(e,cn.memoizedState,t)},useTransition:function(){var t=wg(Vu)[0],e=Br().memoizedState;return[t,e]},useMutableSource:Yj,useSyncExternalStore:Qj,useId:uN,unstable_isNewReconciler:!1},YO={readContext:$r,useCallback:iN,useContext:$r,useEffect:gy,useImperativeHandle:aN,useInsertionEffect:rN,useLayoutEffect:sN,useMemo:lN,useReducer:bg,useRef:nN,useState:function(){return bg(Vu)},useDebugValue:vy,useDeferredValue:function(t){var e=Br();return cn===null?e.memoizedState=t:cN(e,cn.memoizedState,t)},useTransition:function(){var t=bg(Vu)[0],e=Br().memoizedState;return[t,e]},useMutableSource:Yj,useSyncExternalStore:Qj,useId:uN,unstable_isNewReconciler:!1};function Zr(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function r0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fm={isMounted:function(t){return(t=t._reactInternals)?Ii(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=Jo(t),o=no(r,s);o.payload=e,n!=null&&(o.callback=n),e=Zo(t,o,s),e!==null&&(ss(e,t,s,r),zh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=Jo(t),o=no(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zo(t,o,s),e!==null&&(ss(e,t,s,r),zh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zn(),r=Jo(t),s=no(n,r);s.tag=2,e!=null&&(s.callback=e),e=Zo(t,s,r),e!==null&&(ss(e,t,r,n),zh(e,t,r))}};function h_(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!Au(n,r)||!Au(s,o):!0}function mN(t,e,n){var r=!1,s=ua,o=e.contextType;return typeof o=="object"&&o!==null?o=$r(o):(s=ur(e)?ui:zn.current,r=e.contextTypes,o=(r=r!=null)?Al(t,s):ua),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function f_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fm.enqueueReplaceState(e,e.state,null)}function s0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},cy(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=$r(o):(o=ur(e)?ui:zn.current,s.context=Al(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(r0(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fm.enqueueReplaceState(s,s.state,null),kf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ol(t,e){try{var n="",r=e;do n+=S4(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function _g(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function o0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QO=typeof WeakMap=="function"?WeakMap:Map;function pN(t,e,n){n=no(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Df||(Df=!0,p0=r),o0(t,e)},n}function gN(t,e,n){n=no(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){o0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){o0(t,e),typeof r!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function m_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=uL.bind(null,t,e,n),e.then(t,t))}function p_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function g_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=no(-1,1),e.tag=2,Zo(n,e,1))),n.lanes|=1),t)}var ZO=wo.ReactCurrentOwner,ir=!1;function Gn(t,e,n,r){e.child=t===null?Wj(e,null,n,r):Dl(e,t.child,n,r)}function v_(t,e,n,r,s){n=n.render;var o=e.ref;return wl(e,s),r=my(t,e,n,r,o,s),n=py(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,uo(t,e,s)):(Dt&&n&&ny(e),e.flags|=1,Gn(t,e,r,s),e.child)}function x_(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!Ey(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,vN(t,e,o,r,s)):(t=Gh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Au,n(i,r)&&t.ref===e.ref)return uo(t,e,s)}return e.flags|=1,t=ea(o,r),t.ref=e.ref,t.return=e,e.child=t}function vN(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Au(o,r)&&t.ref===e.ref)if(ir=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(ir=!0);else return e.lanes=t.lanes,uo(t,e,s)}return a0(t,e,n,r,s)}function xN(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(ul,xr),xr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Et(ul,xr),xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Et(ul,xr),xr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Et(ul,xr),xr|=r;return Gn(t,e,s,n),e.child}function yN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function a0(t,e,n,r,s){var o=ur(n)?ui:zn.current;return o=Al(e,o),wl(e,s),n=my(t,e,n,r,o,s),r=py(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,uo(t,e,s)):(Dt&&r&&ny(e),e.flags|=1,Gn(t,e,n,s),e.child)}function y_(t,e,n,r,s){if(ur(n)){var o=!0;Cf(e)}else o=!1;if(wl(e,s),e.stateNode===null)qh(t,e),mN(e,n,r),s0(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=$r(u):(u=ur(n)?ui:zn.current,u=Al(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&f_(e,i,r,u),Mo=!1;var m=e.memoizedState;i.state=m,kf(e,r,i,s),c=e.memoizedState,l!==r||m!==c||cr.current||Mo?(typeof d=="function"&&(r0(e,n,d,r),c=e.memoizedState),(l=Mo||h_(e,n,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,Gj(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Zr(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=$r(c):(c=ur(n)?ui:zn.current,c=Al(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&f_(e,i,r,c),Mo=!1,m=e.memoizedState,i.state=m,kf(e,r,i,s);var w=e.memoizedState;l!==f||m!==w||cr.current||Mo?(typeof p=="function"&&(r0(e,n,p,r),w=e.memoizedState),(u=Mo||h_(e,n,u,r,m,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return i0(t,e,n,r,o,s)}function i0(t,e,n,r,s,o){yN(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&s_(e,n,!1),uo(t,e,o);r=e.stateNode,ZO.current=e;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Dl(e,t.child,null,o),e.child=Dl(e,null,l,o)):Gn(t,e,l,o),e.memoizedState=r.state,s&&s_(e,n,!0),e.child}function wN(t){var e=t.stateNode;e.pendingContext?r_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&r_(t,e.context,!1),uy(t,e.containerInfo)}function w_(t,e,n,r,s){return Rl(),sy(s),e.flags|=256,Gn(t,e,n,r),e.child}var l0={dehydrated:null,treeContext:null,retryLane:0};function c0(t){return{baseLanes:t,cachePool:null,transitions:null}}function bN(t,e,n){var r=e.pendingProps,s=Lt.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Et(Lt,s&1),t===null)return t0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=zm(i,r,0,null),t=ri(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=c0(n),e.memoizedState=l0,t):xy(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return XO(t,e,i,r,l,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ea(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=ea(l,o):(o=ri(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?c0(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=l0,r}return o=t.child,t=o.sibling,r=ea(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xy(t,e){return e=zm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uh(t,e,n,r){return r!==null&&sy(r),Dl(e,t.child,null,n),t=xy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XO(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=_g(Error(le(422))),uh(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=zm({mode:"visible",children:r.children},s,0,null),o=ri(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Dl(e,t.child,null,i),e.child.memoizedState=c0(i),e.memoizedState=l0,o);if(!(e.mode&1))return uh(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(le(419)),r=_g(o,r,void 0),uh(t,e,i,r)}if(l=(i&t.childLanes)!==0,ir||l){if(r=bn,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,co(t,s),ss(r,t,s,-1))}return Cy(),r=_g(Error(le(421))),uh(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=dL.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,wr=Qo(s.nextSibling),_r=e,Dt=!0,Jr=null,t!==null&&(Rr[Dr++]=Qs,Rr[Dr++]=Zs,Rr[Dr++]=di,Qs=t.id,Zs=t.overflow,di=e),e=xy(e,r.children),e.flags|=4096,e)}function b_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),n0(t.return,e,n)}function Sg(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function _N(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Gn(t,e,r.children,n),r=Lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&b_(t,n,e);else if(t.tag===19)b_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Et(Lt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&If(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sg(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&If(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sg(e,!0,n,null,o);break;case"together":Sg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function uo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=ea(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ea(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JO(t,e,n){switch(e.tag){case 3:wN(e),Rl();break;case 5:Kj(e);break;case 1:ur(e.type)&&Cf(e);break;case 4:uy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Et(jf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Et(Lt,Lt.current&1),e.flags|=128,null):n&e.child.childLanes?bN(t,e,n):(Et(Lt,Lt.current&1),t=uo(t,e,n),t!==null?t.sibling:null);Et(Lt,Lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _N(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Et(Lt,Lt.current),r)break;return null;case 22:case 23:return e.lanes=0,xN(t,e,n)}return uo(t,e,n)}var SN,u0,CN,EN;SN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};u0=function(){};CN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qa(Is.current);var o=null;switch(n){case"input":s=Av(t,s),r=Av(t,r),o=[];break;case"select":s=Ut({},s,{value:void 0}),r=Ut({},r,{value:void 0}),o=[];break;case"textarea":s=Mv(t,s),r=Mv(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_f)}Lv(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&It("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};EN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fc(t,e){if(!Dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eL(t,e,n){var r=e.pendingProps;switch(ry(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(e),null;case 1:return ur(e.type)&&Sf(),Rn(e),null;case 3:return r=e.stateNode,Ml(),At(cr),At(zn),hy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(x0(Jr),Jr=null))),u0(t,e),Rn(e),null;case 5:dy(e);var s=Qa(Lu.current);if(n=e.type,t!==null&&e.stateNode!=null)CN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return Rn(e),null}if(t=Qa(Is.current),lh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Cs]=e,r[Mu]=o,t=(e.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(s=0;s<Zc.length;s++)It(Zc[s],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":I1(r,o),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},It("invalid",r);break;case"textarea":A1(r,o),It("invalid",r)}Lv(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ih(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ih(r.textContent,l,t),s=["children",""+l]):Eu.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&It("scroll",r)}switch(n){case"input":Jd(r),P1(r,o,!0);break;case"textarea":Jd(r),R1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=_f)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Cs]=e,t[Mu]=r,SN(t,e,!1,!1),e.stateNode=t;e:{switch(i=Fv(n,r),n){case"dialog":It("cancel",t),It("close",t),s=r;break;case"iframe":case"object":case"embed":It("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zc.length;s++)It(Zc[s],t);s=r;break;case"source":It("error",t),s=r;break;case"img":case"image":case"link":It("error",t),It("load",t),s=r;break;case"details":It("toggle",t),s=r;break;case"input":I1(t,r),s=Av(t,r),It("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ut({},r,{value:void 0}),It("invalid",t);break;case"textarea":A1(t,r),s=Mv(t,r),It("invalid",t);break;default:s=r}Lv(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?nj(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ej(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Tu(t,c):typeof c=="number"&&Tu(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Eu.hasOwnProperty(o)?c!=null&&o==="onScroll"&&It("scroll",t):c!=null&&$x(t,o,c,i))}switch(n){case"input":Jd(t),P1(t,r,!1);break;case"textarea":Jd(t),R1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ca(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?gl(t,!!r.multiple,o,!1):r.defaultValue!=null&&gl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_f)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rn(e),null;case 6:if(t&&e.stateNode!=null)EN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=Qa(Lu.current),Qa(Is.current),lh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cs]=e,(o=r.nodeValue!==n)&&(t=_r,t!==null))switch(t.tag){case 3:ih(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ih(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cs]=e,e.stateNode=r}return Rn(e),null;case 13:if(At(Lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dt&&wr!==null&&e.mode&1&&!(e.flags&128))Bj(),Rl(),e.flags|=98560,o=!1;else if(o=lh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(le(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[Cs]=e}else Rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rn(e),o=!1}else Jr!==null&&(x0(Jr),Jr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Lt.current&1?hn===0&&(hn=3):Cy())),e.updateQueue!==null&&(e.flags|=4),Rn(e),null);case 4:return Ml(),u0(t,e),t===null&&Ru(e.stateNode.containerInfo),Rn(e),null;case 10:return iy(e.type._context),Rn(e),null;case 17:return ur(e.type)&&Sf(),Rn(e),null;case 19:if(At(Lt),o=e.memoizedState,o===null)return Rn(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Fc(o,!1);else{if(hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=If(t),i!==null){for(e.flags|=128,Fc(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Et(Lt,Lt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Gt()>Ll&&(e.flags|=128,r=!0,Fc(o,!1),e.lanes=4194304)}else{if(!r)if(t=If(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Dt)return Rn(e),null}else 2*Gt()-o.renderingStartTime>Ll&&n!==1073741824&&(e.flags|=128,r=!0,Fc(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Gt(),e.sibling=null,n=Lt.current,Et(Lt,r?n&1|2:n&1),e):(Rn(e),null);case 22:case 23:return Sy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xr&1073741824&&(Rn(e),e.subtreeFlags&6&&(e.flags|=8192)):Rn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function tL(t,e){switch(ry(e),e.tag){case 1:return ur(e.type)&&Sf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ml(),At(cr),At(zn),hy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dy(e),null;case 13:if(At(Lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(Lt),null;case 4:return Ml(),null;case 10:return iy(e.type._context),null;case 22:case 23:return Sy(),null;case 24:return null;default:return null}}var dh=!1,Ln=!1,nL=typeof WeakSet=="function"?WeakSet:Set,je=null;function cl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qt(t,e,r)}else n.current=null}function d0(t,e,n){try{n()}catch(r){qt(t,e,r)}}var __=!1;function rL(t,e){if(Kv=yf,t=Ij(),ty(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=i),m===o&&++d===r&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yv={focusedElem:t,selectionRange:n},yf=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){e=je;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,S=w.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Zr(e.type,y),S);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(A){qt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}return w=__,__=!1,w}function hu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&d0(e,n,o)}s=s.next}while(s!==r)}}function Vm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function h0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TN(t){var e=t.alternate;e!==null&&(t.alternate=null,TN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cs],delete e[Mu],delete e[Xv],delete e[VO],delete e[UO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jN(t){return t.tag===5||t.tag===3||t.tag===4}function S_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function f0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_f));else if(r!==4&&(t=t.child,t!==null))for(f0(t,e,n),t=t.sibling;t!==null;)f0(t,e,n),t=t.sibling}function m0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(m0(t,e,n),t=t.sibling;t!==null;)m0(t,e,n),t=t.sibling}var _n=null,Xr=!1;function No(t,e,n){for(n=n.child;n!==null;)NN(t,e,n),n=n.sibling}function NN(t,e,n){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount(Pm,n)}catch{}switch(n.tag){case 5:Ln||cl(n,e);case 6:var r=_n,s=Xr;_n=null,No(t,e,n),_n=r,Xr=s,_n!==null&&(Xr?(t=_n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_n.removeChild(n.stateNode));break;case 18:_n!==null&&(Xr?(t=_n,n=n.stateNode,t.nodeType===8?gg(t.parentNode,n):t.nodeType===1&&gg(t,n),Iu(t)):gg(_n,n.stateNode));break;case 4:r=_n,s=Xr,_n=n.stateNode.containerInfo,Xr=!0,No(t,e,n),_n=r,Xr=s;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&d0(n,e,i),s=s.next}while(s!==r)}No(t,e,n);break;case 1:if(!Ln&&(cl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qt(n,e,l)}No(t,e,n);break;case 21:No(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,No(t,e,n),Ln=r):No(t,e,n);break;default:No(t,e,n)}}function C_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nL),e.forEach(function(r){var s=hL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:_n=l.stateNode,Xr=!1;break e;case 3:_n=l.stateNode.containerInfo,Xr=!0;break e;case 4:_n=l.stateNode.containerInfo,Xr=!0;break e}l=l.return}if(_n===null)throw Error(le(160));NN(o,i,s),_n=null,Xr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){qt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kN(e,t),e=e.sibling}function kN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kr(e,t),ys(t),r&4){try{hu(3,t,t.return),Vm(3,t)}catch(y){qt(t,t.return,y)}try{hu(5,t,t.return)}catch(y){qt(t,t.return,y)}}break;case 1:Kr(e,t),ys(t),r&512&&n!==null&&cl(n,n.return);break;case 5:if(Kr(e,t),ys(t),r&512&&n!==null&&cl(n,n.return),t.flags&32){var s=t.stateNode;try{Tu(s,"")}catch(y){qt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&ZT(s,o),Fv(l,i);var u=Fv(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?nj(s,f):d==="dangerouslySetInnerHTML"?ej(s,f):d==="children"?Tu(s,f):$x(s,d,f,u)}switch(l){case"input":Rv(s,o);break;case"textarea":XT(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?gl(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?gl(s,!!o.multiple,o.defaultValue,!0):gl(s,!!o.multiple,o.multiple?[]:"",!1))}s[Mu]=o}catch(y){qt(t,t.return,y)}}break;case 6:if(Kr(e,t),ys(t),r&4){if(t.stateNode===null)throw Error(le(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(y){qt(t,t.return,y)}}break;case 3:if(Kr(e,t),ys(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(y){qt(t,t.return,y)}break;case 4:Kr(e,t),ys(t);break;case 13:Kr(e,t),ys(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(by=Gt())),r&4&&C_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(u=Ln)||d,Kr(e,t),Ln=u):Kr(e,t),ys(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(je=t,d=t.child;d!==null;){for(f=je=d;je!==null;){switch(m=je,p=m.child,m.tag){case 0:case 11:case 14:case 15:hu(4,m,m.return);break;case 1:cl(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){qt(r,n,y)}}break;case 5:cl(m,m.return);break;case 22:if(m.memoizedState!==null){T_(f);continue}}p!==null?(p.return=m,je=p):T_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tj("display",i))}catch(y){qt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){qt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kr(e,t),ys(t),r&4&&C_(t);break;case 21:break;default:Kr(e,t),ys(t)}}function ys(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jN(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Tu(s,""),r.flags&=-33);var o=S_(t);m0(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=S_(t);f0(t,l,i);break;default:throw Error(le(161))}}catch(c){qt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sL(t,e,n){je=t,IN(t)}function IN(t,e,n){for(var r=(t.mode&1)!==0;je!==null;){var s=je,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||dh;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ln;l=dh;var u=Ln;if(dh=i,(Ln=c)&&!u)for(je=s;je!==null;)i=je,c=i.child,i.tag===22&&i.memoizedState!==null?j_(s):c!==null?(c.return=i,je=c):j_(s);for(;o!==null;)je=o,IN(o),o=o.sibling;je=s,dh=l,Ln=u}E_(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,je=o):E_(t)}}function E_(t){for(;je!==null;){var e=je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||Vm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Zr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&c_(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}c_(e,i,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Iu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Ln||e.flags&512&&h0(e)}catch(m){qt(e,e.return,m)}}if(e===t){je=null;break}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}}function T_(t){for(;je!==null;){var e=je;if(e===t){je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,je=n;break}je=e.return}}function j_(t){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vm(4,e)}catch(c){qt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){qt(e,s,c)}}var o=e.return;try{h0(e)}catch(c){qt(e,o,c)}break;case 5:var i=e.return;try{h0(e)}catch(c){qt(e,i,c)}}}catch(c){qt(e,e.return,c)}if(e===t){je=null;break}var l=e.sibling;if(l!==null){l.return=e.return,je=l;break}je=e.return}}var oL=Math.ceil,Rf=wo.ReactCurrentDispatcher,yy=wo.ReactCurrentOwner,Ur=wo.ReactCurrentBatchConfig,gt=0,bn=null,Zt=null,jn=0,xr=0,ul=Sa(0),hn=0,zu=null,fi=0,Um=0,wy=0,fu=null,sr=null,by=0,Ll=1/0,Ks=null,Df=!1,p0=null,Xo=null,hh=!1,Wo=null,Mf=0,mu=0,g0=null,Wh=-1,Hh=0;function Zn(){return gt&6?Gt():Wh!==-1?Wh:Wh=Gt()}function Jo(t){return t.mode&1?gt&2&&jn!==0?jn&-jn:$O.transition!==null?(Hh===0&&(Hh=mj()),Hh):(t=bt,t!==0||(t=window.event,t=t===void 0?16:bj(t.type)),t):1}function ss(t,e,n,r){if(50<mu)throw mu=0,g0=null,Error(le(185));dd(t,n,r),(!(gt&2)||t!==bn)&&(t===bn&&(!(gt&2)&&(Um|=n),hn===4&&Vo(t,jn)),dr(t,r),n===1&&gt===0&&!(e.mode&1)&&(Ll=Gt()+500,Om&&Ca()))}function dr(t,e){var n=t.callbackNode;$4(t,e);var r=xf(t,t===bn?jn:0);if(r===0)n!==null&&O1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&O1(n),e===1)t.tag===0?zO(N_.bind(null,t)):Uj(N_.bind(null,t)),LO(function(){!(gt&6)&&Ca()}),n=null;else{switch(pj(r)){case 1:n=Gx;break;case 4:n=hj;break;case 16:n=vf;break;case 536870912:n=fj;break;default:n=vf}n=FN(n,PN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PN(t,e){if(Wh=-1,Hh=0,gt&6)throw Error(le(327));var n=t.callbackNode;if(bl()&&t.callbackNode!==n)return null;var r=xf(t,t===bn?jn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Of(t,r);else{e=r;var s=gt;gt|=2;var o=RN();(bn!==t||jn!==e)&&(Ks=null,Ll=Gt()+500,ni(t,e));do try{lL();break}catch(l){AN(t,l)}while(1);ay(),Rf.current=o,gt=s,Zt!==null?e=0:(bn=null,jn=0,e=hn)}if(e!==0){if(e===2&&(s=Bv(t),s!==0&&(r=s,e=v0(t,s))),e===1)throw n=zu,ni(t,0),Vo(t,r),dr(t,Gt()),n;if(e===6)Vo(t,r);else{if(s=t.current.alternate,!(r&30)&&!aL(s)&&(e=Of(t,r),e===2&&(o=Bv(t),o!==0&&(r=o,e=v0(t,o))),e===1))throw n=zu,ni(t,0),Vo(t,r),dr(t,Gt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:za(t,sr,Ks);break;case 3:if(Vo(t,r),(r&130023424)===r&&(e=by+500-Gt(),10<e)){if(xf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zv(za.bind(null,t,sr,Ks),e);break}za(t,sr,Ks);break;case 4:if(Vo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-rs(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=Gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oL(r/1960))-r,10<r){t.timeoutHandle=Zv(za.bind(null,t,sr,Ks),r);break}za(t,sr,Ks);break;case 5:za(t,sr,Ks);break;default:throw Error(le(329))}}}return dr(t,Gt()),t.callbackNode===n?PN.bind(null,t):null}function v0(t,e){var n=fu;return t.current.memoizedState.isDehydrated&&(ni(t,e).flags|=256),t=Of(t,e),t!==2&&(e=sr,sr=n,e!==null&&x0(e)),t}function x0(t){sr===null?sr=t:sr.push.apply(sr,t)}function aL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!is(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vo(t,e){for(e&=~wy,e&=~Um,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rs(e),r=1<<n;t[n]=-1,e&=~r}}function N_(t){if(gt&6)throw Error(le(327));bl();var e=xf(t,0);if(!(e&1))return dr(t,Gt()),null;var n=Of(t,e);if(t.tag!==0&&n===2){var r=Bv(t);r!==0&&(e=r,n=v0(t,r))}if(n===1)throw n=zu,ni(t,0),Vo(t,e),dr(t,Gt()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,za(t,sr,Ks),dr(t,Gt()),null}function _y(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&(Ll=Gt()+500,Om&&Ca())}}function mi(t){Wo!==null&&Wo.tag===0&&!(gt&6)&&bl();var e=gt;gt|=1;var n=Ur.transition,r=bt;try{if(Ur.transition=null,bt=1,t)return t()}finally{bt=r,Ur.transition=n,gt=e,!(gt&6)&&Ca()}}function Sy(){xr=ul.current,At(ul)}function ni(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OO(n)),Zt!==null)for(n=Zt.return;n!==null;){var r=n;switch(ry(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sf();break;case 3:Ml(),At(cr),At(zn),hy();break;case 5:dy(r);break;case 4:Ml();break;case 13:At(Lt);break;case 19:At(Lt);break;case 10:iy(r.type._context);break;case 22:case 23:Sy()}n=n.return}if(bn=t,Zt=t=ea(t.current,null),jn=xr=e,hn=0,zu=null,wy=Um=fi=0,sr=fu=null,Ya!==null){for(e=0;e<Ya.length;e++)if(n=Ya[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Ya=null}return t}function AN(t,e){do{var n=Zt;try{if(ay(),$h.current=Af,Pf){for(var r=Vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pf=!1}if(hi=0,wn=cn=Vt=null,du=!1,Fu=0,yy.current=null,n===null||n.return===null){hn=1,zu=e,Zt=null;break}e:{var o=t,i=n.return,l=n,c=e;if(e=jn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=p_(i);if(p!==null){p.flags&=-257,g_(p,i,l,o,e),p.mode&1&&m_(o,u,e),e=p,c=u;var w=e.updateQueue;if(w===null){var y=new Set;y.add(c),e.updateQueue=y}else w.add(c);break e}else{if(!(e&1)){m_(o,u,e),Cy();break e}c=Error(le(426))}}else if(Dt&&l.mode&1){var S=p_(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),g_(S,i,l,o,e),sy(Ol(c,l));break e}}o=c=Ol(c,l),hn!==4&&(hn=2),fu===null?fu=[o]:fu.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=pN(o,c,e);l_(o,b);break e;case 1:l=c;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Xo===null||!Xo.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=gN(o,l,e);l_(o,A);break e}}o=o.return}while(o!==null)}MN(n)}catch(D){e=D,Zt===n&&n!==null&&(Zt=n=n.return);continue}break}while(1)}function RN(){var t=Rf.current;return Rf.current=Af,t===null?Af:t}function Cy(){(hn===0||hn===3||hn===2)&&(hn=4),bn===null||!(fi&268435455)&&!(Um&268435455)||Vo(bn,jn)}function Of(t,e){var n=gt;gt|=2;var r=RN();(bn!==t||jn!==e)&&(Ks=null,ni(t,e));do try{iL();break}catch(s){AN(t,s)}while(1);if(ay(),gt=n,Rf.current=r,Zt!==null)throw Error(le(261));return bn=null,jn=0,hn}function iL(){for(;Zt!==null;)DN(Zt)}function lL(){for(;Zt!==null&&!R4();)DN(Zt)}function DN(t){var e=LN(t.alternate,t,xr);t.memoizedProps=t.pendingProps,e===null?MN(t):Zt=e,yy.current=null}function MN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tL(n,e),n!==null){n.flags&=32767,Zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hn=6,Zt=null;return}}else if(n=eL(n,e,xr),n!==null){Zt=n;return}if(e=e.sibling,e!==null){Zt=e;return}Zt=e=t}while(e!==null);hn===0&&(hn=5)}function za(t,e,n){var r=bt,s=Ur.transition;try{Ur.transition=null,bt=1,cL(t,e,n,r)}finally{Ur.transition=s,bt=r}return null}function cL(t,e,n,r){do bl();while(Wo!==null);if(gt&6)throw Error(le(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(B4(t,o),t===bn&&(Zt=bn=null,jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hh||(hh=!0,FN(vf,function(){return bl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ur.transition,Ur.transition=null;var i=bt;bt=1;var l=gt;gt|=4,yy.current=null,rL(t,n),kN(n,t),kO(Yv),yf=!!Kv,Yv=Kv=null,t.current=n,sL(n),D4(),gt=l,bt=i,Ur.transition=o}else t.current=n;if(hh&&(hh=!1,Wo=t,Mf=s),o=t.pendingLanes,o===0&&(Xo=null),L4(n.stateNode),dr(t,Gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Df)throw Df=!1,t=p0,p0=null,t;return Mf&1&&t.tag!==0&&bl(),o=t.pendingLanes,o&1?t===g0?mu++:(mu=0,g0=t):mu=0,Ca(),null}function bl(){if(Wo!==null){var t=pj(Mf),e=Ur.transition,n=bt;try{if(Ur.transition=null,bt=16>t?16:t,Wo===null)var r=!1;else{if(t=Wo,Wo=null,Mf=0,gt&6)throw Error(le(331));var s=gt;for(gt|=4,je=t.current;je!==null;){var o=je,i=o.child;if(je.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(je=u;je!==null;){var d=je;switch(d.tag){case 0:case 11:case 15:hu(8,d,o)}var f=d.child;if(f!==null)f.return=d,je=f;else for(;je!==null;){d=je;var m=d.sibling,p=d.return;if(TN(d),d===u){je=null;break}if(m!==null){m.return=p,je=m;break}je=p}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}je=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,je=i;else e:for(;je!==null;){if(o=je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hu(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,je=b;break e}je=o.return}}var x=t.current;for(je=x;je!==null;){i=je;var _=i.child;if(i.subtreeFlags&2064&&_!==null)_.return=i,je=_;else e:for(i=x;je!==null;){if(l=je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vm(9,l)}}catch(D){qt(l,l.return,D)}if(l===i){je=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,je=A;break e}je=l.return}}if(gt=s,Ca(),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot(Pm,t)}catch{}r=!0}return r}finally{bt=n,Ur.transition=e}}return!1}function k_(t,e,n){e=Ol(n,e),e=pN(t,e,1),t=Zo(t,e,1),e=Zn(),t!==null&&(dd(t,1,e),dr(t,e))}function qt(t,e,n){if(t.tag===3)k_(t,t,n);else for(;e!==null;){if(e.tag===3){k_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xo===null||!Xo.has(r))){t=Ol(n,t),t=gN(e,t,1),e=Zo(e,t,1),t=Zn(),e!==null&&(dd(e,1,t),dr(e,t));break}}e=e.return}}function uL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zn(),t.pingedLanes|=t.suspendedLanes&n,bn===t&&(jn&n)===n&&(hn===4||hn===3&&(jn&130023424)===jn&&500>Gt()-by?ni(t,0):wy|=n),dr(t,e)}function ON(t,e){e===0&&(t.mode&1?(e=nh,nh<<=1,!(nh&130023424)&&(nh=4194304)):e=1);var n=Zn();t=co(t,e),t!==null&&(dd(t,e,n),dr(t,n))}function dL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ON(t,n)}function hL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),ON(t,n)}var LN;LN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cr.current)ir=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ir=!1,JO(t,e,n);ir=!!(t.flags&131072)}else ir=!1,Dt&&e.flags&1048576&&zj(e,Tf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qh(t,e),t=e.pendingProps;var s=Al(e,zn.current);wl(e,n),s=my(null,e,r,t,s,n);var o=py();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ur(r)?(o=!0,Cf(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cy(e),s.updater=Fm,e.stateNode=s,s._reactInternals=e,s0(e,r,t,n),e=i0(null,e,r,!0,o,n)):(e.tag=0,Dt&&o&&ny(e),Gn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=mL(r),t=Zr(r,t),s){case 0:e=a0(null,e,r,t,n);break e;case 1:e=y_(null,e,r,t,n);break e;case 11:e=v_(null,e,r,t,n);break e;case 14:e=x_(null,e,r,Zr(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zr(r,s),a0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zr(r,s),y_(t,e,r,s,n);case 3:e:{if(wN(e),t===null)throw Error(le(387));r=e.pendingProps,o=e.memoizedState,s=o.element,Gj(t,e),kf(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Ol(Error(le(423)),e),e=w_(t,e,r,n,s);break e}else if(r!==s){s=Ol(Error(le(424)),e),e=w_(t,e,r,n,s);break e}else for(wr=Qo(e.stateNode.containerInfo.firstChild),_r=e,Dt=!0,Jr=null,n=Wj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rl(),r===s){e=uo(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return Kj(e),t===null&&t0(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Qv(r,s)?i=null:o!==null&&Qv(r,o)&&(e.flags|=32),yN(t,e),Gn(t,e,i,n),e.child;case 6:return t===null&&t0(e),null;case 13:return bN(t,e,n);case 4:return uy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dl(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zr(r,s),v_(t,e,r,s,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,Et(jf,r._currentValue),r._currentValue=i,o!==null)if(is(o.value,i)){if(o.children===s.children&&!cr.current){e=uo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=no(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),n0(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(le(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),n0(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Gn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,wl(e,n),s=$r(s),r=r(s),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,s=Zr(r,e.pendingProps),s=Zr(r.type,s),x_(t,e,r,s,n);case 15:return vN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zr(r,s),qh(t,e),e.tag=1,ur(r)?(t=!0,Cf(e)):t=!1,wl(e,n),mN(e,r,s),s0(e,r,s,n),i0(null,e,r,!0,t,n);case 19:return _N(t,e,n);case 22:return xN(t,e,n)}throw Error(le(156,e.tag))};function FN(t,e){return dj(t,e)}function fL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,n,r){return new fL(t,e,n,r)}function Ey(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mL(t){if(typeof t=="function")return Ey(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qx)return 11;if(t===Wx)return 14}return 2}function ea(t,e){var n=t.alternate;return n===null?(n=Lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gh(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")Ey(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case el:return ri(n.children,s,o,e);case Bx:i=8,s|=8;break;case Nv:return t=Lr(12,n,e,s|2),t.elementType=Nv,t.lanes=o,t;case kv:return t=Lr(13,n,e,s),t.elementType=kv,t.lanes=o,t;case Iv:return t=Lr(19,n,e,s),t.elementType=Iv,t.lanes=o,t;case KT:return zm(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HT:i=10;break e;case GT:i=9;break e;case qx:i=11;break e;case Wx:i=14;break e;case Do:i=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Lr(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function ri(t,e,n,r){return t=Lr(7,t,r,e),t.lanes=n,t}function zm(t,e,n,r){return t=Lr(22,t,r,e),t.elementType=KT,t.lanes=n,t.stateNode={isHidden:!1},t}function Cg(t,e,n){return t=Lr(6,t,null,e),t.lanes=n,t}function Eg(t,e,n){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=og(0),this.expirationTimes=og(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=og(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ty(t,e,n,r,s,o,i,l,c){return t=new pL(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Lr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(o),t}function gL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VN(t){if(!t)return ua;t=t._reactInternals;e:{if(Ii(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(ur(n))return Vj(t,n,e)}return e}function UN(t,e,n,r,s,o,i,l,c){return t=Ty(n,r,!0,t,s,o,i,l,c),t.context=VN(null),n=t.current,r=Zn(),s=Jo(n),o=no(r,s),o.callback=e??null,Zo(n,o,s),t.current.lanes=s,dd(t,s,r),dr(t,r),t}function $m(t,e,n,r){var s=e.current,o=Zn(),i=Jo(s);return n=VN(n),e.context===null?e.context=n:e.pendingContext=n,e=no(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zo(s,e,i),t!==null&&(ss(t,s,i,o),zh(t,s,i)),i}function Lf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jy(t,e){I_(t,e),(t=t.alternate)&&I_(t,e)}function vL(){return null}var zN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ny(t){this._internalRoot=t}Bm.prototype.render=Ny.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));$m(t,e,null,null)};Bm.prototype.unmount=Ny.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mi(function(){$m(null,t,null,null)}),e[lo]=null}};function Bm(t){this._internalRoot=t}Bm.prototype.unstable_scheduleHydration=function(t){if(t){var e=xj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fo.length&&e!==0&&e<Fo[n].priority;n++);Fo.splice(n,0,t),n===0&&wj(t)}};function ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function P_(){}function xL(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Lf(i);o.call(u)}}var i=UN(e,r,t,0,null,!1,!1,"",P_);return t._reactRootContainer=i,t[lo]=i.current,Ru(t.nodeType===8?t.parentNode:t),mi(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Lf(c);l.call(u)}}var c=Ty(t,0,!1,null,null,!1,!1,"",P_);return t._reactRootContainer=c,t[lo]=c.current,Ru(t.nodeType===8?t.parentNode:t),mi(function(){$m(e,c,n,r)}),c}function Wm(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Lf(i);l.call(c)}}$m(e,i,t,s)}else i=xL(n,e,t,s,r);return Lf(i)}gj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qc(e.pendingLanes);n!==0&&(Kx(e,n|1),dr(e,Gt()),!(gt&6)&&(Ll=Gt()+500,Ca()))}break;case 13:mi(function(){var r=co(t,1);if(r!==null){var s=Zn();ss(r,t,1,s)}}),jy(t,1)}};Yx=function(t){if(t.tag===13){var e=co(t,134217728);if(e!==null){var n=Zn();ss(e,t,134217728,n)}jy(t,134217728)}};vj=function(t){if(t.tag===13){var e=Jo(t),n=co(t,e);if(n!==null){var r=Zn();ss(n,t,e,r)}jy(t,e)}};xj=function(){return bt};yj=function(t,e){var n=bt;try{return bt=t,e()}finally{bt=n}};Uv=function(t,e,n){switch(e){case"input":if(Rv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Mm(r);if(!s)throw Error(le(90));QT(r),Rv(r,s)}}}break;case"textarea":XT(t,n);break;case"select":e=n.value,e!=null&&gl(t,!!n.multiple,e,!1)}};oj=_y;aj=mi;var yL={usingClientEntryPoint:!1,Events:[fd,sl,Mm,rj,sj,_y]},Vc={findFiberByHostInstance:Ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wL={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cj(t),t===null?null:t.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||vL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Pm=fh.inject(wL),ks=fh}catch{}}Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yL;Nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ky(e))throw Error(le(200));return gL(t,e,null,n)};Nr.createRoot=function(t,e){if(!ky(t))throw Error(le(299));var n=!1,r="",s=zN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ty(t,1,!1,null,null,n,!1,r,s),t[lo]=e.current,Ru(t.nodeType===8?t.parentNode:t),new Ny(e)};Nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=cj(e),t=t===null?null:t.stateNode,t};Nr.flushSync=function(t){return mi(t)};Nr.hydrate=function(t,e,n){if(!qm(e))throw Error(le(200));return Wm(null,t,e,!0,n)};Nr.hydrateRoot=function(t,e,n){if(!ky(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=zN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=UN(e,null,t,1,n??null,s,!1,o,i),t[lo]=e.current,Ru(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bm(e)};Nr.render=function(t,e,n){if(!qm(e))throw Error(le(200));return Wm(null,t,e,!1,n)};Nr.unmountComponentAtNode=function(t){if(!qm(t))throw Error(le(40));return t._reactRootContainer?(mi(function(){Wm(null,null,t,!1,function(){t._reactRootContainer=null,t[lo]=null})}),!0):!1};Nr.unstable_batchedUpdates=_y;Nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qm(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Wm(t,e,n,!1,r)};Nr.version="18.3.1-next-f1338f8080-20240426";function $N(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($N)}catch(t){console.error(t)}}$N(),$T.exports=Nr;var Pi=$T.exports;const bL=rc(Pi);var A_=Pi;Tv.createRoot=A_.createRoot,Tv.hydrateRoot=A_.hydrateRoot;var BN={exports:{}},_L="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SL=_L,CL=SL;function qN(){}function WN(){}WN.resetWarningCache=qN;var EL=function(){function t(r,s,o,i,l,c){if(c!==CL){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WN,resetWarningCache:qN};return n.PropTypes=n,n};BN.exports=EL();var TL=BN.exports;const Oe=rc(TL);function jL(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var HN=g,NL=jL(HN);function R_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var IL=!!(typeof window<"u"&&window.document&&window.document.createElement);function PL(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],l;function c(){l=t(i.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){kL(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=l;return l=void 0,i=[],w};var m=f.prototype;return m.UNSAFE_componentWillMount=function(){i.push(this),c()},m.componentDidUpdate=function(){c()},m.componentWillUnmount=function(){var w=i.indexOf(this);i.splice(w,1),c()},m.render=function(){return NL.createElement(o,this.props)},f}(HN.PureComponent);return R_(u,"displayName","SideEffect("+r(o)+")"),R_(u,"canUseDOM",IL),u}}var AL=PL;const RL=rc(AL);var DL=typeof Element<"u",ML=typeof Map=="function",OL=typeof Set=="function",LL=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Kh(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Kh(t[r],e[r]))return!1;return!0}var o;if(ML&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!Kh(r.value[1],e.get(r.value[0])))return!1;return!0}if(OL&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(LL&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(DL&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Kh(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var FL=function(e,n){try{return Kh(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const VL=rc(FL);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var D_=Object.getOwnPropertySymbols,UL=Object.prototype.hasOwnProperty,zL=Object.prototype.propertyIsEnumerable;function $L(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function BL(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var qL=BL()?Object.assign:function(t,e){for(var n,r=$L(t),s,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var i in n)UL.call(n,i)&&(r[i]=n[i]);if(D_){s=D_(n);for(var l=0;l<s.length;l++)zL.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const WL=rc(qL);var si={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ze={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ze).map(function(t){return Ze[t]});var Rt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Ff={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},$u={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},HL=Object.keys(Ff).reduce(function(t,e){return t[Ff[e]]=e,t},{}),GL=[Ze.NOSCRIPT,Ze.SCRIPT,Ze.STYLE],ts="data-react-helmet",KL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YL=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},QL=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),nr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZL=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},M_=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},XL=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},y0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},JL=function(e){var n=_l(e,Ze.TITLE),r=_l(e,$u.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=_l(e,$u.DEFAULT_TITLE);return n||s||void 0},e3=function(e){return _l(e,$u.ON_CHANGE_CLIENT_STATE)||function(){}},Tg=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return nr({},r,s)},{})},t3=function(e,n){return n.filter(function(r){return typeof r[Ze.BASE]<"u"}).map(function(r){return r[Ze.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var o=Object.keys(s),i=0;i<o.length;i++){var l=o[i],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},Uc=function(e,n,r){var s={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&o3("Helmet: "+e+' should be of type "Array". Instead found type "'+KL(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,i){var l={};i.filter(function(m){for(var p=void 0,w=Object.keys(m),y=0;y<w.length;y++){var S=w[y],b=S.toLowerCase();n.indexOf(b)!==-1&&!(p===Rt.REL&&m[p].toLowerCase()==="canonical")&&!(b===Rt.REL&&m[b].toLowerCase()==="stylesheet")&&(p=b),n.indexOf(S)!==-1&&(S===Rt.INNER_HTML||S===Rt.CSS_TEXT||S===Rt.ITEM_PROP)&&(p=S)}if(!p||!m[p])return!1;var x=m[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][x]?!1:(l[p][x]=!0,!0)}).reverse().forEach(function(m){return o.push(m)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=WL({},s[d],l[d]);s[d]=f}return o},[]).reverse()},_l=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},n3=function(e){return{baseTag:t3([Rt.HREF,Rt.TARGET],e),bodyAttributes:Tg(si.BODY,e),defer:_l(e,$u.DEFER),encode:_l(e,$u.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Tg(si.HTML,e),linkTags:Uc(Ze.LINK,[Rt.REL,Rt.HREF],e),metaTags:Uc(Ze.META,[Rt.NAME,Rt.CHARSET,Rt.HTTPEQUIV,Rt.PROPERTY,Rt.ITEM_PROP],e),noscriptTags:Uc(Ze.NOSCRIPT,[Rt.INNER_HTML],e),onChangeClientState:e3(e),scriptTags:Uc(Ze.SCRIPT,[Rt.SRC,Rt.INNER_HTML],e),styleTags:Uc(Ze.STYLE,[Rt.CSS_TEXT],e),title:JL(e),titleAttributes:Tg(si.TITLE,e)}},w0=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){w0(e)},0)}}(),O_=function(e){return clearTimeout(e)},r3=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||w0:global.requestAnimationFrame||w0,s3=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||O_:global.cancelAnimationFrame||O_,o3=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},zc=null,a3=function(e){zc&&s3(zc),e.defer?zc=r3(function(){L_(e,function(){zc=null})}):(L_(e),zc=null)},L_=function(e,n){var r=e.baseTag,s=e.bodyAttributes,o=e.htmlAttributes,i=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,m=e.title,p=e.titleAttributes;b0(Ze.BODY,s),b0(Ze.HTML,o),i3(m,p);var w={baseTag:qi(Ze.BASE,r),linkTags:qi(Ze.LINK,i),metaTags:qi(Ze.META,l),noscriptTags:qi(Ze.NOSCRIPT,c),scriptTags:qi(Ze.SCRIPT,d),styleTags:qi(Ze.STYLE,f)},y={},S={};Object.keys(w).forEach(function(b){var x=w[b],_=x.newTags,A=x.oldTags;_.length&&(y[b]=_),A.length&&(S[b]=w[b].oldTags)}),n&&n(),u(e,y,S)},GN=function(e){return Array.isArray(e)?e.join(""):e},i3=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=GN(e)),b0(Ze.TITLE,n)},b0=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(ts),o=s?s.split(","):[],i=[].concat(o),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),o.indexOf(u)===-1&&o.push(u);var f=i.indexOf(u);f!==-1&&i.splice(f,1)}for(var m=i.length-1;m>=0;m--)r.removeAttribute(i[m]);o.length===i.length?r.removeAttribute(ts):r.getAttribute(ts)!==l.join(",")&&r.setAttribute(ts,l.join(","))}},qi=function(e,n){var r=document.head||document.querySelector(Ze.HEAD),s=r.querySelectorAll(e+"["+ts+"]"),o=Array.prototype.slice.call(s),i=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Rt.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Rt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(ts,"true"),o.some(function(m,p){return l=p,u.isEqualNode(m)})?o.splice(l,1):i.push(u)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return r.appendChild(c)}),{oldTags:o,newTags:i}},KN=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},l3=function(e,n,r,s){var o=KN(r),i=GN(n);return o?"<"+e+" "+ts+'="true" '+o+">"+y0(i,s)+"</"+e+">":"<"+e+" "+ts+'="true">'+y0(i,s)+"</"+e+">"},c3=function(e,n,r){return n.reduce(function(s,o){var i=Object.keys(o).filter(function(u){return!(u===Rt.INNER_HTML||u===Rt.CSS_TEXT)}).reduce(function(u,d){var f=typeof o[d]>"u"?d:d+'="'+y0(o[d],r)+'"';return u?u+" "+f:f},""),l=o.innerHTML||o.cssText||"",c=GL.indexOf(e)===-1;return s+"<"+e+" "+ts+'="true" '+i+(c?"/>":">"+l+"</"+e+">")},"")},YN=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Ff[s]||s]=e[s],r},n)},u3=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[HL[s]||s]=e[s],r},n)},d3=function(e,n,r){var s,o=(s={key:n},s[ts]=!0,s),i=YN(r,o);return[Le.createElement(Ze.TITLE,i,n)]},h3=function(e,n){return n.map(function(r,s){var o,i=(o={key:s},o[ts]=!0,o);return Object.keys(r).forEach(function(l){var c=Ff[l]||l;if(c===Rt.INNER_HTML||c===Rt.CSS_TEXT){var u=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[c]=r[l]}),Le.createElement(e,i)})},Hs=function(e,n,r){switch(e){case Ze.TITLE:return{toComponent:function(){return d3(e,n.title,n.titleAttributes)},toString:function(){return l3(e,n.title,n.titleAttributes,r)}};case si.BODY:case si.HTML:return{toComponent:function(){return YN(n)},toString:function(){return KN(n)}};default:return{toComponent:function(){return h3(e,n)},toString:function(){return c3(e,n,r)}}}},QN=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,o=e.htmlAttributes,i=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,f=e.title,m=f===void 0?"":f,p=e.titleAttributes;return{base:Hs(Ze.BASE,n,s),bodyAttributes:Hs(si.BODY,r,s),htmlAttributes:Hs(si.HTML,o,s),link:Hs(Ze.LINK,i,s),meta:Hs(Ze.META,l,s),noscript:Hs(Ze.NOSCRIPT,c,s),script:Hs(Ze.SCRIPT,u,s),style:Hs(Ze.STYLE,d,s),title:Hs(Ze.TITLE,{title:m,titleAttributes:p},s)}},f3=function(e){var n,r;return r=n=function(s){ZL(o,s);function o(){return YL(this,o),XL(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!VL(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Ze.SCRIPT:case Ze.NOSCRIPT:return{innerHTML:c};case Ze.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,m=l.nestedChildren;return nr({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[nr({},f,this.mapNestedChildrenToProps(u,m))]),c))},o.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,m=l.newChildProps,p=l.nestedChildren;switch(d.type){case Ze.TITLE:return nr({},f,(c={},c[d.type]=p,c.titleAttributes=nr({},m),c));case Ze.BODY:return nr({},f,{bodyAttributes:nr({},m)});case Ze.HTML:return nr({},f,{htmlAttributes:nr({},m)})}return nr({},f,(u={},u[d.type]=nr({},m),u))},o.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=nr({},c);return Object.keys(l).forEach(function(d){var f;u=nr({},u,(f={},f[d]=l[d],f))}),u},o.prototype.warnOnInvalidChildren=function(l,c){return!0},o.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Le.Children.forEach(l,function(f){if(!(!f||!f.props)){var m=f.props,p=m.children,w=M_(m,["children"]),y=u3(w);switch(u.warnOnInvalidChildren(f,p),f.type){case Ze.LINK:case Ze.META:case Ze.NOSCRIPT:case Ze.SCRIPT:case Ze.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:y,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:y,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},o.prototype.render=function(){var l=this.props,c=l.children,u=M_(l,["children"]),d=nr({},u);return c&&(d=this.mapChildrenToProps(c,d)),Le.createElement(e,d)},QL(o,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),o}(Le.Component),n.propTypes={base:Oe.object,bodyAttributes:Oe.object,children:Oe.oneOfType([Oe.arrayOf(Oe.node),Oe.node]),defaultTitle:Oe.string,defer:Oe.bool,encodeSpecialCharacters:Oe.bool,htmlAttributes:Oe.object,link:Oe.arrayOf(Oe.object),meta:Oe.arrayOf(Oe.object),noscript:Oe.arrayOf(Oe.object),onChangeClientState:Oe.func,script:Oe.arrayOf(Oe.object),style:Oe.arrayOf(Oe.object),title:Oe.string,titleAttributes:Oe.object,titleTemplate:Oe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=QN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},m3=function(){return null},p3=RL(n3,a3,QN)(m3),_0=f3(p3);_0.renderStatic=_0.rewind;const ZN=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Hm=g.createContext({}),Gm=g.createContext(null),Km=typeof document<"u",Iy=Km?g.useLayoutEffect:g.useEffect,XN=g.createContext({strict:!1}),Py=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),g3="framerAppearId",JN="data-"+Py(g3);function v3(t,e,n,r){const{visualElement:s}=g.useContext(Hm),o=g.useContext(XN),i=g.useContext(Gm),l=g.useContext(ZN).reducedMotion,c=g.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;g.useInsertionEffect(()=>{u&&u.update(n,i)});const d=g.useRef(!!(n[JN]&&!window.HandoffComplete));return Iy(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function x3(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dl(n)&&(n.current=r))},[e])}function Bu(t){return typeof t=="string"||Array.isArray(t)}function Ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ay=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ry=["initial",...Ay];function Qm(t){return Ym(t.animate)||Ry.some(e=>Bu(t[e]))}function ek(t){return!!(Qm(t)||t.variants)}function y3(t,e){if(Qm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bu(n)?n:void 0,animate:Bu(r)?r:void 0}}return t.inherit!==!1?e:{}}function w3(t){const{initial:e,animate:n}=y3(t,g.useContext(Hm));return g.useMemo(()=>({initial:e,animate:n}),[F_(e),F_(n)])}function F_(t){return Array.isArray(t)?t.join(" "):t}const V_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qu={};for(const t in V_)qu[t]={isEnabled:e=>V_[t].some(n=>!!e[n])};function b3(t){for(const e in t)qu[e]={...qu[e],...t[e]}}const Dy=g.createContext({}),tk=g.createContext({}),_3=Symbol.for("motionComponentSymbol");function S3({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&b3(t);function o(l,c){let u;const d={...g.useContext(ZN),...l,layoutId:C3(l)},{isStatic:f}=d,m=w3(l),p=r(l,f);if(!f&&Km){m.visualElement=v3(s,p,d,e);const w=g.useContext(tk),y=g.useContext(XN).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,y,t,w))}return g.createElement(Hm.Provider,{value:m},u&&m.visualElement?g.createElement(u,{visualElement:m.visualElement,...d}):null,n(s,l,x3(p,m.visualElement,c),p,f,m.visualElement))}const i=g.forwardRef(o);return i[_3]=s,i}function C3({layoutId:t}){const e=g.useContext(Dy).id;return e&&t!==void 0?e+"-"+t:t}function E3(t){function e(r,s={}){return S3(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const T3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function My(t){return typeof t!="string"||t.includes("-")?!1:!!(T3.indexOf(t)>-1||/[A-Z]/.test(t))}const Vf={};function j3(t){Object.assign(Vf,t)}const pd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ai=new Set(pd);function nk(t,{layout:e,layoutId:n}){return Ai.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vf[t]||t==="opacity")}const hr=t=>!!(t&&t.getVelocity),N3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k3=pd.length;function I3(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<k3;i++){const l=pd[i];if(t[l]!==void 0){const c=N3[l]||l;o+=`${c}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const rk=t=>e=>typeof e=="string"&&e.startsWith(t),sk=rk("--"),S0=rk("var(--"),P3=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,A3=(t,e)=>e&&typeof t=="number"?e.transform(t):t,da=(t,e,n)=>Math.min(Math.max(n,t),e),Ri={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pu={...Ri,transform:t=>da(0,1,t)},mh={...Ri,default:1},gu=t=>Math.round(t*1e5)/1e5,Zm=/(-)?([\d]*\.?[\d])+/g,ok=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,R3=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function gd(t){return typeof t=="string"}const vd=t=>({test:e=>gd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ao=vd("deg"),Ps=vd("%"),Ue=vd("px"),D3=vd("vh"),M3=vd("vw"),U_={...Ps,parse:t=>Ps.parse(t)/100,transform:t=>Ps.transform(t*100)},z_={...Ri,transform:Math.round},ak={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,size:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,rotate:Ao,rotateX:Ao,rotateY:Ao,rotateZ:Ao,scale:mh,scaleX:mh,scaleY:mh,scaleZ:mh,skew:Ao,skewX:Ao,skewY:Ao,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:pu,originX:U_,originY:U_,originZ:Ue,zIndex:z_,fillOpacity:pu,strokeOpacity:pu,numOctaves:z_};function Oy(t,e,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const f in e){const m=e[f];if(sk(f)){o[f]=m;continue}const p=ak[f],w=A3(m,p);if(Ai.has(f)){if(c=!0,i[f]=w,!d)continue;m!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=w):s[f]=w}if(e.transform||(c||r?s.transform=I3(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${m} ${p}`}}const Ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ik(t,e,n){for(const r in e)!hr(e[r])&&!nk(r,n)&&(t[r]=e[r])}function O3({transformTemplate:t},e,n){return g.useMemo(()=>{const r=Ly();return Oy(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function L3(t,e,n){const r=t.style||{},s={};return ik(s,r,t),Object.assign(s,O3(t,e,n)),t.transformValues?t.transformValues(s):s}function F3(t,e,n){const r={},s=L3(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const V3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||V3.has(t)}let lk=t=>!Uf(t);function U3(t){t&&(lk=e=>e.startsWith("on")?!Uf(e):t(e))}try{U3(require("@emotion/is-prop-valid").default)}catch{}function z3(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(lk(s)||n===!0&&Uf(s)||!e&&!Uf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function $_(t,e,n){return typeof t=="string"?t:Ue.transform(e+n*t)}function $3(t,e,n){const r=$_(e,t.x,t.width),s=$_(n,t.y,t.height);return`${r} ${s}`}const B3={offset:"stroke-dashoffset",array:"stroke-dasharray"},q3={offset:"strokeDashoffset",array:"strokeDasharray"};function W3(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?B3:q3;t[o.offset]=Ue.transform(-r);const i=Ue.transform(e),l=Ue.transform(n);t[o.array]=`${i} ${l}`}function Fy(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,m){if(Oy(t,u,d,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:w,dimensions:y}=t;p.transform&&(y&&(w.transform=p.transform),delete p.transform),y&&(s!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=$3(y,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&W3(p,i,l,c,!1)}const ck=()=>({...Ly(),attrs:{}}),Vy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function H3(t,e,n,r){const s=g.useMemo(()=>{const o=ck();return Fy(o,e,{enableHardwareAcceleration:!1},Vy(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};ik(o,t.style,t),s.style={...o,...s.style}}return s}function G3(t=!1){return(n,r,s,{latestValues:o},i)=>{const c=(My(n)?H3:F3)(r,o,i,n),d={...z3(r,typeof n=="string",t),...c,ref:s},{children:f}=r,m=g.useMemo(()=>hr(f)?f.get():f,[f]);return g.createElement(n,{...d,children:m})}}function uk(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const dk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hk(t,e,n,r){uk(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(dk.has(s)?s:Py(s),e.attrs[s])}function Uy(t,e){const{style:n}=t,r={};for(const s in n)(hr(n[s])||e.style&&hr(e.style[s])||nk(s,t))&&(r[s]=n[s]);return r}function fk(t,e){const n=Uy(t,e);for(const r in t)if(hr(t[r])||hr(e[r])){const s=pd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function zy(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function mk(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const zf=t=>Array.isArray(t),K3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Y3=t=>zf(t)?t[t.length-1]||0:t;function Yh(t){const e=hr(t)?t.get():t;return K3(e)?e.toValue():e}function Q3({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const i={latestValues:Z3(r,s,o,t),renderState:e()};return n&&(i.mount=l=>n(r,l,i)),i}const pk=t=>(e,n)=>{const r=g.useContext(Hm),s=g.useContext(Gm),o=()=>Q3(t,e,r,s);return n?o():mk(o)};function Z3(t,e,n,r){const s={},o=r(t,{});for(const m in o)s[m]=Yh(o[m]);let{initial:i,animate:l}=t;const c=Qm(t),u=ek(t);e&&u&&!c&&t.inherit!==!1&&(i===void 0&&(i=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!Ym(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const w=zy(t,p);if(!w)return;const{transitionEnd:y,transition:S,...b}=w;for(const x in b){let _=b[x];if(Array.isArray(_)){const A=d?_.length-1:0;_=_[A]}_!==null&&(s[x]=_)}for(const x in y)s[x]=y[x]}),s}const Wt=t=>t;class B_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function X3(t){let e=new B_,n=new B_,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,m=f?e:n;return u&&i.add(c),m.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(c),i.has(d)&&(l.schedule(d),t())}s=!1,o&&(o=!1,l.process(c))}};return l}const ph=["prepare","read","update","preRender","render","postRender"],J3=40;function eF(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=ph.reduce((f,m)=>(f[m]=X3(()=>n=!0),f),{}),i=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,J3),1),s.timestamp=f,s.isProcessing=!0,ph.forEach(i),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:ph.reduce((f,m)=>{const p=o[m];return f[m]=(w,y=!1,S=!1)=>(n||c(),p.schedule(w,y,S)),f},{}),cancel:f=>ph.forEach(m=>o[m].cancel(f)),state:s,steps:o}}const{schedule:Tt,cancel:ho,state:Mn,steps:jg}=eF(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wt,!0),tF={useVisualState:pk({scrapeMotionValuesFromProps:fk,createRenderState:ck,onMount:(t,e,{renderState:n,latestValues:r})=>{Tt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Tt.render(()=>{Fy(n,r,{enableHardwareAcceleration:!1},Vy(e.tagName),t.transformTemplate),hk(e,n)})}})},nF={useVisualState:pk({scrapeMotionValuesFromProps:Uy,createRenderState:Ly})};function rF(t,{forwardMotionProps:e=!1},n,r){return{...My(t)?tF:nF,preloadedFeatures:n,useRender:G3(e),createVisualElement:r,Component:t}}function Xs(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const gk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Xm(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const sF=t=>e=>gk(e)&&t(e,Xm(e));function ro(t,e,n,r){return Xs(t,e,sF(n),r)}const oF=(t,e)=>n=>e(t(n)),ta=(...t)=>t.reduce(oF);function vk(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const q_=vk("dragHorizontal"),W_=vk("dragVertical");function xk(t){let e=!1;if(t==="y")e=W_();else if(t==="x")e=q_();else{const n=q_(),r=W_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function yk(){const t=xk(!0);return t?(t(),!1):!0}class Ea{constructor(e){this.isMounted=!1,this.node=e}update(){}}function H_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||yk())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Tt.update(()=>l[r](o,i))};return ro(t.current,n,s,{passive:!t.getProps()[r]})}class aF extends Ea{mount(){this.unmount=ta(H_(this.node,!0),H_(this.node,!1))}unmount(){}}class iF extends Ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ta(Xs(this.node.current,"focus",()=>this.onFocus()),Xs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wk=(t,e)=>e?t===e?!0:wk(t,e.parentElement):!1;function Ng(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Xm(n))}class lF extends Ea{constructor(){super(...arguments),this.removeStartListeners=Wt,this.removeEndListeners=Wt,this.removeAccessibleListeners=Wt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=ro(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Tt.update(()=>{!f&&!wk(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=ro(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ta(o,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ng("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Tt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Xs(this.node.current,"keyup",i),Ng("down",(l,c)=>{this.startPress(l,c)})},n=Xs(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ng("cancel",(o,i)=>this.cancelPress(o,i))},s=Xs(this.node.current,"blur",r);this.removeAccessibleListeners=ta(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Tt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yk()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Tt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ro(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Xs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ta(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const C0=new WeakMap,kg=new WeakMap,cF=t=>{const e=C0.get(t.target);e&&e(t)},uF=t=>{t.forEach(cF)};function dF({root:t,...e}){const n=t||document;kg.has(n)||kg.set(n,{});const r=kg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(uF,{root:t,...e})),r[s]}function hF(t,e,n){const r=dF(e);return C0.set(t,n),r.observe(t),()=>{C0.delete(t),r.unobserve(t)}}const fF={some:0,all:1};class mF extends Ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:fF[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return hF(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pF(e,n))&&this.startObserver()}unmount(){}}function pF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gF={inView:{Feature:mF},tap:{Feature:lF},focus:{Feature:iF},hover:{Feature:aF}};function bk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function vF(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function xF(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Jm(t,e,n){const r=t.getProps();return zy(r,e,n!==void 0?n:r.custom,vF(t),xF(t))}let yF=Wt,$y=Wt;const na=t=>t*1e3,so=t=>t/1e3,wF={current:!1},_k=t=>Array.isArray(t)&&typeof t[0]=="number";function Sk(t){return!!(!t||typeof t=="string"&&Ck[t]||_k(t)||Array.isArray(t)&&t.every(Sk))}const Xc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ck={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xc([0,.65,.55,1]),circOut:Xc([.55,0,1,.45]),backIn:Xc([.31,.01,.66,-.59]),backOut:Xc([.33,1.53,.69,.99])};function Ek(t){if(t)return _k(t)?Xc(t):Array.isArray(t)?t.map(Ek):Ck[t]}function bF(t,e,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=Ek(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function _F(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Tk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SF=1e-7,CF=12;function EF(t,e,n,r,s){let o,i,l=0;do i=e+(n-e)/2,o=Tk(i,r,s)-t,o>0?n=i:e=i;while(Math.abs(o)>SF&&++l<CF);return i}function xd(t,e,n,r){if(t===e&&n===r)return Wt;const s=o=>EF(o,0,1,t,n);return o=>o===0||o===1?o:Tk(s(o),e,r)}const TF=xd(.42,0,1,1),jF=xd(0,0,.58,1),jk=xd(.42,0,.58,1),NF=t=>Array.isArray(t)&&typeof t[0]!="number",Nk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kk=t=>e=>1-t(1-e),By=t=>1-Math.sin(Math.acos(t)),Ik=kk(By),kF=Nk(By),Pk=xd(.33,1.53,.69,.99),qy=kk(Pk),IF=Nk(qy),PF=t=>(t*=2)<1?.5*qy(t):.5*(2-Math.pow(2,-10*(t-1))),AF={linear:Wt,easeIn:TF,easeInOut:jk,easeOut:jF,circIn:By,circInOut:kF,circOut:Ik,backIn:qy,backInOut:IF,backOut:Pk,anticipate:PF},G_=t=>{if(Array.isArray(t)){$y(t.length===4);const[e,n,r,s]=t;return xd(e,n,r,s)}else if(typeof t=="string")return AF[t];return t},Wy=(t,e)=>n=>!!(gd(n)&&R3.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Ak=(t,e,n)=>r=>{if(!gd(r))return r;const[s,o,i,l]=r.match(Zm);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},RF=t=>da(0,255,t),Ig={...Ri,transform:t=>Math.round(RF(t))},Za={test:Wy("rgb","red"),parse:Ak("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ig.transform(t)+", "+Ig.transform(e)+", "+Ig.transform(n)+", "+gu(pu.transform(r))+")"};function DF(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const E0={test:Wy("#"),parse:DF,transform:Za.transform},hl={test:Wy("hsl","hue"),parse:Ak("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ps.transform(gu(e))+", "+Ps.transform(gu(n))+", "+gu(pu.transform(r))+")"},Wn={test:t=>Za.test(t)||E0.test(t)||hl.test(t),parse:t=>Za.test(t)?Za.parse(t):hl.test(t)?hl.parse(t):E0.parse(t),transform:t=>gd(t)?t:t.hasOwnProperty("red")?Za.transform(t):hl.transform(t)},Ft=(t,e,n)=>-n*t+n*e+t;function Pg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function MF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,i=0;if(!e)s=o=i=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=Pg(c,l,t+1/3),o=Pg(c,l,t),i=Pg(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Ag=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},OF=[E0,Za,hl],LF=t=>OF.find(e=>e.test(t));function K_(t){const e=LF(t);let n=e.parse(t);return e===hl&&(n=MF(n)),n}const Rk=(t,e)=>{const n=K_(t),r=K_(e),s={...n};return o=>(s.red=Ag(n.red,r.red,o),s.green=Ag(n.green,r.green,o),s.blue=Ag(n.blue,r.blue,o),s.alpha=Ft(n.alpha,r.alpha,o),Za.transform(s))};function FF(t){var e,n;return isNaN(t)&&gd(t)&&(((e=t.match(Zm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ok))===null||n===void 0?void 0:n.length)||0)>0}const Dk={regex:P3,countKey:"Vars",token:"${v}",parse:Wt},Mk={regex:ok,countKey:"Colors",token:"${c}",parse:Wn.parse},Ok={regex:Zm,countKey:"Numbers",token:"${n}",parse:Ri.parse};function Rg(t,{regex:e,countKey:n,token:r,parse:s}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(s)))}function $f(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Rg(n,Dk),Rg(n,Mk),Rg(n,Ok),n}function Lk(t){return $f(t).values}function Fk(t){const{values:e,numColors:n,numVars:r,tokenised:s}=$f(t),o=e.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(Dk.token,i[c]):c<r+n?l=l.replace(Mk.token,Wn.transform(i[c])):l=l.replace(Ok.token,gu(i[c]));return l}}const VF=t=>typeof t=="number"?0:t;function UF(t){const e=Lk(t);return Fk(t)(e.map(VF))}const ha={test:FF,parse:Lk,createTransformer:Fk,getAnimatableNone:UF},Vk=(t,e)=>n=>`${n>0?e:t}`;function Uk(t,e){return typeof t=="number"?n=>Ft(t,e,n):Wn.test(t)?Rk(t,e):t.startsWith("var(")?Vk(t,e):$k(t,e)}const zk=(t,e)=>{const n=[...t],r=n.length,s=t.map((o,i)=>Uk(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},zF=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Uk(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},$k=(t,e)=>{const n=ha.createTransformer(e),r=$f(t),s=$f(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?ta(zk(r.values,s.values),n):Vk(t,e)},Wu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Y_=(t,e)=>n=>Ft(t,e,n);function $F(t){return typeof t=="number"?Y_:typeof t=="string"?Wn.test(t)?Rk:$k:Array.isArray(t)?zk:typeof t=="object"?zF:Y_}function BF(t,e,n){const r=[],s=n||$F(t[0]),o=t.length-1;for(let i=0;i<o;i++){let l=s(t[i],t[i+1]);if(e){const c=Array.isArray(e)?e[i]||Wt:e;l=ta(c,l)}r.push(l)}return r}function Bk(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if($y(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=BF(e,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=Wu(t[d],t[d+1],u);return i[d](f)};return n?u=>c(da(t[0],t[o-1],u)):c}function qF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Wu(0,e,r);t.push(Ft(n,1,s))}}function WF(t){const e=[0];return qF(e,t.length-1),e}function HF(t,e){return t.map(n=>n*e)}function GF(t,e){return t.map(()=>e||jk).splice(0,t.length-1)}function Bf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=NF(r)?r.map(G_):G_(r),o={done:!1,value:e[0]},i=HF(n&&n.length===e.length?n:WF(e),t),l=Bk(i,e,{ease:Array.isArray(s)?s:GF(e,s)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}function qk(t,e){return e?t*(1e3/e):0}const KF=5;function Wk(t,e,n){const r=Math.max(e-KF,0);return qk(n-t(r),e-r)}const Dg=.001,YF=.01,Q_=10,QF=.05,ZF=1;function XF({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o;yF(t<=na(Q_));let i=1-e;i=da(QF,ZF,i),t=da(YF,Q_,so(t)),i<1?(s=u=>{const d=u*i,f=d*t,m=d-n,p=T0(u,i),w=Math.exp(-f);return Dg-m/p*w},o=u=>{const f=u*i*t,m=f*n+n,p=Math.pow(i,2)*Math.pow(u,2)*t,w=Math.exp(-f),y=T0(Math.pow(u,2),i);return(-s(u)+Dg>0?-1:1)*((m-p)*w)/y}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-Dg+d*f},o=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=eV(s,o,l);if(t=na(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const JF=12;function eV(t,e,n){let r=n;for(let s=1;s<JF;s++)r=r-t(r)/e(r);return r}function T0(t,e){return t*Math.sqrt(1-e*e)}const tV=["duration","bounce"],nV=["stiffness","damping","mass"];function Z_(t,e){return e.some(n=>t[n]!==void 0)}function rV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Z_(t,nV)&&Z_(t,tV)){const n=XF(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Hk({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=rV({...r,velocity:-so(r.velocity||0)}),p=f||0,w=c/(2*Math.sqrt(l*u)),y=o-s,S=so(Math.sqrt(l/u)),b=Math.abs(y)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let x;if(w<1){const _=T0(S,w);x=A=>{const D=Math.exp(-w*S*A);return o-D*((p+w*S*y)/_*Math.sin(_*A)+y*Math.cos(_*A))}}else if(w===1)x=_=>o-Math.exp(-S*_)*(y+(p+S*y)*_);else{const _=S*Math.sqrt(w*w-1);x=A=>{const D=Math.exp(-w*S*A),F=Math.min(_*A,300);return o-D*((p+w*S*y)*Math.sinh(F)+_*y*Math.cosh(F))/_}}return{calculatedDuration:m&&d||null,next:_=>{const A=x(_);if(m)i.done=_>=d;else{let D=p;_!==0&&(w<1?D=Wk(x,_,A):D=0);const F=Math.abs(D)<=n,C=Math.abs(o-A)<=e;i.done=F&&C}return i.value=i.done?o:A,i}}}function X_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},p=E=>l!==void 0&&E<l||c!==void 0&&E>c,w=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let y=n*e;const S=f+y,b=i===void 0?S:i(S);b!==S&&(y=b-f);const x=E=>-y*Math.exp(-E/r),_=E=>b+x(E),A=E=>{const P=x(E),I=_(E);m.done=Math.abs(P)<=u,m.value=m.done?b:I};let D,F;const C=E=>{p(m.value)&&(D=E,F=Hk({keyframes:[m.value,w(m.value)],velocity:Wk(_,E,m.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:E=>{let P=!1;return!F&&D===void 0&&(P=!0,A(E),C(E)),D!==void 0&&E>D?F.next(E-D):(!P&&A(E),m)}}}const sV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Tt.update(e,!0),stop:()=>ho(e),now:()=>Mn.isProcessing?Mn.timestamp:performance.now()}},J_=2e4;function eS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<J_;)e+=n,r=t.next(e);return e>=J_?1/0:e}const oV={decay:X_,inertia:X_,tween:Bf,keyframes:Bf,spring:Hk};function qf({autoplay:t=!0,delay:e=0,driver:n=sV,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...m}){let p=1,w=!1,y,S;const b=()=>{S=new Promise(Y=>{y=Y})};b();let x;const _=oV[s]||Bf;let A;_!==Bf&&typeof r[0]!="number"&&(A=Bk([0,100],r,{clamp:!1}),r=[0,100]);const D=_({...m,keyframes:r});let F;l==="mirror"&&(F=_({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let C="idle",E=null,P=null,I=null;D.calculatedDuration===null&&o&&(D.calculatedDuration=eS(D));const{calculatedDuration:N}=D;let j=1/0,k=1/0;N!==null&&(j=N+i,k=j*(o+1)-i);let V=0;const L=Y=>{if(P===null)return;p>0&&(P=Math.min(P,Y)),p<0&&(P=Math.min(Y-k/p,P)),E!==null?V=E:V=Math.round(Y-P)*p;const de=V-e*(p>=0?1:-1),Se=p>=0?de<0:de>k;V=Math.max(de,0),C==="finished"&&E===null&&(V=k);let ye=V,Ve=D;if(o){const $e=Math.min(V,k)/j;let W=Math.floor($e),ce=$e%1;!ce&&$e>=1&&(ce=1),ce===1&&W--,W=Math.min(W,o+1),!!(W%2)&&(l==="reverse"?(ce=1-ce,i&&(ce-=i/j)):l==="mirror"&&(Ve=F)),ye=da(0,1,ce)*j}const ke=Se?{done:!1,value:r[0]}:Ve.next(ye);A&&(ke.value=A(ke.value));let{done:fe}=ke;!Se&&N!==null&&(fe=p>=0?V>=k:V<=0);const Me=E===null&&(C==="finished"||C==="running"&&fe);return f&&f(ke.value),Me&&O(),ke},G=()=>{x&&x.stop(),x=void 0},B=()=>{C="idle",G(),y(),b(),P=I=null},O=()=>{C="finished",d&&d(),G(),y()},z=()=>{if(w)return;x||(x=n(L));const Y=x.now();c&&c(),E!==null?P=Y-E:(!P||C==="finished")&&(P=Y),C==="finished"&&b(),I=P,E=null,C="running",x.start()};t&&z();const Z={then(Y,de){return S.then(Y,de)},get time(){return so(V)},set time(Y){Y=na(Y),V=Y,E!==null||!x||p===0?E=Y:P=x.now()-Y/p},get duration(){const Y=D.calculatedDuration===null?eS(D):D.calculatedDuration;return so(Y)},get speed(){return p},set speed(Y){Y===p||!x||(p=Y,Z.time=so(V))},get state(){return C},play:z,pause:()=>{C="paused",E=V},stop:()=>{w=!0,C!=="idle"&&(C="idle",u&&u(),B())},cancel:()=>{I!==null&&L(I),B()},complete:()=>{C="finished"},sample:Y=>(P=0,L(Y))};return Z}function aV(t){let e;return()=>(e===void 0&&(e=t()),e)}const iV=aV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lV=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),gh=10,cV=2e4,uV=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Sk(e.ease);function dV(t,e,{onUpdate:n,onComplete:r,...s}){if(!(iV()&&lV.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(_=>{l=_})};d();let{keyframes:f,duration:m=300,ease:p,times:w}=s;if(uV(e,s)){const _=qf({...s,repeat:0,delay:0});let A={done:!1,value:f[0]};const D=[];let F=0;for(;!A.done&&F<cV;)A=_.sample(F),D.push(A.value),F+=gh;w=void 0,f=D,m=F-gh,p="linear"}const y=bF(t.owner.current,e,f,{...s,duration:m,ease:p,times:w}),S=()=>{u=!1,y.cancel()},b=()=>{u=!0,Tt.update(S),l(),d()};return y.onfinish=()=>{u||(t.set(_F(f,s)),r&&r(),b())},{then(_,A){return c.then(_,A)},attachTimeline(_){return y.timeline=_,y.onfinish=null,Wt},get time(){return so(y.currentTime||0)},set time(_){y.currentTime=na(_)},get speed(){return y.playbackRate},set speed(_){y.playbackRate=_},get duration(){return so(m)},play:()=>{i||(y.play(),ho(S))},pause:()=>y.pause(),stop:()=>{if(i=!0,y.playState==="idle")return;const{currentTime:_}=y;if(_){const A=qf({...s,autoplay:!1});t.setWithVelocity(A.sample(_-gh).value,A.sample(_).value,gh)}b()},complete:()=>{u||y.finish()},cancel:b}}function hV({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Wt,pause:Wt,stop:Wt,then:o=>(o(),Promise.resolve()),cancel:Wt,complete:Wt});return e?qf({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const fV={type:"spring",stiffness:500,damping:25,restSpeed:10},mV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pV={type:"keyframes",duration:.8},gV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vV=(t,{keyframes:e})=>e.length>2?pV:Ai.has(t)?t.startsWith("scale")?mV(e[1]):fV:gV,j0=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ha.test(e)||e==="0")&&!e.startsWith("url(")),xV=new Set(["brightness","contrast","saturate","opacity"]);function yV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Zm)||[];if(!r)return t;const s=n.replace(r,"");let o=xV.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const wV=/([a-z-]*)\(.*?\)/g,N0={...ha,getAnimatableNone:t=>{const e=t.match(wV);return e?e.map(yV).join(" "):t}},bV={...ak,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:N0,WebkitFilter:N0},Hy=t=>bV[t];function Gk(t,e){let n=Hy(t);return n!==N0&&(n=ha),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Kk=t=>/^0[^.\s]+$/.test(t);function _V(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Kk(t)}function SV(t,e,n,r){const s=j0(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:t.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),_V(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=Gk(e,l)}return o}function CV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Gy(t,e){return t[e]||t.default||t}const EV={skipAnimations:!1},Ky=(t,e,n,r={})=>s=>{const o=Gy(r,t)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-na(i);const c=SV(e,t,n,o),u=c[0],d=c[c.length-1],f=j0(t,u),m=j0(t,d);let p={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:w=>{e.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(CV(o)||(p={...p,...vV(t,p)}),p.duration&&(p.duration=na(p.duration)),p.repeatDelay&&(p.repeatDelay=na(p.repeatDelay)),!f||!m||wF.current||o.type===!1||EV.skipAnimations)return hV(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=dV(e,t,p);if(w)return w}return qf(p)};function Wf(t){return!!(hr(t)&&t.add)}const Yk=t=>/^\-?\d*\.?\d+$/.test(t);function Yy(t,e){t.indexOf(e)===-1&&t.push(e)}function Qy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zy{constructor(){this.subscriptions=[]}add(e){return Yy(this.subscriptions,e),()=>Qy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const TV=t=>!isNaN(parseFloat(t));class jV{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=Mn;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,Tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=TV(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?qk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fl(t,e){return new jV(t,e)}const Qk=t=>e=>e.test(t),NV={test:t=>t==="auto",parse:t=>t},Zk=[Ri,Ue,Ps,Ao,M3,D3,NV],$c=t=>Zk.find(Qk(t)),kV=[...Zk,Wn,ha],IV=t=>kV.find(Qk(t));function PV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fl(n))}function AV(t,e){const n=Jm(t,e);let{transitionEnd:r={},transition:s={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=Y3(o[i]);PV(t,i,l)}}function RV(t,e,n){var r,s;const o=Object.keys(e).filter(l=>!t.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),d!=null&&(typeof d=="string"&&(Yk(d)||Kk(d))?d=parseFloat(d):!IV(d)&&ha.test(u)&&(d=Gk(c,u)),t.addValue(c,Fl(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function DV(t,e){return e?(e[t]||e.default||e).from:void 0}function MV(t,e,n){const r={};for(const s in t){const o=DV(s,e);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function OV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function LV(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Xk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const m=t.getValue(f),p=l[f];if(!m||p===void 0||d&&OV(d,f))continue;const w={delay:n,elapsed:0,...Gy(o||{},f)};if(window.HandoffAppearAnimations){const b=t.getProps()[JN];if(b){const x=window.HandoffAppearAnimations(b,f,m,Tt);x!==null&&(w.elapsed=x,w.isHandoff=!0)}}let y=!w.isHandoff&&!LV(m,p);if(w.type==="spring"&&(m.getVelocity()||w.velocity)&&(y=!1),m.animation&&(y=!1),y)continue;m.start(Ky(f,m,p,t.shouldReduceMotion&&Ai.has(f)?{type:!1}:w));const S=m.animation;Wf(c)&&(c.add(f),S.then(()=>c.remove(f))),u.push(S)}return i&&Promise.all(u).then(()=>{i&&AV(t,i)}),u}function k0(t,e,n={}){const r=Jm(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(Xk(t,r,n)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return FV(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function FV(t,e,n=0,r=0,s=1,o){const i=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(VV).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(k0(u,e,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function VV(t,e){return t.sortNodePosition(e)}function UV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>k0(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=k0(t,e,n);else{const s=typeof e=="function"?Jm(t,e,n.custom):e;r=Promise.all(Xk(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const zV=[...Ay].reverse(),$V=Ay.length;function BV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>UV(t,n,r)))}function qV(t){let e=BV(t);const n=HV();let r=!0;const s=(c,u)=>{const d=Jm(t,u);if(d){const{transition:f,transitionEnd:m,...p}=d;c={...c,...p,...m}}return c};function o(c){e=c(t)}function i(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},m=[],p=new Set;let w={},y=1/0;for(let b=0;b<$V;b++){const x=zV[b],_=n[x],A=d[x]!==void 0?d[x]:f[x],D=Bu(A),F=x===u?_.isActive:null;F===!1&&(y=b);let C=A===f[x]&&A!==d[x]&&D;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...w},!_.isActive&&F===null||!A&&!_.prevProp||Ym(A)||typeof A=="boolean")continue;let P=WV(_.prevProp,A)||x===u&&_.isActive&&!C&&D||b>y&&D,I=!1;const N=Array.isArray(A)?A:[A];let j=N.reduce(s,{});F===!1&&(j={});const{prevResolvedValues:k={}}=_,V={...k,...j},L=G=>{P=!0,p.has(G)&&(I=!0,p.delete(G)),_.needsAnimating[G]=!0};for(const G in V){const B=j[G],O=k[G];if(w.hasOwnProperty(G))continue;let z=!1;zf(B)&&zf(O)?z=!bk(B,O):z=B!==O,z?B!==void 0?L(G):p.add(G):B!==void 0&&p.has(G)?L(G):_.protectedKeys[G]=!0}_.prevProp=A,_.prevResolvedValues=j,_.isActive&&(w={...w,...j}),r&&t.blockInitialAnimation&&(P=!1),P&&(!C||I)&&m.push(...N.map(G=>({animation:G,options:{type:x,...c}})))}if(p.size){const b={};p.forEach(x=>{const _=t.getBaseTarget(x);_!==void 0&&(b[x]=_)}),m.push({animation:b})}let S=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(m):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),n[c].isActive=u;const m=i(d,c);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function WV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bk(e,t):!1}function Fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HV(){return{animate:Fa(!0),whileInView:Fa(),whileHover:Fa(),whileTap:Fa(),whileDrag:Fa(),whileFocus:Fa(),exit:Fa()}}class GV extends Ea{constructor(e){super(e),e.animationState||(e.animationState=qV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ym(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let KV=0;class YV extends Ea{constructor(){super(...arguments),this.id=KV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const QV={animation:{Feature:GV},exit:{Feature:YV}},tS=(t,e)=>Math.abs(t-e);function ZV(t,e){const n=tS(t.x,e.x),r=tS(t.y,e.y);return Math.sqrt(n**2+r**2)}class Jk{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Og(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=ZV(f.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:w}=f,{timestamp:y}=Mn;this.history.push({...w,timestamp:y});const{onStart:S,onMove:b}=this.handlers;m||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Mg(m,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Og(f.type==="pointercancel"?this.lastMoveEventInfo:Mg(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,S),w&&w(f,S)},!gk(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=Xm(e),l=Mg(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Mn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Og(l,this.history)),this.removeListeners=ta(ro(this.contextWindow,"pointermove",this.handlePointerMove),ro(this.contextWindow,"pointerup",this.handlePointerUp),ro(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ho(this.updatePoint)}}function Mg(t,e){return e?{point:e(t.point)}:t}function nS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Og({point:t},e){return{point:t,delta:nS(t,eI(e)),offset:nS(t,XV(e)),velocity:JV(e,.1)}}function XV(t){return t[0]}function eI(t){return t[t.length-1]}function JV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=eI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>na(e)));)n--;if(!r)return{x:0,y:0};const o=so(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function jr(t){return t.max-t.min}function I0(t,e=0,n=.01){return Math.abs(t-e)<=n}function rS(t,e,n,r=.5){t.origin=r,t.originPoint=Ft(e.min,e.max,t.origin),t.scale=jr(n)/jr(e),(I0(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ft(n.min,n.max,t.origin)-t.originPoint,(I0(t.translate)||isNaN(t.translate))&&(t.translate=0)}function vu(t,e,n,r){rS(t.x,e.x,n.x,r?r.originX:void 0),rS(t.y,e.y,n.y,r?r.originY:void 0)}function sS(t,e,n){t.min=n.min+e.min,t.max=t.min+jr(e)}function e6(t,e,n){sS(t.x,e.x,n.x),sS(t.y,e.y,n.y)}function oS(t,e,n){t.min=e.min-n.min,t.max=t.min+jr(e)}function xu(t,e,n){oS(t.x,e.x,n.x),oS(t.y,e.y,n.y)}function t6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ft(n,t,r.max):Math.min(t,n)),t}function aS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function n6(t,{top:e,left:n,bottom:r,right:s}){return{x:aS(t.x,n,s),y:aS(t.y,e,r)}}function iS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function r6(t,e){return{x:iS(t.x,e.x),y:iS(t.y,e.y)}}function s6(t,e){let n=.5;const r=jr(t),s=jr(e);return s>r?n=Wu(e.min,e.max-r,t.min):r>s&&(n=Wu(t.min,t.max-s,e.min)),da(0,1,n)}function o6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const P0=.35;function a6(t=P0){return t===!1?t=0:t===!0&&(t=P0),{x:lS(t,"left","right"),y:lS(t,"top","bottom")}}function lS(t,e,n){return{min:cS(t,e),max:cS(t,n)}}function cS(t,e){return typeof t=="number"?t:t[e]||0}const uS=()=>({translate:0,scale:1,origin:0,originPoint:0}),fl=()=>({x:uS(),y:uS()}),dS=()=>({min:0,max:0}),Qt=()=>({x:dS(),y:dS()});function Ar(t){return[t("x"),t("y")]}function tI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function i6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function l6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Lg(t){return t===void 0||t===1}function A0({scale:t,scaleX:e,scaleY:n}){return!Lg(t)||!Lg(e)||!Lg(n)}function $a(t){return A0(t)||nI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function nI(t){return hS(t.x)||hS(t.y)}function hS(t){return t&&t!=="0%"}function Hf(t,e,n){const r=t-n,s=e*r;return n+s}function fS(t,e,n,r,s){return s!==void 0&&(t=Hf(t,s,r)),Hf(t,n,r)+e}function R0(t,e=0,n=1,r,s){t.min=fS(t.min,e,n,r,s),t.max=fS(t.max,e,n,r,s)}function rI(t,{x:e,y:n}){R0(t.x,e.translate,e.scale,e.originPoint),R0(t.y,n.translate,n.scale,n.originPoint)}function c6(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ml(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,rI(t,i)),r&&$a(o.latestValues)&&ml(t,o.latestValues))}e.x=mS(e.x),e.y=mS(e.y)}function mS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Oo(t,e){t.min=t.min+e,t.max=t.max+e}function pS(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,i=Ft(t.min,t.max,o);R0(t,e[n],e[r],i,e.scale)}const u6=["x","scaleX","originX"],d6=["y","scaleY","originY"];function ml(t,e){pS(t.x,e,u6),pS(t.y,e,d6)}function sI(t,e){return tI(l6(t.getBoundingClientRect(),e))}function h6(t,e,n){const r=sI(t,n),{scroll:s}=e;return s&&(Oo(r.x,s.offset.x),Oo(r.y,s.offset.y)),r}const oI=({current:t})=>t?t.ownerDocument.defaultView:null,f6=new WeakMap;class m6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xm(d,"page").point)},o=(d,f)=>{const{drag:m,dragPropagation:p,onDragStart:w}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=xk(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(S=>{let b=this.getAxisMotionValue(S).get()||0;if(Ps.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[S];_&&(b=jr(_)*(parseFloat(b)/100))}}this.originPoint[S]=b}),w&&Tt.update(()=>w(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:w,onDrag:y}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:S}=f;if(p&&this.currentDirection===null){this.currentDirection=p6(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),y&&y(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Ar(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Jk(e,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:oI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Tt.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!vh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=t6(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&dl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=n6(s.layoutBox,n):this.constraints=!1,this.elastic=a6(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ar(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=o6(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=h6(r,s.root,this.visualElement.getTransformPagePoint());let i=r6(s.layout.layoutBox,o);if(n){const l=n(i6(i));this.hasMutatedConstraints=!!l,l&&(i=tI(l))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ar(d=>{if(!vh(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Ky(e,r,0,n))}stopAnimation(){Ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ar(n=>{const{drag:r}=this.getProps();if(!vh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(e[n]-Ft(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ar(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=s6({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ar(i=>{if(!vh(i,e,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Ft(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;f6.set(this.visualElement,this);const e=this.visualElement.current,n=ro(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();dl(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=Xs(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ar(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=P0,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function p6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class g6 extends Ea{constructor(e){super(e),this.removeGroupControls=Wt,this.removeListeners=Wt,this.controls=new m6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const gS=t=>(e,n)=>{t&&Tt.update(()=>t(e,n))};class v6 extends Ea{constructor(){super(...arguments),this.removePointerDownListener=Wt}onPointerDown(e){this.session=new Jk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:gS(e),onStart:gS(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&Tt.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=ro(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function x6(){const t=g.useContext(Gm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=g.useId();return g.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const n=vS(t,e.target.x),r=vS(t,e.target.y);return`${n}% ${r}%`}},y6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ha.parse(t);if(s.length>5)return r;const o=ha.createTransformer(t),i=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+i]/=l,s[1+i]/=c;const u=Ft(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class w6 extends Le.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;j3(b6),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Tt.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aI(t){const[e,n]=x6(),r=g.useContext(Dy);return Le.createElement(w6,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(tk),isPresent:e,safeToRemove:n})}const b6={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:y6},iI=["TopLeft","TopRight","BottomLeft","BottomRight"],_6=iI.length,xS=t=>typeof t=="string"?parseFloat(t):t,yS=t=>typeof t=="number"||Ue.test(t);function S6(t,e,n,r,s,o){s?(t.opacity=Ft(0,n.opacity!==void 0?n.opacity:1,C6(r)),t.opacityExit=Ft(e.opacity!==void 0?e.opacity:1,0,E6(r))):o&&(t.opacity=Ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<_6;i++){const l=`border${iI[i]}Radius`;let c=wS(e,l),u=wS(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||yS(c)===yS(u)?(t[l]=Math.max(Ft(xS(c),xS(u),r),0),(Ps.test(u)||Ps.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Ft(e.rotate||0,n.rotate||0,r))}function wS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const C6=lI(0,.5,Ik),E6=lI(.5,.95,Wt);function lI(t,e,n){return r=>r<t?0:r>e?1:n(Wu(t,e,r))}function bS(t,e){t.min=e.min,t.max=e.max}function Ir(t,e){bS(t.x,e.x),bS(t.y,e.y)}function _S(t,e,n,r,s){return t-=e,t=Hf(t,1/n,r),s!==void 0&&(t=Hf(t,1/s,r)),t}function T6(t,e=0,n=1,r=.5,s,o=t,i=t){if(Ps.test(e)&&(e=parseFloat(e),e=Ft(i.min,i.max,e/100)-i.min),typeof e!="number")return;let l=Ft(o.min,o.max,r);t===o&&(l-=e),t.min=_S(t.min,e,n,l,s),t.max=_S(t.max,e,n,l,s)}function SS(t,e,[n,r,s],o,i){T6(t,e[n],e[r],e[s],e.scale,o,i)}const j6=["x","scaleX","originX"],N6=["y","scaleY","originY"];function CS(t,e,n,r){SS(t.x,e,j6,n?n.x:void 0,r?r.x:void 0),SS(t.y,e,N6,n?n.y:void 0,r?r.y:void 0)}function ES(t){return t.translate===0&&t.scale===1}function cI(t){return ES(t.x)&&ES(t.y)}function k6(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function uI(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function TS(t){return jr(t.x)/jr(t.y)}class I6{constructor(){this.members=[]}add(e){Yy(this.members,e),e.scheduleRender()}remove(e){if(Qy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jS(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=t.x.scale*e.x,l=t.y.scale*e.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const P6=(t,e)=>t.depth-e.depth;class A6{constructor(){this.children=[],this.isDirty=!1}add(e){Yy(this.children,e),this.isDirty=!0}remove(e){Qy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(P6),this.isDirty=!1,this.children.forEach(e)}}function R6(t,e){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(ho(r),t(o-e))};return Tt.read(r,!0),()=>ho(r)}function D6(t){window.MotionDebug&&window.MotionDebug.record(t)}function M6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function O6(t,e,n){const r=hr(t)?t:Fl(t);return r.start(Ky("",r,e,n)),r.animation}const NS=["","X","Y","Z"],L6={visibility:"hidden"},kS=1e3;let F6=0;const Ba={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function dI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=e==null?void 0:e()){this.id=F6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ba.totalNodes=Ba.resolvedTargetDeltas=Ba.recalculatedProjection=0,this.nodes.forEach(z6),this.nodes.forEach(H6),this.nodes.forEach(G6),this.nodes.forEach($6),D6(Ba)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new A6)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Zy),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=M6(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=R6(m,250),Qh.hasAnimatedSinceResize&&(Qh.hasAnimatedSinceResize=!1,this.nodes.forEach(PS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||X6,{onLayoutAnimationStart:S,onLayoutAnimationComplete:b}=d.getProps(),x=!this.targetLayout||!uI(this.targetLayout,w)||p,_=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const A={...Gy(y,"layout"),onPlay:S,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else m||PS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ho(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K6),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IS);return}this.isUpdating||this.nodes.forEach(q6),this.isUpdating=!1,this.nodes.forEach(W6),this.nodes.forEach(V6),this.nodes.forEach(U6),this.clearAllSnapshots();const l=performance.now();Mn.delta=da(0,1e3/60,l-Mn.timestamp),Mn.timestamp=l,Mn.isProcessing=!0,jg.update.process(Mn),jg.preRender.process(Mn),jg.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(B6),this.sharedNodes.forEach(Y6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!cI(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||$a(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),J6(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Qt();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(Oo(l.x,c.offset.x),Oo(l.y,c.offset.y)),l}removeElementScroll(i){const l=Qt();Ir(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Ir(l,i);const{scroll:m}=this.root;m&&(Oo(l.x,-m.offset.x),Oo(l.y,-m.offset.y))}Oo(l.x,d.offset.x),Oo(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=Qt();Ir(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ml(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$a(d.latestValues)&&ml(c,d.latestValues)}return $a(this.latestValues)&&ml(c,this.latestValues),c}removeTransform(i){const l=Qt();Ir(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!$a(u.latestValues))continue;A0(u.latestValues)&&u.updateSnapshot();const d=Qt(),f=u.measurePageBox();Ir(d,f),CS(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return $a(this.latestValues)&&CS(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Mn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),xu(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ir(this.target,this.layout.layoutBox),rI(this.target,this.targetDelta)):Ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),xu(this.relativeTargetOrigin,this.target,p.target),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ba.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||A0(this.parent.latestValues)||nI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ir(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;c6(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:w}=l;if(!w){this.projectionTransform&&(this.projectionDelta=fl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=fl(),this.projectionDeltaWithTransform=fl());const y=this.projectionTransform;vu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=jS(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Ba.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Qt(),p=c?c.source:void 0,w=this.layout?this.layout.source:void 0,y=p!==w,S=this.getStack(),b=!S||S.members.length<=1,x=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(Z6));this.animationProgress=0;let _;this.mixTargetDelta=A=>{const D=A/1e3;AS(f.x,i.x,D),AS(f.y,i.y,D),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xu(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q6(this.relativeTarget,this.relativeTargetOrigin,m,D),_&&k6(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Qt()),Ir(_,this.relativeTarget)),y&&(this.animationValues=d,S6(d,u,this.latestValues,D,x,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ho(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{Qh.hasAnimatedSinceResize=!0,this.currentAnimation=O6(0,kS,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&hI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Qt();const f=jr(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const m=jr(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+m}Ir(l,c),ml(l,d),vu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new I6),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<NS.length;d++){const f="rotate"+NS[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return L6;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Yh(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Yh(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!$a(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=jS(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:w}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in Vf){if(m[y]===void 0)continue;const{correct:S,applyTo:b}=Vf[y],x=u.transform==="none"?m[y]:S(m[y],f);if(b){const _=b.length;for(let A=0;A<_;A++)u[b[A]]=x}else u[y]=x}return this.options.layoutId&&(u.pointerEvents=f===this?Yh(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(IS),this.root.sharedNodes.clear()}}}function V6(t){t.updateLayout()}function U6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,i=n.source!==t.layout.source;o==="size"?Ar(f=>{const m=i?n.measuredBox[f]:n.layoutBox[f],p=jr(m);m.min=r[f].min,m.max=m.min+p}):hI(o,n.layoutBox,r)&&Ar(f=>{const m=i?n.measuredBox[f]:n.layoutBox[f],p=jr(r[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const l=fl();vu(l,r,n.layoutBox);const c=fl();i?vu(c,t.applyTransform(s,!0),n.measuredBox):vu(c,r,n.layoutBox);const u=!cI(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const w=Qt();xu(w,n.layoutBox,m.layoutBox);const y=Qt();xu(y,r,p.layoutBox),uI(w,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function z6(t){Ba.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function B6(t){t.clearSnapshot()}function IS(t){t.clearMeasurements()}function q6(t){t.isLayoutDirty=!1}function W6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H6(t){t.resolveTargetDelta()}function G6(t){t.calcProjection()}function K6(t){t.resetRotation()}function Y6(t){t.removeLeadSnapshot()}function AS(t,e,n){t.translate=Ft(e.translate,0,n),t.scale=Ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function RS(t,e,n,r){t.min=Ft(e.min,n.min,r),t.max=Ft(e.max,n.max,r)}function Q6(t,e,n,r){RS(t.x,e.x,n.x,r),RS(t.y,e.y,n.y,r)}function Z6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const X6={duration:.45,ease:[.4,0,.1,1]},DS=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),MS=DS("applewebkit/")&&!DS("chrome/")?Math.round:Wt;function OS(t){t.min=MS(t.min),t.max=MS(t.max)}function J6(t){OS(t.x),OS(t.y)}function hI(t,e,n){return t==="position"||t==="preserve-aspect"&&!I0(TS(e),TS(n),.2)}const e5=dI({attachResizeListener:(t,e)=>Xs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fg={current:void 0},fI=dI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fg.current){const t=new e5({});t.mount(window),t.setOptions({layoutScroll:!0}),Fg.current=t}return Fg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),t5={pan:{Feature:v6},drag:{Feature:g6,ProjectionNode:fI,MeasureLayout:aI}},n5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function r5(t){const e=n5.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function D0(t,e,n=1){const[r,s]=r5(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return Yk(i)?parseFloat(i):i}else return S0(s)?D0(s,e,n+1):s}function s5(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const o=s.get();if(!S0(o))return;const i=D0(o,r);i&&s.set(i)});for(const s in e){const o=e[s];if(!S0(o))continue;const i=D0(o,r);i&&(e[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:e,transitionEnd:n}}const o5=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),mI=t=>o5.has(t),a5=t=>Object.keys(t).some(mI),LS=t=>t===Ri||t===Ue,FS=(t,e)=>parseFloat(t.split(", ")[e]),VS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return FS(s[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?FS(o[1],t):0}},i5=new Set(["x","y","z"]),l5=pd.filter(t=>!i5.has(t));function c5(t){const e=[];return l5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Vl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:VS(4,13),y:VS(5,14)};Vl.translateX=Vl.x;Vl.translateY=Vl.y;const u5=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=Vl[u](r,o)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=Vl[u](c,o)}),t},d5=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(mI);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],f=$c(d);const m=e[c];let p;if(zf(m)){const w=m.length,y=m[0]===null?1:0;d=m[y],f=$c(d);for(let S=y;S<w&&m[S]!==null;S++)p?$y($c(m[S])===p):p=$c(m[S])}else p=$c(m);if(f!==p)if(LS(f)&&LS(p)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&p===Ue&&(e[c]=m.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||m===0)?d===0?u.set(p.transform(d)):e[c]=f.transform(m):(i||(o=c5(t),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=u5(e,t,l);return o.length&&o.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),Km&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function h5(t,e,n,r){return a5(e)?d5(t,e,n,r):{target:e,transitionEnd:r}}const f5=(t,e,n,r)=>{const s=s5(t,e,r);return e=s.target,r=s.transitionEnd,h5(t,e,n,r)},M0={current:null},pI={current:!1};function m5(){if(pI.current=!0,!!Km)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>M0.current=t.matches;t.addListener(e),e()}else M0.current=!1}function p5(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],i=n[s];if(hr(o))t.addValue(s,o),Wf(r)&&r.add(s);else if(hr(i))t.addValue(s,Fl(o,{owner:t})),Wf(r)&&r.remove(s);else if(i!==o)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(s);t.addValue(s,Fl(l!==void 0?l:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const US=new WeakMap,gI=Object.keys(qu),g5=gI.length,zS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],v5=Ry.length;class x5{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Tt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Qm(n),this.isVariantNode=ek(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const m=d[f];l[f]!==void 0&&hr(m)&&(m.set(l[f],!1),Wf(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,US.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),pI.current||m5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:M0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){US.delete(this.current),this.projection&&this.projection.unmount(),ho(this.notifyUpdate),ho(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ai.has(e),s=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&Tt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,o){let i,l;for(let c=0;c<g5;c++){const u=gI[c],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:p}=qu[u];m&&(i=m),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&dl(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:p})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zS.length;r++){const s=zS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=e["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=p5(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<v5;r++){const s=Ry[r],o=this.props[s];(Bu(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fl(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=zy(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!hr(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vI extends x5{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},o){let i=MV(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){RV(this,r,i);const l=f5(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function y5(t){return window.getComputedStyle(t)}class w5 extends vI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ai.has(n)){const r=Hy(n);return r&&r.default||0}else{const r=y5(e),s=(sk(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sI(e,n)}build(e,n,r,s){Oy(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Uy(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){uk(e,n,r,s)}}class b5 extends vI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ai.has(n)){const r=Hy(n);return r&&r.default||0}return n=dk.has(n)?n:Py(n),e.getAttribute(n)}measureInstanceViewportBox(){return Qt()}scrapeMotionValuesFromProps(e,n){return fk(e,n)}build(e,n,r,s){Fy(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){hk(e,n,r,s)}mount(e){this.isSVGTag=Vy(e.tagName),super.mount(e)}}const _5=(t,e)=>My(t)?new b5(e,{enableHardwareAcceleration:!1}):new w5(e,{enableHardwareAcceleration:!0}),S5={layout:{ProjectionNode:fI,MeasureLayout:aI}},C5={...QV,...gF,...t5,...S5},Te=E3((t,e)=>rF(t,e,C5,_5));function xI(){const t=g.useRef(!1);return Iy(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function E5(){const t=xI(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>Tt.postRender(r),[r]),e]}class T5 extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j5({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(e||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),g.createElement(T5,{isPresent:e,childRef:r,sizeRef:s},g.cloneElement(t,{ref:r}))}const Vg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=mk(N5),c=g.useId(),u=g.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return g.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(t=g.createElement(j5,{isPresent:n},t)),g.createElement(Gm.Provider,{value:u},t)};function N5(){return new Map}function k5(t){return g.useEffect(()=>()=>t(),[])}const qa=t=>t.key||"";function I5(t,e){t.forEach(n=>{const r=qa(n);e.set(r,n)})}function P5(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const Gf=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=g.useContext(Dy).forceRender||E5()[0],c=xI(),u=P5(t);let d=u;const f=g.useRef(new Map).current,m=g.useRef(d),p=g.useRef(new Map).current,w=g.useRef(!0);if(Iy(()=>{w.current=!1,I5(u,p),m.current=d}),k5(()=>{w.current=!0,p.clear(),f.clear()}),w.current)return g.createElement(g.Fragment,null,d.map(x=>g.createElement(Vg,{key:qa(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},x)));d=[...d];const y=m.current.map(qa),S=u.map(qa),b=y.length;for(let x=0;x<b;x++){const _=y[x];S.indexOf(_)===-1&&!f.has(_)&&f.set(_,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((x,_)=>{if(S.indexOf(_)!==-1)return;const A=p.get(_);if(!A)return;const D=y.indexOf(_);let F=x;if(!F){const C=()=>{f.delete(_);const E=Array.from(p.keys()).filter(P=>!S.includes(P));if(E.forEach(P=>p.delete(P)),m.current=u.filter(P=>{const I=qa(P);return I===_||E.includes(I)}),!f.size){if(c.current===!1)return;l(),r&&r()}};F=g.createElement(Vg,{key:qa(A),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:o,mode:i},A),f.set(_,F)}d.splice(D,0,F)}),d=d.map(x=>{const _=x.key;return f.has(_)?x:g.createElement(Vg,{key:qa(x),isPresent:!0,presenceAffectsLayout:o,mode:i},x)}),g.createElement(g.Fragment,null,f.size?d:d.map(x=>g.cloneElement(x)))};var A5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const R5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pe=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},u)=>g.createElement("svg",{ref:u,...A5,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${R5(t)}`,...c},[...e.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},O0=pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Fr=pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),D5=pe("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),$S=pe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),M5=pe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),O5=pe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),BS=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),L5=pe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),Ug=pe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),F5=pe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),V5=pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),As=pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),zg=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),xh=pe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Es=pe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Kf=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),pi=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),U5=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),yI=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),wI=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),z5=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$5=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Lo=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),yh=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),L0=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Yf=pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Yn=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ul=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Sl=pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),B5=pe("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Sr=pe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Xy=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),bI=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),q5=pe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),qS=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),_I=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),WS=pe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),W5=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),HS=pe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),F0=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),GS=pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),oi=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Qf=pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),H5=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),G5=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),K5=pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Y5=pe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Q5=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Qn=pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),$g=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),ls=pe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),ai=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Bg=pe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),KS=pe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Vn=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Hu=pe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),wh=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),SI=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),CI=pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Mr=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ra=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),zl=pe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),es=pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Zh=pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Z5=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Cl=pe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Jc=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),YS=pe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),cs=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Xa=pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Kn=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),X5=pe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Jy=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),J5=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),eu=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),e9=pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Vr=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),os=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),t9=pe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),n9=pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),r9=pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Cr=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Gu=pe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function EI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=EI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function TI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=EI(t))&&(r&&(r+=" "),r+=e);return r}function s9(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=jI(e))&&(r&&(r+=" "),r+=n);return r}function jI(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=jI(t[r]))&&(n&&(n+=" "),n+=e);return n}var ew="-";function o9(t){var e=i9(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(ew);return c[0]===""&&c.length!==1&&c.shift(),NI(c,e)||a9(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function NI(t,e){var i;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?NI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var o=t.join(ew);return(i=e.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var QS=/^\[(.+)\]$/;function a9(t){if(QS.test(t)){var e=QS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function i9(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=c9(Object.entries(t.classGroups),n);return s.forEach(function(o){var i=o[0],l=o[1];V0(l,r,i,e)}),r}function V0(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var o=s===""?e:ZS(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(l9(s)){V0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];V0(c,ZS(e,l),n,r)})})}function ZS(t,e){var n=t;return e.split(ew).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function l9(t){return t.isThemeGetter}function c9(t,e){return e?t.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[e+c,u]})):i});return[r,o]}):t}function u9(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var kI="!";function d9(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(i){for(var l=[],c=0,u=0,d,f=0;f<i.length;f++){var m=i[f];if(c===0){if(m===r&&(n||i.slice(f,f+s)===e)){l.push(i.slice(u,f)),u=f+s;continue}if(m==="/"){d=f;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?i:i.substring(u),w=p.startsWith(kI),y=w?p.substring(1):p,S=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:S}}}function h9(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function f9(t){return{cache:u9(t.cacheSize),splitModifiers:d9(t),...o9(t)}}var m9=/\s+/;function p9(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(m9).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,m=r(f?d.substring(0,f):d),p=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:i};if(m=r(d),!m)return{isTailwindClass:!1,originalClassName:i};p=!1}var w=h9(c).join(":"),y=u?w+kI:w;return{isTailwindClass:!0,modifierId:y,classGroupId:m,originalClassName:i,hasPostfixModifier:p}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function g9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,o,i=l;function l(u){var d=e[0],f=e.slice(1),m=f.reduce(function(p,w){return w(p)},d());return r=f9(m),s=r.cache.get,o=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=p9(u,r);return o(u,f),f}return function(){return i(s9.apply(null,arguments))}}function kt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var II=/^\[(?:([a-z-]+):)?(.+)\]$/i,v9=/^\d+\/\d+$/,x9=new Set(["px","full","screen"]),y9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b9=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Yr(t){return Ja(t)||x9.has(t)||v9.test(t)||U0(t)}function U0(t){return Di(t,"length",j9)}function _9(t){return Di(t,"size",PI)}function S9(t){return Di(t,"position",PI)}function C9(t){return Di(t,"url",N9)}function bh(t){return Di(t,"number",Ja)}function Ja(t){return!Number.isNaN(Number(t))}function E9(t){return t.endsWith("%")&&Ja(t.slice(0,-1))}function qc(t){return XS(t)||Di(t,"number",XS)}function it(t){return II.test(t)}function Wc(){return!0}function ko(t){return y9.test(t)}function T9(t){return Di(t,"",k9)}function Di(t,e,n){var r=II.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function j9(t){return w9.test(t)}function PI(){return!1}function N9(t){return t.startsWith("url(")}function XS(t){return Number.isInteger(Number(t))}function k9(t){return b9.test(t)}function I9(){var t=kt("colors"),e=kt("spacing"),n=kt("blur"),r=kt("brightness"),s=kt("borderColor"),o=kt("borderRadius"),i=kt("borderSpacing"),l=kt("borderWidth"),c=kt("contrast"),u=kt("grayscale"),d=kt("hueRotate"),f=kt("invert"),m=kt("gap"),p=kt("gradientColorStops"),w=kt("gradientColorStopPositions"),y=kt("inset"),S=kt("margin"),b=kt("opacity"),x=kt("padding"),_=kt("saturate"),A=kt("scale"),D=kt("sepia"),F=kt("skew"),C=kt("space"),E=kt("translate"),P=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},N=function(){return["auto",it,e]},j=function(){return[it,e]},k=function(){return["",Yr]},V=function(){return["auto",Ja,it]},L=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},G=function(){return["solid","dashed","dotted","double","none"]},B=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},O=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",it]},Z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Y=function(){return[Ja,bh]},de=function(){return[Ja,it]};return{cacheSize:500,theme:{colors:[Wc],spacing:[Yr],blur:["none","",ko,it],brightness:Y(),borderColor:[t],borderRadius:["none","","full",ko,it],borderSpacing:j(),borderWidth:k(),contrast:Y(),grayscale:z(),hueRotate:de(),invert:z(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[E9,U0],inset:N(),margin:N(),opacity:Y(),padding:j(),saturate:Y(),scale:Y(),sepia:z(),skew:de(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[ko]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(L(),[it])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qc]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",qc]}],"grid-cols":[{"grid-cols":[Wc]}],"col-start-end":[{col:["auto",{span:["full",qc]},it]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Wc]}],"row-start-end":[{row:["auto",{span:[qc]},it]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(O())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(O(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(O(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",it,e]}],"min-w":[{"min-w":["min","max","fit",it,Yr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ko]},ko,it]}],h:[{h:[it,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",it,Yr]}],"max-h":[{"max-h":[it,e,"min","max","fit"]}],"font-size":[{text:["base",ko,U0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bh]}],"font-family":[{font:[Wc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",Ja,bh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",it,Yr]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(G(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr]}],"underline-offset":[{"underline-offset":["auto",it,Yr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(L(),[S9])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},C9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(G(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(G())}],"outline-offset":[{"outline-offset":[it,Yr]}],"outline-w":[{outline:[Yr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Yr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ko,T9]}],"shadow-color":[{shadow:[Wc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ko,it]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[qc,it]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yr,bh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var P9=g9(I9);function Xe(...t){return P9(TI(t))}function JS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function AI(...t){return e=>{let n=!1;const r=t.map(s=>{const o=JS(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():JS(t[s],null)}}}}function _t(...t){return g.useCallback(AI(...t),t)}function gi(t){const e=R9(t),n=g.forwardRef((r,s)=>{const{children:o,...i}=r,l=g.Children.toArray(o),c=l.find(M9);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...i,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var A9=gi("Slot");function R9(t){const e=g.forwardRef((n,r)=>{const{children:s,...o}=n;if(g.isValidElement(s)){const i=L9(s),l=O9(o,s.props);return s.type!==g.Fragment&&(l.ref=r?AI(r,i):i),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RI=Symbol("radix.slottable");function D9(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=RI,e}function M9(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RI}function O9(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function L9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const eC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tC=TI,ep=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return tC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const m=eC(d)||eC(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(w=>{let[y,S]=w;return Array.isArray(S)?S.includes({...o,...l}[y]):{...o,...l}[y]===S})?[...u,f,m]:u},[]);return tC(t,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},F9=ep("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=Le.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?A9:"button";return a.jsx(i,{className:Xe(F9({variant:e,size:n,className:t})),ref:o,...s})});Q.displayName="Button";function Ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function V9(t,e){const n=g.createContext(e),r=o=>{const{children:i,...l}=o,c=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=t+"Provider";function s(o){const i=g.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function qs(t,e=[]){let n=[];function r(o,i){const l=g.createContext(i),c=n.length;n=[...n,i];const u=f=>{var b;const{scope:m,children:p,...w}=f,y=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,S=g.useMemo(()=>w,Object.values(w));return a.jsx(y.Provider,{value:S,children:p})};u.displayName=o+"Provider";function d(f,m){var y;const p=((y=m==null?void 0:m[t])==null?void 0:y[c])||l,w=g.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,U9(s,...e)]}function U9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function tw(t){const e=t+"CollectionProvider",[n,r]=qs(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:S,children:b}=y,x=Le.useRef(null),_=Le.useRef(new Map).current;return a.jsx(s,{scope:S,itemMap:_,collectionRef:x,children:b})};i.displayName=e;const l=t+"CollectionSlot",c=gi(l),u=Le.forwardRef((y,S)=>{const{scope:b,children:x}=y,_=o(l,b),A=_t(S,_.collectionRef);return a.jsx(c,{ref:A,children:x})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=gi(d),p=Le.forwardRef((y,S)=>{const{scope:b,children:x,..._}=y,A=Le.useRef(null),D=_t(S,A),F=o(d,b);return Le.useEffect(()=>(F.itemMap.set(A,{ref:A,..._}),()=>void F.itemMap.delete(A))),a.jsx(m,{[f]:"",ref:D,children:x})});p.displayName=d;function w(y){const S=o(t+"CollectionConsumer",y);return Le.useCallback(()=>{const x=S.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((F,C)=>_.indexOf(F.ref.current)-_.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},w,r]}var z9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=z9.reduce((t,e)=>{const n=gi(`Primitive.${e}`),r=g.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function DI(t,e){t&&Pi.flushSync(()=>t.dispatchEvent(e))}function qr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $9(t,e=globalThis==null?void 0:globalThis.document){const n=qr(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var B9="DismissableLayer",z0="dismissableLayer.update",q9="dismissableLayer.pointerDownOutside",W9="dismissableLayer.focusOutside",nC,MI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ic=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=t,u=g.useContext(MI),[d,f]=g.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),w=_t(e,C=>f(C)),y=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(S),x=d?y.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,A=x>=b,D=G9(C=>{const E=C.target,P=[...u.branches].some(I=>I.contains(E));!A||P||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),F=K9(C=>{const E=C.target;[...u.branches].some(I=>I.contains(E))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return $9(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(nC=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),rC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=nC)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),rC())},[d,u]),g.useEffect(()=>{const C=()=>p({});return document.addEventListener(z0,C),()=>document.removeEventListener(z0,C)},[]),a.jsx(Qe.div,{...c,ref:w,style:{pointerEvents:_?A?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,D.onPointerDownCapture)})});ic.displayName=B9;var H9="DismissableLayerBranch",OI=g.forwardRef((t,e)=>{const n=g.useContext(MI),r=g.useRef(null),s=_t(e,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(Qe.div,{...t,ref:s})});OI.displayName=H9;function G9(t,e=globalThis==null?void 0:globalThis.document){const n=qr(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){LI(q9,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function K9(t,e=globalThis==null?void 0:globalThis.document){const n=qr(t),r=g.useRef(!1);return g.useEffect(()=>{const s=o=>{o.target&&!r.current&&LI(W9,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rC(){const t=new CustomEvent(z0);document.dispatchEvent(t)}function LI(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?DI(s,o):s.dispatchEvent(o)}var Y9=ic,Q9=OI,kn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Z9="Portal",yd=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,o]=g.useState(!1);kn(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?bL.createPortal(a.jsx(Qe.div,{...r,ref:e}),i):null});yd.displayName=Z9;function X9(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var bo=t=>{const{present:e,children:n}=t,r=J9(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=_t(r.ref,eU(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};bo.displayName="Presence";function J9(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),o=g.useRef("none"),i=t?"mounted":"unmounted",[l,c]=X9(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=_h(r.current);o.current=l==="mounted"?u:"none"},[l]),kn(()=>{const u=r.current,d=s.current;if(d!==t){const m=o.current,p=_h(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),kn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const y=_h(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&y&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},m=p=>{p.target===e&&(o.current=_h(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function _h(t){return(t==null?void 0:t.animationName)||"none"}function eU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tU=UT[" useInsertionEffect ".trim().toString()]||kn;function vi({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=nU({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=g.useCallback(d=>{var f;if(l){const m=rU(d)?d(t):d;m!==t&&((f=i.current)==null||f.call(i,m))}else o(d)},[l,t,o,i]);return[c,u]}function nU({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),o=g.useRef(e);return tU(()=>{o.current=e},[e]),g.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function rU(t){return typeof t=="function"}var FI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sU="VisuallyHidden",tp=g.forwardRef((t,e)=>a.jsx(Qe.span,{...t,ref:e,style:{...FI,...t.style}}));tp.displayName=sU;var oU=tp,nw="ToastProvider",[rw,aU,iU]=tw("Toast"),[VI,oee]=qs("Toast",[iU]),[lU,np]=VI(nw),UI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),m=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${nw}\`. Expected non-empty \`string\`.`),a.jsx(rw.Provider,{scope:e,children:a.jsx(lU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};UI.displayName=nw;var zI="ToastViewport",cU=["F8"],$0="toast.viewportPause",B0="toast.viewportResume",$I=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=cU,label:s="Notifications ({hotkey})",...o}=t,i=np(zI,n),l=aU(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),m=_t(e,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;g.useEffect(()=>{const S=b=>{var _;r.length!==0&&r.every(A=>b[A]||b.code===A)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=c.current,b=f.current;if(w&&S&&b){const x=()=>{if(!i.isClosePausedRef.current){const F=new CustomEvent($0);b.dispatchEvent(F),i.isClosePausedRef.current=!0}},_=()=>{if(i.isClosePausedRef.current){const F=new CustomEvent(B0);b.dispatchEvent(F),i.isClosePausedRef.current=!1}},A=F=>{!S.contains(F.relatedTarget)&&_()},D=()=>{S.contains(document.activeElement)||_()};return S.addEventListener("focusin",x),S.addEventListener("focusout",A),S.addEventListener("pointermove",x),S.addEventListener("pointerleave",D),window.addEventListener("blur",x),window.addEventListener("focus",_),()=>{S.removeEventListener("focusin",x),S.removeEventListener("focusout",A),S.removeEventListener("pointermove",x),S.removeEventListener("pointerleave",D),window.removeEventListener("blur",x),window.removeEventListener("focus",_)}}},[w,i.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:S})=>{const x=l().map(_=>{const A=_.ref.current,D=[A,..._U(A)];return S==="forwards"?D:D.reverse()});return(S==="forwards"?x.reverse():x).flat()},[l]);return g.useEffect(()=>{const S=f.current;if(S){const b=x=>{var D,F,C;const _=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!_){const E=document.activeElement,P=x.shiftKey;if(x.target===S&&P){(D=u.current)==null||D.focus();return}const j=y({tabbingDirection:P?"backwards":"forwards"}),k=j.findIndex(V=>V===E);qg(j.slice(k+1))?x.preventDefault():P?(F=u.current)==null||F.focus():(C=d.current)==null||C.focus()}};return S.addEventListener("keydown",b),()=>S.removeEventListener("keydown",b)}},[l,y]),a.jsxs(Q9,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(q0,{ref:u,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"forwards"});qg(S)}}),a.jsx(rw.Slot,{scope:n,children:a.jsx(Qe.ol,{tabIndex:-1,...o,ref:m})}),w&&a.jsx(q0,{ref:d,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"backwards"});qg(S)}})]})});$I.displayName=zI;var BI="ToastFocusProxy",q0=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=np(BI,n);return a.jsx(tp,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});q0.displayName=BI;var wd="Toast",uU="toast.swipeStart",dU="toast.swipeMove",hU="toast.swipeCancel",fU="toast.swipeEnd",qI=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[l,c]=vi({prop:r,defaultProp:s??!0,onChange:o,caller:wd});return a.jsx(bo,{present:n||l,children:a.jsx(gU,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:qr(t.onPause),onResume:qr(t.onResume),onSwipeStart:Ae(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ae(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ae(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ae(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});qI.displayName=wd;var[mU,pU]=VI(wd,{onClose(){}}),gU=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...w}=t,y=np(wd,n),[S,b]=g.useState(null),x=_t(e,V=>b(V)),_=g.useRef(null),A=g.useRef(null),D=s||y.duration,F=g.useRef(0),C=g.useRef(D),E=g.useRef(0),{onToastAdd:P,onToastRemove:I}=y,N=qr(()=>{var L;(S==null?void 0:S.contains(document.activeElement))&&((L=y.viewport)==null||L.focus()),i()}),j=g.useCallback(V=>{!V||V===1/0||(window.clearTimeout(E.current),F.current=new Date().getTime(),E.current=window.setTimeout(N,V))},[N]);g.useEffect(()=>{const V=y.viewport;if(V){const L=()=>{j(C.current),u==null||u()},G=()=>{const B=new Date().getTime()-F.current;C.current=C.current-B,window.clearTimeout(E.current),c==null||c()};return V.addEventListener($0,G),V.addEventListener(B0,L),()=>{V.removeEventListener($0,G),V.removeEventListener(B0,L)}}},[y.viewport,D,c,u,j]),g.useEffect(()=>{o&&!y.isClosePausedRef.current&&j(D)},[o,D,y.isClosePausedRef,j]),g.useEffect(()=>(P(),()=>I()),[P,I]);const k=g.useMemo(()=>S?ZI(S):null,[S]);return y.viewport?a.jsxs(a.Fragment,{children:[k&&a.jsx(vU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:k}),a.jsx(mU,{scope:n,onClose:N,children:Pi.createPortal(a.jsx(rw.ItemSlot,{scope:n,children:a.jsx(Y9,{asChild:!0,onEscapeKeyDown:Ae(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||N(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Qe.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ae(t.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Ae(t.onPointerDown,V=>{V.button===0&&(_.current={x:V.clientX,y:V.clientY})}),onPointerMove:Ae(t.onPointerMove,V=>{if(!_.current)return;const L=V.clientX-_.current.x,G=V.clientY-_.current.y,B=!!A.current,O=["left","right"].includes(y.swipeDirection),z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Z=O?z(0,L):0,Y=O?0:z(0,G),de=V.pointerType==="touch"?10:2,Se={x:Z,y:Y},ye={originalEvent:V,delta:Se};B?(A.current=Se,Sh(dU,f,ye,{discrete:!1})):sC(Se,y.swipeDirection,de)?(A.current=Se,Sh(uU,d,ye,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(L)>de||Math.abs(G)>de)&&(_.current=null)}),onPointerUp:Ae(t.onPointerUp,V=>{const L=A.current,G=V.target;if(G.hasPointerCapture(V.pointerId)&&G.releasePointerCapture(V.pointerId),A.current=null,_.current=null,L){const B=V.currentTarget,O={originalEvent:V,delta:L};sC(L,y.swipeDirection,y.swipeThreshold)?Sh(fU,p,O,{discrete:!0}):Sh(hU,m,O,{discrete:!0}),B.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),vU=t=>{const{__scopeToast:e,children:n,...r}=t,s=np(wd,e),[o,i]=g.useState(!1),[l,c]=g.useState(!1);return wU(()=>i(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(yd,{asChild:!0,children:a.jsx(tp,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},xU="ToastTitle",WI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Qe.div,{...r,ref:e})});WI.displayName=xU;var yU="ToastDescription",HI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Qe.div,{...r,ref:e})});HI.displayName=yU;var GI="ToastAction",KI=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(QI,{altText:n,asChild:!0,children:a.jsx(sw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GI}\`. Expected non-empty \`string\`.`),null)});KI.displayName=GI;var YI="ToastClose",sw=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=pU(YI,n);return a.jsx(QI,{asChild:!0,children:a.jsx(Qe.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,s.onClose)})})});sw.displayName=YI;var QI=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ZI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...ZI(r))}}),e}function Sh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?DI(s,o):s.dispatchEvent(o)}var sC=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function wU(t=()=>{}){const e=qr(t);kn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function bU(t){return t.nodeType===t.ELEMENT_NODE}function _U(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var SU=UI,XI=$I,JI=qI,eP=WI,tP=HI,nP=KI,rP=sw;const CU=SU,sP=Le.forwardRef(({className:t,...e},n)=>a.jsx(XI,{ref:n,className:Xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));sP.displayName=XI.displayName;const EU=ep("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oP=Le.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(JI,{ref:r,className:Xe(EU({variant:e}),t),...n}));oP.displayName=JI.displayName;const TU=Le.forwardRef(({className:t,...e},n)=>a.jsx(nP,{ref:n,className:Xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));TU.displayName=nP.displayName;const aP=Le.forwardRef(({className:t,...e},n)=>a.jsx(rP,{ref:n,className:Xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Cr,{className:"h-4 w-4"})}));aP.displayName=rP.displayName;const iP=Le.forwardRef(({className:t,...e},n)=>a.jsx(eP,{ref:n,className:Xe("text-sm font-semibold",t),...e}));iP.displayName=eP.displayName;const lP=Le.forwardRef(({className:t,...e},n)=>a.jsx(tP,{ref:n,className:Xe("text-sm opacity-90",t),...e}));lP.displayName=tP.displayName;const jU=5;let Wg=0;function NU(){return Wg=(Wg+1)%Number.MAX_VALUE,Wg.toString()}const Hn={state:{toasts:[]},listeners:[],getState:()=>Hn.state,setState:t=>{typeof t=="function"?Hn.state=t(Hn.state):Hn.state={...Hn.state,...t},Hn.listeners.forEach(e=>e(Hn.state))},subscribe:t=>(Hn.listeners.push(t),()=>{Hn.listeners=Hn.listeners.filter(e=>e!==t)})},kU=({...t})=>{const e=NU(),n=s=>Hn.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===e?{...i,...s}:i)})),r=()=>Hn.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==e)}));return Hn.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,jU)})),{id:e,dismiss:r,update:n}};function fr(){const[t,e]=g.useState(Hn.getState());return g.useEffect(()=>Hn.subscribe(r=>{e(r)}),[]),g.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||1e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:kU,toasts:t.toasts}}function IU(){const{toasts:t}=fr();return a.jsxs(CU,{children:[t.map(({id:e,title:n,description:r,action:s,...o})=>a.jsxs(oP,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(iP,{children:n}),r&&a.jsx(lP,{children:r})]}),s,a.jsx(aP,{})]},e)),a.jsx(sP,{})]})}var PU=UT[" useId ".trim().toString()]||(()=>{}),AU=0;function oo(t){const[e,n]=g.useState(PU());return kn(()=>{t||n(r=>r??String(AU++))},[t]),t||(e?`radix-${e}`:"")}const RU=["top","right","bottom","left"],fa=Math.min,yr=Math.max,Zf=Math.round,Ch=Math.floor,Rs=t=>({x:t,y:t}),DU={left:"right",right:"left",bottom:"top",top:"bottom"},MU={start:"end",end:"start"};function W0(t,e,n){return yr(t,fa(e,n))}function fo(t,e){return typeof t=="function"?t(e):t}function mo(t){return t.split("-")[0]}function lc(t){return t.split("-")[1]}function ow(t){return t==="x"?"y":"x"}function aw(t){return t==="y"?"height":"width"}const OU=new Set(["top","bottom"]);function Ns(t){return OU.has(mo(t))?"y":"x"}function iw(t){return ow(Ns(t))}function LU(t,e,n){n===void 0&&(n=!1);const r=lc(t),s=iw(t),o=aw(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Xf(i)),[i,Xf(i)]}function FU(t){const e=Xf(t);return[H0(t),e,H0(e)]}function H0(t){return t.replace(/start|end/g,e=>MU[e])}const oC=["left","right"],aC=["right","left"],VU=["top","bottom"],UU=["bottom","top"];function zU(t,e,n){switch(t){case"top":case"bottom":return n?e?aC:oC:e?oC:aC;case"left":case"right":return e?VU:UU;default:return[]}}function $U(t,e,n,r){const s=lc(t);let o=zU(mo(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(H0)))),o}function Xf(t){return t.replace(/left|right|bottom|top/g,e=>DU[e])}function BU(t){return{top:0,right:0,bottom:0,left:0,...t}}function cP(t){return typeof t!="number"?BU(t):{top:t,right:t,bottom:t,left:t}}function Jf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function iC(t,e,n){let{reference:r,floating:s}=t;const o=Ns(e),i=iw(e),l=aw(i),c=mo(e),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(lc(e)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const qU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=iC(u,r,c),m=r,p={},w=0;for(let y=0;y<l.length;y++){const{name:S,fn:b}=l[y],{x,y:_,data:A,reset:D}=await b({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:t,floating:e}});d=x??d,f=_??f,p={...p,[S]:{...p[S],...A}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:f}=iC(u,m,c)),y=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Ku(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=fo(e,t),w=cP(p),S=l[m?f==="floating"?"reference":"floating":f],b=Jf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),A=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},D=Jf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:_,strategy:c}):x);return{top:(b.top-D.top+w.top)/A.y,bottom:(D.bottom-b.bottom+w.bottom)/A.y,left:(b.left-D.left+w.left)/A.x,right:(D.right-b.right+w.right)/A.x}}const WU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=fo(t,e)||{};if(u==null)return{};const f=cP(d),m={x:n,y:r},p=iw(s),w=aw(p),y=await i.getDimensions(u),S=p==="y",b=S?"top":"left",x=S?"bottom":"right",_=S?"clientHeight":"clientWidth",A=o.reference[w]+o.reference[p]-m[p]-o.floating[w],D=m[p]-o.reference[p],F=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=F?F[_]:0;(!C||!await(i.isElement==null?void 0:i.isElement(F)))&&(C=l.floating[_]||o.floating[w]);const E=A/2-D/2,P=C/2-y[w]/2-1,I=fa(f[b],P),N=fa(f[x],P),j=I,k=C-y[w]-N,V=C/2-y[w]/2+E,L=W0(j,V,k),G=!c.arrow&&lc(s)!=null&&V!==L&&o.reference[w]/2-(V<j?I:N)-y[w]/2<0,B=G?V<j?V-j:V-k:0;return{[p]:m[p]+B,data:{[p]:L,centerOffset:V-L-B,...G&&{alignmentOffset:B}},reset:G}}}),HU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...S}=fo(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=mo(s),x=Ns(l),_=mo(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=m||(_||!y?[Xf(l)]:FU(l)),F=w!=="none";!m&&F&&D.push(...$U(l,y,w,A));const C=[l,...D],E=await Ku(e,S),P=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&P.push(E[b]),f){const V=LU(s,i,A);P.push(E[V[0]],E[V[1]])}if(I=[...I,{placement:s,overflows:P}],!P.every(V=>V<=0)){var N,j;const V=(((N=o.flip)==null?void 0:N.index)||0)+1,L=C[V];if(L&&(!(f==="alignment"?x!==Ns(L):!1)||I.every(O=>Ns(O.placement)===x?O.overflows[0]>0:!0)))return{data:{index:V,overflows:I},reset:{placement:L}};let G=(j=I.filter(B=>B.overflows[0]<=0).sort((B,O)=>B.overflows[1]-O.overflows[1])[0])==null?void 0:j.placement;if(!G)switch(p){case"bestFit":{var k;const B=(k=I.filter(O=>{if(F){const z=Ns(O.placement);return z===x||z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(z=>z>0).reduce((z,Z)=>z+Z,0)]).sort((O,z)=>O[1]-z[1])[0])==null?void 0:k[0];B&&(G=B);break}case"initialPlacement":G=l;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function lC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cC(t){return RU.some(e=>t[e]>=0)}const GU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=fo(t,e);switch(r){case"referenceHidden":{const o=await Ku(e,{...s,elementContext:"reference"}),i=lC(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:cC(i)}}}case"escaped":{const o=await Ku(e,{...s,altBoundary:!0}),i=lC(o,n.floating);return{data:{escapedOffsets:i,escaped:cC(i)}}}default:return{}}}}},uP=new Set(["left","top"]);async function KU(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=mo(n),l=lc(n),c=Ns(n)==="y",u=uP.has(i)?-1:1,d=o&&c?-1:1,f=fo(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const YU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=e,c=await KU(e,t);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},QU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:S=>{let{x:b,y:x}=S;return{x:b,y:x}}},...c}=fo(t,e),u={x:n,y:r},d=await Ku(e,c),f=Ns(mo(s)),m=ow(f);let p=u[m],w=u[f];if(o){const S=m==="y"?"top":"left",b=m==="y"?"bottom":"right",x=p+d[S],_=p-d[b];p=W0(x,p,_)}if(i){const S=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=w+d[S],_=w-d[b];w=W0(x,w,_)}const y=l.fn({...e,[m]:p,[f]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:o,[f]:i}}}}}},ZU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=fo(t,e),d={x:n,y:r},f=Ns(s),m=ow(f);let p=d[m],w=d[f];const y=fo(l,e),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const _=m==="y"?"height":"width",A=o.reference[m]-o.floating[_]+S.mainAxis,D=o.reference[m]+o.reference[_]-S.mainAxis;p<A?p=A:p>D&&(p=D)}if(u){var b,x;const _=m==="y"?"width":"height",A=uP.has(mo(s)),D=o.reference[f]-o.floating[_]+(A&&((b=i.offset)==null?void 0:b[f])||0)+(A?0:S.crossAxis),F=o.reference[f]+o.reference[_]+(A?0:((x=i.offset)==null?void 0:x[f])||0)-(A?S.crossAxis:0);w<D?w=D:w>F&&(w=F)}return{[m]:p,[f]:w}}}},XU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:l}=e,{apply:c=()=>{},...u}=fo(t,e),d=await Ku(e,u),f=mo(s),m=lc(s),p=Ns(s)==="y",{width:w,height:y}=o.floating;let S,b;f==="top"||f==="bottom"?(S=f,b=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,S=m==="end"?"top":"bottom");const x=y-d.top-d.bottom,_=w-d.left-d.right,A=fa(y-d[S],x),D=fa(w-d[b],_),F=!e.middlewareData.shift;let C=A,E=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),F&&!m){const I=yr(d.left,0),N=yr(d.right,0),j=yr(d.top,0),k=yr(d.bottom,0);p?E=w-2*(I!==0||N!==0?I+N:yr(d.left,d.right)):C=y-2*(j!==0||k!==0?j+k:yr(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:C});const P=await i.getDimensions(l.floating);return w!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function rp(){return typeof window<"u"}function cc(t){return dP(t)?(t.nodeName||"").toLowerCase():"#document"}function Er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ws(t){var e;return(e=(dP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dP(t){return rp()?t instanceof Node||t instanceof Er(t).Node:!1}function us(t){return rp()?t instanceof Element||t instanceof Er(t).Element:!1}function zs(t){return rp()?t instanceof HTMLElement||t instanceof Er(t).HTMLElement:!1}function uC(t){return!rp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Er(t).ShadowRoot}const JU=new Set(["inline","contents"]);function bd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ds(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!JU.has(s)}const ez=new Set(["table","td","th"]);function tz(t){return ez.has(cc(t))}const nz=[":popover-open",":modal"];function sp(t){return nz.some(e=>{try{return t.matches(e)}catch{return!1}})}const rz=["transform","translate","scale","rotate","perspective"],sz=["transform","translate","scale","rotate","perspective","filter"],oz=["paint","layout","strict","content"];function lw(t){const e=cw(),n=us(t)?ds(t):t;return rz.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||sz.some(r=>(n.willChange||"").includes(r))||oz.some(r=>(n.contain||"").includes(r))}function az(t){let e=ma(t);for(;zs(e)&&!$l(e);){if(lw(e))return e;if(sp(e))return null;e=ma(e)}return null}function cw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iz=new Set(["html","body","#document"]);function $l(t){return iz.has(cc(t))}function ds(t){return Er(t).getComputedStyle(t)}function op(t){return us(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ma(t){if(cc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uC(t)&&t.host||Ws(t);return uC(e)?e.host:e}function hP(t){const e=ma(t);return $l(e)?t.ownerDocument?t.ownerDocument.body:t.body:zs(e)&&bd(e)?e:hP(e)}function Yu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=hP(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Er(s);if(o){const l=G0(i);return e.concat(i,i.visualViewport||[],bd(s)?s:[],l&&n?Yu(l):[])}return e.concat(s,Yu(s,[],n))}function G0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fP(t){const e=ds(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=zs(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,l=Zf(n)!==o||Zf(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function uw(t){return us(t)?t:t.contextElement}function El(t){const e=uw(t);if(!zs(e))return Rs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=fP(e);let i=(o?Zf(n.width):n.width)/r,l=(o?Zf(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const lz=Rs(0);function mP(t){const e=Er(t);return!cw()||!e.visualViewport?lz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Er(t)?!1:e}function xi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=uw(t);let i=Rs(1);e&&(r?us(r)&&(i=El(r)):i=El(t));const l=cz(o,n,r)?mP(o):Rs(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=Er(o),p=r&&us(r)?Er(r):r;let w=m,y=G0(w);for(;y&&r&&p!==w;){const S=El(y),b=y.getBoundingClientRect(),x=ds(y),_=b.left+(y.clientLeft+parseFloat(x.paddingLeft))*S.x,A=b.top+(y.clientTop+parseFloat(x.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,f*=S.y,c+=_,u+=A,w=Er(y),y=G0(w)}}return Jf({width:d,height:f,x:c,y:u})}function ap(t,e){const n=op(t).scrollLeft;return e?e.left+n:xi(Ws(t)).left+n}function pP(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-ap(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function uz(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=Ws(r),l=e?sp(e.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Rs(1);const d=Rs(0),f=zs(r);if((f||!f&&!o)&&((cc(r)!=="body"||bd(i))&&(c=op(r)),zs(r))){const p=xi(r);u=El(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=i&&!f&&!o?pP(i,c):Rs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function dz(t){return Array.from(t.getClientRects())}function hz(t){const e=Ws(t),n=op(t),r=t.ownerDocument.body,s=yr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=yr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+ap(t);const l=-n.scrollTop;return ds(r).direction==="rtl"&&(i+=yr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}const dC=25;function fz(t,e){const n=Er(t),r=Ws(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=cw();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=ap(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,w=Math.abs(r.clientWidth-f.clientWidth-p);w<=dC&&(o-=w)}else u<=dC&&(o+=u);return{width:o,height:i,x:l,y:c}}const mz=new Set(["absolute","fixed"]);function pz(t,e){const n=xi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=zs(t)?El(t):Rs(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function hC(t,e,n){let r;if(e==="viewport")r=fz(t,n);else if(e==="document")r=hz(Ws(t));else if(us(e))r=pz(e,n);else{const s=mP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Jf(r)}function gP(t,e){const n=ma(t);return n===e||!us(n)||$l(n)?!1:ds(n).position==="fixed"||gP(n,e)}function gz(t,e){const n=e.get(t);if(n)return n;let r=Yu(t,[],!1).filter(l=>us(l)&&cc(l)!=="body"),s=null;const o=ds(t).position==="fixed";let i=o?ma(t):t;for(;us(i)&&!$l(i);){const l=ds(i),c=lw(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&mz.has(s.position)||bd(i)&&!c&&gP(t,i))?r=r.filter(d=>d!==i):s=l,i=ma(i)}return e.set(t,r),r}function vz(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?sp(e)?[]:gz(e,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=hC(e,d,s);return u.top=yr(f.top,u.top),u.right=fa(f.right,u.right),u.bottom=fa(f.bottom,u.bottom),u.left=yr(f.left,u.left),u},hC(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xz(t){const{width:e,height:n}=fP(t);return{width:e,height:n}}function yz(t,e,n){const r=zs(e),s=Ws(e),o=n==="fixed",i=xi(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Rs(0);function u(){c.x=ap(s)}if(r||!r&&!o)if((cc(e)!=="body"||bd(s))&&(l=op(e)),r){const p=xi(e,!0,o,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?pP(s,l):Rs(0),f=i.left+l.scrollLeft-c.x-d.x,m=i.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function Hg(t){return ds(t).position==="static"}function fC(t,e){if(!zs(t)||ds(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ws(t)===n&&(n=n.ownerDocument.body),n}function vP(t,e){const n=Er(t);if(sp(t))return n;if(!zs(t)){let s=ma(t);for(;s&&!$l(s);){if(us(s)&&!Hg(s))return s;s=ma(s)}return n}let r=fC(t,e);for(;r&&tz(r)&&Hg(r);)r=fC(r,e);return r&&$l(r)&&Hg(r)&&!lw(r)?n:r||az(t)||n}const wz=async function(t){const e=this.getOffsetParent||vP,n=this.getDimensions,r=await n(t.floating);return{reference:yz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bz(t){return ds(t).direction==="rtl"}const _z={convertOffsetParentRelativeRectToViewportRelativeRect:uz,getDocumentElement:Ws,getClippingRect:vz,getOffsetParent:vP,getElementRects:wz,getClientRects:dz,getDimensions:xz,getScale:El,isElement:us,isRTL:bz};function xP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Sz(t,e){let n=null,r;const s=Ws(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||e(),!m||!p)return;const w=Ch(f),y=Ch(s.clientWidth-(d+m)),S=Ch(s.clientHeight-(f+p)),b=Ch(d),_={rootMargin:-w+"px "+-y+"px "+-S+"px "+-b+"px",threshold:yr(0,fa(1,c))||1};let A=!0;function D(F){const C=F[0].intersectionRatio;if(C!==c){if(!A)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!xP(u,t.getBoundingClientRect())&&i(),A=!1}try{n=new IntersectionObserver(D,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,_)}n.observe(t)}return i(!0),o}function Cz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=uw(t),d=s||o?[...u?Yu(u):[],...Yu(e)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const f=u&&l?Sz(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let w,y=c?xi(t):null;c&&S();function S(){const b=xi(t);y&&!xP(y,b)&&n(),y=b,w=requestAnimationFrame(S)}return n(),()=>{var b;d.forEach(x=>{s&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const Ez=YU,Tz=QU,jz=HU,Nz=XU,kz=GU,mC=WU,Iz=ZU,Pz=(t,e,n)=>{const r=new Map,s={platform:_z,...n},o={...s.platform,_c:r};return qU(t,e,{...s,platform:o})};var Az=typeof document<"u",Rz=function(){},Xh=Az?g.useLayoutEffect:Rz;function em(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!em(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!em(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function yP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pC(t,e){const n=yP(t);return Math.round(e*n)/n}function Gg(t){const e=g.useRef(t);return Xh(()=>{e.current=t}),e}function Dz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=g.useState(r);em(m,r)||p(r);const[w,y]=g.useState(null),[S,b]=g.useState(null),x=g.useCallback(O=>{O!==F.current&&(F.current=O,y(O))},[]),_=g.useCallback(O=>{O!==C.current&&(C.current=O,b(O))},[]),A=o||w,D=i||S,F=g.useRef(null),C=g.useRef(null),E=g.useRef(d),P=c!=null,I=Gg(c),N=Gg(s),j=Gg(u),k=g.useCallback(()=>{if(!F.current||!C.current)return;const O={placement:e,strategy:n,middleware:m};N.current&&(O.platform=N.current),Pz(F.current,C.current,O).then(z=>{const Z={...z,isPositioned:j.current!==!1};V.current&&!em(E.current,Z)&&(E.current=Z,Pi.flushSync(()=>{f(Z)}))})},[m,e,n,N,j]);Xh(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const V=g.useRef(!1);Xh(()=>(V.current=!0,()=>{V.current=!1}),[]),Xh(()=>{if(A&&(F.current=A),D&&(C.current=D),A&&D){if(I.current)return I.current(A,D,k);k()}},[A,D,k,I,P]);const L=g.useMemo(()=>({reference:F,floating:C,setReference:x,setFloating:_}),[x,_]),G=g.useMemo(()=>({reference:A,floating:D}),[A,D]),B=g.useMemo(()=>{const O={position:n,left:0,top:0};if(!G.floating)return O;const z=pC(G.floating,d.x),Z=pC(G.floating,d.y);return l?{...O,transform:"translate("+z+"px, "+Z+"px)",...yP(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Z}},[n,l,G.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:k,refs:L,elements:G,floatingStyles:B}),[d,k,L,G,B])}const Mz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mC({element:r.current,padding:s}).fn(n):{}:r?mC({element:r,padding:s}).fn(n):{}}}},Oz=(t,e)=>({...Ez(t),options:[t,e]}),Lz=(t,e)=>({...Tz(t),options:[t,e]}),Fz=(t,e)=>({...Iz(t),options:[t,e]}),Vz=(t,e)=>({...jz(t),options:[t,e]}),Uz=(t,e)=>({...Nz(t),options:[t,e]}),zz=(t,e)=>({...kz(t),options:[t,e]}),$z=(t,e)=>({...Mz(t),options:[t,e]});var Bz="Arrow",wP=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return a.jsx(Qe.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});wP.displayName=Bz;var qz=wP;function Wz(t){const[e,n]=g.useState(void 0);return kn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var dw="Popper",[bP,uc]=qs(dw),[Hz,_P]=bP(dw),SP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return a.jsx(Hz,{scope:e,anchor:r,onAnchorChange:s,children:n})};SP.displayName=dw;var CP="PopperAnchor",EP=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=_P(CP,n),i=g.useRef(null),l=_t(e,i),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:a.jsx(Qe.div,{...s,ref:l})});EP.displayName=CP;var hw="PopperContent",[Gz,Kz]=bP(hw),TP=g.forwardRef((t,e)=>{var fe,Me,$e,W,ce,te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...y}=t,S=_P(hw,n),[b,x]=g.useState(null),_=_t(e,Ie=>x(Ie)),[A,D]=g.useState(null),F=Wz(A),C=(F==null?void 0:F.width)??0,E=(F==null?void 0:F.height)??0,P=r+(o!=="center"?"-"+o:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],j=N.length>0,k={padding:I,boundary:N.filter(Qz),altBoundary:j},{refs:V,floatingStyles:L,placement:G,isPositioned:B,middlewareData:O}=Dz({strategy:"fixed",placement:P,whileElementsMounted:(...Ie)=>Cz(...Ie,{animationFrame:p==="always"}),elements:{reference:S.anchor},middleware:[Oz({mainAxis:s+E,alignmentAxis:i}),c&&Lz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Fz():void 0,...k}),c&&Vz({...k}),Uz({...k,apply:({elements:Ie,rects:Ke,availableWidth:at,availableHeight:$})=>{const{width:ue,height:Fe}=Ke.reference,Ne=Ie.floating.style;Ne.setProperty("--radix-popper-available-width",`${at}px`),Ne.setProperty("--radix-popper-available-height",`${$}px`),Ne.setProperty("--radix-popper-anchor-width",`${ue}px`),Ne.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),A&&$z({element:A,padding:l}),Zz({arrowWidth:C,arrowHeight:E}),m&&zz({strategy:"referenceHidden",...k})]}),[z,Z]=kP(G),Y=qr(w);kn(()=>{B&&(Y==null||Y())},[B,Y]);const de=(fe=O.arrow)==null?void 0:fe.x,Se=(Me=O.arrow)==null?void 0:Me.y,ye=(($e=O.arrow)==null?void 0:$e.centerOffset)!==0,[Ve,ke]=g.useState();return kn(()=>{b&&ke(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:B?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(W=O.transformOrigin)==null?void 0:W.x,(ce=O.transformOrigin)==null?void 0:ce.y].join(" "),...((te=O.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(Gz,{scope:n,placedSide:z,onArrowChange:D,arrowX:de,arrowY:Se,shouldHideArrow:ye,children:a.jsx(Qe.div,{"data-side":z,"data-align":Z,...y,ref:_,style:{...y.style,animation:B?void 0:"none"}})})})});TP.displayName=hw;var jP="PopperArrow",Yz={top:"bottom",right:"left",bottom:"top",left:"right"},NP=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=Kz(jP,r),i=Yz[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(qz,{...s,ref:n,style:{...s.style,display:"block"}})})});NP.displayName=jP;function Qz(t){return t!==null}var Zz=t=>({name:"transformOrigin",options:t,fn(e){var S,b,x;const{placement:n,rects:r,middlewareData:s}=e,i=((S=s.arrow)==null?void 0:S.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=kP(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let w="",y="";return u==="bottom"?(w=i?f:`${m}px`,y=`${-c}px`):u==="top"?(w=i?f:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=i?f:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,y=i?f:`${p}px`),{data:{x:w,y}}}});function kP(t){const[e,n="center"]=t.split("-");return[e,n]}var IP=SP,ip=EP,fw=TP,mw=NP,[lp,aee]=qs("Tooltip",[uc]),pw=uc(),Xz="TooltipProvider",gC="tooltip.open",[iee,PP]=lp(Xz),AP="Tooltip",[lee,cp]=lp(AP),K0="TooltipTrigger",Jz=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=cp(K0,n),o=PP(K0,n),i=pw(n),l=g.useRef(null),c=_t(e,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(ip,{asChild:!0,...i,children:a.jsx(Qe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ae(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ae(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ae(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ae(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ae(t.onBlur,s.onClose),onClick:Ae(t.onClick,s.onClose)})})});Jz.displayName=K0;var e8="TooltipPortal",[cee,t8]=lp(e8,{forceMount:void 0}),Bl="TooltipContent",RP=g.forwardRef((t,e)=>{const n=t8(Bl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=cp(Bl,t.__scopeTooltip);return a.jsx(bo,{present:r||i.open,children:i.disableHoverableContent?a.jsx(DP,{side:s,...o,ref:e}):a.jsx(n8,{side:s,...o,ref:e})})}),n8=g.forwardRef((t,e)=>{const n=cp(Bl,t.__scopeTooltip),r=PP(Bl,t.__scopeTooltip),s=g.useRef(null),o=_t(e,s),[i,l]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=g.useCallback(()=>{l(null),f(!1)},[f]),p=g.useCallback((w,y)=>{const S=w.currentTarget,b={x:w.clientX,y:w.clientY},x=i8(b,S.getBoundingClientRect()),_=l8(b,x),A=c8(y.getBoundingClientRect()),D=d8([..._,...A]);l(D),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&d){const w=S=>p(S,d),y=S=>p(S,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[c,d,p,m]),g.useEffect(()=>{if(i){const w=y=>{const S=y.target,b={x:y.clientX,y:y.clientY},x=(c==null?void 0:c.contains(S))||(d==null?void 0:d.contains(S)),_=!u8(b,i);x?m():_&&(m(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,i,u,m]),a.jsx(DP,{...t,ref:o})}),[r8,s8]=lp(AP,{isInside:!1}),o8=D9("TooltipContent"),DP=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,c=cp(Bl,n),u=pw(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(gC,d),()=>document.removeEventListener(gC,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(ic,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(fw,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(o8,{children:r}),a.jsx(r8,{scope:n,isInside:!0,children:a.jsx(oU,{id:c.contentId,role:"tooltip",children:s||r})})]})})});RP.displayName=Bl;var MP="TooltipArrow",a8=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=pw(n);return s8(MP,n).isInside?null:a.jsx(mw,{...s,...r,ref:e})});a8.displayName=MP;function i8(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function l8(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function c8(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function u8(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o],c=e[i],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function d8(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),h8(e)}function h8(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var OP=RP;const f8=Le.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(OP,{ref:r,sideOffset:e,className:Xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));f8.displayName=OP.displayName;var Kg="focusScope.autoFocusOnMount",Yg="focusScope.autoFocusOnUnmount",vC={bubbles:!1,cancelable:!0},m8="FocusScope",up=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[l,c]=g.useState(null),u=qr(s),d=qr(o),f=g.useRef(null),m=_t(e,y=>c(y)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(_){if(p.paused||!l)return;const A=_.target;l.contains(A)?f.current=A:Ro(f.current,{select:!0})},S=function(_){if(p.paused||!l)return;const A=_.relatedTarget;A!==null&&(l.contains(A)||Ro(f.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const D of _)D.removedNodes.length>0&&Ro(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),x.disconnect()}}},[r,l,p.paused]),g.useEffect(()=>{if(l){yC.add(p);const y=document.activeElement;if(!l.contains(y)){const b=new CustomEvent(Kg,vC);l.addEventListener(Kg,u),l.dispatchEvent(b),b.defaultPrevented||(p8(w8(LP(l)),{select:!0}),document.activeElement===y&&Ro(l))}return()=>{l.removeEventListener(Kg,u),setTimeout(()=>{const b=new CustomEvent(Yg,vC);l.addEventListener(Yg,d),l.dispatchEvent(b),b.defaultPrevented||Ro(y??document.body,{select:!0}),l.removeEventListener(Yg,d),yC.remove(p)},0)}}},[l,u,d,p]);const w=g.useCallback(y=>{if(!n&&!r||p.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(S&&b){const x=y.currentTarget,[_,A]=g8(x);_&&A?!y.shiftKey&&b===A?(y.preventDefault(),n&&Ro(_,{select:!0})):y.shiftKey&&b===_&&(y.preventDefault(),n&&Ro(A,{select:!0})):b===x&&y.preventDefault()}},[n,r,p.paused]);return a.jsx(Qe.div,{tabIndex:-1,...i,ref:m,onKeyDown:w})});up.displayName=m8;function p8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ro(r,{select:e}),document.activeElement!==n)return}function g8(t){const e=LP(t),n=xC(e,t),r=xC(e.reverse(),t);return[n,r]}function LP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xC(t,e){for(const n of t)if(!v8(n,{upTo:e}))return n}function v8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function x8(t){return t instanceof HTMLInputElement&&"select"in t}function Ro(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&x8(t)&&e&&t.select()}}var yC=y8();function y8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=wC(t,e),t.unshift(e)},remove(e){var n;t=wC(t,e),(n=t[0])==null||n.resume()}}}function wC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function w8(t){return t.filter(e=>e.tagName!=="A")}var Qg=0;function gw(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bC()),document.body.insertAdjacentElement("beforeend",t[1]??bC()),Qg++,()=>{Qg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qg--}},[])}function bC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ts=function(){return Ts=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ts.apply(this,arguments)};function FP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Mi(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function b8(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Jh="right-scroll-bar-position",ef="width-before-scroll-bar",_8="with-scroll-bars-hidden",S8="--removed-body-scroll-bar-size";function Zg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function C8(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var E8=typeof window<"u"?g.useLayoutEffect:g.useEffect,_C=new WeakMap;function T8(t,e){var n=C8(e||null,function(r){return t.forEach(function(s){return Zg(s,r)})});return E8(function(){var r=_C.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(l){o.has(l)||Zg(l,null)}),o.forEach(function(l){s.has(l)||Zg(l,i)})}_C.set(n,t)},[t]),n}function j8(t){return t}function N8(t,e){e===void 0&&(e=j8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function k8(t){t===void 0&&(t={});var e=N8(null);return e.options=Ts({async:!0,ssr:!1},t),e}var VP=function(t){var e=t.sideCar,n=FP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Ts({},n))};VP.isSideCarExport=!0;function I8(t,e){return t.useMedium(e),VP}var UP=k8(),Xg=function(){},dp=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Xg,onWheelCapture:Xg,onTouchMoveCapture:Xg}),s=r[0],o=r[1],i=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,p=t.noRelative,w=t.noIsolation,y=t.inert,S=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,_=t.gapMode,A=FP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,F=T8([n,e]),C=Ts(Ts({},A),s);return g.createElement(g.Fragment,null,d&&g.createElement(D,{sideCar:UP,removeScrollBar:u,shards:f,noRelative:p,noIsolation:w,inert:y,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:_}),i?g.cloneElement(g.Children.only(l),Ts(Ts({},C),{ref:F})):g.createElement(x,Ts({},C,{className:c,ref:F}),l))});dp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dp.classNames={fullWidth:ef,zeroRight:Jh};var SC,P8=function(){if(SC)return SC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=P8();return e&&t.setAttribute("nonce",e),t}function R8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function D8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var M8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=A8())&&(R8(e,n),D8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},O8=function(){var t=M8();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},zP=function(){var t=O8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},L8={left:0,top:0,right:0,gap:0},Jg=function(t){return parseInt(t||"",10)||0},F8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Jg(n),Jg(r),Jg(s)]},V8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return L8;var e=F8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},U8=zP(),Tl="data-scroll-locked",z8=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Tl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ef,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Jh," .").concat(Jh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ef," .").concat(ef,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Tl,`] {
    `).concat(S8,": ").concat(l,`px;
  }
`)},CC=function(){var t=parseInt(document.body.getAttribute(Tl)||"0",10);return isFinite(t)?t:0},$8=function(){g.useEffect(function(){return document.body.setAttribute(Tl,(CC()+1).toString()),function(){var t=CC()-1;t<=0?document.body.removeAttribute(Tl):document.body.setAttribute(Tl,t.toString())}},[])},B8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;$8();var o=g.useMemo(function(){return V8(s)},[s]);return g.createElement(U8,{styles:z8(o,!e,s,n?"":"!important")})},Y0=!1;if(typeof window<"u")try{var Eh=Object.defineProperty({},"passive",{get:function(){return Y0=!0,!0}});window.addEventListener("test",Eh,Eh),window.removeEventListener("test",Eh,Eh)}catch{Y0=!1}var Wi=Y0?{passive:!1}:!1,q8=function(t){return t.tagName==="TEXTAREA"},$P=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!q8(t)&&n[e]==="visible")},W8=function(t){return $P(t,"overflowY")},H8=function(t){return $P(t,"overflowX")},EC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=BP(t,r);if(s){var o=qP(t,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},G8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},K8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},BP=function(t,e){return t==="v"?W8(e):H8(e)},qP=function(t,e){return t==="v"?G8(e):K8(e)},Y8=function(t,e){return t==="h"&&e==="rtl"?-1:1},Q8=function(t,e,n,r,s){var o=Y8(t,window.getComputedStyle(e).direction),i=o*r,l=n.target,c=e.contains(l),u=!1,d=i>0,f=0,m=0;do{if(!l)break;var p=qP(t,l),w=p[0],y=p[1],S=p[2],b=y-S-o*w;(w||b)&&BP(t,l)&&(f+=b,m+=w);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(m)<1||!s&&-i>m))&&(u=!0),u},Th=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TC=function(t){return[t.deltaX,t.deltaY]},jC=function(t){return t&&"current"in t?t.current:t},Z8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},X8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J8=0,Hi=[];function e$(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(J8++)[0],o=g.useState(zP)[0],i=g.useRef(t);g.useEffect(function(){i.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=b8([t.lockRef.current],(t.shards||[]).map(jC),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var b=Th(y),x=n.current,_="deltaX"in y?y.deltaX:x[0]-b[0],A="deltaY"in y?y.deltaY:x[1]-b[1],D,F=y.target,C=Math.abs(_)>Math.abs(A)?"h":"v";if("touches"in y&&C==="h"&&F.type==="range")return!1;var E=EC(C,F);if(!E)return!0;if(E?D=C:(D=C==="v"?"h":"v",E=EC(C,F)),!E)return!1;if(!r.current&&"changedTouches"in y&&(_||A)&&(r.current=D),!D)return!0;var P=r.current||D;return Q8(P,S,y,P==="h"?_:A,!0)},[]),c=g.useCallback(function(y){var S=y;if(!(!Hi.length||Hi[Hi.length-1]!==o)){var b="deltaY"in S?TC(S):Th(S),x=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&Z8(D.delta,b)})[0];if(x&&x.should){S.cancelable&&S.preventDefault();return}if(!x){var _=(i.current.shards||[]).map(jC).filter(Boolean).filter(function(D){return D.contains(S.target)}),A=_.length>0?l(S,_[0]):!i.current.noIsolation;A&&S.cancelable&&S.preventDefault()}}},[]),u=g.useCallback(function(y,S,b,x){var _={name:y,delta:S,target:b,should:x,shadowParent:t$(b)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(A){return A!==_})},1)},[]),d=g.useCallback(function(y){n.current=Th(y),r.current=void 0},[]),f=g.useCallback(function(y){u(y.type,TC(y),y.target,l(y,t.lockRef.current))},[]),m=g.useCallback(function(y){u(y.type,Th(y),y.target,l(y,t.lockRef.current))},[]);g.useEffect(function(){return Hi.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Wi),document.addEventListener("touchmove",c,Wi),document.addEventListener("touchstart",d,Wi),function(){Hi=Hi.filter(function(y){return y!==o}),document.removeEventListener("wheel",c,Wi),document.removeEventListener("touchmove",c,Wi),document.removeEventListener("touchstart",d,Wi)}},[]);var p=t.removeScrollBar,w=t.inert;return g.createElement(g.Fragment,null,w?g.createElement(o,{styles:X8(s)}):null,p?g.createElement(B8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function t$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const n$=I8(UP,e$);var WP=g.forwardRef(function(t,e){return g.createElement(dp,Ts({},t,{ref:e,sideCar:n$}))});WP.classNames=dp.classNames;const vw=WP;var r$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Gi=new WeakMap,jh=new WeakMap,Nh={},ev=0,HP=function(t){return t&&(t.host||HP(t.parentNode))},s$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=HP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},o$=function(t,e,n,r){var s=s$(e,Array.isArray(t)?t:[t]);Nh[n]||(Nh[n]=new WeakMap);var o=Nh[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(r),w=p!==null&&p!=="false",y=(Gi.get(m)||0)+1,S=(o.get(m)||0)+1;Gi.set(m,y),o.set(m,S),i.push(m),y===1&&w&&jh.set(m,!0),S===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return d(e),l.clear(),ev++,function(){i.forEach(function(f){var m=Gi.get(f)-1,p=o.get(f)-1;Gi.set(f,m),o.set(f,p),m||(jh.has(f)||f.removeAttribute(r),jh.delete(f)),p||f.removeAttribute(n)}),ev--,ev||(Gi=new WeakMap,Gi=new WeakMap,jh=new WeakMap,Nh={})}},xw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||r$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),o$(r,s,n,"aria-hidden")):function(){return null}},hp="Dialog",[GP,uee]=qs(hp),[a$,ms]=GP(hp),KP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,l=g.useRef(null),c=g.useRef(null),[u,d]=vi({prop:r,defaultProp:s??!1,onChange:o,caller:hp});return a.jsx(a$,{scope:e,triggerRef:l,contentRef:c,contentId:oo(),titleId:oo(),descriptionId:oo(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};KP.displayName=hp;var YP="DialogTrigger",QP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(YP,n),o=_t(e,s.triggerRef);return a.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bw(s.open),...r,ref:o,onClick:Ae(t.onClick,s.onOpenToggle)})});QP.displayName=YP;var yw="DialogPortal",[i$,ZP]=GP(yw,{forceMount:void 0}),XP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=ms(yw,e);return a.jsx(i$,{scope:e,forceMount:n,children:g.Children.map(r,i=>a.jsx(bo,{present:n||o.open,children:a.jsx(yd,{asChild:!0,container:s,children:i})}))})};XP.displayName=yw;var tm="DialogOverlay",JP=g.forwardRef((t,e)=>{const n=ZP(tm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=ms(tm,t.__scopeDialog);return o.modal?a.jsx(bo,{present:r||o.open,children:a.jsx(c$,{...s,ref:e})}):null});JP.displayName=tm;var l$=gi("DialogOverlay.RemoveScroll"),c$=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(tm,n);return a.jsx(vw,{as:l$,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Qe.div,{"data-state":bw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),yi="DialogContent",eA=g.forwardRef((t,e)=>{const n=ZP(yi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=ms(yi,t.__scopeDialog);return a.jsx(bo,{present:r||o.open,children:o.modal?a.jsx(u$,{...s,ref:e}):a.jsx(d$,{...s,ref:e})})});eA.displayName=yi;var u$=g.forwardRef((t,e)=>{const n=ms(yi,t.__scopeDialog),r=g.useRef(null),s=_t(e,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return xw(o)},[]),a.jsx(tA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,o=>o.preventDefault())})}),d$=g.forwardRef((t,e)=>{const n=ms(yi,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(tA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),tA=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,l=ms(yi,n),c=g.useRef(null),u=_t(e,c);return gw(),a.jsxs(a.Fragment,{children:[a.jsx(up,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(ic,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":bw(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(h$,{titleId:l.titleId}),a.jsx(m$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ww="DialogTitle",nA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(ww,n);return a.jsx(Qe.h2,{id:s.titleId,...r,ref:e})});nA.displayName=ww;var rA="DialogDescription",sA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(rA,n);return a.jsx(Qe.p,{id:s.descriptionId,...r,ref:e})});sA.displayName=rA;var oA="DialogClose",aA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(oA,n);return a.jsx(Qe.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,()=>s.onOpenChange(!1))})});aA.displayName=oA;function bw(t){return t?"open":"closed"}var iA="DialogTitleWarning",[dee,lA]=V9(iA,{contentName:yi,titleName:ww,docsSlug:"dialog"}),h$=({titleId:t})=>{const e=lA(iA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},f$="DialogDescriptionWarning",m$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lA(f$).contentName}}.`;return g.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},p$=KP,g$=QP,v$=XP,cA=JP,uA=eA,dA=nA,hA=sA,x$=aA;const dn=p$,y$=g$,w$=v$,fA=Le.forwardRef(({className:t,...e},n)=>a.jsx(cA,{ref:n,className:Xe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));fA.displayName=cA.displayName;const Xt=Le.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(w$,{children:[a.jsx(fA,{}),a.jsxs(uA,{ref:r,className:Xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(x$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Cr,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xt.displayName=uA.displayName;const Jt=({className:t,...e})=>a.jsx("div",{className:Xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Jt.displayName="DialogHeader";const en=Le.forwardRef(({className:t,...e},n)=>a.jsx(dA,{ref:n,className:Xe("text-lg font-semibold leading-none tracking-tight",t),...e}));en.displayName=dA.displayName;const fp=Le.forwardRef(({className:t,...e},n)=>a.jsx(hA,{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));fp.displayName=hA.displayName;const me=Le.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:Xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));me.displayName="Input";var b$="Label",mA=g.forwardRef((t,e)=>a.jsx(Qe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mA.displayName=b$;var pA=mA;const _$=ep("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),X=Le.forwardRef(({className:t,...e},n)=>a.jsx(pA,{ref:n,className:Xe(_$(),t),...e}));X.displayName=pA.displayName;const Qu=Le.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:Xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Qu.displayName="Textarea";function NC(t,[e,n]){return Math.min(n,Math.max(e,t))}var S$=g.createContext(void 0);function _w(t){const e=g.useContext(S$);return t||e||"ltr"}function C$(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var E$=[" ","Enter","ArrowUp","ArrowDown"],T$=[" ","Enter"],wi="Select",[mp,pp,j$]=tw(wi),[dc,hee]=qs(wi,[j$,uc]),gp=uc(),[N$,Ta]=dc(wi),[k$,I$]=dc(wi),gA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:w}=t,y=gp(e),[S,b]=g.useState(null),[x,_]=g.useState(null),[A,D]=g.useState(!1),F=_w(u),[C,E]=vi({prop:r,defaultProp:s??!1,onChange:o,caller:wi}),[P,I]=vi({prop:i,defaultProp:l,onChange:c,caller:wi}),N=g.useRef(null),j=S?w||!!S.closest("form"):!0,[k,V]=g.useState(new Set),L=Array.from(k).map(G=>G.props.value).join(";");return a.jsx(IP,{...y,children:a.jsxs(N$,{required:p,scope:e,trigger:S,onTriggerChange:b,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:A,onValueNodeHasChildrenChange:D,contentId:oo(),value:P,onValueChange:I,open:C,onOpenChange:E,dir:F,triggerPointerDownPosRef:N,disabled:m,children:[a.jsx(mp.Provider,{scope:e,children:a.jsx(k$,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(G=>{V(B=>new Set(B).add(G))},[]),onNativeOptionRemove:g.useCallback(G=>{V(B=>{const O=new Set(B);return O.delete(G),O})},[]),children:n})}),j?a.jsxs(UA,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:G=>I(G.target.value),disabled:m,form:w,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(k)]},L):null]})})};gA.displayName=wi;var vA="SelectTrigger",xA=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=gp(n),i=Ta(vA,n),l=i.disabled||r,c=_t(e,i.onTriggerChange),u=pp(n),d=g.useRef("touch"),[f,m,p]=$A(y=>{const S=u().filter(_=>!_.disabled),b=S.find(_=>_.value===i.value),x=BA(S,y,b);x!==void 0&&i.onValueChange(x.value)}),w=y=>{l||(i.onOpenChange(!0),p()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(ip,{asChild:!0,...o,children:a.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":zA(i.value)?"":void 0,...s,ref:c,onClick:Ae(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:Ae(s.onPointerDown,y=>{d.current=y.pointerType;const S=y.target;S.hasPointerCapture(y.pointerId)&&S.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Ae(s.onKeyDown,y=>{const S=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(S&&y.key===" ")&&E$.includes(y.key)&&(w(),y.preventDefault())})})})});xA.displayName=vA;var yA="SelectValue",wA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=t,c=Ta(yA,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=_t(e,c.onValueNodeChange);return kn(()=>{u(d)},[u,d]),a.jsx(Qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:zA(c.value)?a.jsx(a.Fragment,{children:i}):o})});wA.displayName=yA;var P$="SelectIcon",bA=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(Qe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});bA.displayName=P$;var A$="SelectPortal",_A=t=>a.jsx(yd,{asChild:!0,...t});_A.displayName=A$;var bi="SelectContent",SA=g.forwardRef((t,e)=>{const n=Ta(bi,t.__scopeSelect),[r,s]=g.useState();if(kn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Pi.createPortal(a.jsx(CA,{scope:t.__scopeSelect,children:a.jsx(mp.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),o):null}return a.jsx(EA,{...t,ref:e})});SA.displayName=bi;var Qr=10,[CA,ja]=dc(bi),R$="SelectContentImpl",D$=gi("SelectContent.RemoveScroll"),EA=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:y,avoidCollisions:S,...b}=t,x=Ta(bi,n),[_,A]=g.useState(null),[D,F]=g.useState(null),C=_t(e,fe=>A(fe)),[E,P]=g.useState(null),[I,N]=g.useState(null),j=pp(n),[k,V]=g.useState(!1),L=g.useRef(!1);g.useEffect(()=>{if(_)return xw(_)},[_]),gw();const G=g.useCallback(fe=>{const[Me,...$e]=j().map(te=>te.ref.current),[W]=$e.slice(-1),ce=document.activeElement;for(const te of fe)if(te===ce||(te==null||te.scrollIntoView({block:"nearest"}),te===Me&&D&&(D.scrollTop=0),te===W&&D&&(D.scrollTop=D.scrollHeight),te==null||te.focus(),document.activeElement!==ce))return},[j,D]),B=g.useCallback(()=>G([E,_]),[G,E,_]);g.useEffect(()=>{k&&B()},[k,B]);const{onOpenChange:O,triggerPointerDownPosRef:z}=x;g.useEffect(()=>{if(_){let fe={x:0,y:0};const Me=W=>{var ce,te;fe={x:Math.abs(Math.round(W.pageX)-(((ce=z.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(W.pageY)-(((te=z.current)==null?void 0:te.y)??0))}},$e=W=>{fe.x<=10&&fe.y<=10?W.preventDefault():_.contains(W.target)||O(!1),document.removeEventListener("pointermove",Me),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",$e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",$e,{capture:!0})}}},[_,O,z]),g.useEffect(()=>{const fe=()=>O(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[O]);const[Z,Y]=$A(fe=>{const Me=j().filter(ce=>!ce.disabled),$e=Me.find(ce=>ce.ref.current===document.activeElement),W=BA(Me,fe,$e);W&&setTimeout(()=>W.ref.current.focus())}),de=g.useCallback((fe,Me,$e)=>{const W=!L.current&&!$e;(x.value!==void 0&&x.value===Me||W)&&(P(fe),W&&(L.current=!0))},[x.value]),Se=g.useCallback(()=>_==null?void 0:_.focus(),[_]),ye=g.useCallback((fe,Me,$e)=>{const W=!L.current&&!$e;(x.value!==void 0&&x.value===Me||W)&&N(fe)},[x.value]),Ve=r==="popper"?Q0:TA,ke=Ve===Q0?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:y,avoidCollisions:S}:{};return a.jsx(CA,{scope:n,content:_,viewport:D,onViewportChange:F,itemRefCallback:de,selectedItem:E,onItemLeave:Se,itemTextRefCallback:ye,focusSelectedItem:B,selectedItemText:I,position:r,isPositioned:k,searchRef:Z,children:a.jsx(vw,{as:D$,allowPinchZoom:!0,children:a.jsx(up,{asChild:!0,trapped:x.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:Ae(s,fe=>{var Me;(Me=x.trigger)==null||Me.focus({preventScroll:!0}),fe.preventDefault()}),children:a.jsx(ic,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(Ve,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:fe=>fe.preventDefault(),...b,...ke,onPlaced:()=>V(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ae(b.onKeyDown,fe=>{const Me=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!Me&&fe.key.length===1&&Y(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let W=j().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const ce=fe.target,te=W.indexOf(ce);W=W.slice(te+1)}setTimeout(()=>G(W)),fe.preventDefault()}})})})})})})});EA.displayName=R$;var M$="SelectItemAlignedPosition",TA=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Ta(bi,n),i=ja(bi,n),[l,c]=g.useState(null),[u,d]=g.useState(null),f=_t(e,C=>d(C)),m=pp(n),p=g.useRef(!1),w=g.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:b,focusSelectedItem:x}=i,_=g.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&y&&S&&b){const C=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(o.dir!=="rtl"){const ce=I.left-E.left,te=P.left-ce,Ie=C.left-te,Ke=C.width+Ie,at=Math.max(Ke,E.width),$=window.innerWidth-Qr,ue=NC(te,[Qr,Math.max(Qr,$-at)]);l.style.minWidth=Ke+"px",l.style.left=ue+"px"}else{const ce=E.right-I.right,te=window.innerWidth-P.right-ce,Ie=window.innerWidth-C.right-te,Ke=C.width+Ie,at=Math.max(Ke,E.width),$=window.innerWidth-Qr,ue=NC(te,[Qr,Math.max(Qr,$-at)]);l.style.minWidth=Ke+"px",l.style.right=ue+"px"}const N=m(),j=window.innerHeight-Qr*2,k=y.scrollHeight,V=window.getComputedStyle(u),L=parseInt(V.borderTopWidth,10),G=parseInt(V.paddingTop,10),B=parseInt(V.borderBottomWidth,10),O=parseInt(V.paddingBottom,10),z=L+G+k+O+B,Z=Math.min(S.offsetHeight*5,z),Y=window.getComputedStyle(y),de=parseInt(Y.paddingTop,10),Se=parseInt(Y.paddingBottom,10),ye=C.top+C.height/2-Qr,Ve=j-ye,ke=S.offsetHeight/2,fe=S.offsetTop+ke,Me=L+G+fe,$e=z-Me;if(Me<=ye){const ce=N.length>0&&S===N[N.length-1].ref.current;l.style.bottom="0px";const te=u.clientHeight-y.offsetTop-y.offsetHeight,Ie=Math.max(Ve,ke+(ce?Se:0)+te+B),Ke=Me+Ie;l.style.height=Ke+"px"}else{const ce=N.length>0&&S===N[0].ref.current;l.style.top="0px";const Ie=Math.max(ye,L+y.offsetTop+(ce?de:0)+ke)+$e;l.style.height=Ie+"px",y.scrollTop=Me-ye+y.offsetTop}l.style.margin=`${Qr}px 0`,l.style.minHeight=Z+"px",l.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,u,y,S,b,o.dir,r]);kn(()=>_(),[_]);const[A,D]=g.useState();kn(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const F=g.useCallback(C=>{C&&w.current===!0&&(_(),x==null||x(),w.current=!1)},[_,x]);return a.jsx(L$,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:F,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:a.jsx(Qe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});TA.displayName=M$;var O$="SelectPopperPosition",Q0=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qr,...o}=t,i=gp(n);return a.jsx(fw,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Q0.displayName=O$;var[L$,Sw]=dc(bi,{}),Z0="SelectViewport",jA=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=ja(Z0,n),i=Sw(Z0,n),l=_t(e,o.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(mp.Slot,{scope:n,children:a.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ae(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-Qr*2,y=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),b=Math.max(y,S);if(b<w){const x=b+p,_=Math.min(w,x),A=x-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});jA.displayName=Z0;var NA="SelectGroup",[F$,V$]=dc(NA),U$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=oo();return a.jsx(F$,{scope:n,id:s,children:a.jsx(Qe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});U$.displayName=NA;var kA="SelectLabel",IA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=V$(kA,n);return a.jsx(Qe.div,{id:s.id,...r,ref:e})});IA.displayName=kA;var nm="SelectItem",[z$,PA]=dc(nm),AA=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,l=Ta(nm,n),c=ja(nm,n),u=l.value===r,[d,f]=g.useState(o??""),[m,p]=g.useState(!1),w=_t(e,x=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,x,r,s)}),y=oo(),S=g.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(z$,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:g.useCallback(x=>{f(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(mp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(Qe.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:Ae(i.onFocus,()=>p(!0)),onBlur:Ae(i.onBlur,()=>p(!1)),onClick:Ae(i.onClick,()=>{S.current!=="mouse"&&b()}),onPointerUp:Ae(i.onPointerUp,()=>{S.current==="mouse"&&b()}),onPointerDown:Ae(i.onPointerDown,x=>{S.current=x.pointerType}),onPointerMove:Ae(i.onPointerMove,x=>{var _;S.current=x.pointerType,s?(_=c.onItemLeave)==null||_.call(c):S.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(i.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Ae(i.onKeyDown,x=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&x.key===" "||(T$.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});AA.displayName=nm;var tu="SelectItemText",RA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=Ta(tu,n),l=ja(tu,n),c=PA(tu,n),u=I$(tu,n),[d,f]=g.useState(null),m=_t(e,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=u;return kn(()=>(y(w),()=>S(w)),[y,S,w]),a.jsxs(a.Fragment,{children:[a.jsx(Qe.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Pi.createPortal(o.children,i.valueNode):null]})});RA.displayName=tu;var DA="SelectItemIndicator",MA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return PA(DA,n).isSelected?a.jsx(Qe.span,{"aria-hidden":!0,...r,ref:e}):null});MA.displayName=DA;var X0="SelectScrollUpButton",OA=g.forwardRef((t,e)=>{const n=ja(X0,t.__scopeSelect),r=Sw(X0,t.__scopeSelect),[s,o]=g.useState(!1),i=_t(e,r.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(FA,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});OA.displayName=X0;var J0="SelectScrollDownButton",LA=g.forwardRef((t,e)=>{const n=ja(J0,t.__scopeSelect),r=Sw(J0,t.__scopeSelect),[s,o]=g.useState(!1),i=_t(e,r.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(FA,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});LA.displayName=J0;var FA=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=ja("SelectScrollButton",n),i=g.useRef(null),l=pp(n),c=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),kn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Qe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ae(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ae(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ae(s.onPointerLeave,()=>{c()})})}),$$="SelectSeparator",VA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Qe.div,{"aria-hidden":!0,...r,ref:e})});VA.displayName=$$;var ex="SelectArrow",B$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=gp(n),o=Ta(ex,n),i=ja(ex,n);return o.open&&i.position==="popper"?a.jsx(mw,{...s,...r,ref:e}):null});B$.displayName=ex;var q$="SelectBubbleInput",UA=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),o=_t(r,s),i=C$(e);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[i,e]),a.jsx(Qe.select,{...n,style:{...FI,...n.style},ref:o,defaultValue:e})});UA.displayName=q$;function zA(t){return t===""||t===void 0}function $A(t){const e=qr(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(i=>{const l=n.current+i;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function BA(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=W$(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function W$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var H$=gA,qA=xA,G$=wA,K$=bA,Y$=_A,WA=SA,Q$=jA,HA=IA,GA=AA,Z$=RA,X$=MA,KA=OA,YA=LA,QA=VA;const ct=H$,ut=G$,rt=Le.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(qA,{ref:r,className:Xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(K$,{asChild:!0,children:a.jsx(yI,{className:"h-4 w-4 opacity-50"})})]}));rt.displayName=qA.displayName;const ZA=Le.forwardRef(({className:t,...e},n)=>a.jsx(KA,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx($5,{className:"h-4 w-4"})}));ZA.displayName=KA.displayName;const XA=Le.forwardRef(({className:t,...e},n)=>a.jsx(YA,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(yI,{className:"h-4 w-4"})}));XA.displayName=YA.displayName;const st=Le.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(Y$,{children:a.jsxs(WA,{ref:s,className:Xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(ZA,{}),a.jsx(Q$,{className:Xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(XA,{})]})}));st.displayName=WA.displayName;const J$=Le.forwardRef(({className:t,...e},n)=>a.jsx(HA,{ref:n,className:Xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));J$.displayName=HA.displayName;const se=Le.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(GA,{ref:r,className:Xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(X$,{children:a.jsx(U5,{className:"h-4 w-4"})})}),a.jsx(Z$,{children:e})]}));se.displayName=GA.displayName;const eB=Le.forwardRef(({className:t,...e},n)=>a.jsx(QA,{ref:n,className:Xe("-mx-1 my-1 h-px bg-muted",t),...e}));eB.displayName=QA.displayName;const tB=ep("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function or({className:t,variant:e,...n}){return a.jsx("div",{className:Xe(tB({variant:e}),t),...n})}const an=Le.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));an.displayName="Card";const vn=Le.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Xe("flex flex-col space-y-1.5 p-6",t),...e}));vn.displayName="CardHeader";const xn=Le.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:Xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));xn.displayName="CardTitle";const ei=Le.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));ei.displayName="CardDescription";const ln=Le.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Xe("p-6 pt-0",t),...e}));ln.displayName="CardContent";const nB=Le.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Xe("flex items-center p-6 pt-0",t),...e}));nB.displayName="CardFooter";var tv="rovingFocusGroup.onEntryFocus",rB={bubbles:!1,cancelable:!0},_d="RovingFocusGroup",[tx,JA,sB]=tw(_d),[oB,e2]=qs(_d,[sB]),[aB,iB]=oB(_d),t2=g.forwardRef((t,e)=>a.jsx(tx.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(tx.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(lB,{...t,ref:e})})}));t2.displayName=_d;var lB=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=g.useRef(null),p=_t(e,m),w=_w(o),[y,S]=vi({prop:i,defaultProp:l??null,onChange:c,caller:_d}),[b,x]=g.useState(!1),_=qr(u),A=JA(n),D=g.useRef(!1),[F,C]=g.useState(0);return g.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(tv,_),()=>E.removeEventListener(tv,_)},[_]),a.jsx(aB,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:g.useCallback(E=>S(E),[S]),onItemShiftTab:g.useCallback(()=>x(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:g.useCallback(()=>C(E=>E-1),[]),children:a.jsx(Qe.div,{tabIndex:b||F===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:Ae(t.onMouseDown,()=>{D.current=!0}),onFocus:Ae(t.onFocus,E=>{const P=!D.current;if(E.target===E.currentTarget&&P&&!b){const I=new CustomEvent(tv,rB);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const N=A().filter(G=>G.focusable),j=N.find(G=>G.active),k=N.find(G=>G.id===y),L=[j,k,...N].filter(Boolean).map(G=>G.ref.current);s2(L,d)}}D.current=!1}),onBlur:Ae(t.onBlur,()=>x(!1))})})}),n2="RovingFocusGroupItem",r2=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=t,c=oo(),u=o||c,d=iB(n2,n),f=d.currentTabStopId===u,m=JA(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:y}=d;return g.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),a.jsx(tx.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(Qe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ae(t.onMouseDown,S=>{r?d.onItemFocus(u):S.preventDefault()}),onFocus:Ae(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ae(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const b=dB(S,d.orientation,d.dir);if(b!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let _=m().filter(A=>A.focusable).map(A=>A.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const A=_.indexOf(S.currentTarget);_=d.loop?hB(_,A+1):_.slice(A+1)}setTimeout(()=>s2(_))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:y!=null}):i})})});r2.displayName=n2;var cB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dB(t,e,n){const r=uB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cB[r]}function s2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function hB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fB=t2,mB=r2,vp="Tabs",[pB,fee]=qs(vp,[e2]),o2=e2(),[gB,Cw]=pB(vp),a2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=_w(l),[f,m]=vi({prop:r,onChange:s,defaultProp:o??"",caller:vp});return a.jsx(gB,{scope:n,baseId:oo(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:c,children:a.jsx(Qe.div,{dir:d,"data-orientation":i,...u,ref:e})})});a2.displayName=vp;var i2="TabsList",l2=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=Cw(i2,n),i=o2(n);return a.jsx(fB,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(Qe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});l2.displayName=i2;var c2="TabsTrigger",u2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=Cw(c2,n),l=o2(n),c=f2(i.baseId,r),u=m2(i.baseId,r),d=r===i.value;return a.jsx(mB,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Qe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:Ae(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Ae(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Ae(t.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});u2.displayName=c2;var d2="TabsContent",h2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,l=Cw(d2,n),c=f2(l.baseId,r),u=m2(l.baseId,r),d=r===l.value,f=g.useRef(d);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(bo,{present:s||d,children:({present:m})=>a.jsx(Qe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});h2.displayName=d2;function f2(t,e){return`${t}-trigger-${e}`}function m2(t,e){return`${t}-content-${e}`}var vB=a2,p2=l2,g2=u2,v2=h2;const ql=vB,_i=Le.forwardRef(({className:t,...e},n)=>a.jsx(p2,{ref:n,className:Xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));_i.displayName=p2.displayName;const Sn=Le.forwardRef(({className:t,...e},n)=>a.jsx(g2,{ref:n,className:Xe("inline-flex items-center justify-center break-words rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Sn.displayName=g2.displayName;const Cn=Le.forwardRef(({className:t,...e},n)=>a.jsx(v2,{ref:n,className:Xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Cn.displayName=v2.displayName;const xB=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Wl(t,e,n){const r=yB(t),{webkitRelativePath:s}=t,o=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof r.path!="string"&&kC(r,"path",o),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),kC(r,"relativePath",o),r}function yB(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),s=xB.get(r);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function kC(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const wB=[".DS_Store","Thumbs.db"];function bB(t){return Mi(this,void 0,void 0,function*(){return rm(t)&&_B(t.dataTransfer)?TB(t.dataTransfer,t.type):SB(t)?CB(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?EB(t):[]})}function _B(t){return rm(t)}function SB(t){return rm(t)&&rm(t.target)}function rm(t){return typeof t=="object"&&t!==null}function CB(t){return nx(t.target.files).map(e=>Wl(e))}function EB(t){return Mi(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Wl(n))})}function TB(t,e){return Mi(this,void 0,void 0,function*(){if(t.items){const n=nx(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(jB));return IC(x2(r))}return IC(nx(t.files).map(n=>Wl(n)))})}function IC(t){return t.filter(e=>wB.indexOf(e.name)===-1)}function nx(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function jB(t){if(typeof t.webkitGetAsEntry!="function")return PC(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?y2(e):PC(t,e)}function x2(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?x2(n):[n]],[])}function PC(t,e){return Mi(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const i=yield o.getFile();return i.handle=o,Wl(i)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Wl(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function NB(t){return Mi(this,void 0,void 0,function*(){return t.isDirectory?y2(t):kB(t)})}function y2(t){const e=t.createReader();return new Promise((n,r)=>{const s=[];function o(){e.readEntries(i=>Mi(this,void 0,void 0,function*(){if(i.length){const l=Promise.all(i.map(NB));s.push(l),o()}else try{const l=yield Promise.all(s);n(l)}catch(l){r(l)}}),i=>{r(i)})}o()})}function kB(t){return Mi(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const s=Wl(r,t.fullPath);e(s)},r=>{n(r)})})})}var nv=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return n.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):s===l})}return!0};function AC(t){return AB(t)||PB(t)||b2(t)||IB()}function IB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AB(t){if(Array.isArray(t))return rx(t)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function DC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){w2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zu(t,e){return MB(t)||DB(t,e)||b2(t,e)||RB()}function RB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b2(t,e){if(t){if(typeof t=="string")return rx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rx(t,e)}}function rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DB(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function MB(t){if(Array.isArray(t))return t}var OB=typeof nv=="function"?nv:nv.default,LB="file-invalid-type",FB="file-too-large",VB="file-too-small",UB="too-many-files",zB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:LB,message:"File type must be ".concat(r)}},MC=function(e){return{code:FB,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},OC=function(e){return{code:VB,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},$B={code:UB,message:"Too many files"};function _2(t,e){var n=t.type==="application/x-moz-file"||OB(t,e);return[n,n?null:zB(e)]}function S2(t,e,n){if(Ga(t.size))if(Ga(e)&&Ga(n)){if(t.size>n)return[!1,MC(n)];if(t.size<e)return[!1,OC(e)]}else{if(Ga(e)&&t.size<e)return[!1,OC(e)];if(Ga(n)&&t.size>n)return[!1,MC(n)]}return[!0,null]}function Ga(t){return t!=null}function BB(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,o=t.multiple,i=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&i>=1&&e.length>i?!1:e.every(function(c){var u=_2(c,n),d=Zu(u,1),f=d[0],m=S2(c,r,s),p=Zu(m,1),w=p[0],y=l?l(c):null;return f&&w&&!y})}function sm(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function kh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function LC(t){t.preventDefault()}function qB(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function WB(t){return t.indexOf("Edge/")!==-1}function HB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return qB(t)||WB(t)}function ws(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return e.some(function(l){return!sm(r)&&l&&l.apply(void 0,[r].concat(o)),sm(r)})}}function GB(){return"showOpenFilePicker"in window}function KB(t){if(Ga(t)){var e=Object.entries(t).filter(function(n){var r=Zu(n,2),s=r[0],o=r[1],i=!0;return C2(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(o)||!o.every(E2))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(n,r){var s=Zu(r,2),o=s[0],i=s[1];return DC(DC({},n),{},w2({},o,i))},{});return[{description:"Files",accept:e}]}return t}function YB(t){if(Ga(t))return Object.entries(t).reduce(function(e,n){var r=Zu(n,2),s=r[0],o=r[1];return[].concat(AC(e),[s],AC(o))},[]).filter(function(e){return C2(e)||E2(e)}).join(",")}function QB(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function ZB(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function C2(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function E2(t){return/^.*\.[\w]+$/.test(t)}var XB=["children"],JB=["open"],e7=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],t7=["refKey","onChange","onClick"];function n7(t){return o7(t)||s7(t)||T2(t)||r7()}function r7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o7(t){if(Array.isArray(t))return sx(t)}function rv(t,e){return l7(t)||i7(t,e)||T2(t,e)||a7()}function a7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T2(t,e){if(t){if(typeof t=="string")return sx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sx(t,e)}}function sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function l7(t){if(Array.isArray(t))return t}function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){ox(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ox(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function om(t,e){if(t==null)return{};var n=c7(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c7(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Ew=g.forwardRef(function(t,e){var n=t.children,r=om(t,XB),s=N2(r),o=s.open,i=om(s,JB);return g.useImperativeHandle(e,function(){return{open:o}},[o]),Le.createElement(g.Fragment,null,n(Ot(Ot({},i),{},{open:o})))});Ew.displayName="Dropzone";var j2={disabled:!1,getFilesFromEvent:bB,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Ew.defaultProps=j2;Ew.propTypes={children:Oe.func,accept:Oe.objectOf(Oe.arrayOf(Oe.string)),multiple:Oe.bool,preventDropOnDocument:Oe.bool,noClick:Oe.bool,noKeyboard:Oe.bool,noDrag:Oe.bool,noDragEventsBubbling:Oe.bool,minSize:Oe.number,maxSize:Oe.number,maxFiles:Oe.number,disabled:Oe.bool,getFilesFromEvent:Oe.func,onFileDialogCancel:Oe.func,onFileDialogOpen:Oe.func,useFsAccessApi:Oe.bool,autoFocus:Oe.bool,onDragEnter:Oe.func,onDragLeave:Oe.func,onDragOver:Oe.func,onDrop:Oe.func,onDropAccepted:Oe.func,onDropRejected:Oe.func,onError:Oe.func,validator:Oe.func};var ax={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function N2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ot(Ot({},j2),t),n=e.accept,r=e.disabled,s=e.getFilesFromEvent,o=e.maxSize,i=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,m=e.onDrop,p=e.onDropAccepted,w=e.onDropRejected,y=e.onFileDialogCancel,S=e.onFileDialogOpen,b=e.useFsAccessApi,x=e.autoFocus,_=e.preventDropOnDocument,A=e.noClick,D=e.noKeyboard,F=e.noDrag,C=e.noDragEventsBubbling,E=e.onError,P=e.validator,I=g.useMemo(function(){return YB(n)},[n]),N=g.useMemo(function(){return KB(n)},[n]),j=g.useMemo(function(){return typeof S=="function"?S:VC},[S]),k=g.useMemo(function(){return typeof y=="function"?y:VC},[y]),V=g.useRef(null),L=g.useRef(null),G=g.useReducer(u7,ax),B=rv(G,2),O=B[0],z=B[1],Z=O.isFocused,Y=O.isFileDialogActive,de=g.useRef(typeof window<"u"&&window.isSecureContext&&b&&GB()),Se=function(){!de.current&&Y&&setTimeout(function(){if(L.current){var oe=L.current.files;oe.length||(z({type:"closeDialog"}),k())}},300)};g.useEffect(function(){return window.addEventListener("focus",Se,!1),function(){window.removeEventListener("focus",Se,!1)}},[L,Y,k,de]);var ye=g.useRef([]),Ve=function(oe){V.current&&V.current.contains(oe.target)||(oe.preventDefault(),ye.current=[])};g.useEffect(function(){return _&&(document.addEventListener("dragover",LC,!1),document.addEventListener("drop",Ve,!1)),function(){_&&(document.removeEventListener("dragover",LC),document.removeEventListener("drop",Ve))}},[V,_]),g.useEffect(function(){return!r&&x&&V.current&&V.current.focus(),function(){}},[V,x,r]);var ke=g.useCallback(function(ie){E?E(ie):console.error(ie)},[E]),fe=g.useCallback(function(ie){ie.preventDefault(),ie.persist(),Pe(ie),ye.current=[].concat(n7(ye.current),[ie.target]),kh(ie)&&Promise.resolve(s(ie)).then(function(oe){if(!(sm(ie)&&!C)){var We=oe.length,xt=We>0&&BB({files:oe,accept:I,minSize:i,maxSize:o,multiple:l,maxFiles:c,validator:P}),$t=We>0&&!xt;z({isDragAccept:xt,isDragReject:$t,isDragActive:!0,type:"setDraggedFiles"}),u&&u(ie)}}).catch(function(oe){return ke(oe)})},[s,u,ke,C,I,i,o,l,c,P]),Me=g.useCallback(function(ie){ie.preventDefault(),ie.persist(),Pe(ie);var oe=kh(ie);if(oe&&ie.dataTransfer)try{ie.dataTransfer.dropEffect="copy"}catch{}return oe&&f&&f(ie),!1},[f,C]),$e=g.useCallback(function(ie){ie.preventDefault(),ie.persist(),Pe(ie);var oe=ye.current.filter(function(xt){return V.current&&V.current.contains(xt)}),We=oe.indexOf(ie.target);We!==-1&&oe.splice(We,1),ye.current=oe,!(oe.length>0)&&(z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),kh(ie)&&d&&d(ie))},[V,d,C]),W=g.useCallback(function(ie,oe){var We=[],xt=[];ie.forEach(function($t){var Pn=_2($t,I),qn=rv(Pn,2),pr=qn[0],ps=qn[1],gs=S2($t,i,o),er=rv(gs,2),Hr=er[0],gr=er[1],sn=P?P($t):null;if(pr&&Hr&&!sn)We.push($t);else{var tr=[ps,gr];sn&&(tr=tr.concat(sn)),xt.push({file:$t,errors:tr.filter(function(M){return M})})}}),(!l&&We.length>1||l&&c>=1&&We.length>c)&&(We.forEach(function($t){xt.push({file:$t,errors:[$B]})}),We.splice(0)),z({acceptedFiles:We,fileRejections:xt,isDragReject:xt.length>0,type:"setFiles"}),m&&m(We,xt,oe),xt.length>0&&w&&w(xt,oe),We.length>0&&p&&p(We,oe)},[z,l,I,i,o,c,m,p,w,P]),ce=g.useCallback(function(ie){ie.preventDefault(),ie.persist(),Pe(ie),ye.current=[],kh(ie)&&Promise.resolve(s(ie)).then(function(oe){sm(ie)&&!C||W(oe,ie)}).catch(function(oe){return ke(oe)}),z({type:"reset"})},[s,W,ke,C]),te=g.useCallback(function(){if(de.current){z({type:"openDialog"}),j();var ie={multiple:l,types:N};window.showOpenFilePicker(ie).then(function(oe){return s(oe)}).then(function(oe){W(oe,null),z({type:"closeDialog"})}).catch(function(oe){QB(oe)?(k(oe),z({type:"closeDialog"})):ZB(oe)?(de.current=!1,L.current?(L.current.value=null,L.current.click()):ke(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ke(oe)});return}L.current&&(z({type:"openDialog"}),j(),L.current.value=null,L.current.click())},[z,j,k,b,W,ke,N,l]),Ie=g.useCallback(function(ie){!V.current||!V.current.isEqualNode(ie.target)||(ie.key===" "||ie.key==="Enter"||ie.keyCode===32||ie.keyCode===13)&&(ie.preventDefault(),te())},[V,te]),Ke=g.useCallback(function(){z({type:"focus"})},[]),at=g.useCallback(function(){z({type:"blur"})},[]),$=g.useCallback(function(){A||(HB()?setTimeout(te,0):te())},[A,te]),ue=function(oe){return r?null:oe},Fe=function(oe){return D?null:ue(oe)},Ne=function(oe){return F?null:ue(oe)},Pe=function(oe){C&&oe.stopPropagation()},q=g.useMemo(function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=ie.refKey,We=oe===void 0?"ref":oe,xt=ie.role,$t=ie.onKeyDown,Pn=ie.onFocus,qn=ie.onBlur,pr=ie.onClick,ps=ie.onDragEnter,gs=ie.onDragOver,er=ie.onDragLeave,Hr=ie.onDrop,gr=om(ie,e7);return Ot(Ot(ox({onKeyDown:Fe(ws($t,Ie)),onFocus:Fe(ws(Pn,Ke)),onBlur:Fe(ws(qn,at)),onClick:ue(ws(pr,$)),onDragEnter:Ne(ws(ps,fe)),onDragOver:Ne(ws(gs,Me)),onDragLeave:Ne(ws(er,$e)),onDrop:Ne(ws(Hr,ce)),role:typeof xt=="string"&&xt!==""?xt:"presentation"},We,V),!r&&!D?{tabIndex:0}:{}),gr)}},[V,Ie,Ke,at,$,fe,Me,$e,ce,D,F,r]),_e=g.useCallback(function(ie){ie.stopPropagation()},[]),mt=g.useMemo(function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=ie.refKey,We=oe===void 0?"ref":oe,xt=ie.onChange,$t=ie.onClick,Pn=om(ie,t7),qn=ox({accept:I,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ue(ws(xt,ce)),onClick:ue(ws($t,_e)),tabIndex:-1},We,L);return Ot(Ot({},qn),Pn)}},[L,n,l,ce,r]);return Ot(Ot({},O),{},{isFocused:Z&&!r,getRootProps:q,getInputProps:mt,rootRef:V,inputRef:L,open:ue(te)})}function u7(t,e){switch(e.type){case"focus":return Ot(Ot({},t),{},{isFocused:!0});case"blur":return Ot(Ot({},t),{},{isFocused:!1});case"openDialog":return Ot(Ot({},ax),{},{isFileDialogActive:!0});case"closeDialog":return Ot(Ot({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ot(Ot({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Ot(Ot({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Ot({},ax);default:return t}}function VC(){}const d7=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},h7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(i&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},I2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,l=i?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let m=(l&15)<<2|u>>6,p=u&63;c||(p=64,i||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||u==null||f==null)throw new f7;const m=o<<2|l>>4;if(r.push(m),u!==64){const p=l<<4&240|u>>2;if(r.push(p),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m7=function(t){const e=k2(t);return I2.encodeByteArray(e,!0)},am=function(t){return m7(t).replace(/\./g,"")},P2=function(t){try{return I2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=()=>p7().__FIREBASE_DEFAULTS__,v7=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},x7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&P2(t[1]);return e&&JSON.parse(e)},xp=()=>{try{return d7()||g7()||v7()||x7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A2=t=>{var e,n;return(n=(e=xp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},y7=t=>{const e=A2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},R2=()=>{var t;return(t=xp())==null?void 0:t.config},D2=t=>{var e;return(e=xp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[am(JSON.stringify(n)),am(JSON.stringify(i)),l].join(".")}const yu={};function _7(){const t={prod:[],emulator:[]};for(const e of Object.keys(yu))yu[e]?t.emulator.push(e):t.prod.push(e);return t}function S7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let UC=!1;function O2(t,e){if(typeof window>"u"||typeof document>"u"||!hc(window.location.host)||yu[t]===e||yu[t]||UC)return;yu[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",o=_7().prod.length>0;function i(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{UC=!0,i()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=S7(r),p=n("text"),w=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),S=document.getElementById(y)||document.createElement("a"),b=n("preprendIcon"),x=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const _=m.element;l(_),d(S,y);const A=u();c(x,b),_.append(x,w,S,A),document.body.appendChild(_)}o?(w.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function E7(){var e;const t=(e=xp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function N7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k7(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I7(){return!E7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P7(){try{return typeof indexedDB=="object"}catch{return!1}}function A7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="FirebaseError";class _o extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R7,Object.setPrototypeOf(this,_o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sd.prototype.create)}}class Sd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?D7(o,r):"Error",l=`${this.serviceName}: ${i} (${s}).`;return new _o(s,l,r)}}function D7(t,e){return t.replace(M7,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const M7=/\{\$([^}]+)}/g;function O7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Si(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(zC(o)&&zC(i)){if(!Si(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function zC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function L7(t,e){const n=new F7(t,e);return n.subscribe.bind(n)}class F7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V7(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=sv),s.error===void 0&&(s.error=sv),s.complete===void 0&&(s.complete=sv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t&&t._delegate?t._delegate:t}class Ci{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($7(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&i.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z7(t){return t===Wa?void 0:t}function $7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const q7={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},W7=lt.INFO,H7={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},G7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=H7[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tw{constructor(e){this.name=e,this._logLevel=W7,this._logHandler=G7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const K7=(t,e)=>e.some(n=>t instanceof n);let $C,BC;function Y7(){return $C||($C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q7(){return BC||(BC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L2=new WeakMap,ix=new WeakMap,F2=new WeakMap,ov=new WeakMap,jw=new WeakMap;function Z7(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(sa(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&L2.set(n,t)}).catch(()=>{}),jw.set(e,t),e}function X7(t){if(ix.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});ix.set(t,e)}let lx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ix.get(t);if(e==="objectStoreNames")return t.objectStoreNames||F2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J7(t){lx=t(lx)}function eq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(av(this),e,...n);return F2.set(r,e.sort?e.sort():[e]),sa(r)}:Q7().includes(t)?function(...e){return t.apply(av(this),e),sa(L2.get(this))}:function(...e){return sa(t.apply(av(this),e))}}function tq(t){return typeof t=="function"?eq(t):(t instanceof IDBTransaction&&X7(t),K7(t,Y7())?new Proxy(t,lx):t)}function sa(t){if(t instanceof IDBRequest)return Z7(t);if(ov.has(t))return ov.get(t);const e=tq(t);return e!==t&&(ov.set(t,e),jw.set(e,t)),e}const av=t=>jw.get(t);function nq(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),l=sa(i);return r&&i.addEventListener("upgradeneeded",c=>{r(sa(i.result),c.oldVersion,c.newVersion,sa(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const rq=["get","getKey","getAll","getAllKeys","count"],sq=["put","add","delete","clear"],iv=new Map;function qC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iv.get(e))return iv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=sq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rq.includes(n)))return;const o=async function(i,...l){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return iv.set(e,o),o}J7(t=>({...t,get:(e,n,r)=>qC(e,n)||t.get(e,n,r),has:(e,n)=>!!qC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cx="@firebase/app",WC="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Tw("@firebase/app"),iq="@firebase/app-compat",lq="@firebase/analytics-compat",cq="@firebase/analytics",uq="@firebase/app-check-compat",dq="@firebase/app-check",hq="@firebase/auth",fq="@firebase/auth-compat",mq="@firebase/database",pq="@firebase/data-connect",gq="@firebase/database-compat",vq="@firebase/functions",xq="@firebase/functions-compat",yq="@firebase/installations",wq="@firebase/installations-compat",bq="@firebase/messaging",_q="@firebase/messaging-compat",Sq="@firebase/performance",Cq="@firebase/performance-compat",Eq="@firebase/remote-config",Tq="@firebase/remote-config-compat",jq="@firebase/storage",Nq="@firebase/storage-compat",kq="@firebase/firestore",Iq="@firebase/ai",Pq="@firebase/firestore-compat",Aq="firebase",Rq="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="[DEFAULT]",Dq={[cx]:"fire-core",[iq]:"fire-core-compat",[cq]:"fire-analytics",[lq]:"fire-analytics-compat",[dq]:"fire-app-check",[uq]:"fire-app-check-compat",[hq]:"fire-auth",[fq]:"fire-auth-compat",[mq]:"fire-rtdb",[pq]:"fire-data-connect",[gq]:"fire-rtdb-compat",[vq]:"fire-fn",[xq]:"fire-fn-compat",[yq]:"fire-iid",[wq]:"fire-iid-compat",[bq]:"fire-fcm",[_q]:"fire-fcm-compat",[Sq]:"fire-perf",[Cq]:"fire-perf-compat",[Eq]:"fire-rc",[Tq]:"fire-rc-compat",[jq]:"fire-gcs",[Nq]:"fire-gcs-compat",[kq]:"fire-fst",[Pq]:"fire-fst-compat",[Iq]:"fire-vertex","fire-js":"fire-js",[Aq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map,Mq=new Map,dx=new Map;function HC(t,e){try{t.container.addComponent(e)}catch(n){po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hl(t){const e=t.name;if(dx.has(e))return po.debug(`There were multiple attempts to register component ${e}.`),!1;dx.set(e,t);for(const n of im.values())HC(n,t);for(const n of Mq.values())HC(n,t);return!0}function Nw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function js(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new Sd("app","Firebase",Oq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=Rq;function V2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ux,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw oa.create("bad-app-name",{appName:String(s)});if(n||(n=R2()),!n)throw oa.create("no-options");const o=im.get(s);if(o){if(Si(n,o.options)&&Si(r,o.config))return o;throw oa.create("duplicate-app",{appName:s})}const i=new B7(s);for(const c of dx.values())i.addComponent(c);const l=new Lq(n,r,i);return im.set(s,l),l}function U2(t=ux){const e=im.get(t);if(!e&&t===ux&&R2())return V2();if(!e)throw oa.create("no-app",{appName:t});return e}function aa(t,e,n){let r=Dq[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const i=[`Unable to register library "${r}" with version "${e}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&i.push("and"),o&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),po.warn(i.join(" "));return}Hl(new Ci(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq="firebase-heartbeat-database",Vq=1,Xu="firebase-heartbeat-store";let lv=null;function z2(){return lv||(lv=nq(Fq,Vq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),lv}async function Uq(t){try{const n=(await z2()).transaction(Xu),r=await n.objectStore(Xu).get($2(t));return await n.done,r}catch(e){if(e instanceof _o)po.warn(e.message);else{const n=oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});po.warn(n.message)}}}async function GC(t,e){try{const r=(await z2()).transaction(Xu,"readwrite");await r.objectStore(Xu).put(e,$2(t)),await r.done}catch(n){if(n instanceof _o)po.warn(n.message);else{const r=oa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});po.warn(r.message)}}}function $2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=1024,$q=30;class Bq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>$q){const i=Hq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){po.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=KC(),{heartbeatsToSend:r,unsentEntries:s}=qq(this._heartbeatsCache.heartbeats),o=am(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return po.warn(n),""}}}function KC(){return new Date().toISOString().substring(0,10)}function qq(t,e=zq){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),YC(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),YC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Wq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P7()?A7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Uq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function YC(t){return am(JSON.stringify({version:2,heartbeats:t})).length}function Hq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t){Hl(new Ci("platform-logger",e=>new oq(e),"PRIVATE")),Hl(new Ci("heartbeat",e=>new Bq(e),"PRIVATE")),aa(cx,WC,t),aa(cx,WC,"esm2020"),aa("fire-js","")}Gq("");var QC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,B2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function P(){}P.prototype=E.prototype,C.F=E.prototype,C.prototype=new P,C.prototype.constructor=C,C.D=function(I,N,j){for(var k=Array(arguments.length-2),V=2;V<arguments.length;V++)k[V-2]=arguments[V];return E.prototype[N].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,E,P){P||(P=0);const I=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)I[N]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(N=0;N<16;++N)I[N]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=C.g[0],P=C.g[1],N=C.g[2];let j=C.g[3],k;k=E+(j^P&(N^j))+I[0]+3614090360&4294967295,E=P+(k<<7&4294967295|k>>>25),k=j+(N^E&(P^N))+I[1]+3905402710&4294967295,j=E+(k<<12&4294967295|k>>>20),k=N+(P^j&(E^P))+I[2]+606105819&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(E^N&(j^E))+I[3]+3250441966&4294967295,P=N+(k<<22&4294967295|k>>>10),k=E+(j^P&(N^j))+I[4]+4118548399&4294967295,E=P+(k<<7&4294967295|k>>>25),k=j+(N^E&(P^N))+I[5]+1200080426&4294967295,j=E+(k<<12&4294967295|k>>>20),k=N+(P^j&(E^P))+I[6]+2821735955&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(E^N&(j^E))+I[7]+4249261313&4294967295,P=N+(k<<22&4294967295|k>>>10),k=E+(j^P&(N^j))+I[8]+1770035416&4294967295,E=P+(k<<7&4294967295|k>>>25),k=j+(N^E&(P^N))+I[9]+2336552879&4294967295,j=E+(k<<12&4294967295|k>>>20),k=N+(P^j&(E^P))+I[10]+4294925233&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(E^N&(j^E))+I[11]+2304563134&4294967295,P=N+(k<<22&4294967295|k>>>10),k=E+(j^P&(N^j))+I[12]+1804603682&4294967295,E=P+(k<<7&4294967295|k>>>25),k=j+(N^E&(P^N))+I[13]+4254626195&4294967295,j=E+(k<<12&4294967295|k>>>20),k=N+(P^j&(E^P))+I[14]+2792965006&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(E^N&(j^E))+I[15]+1236535329&4294967295,P=N+(k<<22&4294967295|k>>>10),k=E+(N^j&(P^N))+I[1]+4129170786&4294967295,E=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(E^P))+I[6]+3225465664&4294967295,j=E+(k<<9&4294967295|k>>>23),k=N+(E^P&(j^E))+I[11]+643717713&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^E&(N^j))+I[0]+3921069994&4294967295,P=N+(k<<20&4294967295|k>>>12),k=E+(N^j&(P^N))+I[5]+3593408605&4294967295,E=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(E^P))+I[10]+38016083&4294967295,j=E+(k<<9&4294967295|k>>>23),k=N+(E^P&(j^E))+I[15]+3634488961&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^E&(N^j))+I[4]+3889429448&4294967295,P=N+(k<<20&4294967295|k>>>12),k=E+(N^j&(P^N))+I[9]+568446438&4294967295,E=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(E^P))+I[14]+3275163606&4294967295,j=E+(k<<9&4294967295|k>>>23),k=N+(E^P&(j^E))+I[3]+4107603335&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^E&(N^j))+I[8]+1163531501&4294967295,P=N+(k<<20&4294967295|k>>>12),k=E+(N^j&(P^N))+I[13]+2850285829&4294967295,E=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(E^P))+I[2]+4243563512&4294967295,j=E+(k<<9&4294967295|k>>>23),k=N+(E^P&(j^E))+I[7]+1735328473&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^E&(N^j))+I[12]+2368359562&4294967295,P=N+(k<<20&4294967295|k>>>12),k=E+(P^N^j)+I[5]+4294588738&4294967295,E=P+(k<<4&4294967295|k>>>28),k=j+(E^P^N)+I[8]+2272392833&4294967295,j=E+(k<<11&4294967295|k>>>21),k=N+(j^E^P)+I[11]+1839030562&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^E)+I[14]+4259657740&4294967295,P=N+(k<<23&4294967295|k>>>9),k=E+(P^N^j)+I[1]+2763975236&4294967295,E=P+(k<<4&4294967295|k>>>28),k=j+(E^P^N)+I[4]+1272893353&4294967295,j=E+(k<<11&4294967295|k>>>21),k=N+(j^E^P)+I[7]+4139469664&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^E)+I[10]+3200236656&4294967295,P=N+(k<<23&4294967295|k>>>9),k=E+(P^N^j)+I[13]+681279174&4294967295,E=P+(k<<4&4294967295|k>>>28),k=j+(E^P^N)+I[0]+3936430074&4294967295,j=E+(k<<11&4294967295|k>>>21),k=N+(j^E^P)+I[3]+3572445317&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^E)+I[6]+76029189&4294967295,P=N+(k<<23&4294967295|k>>>9),k=E+(P^N^j)+I[9]+3654602809&4294967295,E=P+(k<<4&4294967295|k>>>28),k=j+(E^P^N)+I[12]+3873151461&4294967295,j=E+(k<<11&4294967295|k>>>21),k=N+(j^E^P)+I[15]+530742520&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^E)+I[2]+3299628645&4294967295,P=N+(k<<23&4294967295|k>>>9),k=E+(N^(P|~j))+I[0]+4096336452&4294967295,E=P+(k<<6&4294967295|k>>>26),k=j+(P^(E|~N))+I[7]+1126891415&4294967295,j=E+(k<<10&4294967295|k>>>22),k=N+(E^(j|~P))+I[14]+2878612391&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~E))+I[5]+4237533241&4294967295,P=N+(k<<21&4294967295|k>>>11),k=E+(N^(P|~j))+I[12]+1700485571&4294967295,E=P+(k<<6&4294967295|k>>>26),k=j+(P^(E|~N))+I[3]+2399980690&4294967295,j=E+(k<<10&4294967295|k>>>22),k=N+(E^(j|~P))+I[10]+4293915773&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~E))+I[1]+2240044497&4294967295,P=N+(k<<21&4294967295|k>>>11),k=E+(N^(P|~j))+I[8]+1873313359&4294967295,E=P+(k<<6&4294967295|k>>>26),k=j+(P^(E|~N))+I[15]+4264355552&4294967295,j=E+(k<<10&4294967295|k>>>22),k=N+(E^(j|~P))+I[6]+2734768916&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~E))+I[13]+1309151649&4294967295,P=N+(k<<21&4294967295|k>>>11),k=E+(N^(P|~j))+I[4]+4149444226&4294967295,E=P+(k<<6&4294967295|k>>>26),k=j+(P^(E|~N))+I[11]+3174756917&4294967295,j=E+(k<<10&4294967295|k>>>22),k=N+(E^(j|~P))+I[2]+718787259&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~E))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,E){E===void 0&&(E=C.length);const P=E-this.blockSize,I=this.C;let N=this.h,j=0;for(;j<E;){if(N==0)for(;j<=P;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<E;)if(I[N++]=C.charCodeAt(j++),N==this.blockSize){s(this,I),N=0;break}}else for(;j<E;)if(I[N++]=C[j++],N==this.blockSize){s(this,I),N=0;break}}this.h=N,this.o+=E},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;E=this.o*8;for(var P=C.length-8;P<C.length;++P)C[P]=E&255,E/=256;for(this.v(C),C=Array(16),E=0,P=0;P<4;++P)for(let I=0;I<32;I+=8)C[E++]=this.g[P]>>>I&255;return C};function o(C,E){var P=l;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=E(C)}function i(C,E){this.h=E;const P=[];let I=!0;for(let N=C.length-1;N>=0;N--){const j=C[N]|0;I&&j==E||(P[N]=j,I=!1)}this.g=P}var l={};function c(C){return-128<=C&&C<128?o(C,function(E){return new i([E|0],E<0?-1:0)}):new i([C|0],C<0?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(C<0)return S(u(-C));const E=[];let P=1;for(let I=0;C>=P;I++)E[I]=C/P|0,P*=4294967296;return new i(E,0)}function d(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return S(d(C.substring(1),E));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(E,8));let I=f;for(let j=0;j<C.length;j+=8){var N=Math.min(8,C.length-j);const k=parseInt(C.substring(j,j+N),E);N<8?(N=u(Math.pow(E,N)),I=I.j(N).add(u(k))):(I=I.j(P),I=I.add(u(k)))}return I}var f=c(0),m=c(1),p=c(16777216);t=i.prototype,t.m=function(){if(y(this))return-S(this).m();let C=0,E=1;for(let P=0;P<this.g.length;P++){const I=this.i(P);C+=(I>=0?I:4294967296+I)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(y(this))return"-"+S(this).toString(C);const E=u(Math.pow(C,6));var P=this;let I="";for(;;){const N=A(P,E).g;P=b(P,N.j(E));let j=((P.g.length>0?P.g[0]:P.h)>>>0).toString(C);if(P=N,w(P))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(let E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=b(this,C),y(C)?-1:w(C)?0:1};function S(C){const E=C.g.length,P=[];for(let I=0;I<E;I++)P[I]=~C.g[I];return new i(P,~C.h).add(m)}t.abs=function(){return y(this)?S(this):this},t.add=function(C){const E=Math.max(this.g.length,C.g.length),P=[];let I=0;for(let N=0;N<=E;N++){let j=I+(this.i(N)&65535)+(C.i(N)&65535),k=(j>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);I=k>>>16,j&=65535,k&=65535,P[N]=k<<16|j}return new i(P,P[P.length-1]&-2147483648?-1:0)};function b(C,E){return C.add(S(E))}t.j=function(C){if(w(this)||w(C))return f;if(y(this))return y(C)?S(this).j(S(C)):S(S(this).j(C));if(y(C))return S(this.j(S(C)));if(this.l(p)<0&&C.l(p)<0)return u(this.m()*C.m());const E=this.g.length+C.g.length,P=[];for(var I=0;I<2*E;I++)P[I]=0;for(I=0;I<this.g.length;I++)for(let N=0;N<C.g.length;N++){const j=this.i(I)>>>16,k=this.i(I)&65535,V=C.i(N)>>>16,L=C.i(N)&65535;P[2*I+2*N]+=k*L,x(P,2*I+2*N),P[2*I+2*N+1]+=j*L,x(P,2*I+2*N+1),P[2*I+2*N+1]+=k*V,x(P,2*I+2*N+1),P[2*I+2*N+2]+=j*V,x(P,2*I+2*N+2)}for(C=0;C<E;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=E;C<2*E;C++)P[C]=0;return new i(P,0)};function x(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function _(C,E){this.g=C,this.h=E}function A(C,E){if(w(E))throw Error("division by zero");if(w(C))return new _(f,f);if(y(C))return E=A(S(C),E),new _(S(E.g),S(E.h));if(y(E))return E=A(C,S(E)),new _(S(E.g),E.h);if(C.g.length>30){if(y(C)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var P=m,I=E;I.l(C)<=0;)P=D(P),I=D(I);var N=F(P,1),j=F(I,1);for(I=F(I,2),P=F(P,2);!w(I);){var k=j.add(I);k.l(C)<=0&&(N=N.add(P),j=k),I=F(I,1),P=F(P,1)}return E=b(C,N.j(E)),new _(N,E)}for(N=f;C.l(E)>=0;){for(P=Math.max(1,Math.floor(C.m()/E.m())),I=Math.ceil(Math.log(P)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=u(P),k=j.j(E);y(k)||k.l(C)>0;)P-=I,j=u(P),k=j.j(E);w(j)&&(j=m),N=N.add(j),C=b(C,k)}return new _(N,C)}t.B=function(C){return A(this,C).h},t.and=function(C){const E=Math.max(this.g.length,C.g.length),P=[];for(let I=0;I<E;I++)P[I]=this.i(I)&C.i(I);return new i(P,this.h&C.h)},t.or=function(C){const E=Math.max(this.g.length,C.g.length),P=[];for(let I=0;I<E;I++)P[I]=this.i(I)|C.i(I);return new i(P,this.h|C.h)},t.xor=function(C){const E=Math.max(this.g.length,C.g.length),P=[];for(let I=0;I<E;I++)P[I]=this.i(I)^C.i(I);return new i(P,this.h^C.h)};function D(C){const E=C.g.length+1,P=[];for(let I=0;I<E;I++)P[I]=C.i(I)<<1|C.i(I-1)>>>31;return new i(P,C.h)}function F(C,E){const P=E>>5;E%=32;const I=C.g.length-P,N=[];for(let j=0;j<I;j++)N[j]=E>0?C.i(j+P)>>>E|C.i(j+P+1)<<32-E:C.i(j+P);return new i(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,B2=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,ia=i}).apply(typeof QC<"u"?QC:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q2,nu,W2,tf,hx,H2,G2,K2;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)e:{var T=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var H=h[R];if(!(H in T))break e;T=T[H]}h=h[h.length-1],R=T[h],v=v(R),v!=R&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(v){var T=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&T.push([R,v[R]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},i=this||self;function l(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function c(h,v,T){return h.call.apply(h.bind,arguments)}function u(h,v,T){return u=c,u.apply(null,arguments)}function d(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function f(h,v){function T(){}T.prototype=v.prototype,h.Z=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,H,K){for(var ve=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ve[Je-2]=arguments[Je];return v.prototype[H].apply(R,ve)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const v=h.length;if(v>0){const T=Array(v);for(let R=0;R<v;R++)T[R]=h[R];return T}return[]}function w(h,v){for(let R=1;R<arguments.length;R++){const H=arguments[R];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=h.length||0;const K=H.length||0;h.length=T+K;for(let ve=0;ve<K;ve++)h[T+ve]=H[ve]}else h.push(H)}}class y{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function S(h){i.setTimeout(()=>{throw h},0)}function b(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class x{constructor(){this.h=this.g=null}add(v,T){const R=_.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var _=new y(()=>new A,h=>h.reset());class A{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let D,F=!1,C=new x,E=()=>{const h=Promise.resolve(void 0);D=()=>{h.then(P)}};function P(){for(var h;h=b();){try{h.h.call(h.g)}catch(T){S(T)}var v=_;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}F=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};i.addEventListener("test",T,v),i.removeEventListener("test",T,v)}catch{}return h}();function k(h){return/^[\s\xa0]*$/.test(h)}function V(h,v){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}f(V,N),V.prototype.init=function(h,v){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&V.Z.h.call(this)},V.prototype.h=function(){V.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var L="closure_listenable_"+(Math.random()*1e6|0),G=0;function B(h,v,T,R,H){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=H,this.key=++G,this.da=this.fa=!1}function O(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function z(h,v,T){for(const R in h)v.call(T,h[R],R,h)}function Z(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function Y(h){const v={};for(const T in h)v[T]=h[T];return v}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(h,v){let T,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(T in R)h[T]=R[T];for(let K=0;K<de.length;K++)T=de[K],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,v,T,R,H){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ve=ke(h,v,R,H);return ve>-1?(v=h[ve],T||(v.fa=!1)):(v=new B(v,this.src,K,!!R,H),v.fa=T,h.push(v)),v};function Ve(h,v){const T=v.type;if(T in h.g){var R=h.g[T],H=Array.prototype.indexOf.call(R,v,void 0),K;(K=H>=0)&&Array.prototype.splice.call(R,H,1),K&&(O(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ke(h,v,T,R){for(let H=0;H<h.length;++H){const K=h[H];if(!K.da&&K.listener==v&&K.capture==!!T&&K.ha==R)return H}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),Me={};function $e(h,v,T,R,H){if(R&&R.once)return te(h,v,T,R,H);if(Array.isArray(v)){for(let K=0;K<v.length;K++)$e(h,v[K],T,R,H);return null}return T=Ne(T),h&&h[L]?h.J(v,T,l(R)?!!R.capture:!!R,H):W(h,v,T,!1,R,H)}function W(h,v,T,R,H,K){if(!v)throw Error("Invalid event type");const ve=l(H)?!!H.capture:!!H;let Je=ue(h);if(Je||(h[fe]=Je=new ye(h)),T=Je.add(v,T,R,ve,K),T.proxy)return T;if(R=ce(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)j||(H=ve),H===void 0&&(H=!1),h.addEventListener(v.toString(),R,H);else if(h.attachEvent)h.attachEvent(at(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ce(){function h(T){return v.call(h.src,h.listener,T)}const v=$;return h}function te(h,v,T,R,H){if(Array.isArray(v)){for(let K=0;K<v.length;K++)te(h,v[K],T,R,H);return null}return T=Ne(T),h&&h[L]?h.K(v,T,l(R)?!!R.capture:!!R,H):W(h,v,T,!0,R,H)}function Ie(h,v,T,R,H){if(Array.isArray(v))for(var K=0;K<v.length;K++)Ie(h,v[K],T,R,H);else R=l(R)?!!R.capture:!!R,T=Ne(T),h&&h[L]?(h=h.i,K=String(v).toString(),K in h.g&&(v=h.g[K],T=ke(v,T,R,H),T>-1&&(O(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete h.g[K],h.h--)))):h&&(h=ue(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ke(v,T,R,H)),(T=h>-1?v[h]:null)&&Ke(T))}function Ke(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[L])Ve(v.i,h);else{var T=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(T,R,h.capture):v.detachEvent?v.detachEvent(at(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=ue(v))?(Ve(T,h),T.h==0&&(T.src=null,v[fe]=null)):O(h)}}}function at(h){return h in Me?Me[h]:Me[h]="on"+h}function $(h,v){if(h.da)h=!0;else{v=new V(v,this);const T=h.listener,R=h.ha||h.src;h.fa&&Ke(h),h=T.call(R,v)}return h}function ue(h){return h=h[fe],h instanceof ye?h:null}var Fe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ne(h){return typeof h=="function"?h:(h[Fe]||(h[Fe]=function(v){return h.handleEvent(v)}),h[Fe])}function Pe(){I.call(this),this.i=new ye(this),this.M=this,this.G=null}f(Pe,I),Pe.prototype[L]=!0,Pe.prototype.removeEventListener=function(h,v,T,R){Ie(this,h,v,T,R)};function q(h,v){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new N(v,h);else if(v instanceof N)v.target=v.target||h;else{var H=v;v=new N(R,h),Se(v,H)}H=!0;let K,ve;if(T)for(ve=T.length-1;ve>=0;ve--)K=v.g=T[ve],H=_e(K,R,!0,v)&&H;if(K=v.g=h,H=_e(K,R,!0,v)&&H,H=_e(K,R,!1,v)&&H,T)for(ve=0;ve<T.length;ve++)K=v.g=T[ve],H=_e(K,R,!1,v)&&H}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const T=h.g[v];for(let R=0;R<T.length;R++)O(T[R]);delete h.g[v],h.h--}}this.G=null},Pe.prototype.J=function(h,v,T,R){return this.i.add(String(h),v,!1,T,R)},Pe.prototype.K=function(h,v,T,R){return this.i.add(String(h),v,!0,T,R)};function _e(h,v,T,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let K=0;K<v.length;++K){const ve=v[K];if(ve&&!ve.da&&ve.capture==T){const Je=ve.listener,on=ve.ha||ve.src;ve.fa&&Ve(h.i,ve),H=Je.call(on,R)!==!1&&H}}return H&&!R.defaultPrevented}function mt(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:i.setTimeout(h,v||0)}function ie(h){h.g=mt(()=>{h.g=null,h.i&&(h.i=!1,ie(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class oe extends I{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function We(h){I.call(this),this.h=h,this.g={}}f(We,I);var xt=[];function $t(h){z(h.g,function(v,T){this.g.hasOwnProperty(T)&&Ke(v)},h),h.g={}}We.prototype.N=function(){We.Z.N.call(this),$t(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=i.JSON.stringify,qn=i.JSON.parse,pr=class{stringify(h){return i.JSON.stringify(h,void 0)}parse(h){return i.JSON.parse(h,void 0)}};function ps(){}function gs(){}var er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hr(){N.call(this,"d")}f(Hr,N);function gr(){N.call(this,"c")}f(gr,N);var sn={},tr=null;function M(){return tr=tr||new Pe}sn.Ia="serverreachability";function we(h){N.call(this,sn.Ia,h)}f(we,N);function ee(h){const v=M();q(v,new we(v))}sn.STAT_EVENT="statevent";function ge(h,v){N.call(this,sn.STAT_EVENT,h),this.stat=v}f(ge,N);function he(h){const v=M();q(v,new ge(v,h))}sn.Ja="timingevent";function tt(h,v){N.call(this,sn.Ja,h),this.size=v}f(tt,N);function Be(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){h()},v)}function U(){this.g=!0}U.prototype.ua=function(){this.g=!1};function ne(h,v,T,R,H,K){h.info(function(){if(h.g)if(K){var ve="",Je=K.split("&");for(let St=0;St<Je.length;St++){var on=Je[St].split("=");if(on.length>1){const gn=on[0];on=on[1];const xs=gn.split("_");ve=xs.length>=2&&xs[1]=="type"?ve+(gn+"="+on+"&"):ve+(gn+"=redacted&")}}}else ve=null;else ve=K;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+T+`
`+ve})}function ae(h,v,T,R,H,K,ve){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+T+`
`+K+" "+ve})}function xe(h,v,T,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+pn(h,T)+(R?" "+R:"")})}function mn(h,v){h.info(function(){return"TIMEOUT: "+v})}U.prototype.info=function(){};function pn(h,v){if(!h.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var T=K[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var H=R[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ve=1;ve<R.length;ve++)R[ve]=""}}}}return Pn(K)}catch{return v}}var Gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vi;function Ui(){}f(Ui,ps),Ui.prototype.g=function(){return new XMLHttpRequest},Vi=new Ui;function pt(h){return encodeURIComponent(String(h))}function yt(h){var v=1;h=h.split(":");const T=[];for(;v>0&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function Mt(h,v,T,R){this.j=h,this.i=v,this.l=T,this.S=R||1,this.V=new We(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zb}function zb(){this.i=null,this.g="",this.h=!1}var $b={},zp={};function $p(h,v,T){h.M=1,h.A=Bd(vs(v)),h.u=T,h.R=!0,Bb(h,null)}function Bb(h,v){h.F=Date.now(),$d(h),h.B=vs(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),n1(T.i,"t",R),h.C=0,T=h.j.L,h.h=new zb,h.g=w1(h.j,T?v:null,!h.u),h.P>0&&(h.O=new oe(u(h.Y,h,h.g),h.P)),v=h.V,T=h.g,R=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(xt[0]=H.toString()),H=xt);for(let K=0;K<H.length;K++){const ve=$e(T,H[K],R||v.handleEvent,!1,v.h||v);if(!ve)break;v.g[ve.key]=ve}v=h.J?Y(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),ee(),ne(h.i,h.v,h.B,h.l,h.S,h.u)}Mt.prototype.ba=function(h){h=h.target;const v=this.O;v&&Eo(h)==3?v.j():this.Y(h)},Mt.prototype.Y=function(h){try{if(h==this.g)e:{const Je=Eo(this.g),on=this.g.ya(),St=this.g.ca();if(!(Je<3)&&(Je!=3||this.g&&(this.h.h||this.g.la()||c1(this.g)))){this.K||Je!=4||on==7||(on==8||St<=0?ee(3):ee(2)),Bp(this);var v=this.g.ca();this.X=v;var T=AM(this);if(this.o=v==200,ae(this.i,this.v,this.B,this.l,this.S,Je,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(R)){var K=R;break t}}K=null}if(h=K)xe(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qp(this,h);else{this.o=!1,this.m=3,he(12),Da(this),_c(this);break e}}if(this.R){h=!0;let gn;for(;!this.K&&this.C<T.length;)if(gn=RM(this,T),gn==zp){Je==4&&(this.m=4,he(14),h=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==$b){this.m=4,he(15),xe(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else xe(this.i,this.l,gn,null),qp(this,gn);if(qb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||T.length!=0||this.h.h||(this.m=1,he(16),h=!1),this.o=this.o&&h,!h)xe(this.i,this.l,T,"[Invalid Chunked Response]"),Da(this),_c(this);else if(T.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Xp(ve),ve.P=!0,he(11))}}else xe(this.i,this.l,T,null),qp(this,T);Je==4&&Da(this),this.o&&!this.K&&(Je==4?g1(this.j,this):(this.o=!1,$d(this)))}else GM(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,he(12)):(this.m=0,he(13)),Da(this),_c(this)}}}catch{}finally{}};function AM(h){if(!qb(h))return h.g.la();const v=c1(h.g);if(v==="")return"";let T="";const R=v.length,H=Eo(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Da(h),_c(h),"";h.h.i=new i.TextDecoder}for(let K=0;K<R;K++)h.h.h=!0,T+=h.h.i.decode(v[K],{stream:!(H&&K==R-1)});return v.length=0,h.h.g+=T,h.C=0,h.h.g}function qb(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function RM(h,v){var T=h.C,R=v.indexOf(`
`,T);return R==-1?zp:(T=Number(v.substring(T,R)),isNaN(T)?$b:(R+=1,R+T>v.length?zp:(v=v.slice(R,R+T),h.C=R+T,v)))}Mt.prototype.cancel=function(){this.K=!0,Da(this)};function $d(h){h.T=Date.now()+h.H,Wb(h,h.H)}function Wb(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Be(u(h.aa,h),v)}function Bp(h){h.D&&(i.clearTimeout(h.D),h.D=null)}Mt.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(mn(this.i,this.B),this.M!=2&&(ee(),he(17)),Da(this),this.m=2,_c(this)):Wb(this,this.T-h)};function _c(h){h.j.I==0||h.K||g1(h.j,h)}function Da(h){Bp(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,$t(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function qp(h,v){try{var T=h.j;if(T.I!=0&&(T.g==h||Wp(T.h,h))){if(!h.L&&Wp(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Kd(T),Hd(T);else break e;Zp(T),he(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Be(u(T.Va,T),6e3));Kb(T.h)<=1&&T.ta&&(T.ta=void 0)}else Oa(T,11)}else if((h.L||T.g==h)&&Kd(T),!k(v))for(H=T.Ba.g.parse(v),v=0;v<H.length;v++){let St=H[v];const gn=St[0];if(!(gn<=T.K))if(T.K=gn,St=St[1],T.I==2)if(St[0]=="c"){T.M=St[1],T.ba=St[2];const xs=St[3];xs!=null&&(T.ka=xs,T.j.info("VER="+T.ka));const La=St[4];La!=null&&(T.za=La,T.j.info("SVER="+T.za));const To=St[5];To!=null&&typeof To=="number"&&To>0&&(R=1.5*To,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const jo=h.g;if(jo){const Qd=jo.g?jo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qd){var K=R.h;K.g||Qd.indexOf("spdy")==-1&&Qd.indexOf("quic")==-1&&Qd.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Hp(K,K.h),K.h=null))}if(R.G){const Jp=jo.g?jo.g.getResponseHeader("X-HTTP-Session-Id"):null;Jp&&(R.wa=Jp,Nt(R.J,R.G,Jp))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ve=h;if(R.na=y1(R,R.L?R.ba:null,R.W),ve.L){Yb(R.h,ve);var Je=ve,on=R.O;on&&(Je.H=on),Je.D&&(Bp(Je),$d(Je)),R.g=ve}else m1(R);T.i.length>0&&Gd(T)}else St[0]!="stop"&&St[0]!="close"||Oa(T,7);else T.I==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Oa(T,7):Qp(T):St[0]!="noop"&&T.l&&T.l.qa(St),T.A=0)}}ee(4)}catch{}}var DM=class{constructor(h,v){this.g=h,this.map=v}};function Hb(h){this.l=h||10,i.PerformanceNavigationTiming?(h=i.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gb(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Kb(h){return h.h?1:h.g?h.g.size:0}function Wp(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Hp(h,v){h.g?h.g.add(v):h.h=v}function Yb(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Hb.prototype.cancel=function(){if(this.i=Qb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Qb(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.G);return v}return p(h.i)}var Zb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MM(h,v){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let H,K=null;R>=0?(H=h[T].substring(0,R),K=h[T].substring(R+1)):H=h[T],v(H,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function So(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof So?(this.l=h.l,Sc(this,h.j),this.o=h.o,this.g=h.g,Cc(this,h.u),this.h=h.h,Gp(this,r1(h.i)),this.m=h.m):h&&(v=String(h).match(Zb))?(this.l=!1,Sc(this,v[1]||"",!0),this.o=Ec(v[2]||""),this.g=Ec(v[3]||"",!0),Cc(this,v[4]),this.h=Ec(v[5]||"",!0),Gp(this,v[6]||"",!0),this.m=Ec(v[7]||"")):(this.l=!1,this.i=new jc(null,this.l))}So.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Tc(v,Xb,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Tc(v,Xb,!0),"@"),h.push(pt(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Tc(T,T.charAt(0)=="/"?FM:LM,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Tc(T,UM)),h.join("")},So.prototype.resolve=function(h){const v=vs(this);let T=!!h.j;T?Sc(v,h.j):T=!!h.o,T?v.o=h.o:T=!!h.g,T?v.g=h.g:T=h.u!=null;var R=h.h;if(T)Cc(v,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var H=v.h.lastIndexOf("/");H!=-1&&(R=v.h.slice(0,H+1)+R)}if(H=R,H==".."||H==".")R="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){R=H.lastIndexOf("/",0)==0,H=H.split("/");const K=[];for(let ve=0;ve<H.length;){const Je=H[ve++];Je=="."?R&&ve==H.length&&K.push(""):Je==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),R&&ve==H.length&&K.push("")):(K.push(Je),R=!0)}R=K.join("/")}else R=H}return T?v.h=R:T=h.i.toString()!=="",T?Gp(v,r1(h.i)):T=!!h.m,T&&(v.m=h.m),v};function vs(h){return new So(h)}function Sc(h,v,T){h.j=T?Ec(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Cc(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Gp(h,v,T){v instanceof jc?(h.i=v,zM(h.i,h.l)):(T||(v=Tc(v,VM)),h.i=new jc(v,h.l))}function Nt(h,v,T){h.i.set(v,T)}function Bd(h){return Nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ec(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Tc(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,OM),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function OM(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xb=/[#\/\?@]/g,LM=/[#\?:]/g,FM=/[#\?]/g,VM=/[#\?@]/g,UM=/#/g;function jc(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Ma(h){h.g||(h.g=new Map,h.h=0,h.i&&MM(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=jc.prototype,t.add=function(h,v){Ma(this),this.i=null,h=zi(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Jb(h,v){Ma(h),v=zi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function e1(h,v){return Ma(h),v=zi(h,v),h.g.has(v)}t.forEach=function(h,v){Ma(this),this.g.forEach(function(T,R){T.forEach(function(H){h.call(v,H,R,this)},this)},this)};function t1(h,v){Ma(h);let T=[];if(typeof v=="string")e1(h,v)&&(T=T.concat(h.g.get(zi(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)T=T.concat(h[v]);return T}t.set=function(h,v){return Ma(this),this.i=null,h=zi(this,h),e1(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=t1(this,h),h.length>0?String(h[0]):v):v};function n1(h,v,T){Jb(h,v),T.length>0&&(h.i=null,h.g.set(zi(h,v),p(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var T=v[R];const H=pt(T);T=t1(this,T);for(let K=0;K<T.length;K++){let ve=H;T[K]!==""&&(ve+="="+pt(T[K])),h.push(ve)}}return this.i=h.join("&")};function r1(h){const v=new jc;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function zi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function zM(h,v){v&&!h.j&&(Ma(h),h.i=null,h.g.forEach(function(T,R){const H=R.toLowerCase();R!=H&&(Jb(this,R),n1(this,H,T))},h)),h.j=v}function $M(h,v){const T=new U;if(i.Image){const R=new Image;R.onload=d(Co,T,"TestLoadImage: loaded",!0,v,R),R.onerror=d(Co,T,"TestLoadImage: error",!1,v,R),R.onabort=d(Co,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=d(Co,T,"TestLoadImage: timeout",!1,v,R),i.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function BM(h,v){const T=new U,R=new AbortController,H=setTimeout(()=>{R.abort(),Co(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(K=>{clearTimeout(H),K.ok?Co(T,"TestPingServer: ok",!0,v):Co(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Co(T,"TestPingServer: error",!1,v)})}function Co(h,v,T,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(T)}catch{}}function qM(){this.g=new pr}function Kp(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Kp,ps),Kp.prototype.g=function(){return new qd(this.i,this.h)};function qd(h,v){Pe.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(qd,Pe),t=qd.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,kc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||i).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nc(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,kc(this)),this.g&&(this.readyState=3,kc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof i.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;s1(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function s1(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Nc(this):kc(this),this.readyState==3&&s1(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Nc(this))},t.Na=function(h){this.g&&(this.response=h,Nc(this))},t.ga=function(){this.g&&Nc(this)};function Nc(h){h.readyState=4,h.l=null,h.j=null,h.B=null,kc(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function kc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function o1(h){let v="";return z(h,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function Yp(h,v,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=o1(T),typeof h=="string"?T!=null&&pt(T):Nt(h,v,T))}function Bt(h){Pe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Bt,Pe);var WM=/^https?$/i,HM=["POST","PUT"];t=Bt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vi.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(K){a1(this,K);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)T.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const K of R.keys())T.set(K,R.get(K));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),H=i.FormData&&h instanceof i.FormData,!(Array.prototype.indexOf.call(HM,v,void 0)>=0)||R||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ve]of T)this.g.setRequestHeader(K,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){a1(this,K)}};function a1(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,i1(h),Wd(h)}function i1(h){h.A||(h.A=!0,q(h,"complete"),q(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,q(this,"complete"),q(this,"abort"),Wd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wd(this,!0)),Bt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?l1(this):this.Xa())},t.Xa=function(){l1(this)};function l1(h){if(h.h&&typeof o<"u"){if(h.v&&Eo(h)==4)setTimeout(h.Ca.bind(h),0);else if(q(h,"readystatechange"),Eo(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var R;if(R=K===0){let ve=String(h.D).match(Zb)[1]||null;!ve&&i.self&&i.self.location&&(ve=i.self.location.protocol.slice(0,-1)),R=!WM.test(ve?ve.toLowerCase():"")}T=R}if(T)q(h,"complete"),q(h,"success");else{h.o=6;try{var H=Eo(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",i1(h)}}finally{Wd(h)}}}}function Wd(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,v||q(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Eo(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Eo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),qn(v)}};function c1(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function GM(h){const v={};h=(h.g&&Eo(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(k(h[R]))continue;var T=yt(h[R]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=v[H]||[];v[H]=K,K.push(T)}Z(v,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ic(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function u1(h){this.za=0,this.i=[],this.j=new U,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ic("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ic("baseRetryDelayMs",5e3,h),this.Za=Ic("retryDelaySeedMs",1e4,h),this.Ta=Ic("forwardChannelMaxRetries",2,h),this.va=Ic("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Hb(h&&h.concurrentRequestLimit),this.Ba=new qM,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=u1.prototype,t.ka=8,t.I=1,t.connect=function(h,v,T,R){he(0),this.W=h,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=y1(this,null,this.W),Gd(this)};function Qp(h){if(d1(h),h.I==3){var v=h.V++,T=vs(h.J);if(Nt(T,"SID",h.M),Nt(T,"RID",v),Nt(T,"TYPE","terminate"),Pc(h,T),v=new Mt(h,h.j,v),v.M=2,v.A=Bd(vs(T)),T=!1,i.navigator&&i.navigator.sendBeacon)try{T=i.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&i.Image&&(new Image().src=v.A,T=!0),T||(v.g=w1(v.j,null),v.g.ea(v.A)),v.F=Date.now(),$d(v)}x1(h)}function Hd(h){h.g&&(Xp(h),h.g.cancel(),h.g=null)}function d1(h){Hd(h),h.v&&(i.clearTimeout(h.v),h.v=null),Kd(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&i.clearTimeout(h.m),h.m=null)}function Gd(h){if(!Gb(h.h)&&!h.m){h.m=!0;var v=h.Ea;D||E(),F||(D(),F=!0),C.add(v,h),h.D=0}}function KM(h,v){return Kb(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Be(u(h.Ea,h,v),v1(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Mt(this,this.j,h);let K=this.o;if(this.U&&(K?(K=Y(K),Se(K,this.U)):K=this.U),this.u!==null||this.R||(H.J=K,K=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=f1(this,H,v),T=vs(this.J),Nt(T,"RID",h),Nt(T,"CVER",22),this.G&&Nt(T,"X-HTTP-Session-Id",this.G),Pc(this,T),K&&(this.R?v="headers="+pt(o1(K))+"&"+v:this.u&&Yp(T,this.u,K)),Hp(this.h,H),this.Ra&&Nt(T,"TYPE","init"),this.S?(Nt(T,"$req",v),Nt(T,"SID","null"),H.U=!0,$p(H,T,null)):$p(H,T,v),this.I=2}}else this.I==3&&(h?h1(this,h):this.i.length==0||Gb(this.h)||h1(this))};function h1(h,v){var T;v?T=v.l:T=h.V++;const R=vs(h.J);Nt(R,"SID",h.M),Nt(R,"RID",T),Nt(R,"AID",h.K),Pc(h,R),h.u&&h.o&&Yp(R,h.u,h.o),T=new Mt(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),v&&(h.i=v.G.concat(h.i)),v=f1(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Hp(h.h,T),$p(T,R,v)}function Pc(h,v){h.H&&z(h.H,function(T,R){Nt(v,R,T)}),h.l&&z({},function(T,R){Nt(v,R,T)})}function f1(h,v,T){T=Math.min(h.i.length,T);const R=h.l?u(h.l.Ka,h.l,h):null;e:{var H=h.i;let Je=-1;for(;;){const on=["count="+T];Je==-1?T>0?(Je=H[0].g,on.push("ofs="+Je)):Je=0:on.push("ofs="+Je);let St=!0;for(let gn=0;gn<T;gn++){var K=H[gn].g;const xs=H[gn].map;if(K-=Je,K<0)Je=Math.max(0,H[gn].g-100),St=!1;else try{K="req"+K+"_"||"";try{var ve=xs instanceof Map?xs:Object.entries(xs);for(const[La,To]of ve){let jo=To;l(To)&&(jo=Pn(To)),on.push(K+La+"="+encodeURIComponent(jo))}}catch(La){throw on.push(K+"type="+encodeURIComponent("_badmap")),La}}catch{R&&R(xs)}}if(St){ve=on.join("&");break e}}ve=void 0}return h=h.i.splice(0,T),v.G=h,ve}function m1(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;D||E(),F||(D(),F=!0),C.add(v,h),h.A=0}}function Zp(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Be(u(h.Da,h),v1(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,p1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Be(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,he(10),Hd(this),p1(this))};function Xp(h){h.B!=null&&(i.clearTimeout(h.B),h.B=null)}function p1(h){h.g=new Mt(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=vs(h.na);Nt(v,"RID","rpc"),Nt(v,"SID",h.M),Nt(v,"AID",h.K),Nt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Nt(v,"TO",h.ia),Nt(v,"TYPE","xmlhttp"),Pc(h,v),h.u&&h.o&&Yp(v,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Bd(vs(v)),T.u=null,T.R=!0,Bb(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Hd(this),Zp(this),he(19))};function Kd(h){h.C!=null&&(i.clearTimeout(h.C),h.C=null)}function g1(h,v){var T=null;if(h.g==v){Kd(h),Xp(h),h.g=null;var R=2}else if(Wp(h.h,v))T=v.G,Yb(h.h,v),R=1;else return;if(h.I!=0){if(v.o)if(R==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var H=h.D;R=M(),q(R,new tt(R,T)),Gd(h)}else m1(h);else if(H=v.m,H==3||H==0&&v.X>0||!(R==1&&KM(h,v)||R==2&&Zp(h)))switch(T&&T.length>0&&(v=h.h,v.i=v.i.concat(T)),H){case 1:Oa(h,5);break;case 4:Oa(h,10);break;case 3:Oa(h,6);break;default:Oa(h,2)}}}function v1(h,v){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*v}function Oa(h,v){if(h.j.info("Error code "+v),v==2){var T=u(h.bb,h),R=h.Ua;const H=!R;R=new So(R||"//www.google.com/images/cleardot.gif"),i.location&&i.location.protocol=="http"||Sc(R,"https"),Bd(R),H?$M(R.toString(),T):BM(R.toString(),T)}else he(2);h.I=0,h.l&&h.l.pa(v),x1(h),d1(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function x1(h){if(h.I=0,h.ja=[],h.l){const v=Qb(h.h);(v.length!=0||h.i.length!=0)&&(w(h.ja,v),w(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function y1(h,v,T){var R=T instanceof So?vs(T):new So(T);if(R.g!="")v&&(R.g=v+"."+R.g),Cc(R,R.u);else{var H=i.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const K=new So(null);R&&Sc(K,R),v&&(K.g=v),H&&Cc(K,H),T&&(K.h=T),R=K}return T=h.G,v=h.wa,T&&v&&Nt(R,T,v),Nt(R,"VER",h.ka),Pc(h,R),R}function w1(h,v,T){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Bt(new Kp({ab:T})):new Bt(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function b1(){}t=b1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Yd(){}Yd.prototype.g=function(h,v){return new vr(h,v)};function vr(h,v){Pe.call(this),this.g=new u1(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!k(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new $i(this)}f(vr,Pe),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Qp(this.g)},vr.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Pn(h),h=T);v.i.push(new DM(v.Ya++,h)),v.I==3&&Gd(v)},vr.prototype.N=function(){this.g.l=null,delete this.j,Qp(this.g),delete this.g,vr.Z.N.call(this)};function _1(h){Hr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}f(_1,Hr);function S1(){gr.call(this),this.status=1}f(S1,gr);function $i(h){this.g=h}f($i,b1),$i.prototype.ra=function(){q(this.g,"a")},$i.prototype.qa=function(h){q(this.g,new _1(h))},$i.prototype.pa=function(h){q(this.g,new S1)},$i.prototype.oa=function(){q(this.g,"b")},Yd.prototype.createWebChannel=Yd.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,K2=function(){return new Yd},G2=function(){return M()},H2=sn,hx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,tf=Gr,Fi.COMPLETE="complete",W2=Fi,gs.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,nu=gs,Bt.prototype.listenOnce=Bt.prototype.K,Bt.prototype.getLastError=Bt.prototype.Ha,Bt.prototype.getLastErrorCode=Bt.prototype.ya,Bt.prototype.getStatus=Bt.prototype.ca,Bt.prototype.getResponseJson=Bt.prototype.La,Bt.prototype.getResponseText=Bt.prototype.la,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Fa,q2=Bt}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const ZC="@firebase/firestore",XC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Tw("@firebase/firestore");function Yi(){return Ei.logLevel}function Ee(t,...e){if(Ei.logLevel<=lt.DEBUG){const n=e.map(kw);Ei.debug(`Firestore (${mc}): ${t}`,...n)}}function go(t,...e){if(Ei.logLevel<=lt.ERROR){const n=e.map(kw);Ei.error(`Firestore (${mc}): ${t}`,...n)}}function Gl(t,...e){if(Ei.logLevel<=lt.WARN){const n=e.map(kw);Ei.warn(`Firestore (${mc}): ${t}`,...n)}}function kw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Y2(t,r,n)}function Y2(t,e,n){let r=`FIRESTORE (${mc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw go(r),new Error(r)}function vt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Y2(e,s,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends _o{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class Yq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qq{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ao,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ao)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new Q2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class Zq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Zq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,js(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.m;return this.m=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new JC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=eW(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function fx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return cv(s)===cv(o)?dt(s,o):cv(s)?1:-1}return dt(t.length,e.length)}const tW=55296,nW=57343;function cv(t){const e=t.charCodeAt(0);return e>=tW&&e<=nW}function Kl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="__name__";class Ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Ss.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return dt(e.length,n.length)}static compareSegments(e,n){const r=Ss.isNumericId(e),s=Ss.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ss.extractNumericId(e).compare(Ss.extractNumericId(n)):fx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ia.fromString(e.substring(4,e.length-2))}}class Ct extends Ss{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const rW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends Ss{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return rW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eE}static keyField(){return new Tn([eE])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new be(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new be(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new be(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(i=!i,s++):l!=="."||i?(r+=l,s++):(o(),s++)}if(o(),i)throw new be(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Ct.fromString(e))}static fromName(e){return new Re(Ct.fromString(e).popFirst(5))}static empty(){return new Re(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t,e,n){if(!n)throw new be(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sW(t,e,n,r){if(e===!0&&r===!0)throw new be(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tE(t){if(!Re.isDocumentKey(t))throw new be(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nE(t){if(Re.isDocumentKey(t))throw new be(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function X2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yp(t);throw new be(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ed(t,e){if(!X2(t))throw new be(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new be(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=-62135596800,sE=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sE);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rE)throw new be(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sE}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ed(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:nn("string",Pt._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Pt(0,0))}static max(){return new Ge(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=-1;function oW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ge.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new pa(s,Re.empty(),e)}function aW(t){return new pa(t.readTime,t.key,Ju)}class pa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pa(Ge.min(),Re.empty(),Ju)}static max(){return new pa(Ge.max(),Re.empty(),Ju)}}function iW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==lW)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let s=0,o=0,i=!1;e.forEach(l=>{++s,l.next(()=>{++o,i&&o===s&&n()},c=>r(c))}),i=!0,o===s&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(s=>s?re.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new re((r,s)=>{const o=e.length,i=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{i[u]=d,++l,l===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new re((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function uW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=-1;function bp(t){return t==null}function lm(t){return t===0&&1/t==-1/0}function dW(t){return typeof t=="number"&&Number.isInteger(t)&&!lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="";function hW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oE(e)),e=fW(t.get(n),e);return oE(e)}function fW(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case J2:n+="";break;default:n+=o}}return n}function oE(t){return t+J2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??En.RED,this.left=s??En.EMPTY,this.right=o??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new En(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return En.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iE(this.data.getIterator())}getIteratorFrom(e){return new iE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class iE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new br([])}unionWith(e){let n=new fn(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tR("Invalid base64 string: "+o):o}}(e);return new In(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const mW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=mW.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="server_timestamp",rR="__type__",sR="__previous_value__",oR="__local_write_time__";function Aw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rR])==null?void 0:r.stringValue)===nR}function _p(t){const e=t.mapValue.fields[sR];return Aw(e)?_p(e):e}function ed(t){const e=ga(t.mapValue.fields[oR].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,n,r,s,o,i,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const cm="(default)";class td{constructor(e,n){this.projectId=e,this.database=n||cm}static empty(){return new td("","")}get isDefaultDatabase(){return this.database===cm}isEqual(e){return e instanceof td&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="__type__",iR="__max__",Ah={mapValue:{fields:{__type__:{stringValue:iR}}}},lR="__vector__",um="value";function xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Aw(t)?4:vW(t)?9007199254740991:gW(t)?10:11:ze(28295,{value:t})}function $s(t,e){if(t===e)return!0;const n=xa(t);if(n!==xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ed(t).isEqual(ed(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=ga(s.timestampValue),l=ga(o.timestampValue);return i.seconds===l.seconds&&i.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return va(s.bytesValue).isEqual(va(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Ht(s.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(s.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ht(s.integerValue)===Ht(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=Ht(s.doubleValue),l=Ht(o.doubleValue);return i===l?lm(i)===lm(l):isNaN(i)&&isNaN(l)}return!1}(t,e);case 9:return Kl(t.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},l=o.mapValue.fields||{};if(aE(i)!==aE(l))return!1;for(const c in i)if(i.hasOwnProperty(c)&&(l[c]===void 0||!$s(i[c],l[c])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function nd(t,e){return(t.values||[]).find(n=>$s(n,e))!==void 0}function Yl(t,e){if(t===e)return 0;const n=xa(t),r=xa(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return function(o,i){const l=Ht(o.integerValue||o.doubleValue),c=Ht(i.integerValue||i.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return lE(t.timestampValue,e.timestampValue);case 4:return lE(ed(t),ed(e));case 5:return fx(t.stringValue,e.stringValue);case 6:return function(o,i){const l=va(o),c=va(i);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const l=o.split("/"),c=i.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=dt(l[u],c[u]);if(d!==0)return d}return dt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const l=dt(Ht(o.latitude),Ht(i.latitude));return l!==0?l:dt(Ht(o.longitude),Ht(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cE(t.arrayValue,e.arrayValue);case 10:return function(o,i){var m,p,w,y;const l=o.fields||{},c=i.fields||{},u=(m=l[um])==null?void 0:m.arrayValue,d=(p=c[um])==null?void 0:p.arrayValue,f=dt(((w=u==null?void 0:u.values)==null?void 0:w.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return f!==0?f:cE(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===Ah.mapValue&&i===Ah.mapValue)return 0;if(o===Ah.mapValue)return 1;if(i===Ah.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=i.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=fx(c[f],d[f]);if(m!==0)return m;const p=Yl(l[c[f]],u[d[f]]);if(p!==0)return p}return dt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function lE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=ga(t),r=ga(e),s=dt(n.seconds,r.seconds);return s!==0?s:dt(n.nanos,r.nanos)}function cE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Yl(n[s],r[s]);if(o)return o}return dt(n.length,r.length)}function Ql(t){return mx(t)}function mx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ga(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return va(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=mx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${mx(n.fields[i])}`;return s+"}"}(t.mapValue):ze(61005,{value:t})}function nf(t){switch(xa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_p(t);return e?16+nf(e):16;case 5:return 2*t.stringValue.length;case 6:return va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+nf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Na(r.fields,(o,i)=>{s+=o.length+nf(i)}),s}(t.mapValue);default:throw ze(13486,{value:t})}}function uE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function px(t){return!!t&&"integerValue"in t}function Rw(t){return!!t&&"arrayValue"in t}function dE(t){return!!t&&"nullValue"in t}function hE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}function gW(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aR])==null?void 0:r.stringValue)===lR}function wu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Na(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return{...t}}function vW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=Tn.emptyPath(),r={},s=[];e.forEach((i,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}i?r[l.lastSegment()]=wu(i):s.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];rf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Na(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new ar(wu(this.value))}}function cR(t){const e=[];return Na(t.fields,(n,r)=>{const s=new Tn([n]);if(rf(r)){const o=cR(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,s,o,i,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=l}static newInvalidDocument(e){return new Fn(e,0,Ge.min(),Ge.min(),Ge.min(),ar.empty(),0)}static newFoundDocument(e,n,r,s){return new Fn(e,1,n,Ge.min(),r,s,0)}static newNoDocument(e,n){return new Fn(e,2,n,Ge.min(),Ge.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,Ge.min(),Ge.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.position=e,this.inclusive=n}}function fE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(i.referenceValue),n.key):r=Yl(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function mE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$s(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n="asc"){this.field=e,this.dir=n}}function xW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{}class tn extends uR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wW(e,n,r):n==="array-contains"?new SW(e,r):n==="in"?new CW(e,r):n==="not-in"?new EW(e,r):n==="array-contains-any"?new TW(e,r):new tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bW(e,r):new _W(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yl(n,this.value)):n!==null&&xa(this.value)===xa(n)&&this.matchesComparison(Yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hs extends uR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hs(e,n)}matches(e){return dR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dR(t){return t.op==="and"}function hR(t){return yW(t)&&dR(t)}function yW(t){for(const e of t.filters)if(e instanceof hs)return!1;return!0}function gx(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Ql(t.value);if(hR(t))return t.filters.map(e=>gx(e)).join(",");{const e=t.filters.map(n=>gx(n)).join(",");return`${t.op}(${e})`}}function fR(t,e){return t instanceof tn?function(r,s){return s instanceof tn&&r.op===s.op&&r.field.isEqual(s.field)&&$s(r.value,s.value)}(t,e):t instanceof hs?function(r,s){return s instanceof hs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,l)=>o&&fR(i,s.filters[l]),!0):!1}(t,e):void ze(19439)}function mR(t){return t instanceof tn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ql(n.value)}`}(t):t instanceof hs?function(n){return n.op.toString()+" {"+n.getFilters().map(mR).join(" ,")+"}"}(t):"Filter"}class wW extends tn{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class bW extends tn{constructor(e,n){super(e,"in",n),this.keys=pR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _W extends tn{constructor(e,n){super(e,"not-in",n),this.keys=pR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Re.fromName(r.referenceValue))}class SW extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rw(n)&&nd(n.arrayValue,this.value)}}class CW extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nd(this.value.arrayValue,n)}}class EW extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nd(this.value.arrayValue,n)}}class TW extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n=null,r=[],s=[],o=null,i=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=l,this.Te=null}}function pE(t,e=null,n=[],r=[],s=null,o=null,i=null){return new jW(t,e,n,r,s,o,i)}function Dw(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),bp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ql(r)).join(",")),e.Te=n}return e.Te}function Mw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mE(t.startAt,e.startAt)&&mE(t.endAt,e.endAt)}function vx(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n=null,r=[],s=[],o=null,i="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NW(t,e,n,r,s,o,i,l){return new vc(t,e,n,r,s,o,i,l)}function Sp(t){return new vc(t)}function gE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gR(t){return t.collectionGroup!==null}function bu(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let l=new fn(Tn.comparator);return i.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new rd(o,r))}),n.has(Tn.keyField().canonicalString())||e.Ie.push(new rd(Tn.keyField(),r))}return e.Ie}function Ds(t){const e=Ye(t);return e.Ee||(e.Ee=kW(e,bu(t))),e.Ee}function kW(t,e){if(t.limitType==="F")return pE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new rd(s.field,o)});const n=t.endAt?new dm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dm(t.startAt.position,t.startAt.inclusive):null;return pE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xx(t,e){const n=t.filters.concat([e]);return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yx(t,e,n){return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cp(t,e){return Mw(Ds(t),Ds(e))&&t.limitType===e.limitType}function vR(t){return`${Dw(Ds(t))}|lt:${t.limitType}`}function Qi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>mR(s)).join(", ")}]`),bp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ql(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ql(s)).join(",")),`Target(${r})`}(Ds(t))}; limitType=${t.limitType})`}function Ep(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of bu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,l,c){const u=fE(i,l,c);return i.inclusive?u<=0:u<0}(r.startAt,bu(r),s)||r.endAt&&!function(i,l,c){const u=fE(i,l,c);return i.inclusive?u>=0:u>0}(r.endAt,bu(r),s))}(t,e)}function IW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xR(t){return(e,n)=>{let r=!1;for(const s of bu(t)){const o=PW(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function PW(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):function(o,i,l){const c=i.data.field(o),u=l.data.field(o);return c!==null&&u!==null?Yl(c,u):ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return eR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=new zt(Re.comparator);function vo(){return AW}const yR=new zt(Re.comparator);function ru(...t){let e=yR;for(const n of t)e=e.insert(n.key,n);return e}function wR(t){let e=yR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ti(){return _u()}function bR(){return _u()}function _u(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const RW=new zt(Re.comparator),DW=new fn(Re.comparator);function ht(...t){let e=DW;for(const n of t)e=e.add(n);return e}const MW=new fn(dt);function OW(){return MW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function _R(t){return{integerValue:""+t}}function LW(t,e){return dW(e)?_R(e):Ow(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this._=void 0}}function FW(t,e,n){return t instanceof hm?function(s,o){const i={fields:{[rR]:{stringValue:nR},[oR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Aw(o)&&(o=_p(o)),o&&(i.fields[sR]=o),{mapValue:i}}(n,e):t instanceof sd?CR(t,e):t instanceof od?ER(t,e):function(s,o){const i=SR(s,o),l=vE(i)+vE(s.Ae);return px(i)&&px(s.Ae)?_R(l):Ow(s.serializer,l)}(t,e)}function VW(t,e,n){return t instanceof sd?CR(t,e):t instanceof od?ER(t,e):n}function SR(t,e){return t instanceof fm?function(r){return px(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class hm extends Tp{}class sd extends Tp{constructor(e){super(),this.elements=e}}function CR(t,e){const n=TR(e);for(const r of t.elements)n.some(s=>$s(s,r))||n.push(r);return{arrayValue:{values:n}}}class od extends Tp{constructor(e){super(),this.elements=e}}function ER(t,e){let n=TR(e);for(const r of t.elements)n=n.filter(s=>!$s(s,r));return{arrayValue:{values:n}}}class fm extends Tp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vE(t){return Ht(t.integerValue||t.doubleValue)}function TR(t){return Rw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UW(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sd&&s instanceof sd||r instanceof od&&s instanceof od?Kl(r.elements,s.elements,$s):r instanceof fm&&s instanceof fm?$s(r.Ae,s.Ae):r instanceof hm&&s instanceof hm}(t.transform,e.transform)}class zW{constructor(e,n){this.version=e,this.transformResults=n}}class as{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jp{}function jR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lw(t.key,as.none()):new Td(t.key,t.data,as.none());{const n=t.data,r=ar.empty();let s=new fn(Tn.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new ka(t.key,r,new br(s.toArray()),as.none())}}function $W(t,e,n){t instanceof Td?function(s,o,i){const l=s.value.clone(),c=yE(s.fieldTransforms,o,i.transformResults);l.setAll(c),o.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ka?function(s,o,i){if(!sf(s.precondition,o))return void o.convertToUnknownDocument(i.version);const l=yE(s.fieldTransforms,o,i.transformResults),c=o.data;c.setAll(NR(s)),c.setAll(l),o.convertToFoundDocument(i.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Su(t,e,n,r){return t instanceof Td?function(o,i,l,c){if(!sf(o.precondition,i))return l;const u=o.value.clone(),d=wE(o.fieldTransforms,c,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ka?function(o,i,l,c){if(!sf(o.precondition,i))return l;const u=wE(o.fieldTransforms,c,i),d=i.data;return d.setAll(NR(o)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,i,l){return sf(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):l}(t,e,n)}function BW(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=SR(r.transform,s||null);o!=null&&(n===null&&(n=ar.empty()),n.set(r.field,o))}return n||null}function xE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Kl(r,s,(o,i)=>UW(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Td extends jp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ka extends jp{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yE(t,e,n){const r=new Map;vt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,l=e.data.field(o.field);r.set(o.field,VW(i,l,n[s]))}return r}function wE(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,FW(o,i,e))}return r}class Lw extends jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qW extends jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&$W(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bR();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let l=this.applyToLocalView(i,o.mutatedFields);l=n.has(s.key)?null:l;const c=jR(i,l);c!==null&&r.set(s.key,c),i.isValidDocument()||i.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&Kl(this.mutations,e.mutations,(n,r)=>xE(n,r))&&Kl(this.baseMutations,e.baseMutations,(n,r)=>xE(n,r))}}class Fw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){vt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return RW}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Fw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,ft;function KW(t){switch(t){case J.OK:return ze(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function kR(t){if(t===void 0)return go("GRPC error has no .code"),J.UNKNOWN;switch(t){case Yt.OK:return J.OK;case Yt.CANCELLED:return J.CANCELLED;case Yt.UNKNOWN:return J.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return J.INTERNAL;case Yt.UNAVAILABLE:return J.UNAVAILABLE;case Yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Yt.NOT_FOUND:return J.NOT_FOUND;case Yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Yt.ABORTED:return J.ABORTED;case Yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Yt.DATA_LOSS:return J.DATA_LOSS;default:return ze(39323,{code:t})}}(ft=Yt||(Yt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW=new ia([4294967295,4294967295],0);function bE(t){const e=YW().encode(t),n=new B2;return n.update(e),new Uint8Array(n.digest())}function _E(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ia([n,r],0),new ia([s,o],0)]}class Vw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ia.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ia.fromNumber(r)));return s.compare(QW)===1&&(s=new ia([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bE(e),[r,s]=_E(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);if(!this.we(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Vw(o,s,n);return r.forEach(l=>i.insert(l)),i}insert(e){if(this.ge===0)return;const n=bE(e),[r,s]=_E(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);this.Se(i)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,jd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Np(Ge.min(),s,new zt(dt),vo(),ht())}}class jd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jd(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class IR{constructor(e,n){this.targetId=e,this.Ce=n}}class PR{constructor(e,n,r=In.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class SE{constructor(){this.ve=0,this.Fe=CE(),this.Me=In.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ht(),n=ht(),r=ht();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ze(38017,{changeType:o})}}),new jd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=CE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZW{constructor(e){this.Ge=e,this.ze=new Map,this.je=vo(),this.Je=Rh(),this.He=Rh(),this.Ye=new zt(dt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(vx(o))if(r===0){const i=new Re(o.path);this.et(n,i,Fn.newNoDocument(i,Ge.min()))}else vt(r===1,20013,{expectedCount:r});else{const i=this._t(n);if(i!==r){const l=this.ut(e),c=l?this.ct(l,e,i):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,l;try{i=va(r).toUint8Array()}catch(c){if(c instanceof tR)return Gl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Vw(i,s,o)}catch(c){return Gl(c instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Ge.ht(),l=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,i)=>{const l=this.ot(i);if(l){if(o.current&&vx(l.target)){const c=new Re(l.target.path);this.It(c).has(i)||this.Et(i,c)||this.et(i,c,Fn.newNoDocument(c,e))}o.Be&&(n.set(i,o.ke()),o.qe())}});let r=ht();this.He.forEach((o,i)=>{let l=!0;i.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.je.forEach((o,i)=>i.setReadTime(e));const s=new Np(e,n,this.Ye,this.je,r);return this.je=vo(),this.Je=Rh(),this.He=Rh(),this.Ye=new zt(dt),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new SE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new fn(dt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new fn(dt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new SE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rh(){return new zt(Re.comparator)}function CE(){return new zt(Re.comparator)}const XW=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),JW=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),eH=(()=>({and:"AND",or:"OR"}))();class tH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wx(t,e){return t.useProto3Json||bp(e)?e:{value:e}}function mm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nH(t,e){return mm(t,e.toTimestamp())}function Ms(t){return vt(!!t,49232),Ge.fromTimestamp(function(n){const r=ga(n);return new Pt(r.seconds,r.nanos)}(t))}function Uw(t,e){return bx(t,e).canonicalString()}function bx(t,e){const n=function(s){return new Ct(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RR(t){const e=Ct.fromString(t);return vt(FR(e),10190,{key:e.toString()}),e}function _x(t,e){return Uw(t.databaseId,e.path)}function uv(t,e){const n=RR(e);if(n.get(1)!==t.databaseId.projectId)throw new be(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(MR(n))}function DR(t,e){return Uw(t.databaseId,e)}function rH(t){const e=RR(t);return e.length===4?Ct.emptyPath():MR(e)}function Sx(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MR(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function EE(t,e,n){return{name:_x(t,e),fields:n.value.mapValue.fields}}function sH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ze(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(vt(d===void 0||typeof d=="string",58123),In.fromBase64String(d||"")):(vt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),In.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,l=i&&function(u){const d=u.code===void 0?J.UNKNOWN:kR(u.code);return new be(d,u.message||"")}(i);n=new PR(r,s,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=uv(t,r.document.name),o=Ms(r.document.updateTime),i=r.document.createTime?Ms(r.document.createTime):Ge.min(),l=new ar({mapValue:{fields:r.document.fields}}),c=Fn.newFoundDocument(s,o,i,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new of(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=uv(t,r.document),o=r.readTime?Ms(r.readTime):Ge.min(),i=Fn.newNoDocument(s,o),l=r.removedTargetIds||[];n=new of([],l,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=uv(t,r.document),o=r.removedTargetIds||[];n=new of([],o,s,null)}else{if(!("filter"in e))return ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new GW(s,o),l=r.targetId;n=new IR(l,i)}}return n}function oH(t,e){let n;if(e instanceof Td)n={update:EE(t,e.key,e.value)};else if(e instanceof Lw)n={delete:_x(t,e.key)};else if(e instanceof ka)n={update:EE(t,e.key,e.data),updateMask:mH(e.fieldMask)};else{if(!(e instanceof qW))return ze(16599,{Vt:e.type});n={verify:_x(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const l=i.transform;if(l instanceof hm)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sd)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof od)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof fm)return{fieldPath:i.field.canonicalString(),increment:l.Ae};throw ze(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:nH(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)}(t,e.precondition)),n}function aH(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map(n=>function(s,o){let i=s.updateTime?Ms(s.updateTime):Ms(o);return i.isEqual(Ge.min())&&(i=Ms(o)),new zW(i,s.transformResults||[])}(n,e))):[]}function iH(t,e){return{documents:[DR(t,e.path)]}}function lH(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DR(t,s);const o=function(u){if(u.length!==0)return LR(hs.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Zi(m.field),direction:dH(m.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const l=wx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function cH(t){let e=rH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){vt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const m=OR(f);return m instanceof hs&&hR(m)?m.getFilters():[m]}(n.where));let i=[];n.orderBy&&(i=function(f){return f.map(m=>function(w){return new rd(Xi(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,bp(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new dm(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new dm(p,m)}(n.endAt)),NW(e,s,i,o,l,"F",c,u)}function uH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xi(n.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xi(n.unaryFilter.field);return tn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xi(n.unaryFilter.field);return tn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xi(n.unaryFilter.field);return tn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return tn.create(Xi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hs.create(n.compositeFilter.filters.map(r=>OR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(n.compositeFilter.op))}(t):ze(30097,{filter:t})}function dH(t){return XW[t]}function hH(t){return JW[t]}function fH(t){return eH[t]}function Zi(t){return{fieldPath:t.canonicalString()}}function Xi(t){return Tn.fromServerFormat(t.fieldPath)}function LR(t){return t instanceof tn?function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NAN"}};if(dE(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NAN"}};if(dE(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zi(n.field),op:hH(n.op),value:n.value}}}(t):t instanceof hs?function(n){const r=n.getFilters().map(s=>LR(s));return r.length===1?r[0]:{compositeFilter:{op:fH(n.op),filters:r}}}(t):ze(54877,{filter:t})}function mH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r,s,o=Ge.min(),i=Ge.min(),l=In.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e){this.yt=e}}function gH(t){const e=cH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(){this.Cn=new xH}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(pa.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class xH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new fn(Ct.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new fn(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VR=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(VR,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zl(0)}static cr(){return new Zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="LruGarbageCollector",yH=1048576;function NE([t,e],[n,r]){const s=dt(t,n);return s===0?dt(e,r):s}class wH{constructor(e){this.Ir=e,this.buffer=new fn(NE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();NE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(jE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gc(n)?Ee(jE,"Ignoring IndexedDB error during garbage collection: ",n):await pc(n)}await this.Vr(3e5)})}}class _H{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(wp.ce);const r=new wH(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(TE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,i,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,i=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Yi()<=lt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${s} in `+(l-i)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:f})))}}function SH(t,e){return new _H(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Su(r.mutation,s,br.empty(),Pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const s=ti();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=ru();return o.forEach((l,c)=>{i=i.insert(l,c.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,l)=>{n.set(i,l)})})}computeViews(e,n,r,s){let o=vo();const i=_u(),l=function(){return _u()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ka)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),Su(d.mutation,u,d.mutation.getFieldMask(),Pt.now())):i.set(u.key,br.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>l.set(u,new EH(d,i.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=_u();let s=new zt((i,l)=>i-l),o=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const l of i)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||br.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||ht()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const i=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=bR();d.forEach(m=>{if(!o.has(m)){const p=jR(n.get(m),r.get(m));p!==null&&f.set(m,p),o=o.add(m)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,f))}return re.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return Re.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):re.resolve(ti());let l=Ju,c=o;return i.next(u=>re.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(d)?re.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ht())).next(d=>({batchId:l,changes:wR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(r=>{let s=ru();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=ru();return this.indexManager.getCollectionParents(e,o).next(l=>re.forEach(l,c=>{const u=function(f,m){return new vc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,m)=>{i=i.insert(f,m)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((c,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,Fn.newInvalidDocument(d)))});let l=ru();return i.forEach((c,u)=>{const d=o.get(c);d!==void 0&&Su(d.mutation,u,br.empty(),Pt.now()),Ep(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ms(s.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:gH(s.bundledQuery),readTime:Ms(s.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(){this.overlays=new zt(Re.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ti();return re.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const s=ti(),o=n.length+1,i=new Re(n.child("")),l=this.overlays.getIteratorFrom(i);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return re.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new zt((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=ti(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=ti(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return re.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new HW(n,r));let o=this.qr.get(n);o===void 0&&(o=ht(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.Qr=new fn(yn.$r),this.Ur=new fn(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new yn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Re(new Ct([])),r=new yn(n,e),s=new yn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],i=>{this.Gr(i),o.push(i.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new Ct([])),r=new yn(n,e),s=new yn(n,e+1);let o=ht();return this.Ur.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new yn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||dt(e.Yr,n.Yr)}static Kr(e,n){return dt(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new fn(yn.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new WW(o,n,r,s);this.mutationQueue.push(i);for(const l of s)this.Zr=this.Zr.add(new yn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return re.resolve(i)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Pw:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),s=new yn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],i=>{const l=this.Xr(i.Yr);o.push(l)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(dt);return n.forEach(s=>{const o=new yn(s,0),i=new yn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,i],l=>{r=r.add(l.Yr)})}),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const i=new yn(new Re(o),0);let l=new fn(dt);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},i),re.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,s=>{const o=new yn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new yn(n,0),s=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.ri=e,this.docs=function(){return new zt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=vo();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Fn.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=vo();const i=n.path,l=new Re(i.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||iW(aW(d),r)<=0||(s.has(d.key)||Ep(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,s){ze(9500)}ii(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AH(this)}getSize(e){return re.resolve(this.size)}}class AH extends CH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.persistence=e,this.si=new Oi(n=>Dw(n),Mw),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new zw,this.targetCount=0,this.ai=Zl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((i,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),re.waitFor(o).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.ui={},this.overlays={},this.ci=new wp(0),this.li=!1,this.li=!0,this.hi=new kH,this.referenceDelegate=e(this),this.Pi=new RH(this),this.indexManager=new vH,this.remoteDocumentCache=function(s){return new PH(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new pH(n),this.Ii=new jH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new IH(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const s=new DH(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return re.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class DH extends cW{constructor(e){super(),this.currentSequenceNumber=e}}class $w{constructor(e){this.persistence=e,this.Ri=new zw,this.Vi=null}static mi(e){return new $w(e)}get fi(){if(this.Vi)return this.Vi;throw ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,r=>{const s=Re.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Ge.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class pm{constructor(e,n){this.persistence=e,this.pi=new Oi(r=>hW(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=SH(this,n)}static mi(e,n){return new pm(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return re.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?re.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,i=>this.br(e,i,n).next(l=>{l||(r++,o.removeEntry(i,Ge.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nf(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ht(),s=ht();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Bw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return I7()?8:uW($n())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new MH;return this.Ss(e,n,i).next(l=>{if(o.result=l,this.Vs)return this.bs(e,n,i,l.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Yi()<=lt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Qi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Yi()<=lt.DEBUG&&Ee("QueryEngine","Query:",Qi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Yi()<=lt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Qi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ds(n))):re.resolve())}ys(e,n){if(gE(n))return re.resolve(null);let r=Ds(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yx(n,null,"F"),r=Ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=ht(...o);return this.ps.getDocuments(e,i).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,i,c.readTime)?this.ys(e,yx(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return gE(n)||s.isEqual(Ge.min())?re.resolve(null):this.ps.getDocuments(e,r).next(o=>{const i=this.Ds(n,o);return this.Cs(n,i,r,s)?re.resolve(null):(Yi()<=lt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qi(n)),this.vs(e,i,n,oW(s,Ju)).next(l=>l))})}Ds(e,n){let r=new fn(xR(e));return n.forEach((s,o)=>{Ep(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Yi()<=lt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Qi(n)),this.ps.getDocumentsMatchingQuery(e,n,pa.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="LocalStore",LH=3e8;class FH{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new zt(dt),this.xs=new Oi(o=>Dw(o),Mw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function VH(t,e,n,r){return new FH(t,e,n,r)}async function zR(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],l=[];let c=ht();for(const u of s){i.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:i,addedBatchIds:l}))})})}function UH(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,m=f.keys();let p=re.resolve();return m.forEach(w=>{p=p.next(()=>d.getEntry(c,w)).next(y=>{const S=u.docVersions.get(w);vt(S!==null,48541),y.version.compareTo(S)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ht();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function $R(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function zH(t,e){const n=Ye(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let p=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(In.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(y,S,b){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=LH?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,p,d)&&l.push(n.Pi.updateTargetData(o,p))});let c=vo(),u=ht();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push($H(o,i,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(Ge.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return re.waitFor(l).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=s,o))}function $H(t,e,n){let r=ht(),s=ht();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=vo();return n.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ge.min())?(e.removeEntry(l,c.readTime),i=i.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),i=i.insert(l,c)):Ee(qw,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:i,qs:s}})}function BH(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Pw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qH(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,re.resolve(s)):n.Pi.allocateTargetId(r).next(i=>(s=new Ho(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Cx(t,e,n){const r=Ye(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!gc(i))throw i;Ee(qw,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function kE(t,e,n){const r=Ye(t);let s=Ge.min(),o=ht();return r.persistence.runTransaction("Execute query","readwrite",i=>function(c,u,d){const f=Ye(c),m=f.xs.get(d);return m!==void 0?re.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,d)}(r,i,Ds(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(i,l.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(i,e,n?s:Ge.min(),n?o:ht())).next(l=>(WH(r,IW(e),l),{documents:l,Qs:o})))}function WH(t,e,n){let r=t.Os.get(e)||Ge.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class IE{constructor(){this.activeTargetIds=OW()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HH{constructor(){this.Mo=new IE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="ConnectivityMonitor";class AE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(PE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(PE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function Ex(){return Dh===null?Dh=function(){return 268435456+Math.round(2147483648*Math.random())}():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="RestConnection",KH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===cm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const i=Ex(),l=this.zo(e,n.toUriEncodedString());Ee(dv,`Sending RPC '${e}' ${i}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,o);const{host:u}=new URL(l),d=hc(u);return this.Jo(e,l,c,r,d).then(f=>(Ee(dv,`Received RPC '${e}' ${i}: `,f),f),f=>{throw Gl(dv,`RPC '${e}' ${i} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,o,i){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=KH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class ZH extends YH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const i=Ex();return new Promise((l,c)=>{const u=new q2;u.setWithCredentials(!0),u.listenOnce(W2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tf.NO_ERROR:const f=u.getResponseJson();Ee(Dn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),l(f);break;case tf.TIMEOUT:Ee(Dn,`RPC '${e}' ${i} timed out`),c(new be(J.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const m=u.getStatus();if(Ee(Dn,`RPC '${e}' ${i} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const w=p==null?void 0:p.error;if(w&&w.status&&w.message){const y=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(x)>=0?x:J.UNKNOWN}(w.status);c(new be(y,w.message))}else c(new be(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new be(J.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:i,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ee(Dn,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Ee(Dn,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Ex(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=K2(),l=G2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");Ee(Dn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=i.createWebChannel(d,c);this.I_(f);let m=!1,p=!1;const w=new QH({Yo:S=>{p?Ee(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(m||(Ee(Dn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Ee(Dn,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),y=(S,b,x)=>{S.listen(b,_=>{try{x(_)}catch(A){setTimeout(()=>{throw A},0)}})};return y(f,nu.EventType.OPEN,()=>{p||(Ee(Dn,`RPC '${e}' stream ${s} transport opened.`),w.o_())}),y(f,nu.EventType.CLOSE,()=>{p||(p=!0,Ee(Dn,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(f))}),y(f,nu.EventType.ERROR,S=>{p||(p=!0,Gl(Dn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),w.a_(new be(J.UNAVAILABLE,"The operation could not be completed")))}),y(f,nu.EventType.MESSAGE,S=>{var b;if(!p){const x=S.data[0];vt(!!x,16349);const _=x,A=(_==null?void 0:_.error)||((b=_[0])==null?void 0:b.error);if(A){Ee(Dn,`RPC '${e}' stream ${s} received error:`,A);const D=A.status;let F=function(P){const I=Yt[P];if(I!==void 0)return kR(I)}(D),C=A.message;F===void 0&&(F=J.INTERNAL,C="Unknown error status: "+D+" with message "+A.message),p=!0,w.a_(new be(F,C)),f.close()}else Ee(Dn,`RPC '${e}' stream ${s} received:`,x),w.u_(x)}}),y(l,H2.STAT_EVENT,S=>{S.stat===hx.PROXY?Ee(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===hx.NOPROXY&&Ee(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function hv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t){return new tH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="PersistentStream";class qR{constructor(e,n,r,s,o,i,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(go(n.toString()),go("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new be(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ee(RE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ee(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XH extends qR{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sH(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ge.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?Ge.min():i.readTime?Ms(i.readTime):Ge.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Sx(this.serializer),n.addTarget=function(o,i){let l;const c=i.target;if(l=vx(c)?{documents:iH(o,c)}:{query:lH(o,c).ft},l.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){l.resumeToken=AR(o,i.resumeToken);const u=wx(o,i.expectedCount);u!==null&&(l.expectedCount=u)}else if(i.snapshotVersion.compareTo(Ge.min())>0){l.readTime=mm(o,i.snapshotVersion.toTimestamp());const u=wx(o,i.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=uH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Sx(this.serializer),n.removeTarget=e,this.q_(n)}}class JH extends qR{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aH(e.writeResults,e.commitTime),r=Ms(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Sx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oH(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{}class tG extends eG{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new be(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Go(e,bx(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(J.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Ho(e,bx(n,r),s,i,l,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new be(J.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class nG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(go(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="RemoteStore";class rG{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(i=>{r.enqueueAndForget(async()=>{Li(this)&&(Ee(Ti,"Restarting streams for network reachability change."),await async function(c){const u=Ye(c);u.Ea.add(4),await Nd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Ip(u)}(this))})}),this.Ra=new nG(r,s)}}async function Ip(t){if(Li(t))for(const e of t.da)await e(!0)}async function Nd(t){for(const e of t.da)await e(!1)}function WR(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kw(n)?Gw(n):xc(n).O_()&&Hw(n,e))}function Ww(t,e){const n=Ye(t),r=xc(n);n.Ia.delete(e),r.O_()&&HR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Li(n)&&n.Ra.set("Unknown"))}function Hw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xc(t).Y_(e)}function HR(t,e){t.Va.Ue(e),xc(t).Z_(e)}function Gw(t){t.Va=new ZW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xc(t).start(),t.Ra.ua()}function Kw(t){return Li(t)&&!xc(t).x_()&&t.Ia.size>0}function Li(t){return Ye(t).Ea.size===0}function GR(t){t.Va=void 0}async function sG(t){t.Ra.set("Online")}async function oG(t){t.Ia.forEach((e,n)=>{Hw(t,e)})}async function aG(t,e){GR(t),Kw(t)?(t.Ra.ha(e),Gw(t)):t.Ra.set("Unknown")}async function iG(t,e,n){if(t.Ra.set("Online"),e instanceof PR&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const l of o.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,i),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){Ee(Ti,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gm(t,r)}else if(e instanceof of?t.Va.Ze(e):e instanceof IR?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ge.min()))try{const r=await $R(t.localStore);n.compareTo(r)>=0&&await function(o,i){const l=o.Va.Tt(i);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(c.resumeToken,i))}}),l.targetMismatches.forEach((c,u)=>{const d=o.Ia.get(c);if(!d)return;o.Ia.set(c,d.withResumeToken(In.EMPTY_BYTE_STRING,d.snapshotVersion)),HR(o,c);const f=new Ho(d.target,c,u,d.sequenceNumber);Hw(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ee(Ti,"Failed to raise snapshot:",r),await gm(t,r)}}async function gm(t,e,n){if(!gc(e))throw e;t.Ea.add(1),await Nd(t),t.Ra.set("Offline"),n||(n=()=>$R(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(Ti,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ip(t)})}function KR(t,e){return e().catch(n=>gm(t,n,e))}async function Pp(t){const e=Ye(t),n=ya(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pw;for(;lG(e);)try{const s=await BH(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,cG(e,s)}catch(s){await gm(e,s)}YR(e)&&QR(e)}function lG(t){return Li(t)&&t.Ta.length<10}function cG(t,e){t.Ta.push(e);const n=ya(t);n.O_()&&n.X_&&n.ea(e.mutations)}function YR(t){return Li(t)&&!ya(t).x_()&&t.Ta.length>0}function QR(t){ya(t).start()}async function uG(t){ya(t).ra()}async function dG(t){const e=ya(t);for(const n of t.Ta)e.ea(n.mutations)}async function hG(t,e,n){const r=t.Ta.shift(),s=Fw.from(r,e,n);await KR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Pp(t)}async function fG(t,e){e&&ya(t).X_&&await async function(r,s){if(function(i){return KW(i)&&i!==J.ABORTED}(s.code)){const o=r.Ta.shift();ya(r).B_(),await KR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Pp(r)}}(t,e),YR(t)&&QR(t)}async function DE(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Ee(Ti,"RemoteStore received new credentials");const r=Li(n);n.Ea.add(3),await Nd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ip(n)}async function mG(t,e){const n=Ye(t);e?(n.Ea.delete(2),await Ip(n)):e||(n.Ea.add(2),await Nd(n),n.Ra.set("Unknown"))}function xc(t){return t.ma||(t.ma=function(n,r,s){const o=Ye(n);return o.sa(),new XH(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:sG.bind(null,t),t_:oG.bind(null,t),r_:aG.bind(null,t),H_:iG.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Kw(t)?Gw(t):t.Ra.set("Unknown")):(await t.ma.stop(),GR(t))})),t.ma}function ya(t){return t.fa||(t.fa=function(n,r,s){const o=Ye(n);return o.sa(),new JH(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:uG.bind(null,t),r_:fG.bind(null,t),ta:dG.bind(null,t),na:hG.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Pp(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(Ti,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,l=new Yw(e,n,i,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qw(t,e){if(go("AsyncQueue",`${e}: ${t}`),gc(t))return new be(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{static emptySet(e){return new jl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=ru(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.ga=new zt(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xl{constructor(e,n,r,s,o,i,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(l=>{i.push({type:0,doc:l})}),new Xl(e,n,jl.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class gG{constructor(){this.queries=OE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ye(n),o=s.queries;s.queries=OE(),o.forEach((i,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new be(J.ABORTED,"Firestore shutting down"))}}function OE(){return new Oi(t=>vR(t),Cp)}async function Zw(t,e){const n=Ye(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new pG,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const l=Qw(i,`Initialization of query '${Qi(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Jw(n)}async function Xw(t,e){const n=Ye(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.Sa.indexOf(e);i>=0&&(o.Sa.splice(i,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vG(t,e){const n=Ye(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const l of i.Sa)l.Fa(s)&&(r=!0);i.wa=s}}r&&Jw(n)}function xG(t,e,n){const r=Ye(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Jw(t){t.Ca.forEach(e=>{e.next()})}var Tx,LE;(LE=Tx||(Tx={})).Ma="default",LE.Cache="cache";class eb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.key=e}}class XR{constructor(e){this.key=e}}class yG{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ht(),this.mutatedKeys=ht(),this.eu=xR(e),this.tu=new jl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ME,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=Ep(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;m&&p?m.data.isEqual(p.data)?w!==y&&(r.track({type:3,doc:p}),S=!0):this.su(m,p)||(r.track({type:2,doc:p}),S=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(l=!0)):!m&&p?(r.track({type:0,doc:p}),S=!0):m&&!p&&(r.track({type:1,doc:m}),S=!0,(c||u)&&(l=!0)),S&&(p?(i=i.add(p),o=y?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:i,iu:r,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,f)=>function(p,w){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Rt:S})}};return y(p)-y(w)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,i.length!==0||u?{snapshot:new Xl(this.query,e.tu,o,i,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ME,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ht(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new XR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new ZR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ht();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tb="SyncEngine";class wG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bG{constructor(e){this.key=e,this.hu=!1}}class _G{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Oi(l=>vR(l),Cp),this.Iu=new Map,this.Eu=new Set,this.du=new zt(Re.comparator),this.Au=new Map,this.Ru=new zw,this.Vu={},this.mu=new Map,this.fu=Zl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SG(t,e,n=!0){const r=sD(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await JR(r,e,n,!0),s}async function CG(t,e){const n=sD(t);await JR(n,e,!0,!1)}async function JR(t,e,n,r){const s=await qH(t.localStore,Ds(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await EG(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&WR(t.remoteStore,s),l}async function EG(t,e,n,r,s){t.pu=(f,m,p)=>async function(y,S,b,x){let _=S.view.ru(b);_.Cs&&(_=await kE(y.localStore,S.query,!1).then(({documents:C})=>S.view.ru(C,_)));const A=x&&x.targetChanges.get(S.targetId),D=x&&x.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(_,y.isPrimaryClient,A,D);return VE(y,S.targetId,F.au),F.snapshot}(t,f,m,p);const o=await kE(t.localStore,e,!0),i=new yG(e,o.Qs),l=i.ru(o.documents),c=jd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(l,t.isPrimaryClient,c);VE(t,n,u.au);const d=new wG(e,n,i);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function TG(t,e,n){const r=Ye(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(i=>!Cp(i,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Cx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ww(r.remoteStore,s.targetId),jx(r,s.targetId)}).catch(pc)):(jx(r,s.targetId),await Cx(r.localStore,s.targetId,!0))}async function jG(t,e){const n=Ye(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ww(n.remoteStore,r.targetId))}async function NG(t,e,n){const r=MG(t);try{const s=await function(i,l){const c=Ye(i),u=Pt.now(),d=l.reduce((p,w)=>p.add(w.key),ht());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let w=vo(),y=ht();return c.Ns.getEntries(p,d).next(S=>{w=S,w.forEach((b,x)=>{x.isValidDocument()||(y=y.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,w)).next(S=>{f=S;const b=[];for(const x of l){const _=BW(x,f.get(x.key).overlayedDocument);_!=null&&b.push(new ka(x.key,_,cR(_.value.mapValue),as.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,b,l)}).next(S=>{m=S;const b=S.applyToLocalDocumentSet(f,y);return c.documentOverlayCache.saveOverlays(p,S.batchId,b)})}).then(()=>({batchId:m.batchId,changes:wR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,l,c){let u=i.Vu[i.currentUser.toKey()];u||(u=new zt(dt)),u=u.insert(l,c),i.Vu[i.currentUser.toKey()]=u}(r,s.batchId,n),await kd(r,s.changes),await Pp(r.remoteStore)}catch(s){const o=Qw(s,"Failed to persist write");n.reject(o)}}async function eD(t,e){const n=Ye(t);try{const r=await zH(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Au.get(o);i&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.hu=!0:s.modifiedDocuments.size>0?vt(i.hu,14607):s.removedDocuments.size>0&&(vt(i.hu,42227),i.hu=!1))}),await kd(n,r,e)}catch(r){await pc(r)}}function FE(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,i)=>{const l=i.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(i,l){const c=Ye(i);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(l)&&(u=!0)}),u&&Jw(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kG(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let i=new zt(Re.comparator);i=i.insert(o,Fn.newNoDocument(o,Ge.min()));const l=ht().add(o),c=new Np(Ge.min(),new Map,new zt(dt),i,l);await eD(r,c),r.du=r.du.remove(o),r.Au.delete(e),nb(r)}else await Cx(r.localStore,e,!1).then(()=>jx(r,e,n)).catch(pc)}async function IG(t,e){const n=Ye(t),r=e.batch.batchId;try{const s=await UH(n.localStore,e);nD(n,r,null),tD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kd(n,s)}catch(s){await pc(s)}}async function PG(t,e,n){const r=Ye(t);try{const s=await function(i,l){const c=Ye(i);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(vt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);nD(r,e,n),tD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kd(r,s)}catch(s){await pc(s)}}function tD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function nD(t,e,n){const r=Ye(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function jx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||rD(t,r)})}function rD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ww(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),nb(t))}function VE(t,e,n){for(const r of n)r instanceof ZR?(t.Ru.addReference(r.key,e),AG(t,r)):r instanceof XR?(Ee(tb,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||rD(t,r.key)):ze(19791,{wu:r})}function AG(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(tb,"New document in limbo: "+n),t.Eu.add(r),nb(t))}function nb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(Ct.fromString(e)),r=t.fu.next();t.Au.set(r,new bG(n)),t.du=t.du.insert(n,r),WR(t.remoteStore,new Ho(Ds(Sp(n.path)),r,"TargetPurposeLimboResolution",wp.ce))}}async function kd(t,e,n){const r=Ye(t),s=[],o=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{i.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Bw.As(c.targetId,u);o.push(f)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(c,u){const d=Ye(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>re.forEach(u,m=>re.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>re.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!gc(f))throw f;Ee(qw,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=d.Ms.get(m),w=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(w);d.Ms=d.Ms.insert(m,y)}}}(r.localStore,o))}async function RG(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Ee(tb,"User change. New user:",e.toKey());const r=await zR(n.localStore,e);n.currentUser=e,function(o,i){o.mu.forEach(l=>{l.forEach(c=>{c.reject(new be(J.CANCELLED,i))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kd(n,r.Ls)}}function DG(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return ht().add(r.key);{let s=ht();const o=n.Iu.get(e);if(!o)return s;for(const i of o){const l=n.Tu.get(i);s=s.unionWith(l.view.nu)}return s}}function sD(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kG.bind(null,e),e.Pu.H_=vG.bind(null,e.eventManager),e.Pu.yu=xG.bind(null,e.eventManager),e}function MG(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PG.bind(null,e),e}class vm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VH(this.persistence,new OH,e.initialUser,this.serializer)}Cu(e){return new UR($w.mi,this.serializer)}Du(e){return new HH}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vm.provider={build:()=>new vm};class OG extends vm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof pm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new UR(r=>pm.mi(r,n),this.serializer)}}class Nx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RG.bind(null,this.syncEngine),await mG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gG}()}createDatastore(e){const n=kp(e.databaseInfo.databaseId),r=function(o){return new ZH(o)}(e.databaseInfo);return function(o,i,l,c){return new tG(o,i,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,l){return new rG(r,s,o,i,l)}(this.localStore,this.datastore,e.asyncQueue,n=>FE(this.syncEngine,n,0),function(){return AE.v()?new AE:new GH}())}createSyncEngine(e,n){return function(s,o,i,l,c,u,d){const f=new _G(s,o,i,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ye(s);Ee(Ti,"RemoteStore shutting down."),o.Ea.add(5),await Nd(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Nx.provider={build:()=>new Nx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):go("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="FirestoreClient";class LG{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=On.UNAUTHENTICATED,this.clientId=Iw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{Ee(wa,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Ee(wa,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fv(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(wa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function UE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FG(t);Ee(wa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>DE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>DE(e.remoteStore,s)),t._onlineComponents=e}async function FG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(wa,"Using user provided OfflineComponentProvider");try{await fv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===J.FAILED_PRECONDITION||s.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Gl("Error using user provided cache. Falling back to memory cache: "+n),await fv(t,new vm)}}else Ee(wa,"Using default OfflineComponentProvider"),await fv(t,new OG(void 0));return t._offlineComponents}async function oD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(wa,"Using user provided OnlineComponentProvider"),await UE(t,t._uninitializedComponentsProvider._online)):(Ee(wa,"Using default OnlineComponentProvider"),await UE(t,new Nx))),t._onlineComponents}function VG(t){return oD(t).then(e=>e.syncEngine)}async function xm(t){const e=await oD(t),n=e.eventManager;return n.onListen=SG.bind(null,e.syncEngine),n.onUnlisten=TG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jG.bind(null,e.syncEngine),n}function UG(t,e,n={}){const r=new ao;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,l,c,u){const d=new rb({next:m=>{d.Nu(),i.enqueueAndForget(()=>Xw(o,f));const p=m.docs.has(l);!p&&m.fromCache?u.reject(new be(J.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?u.reject(new be(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new eb(Sp(l.path),d,{includeMetadataChanges:!0,qa:!0});return Zw(o,f)}(await xm(t),t.asyncQueue,e,n,r)),r.promise}function zG(t,e,n={}){const r=new ao;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,l,c,u){const d=new rb({next:m=>{d.Nu(),i.enqueueAndForget(()=>Xw(o,f)),m.fromCache&&c.source==="server"?u.reject(new be(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new eb(l,d,{includeMetadataChanges:!0,qa:!0});return Zw(o,f)}(await xm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="firestore.googleapis.com",$E=!0;class BE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iD,this.ssl=$E}else this.host=e.host,this.ssl=e.ssl??$E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yH)throw new be(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Kq;switch(r.type){case"firstParty":return new Xq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zE.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),zE.delete(n),r.terminate())}(this),Promise.resolve()}}function $G(t,e,n,r={}){var u;t=zr(t,Ap);const s=hc(e),o=t._getSettings(),i={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(M2(`https://${l}`),O2("Firestore",!0)),o.host!==iD&&o.host!==l&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:s,emulatorOptions:r};if(!Si(c,i)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=On.MOCK_USER;else{d=b7(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new be(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new On(m)}t._authCredentials=new Yq(new Q2(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ed(n,Kt._jsonSchema))return new Kt(e,r||null,new Re(Ct.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:nn("string",Kt._jsonSchemaVersion),referencePath:nn("string")};class la extends Ia{constructor(e,n,r){super(e,n,Sp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Re(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function Va(t,e,...n){if(t=Bn(t),Z2("collection","path",e),t instanceof Ap){const r=Ct.fromString(e,...n);return nE(r),new la(t,null,r)}{if(!(t instanceof Kt||t instanceof la))throw new be(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return nE(r),new la(t.firestore,null,r)}}function af(t,e,...n){if(t=Bn(t),arguments.length===1&&(e=Iw.newId()),Z2("doc","path",e),t instanceof Ap){const r=Ct.fromString(e,...n);return tE(r),new Kt(t,null,new Re(r))}{if(!(t instanceof Kt||t instanceof la))throw new be(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return tE(r),new Kt(t.firestore,t instanceof la?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="AsyncQueue";class WE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BR(this,"async_queue_retry"),this._c=()=>{const r=hv();r&&Ee(qE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ao;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gc(e))throw e;Ee(qE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,go("INTERNAL UNHANDLED ERROR: ",HE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Yw.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&ze(47125,{Pc:HE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function HE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ba extends Ap{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new WE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function BG(t,e){const n=typeof t=="object"?t:U2(),r=typeof t=="string"?t:e||cm,s=Nw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=y7("firestore");o&&$G(s,...o)}return s}function Rp(t){if(t._terminated)throw new be(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qG(t),t._firestoreClient}function qG(t){var r,s,o;const e=t._freezeSettings(),n=function(l,c,u,d){return new pW(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new LG(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Or(In.fromBase64String(e))}catch(n){throw new be(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Or(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ed(e,Or._jsonSchema))return Or.fromBase64String(e.bytes)}}Or._jsonSchemaVersion="firestore/bytes/1.0",Or._jsonSchema={type:nn("string",Or._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(Ed(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:nn("string",Os._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ed(e,Ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ls(e.vectorValues);throw new be(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ls._jsonSchemaVersion="firestore/vectorValue/1.0",Ls._jsonSchema={type:nn("string",Ls._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG=/^__.*__$/;class HG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new Td(e,this.data,n,this.fieldTransforms)}}class lD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ka(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ac:t})}}class ob{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ob({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ym(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cD(this.Ac)&&WG.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kp(e)}Cc(e,n,r,s=!1){return new ob({Ac:e,methodName:n,Dc:r,path:Tn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ab(t){const e=t._freezeSettings(),n=kp(t._databaseId);return new GG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KG(t,e,n,r,s,o={}){const i=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);ib("Data must be an object, but it was:",i,r);const l=uD(r,i);let c,u;if(o.merge)c=new br(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const m=kx(e,f,n);if(!i.contains(m))throw new be(J.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);hD(d,m)||d.push(m)}c=new br(d),u=i.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=i.fieldTransforms;return new HG(new ar(l),c,u)}class Mp extends sb{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mp}}function YG(t,e,n,r){const s=t.Cc(1,e,n);ib("Data must be an object, but it was:",s,r);const o=[],i=ar.empty();Na(r,(c,u)=>{const d=lb(e,c,n);u=Bn(u);const f=s.yc(d);if(u instanceof Mp)o.push(d);else{const m=Id(u,f);m!=null&&(o.push(d),i.set(d,m))}});const l=new br(o);return new lD(i,l,s.fieldTransforms)}function QG(t,e,n,r,s,o){const i=t.Cc(1,e,n),l=[kx(e,r,n)],c=[s];if(o.length%2!=0)throw new be(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)l.push(kx(e,o[m])),c.push(o[m+1]);const u=[],d=ar.empty();for(let m=l.length-1;m>=0;--m)if(!hD(u,l[m])){const p=l[m];let w=c[m];w=Bn(w);const y=i.yc(p);if(w instanceof Mp)u.push(p);else{const S=Id(w,y);S!=null&&(u.push(p),d.set(p,S))}}const f=new br(u);return new lD(d,f,i.fieldTransforms)}function ZG(t,e,n,r=!1){return Id(n,t.Cc(r?4:3,e))}function Id(t,e){if(dD(t=Bn(t)))return ib("Unsupported field value:",e,t),uD(t,e);if(t instanceof sb)return function(r,s){if(!cD(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const l of r){let c=Id(l,s.wc(i));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LW(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:mm(s.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mm(s.serializer,o)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Or)return{bytesValue:AR(s.serializer,r._byteString)};if(r instanceof Kt){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Uw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ls)return function(i,l){return{mapValue:{fields:{[aR]:{stringValue:lR},[um]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return Ow(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${yp(r)}`)}(t,e)}function uD(t,e){const n={};return eR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(t,(r,s)=>{const o=Id(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function dD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof Os||t instanceof Or||t instanceof Kt||t instanceof sb||t instanceof Ls)}function ib(t,e,n){if(!dD(n)||!X2(n)){const r=yp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function kx(t,e,n){if((e=Bn(e))instanceof Dp)return e._internalPath;if(typeof e=="string")return lb(t,e);throw ym("Field path arguments must be of type string or ",t,!1,void 0,n)}const XG=new RegExp("[~\\*/\\[\\]]");function lb(t,e,n){if(e.search(XG)>=0)throw ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dp(...e.split("."))._internalPath}catch{throw ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ym(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||i)&&(c+=" (found",o&&(c+=` in field ${r}`),i&&(c+=` in document ${s}`),c+=")"),new be(J.INVALID_ARGUMENT,l+t+c)}function hD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JG extends fD{data(){return super.data()}}function cb(t,e){return typeof e=="string"?lb(t,e):e instanceof Dp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ub{}class pD extends ub{}function mv(t,e,...n){let r=[];e instanceof ub&&r.push(e),r=r.concat(n),function(o){const i=o.filter(c=>c instanceof hb).length,l=o.filter(c=>c instanceof db).length;if(i>1||i>0&&l>0)throw new be(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class db extends pD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new db(e,n,r)}_apply(e){const n=this._parse(e);return gD(e._query,n),new Ia(e.firestore,e.converter,xx(e._query,n))}_parse(e){const n=ab(e.firestore);return function(o,i,l,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new be(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){QE(f,d);const w=[];for(const y of f)w.push(YE(c,o,y));m={arrayValue:{values:w}}}else m=YE(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||QE(f,d),m=ZG(l,i,f,d==="in"||d==="not-in");return tn.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class hb extends ub{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let i=s;const l=o.getFlattenedFilters();for(const c of l)gD(i,c),i=xx(i,c)}(e._query,n),new Ia(e.firestore,e.converter,xx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fb extends pD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fb(e,n)}_apply(e){const n=function(s,o,i){if(s.startAt!==null)throw new be(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new be(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rd(o,i)}(e._query,this._field,this._direction);return new Ia(e.firestore,e.converter,function(s,o){const i=s.explicitOrderBy.concat([o]);return new vc(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function KE(t,e="asc"){const n=e,r=cb("orderBy",t);return fb._create(r,n)}function YE(t,e,n){if(typeof(n=Bn(n))=="string"){if(n==="")throw new be(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gR(e)&&n.indexOf("/")!==-1)throw new be(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!Re.isDocumentKey(r))throw new be(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uE(t,new Re(r))}if(n instanceof Kt)return uE(t,n._key);throw new be(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yp(n)}.`)}function QE(t,e){if(!Array.isArray(t)||t.length===0)throw new be(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gD(t,e){const n=function(s,o){for(const i of s)for(const l of i.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eK{convertValue(e,n="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Na(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[um].arrayValue)==null?void 0:s.values)==null?void 0:o.map(i=>Ht(i.doubleValue));return new Ls(n)}convertGeoPoint(e){return new Os(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_p(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ed(e));default:return null}}convertTimestamp(e){const n=ga(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);vt(FR(r),9688,{name:e});const s=new td(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return s.isEqual(n)||go(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ii extends fD{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ii._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ii._jsonSchemaVersion="firestore/documentSnapshot/1.0",ii._jsonSchema={type:nn("string",ii._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class lf extends ii{data(e={}){return super.data(e)}}class li{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ou(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lf(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(l=>{const c=new lf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ou(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new lf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ou(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=i.indexOf(l.doc.key),i=i.delete(l.doc.key)),l.type!==1&&(i=i.add(l.doc),d=i.indexOf(l.doc.key)),{type:nK(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=li._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Iw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(t){t=zr(t,Kt);const e=zr(t.firestore,ba);return UG(Rp(e),t._key).then(n=>vD(e,t,n))}li._jsonSchemaVersion="firestore/querySnapshot/1.0",li._jsonSchema={type:nn("string",li._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class mb extends eK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function pv(t){t=zr(t,Ia);const e=zr(t.firestore,ba),n=Rp(e),r=new mb(e);return mD(t._query),zG(n,t._query).then(s=>new li(e,r,t,s))}function sK(t,e,n,...r){t=zr(t,Kt);const s=zr(t.firestore,ba),o=ab(s);let i;return i=typeof(e=Bn(e))=="string"||e instanceof Dp?QG(o,"updateDoc",t._key,e,n,r):YG(o,"updateDoc",t._key,e),pb(s,[i.toMutation(t._key,as.exists(!0))])}function oK(t){return pb(zr(t.firestore,ba),[new Lw(t._key,as.none())])}function aK(t,e){const n=zr(t.firestore,ba),r=af(t),s=tK(t.converter,e);return pb(n,[KG(ab(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,as.exists(!1))]).then(()=>r)}function gv(t,...e){var c,u,d;t=Bn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||GE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(GE(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let o,i,l;if(t instanceof Kt)i=zr(t.firestore,ba),l=Sp(t._key.path),o={next:f=>{e[r]&&e[r](vD(i,t,f))},error:e[r+1],complete:e[r+2]};else{const f=zr(t,Ia);i=zr(f.firestore,ba),l=f._query;const m=new mb(i);o={next:p=>{e[r]&&e[r](new li(i,m,f,p))},error:e[r+1],complete:e[r+2]},mD(t._query)}return function(m,p,w,y){const S=new rb(y),b=new eb(p,S,w);return m.asyncQueue.enqueueAndForget(async()=>Zw(await xm(m),b)),()=>{S.Nu(),m.asyncQueue.enqueueAndForget(async()=>Xw(await xm(m),b))}}(Rp(i),l,s,o)}function pb(t,e){return function(r,s){const o=new ao;return r.asyncQueue.enqueueAndForget(async()=>NG(await VG(r),s,o)),o.promise}(Rp(t),e)}function vD(t,e,n){const r=n.docs.get(e._key),s=new mb(t);return new ii(t,s,e._key,r,new ou(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){mc=s})(fc),Hl(new Ci("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),l=new ba(new Qq(r.getProvider("auth-internal")),new Jq(i,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new be(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(u.options.projectId,d)}(i,s),i);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),aa(ZC,XC,e),aa(ZC,XC,"esm2020")})();var iK="firebase",lK="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aa(iK,lK,"app");function xD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cK=xD,yD=new Sd("auth","Firebase",xD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new Tw("@firebase/auth");function uK(t,...e){wm.logLevel<=lt.WARN&&wm.warn(`Auth (${fc}): ${t}`,...e)}function cf(t,...e){wm.logLevel<=lt.ERROR&&wm.error(`Auth (${fc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t,...e){throw gb(t,...e)}function Fs(t,...e){return gb(t,...e)}function wD(t,e,n){const r={...cK(),[e]:n};return new Sd("auth","Firebase",r).create(e,{appName:t.name})}function ci(t){return wD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yD.create(t,...e)}function He(t,e,...n){if(!t)throw gb(e,...n)}function Js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cf(e),new Error(e)}function yo(t,e){t||Js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function dK(){return ZE()==="http:"||ZE()==="https:"}function ZE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dK()||j7()||"connection"in navigator)?navigator.onLine:!0}function fK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.shortDelay=e,this.longDelay=n,yo(n>e,"Short delay should be less than long delay!"),this.isMobile=C7()||N7()}get(){return hK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e){yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gK=new Pd(3e4,6e4);function xb(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yc(t,e,n,r,s={}){return _D(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const l=Cd({key:t.config.apiKey,...i}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...o};return T7()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&hc(t.emulatorConfig.host)&&(u.credentials="include"),bD.fetch()(await SD(t,t.config.apiHost,n,l),u)})}async function _D(t,e,n){t._canInitEmulator=!1;const r={...mK,...e};try{const s=new xK(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Mh(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const l=o.ok?i.errorMessage:i.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(t,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw Mh(t,"email-already-in-use",i);if(c==="USER_DISABLED")throw Mh(t,"user-disabled",i);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw wD(t,d,u);xo(t,d)}}catch(s){if(s instanceof _o)throw s;xo(t,"network-request-failed",{message:String(s)})}}async function vK(t,e,n,r,s={}){const o=await yc(t,e,n,r,s);return"mfaPendingCredential"in o&&xo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function SD(t,e,n,r){const s=`${e}${n}?${r}`,o=t,i=o.config.emulator?vb(t.config,s):`${t.config.apiScheme}://${s}`;return pK.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(i).toString():i}class xK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),gK.get())})}}function Mh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Fs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yK(t,e){return yc(t,"POST","/v1/accounts:delete",e)}async function bm(t,e){return yc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wK(t,e=!1){const n=Bn(t),r=await n.getIdToken(e),s=yb(r);He(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Cu(vv(s.auth_time)),issuedAtTime:Cu(vv(s.iat)),expirationTime:Cu(vv(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function vv(t){return Number(t)*1e3}function yb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const s=P2(n);return s?JSON.parse(s):(cf("Failed to decode base64 JWT payload"),null)}catch(s){return cf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function XE(t){const e=yb(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _o&&bK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t){var f;const e=t.auth,n=await t.getIdToken(),r=await ad(t,bm(e,{idToken:n}));He(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(f=s.providerUserInfo)!=null&&f.length?CD(s.providerUserInfo):[],i=CK(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(i!=null&&i.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Px(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function SK(t){const e=Bn(t);await _m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CK(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function CD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EK(t,e){const n=await _D(t,{},async()=>{const r=Cd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=await SD(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&hc(t.emulatorConfig.host)&&(c.credentials="include"),bD.fetch()(i,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TK(t,e){return yc(t,"POST","/v2/accounts:revokeToken",xb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=XE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await EK(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new Nl;return r&&(He(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(He(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(He(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ns{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new _K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Px(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ad(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wK(this,e)}reload(){return SK(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _m(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(js(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await ad(this,yK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,i=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:w,stsTokenManager:y}=n;He(f&&y,e,"internal-error");const S=Nl.fromJSON(this.name,y);He(typeof f=="string",e,"internal-error"),Io(r,e.name),Io(s,e.name),He(typeof m=="boolean",e,"internal-error"),He(typeof p=="boolean",e,"internal-error"),Io(o,e.name),Io(i,e.name),Io(l,e.name),Io(c,e.name),Io(u,e.name),Io(d,e.name);const b=new ns({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:i,phoneNumber:o,tenantId:l,stsTokenManager:S,createdAt:u,lastLoginAt:d});return w&&Array.isArray(w)&&(b.providerData=w.map(x=>({...x}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Nl;s.updateFromServerResponse(n);const o=new ns({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _m(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];He(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?CD(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),l=new Nl;l.updateFromIdToken(r);const c=new ns({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:i}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Px(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Map;function eo(t){yo(t instanceof Function,"Expected a class definition");let e=JE.get(t);return e?(yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ED.type="NONE";const eT=ED;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return`firebase:${t}:${e}:${n}`}class kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=uf(this.userKey,s.apiKey,o),this.fullPersistenceKey=uf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bm(this.auth,{idToken:e}).catch(()=>{});return n?ns._fromGetAccountInfoResponse(this.auth,n,e):null}return ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kl(eo(eT),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||eo(eT);const i=uf(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(i);if(d){let f;if(typeof d=="string"){const m=await bm(e,{idToken:d}).catch(()=>{});if(!m)break;f=await ns._fromGetAccountInfoResponse(e,m,d)}else f=ns._fromJSON(e,d);u!==o&&(l=f),o=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new kl(o,e,r):(o=c[0],l&&await o._set(i,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new kl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PD(e))return"Blackberry";if(AD(e))return"Webos";if(jD(e))return"Safari";if((e.includes("chrome/")||ND(e))&&!e.includes("edge/"))return"Chrome";if(ID(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TD(t=$n()){return/firefox\//i.test(t)}function jD(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ND(t=$n()){return/crios\//i.test(t)}function kD(t=$n()){return/iemobile/i.test(t)}function ID(t=$n()){return/android/i.test(t)}function PD(t=$n()){return/blackberry/i.test(t)}function AD(t=$n()){return/webos/i.test(t)}function wb(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jK(t=$n()){var e;return wb(t)&&!!((e=window.navigator)!=null&&e.standalone)}function NK(){return k7()&&document.documentMode===10}function RD(t=$n()){return wb(t)||ID(t)||AD(t)||PD(t)||/windows phone/i.test(t)||kD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e=[]){let n;switch(t){case"Browser":n=tT($n());break;case"Worker":n=`${tT($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,l)=>{try{const c=e(o);i(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IK(t,e={}){return yc(t,"GET","/v2/passwordPolicy",xb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK=6;class AK{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PK,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nT(this),this.idTokenSubscription=new nT(this),this.beforeStateQueue=new kK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=eo(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bm(this,{idToken:e}),r=await ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(js(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _m(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(js(this.app))return Promise.reject(ci(this));const n=e?Bn(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return js(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return js(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(eo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IK(this),n=new AK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&eo(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[eo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let i=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(l,this,"internal-error"),l.then(()=>{i||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{i=!0,c()}}else{const c=e.addObserver(n);return()=>{i=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(js(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&uK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function bb(t){return Bn(t)}class nT{constructor(e){this.auth=e,this.observer=null,this.addObserver=L7(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _b={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DK(t){_b=t}function MK(t){return _b.loadJS(t)}function OK(){return _b.gapiScript}function LK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(t,e){const n=Nw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Si(o,e??{}))return s;xo(s,"already-initialized")}return n.initialize({options:e})}function VK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(eo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UK(t,e,n){const r=bb(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=MD(e),{host:i,port:l}=zK(e),c=l===null?"":`:${l}`,u={url:`${o}//${i}${c}/`},d=Object.freeze({host:i,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Si(u,r.config.emulator)&&Si(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,hc(i)?(M2(`${o}//${i}${c}`),O2("Auth",!0)):s||$K()}function MD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zK(t){const e=MD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:rT(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:rT(i)}}}function rT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $K(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,n){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e){return vK(t,"POST","/v1/accounts:signInWithIdp",xb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK="http://localhost";class ji extends OD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const i=new ji(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Il(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Il(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Il(e,n)}buildRequest(){const e={requestUri:BK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends LD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Ad{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ji._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com";zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Ad{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.GITHUB_SIGN_IN_METHOD="github.com";$o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Ad{constructor(){super("twitter.com")}static credential(e,n){return ji._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ns._fromIdTokenResponse(e,r,s),i=sT(r);return new Jl({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=sT(r);return new Jl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function sT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends _o{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sm(e,n,r,s)}}function FD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sm._fromErrorAndOperation(t,o,e,r):o})}async function qK(t,e,n=!1){const r=await ad(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WK(t,e,n=!1){const{auth:r}=t;if(js(r.app))return Promise.reject(ci(r));const s="reauthenticate";try{const o=await ad(t,FD(r,s,e,t),n);He(o.idToken,r,"internal-error");const i=yb(o.idToken);He(i,r,"internal-error");const{sub:l}=i;return He(t.uid===l,r,"user-mismatch"),Jl._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e,n=!1){if(js(t.app))return Promise.reject(ci(t));const r="signIn",s=await FD(t,r,e),o=await Jl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}function GK(t,e,n,r){return Bn(t).onIdTokenChanged(e,n,r)}function KK(t,e,n){return Bn(t).beforeAuthStateChanged(e,n)}const Cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cm,"1"),this.storage.removeItem(Cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK=1e3,QK=10;class UD extends VD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,l,c)=>{this.notifyListeners(i,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);NK()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QK):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UD.type="LOCAL";const ZK=UD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends VD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zD.type="SESSION";const $D=zD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Op(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(i).map(async u=>u(n.origin,o)),c=await XK(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Op.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((l,c)=>{const u=Sb("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(m.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(){return window}function eY(t){Vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return typeof Vs().WorkerGlobalScope<"u"&&typeof Vs().importScripts=="function"}async function tY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function rY(){return BD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="firebaseLocalStorageDb",sY=1,Em="firebaseLocalStorage",WD="fbase_key";class Rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lp(t,e){return t.transaction([Em],e?"readwrite":"readonly").objectStore(Em)}function oY(){const t=indexedDB.deleteDatabase(qD);return new Rd(t).toPromise()}function Ax(){const t=indexedDB.open(qD,sY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Em,{keyPath:WD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Em)?e(r):(r.close(),await oY(),e(await Ax()))})})}async function oT(t,e,n){const r=Lp(t,!0).put({[WD]:e,value:n});return new Rd(r).toPromise()}async function aY(t,e){const n=Lp(t,!1).get(e),r=await new Rd(n).toPromise();return r===void 0?null:r.value}function aT(t,e){const n=Lp(t,!0).delete(e);return new Rd(n).toPromise()}const iY=800,lY=3;class HD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ax(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Op._getInstance(rY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await tY(),!this.activeServiceWorker)return;this.sender=new JK(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ax();return await oT(e,Cm,"1"),await aT(e,Cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Lp(s,!1).getAll();return new Rd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HD.type="LOCAL";const cY=HD;new Pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(t,e){return e?eo(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends OD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dY(t){return HK(t.auth,new Cb(t),t.bypassAuthState)}function hY(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),WK(n,new Cb(t),t.bypassAuthState)}async function fY(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),qK(n,new Cb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:l}=e;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dY;case"linkViaPopup":case"linkViaRedirect":return fY;case"reauthViaPopup":case"reauthViaRedirect":return hY;default:xo(this.auth,"internal-error")}}resolve(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY=new Pd(2e3,1e4);class pl extends GD{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){yo(this.filter.length===1,"Popup operations only handle one event");const e=Sb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mY.get())};e()}}pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY="pendingRedirect",df=new Map;class gY extends GD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=df.get(this.auth._key());if(!e){try{const r=await vY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}df.set(this.auth._key(),e)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vY(t,e){const n=wY(e),r=yY(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xY(t,e){df.set(t._key(),e)}function yY(t){return eo(t._redirectPersistence)}function wY(t){return uf(pY,t.config.apiKey,t.name)}async function bY(t,e,n=!1){if(js(t.app))return Promise.reject(ci(t));const r=bb(t),s=uY(r,e),i=await new gY(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Y=10*60*1e3;class SY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KD(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_Y&&this.cachedEventUids.clear(),this.cachedEventUids.has(iT(e))}saveEventToCache(e){this.cachedEventUids.add(iT(e)),this.lastProcessedEventTime=Date.now()}}function iT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EY(t,e={}){return yc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jY=/^https?/;async function NY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EY(t);for(const n of e)try{if(kY(n))return}catch{}xo(t,"unauthorized-domain")}function kY(t){const e=Ix(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!jY.test(n))return!1;if(TY.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=new Pd(3e4,6e4);function lT(){const t=Vs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PY(t){return new Promise((e,n)=>{var s,o,i;function r(){lT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lT(),n(Fs(t,"network-request-failed"))},timeout:IY.get()})}if((o=(s=Vs().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((i=Vs().gapi)!=null&&i.load)r();else{const l=LK("iframefcb");return Vs()[l]=()=>{gapi.load?r():n(Fs(t,"network-request-failed"))},MK(`${OK()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw hf=null,e})}let hf=null;function AY(t){return hf=hf||PY(t),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY=new Pd(5e3,15e3),DY="__/auth/iframe",MY="emulator/auth/iframe",OY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FY(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vb(e,MY):`https://${t.config.authDomain}/${DY}`,r={apiKey:e.apiKey,appName:t.name,v:fc},s=LY.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cd(r).slice(1)}`}async function VY(t){const e=await AY(t),n=Vs().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:FY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OY,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=Fs(t,"network-request-failed"),l=Vs().setTimeout(()=>{o(i)},RY.get());function c(){Vs().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zY=500,$Y=600,BY="_blank",qY="http://localhost";class cT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WY(t,e,n,r=zY,s=$Y){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...UY,width:r.toString(),height:s.toString(),top:o,left:i},u=$n().toLowerCase();n&&(l=ND(u)?BY:n),TD(u)&&(e=e||qY,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[p,w])=>`${m}${p}=${w},`,"");if(jK(u)&&l!=="_self")return HY(e||"",l),new cT(null);const f=window.open(e||"",l,d);He(f,t,"popup-blocked");try{f.focus()}catch{}return new cT(f)}function HY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY="__/auth/handler",KY="emulator/auth/handler",YY=encodeURIComponent("fac");async function uT(t,e,n,r,s,o){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fc,eventId:s};if(e instanceof LD){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",O7(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))i[d]=f}if(e instanceof Ad){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const l=i;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${YY}=${encodeURIComponent(c)}`:"";return`${QY(t)}?${Cd(l).slice(1)}${u}`}function QY({config:t}){return t.emulator?vb(t,KY):`https://${t.authDomain}/${GY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="webStorageSupport";class ZY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$D,this._completeRedirectFn=bY,this._overrideRedirectResult=xY}async _openPopup(e,n,r,s){var i;yo((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await uT(e,n,r,Ix(),s);return WY(e,o,Sb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await uT(e,n,r,Ix(),s);return eY(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(yo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VY(e),r=new SY(e);return n.register("authEvent",s=>(He(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xv,{type:xv},s=>{var i;const o=(i=s==null?void 0:s[0])==null?void 0:i[xv];o!==void 0&&n(!!o),xo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RD()||jD()||wb()}}const XY=ZY;var dT="@firebase/auth",hT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tQ(t){Hl(new Ci("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:l}=r.options;He(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:i,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DD(t)},u=new RK(r,s,o,c);return VK(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hl(new Ci("auth-internal",e=>{const n=bb(e.getProvider("auth").getImmediate());return(r=>new JY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),aa(dT,hT,eQ(t)),aa(dT,hT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ=5*60,rQ=D2("authIdTokenMaxAge")||nQ;let fT=null;const sQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rQ)return;const s=n==null?void 0:n.token;fT!==s&&(fT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oQ(t=U2()){const e=Nw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FK(t,{popupRedirectResolver:XY,persistence:[cY,ZK,$D]}),r=D2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=sQ(o.toString());KK(n,i,()=>i(n.currentUser)),GK(n,l=>i(l))}}const s=A2("auth");return s&&UK(n,`http://${s}`),n}function aQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}DK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Fs("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",aQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tQ("Browser");const iQ={apiKey:"AIzaSyDZa2C8AZc902HNuRWS0jP2KxfFoX5npyA",authDomain:"firefly-nexus.firebaseapp.com",projectId:"firefly-nexus",storageBucket:"firefly-nexus.firebasestorage.app",messagingSenderId:"981611156212",appId:"1:981611156212:web:aa09e09bbc3995617704a1",measurementId:"G-BG7KGG32F2"},YD=V2(iQ),Pr=BG(YD);oQ(YD);class lQ{constructor(){this.collections={clientes:"clientes",ordensServico:"ordens_servico",ordensVenda:"ordens_venda",produtos:"produtos",categorias:"categorias",movimentacoes:"movimentacoes",financeiro:"financeiro",usuarios:"usuarios",configuracoes:"configuracoes"},this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes"},this.isFirebaseAvailable=!1,this.initialized=!1,this.initPromise=this.init()}async init(){if(!this.initialized)try{await this.checkFirebaseAvailability(),this.initialized=!0,console.log("[FirebaseService] ✅ Inicialização concluída - APENAS FIREBASE")}catch(e){throw console.error("[FirebaseService] ❌ Erro na inicialização:",e),this.initialized=!1,new Error("Firebase não disponível - sistema requer Firebase")}}async checkFirebaseAvailability(){try{if(console.log("[FirebaseService] ===== VERIFICANDO FIREBASE ====="),console.log("[FirebaseService] Verificando disponibilidade do Firebase..."),console.log("[FirebaseService] db object:",Pr),!Pr)throw new Error("Firebase db não está disponível");console.log("[FirebaseService] Testando acesso à collection...");const e=Va(Pr,"test_connectivity");console.log("[FirebaseService] Collection criada:",e);const n=mv(e),r=await pv(n);console.log("[FirebaseService] Query executada com sucesso, docs encontrados:",r.size),this.isFirebaseAvailable=!0,console.log("[FirebaseService] ✅ Firebase disponível - APENAS FIREBASE"),console.log("[FirebaseService] ===== FIREBASE OK =====")}catch(e){throw console.log("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),console.log("[FirebaseService] Erro:",e.message),console.log("[FirebaseService] Stack:",e.stack),this.isFirebaseAvailable=!1,console.log("[FirebaseService] ===== FIREBASE FALHOU - SEM FALLBACK ====="),new Error(`Firebase não disponível: ${e.message}`)}}async saveData(e,n,r=null){if(console.log(`[FirebaseService] ===== SALVANDO EM ${e} - APENAS FIREBASE =====`),console.log("[FirebaseService] Dados:",n),this.initialized||(console.log("[FirebaseService] Aguardando inicialização..."),await this.initPromise),console.log("[FirebaseService] Firebase disponível:",this.isFirebaseAvailable),console.log("[FirebaseService] Inicializado:",this.initialized),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{if(r){const s=af(Pr,e,r);return await sK(s,{...n,updatedAt:n.updatedAt||new Date().toISOString()}),console.log(`[FirebaseService] ✅ Documento ${r} atualizado com sucesso no Firebase`),r}else{const s=await aK(Va(Pr,e),{...n,createdAt:n.createdAt||new Date().toISOString(),updatedAt:n.updatedAt||new Date().toISOString()});return console.log(`[FirebaseService] ✅ Novo documento criado no Firebase com ID: ${s.id}`),console.log("[FirebaseService] ===== SALVAMENTO CONCLUÍDO ====="),s.id}}catch(s){throw console.error(`[FirebaseService] ❌ Erro ao salvar dados em ${e}:`,s),new Error(`Erro ao salvar no Firebase: ${s.message}`)}}saveToLocalStorage(e,n,r=null){try{console.log(`[FirebaseService] saveToLocalStorage chamado para ${e}:`,n);const s=this.localStorageKeys[e];if(!s)throw new Error(`Chave localStorage não encontrada para ${e}`);if(console.log(`[FirebaseService] Chave localStorage: ${s}`),e==="configuracoes"){const i={...n,id:r||"config",updatedAt:new Date().toISOString()};return localStorage.setItem(s,JSON.stringify(i)),window.dispatchEvent(new Event("storage")),r||"config"}const o=JSON.parse(localStorage.getItem(s)||"[]");if(console.log(`[FirebaseService] Dados existentes em ${s}:`,o),r){const i=o.findIndex(l=>l.id===r);i!==-1&&(o[i]={...n,id:r,updatedAt:new Date().toISOString()})}else{const i=r||Date.now().toString(),l={...n,id:i,createdAt:new Date().toISOString()};o.push(l),console.log("[FirebaseService] Novo item adicionado:",l)}return console.log(`[FirebaseService] Salvando dados finais em ${s}:`,o),localStorage.setItem(s,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:s,data:o}})),console.log(`[FirebaseService] Evento localStorageChange disparado para ${s}`),r||Date.now().toString()}catch(s){throw console.error("[FirebaseService] Erro ao salvar no localStorage:",s),s}}async getData(e){if(console.log(`[FirebaseService] getData chamado para ${e}`),this.initialized||(console.log(`[FirebaseService] Aguardando inicialização para ${e}`),await this.initPromise),console.log(`[FirebaseService] Firebase disponível para ${e}: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{const n=new Promise((o,i)=>setTimeout(()=>i(new Error("Timeout")),2e3)),r=(async()=>{try{const o=mv(Va(Pr,e),KE("createdAt","desc")),i=await pv(o),l=[];return i.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] Query com orderBy funcionou para ${e}: ${l.length} documentos`),l}catch(o){console.warn(`[FirebaseService] orderBy falhou para ${e}, tentando sem orderBy:`,o.message);const i=Va(Pr,e),l=await pv(i),c=[];return l.forEach(u=>{c.push({id:u.id,...u.data()})}),console.log(`[FirebaseService] Query sem orderBy funcionou para ${e}: ${c.length} documentos`),c}})(),s=await Promise.race([r,n]);return console.log(`[FirebaseService] Dados carregados do Firebase para ${e}:`,s.length),s}catch(n){throw console.error(`[FirebaseService] ❌ Erro ao buscar dados de ${e}:`,n),new Error(`Erro ao buscar no Firebase: ${n.message}`)}}getFromLocalStorage(e){try{const n=this.localStorageKeys[e];if(!n)return console.warn(`Chave localStorage não encontrada para ${e}`),e==="configuracoes"?null:[];console.log(`[FirebaseService] getFromLocalStorage para ${e}, chave: ${n}`);const r=localStorage.getItem(n);console.log("[FirebaseService] Dados brutos do localStorage:",r);const s=JSON.parse(r||(e==="configuracoes"?"null":"[]"));if(console.log("[FirebaseService] Dados parseados:",s),e==="configuracoes")return s;const o=Array.isArray(s)?s:[];return console.log(`[FirebaseService] Retornando array para ${e}:`,o),o}catch(n){return console.error("[FirebaseService] Erro ao buscar do localStorage:",n),e==="configuracoes"?null:[]}}async getDocument(e,n){try{const r=af(Pr,e,n),s=await rK(r);return s.exists()?{id:s.id,...s.data()}:null}catch(r){return console.error(`Erro ao buscar documento ${n} de ${e}:`,r),null}}async deleteDocument(e,n){if(console.log(`[FirebaseService] ===== DELETANDO DOCUMENTO ${n} DE ${e} - APENAS FIREBASE =====`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{return await oK(af(Pr,e,n)),console.log(`[FirebaseService] ✅ Documento ${n} deletado com sucesso do Firebase`),!0}catch(r){throw console.error(`[FirebaseService] ❌ Erro ao deletar documento ${n} de ${e}:`,r),new Error(`Erro ao deletar no Firebase: ${r.message}`)}}deleteFromLocalStorage(e,n){try{const r=this.localStorageKeys[e];if(!r)return console.warn(`Chave localStorage não encontrada para ${e}`),!1;const o=JSON.parse(localStorage.getItem(r)||"[]").filter(i=>i.id!==n);return localStorage.setItem(r,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:r,data:o}})),!0}catch(r){return console.error("[FirebaseService] Erro ao deletar do localStorage:",r),!1}}async subscribeToCollection(e,n){if(console.log(`[FirebaseService] ===== SUBSCRIBE TO COLLECTION ${e} =====`),this.initialized||(console.log(`[FirebaseService] Aguardando inicialização para ${e}`),await this.initPromise),console.log(`[FirebaseService] subscribeToCollection para ${e}, Firebase disponível: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");console.log(`[FirebaseService] Firebase disponível, configurando onSnapshot para ${e}`);try{const r=mv(Va(Pr,e),KE("createdAt","desc"));return gv(r,s=>{const o=[];s.forEach(i=>{o.push({id:i.id,...i.data()})}),console.log(`[FirebaseService] onSnapshot recebido para ${e}:`,o),n(o)},s=>{console.error(`[FirebaseService] Erro no onSnapshot com orderBy para ${e}:`,s),console.log(`[FirebaseService] Tentando sem orderBy para ${e}`);const o=Va(Pr,e);return gv(o,i=>{const l=[];i.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] onSnapshot sem orderBy recebido para ${e}:`,l),n(l)},i=>{throw console.error(`[FirebaseService] ❌ Erro no onSnapshot sem orderBy para ${e}:`,i),new Error(`Erro no onSnapshot: ${i.message}`)})})}catch(r){console.error(`[FirebaseService] Erro ao criar query com orderBy para ${e}:`,r);const s=Va(Pr,e);return gv(s,o=>{const i=[];o.forEach(l=>{i.push({id:l.id,...l.data()})}),console.log(`[FirebaseService] onSnapshot simples recebido para ${e}:`,i),n(i)},o=>{throw console.error(`[FirebaseService] ❌ Erro no onSnapshot simples para ${e}:`,o),new Error(`Erro no onSnapshot simples: ${o.message}`)})}}async saveCliente(e,n=null){return await this.saveData(this.collections.clientes,e,n)}async getClientes(){return await this.getData(this.collections.clientes)}async deleteCliente(e){return await this.deleteDocument(this.collections.clientes,e)}subscribeToClientes(e){return this.subscribeToCollection(this.collections.clientes,e)}async saveOS(e,n=null){return await this.saveData(this.collections.ordensServico,e,n)}async getOS(){return await this.getData(this.collections.ordensServico)}async deleteOS(e){return await this.deleteDocument(this.collections.ordensServico,e)}subscribeToOS(e){return this.subscribeToCollection(this.collections.ordensServico,e)}async saveOV(e,n=null){return await this.saveData(this.collections.ordensVenda,e,n)}async getOV(){return await this.getData(this.collections.ordensVenda)}async deleteOV(e){return await this.deleteDocument(this.collections.ordensVenda,e)}subscribeToOV(e){return this.subscribeToCollection(this.collections.ordensVenda,e)}async saveProduto(e,n=null){return await this.saveData(this.collections.produtos,e,n)}async getProdutos(){return await this.getData(this.collections.produtos)}async deleteProduto(e){return await this.deleteDocument(this.collections.produtos,e)}subscribeToProdutos(e){return this.subscribeToCollection(this.collections.produtos,e)}async saveCategoria(e,n=null){return await this.saveData(this.collections.categorias,e,n)}async getCategorias(){return await this.getData(this.collections.categorias)}async deleteCategoria(e){return await this.deleteDocument(this.collections.categorias,e)}subscribeToCategorias(e){return this.subscribeToCollection(this.collections.categorias,e)}async saveMovimentacao(e,n=null){return await this.saveData(this.collections.movimentacoes,e,n)}async getMovimentacoes(){return await this.getData(this.collections.movimentacoes)}async deleteMovimentacao(e){return await this.deleteDocument(this.collections.movimentacoes,e)}subscribeToMovimentacoes(e){return this.subscribeToCollection(this.collections.movimentacoes,e)}async saveFinanceiro(e,n=null){return await this.saveData(this.collections.financeiro,e,n)}async getFinanceiro(){return await this.getData(this.collections.financeiro)}async deleteFinanceiro(e){return await this.deleteDocument(this.collections.financeiro,e)}subscribeToFinanceiro(e){return this.subscribeToCollection(this.collections.financeiro,e)}async saveUsuario(e,n=null){return await this.saveData(this.collections.usuarios,e,n)}async getUsuarios(){return await this.getData(this.collections.usuarios)}async deleteUsuario(e){return await this.deleteDocument(this.collections.usuarios,e)}subscribeToUsuarios(e){return this.subscribeToCollection(this.collections.usuarios,e)}async saveConfiguracao(e,n=null){try{if(console.log("[FirebaseService] 🚀 Salvando configuração:",e),!n)try{const s=await this.getData(this.collections.configuracoes);s.length>0?(n=s[0].id,console.log("[FirebaseService] ✅ Configuração existente encontrada, ID:",n)):console.log("[FirebaseService] 📝 Criando nova configuração")}catch(s){console.warn("[FirebaseService] ⚠️ Erro ao buscar configuração existente:",s)}const r=await this.saveData(this.collections.configuracoes,e,n);return localStorage.removeItem("crm_config_cache"),console.log("[FirebaseService] ✅ Configuração salva com sucesso:",r),r}catch(r){console.error("[FirebaseService] ❌ Erro ao salvar configuração:",r);try{return localStorage.setItem("crm_configuracoes",JSON.stringify(e)),localStorage.setItem("crm_idioma",e.idioma||"pt-BR"),console.log("[FirebaseService] ✅ Fallback: Configuração salva no localStorage"),"localStorage"}catch(s){throw console.error("[FirebaseService] ❌ Erro no fallback localStorage:",s),r}}}async getConfiguracao(){const e=localStorage.getItem("crm_config_cache");if(e)try{const s=JSON.parse(e),o=s.timestamp;if(Date.now()-o<5*60*1e3)return console.log("[FirebaseService] Usando configuração do cache"),s.config}catch(s){console.warn("[FirebaseService] Erro ao ler cache de configuração:",s)}const n=await this.getData(this.collections.configuracoes),r=n.length>0?n[0]:null;return r&&localStorage.setItem("crm_config_cache",JSON.stringify({config:r,timestamp:Date.now()})),r}async migrateFromLocalStorage(){console.log("Iniciando migração do localStorage para Firebase...");const e=[{key:"crm_clientes",collection:this.collections.clientes},{key:"crm_os",collection:this.collections.ordensServico},{key:"crm_ov",collection:this.collections.ordensVenda},{key:"crm_produtos",collection:this.collections.produtos},{key:"crm_categorias",collection:this.collections.categorias},{key:"crm_movimentacoes",collection:this.collections.movimentacoes},{key:"crm_financeiro",collection:this.collections.financeiro},{key:"crm_usuarios",collection:this.collections.usuarios}];for(const n of e)try{const r=JSON.parse(localStorage.getItem(n.key)||"[]");if(Array.isArray(r)&&r.length>0){console.log(`Migrando ${r.length} itens de ${n.key}...`);for(const s of r){const{id:o,...i}=s;await this.saveData(n.collection,i)}console.log(`Migração de ${n.key} concluída!`)}}catch(r){console.error(`Erro ao migrar ${n.key}:`,r)}try{const n=localStorage.getItem("crm_configuracoes");if(n){const r=JSON.parse(n);await this.saveConfiguracao(r),console.log("Configurações migradas!")}}catch(n){console.error("Erro ao migrar configurações:",n)}console.log("Migração concluída!")}}const nt=new lQ,Pa=(t,e={})=>{const[n,r]=g.useState([]),[s,o]=g.useState(!0),[i,l]=g.useState(null),{enableRealtime:c=!0,onError:u=null}=e;return g.useEffect(()=>{let m=null,p=0;const w=3,y=async()=>{try{if(o(!0),l(null),console.log(`[useFirebaseData] ===== INÍCIO CARREGAMENTO ${t} =====`),console.log(`[useFirebaseData] enableRealtime: ${c}`),console.log(`[useFirebaseData] Tentativa ${p+1}/${w+1}`),!nt.isFirebaseAvailable){console.log("[useFirebaseData] Firebase não disponível, tentando inicializar...");try{await nt.init(),console.log("[useFirebaseData] ✅ Firebase inicializado com sucesso")}catch(S){throw console.error("[useFirebaseData] ❌ Erro na inicialização do Firebase:",S),S}}if(c){console.log(`[useFirebaseData] Configurando escuta em tempo real para ${t}`);try{m=await nt.subscribeToCollection(t,S=>{console.log(`[useFirebaseData] ✅ Dados recebidos de ${t}:`,S),console.log("[useFirebaseData] Tipo dos dados:",typeof S,Array.isArray(S)),r(Array.isArray(S)?S:[]),o(!1)}),console.log(`[useFirebaseData] ✅ Escuta configurada com sucesso para ${t}`)}catch(S){console.error(`[useFirebaseData] ❌ Erro ao configurar escuta para ${t}:`,S),console.log("[useFirebaseData] Tentando carregamento único como fallback...");const b=await nt.getData(t);console.log(`[useFirebaseData] Dados carregados (fallback) de ${t}:`,b),r(Array.isArray(b)?b:[]),o(!1)}}else{console.log(`[useFirebaseData] Carregando dados uma única vez para ${t}`);const S=await nt.getData(t);console.log(`[useFirebaseData] Dados carregados de ${t}:`,S),console.log("[useFirebaseData] Tipo dos dados:",typeof S,Array.isArray(S)),r(Array.isArray(S)?S:[]),o(!1)}console.log(`[useFirebaseData] ===== FIM CARREGAMENTO ${t} =====`)}catch(S){if(console.error(`[useFirebaseData] ❌ ERRO CRÍTICO ao carregar dados de ${t}:`,S),console.error("[useFirebaseData] Stack trace:",S.stack),p<w){p++,console.log(`[useFirebaseData] Tentando novamente em 2 segundos... (${p}/${w})`),setTimeout(()=>{y()},2e3);return}l(S),o(!1),r([]),u&&u(S)}};return y(),()=>{m&&m()}},[t,c,u]),{data:n,loading:s,error:i,save:async(m,p=null)=>{try{console.log(`[useFirebaseData] Salvando item em ${t}:`,m);const w=await nt.saveData(t,m,p);return console.log(`[useFirebaseData] Item salvo com sucesso em ${t}:`,w),w}catch(w){throw console.error(`[useFirebaseData] Erro ao salvar em ${t}:`,w),l(w),w}},remove:async m=>{try{console.log(`[useFirebaseData] Removendo item ${m} de ${t}`);const p=await nt.deleteDocument(t,m);return console.log(`[useFirebaseData] Item removido com sucesso de ${t}`),p}catch(p){throw console.error(`[useFirebaseData] Erro ao deletar de ${t}:`,p),l(p),p}},refresh:()=>{o(!0),nt.getData(t).then(r).finally(()=>o(!1))}}},wc=()=>Pa("clientes"),Fp=()=>Pa("ordens_servico"),Dd=()=>Pa("ordens_venda"),Md=()=>Pa("produtos"),Od=()=>Pa("categorias"),Eb=()=>Pa("movimentacoes"),Ld=()=>Pa("financeiro"),Tb=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0),console.log("[useConfiguracoesLoja] Carregando configurações da loja...");const c=await nt.getData("configuracoes_loja");console.log("[useConfiguracoesLoja] Configurações carregadas:",c),!c||c.length===0?e({nomeEmpresa:"MultiSmart",descricao:"Manutenção e Comércio de Celulares e Tablets",endereco:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""}):e(c[0]),r(!1)}catch(c){console.error("[useConfiguracoesLoja] Erro ao carregar configurações:",c),o(c),r(!1),e({nomeEmpresa:"MultiSmart",descricao:"Manutenção e Comércio de Celulares e Tablets",endereco:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""})}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{if(console.log("[useConfiguracoesLoja] Salvando configurações:",l),t&&t.id){const c=await nt.saveData("configuracoes_loja",l,t.id);return e({...l,id:t.id}),c}else{const c=await nt.saveData("configuracoes_loja",l);return e({...l,id:c.id}),c}}catch(c){throw console.error("[useConfiguracoesLoja] Erro ao salvar configurações:",c),o(c),c}}}},bc=()=>{const t=Pa("usuarios");console.log("[useUsuarios] Hook result completo:",t),console.log("[useUsuarios] result.data:",t.data),console.log("[useUsuarios] result.loading:",t.loading),console.log("[useUsuarios] result.error:",t.error);const e=Array.isArray(t.data)?t.data:[];return console.log("[useUsuarios] usuarios finais:",e),{...t,usuarios:e,saveUsuario:t.save}},jb=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0);const c=new Promise((f,m)=>setTimeout(()=>m(new Error("Timeout")),500)),u=nt.getConfiguracao(),d=await Promise.race([u,c]);e(d),r(!1),console.log("[useConfiguracao] Configuração carregada:",d)}catch(c){console.warn("[useConfiguracao] Erro ao carregar configuração, usando padrão:",c.message),e({nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"}),o(c),r(!1)}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{const c=await nt.saveConfiguracao(l);return e(l),c}catch(c){throw console.error("Erro ao salvar configuração:",c),o(c),c}}}},cQ=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(mr),{data:r,loading:s,save:o,remove:i}=wc(),{data:l}=Dd(),[c,u]=g.useState(""),[d,f]=g.useState(null),[m,p]=g.useState(null),[w,y]=g.useState("grid"),[S,b]=g.useState("nome"),[x,_]=g.useState("asc"),[A,D]=g.useState("todos"),[F,C]=g.useState(!0),[E,P]=g.useState(!1),[I,N]=g.useState("basico"),[j,k]=g.useState({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),{toast:V}=fr(),L=(W=null)=>{var ce,te,Ie,Ke,at,$;W?(f(W),k({nome:W.nome||"",telefone:W.telefone||"",email:W.email||"",endereco:W.endereco||"",observacoes:W.observacoes||"",categoria:W.categoria||"cliente",dataNascimento:W.dataNascimento||"",cpf:W.cpf||"",empresa:W.empresa||"",website:W.website||"",foto:W.foto||null,redesSociais:{instagram:((ce=W.redesSociais)==null?void 0:ce.instagram)||"",facebook:((te=W.redesSociais)==null?void 0:te.facebook)||"",linkedin:((Ie=W.redesSociais)==null?void 0:Ie.linkedin)||""},preferencias:{formaContato:((Ke=W.preferencias)==null?void 0:Ke.formaContato)||"telefone",horarioContato:((at=W.preferencias)==null?void 0:at.horarioContato)||"comercial",newsletter:(($=W.preferencias)==null?void 0:$.newsletter)||!1}}),console.log("[Clientes] Editando cliente:",W)):(f(null),k({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),console.log("[Clientes] Novo cliente, formulário limpo")),e("clientes"),console.log("[Clientes] Dialog de cliente aberto")},G=()=>{n("clientes"),console.log("[Clientes] Dialog de cliente fechado")},B=async W=>{if(W.preventDefault(),console.log("[Clientes] Submissão do formulário de cliente:",j,d),!j.nome){V({title:"Campo obrigatório",description:"Nome é obrigatório!",variant:"destructive"});return}if(!j.telefone){V({title:"Campo obrigatório",description:"Telefone é obrigatório! Navegando para aba de contato...",variant:"destructive"}),N("contato");return}try{const ce={...j,createdAt:d?d.createdAt:new Date().toISOString()};await o(ce,d==null?void 0:d.id),d?(console.log("[Clientes] Cliente atualizado:",ce),V({title:"Sucesso!",description:"Cliente atualizado com sucesso!"})):(console.log("[Clientes] Cliente cadastrado:",ce),V({title:"Sucesso!",description:"Cliente cadastrado com sucesso!"})),G()}catch(ce){console.error("[Clientes] Erro ao salvar cliente:",ce),V({title:"Erro",description:"Erro ao salvar cliente. Tente novamente.",variant:"destructive"})}},O=async W=>{try{await i(W),console.log("[Clientes] Cliente removido:",W),V({title:"Sucesso!",description:"Cliente removido com sucesso!"})}catch(ce){console.error("[Clientes] Erro ao remover cliente:",ce),V({title:"Erro",description:"Erro ao remover cliente. Tente novamente.",variant:"destructive"})}},z=W=>{const ce=l.filter(at=>at.clienteId===W.id),te=ce.length,Ie=ce.reduce((at,$)=>at+($.total||0),0),Ke=ce.length>0?new Date(Math.max(...ce.map(at=>new Date(at.createdAt)))):null;return{totalCompras:te,totalGasto:Ie,ultimaCompra:Ke,ticketMedio:te>0?Ie/te:0,status:te===0?"novo":Ie>1e3?"vip":Ke&&Date.now()-Ke.getTime()<30*24*60*60*1e3?"ativo":"inativo"}},Z=()=>{const W=r.length,ce=r.filter(Ke=>l.some(at=>at.clienteId===Ke.id)).length,te=r.filter(Ke=>{const at=new Date(Ke.createdAt);return Date.now()-at.getTime()<30*24*60*60*1e3}).length,Ie=r.filter(Ke=>z(Ke).status==="vip").length;return{total:W,comCompras:ce,novos:te,vip:Ie}},Y=r.filter(W=>{const ce=W.nome.toLowerCase().includes(c.toLowerCase())||W.telefone.includes(c)||W.email&&W.email.toLowerCase().includes(c.toLowerCase()),te=z(W),Ie=A==="todos"||A==="vip"&&te.status==="vip"||A==="novos"&&te.totalCompras===0||A==="ativos"&&te.status==="ativo"||A==="inativos"&&te.status==="inativo";return ce&&Ie}).sort((W,ce)=>{let te=0;switch(S){case"nome":te=W.nome.localeCompare(ce.nome);break;case"data":te=new Date(W.createdAt)-new Date(ce.createdAt);break;case"compras":te=z(W).totalCompras-z(ce).totalCompras;break;case"gasto":te=z(W).totalGasto-z(ce).totalGasto;break;default:te=W.nome.localeCompare(ce.nome)}return x==="asc"?te:-te}),de=W=>{navigator.clipboard.writeText(W),V({title:"Copiado!",description:"Informação copiada para a área de transferência"})},Se=W=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W),ye=W=>{const ce=W[0];if(!ce)return;if(!ce.type.startsWith("image/")){V({title:"Tipo de arquivo inválido!",description:"Por favor, selecione apenas imagens.",variant:"destructive"});return}if(ce.size>2*1024*1024){V({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 2MB.",variant:"destructive"});return}const te=new FileReader;te.onload=()=>{const Ie=new Image;Ie.onload=()=>{const Ke=document.createElement("canvas"),at=Ke.getContext("2d");let{width:$,height:ue}=Ie;const Fe=1e3;$>ue?$>Fe&&(ue=ue*Fe/$,$=Fe):ue>Fe&&($=$*Fe/ue,ue=Fe),Ke.width=$,Ke.height=ue,at.drawImage(Ie,0,0,$,ue);const Ne=Ke.toDataURL("image/jpeg",.9);k(Pe=>({...Pe,foto:Ne})),V({title:"Foto adicionada!",description:"Foto do cliente carregada com sucesso."})},Ie.src=te.result},te.onerror=()=>{V({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},te.readAsDataURL(ce)},{getRootProps:Ve,getInputProps:ke,isDragActive:fe}=N2({onDrop:ye,accept:{"image/*":[]},multiple:!1}),Me=()=>{k(W=>({...W,foto:null})),V({title:"Foto removida!",description:"Foto do cliente removida com sucesso."})},$e=Z();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-6 text-white",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",children:"👥 Clientes"}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie sua base de clientes com inteligência"})]}),a.jsx(Te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(dn,{open:t.clientes,onOpenChange:G,children:[a.jsxs(Q,{onClick:()=>L(),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 text-white",size:"lg",children:[a.jsx(eu,{className:"h-5 w-5 mr-2"}),"Novo Cliente"]}),a.jsxs(Xt,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Jt,{children:[a.jsxs(en,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(eu,{className:"h-6 w-6 text-blue-500"}),d?"Editar Cliente":"Novo Cliente"]}),a.jsx(fp,{children:"Preencha as informações do cliente. Campos obrigatórios marcados com *."})]}),a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsxs(ql,{value:I,onValueChange:N,className:"w-full",children:[a.jsxs(_i,{className:"grid w-full grid-cols-3",children:[a.jsx(Sn,{value:"basico",children:"Básico"}),a.jsx(Sn,{value:"contato",children:"Contato"}),a.jsx(Sn,{value:"preferencias",children:"Preferências"})]}),a.jsxs(Cn,{value:"basico",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx(X,{className:"text-sm font-medium",children:"Foto do Cliente"}),j.foto?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:j.foto,alt:"Foto do cliente",className:"w-32 h-32 rounded-full object-cover border-4 border-slate-200 dark:border-slate-700 shadow-lg"}),a.jsx(Q,{type:"button",variant:"destructive",size:"icon",onClick:Me,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full",children:a.jsx(Cr,{className:"h-3 w-3"})})]}):a.jsxs("div",{...Ve(),className:`w-32 h-32 border-2 border-dashed rounded-full flex flex-col items-center justify-center cursor-pointer transition-all duration-200 ${fe?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[a.jsx("input",{...ke()}),a.jsx(Kf,{className:"h-8 w-8 text-slate-400 mb-2"}),a.jsx("p",{className:"text-xs text-slate-500 text-center px-2",children:fe?"🎯 Solte a foto aqui":"📷 Arraste uma foto ou clique para selecionar"})]}),a.jsx("p",{className:"text-xs text-slate-500 text-center",children:"PNG, JPG até 2MB • Redimensionada para 1000x1000px"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(X,{htmlFor:"nome",children:"Nome Completo *"}),a.jsx(me,{id:"nome",value:j.nome,onChange:W=>k({...j,nome:W.target.value}),placeholder:"João Silva",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"categoria",children:"Categoria"}),a.jsxs(ct,{value:j.categoria,onValueChange:W=>k({...j,categoria:W}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"cliente",children:"Cliente"}),a.jsx(se,{value:"fornecedor",children:"Fornecedor"}),a.jsx(se,{value:"parceiro",children:"Parceiro"}),a.jsx(se,{value:"vip",children:"VIP"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(X,{htmlFor:"cpf",children:"CPF"}),a.jsx(me,{id:"cpf",value:j.cpf,onChange:W=>k({...j,cpf:W.target.value}),placeholder:"000.000.000-00"})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),a.jsx(me,{id:"dataNascimento",type:"date",value:j.dataNascimento,onChange:W=>k({...j,dataNascimento:W.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"empresa",children:"Empresa"}),a.jsx(me,{id:"empresa",value:j.empresa,onChange:W=>k({...j,empresa:W.target.value}),placeholder:"Nome da empresa"})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"observacoes",children:"Observações"}),a.jsx(Qu,{id:"observacoes",value:j.observacoes,onChange:W=>k({...j,observacoes:W.target.value}),placeholder:"Informações adicionais sobre o cliente",rows:3})]})]}),a.jsxs(Cn,{value:"contato",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(X,{htmlFor:"telefone",children:"Telefone *"}),a.jsx(me,{id:"telefone",value:j.telefone,onChange:W=>k({...j,telefone:W.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"email",children:"E-mail"}),a.jsx(me,{id:"email",type:"email",value:j.email,onChange:W=>k({...j,email:W.target.value}),placeholder:"email@exemplo.com"})]})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"endereco",children:"Endereço"}),a.jsx(Qu,{id:"endereco",value:j.endereco,onChange:W=>k({...j,endereco:W.target.value}),placeholder:"Endereço completo",rows:2})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"website",children:"Website"}),a.jsx(me,{id:"website",value:j.website,onChange:W=>k({...j,website:W.target.value}),placeholder:"https://exemplo.com"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(X,{children:"Redes Sociais"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx(X,{htmlFor:"instagram",className:"text-sm",children:"Instagram"}),a.jsx(me,{id:"instagram",value:j.redesSociais.instagram,onChange:W=>k({...j,redesSociais:{...j.redesSociais,instagram:W.target.value}}),placeholder:"@usuario"})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"facebook",className:"text-sm",children:"Facebook"}),a.jsx(me,{id:"facebook",value:j.redesSociais.facebook,onChange:W=>k({...j,redesSociais:{...j.redesSociais,facebook:W.target.value}}),placeholder:"facebook.com/usuario"})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"linkedin",className:"text-sm",children:"LinkedIn"}),a.jsx(me,{id:"linkedin",value:j.redesSociais.linkedin,onChange:W=>k({...j,redesSociais:{...j.redesSociais,linkedin:W.target.value}}),placeholder:"linkedin.com/in/usuario"})]})]})]})]}),a.jsxs(Cn,{value:"preferencias",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(X,{htmlFor:"formaContato",children:"Forma de Contato Preferida"}),a.jsxs(ct,{value:j.preferencias.formaContato,onValueChange:W=>k({...j,preferencias:{...j.preferencias,formaContato:W}}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"telefone",children:"Telefone"}),a.jsx(se,{value:"email",children:"E-mail"}),a.jsx(se,{value:"whatsapp",children:"WhatsApp"}),a.jsx(se,{value:"instagram",children:"Instagram"})]})]})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"horarioContato",children:"Horário de Contato"}),a.jsxs(ct,{value:j.preferencias.horarioContato,onValueChange:W=>k({...j,preferencias:{...j.preferencias,horarioContato:W}}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"comercial",children:"Comercial (9h-18h)"}),a.jsx(se,{value:"manha",children:"Manhã (6h-12h)"}),a.jsx(se,{value:"tarde",children:"Tarde (12h-18h)"}),a.jsx(se,{value:"noite",children:"Noite (18h-22h)"}),a.jsx(se,{value:"livre",children:"Qualquer horário"})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"newsletter",checked:j.preferencias.newsletter,onChange:W=>k({...j,preferencias:{...j.preferencias,newsletter:W.target.checked}}),className:"rounded"}),a.jsx(X,{htmlFor:"newsletter",children:"Receber newsletter e promoções"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600",children:d?"Atualizar Cliente":"Cadastrar Cliente"}),a.jsx(Q,{type:"button",variant:"outline",onClick:G,children:"Cancelar"})]})]})]})]})})]}),F&&a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(os,{className:"h-5 w-5 text-blue-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Total"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:$e.total})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(es,{className:"h-5 w-5 text-green-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Compraram"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:$e.comCompras})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(Zh,{className:"h-5 w-5 text-yellow-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"VIP"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:$e.vip})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(eu,{className:"h-5 w-5 text-purple-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Novos"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:$e.novos})]})]})})]})]}),a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar clientes...",value:c,onChange:W=>u(W.target.value),className:"pl-10"})]}),a.jsxs(ct,{value:A,onValueChange:D,children:[a.jsxs(rt,{className:"w-full sm:w-40",children:[a.jsx(Xy,{className:"h-4 w-4 mr-2"}),a.jsx(ut,{})]}),a.jsxs(st,{children:[a.jsx(se,{value:"todos",children:"Todos"}),a.jsx(se,{value:"vip",children:"VIP"}),a.jsx(se,{value:"novos",children:"Novos"}),a.jsx(se,{value:"ativos",children:"Ativos"}),a.jsx(se,{value:"inativos",children:"Inativos"})]})]}),a.jsxs(ct,{value:S,onValueChange:b,children:[a.jsxs(rt,{className:"w-full sm:w-40",children:[a.jsx(As,{className:"h-4 w-4 mr-2"}),a.jsx(ut,{})]}),a.jsxs(st,{children:[a.jsx(se,{value:"nome",children:"Nome"}),a.jsx(se,{value:"data",children:"Data"}),a.jsx(se,{value:"compras",children:"Compras"}),a.jsx(se,{value:"gasto",children:"Gasto"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q,{variant:x==="asc"?"default":"outline",size:"sm",onClick:()=>_(x==="asc"?"desc":"asc"),children:x==="asc"?a.jsx(L5,{className:"h-4 w-4"}):a.jsx(M5,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex border border-slate-200 dark:border-slate-700 rounded-lg",children:[a.jsx(Q,{variant:w==="grid"?"default":"ghost",size:"sm",onClick:()=>y("grid"),className:"rounded-r-none",children:a.jsx(As,{className:"h-4 w-4"})}),a.jsx(Q,{variant:w==="list"?"default":"ghost",size:"sm",onClick:()=>y("list"),className:"rounded-l-none",children:a.jsx(os,{className:"h-4 w-4"})})]})]})]})}),a.jsx(Gf,{mode:"wait",children:s?a.jsxs(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Carregando clientes..."})]}):a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:w==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:Y.map((W,ce)=>{const te=z(W),Ie={novo:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",vip:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"};return w==="grid"?a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ce*.05},whileHover:{y:-5},className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[W.foto?a.jsx("img",{src:W.foto,alt:W.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:W.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-lg group-hover:text-blue-600 transition-colors",children:W.nome}),a.jsx(or,{className:Ie[te.status],children:te.status==="novo"?"Novo":te.status==="vip"?"VIP":te.status==="ativo"?"Ativo":"Inativo"})]})]}),a.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{p(W),P(!0)},className:"h-8 w-8",children:a.jsx(Sl,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>L(W),className:"h-8 w-8",children:a.jsx(ls,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>O(W.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(cs,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[a.jsx(ai,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:W.telefone}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>de(W.telefone),className:"h-6 w-6 ml-auto",children:a.jsx(yh,{className:"h-3 w-3"})})]}),W.email&&a.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[a.jsx(oi,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm truncate",children:W.email}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>de(W.email),className:"h-6 w-6 ml-auto",children:a.jsx(yh,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:te.totalCompras}),a.jsx("p",{className:"text-xs text-slate-500",children:"Compras"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:Se(te.totalGasto)}),a.jsx("p",{className:"text-xs text-slate-500",children:"Total Gasto"})]})]})]})]},W.id):a.jsx(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:ce*.05},className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[W.foto?a.jsx("img",{src:W.foto,alt:W.nome,className:"w-10 h-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:W.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:W.nome}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(ai,{className:"h-3 w-3"}),W.telefone,W.email&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsx(oi,{className:"h-3 w-3"}),W.email]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium",children:[te.totalCompras," compras"]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:Se(te.totalGasto)})]}),a.jsx(or,{className:Ie[te.status],children:te.status==="novo"?"Novo":te.status==="vip"?"VIP":te.status==="ativo"?"Ativo":"Inativo"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{p(W),P(!0)},className:"h-8 w-8",children:a.jsx(Sl,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>L(W),className:"h-8 w-8",children:a.jsx(ls,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>O(W.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(cs,{className:"h-4 w-4"})})]})]})]})},W.id)})},w)}),!s&&Y.length===0&&a.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(os,{className:"h-12 w-12 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:c?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:c?"Tente buscar com outros termos":"Comece cadastrando seu primeiro cliente"}),!c&&a.jsxs(Q,{onClick:()=>L(),className:"bg-gradient-to-r from-blue-600 to-purple-600",children:[a.jsx(eu,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Cliente"]})]}),a.jsx(dn,{open:E,onOpenChange:P,children:a.jsx(Xt,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:m&&a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsxs(en,{className:"text-2xl font-bold flex items-center gap-3",children:[m.foto?a.jsx("img",{src:m.foto,alt:m.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:m.nome.charAt(0).toUpperCase()}),m.nome]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(an,{children:[a.jsx(vn,{className:"pb-3",children:a.jsxs(xn,{className:"text-lg flex items-center gap-2",children:[a.jsx(es,{className:"h-5 w-5 text-blue-500"}),"Compras"]})}),a.jsxs(ln,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:z(m).totalCompras}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total de compras realizadas"})]})]}),a.jsxs(an,{children:[a.jsx(vn,{className:"pb-3",children:a.jsxs(xn,{className:"text-lg flex items-center gap-2",children:[a.jsx(Kn,{className:"h-5 w-5 text-green-500"}),"Total Gasto"]})}),a.jsxs(ln,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:Se(z(m).totalGasto)}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor total gasto"})]})]})]}),a.jsxs(an,{children:[a.jsx(vn,{children:a.jsxs(xn,{className:"text-lg flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5 text-purple-500"}),"Informações de Contato"]})}),a.jsxs(ln,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ai,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:m.telefone}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>de(m.telefone),className:"h-6 w-6 ml-auto",children:a.jsx(yh,{className:"h-3 w-3"})})]}),m.email&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(oi,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:m.email}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>de(m.email),className:"h-6 w-6 ml-auto",children:a.jsx(yh,{className:"h-3 w-3"})})]}),m.endereco&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Qf,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:m.endereco})]})]})]})]})]})})})]})},uQ=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(mr),{data:r,loading:s,save:o,remove:i}=Fp(),{data:l}=wc(),{save:c}=Ld(),{config:u}=Tb(),[d,f]=g.useState(""),[m,p]=g.useState("Todos"),[w,y]=g.useState("grid"),[S,b]=g.useState(null),[x,_]=g.useState({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),{toast:A}=fr();console.log("[OS] ===== DADOS CARREGADOS ====="),console.log("[OS] Ordens:",r),console.log("[OS] Clientes:",l),console.log("[OS] Loading:",s);const D=(L=null)=>{L?(b(L),_({...L,valor:L.valor?L.valor.toString():""}),console.log("[OS] Editando OS:",L)):(b(null),_({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),console.log("[OS] Nova OS, formulário limpo")),e("os"),console.log("[OS] Dialog de OS aberto")},F=()=>{n("os"),console.log("[OS] Dialog de OS fechado")},C=async(L,G)=>{try{if(G==="add"){const B={descricao:`Recebimento da OS: ${L.numero}`,valor:parseFloat(L.valor),dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`os-${L.id}`};await c(B),console.log("[OS] ✅ Entrada financeira criada:",B)}}catch(B){console.error("[OS] ❌ Erro ao atualizar financeiro:",B)}},E=async L=>{if(L.preventDefault(),!x.clienteNome||!x.clienteTelefone||!x.titulo||!x.senha||!x.valor){A({title:"Erro",description:"Todos os campos obrigatórios devem ser preenchidos!",variant:"destructive"});return}try{const G={numero:S?S.numero:`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,...x,valor:parseFloat(x.valor),createdAt:S?S.createdAt:new Date().toISOString()};await o(G,S==null?void 0:S.id),A(S?{title:"Sucesso!",description:"OS atualizada com sucesso!"}:{title:"Sucesso!",description:"OS criada com sucesso!"}),G.status==="Concluída"?await C(G,"add"):await C(G,"remove"),_({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),b(null),F()}catch(G){console.error("[OS] ❌ Erro ao salvar OS:",G),A({title:"Erro",description:"Erro ao salvar ordem de serviço. Tente novamente.",variant:"destructive"})}},P=async L=>{try{const G=r==null?void 0:r.find(B=>B.id===L);G&&await C(G,"remove"),await i(L),A({title:"Sucesso!",description:"OS removida com sucesso!"})}catch(G){console.error("[OS] ❌ Erro ao remover OS:",G),A({title:"Erro",description:"Erro ao remover ordem de serviço. Tente novamente.",variant:"destructive"})}},I=L=>{const G=new Date().toLocaleDateString("pt-BR"),B=L.numero||`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,O=u||{},z=O.nomeEmpresa||"MultiSmart",Z=O.descricao||"Manutenção e Comércio de Celulares e Tablets",Y=O.endereco||"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",de=O.cnpj||"47.309.271/0001-97",Se=O.telefone||"(17)3345-1016",ye=O.whatsapp||"(17)99157-1263",Ve=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Ordem de Serviço - ${B}</title>
          <meta charset="UTF-8">
          <style>
            @page {
              size: A4;
              margin: 0.5cm;
            }
            
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 0;
              color: #000; 
              font-size: 12px;
              line-height: 1.3;
            }
            
            .page {
              width: 21cm;
              height: 29.7cm;
              page-break-after: always;
              position: relative;
              border: 1px solid #ccc;
              box-sizing: border-box;
            }
            
            .page:last-child {
              page-break-after: avoid;
            }
            
            .cut-line {
              border-top: 2px dashed #000;
              margin: 14.85cm 0;
              position: relative;
            }
            
            .cut-line::before {
              content: "CORTE AQUI";
              position: absolute;
              top: -8px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 0 10px;
              font-size: 10px;
              font-weight: bold;
            }
            
            .os-container {
              padding: 20px;
              height: 14.35cm;
              box-sizing: border-box;
              position: relative;
            }
            
            .header {
              text-align: center;
              margin-bottom: 25px;
              border-bottom: 2px solid #000;
              padding-bottom: 15px;
            }
            
            .company-name {
              font-size: 28px;
              font-weight: bold;
              color: #2E8B57;
              margin-bottom: 5px;
              text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            }
            
            .company-subtitle {
              font-size: 14px;
              color: #666;
              margin-bottom: 10px;
            }
            
            .company-info {
              font-size: 11px;
              line-height: 1.4;
            }
            
            .os-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin: 20px 0;
              padding: 10px;
              background: #f5f5f5;
              border-radius: 5px;
            }
            
            .os-number {
              font-size: 24px;
              font-weight: bold;
              color: #2E8B57;
            }
            
            .os-date {
              font-size: 14px;
              font-weight: bold;
            }
            
            .form-section {
              display: grid;
              grid-template-columns: 1fr 1fr 1fr;
              gap: 20px;
              margin-bottom: 20px;
            }
            
            .form-column {
              display: flex;
              flex-direction: column;
            }
            
            .form-field {
              margin-bottom: 15px;
            }
            
            .form-label {
              font-weight: bold;
              font-size: 11px;
              margin-bottom: 5px;
              display: block;
            }
            
            .form-input {
              border: none;
              border-bottom: 1px solid #000;
              padding: 5px 0;
              font-size: 12px;
              width: 100%;
              background: transparent;
            }
            
            .form-textarea {
              border: 1px solid #ccc;
              padding: 8px;
              font-size: 11px;
              width: 100%;
              min-height: 60px;
              resize: none;
              background: #fafafa;
            }
            
            .phone-input {
              font-family: monospace;
              letter-spacing: 1px;
            }
            
            .terms-section {
              margin-top: 20px;
              padding: 15px;
              border: 1px solid #000;
              border-radius: 5px;
            }
            
            .terms-title {
              text-align: center;
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 15px;
              border-bottom: 1px dashed #000;
              padding-bottom: 5px;
            }
            
            .terms-list {
              list-style: none;
              padding: 0;
              margin: 0;
            }
            
            .terms-list li {
              margin-bottom: 8px;
              font-size: 11px;
              line-height: 1.4;
            }
            
            .dots-grid {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 5px;
              margin-top: 10px;
            }
            
            .dot {
              width: 8px;
              height: 8px;
              background: #000;
              border-radius: 50%;
              margin: 0 auto;
            }
            
            .footer-section {
              display: grid;
              grid-template-columns: 1fr 1fr 2fr;
              gap: 20px;
              margin-top: 20px;
              padding-top: 15px;
              border-top: 1px solid #000; 
            }
            
            .signature-line {
              border-bottom: 1px solid #000;
              padding: 5px 0;
              text-align: center;
              font-size: 11px;
              font-weight: bold;
            }
            
            .print-info {
              font-size: 10px;
              color: #666;
              text-align: center; 
              margin-top: 10px;
            }
            
            @media print {
              .page {
                border: none;
              }
              .cut-line {
                border-top: 2px dashed #000;
              }
            }
          </style>
        </head>
        <body>
          <!-- Primeira OS -->
          <div class="page">
            <div class="os-container">
              <div class="header">
                <div class="company-name">${z}</div>
                <div class="company-subtitle">${Z}</div>
                <div class="company-info">
                  ${Y}<br>
                  CNPJ: ${de} | Fone: ${Se} | WhatsApp: ${ye}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${G}</div>
                <div class="os-number">N°O.S.: ${B}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${L.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitação/Reclamação:</label>
                    <div class="form-textarea">${L.observacoes||""}</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${L.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Serviços executados/peças:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${L.clienteTelefone||"(  )     -    "}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                </div>
              </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorização para execução de serviço ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias será sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados após análise serão comunicados posteriormente.</li>
                  <li>4 - Não haverá garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                </div>
              </div>
              
              <div class="footer-section">
                <div class="signature-line">Pin: ${L.senha||""}</div>
                <div class="signature-line">Senha: ${L.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>
          
          <!-- Linha de corte -->
          <div class="cut-line"></div>
          
          <!-- Segunda OS (cópia) -->
          <div class="page">
            <div class="os-container">
          <div class="header">
                <div class="company-name">${z}</div>
                <div class="company-subtitle">${Z}</div>
                <div class="company-info">
                  ${Y}<br>
                  CNPJ: ${de} | Fone: ${Se} | WhatsApp: ${ye}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${G}</div>
                <div class="os-number">N°O.S.: ${B}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${L.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitação/Reclamação:</label>
                    <div class="form-textarea">${L.observacoes||""}</div>
                  </div>
          </div>
          
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${L.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Serviços executados/peças:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
            </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${L.clienteTelefone||"(  )     -    "}</div>
            </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
            </div>
            </div>
            </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorização para execução de serviço ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias será sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados após análise serão comunicados posteriormente.</li>
                  <li>4 - Não haverá garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
          </div>

              <div class="footer-section">
                <div class="signature-line">Pin: ${L.senha||""}</div>
                <div class="signature-line">Senha: ${L.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>

          <div class="print-info">
            Impresso em: ${new Date().toLocaleString("pt-BR")} | MultiSmart CRM System
          </div>
        </body>
      </html>
    `,ke=window.open("","_blank","width=800,height=600");ke.document.write(Ve),ke.document.close(),ke.focus(),setTimeout(()=>{ke.print()},500)},N=L=>{const G=l.find(B=>B.id===parseInt(L));G&&_({...x,clienteNome:G.nome,clienteTelefone:G.telefone})},j=(r||[]).filter(L=>{var O,z,Z,Y;const G=((O=L.clienteNome)==null?void 0:O.toLowerCase().includes(d.toLowerCase()))||((z=L.numero)==null?void 0:z.toLowerCase().includes(d.toLowerCase()))||((Z=L.titulo)==null?void 0:Z.toLowerCase().includes(d.toLowerCase()))||((Y=L.clienteTelefone)==null?void 0:Y.toLowerCase().includes(d.toLowerCase())),B=m==="Todos"||L.status===m;return G&&B}),k=L=>{switch(L){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Em Andamento":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluída":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},V={total:(r==null?void 0:r.length)||0,pendentes:(r==null?void 0:r.filter(L=>L.status==="Pendente").length)||0,emAndamento:(r==null?void 0:r.filter(L=>L.status==="Em Andamento").length)||0,concluidas:(r==null?void 0:r.filter(L=>L.status==="Concluída").length)||0,valorTotal:(r==null?void 0:r.reduce((L,G)=>L+(G.valor||0),0))||0};return a.jsxs("div",{className:"space-y-8",children:[a.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[a.jsx(ra,{className:"h-10 w-10"}),"Ordens de Serviço"]}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie e acompanhe todos os seus serviços"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(Q,{onClick:()=>y(w==="grid"?"list":"grid"),variant:"secondary",className:"bg-white/20 hover:bg-white/30 border-white/30",children:[w==="grid"?a.jsx(Sl,{className:"h-4 w-4 mr-2"}):a.jsx(ra,{className:"h-4 w-4 mr-2"}),w==="grid"?"Lista":"Cards"]}),a.jsxs(dn,{open:t.os,onOpenChange:F,children:[a.jsxs(Q,{onClick:()=>D(),className:"bg-white text-blue-600 hover:bg-blue-50 shadow-lg w-full max-w-full",children:[a.jsx(Vn,{className:"h-5 w-5 mr-2"}),"Nova OS"]}),a.jsxs(Xt,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsx(en,{children:S?"Editar OS":"Nova Ordem de Serviço"})}),a.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.length>0&&a.jsxs("div",{children:[a.jsx(X,{children:"Selecionar Cliente Existente"}),a.jsxs(ct,{onValueChange:N,children:[a.jsx(rt,{children:a.jsx(ut,{placeholder:"Escolha um cliente..."})}),a.jsx(st,{children:l.map(L=>a.jsxs(se,{value:L.id.toString(),children:[L.nome," - ",L.telefone]},L.id))})]})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"clienteNome",children:"Nome do Cliente *"}),a.jsx(me,{id:"clienteNome",value:x.clienteNome,onChange:L=>_({...x,clienteNome:L.target.value}),placeholder:"Nome do cliente",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"clienteTelefone",children:"Telefone do Cliente *"}),a.jsx(me,{id:"clienteTelefone",value:x.clienteTelefone,onChange:L=>_({...x,clienteTelefone:L.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"titulo",children:"Descrição/Título *"}),a.jsx(me,{id:"titulo",value:x.titulo,onChange:L=>_({...x,titulo:L.target.value}),placeholder:"Ex: Troca de tela, reparo de bateria...",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"senha",children:"Senha do Dispositivo *"}),a.jsx(me,{id:"senha",value:x.senha,onChange:L=>_({...x,senha:L.target.value}),placeholder:"Senha ou PIN",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"valor",children:"Valor do Serviço (R$) *"}),a.jsx(me,{id:"valor",type:"number",step:"0.01",value:x.valor,onChange:L=>_({...x,valor:L.target.value}),placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"status",children:"Status"}),a.jsxs(ct,{value:x.status,onValueChange:L=>_({...x,status:L}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"Pendente",children:"Pendente"}),a.jsx(se,{value:"Em Andamento",children:"Em Andamento"}),a.jsx(se,{value:"Concluída",children:"Concluída"})]})]})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"observacoes",children:"Observações"}),a.jsx(Qu,{id:"observacoes",value:x.observacoes,onChange:L=>_({...x,observacoes:L.target.value}),placeholder:"Observações adicionais",rows:3})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{type:"submit",className:"flex-1",children:S?"Atualizar":"Criar OS"}),a.jsx(Q,{type:"button",variant:"outline",onClick:F,children:"Cancelar"})]})]})]})]})]})]})}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:V.total})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(Sr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Pendentes"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:V.pendentes})]}),a.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:a.jsx(Lo,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Em Andamento"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:V.emAndamento})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(ra,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Concluídas"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:V.concluidas})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(pi,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Valor Total"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(V.valorTotal)})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Yn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})]}),a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx(me,{placeholder:"Buscar por cliente, número, descrição ou telefone...",value:d,onChange:L=>f(L.target.value),className:"pl-12 h-12 text-lg"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ct,{value:m,onValueChange:p,children:[a.jsxs(rt,{className:"w-48 h-12",children:[a.jsx(Xy,{className:"h-4 w-4 mr-2"}),a.jsx(ut,{})]}),a.jsxs(st,{children:[a.jsx(se,{value:"Todos",children:"Todos os Status"}),a.jsx(se,{value:"Pendente",children:"Pendentes"}),a.jsx(se,{value:"Em Andamento",children:"Em Andamento"}),a.jsx(se,{value:"Concluída",children:"Concluídas"})]})]}),a.jsxs(Q,{variant:"outline",className:"h-12",children:[a.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})}),a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:s?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Carregando ordens de serviço..."})]}):a.jsx(a.Fragment,{children:w==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map((L,G)=>a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:G*.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 w-full max-w-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-xl",children:L.numero}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${k(L.status)}`,children:L.status})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>I(L),className:"h-10 w-10 max-w-full hover:bg-blue-100 dark:hover:bg-blue-900/30",children:a.jsx(Hu,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>D(L),className:"h-10 w-10 max-w-full hover:bg-green-100 dark:hover:bg-green-900/30",children:a.jsx(ls,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>P(L.id),className:"h-10 w-10 max-w-full hover:bg-red-100 dark:hover:bg-red-900/30",children:a.jsx(cs,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(Vr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:L.clienteNome}),a.jsxs("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[a.jsx(ai,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:L.clienteTelefone})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:a.jsx(n9,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsx("div",{children:a.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-sm",children:L.titulo})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Yn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx("div",{children:a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:L.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L.valor):"R$ 0,00"})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:a.jsx(zl,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Senha: ",a.jsx("span",{className:"font-mono font-semibold",children:L.senha})]})})]}),L.observacoes&&a.jsx("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:L.observacoes})}),a.jsxs("div",{className:"flex items-center space-x-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Es,{className:"h-4 w-4 text-slate-400"}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Criada em: ",new Date(L.createdAt).toLocaleDateString("pt-BR")]})]})]})]},L.id))}):a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"OS"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Serviço"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Valor"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Data"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:j.map((L,G)=>a.jsxs(Te.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:G*.05},className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white break-words",children:L.numero})}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white break-words",children:L.clienteNome}),a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 break-words",children:L.clienteTelefone})]})}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("div",{className:"text-sm text-slate-900 dark:text-white max-w-xs truncate break-words",children:L.titulo})}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium break-words ${k(L.status)}`,children:L.status})}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("div",{className:"text-sm font-bold text-green-600 dark:text-green-400 break-words",children:L.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L.valor):"R$ 0,00"})}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 break-words",children:new Date(L.createdAt).toLocaleDateString("pt-BR")})}),a.jsx("td",{className:"px-3 sm:px-6 py-4 text-right text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>I(L),className:"h-8 w-8 max-w-full",children:a.jsx(Hu,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>D(L),className:"h-8 w-8 max-w-full",children:a.jsx(ls,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>P(L.id),className:"h-8 w-8 max-w-full text-red-500 hover:text-red-700",children:a.jsx(cs,{className:"h-4 w-4"})})]})})]},L.id))})]})})})})}),!s&&j.length===0&&a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:[a.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:a.jsx(Sr,{className:"h-10 w-10 text-slate-400"})}),a.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:d||m!=="Todos"?"Nenhuma OS encontrada":"Nenhuma OS cadastrada"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-6 max-w-md mx-auto",children:d||m!=="Todos"?"Tente ajustar os filtros ou buscar com outros termos":"Comece criando sua primeira ordem de serviço e organize seus atendimentos"}),!d&&m==="Todos"&&a.jsxs(Q,{onClick:()=>D(),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[a.jsx(Vn,{className:"h-5 w-5 mr-2"}),"Criar Primeira OS"]})]})]})},dQ=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(mr),{toast:r}=fr(),{data:s,save:o,remove:i}=Dd(),{data:l}=wc(),{data:c,save:u}=Md(),{data:d}=Od(),{save:f}=Eb(),[m,p]=g.useState(""),[w,y]=g.useState("todas"),[S,b]=g.useState(""),[x,_]=g.useState([]),[A,D]=g.useState(null),[F,C]=g.useState("selecionar"),[E,P]=g.useState(""),[I,N]=g.useState([]),[j,k]=g.useState(!1);g.useState(""),g.useState([]),g.useState(!1);const[V,L]=g.useState({}),[G,B]=g.useState({}),[O,z]=g.useState({}),[Z,Y]=g.useState(!1),[de,Se]=g.useState([]),[ye,Ve]=g.useState({tipo:"porcentagem",valor:0}),[ke,fe]=g.useState(!1),[Me,$e]=g.useState("recentes");g.useState(!1);const[W,ce]=g.useState(null),[te,Ie]=g.useState({clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0});g.useEffect(()=>{console.log("[OV] Clientes carregados:",l),console.log("[OV] Produtos carregados:",c),console.log("[OV] Categorias carregadas:",d),console.log("[OV] Ordens carregadas:",s)},[l,c,d,s]);const Ke=async U=>{try{await o(U),r({title:"Sucesso!",description:"Ordem de Venda criada com sucesso!"})}catch(ne){console.error("[OV] Erro ao salvar OV:",ne),r({title:"Erro!",description:"Erro ao criar Ordem de Venda.",variant:"destructive"})}},at=(U=null)=>{ce(U),Ie(U?{clienteId:U.clienteId,clienteNome:U.clienteNome,produtos:U.produtos,status:U.status,total:U.total}:{clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0}),e("ov")},$=()=>{ce(null),n("ov"),console.log("[OV] Dialog de OV fechado")},ue=U=>U.reduce((ne,ae)=>ne+ae.preco*ae.quantidade,0),Fe=(U,ne,ae)=>{const xe=[...te.produtos];if(ne==="produtoId"){const pn=c.find(Gr=>Gr.id===ae);pn&&(xe[U]={...xe[U],produtoId:ae,nome:pn.nome,preco:pn.preco})}else xe[U][ne]=ne==="quantidade"||ne==="preco"?parseFloat(ae)||0:ae;const mn=ue(xe);Ie({...te,produtos:xe,total:mn})},Ne=()=>{Ie({...te,produtos:[...te.produtos,{produtoId:"",nome:"",preco:0,quantidade:1}]})},Pe=U=>{const ne=te.produtos.filter((xe,mn)=>mn!==U),ae=ue(ne);Ie({...te,produtos:ne,total:ae})},q=(U,ne)=>{const ae=JSON.parse(localStorage.getItem("crm_financeiro")||"[]");let xe=ae;if(ne==="add"){if(!ae.find(pn=>pn.origemId===`ov-${U.id}`)){const pn={id:Date.now(),descricao:`Recebimento da OV: ${U.numero}`,valor:U.total,dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`ov-${U.id}`,createdAt:new Date().toISOString()};xe=[...ae,pn]}}else ne==="remove"&&(xe=ae.filter(mn=>mn.origemId!==`ov-${U.id}`));localStorage.setItem("crm_financeiro",JSON.stringify(xe)),window.dispatchEvent(new Event("storage"))},_e=async U=>{if(U.preventDefault(),!te.clienteNome||te.produtos.length===0||te.produtos.some(ae=>!ae.nome)){r({title:"Erro",description:"Cliente e pelo menos um produto são obrigatórios!",variant:"destructive"});return}const ne={numero:W?W.numero:`OV${String(s.length+1).padStart(4,"0")}`,...te,createdAt:W?W.createdAt:new Date().toISOString()};try{W?(await o(ne,W.id),r({title:"Sucesso!",description:"OV atualizada com sucesso!"})):(await o(ne),r({title:"Sucesso!",description:"OV criada com sucesso!"})),ne.status==="Concluída"?q(ne,"add"):q(ne,"remove"),$()}catch(ae){console.error("[OV] Erro ao salvar OV:",ae),r({title:"Erro!",description:"Erro ao salvar OV.",variant:"destructive"})}},mt=async U=>{try{const ne=s.find(ae=>ae.id===U);if(!ne){r({title:"Erro!",description:"OV não encontrada",variant:"destructive"});return}q(ne,"remove"),await i(U),r({title:"Sucesso!",description:"OV removida com sucesso!"}),console.log(`✅ OV ${ne.numero} removida com sucesso`)}catch(ne){console.error("❌ Erro ao excluir OV:",ne),r({title:"Erro!",description:"Erro ao excluir a OV. Tente novamente.",variant:"destructive"})}},ie=U=>{if(P(U),U.length>0){const ne=l.filter(ae=>{var xe;return ae.nome.toLowerCase().includes(U.toLowerCase())||ae.telefone.includes(U)||((xe=ae.email)==null?void 0:xe.toLowerCase().includes(U.toLowerCase()))});N(ne),k(!0)}else N([]),k(!1)},oe=U=>{D(U),P(U.nome),k(!1)},We=(U,ne)=>{if(L(ae=>({...ae,[U]:ne})),ne.length>0){const ae=c.filter(xe=>xe.nome.toLowerCase().includes(ne.toLowerCase())||xe.codigo.toLowerCase().includes(ne.toLowerCase()));B(xe=>({...xe,[U]:ae})),z(xe=>({...xe,[U]:!0}))}else B(ae=>({...ae,[U]:[]})),z(ae=>({...ae,[U]:!1}))},xt=(U,ne)=>{Fe(U,"produtoId",ne.id),L(ae=>({...ae,[U]:ne.nome})),z(ae=>({...ae,[U]:!1}))};g.useEffect(()=>{F!=="selecionar"&&(P(""),N([]),k(!1))},[F]),g.useEffect(()=>{t.ov||(P(""),N([]),k(!1),L({}),B({}),z({}))},[t.ov]);const $t=U=>{const ne=x.find(ae=>ae.id===U.id);_(ne?x.map(ae=>ae.id===U.id?{...ae,quantidade:ae.quantidade+1}:ae):[...x,{...U,quantidade:1}]),r({title:"Produto adicionado!",description:`${U.nome} foi adicionado ao carrinho`})},Pn=U=>{_(x.filter(ne=>ne.id!==U)),r({title:"Produto removido!",description:"Produto removido do carrinho"})},qn=(U,ne)=>{if(ne<=0){Pn(U);return}_(x.map(ae=>ae.id===U?{...ae,quantidade:ne}:ae))},pr=()=>x.reduce((U,ne)=>U+ne.preco*ne.quantidade,0),ps=()=>{if(x.length===0){r({title:"Carrinho vazio!",description:"Adicione produtos ao carrinho antes de finalizar",variant:"destructive"});return}if(!A){r({title:"Cliente não informado!",description:"Selecione um cliente antes de finalizar",variant:"destructive"});return}Y(!0)},gs=()=>{_([]),D(null),setClienteDigitado(""),C("selecionar"),Se([]),Ve({tipo:"porcentagem",valor:0}),r({title:"Venda cancelada",description:"Carrinho limpo"})},er=()=>{Se([...de,{id:Date.now(),tipo:"dinheiro",valor:0,observacao:""}])},Hr=U=>{Se(de.filter(ne=>ne.id!==U))},gr=(U,ne,ae)=>{Se(de.map(xe=>xe.id===U?{...xe,[ne]:ae}:xe))},sn=()=>{const U=pr();return ye.tipo==="porcentagem"?U*(1-ye.valor/100):Math.max(0,U-ye.valor)},tr=()=>de.reduce((U,ne)=>U+ne.valor,0),M=async U=>{try{for(const ne of U){const ae=c.find(xe=>xe.id===ne.produtoId);if(ae){const xe=ae.quantidade-ne.quantidade;await u({...ae,quantidade:xe},ae.id),await f({produtoId:ne.produtoId,produto:ne.nome,tipo:"saida",quantidade:ne.quantidade,observacao:`Venda - OV ${s.length+1}`,data:new Date().toISOString(),usuario:"Sistema",createdAt:new Date().toISOString()}),console.log(`✅ Baixa realizada: ${ne.nome} - ${ne.quantidade} unidades`)}}r({title:"Estoque atualizado!",description:"Baixa realizada com sucesso no estoque"})}catch(ne){console.error("❌ Erro ao dar baixa no estoque:",ne),r({title:"Erro no estoque!",description:"Erro ao atualizar o estoque. Verifique manualmente.",variant:"destructive"})}},we=async()=>{const U=sn(),ne=tr();if(ne<U){r({title:"Valor insuficiente!",description:`Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U)} | Pago: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ne)}`,variant:"destructive"});return}const ae={numero:`OV${String(s.length+1).padStart(4,"0")}`,clienteId:A.id||null,clienteNome:A.nome,produtos:x.map(xe=>({produtoId:xe.id,nome:xe.nome,preco:xe.preco,quantidade:xe.quantidade})),status:"Concluída",total:U,desconto:ye,formasPagamento:de,troco:ne-U,createdAt:new Date().toISOString()};try{await Ke(ae),await M(x),q(ae,"add"),_([]),D(null),setClienteDigitado(""),C("selecionar"),Se([]),Ve({tipo:"porcentagem",valor:0}),Y(!1),r({title:"Venda finalizada!",description:`OV criada com sucesso. Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U)}. Estoque atualizado.`})}catch(xe){console.error("[OV] Erro ao finalizar pagamento:",xe),r({title:"Erro!",description:"Erro ao finalizar a venda.",variant:"destructive"})}},ee=c.filter(U=>{const ne=U.nome.toLowerCase().includes(m.toLowerCase())||U.codigo.toLowerCase().includes(m.toLowerCase()),ae=w==="todas"||U.categoriaId===w;return ne&&ae}),ge=new Date().toISOString().slice(0,10),he=s.filter(U=>{var ae,xe;return((ae=U.createdAt)!=null&&ae.toDate?U.createdAt.toDate().toISOString().slice(0,10):(xe=U.createdAt)==null?void 0:xe.slice(0,10))===ge}).sort((U,ne)=>{var mn,pn;const ae=(mn=U.createdAt)!=null&&mn.toDate?U.createdAt.toDate():new Date(U.createdAt),xe=(pn=ne.createdAt)!=null&&pn.toDate?ne.createdAt.toDate():new Date(ne.createdAt);return Me==="recentes"?xe-ae:ae-xe}),tt=he.filter(U=>U.clienteNome.toLowerCase().includes(S.toLowerCase())||U.numero.toLowerCase().includes(S.toLowerCase())),Be=U=>{switch(U){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Processando":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluída":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelada":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Ordens de Venda"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Catálogo de produtos e carrinho de vendas"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(dn,{open:t.ov,onOpenChange:$,children:[a.jsxs(Q,{onClick:()=>at(),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Nova OV Manual"]}),a.jsxs(Xt,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(es,{className:"h-6 w-6 text-blue-500"}),W?"Editar OV":"Nova Ordem de Venda"]})}),a.jsxs("form",{onSubmit:_e,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5 text-blue-500"}),"Informações do Cliente"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Cliente Cadastrado"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(me,{value:E,onChange:U=>ie(U.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),a.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),j&&I.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:I.map(U=>a.jsx("div",{onClick:()=>{Ie({...te,clienteId:U.id.toString(),clienteNome:U.nome}),P(U.nome),k(!1)},className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx(Vr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:U.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:[U.telefone," ",U.email&&`• ${U.email}`]})]})]})},U.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome, telefone ou email do cliente para buscar"}),l.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Cadastre clientes no módulo Clientes primeiro"})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"clienteNome",className:"text-sm font-medium",children:"Nome do Cliente"}),a.jsx(me,{id:"clienteNome",value:te.clienteNome,onChange:U=>Ie({...te,clienteNome:U.target.value}),placeholder:"Digite o nome do cliente",className:"mt-1",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use este campo se o cliente não estiver cadastrado"})]})]}),te.clienteNome&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["✅ Cliente: ",a.jsx("span",{className:"font-semibold",children:te.clienteNome})]})})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Qn,{className:"h-5 w-5 text-green-500"}),"Produtos"]}),a.jsxs(Q,{type:"button",onClick:Ne,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[a.jsx(Vn,{className:"h-4 w-4 mr-1"}),"Adicionar Produto"]})]}),a.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:te.produtos.map((U,ne)=>{var ae;return a.jsxs("div",{className:"bg-white dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white",children:["Produto ",ne+1]}),te.produtos.length>1&&a.jsx(Q,{type:"button",variant:"ghost",size:"icon",onClick:()=>Pe(ne),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(cs,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Produto Cadastrado"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(me,{value:V[ne]||"",onChange:xe=>We(ne,xe.target.value),placeholder:"Digite o nome ou código do produto...",className:"pr-10"}),a.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),O[ne]&&((ae=G[ne])==null?void 0:ae.length)>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:G[ne].map(xe=>a.jsx("div",{onClick:()=>xt(ne,xe),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[xe.imagem&&a.jsx("img",{src:xe.imagem,alt:xe.nome,className:"w-8 h-8 object-cover rounded border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:xe.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Código: ",xe.codigo," | Estoque: ",xe.quantidade," | ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(xe.preco)]})]})]})},xe.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome ou código do produto para buscar"}),c.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Cadastre produtos no módulo Estoque primeiro"})]}),a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Nome do Produto"}),a.jsx(me,{value:U.nome,onChange:xe=>Fe(ne,"nome",xe.target.value),placeholder:"Nome do produto",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Preço Unitário"}),a.jsx(me,{type:"number",step:"0.01",value:U.preco,onChange:xe=>Fe(ne,"preco",xe.target.value),placeholder:"0.00",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Quantidade"}),a.jsx(me,{type:"number",min:"1",value:U.quantidade,onChange:xe=>Fe(ne,"quantidade",xe.target.value),className:"mt-1"})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Subtotal:"}),a.jsx("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U.preco*U.quantidade)})]})})]},ne)})})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(X,{htmlFor:"status",className:"text-sm font-medium",children:"Status da OV"}),a.jsxs(ct,{value:te.status,onValueChange:U=>Ie({...te,status:U}),className:"mt-1",children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"Pendente",children:"Pendente"}),a.jsx(se,{value:"Processando",children:"Processando"}),a.jsx(se,{value:"Concluída",children:"Concluída"}),a.jsx(se,{value:"Cancelada",children:"Cancelada"})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Total da OV"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(te.total)})]})})]})}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2",children:W?"Atualizar OV":"Criar OV"}),a.jsx(Q,{type:"button",variant:"outline",onClick:$,className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(Q,{onClick:()=>fe(!0),variant:"outline",className:"border-blue-500 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:["Ver OVs do Dia (",he.length,")"]})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar produtos...",value:m,onChange:U=>p(U.target.value),className:"pl-10"})]}),a.jsxs(ct,{value:w,onValueChange:y,children:[a.jsx(rt,{className:"w-48",children:a.jsx(ut,{placeholder:"Categoria"})}),a.jsxs(st,{children:[a.jsx(se,{value:"todas",children:"Todas as categorias"}),d.map(U=>a.jsx(se,{value:U.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:U.cor}}),U.nome]})},U.id))]})]})]}),a.jsx("div",{className:"space-y-6",children:d.map(U=>{const ne=ee.filter(ae=>ae.categoriaId===U.id);return ne.length===0?null:a.jsxs("div",{children:[a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 border rounded-lg p-3 mb-4",style:{borderColor:U.cor},children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:U.nome}),a.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[ne.length," produtos"]})]})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:ne.map((ae,xe)=>a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:xe*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 w-full max-w-full",children:a.jsxs("div",{className:"flex gap-3",children:[ae.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:ae.imagem,alt:ae.nome,className:"w-16 h-16 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:ae.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",ae.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Yn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ae.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Qn,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${ae.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[ae.quantidade," ",ae.quantidade<=5&&"(Baixo)"]})]})]}),a.jsxs(Q,{size:"sm",onClick:()=>$t(ae),className:"w-full mt-2 bg-green-500 hover:bg-green-600 text-white",disabled:ae.quantidade<=0,children:[a.jsx(Vn,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})]})},ae.id))})]},U.id)})}),ee.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Qn,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:m?"Nenhum produto encontrado":"Nenhum produto cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:m?"Tente buscar com outros termos":"Cadastre produtos no módulo de Estoque"})]})]}),a.jsxs("div",{className:"w-full max-w-80 bg-white dark:bg-slate-800 rounded-lg border p-4 h-fit sticky top-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(es,{className:"h-5 w-5"}),"Carrinho"]}),x.length>0&&a.jsx(Q,{size:"sm",variant:"outline",onClick:gs,children:a.jsx(Cr,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs(X,{className:"text-sm font-medium",children:["Cliente ",l.length>0&&`(${l.length} cadastrados)`]}),a.jsx("div",{className:"mb-2",children:a.jsx("span",{className:"text-xs text-slate-500",children:l.length===0?"Nenhum cliente encontrado":`${l.length} cliente(s) disponível(is)`})}),a.jsx("div",{className:"space-y-2 mb-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(me,{value:E,onChange:U=>ie(U.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),a.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),j&&I.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:I.map(U=>a.jsx("div",{onClick:()=>oe(U),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx(Vr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:U.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:[U.telefone," ",U.email&&`• ${U.email}`]})]})]})},U.id))})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"💡 Digite o nome, telefone ou email do cliente para buscar"}),A&&a.jsxs("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:["✅ Cliente selecionado: ",A.nome]}),l.length===0&&a.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:"⚠️ Nenhum cliente cadastrado. Digite o nome do cliente abaixo."})]})})]}),a.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:x.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(es,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Seu carrinho está vazio"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Adicione produtos do catálogo"})]}):x.map(U=>a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:U.nome}),a.jsx("p",{className:"text-xs text-slate-500",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U.preco)})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>qn(U.id,U.quantidade-1),className:"h-6 w-6 p-0",children:a.jsx(K5,{className:"h-3 w-3"})}),a.jsx("span",{className:"text-sm w-6 text-center",children:U.quantidade}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>qn(U.id,U.quantidade+1),className:"h-6 w-6 p-0",children:a.jsx(Vn,{className:"h-3 w-3"})})]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Pn(U.id),className:"h-6 w-6 p-0 text-red-500",children:a.jsx(Cr,{className:"h-3 w-3"})})]},U.id))}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"font-semibold",children:"Total:"}),a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",pr().toFixed(2)]})]}),a.jsx(Q,{onClick:ps,className:"w-full bg-green-600 hover:bg-green-700",disabled:x.length===0||!A,children:"Finalizar Venda"})]})]})]}),a.jsx(dn,{open:ke,onOpenChange:fe,children:a.jsxs(Xt,{className:"max-w-7xl max-h-[95vh] flex flex-col bg-white dark:bg-slate-900",children:[a.jsxs(Jt,{className:"pb-4 flex-shrink-0",children:[a.jsxs(en,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(es,{className:"h-6 w-6 text-blue-500"}),"Ordens de Venda do Dia",a.jsxs("span",{className:"text-lg font-normal text-slate-500",children:["(",he.length," OVs)"]})]}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Todas as ordens de venda criadas hoje (",new Date().toLocaleDateString("pt-BR"),")"]})]}),a.jsxs("div",{className:"mb-6 space-y-4 flex-shrink-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar OVs por cliente ou número...",value:S,onChange:U=>b(U.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(X,{className:"text-sm font-medium",children:"Ordenar por:"}),a.jsxs(ct,{value:Me,onValueChange:$e,children:[a.jsx(rt,{className:"w-48",children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"recentes",children:"Mais Recentes"}),a.jsx(se,{value:"antigas",children:"Mais Antigas"})]})]})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[tt.length," OV(s) encontrada(s)"]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",maxHeight:"calc(95vh - 200px)"},children:[a.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),tt.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(es,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-slate-900 dark:text-white mb-2",children:S?"Nenhuma OV encontrada":"Nenhuma OV criada hoje"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:S?"Tente buscar com outros termos":"As OVs criadas hoje aparecerão aqui"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:tt.map((U,ne)=>{var ae;return a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ne*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:U.numero}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Be(U.status)}`,children:U.status})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>at(U),className:"h-7 w-7 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/20",children:a.jsx(ls,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>mt(U.id),className:"h-7 w-7 p-0 text-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20",children:a.jsx(cs,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(Vr,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:U.clienteNome})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[a.jsx(es,{className:"h-4 w-4"}),a.jsxs("span",{children:[U.produtos.length," produto(s)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yn,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U.total)})]})]}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date((ae=U.createdAt)!=null&&ae.toDate?U.createdAt.toDate():U.createdAt).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})})]}),a.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:a.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:U.produtos.map((xe,mn)=>a.jsxs("div",{className:"flex justify-between items-center text-xs bg-slate-50 dark:bg-slate-700/50 p-2 rounded",children:[a.jsx("span",{className:"font-medium truncate flex-1 mr-2",children:xe.nome}),a.jsxs("span",{className:"text-slate-500 break-words",children:[xe.quantidade,"x ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(xe.preco)]})]},mn))})})]})},U.id)})})]})]})}),a.jsx(dn,{open:Z,onOpenChange:Y,children:a.jsxs(Xt,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsx(en,{children:"Finalizar Venda - Formas de Pagamento"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Resumo da Venda"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cliente:"}),a.jsx("span",{className:"font-medium",children:A==null?void 0:A.nome})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Original:"}),a.jsxs("span",{children:["R$ ",pr().toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Desconto:"}),a.jsx("span",{className:"text-red-600",children:ye.valor>0?ye.tipo==="porcentagem"?`${ye.valor}% (${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(pr()*ye.valor/100)})`:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ye.valor):a.jsx("span",{className:"text-slate-500",children:"Nenhum desconto"})})]}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[a.jsx("span",{children:"Total Final:"}),a.jsxs("span",{className:"text-green-600",children:["R$ ",sn().toFixed(2)]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold",children:"Desconto"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ct,{value:ye.tipo,onValueChange:U=>Ve({...ye,tipo:U}),children:[a.jsx(rt,{className:"w-32",children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"porcentagem",children:"%"}),a.jsx(se,{value:"valor",children:"R$"})]})]}),a.jsx(me,{type:"number",step:ye.tipo==="porcentagem"?"1":"0.01",min:"0",max:ye.tipo==="porcentagem"?"100":pr(),value:ye.valor,onChange:U=>Ve({...ye,valor:parseFloat(U.target.value)||0}),placeholder:"0",className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold",children:"Formas de Pagamento"}),a.jsxs(Q,{size:"sm",onClick:er,children:[a.jsx(Vn,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),a.jsx("div",{className:"space-y-3",children:de.map((U,ne)=>a.jsxs("div",{className:"flex gap-3 items-center p-3 border rounded-lg",children:[a.jsxs(ct,{value:U.tipo,onValueChange:ae=>gr(U.id,"tipo",ae),children:[a.jsx(rt,{className:"w-32",children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"dinheiro",children:"Dinheiro"}),a.jsx(se,{value:"cartao_debito",children:"Cartão Débito"}),a.jsx(se,{value:"cartao_credito",children:"Cartão Crédito"}),a.jsx(se,{value:"pix",children:"PIX"}),a.jsx(se,{value:"cheque",children:"Cheque"}),a.jsx(se,{value:"outros",children:"Outros"})]})]}),a.jsx(me,{type:"number",step:"0.01",min:"0",value:U.valor,onChange:ae=>gr(U.id,"valor",parseFloat(ae.target.value)||0),placeholder:"Valor",className:"flex-1"}),a.jsx(me,{value:U.observacao,onChange:ae=>gr(U.id,"observacao",ae.target.value),placeholder:"Observação",className:"flex-1"}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Hr(U.id),className:"text-red-500",children:a.jsx(Cr,{className:"h-4 w-4"})})]},U.id))})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Pago:"}),a.jsxs("span",{className:"font-semibold",children:["R$ ",tr().toFixed(2)]})]}),tr()>sn()&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Troco:"}),a.jsxs("span",{className:"font-semibold",children:["R$ ",(tr()-sn()).toFixed(2)]})]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Q,{onClick:we,className:"flex-1 bg-green-600 hover:bg-green-700",disabled:de.length===0||tr()<sn(),children:"Finalizar Pagamento"}),a.jsx(Q,{variant:"outline",onClick:()=>Y(!1),className:"flex-1",children:"Cancelar"})]})]})]})})]})},hQ=()=>{const{dialogs:t,openDialog:e,closeDialog:n,produtoParaReporEstoque:r,limparProdutoParaReporEstoque:s,darkMode:o}=g.useContext(mr),{toast:i}=fr(),{data:l,loading:c,save:u,remove:d}=Od(),{data:f,loading:m,save:p,remove:w}=Md(),{data:y,loading:S,save:b,remove:x}=Eb(),[_,A]=g.useState(""),[D,F]=g.useState(!1),[C,E]=g.useState(!1),[P,I]=g.useState(!1),[N,j]=g.useState(!1),[k,V]=g.useState(null),[L,G]=g.useState(""),[B,O]=g.useState(!1),[z,Z]=g.useState(null),[Y,de]=g.useState(null),[Se,ye]=g.useState({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),[Ve,ke]=g.useState({nome:"",cor:"#8b5cf6"}),[fe,Me]=g.useState({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),[$e,W]=g.useState(null),ce=(f==null?void 0:f.filter(q=>{var ie;const _e=q.nome.toLowerCase().includes(_.toLowerCase())||((ie=q.codigo)==null?void 0:ie.toLowerCase().includes(_.toLowerCase())),mt=!$e||q.categoriaId===$e.id;return _e&&mt}))||[],te=(f==null?void 0:f.filter(q=>q.quantidade<=(q.estoqueMinimo||5)))||[],Ie=async q=>{q.preventDefault();try{const _e={...Se,preco:parseFloat(Se.preco)||0,quantidade:parseInt(Se.quantidade)||0,estoqueMinimo:5,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};z?(await p({..._e,id:z.id}),i({title:"Sucesso!",description:"Produto atualizado com sucesso!"})):(await p(_e),i({title:"Sucesso!",description:"Produto criado com sucesso!"})),F(!1),ye({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),Z(null)}catch(_e){console.error("Erro ao salvar produto:",_e),i({title:"Erro",description:"Erro ao salvar produto",variant:"destructive"})}},Ke=async q=>{q.preventDefault();try{const _e={...Ve,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};Y?(await u({..._e,id:Y.id}),i({title:"Sucesso!",description:"Categoria atualizada com sucesso!"})):(await u(_e),i({title:"Sucesso!",description:"Categoria criada com sucesso!"})),E(!1),ke({nome:"",cor:"#8b5cf6"}),de(null)}catch(_e){console.error("Erro ao salvar categoria:",_e),i({title:"Erro",description:"Erro ao salvar categoria",variant:"destructive"})}},at=async q=>{q.preventDefault();try{const _e={...fe,quantidade:parseInt(fe.quantidade)||0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await b(_e);const mt=f.find(ie=>ie.id===fe.produtoId);if(mt){const ie=fe.tipo==="entrada"?mt.quantidade+parseInt(fe.quantidade):mt.quantidade-parseInt(fe.quantidade);await p({...mt,quantidade:ie})}i({title:"Sucesso!",description:"Movimentação registrada com sucesso!"}),I(!1),Me({produtoId:"",tipo:"entrada",quantidade:"",observacao:""})}catch(_e){console.error("Erro ao salvar movimentação:",_e),i({title:"Erro",description:"Erro ao salvar movimentação",variant:"destructive"})}},$=async q=>{if(window.confirm("Tem certeza que deseja excluir este produto?"))try{await w(q),i({title:"Sucesso!",description:"Produto excluído com sucesso!"})}catch(_e){console.error("Erro ao excluir produto:",_e),i({title:"Erro",description:"Erro ao excluir produto",variant:"destructive"})}},ue=async q=>{if(window.confirm("Tem certeza que deseja excluir esta categoria?"))try{await d(q),i({title:"Sucesso!",description:"Categoria excluída com sucesso!"})}catch(_e){console.error("Erro ao excluir categoria:",_e),i({title:"Erro",description:"Erro ao excluir categoria",variant:"destructive"})}},Fe=q=>{Z(q),ye({nome:q.nome||"",codigo:q.codigo||"",preco:q.preco||"",quantidade:q.quantidade||"",categoriaId:q.categoriaId||"",imagem:q.imagem||null}),F(!0)},Ne=q=>{de(q),ke({nome:q.nome,cor:q.cor||"#8b5cf6"}),E(!0)},Pe=()=>{const q=[["Nome","Código","Preço","Quantidade","Categoria","Estoque Mínimo"],...ce.map(oe=>{const We=l==null?void 0:l.find(xt=>xt.id===oe.categoriaId);return[oe.nome,oe.codigo||"",oe.preco||0,oe.quantidade||0,(We==null?void 0:We.nome)||"Sem categoria",oe.estoqueMinimo||5]})].map(oe=>oe.join(",")).join(`
`),_e=new Blob([q],{type:"text/csv"}),mt=window.URL.createObjectURL(_e),ie=document.createElement("a");ie.href=mt,ie.download="estoque.csv",ie.click(),window.URL.revokeObjectURL(mt)};return g.useEffect(()=>{t.produto&&(Z(null),ye({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),F(!0),n("produto")),t.movimentacao&&(r&&(Me({produtoId:r.id,tipo:"entrada",quantidade:"",observacao:""}),s()),I(!0),n("movimentacao"))},[t,r,n,s]),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[a.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white shadow-2xl",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm",children:a.jsx(Qn,{className:"h-8 w-8"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Gestão de Estoque"}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Controle total de produtos, categorias e movimentações"})]})]}),te.length>0&&a.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"flex items-center gap-3 p-4 bg-red-500/20 border border-red-300/30 rounded-xl backdrop-blur-sm",children:[a.jsx(Fr,{className:"h-6 w-6 text-red-200"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-red-100",children:[te.length," produto",te.length>1?"s":""," com estoque crítico"]}),a.jsx("p",{className:"text-sm text-red-200",children:"Verifique os produtos abaixo do estoque mínimo"})]}),a.jsx(Q,{onClick:()=>O(!0),variant:"outline",size:"sm",className:"border-red-300/50 text-red-100 hover:bg-red-500/20",children:"Ver Detalhes"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[a.jsx(Qn,{className:"h-6 w-6 mx-auto mb-2 text-blue-200"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:(f==null?void 0:f.length)||0}),a.jsx("div",{className:"text-sm text-blue-200",children:"Total Produtos"})]}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[a.jsx(Cl,{className:"h-6 w-6 mx-auto mb-2 text-purple-200"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:(l==null?void 0:l.length)||0}),a.jsx("div",{className:"text-sm text-blue-200",children:"Categorias"})]}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[a.jsx(Fr,{className:"h-6 w-6 mx-auto mb-2 text-red-200"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:te.length}),a.jsx("div",{className:"text-sm text-blue-200",children:"Críticos"})]}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[a.jsx(Kn,{className:"h-6 w-6 mx-auto mb-2 text-green-200"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:(y==null?void 0:y.length)||0}),a.jsx("div",{className:"text-sm text-blue-200",children:"Movimentações"})]})]})]})})}),a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-6 relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[a.jsxs(Q,{onClick:()=>F(!0),className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-16",children:[a.jsx(Vn,{className:"h-5 w-5 mr-2"}),a.jsx("span",{className:"font-semibold",children:"Novo Produto"})]}),a.jsxs(Q,{onClick:()=>I(!0),variant:"outline",className:"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 h-16",children:[a.jsx(Kn,{className:"h-5 w-5 mr-2"}),a.jsx("span",{className:"font-semibold",children:"Movimentação"})]}),a.jsxs(Q,{onClick:Pe,variant:"outline",className:"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 h-16",children:[a.jsx(Ul,{className:"h-5 w-5 mr-2"}),a.jsx("span",{className:"font-semibold",children:"Exportar"})]})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Cl,{className:"h-5 w-5 text-blue-600"}),"Categorias"]}),a.jsx(Q,{onClick:()=>E(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:a.jsx(Vn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar produtos...",value:_,onChange:q=>A(q.target.value),className:"pl-10 bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600"})]})]}),a.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>W(null),className:`w-full text-left p-3 rounded-lg transition-all duration-200 flex items-center gap-3 ${$e===null?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700":"hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300"}`,children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-400"}),a.jsx("span",{className:"font-medium",children:"Todos os produtos"}),a.jsx("span",{className:"ml-auto text-sm text-slate-500 dark:text-slate-400",children:(f==null?void 0:f.length)||0})]}),l==null?void 0:l.map(q=>a.jsxs("button",{onClick:()=>W(q),className:`w-full text-left p-3 rounded-lg transition-all duration-200 flex items-center gap-3 group ${($e==null?void 0:$e.id)===q.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700":"hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300"}`,children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:q.cor}}),a.jsx("span",{className:"font-medium",children:q.nome}),a.jsx("span",{className:"ml-auto text-sm text-slate-500 dark:text-slate-400",children:(f==null?void 0:f.filter(_e=>_e.categoriaId===q.id).length)||0}),a.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[a.jsx(Q,{variant:"ghost",size:"sm",onClick:_e=>{_e.stopPropagation(),Ne(q)},className:"h-6 w-6 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:a.jsx(ls,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"sm",onClick:_e=>{_e.stopPropagation(),ue(q.id)},className:"h-6 w-6 p-0 hover:bg-red-100 dark:hover:bg-red-900/30",children:a.jsx(cs,{className:"h-3 w-3"})})]})]},q.id))]})})]})}),a.jsx(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"lg:col-span-3",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:$e?$e.nome:"Todos os Produtos"}),a.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[ce.length," produto",ce.length!==1?"s":""]})]})}),a.jsx("div",{className:"p-6",children:ce.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Qn,{className:"h-16 w-16 mx-auto text-slate-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhum produto encontrado"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:_?"Tente ajustar os filtros de busca":"Comece adicionando um novo produto"}),a.jsxs(Q,{onClick:()=>F(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[a.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Novo Produto"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ce.map((q,_e)=>{const mt=l==null?void 0:l.find(oe=>oe.id===q.categoriaId),ie=q.quantidade<=(q.estoqueMinimo||5);return a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_e*.1},className:`bg-white dark:bg-slate-800/50 rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 ${ie?"border-red-200 dark:border-red-700 bg-red-50/30 dark:bg-red-900/10":"border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-600"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white mb-1",children:q.nome}),q.codigo&&a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Código: ",q.codigo]})]}),ie&&a.jsx(Fr,{className:"h-5 w-5 text-red-500 flex-shrink-0"})]}),q.imagem&&a.jsx("div",{className:"mb-4",children:a.jsx("img",{src:q.imagem,alt:q.nome,className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{V(q.imagem),G(q.nome),j(!0)}})}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Preço:"}),a.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q.preco||0)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Estoque:"}),a.jsxs("span",{className:`font-semibold ${ie?"text-red-600 dark:text-red-400":"text-slate-900 dark:text-white"}`,children:[q.quantidade||0," unidades"]})]}),mt&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Categoria:"}),a.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:mt.nome})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>Fe(q),className:"flex-1",children:[a.jsx(ls,{className:"h-4 w-4 mr-1"}),"Editar"]}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>$(q.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:a.jsx(cs,{className:"h-4 w-4"})})]})]},q.id)})})})]})})]})}),a.jsx(dn,{open:D,onOpenChange:F,children:a.jsxs(Xt,{className:"sm:max-w-2xl bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(Qn,{className:"h-6 w-6 text-blue-500"}),z?"Editar Produto":"Novo Produto"]})}),a.jsxs("form",{onSubmit:Ie,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Nome do Produto *"}),a.jsx(me,{value:Se.nome,onChange:q=>ye({...Se,nome:q.target.value}),placeholder:"Ex: Smartphone Samsung",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Código"}),a.jsx(me,{value:Se.codigo,onChange:q=>ye({...Se,codigo:q.target.value}),placeholder:"Ex: SMP001"})]}),a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Preço *"}),a.jsx(me,{type:"number",step:"0.01",value:Se.preco,onChange:q=>ye({...Se,preco:q.target.value}),placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Quantidade *"}),a.jsx(me,{type:"number",value:Se.quantidade,onChange:q=>ye({...Se,quantidade:q.target.value}),placeholder:"0",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(X,{className:"text-sm font-medium",children:"Categoria"}),a.jsxs(ct,{value:Se.categoriaId,onValueChange:q=>ye({...Se,categoriaId:q}),children:[a.jsx(rt,{children:a.jsx(ut,{placeholder:"Selecione uma categoria"})}),a.jsx(st,{children:l==null?void 0:l.map(q=>a.jsx(se,{value:q.id,children:q.nome},q.id))})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(Q,{type:"button",variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),a.jsxs(Q,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[z?"Atualizar":"Criar"," Produto"]})]})]})]})}),a.jsx(dn,{open:C,onOpenChange:E,children:a.jsxs(Xt,{className:"sm:max-w-lg bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(Cl,{className:"h-6 w-6 text-purple-500"}),Y?"Editar Categoria":"Nova Categoria"]})}),a.jsxs("form",{onSubmit:Ke,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Nome da Categoria *"}),a.jsx(me,{value:Ve.nome,onChange:q=>ke({...Ve,nome:q.target.value}),placeholder:"Ex: Eletrônicos",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Cor"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(me,{type:"color",value:Ve.cor,onChange:q=>ke({...Ve,cor:q.target.value}),className:"w-16 h-10 p-1"}),a.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:Ve.cor})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(Q,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),a.jsxs(Q,{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[Y?"Atualizar":"Criar"," Categoria"]})]})]})]})}),a.jsx(dn,{open:P,onOpenChange:I,children:a.jsxs(Xt,{className:"sm:max-w-lg bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(Kn,{className:"h-6 w-6 text-green-500"}),"Nova Movimentação"]})}),a.jsxs("form",{onSubmit:at,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Produto *"}),a.jsxs(ct,{value:fe.produtoId,onValueChange:q=>Me({...fe,produtoId:q}),children:[a.jsx(rt,{children:a.jsx(ut,{placeholder:"Selecione um produto"})}),a.jsx(st,{children:f==null?void 0:f.map(q=>a.jsxs(se,{value:q.id,children:[q.nome," (Estoque: ",q.quantidade||0,")"]},q.id))})]})]}),a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Tipo de Movimentação *"}),a.jsxs(ct,{value:fe.tipo,onValueChange:q=>Me({...fe,tipo:q}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"entrada",children:"Entrada"}),a.jsx(se,{value:"saida",children:"Saída"})]})]})]}),a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Quantidade *"}),a.jsx(me,{type:"number",value:fe.quantidade,onChange:q=>Me({...fe,quantidade:q.target.value}),placeholder:"0",required:!0})]}),a.jsxs("div",{children:[a.jsx(X,{className:"text-sm font-medium",children:"Observação"}),a.jsx(me,{value:fe.observacao,onChange:q=>Me({...fe,observacao:q.target.value}),placeholder:"Motivo da movimentação..."})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(Q,{type:"button",variant:"outline",onClick:()=>I(!1),children:"Cancelar"}),a.jsx(Q,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:"Registrar Movimentação"})]})]})]})}),a.jsx(dn,{open:N,onOpenChange:j,children:a.jsxs(Xt,{className:"sm:max-w-2xl bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsx(en,{className:"text-xl font-bold",children:L})}),k&&a.jsx("div",{className:"flex justify-center",children:a.jsx("img",{src:k,alt:L,className:"max-w-full max-h-96 object-contain rounded-lg"})})]})}),a.jsx(dn,{open:B,onOpenChange:O,children:a.jsxs(Xt,{className:"sm:max-w-2xl bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(Fr,{className:"h-6 w-6 text-red-500"}),"Produtos com Estoque Crítico"]})}),a.jsx("div",{className:"space-y-3",children:te.map(q=>{const _e=l==null?void 0:l.find(mt=>mt.id===q.categoriaId);return a.jsx(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200",children:q.nome}),a.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["Estoque atual: ",q.quantidade||0," unidades"]}),a.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["Estoque mínimo: ",q.estoqueMinimo||5," unidades"]}),_e&&a.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["Categoria: ",_e.nome]})]}),a.jsxs(Q,{onClick:()=>{Me({produtoId:q.id,tipo:"entrada",quantidade:"",observacao:"Reposição de estoque crítico"}),O(!1),I(!0)},className:"bg-red-600 hover:bg-red-700 text-white",children:[a.jsx(Vn,{className:"h-4 w-4 mr-1"}),"Repor"]})]})},q.id)})})]})})]})},_s=Le.forwardRef(({className:t,checked:e,onCheckedChange:n,...r},s)=>a.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>n==null?void 0:n(!e),className:Xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e?"bg-primary":"bg-input",t),ref:s,...r,children:a.jsx("span",{className:Xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",e?"translate-x-5":"translate-x-0")})}));_s.displayName="Switch";const fQ=({lancamentos:t,onParcelaClick:e})=>{const[n,r]=g.useState(new Date),o=t.filter(m=>m.parcelado).reduce((m,p)=>{const w=new Date(p.dataVencimento),y=`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-${String(w.getDate()).padStart(2,"0")}`;return m[y]||(m[y]=[]),m[y].push(p),m},{}),l=(m=>{const p=m.getFullYear(),w=m.getMonth(),y=new Date(p,w,1),b=new Date(p,w+1,0).getDate(),x=y.getDay(),_=[];for(let A=0;A<x;A++)_.push(null);for(let A=1;A<=b;A++)_.push(new Date(p,w,A));return _})(n),c=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],u=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],d=m=>{const p=new Date(n);p.setMonth(p.getMonth()+m),r(p)},f=(m,p)=>m==="Pendente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":m==="Recebido"&&p==="receber"||m==="Pago"&&p==="pagar"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300";return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:[u[n.getMonth()]," ",n.getFullYear()]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>d(-1),children:"←"}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>r(new Date),children:"Hoje"}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>d(1),children:"→"})]})]}),a.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[c.map(m=>a.jsx("div",{className:"p-2 text-center text-sm font-medium text-slate-600 dark:text-slate-400",children:m},m)),l.map((m,p)=>{if(!m)return a.jsx("div",{className:"p-2 h-20"},p);const w=`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}-${String(m.getDate()).padStart(2,"0")}`,y=o[w]||[],S=new Date,b=m.toDateString()===S.toDateString(),x=m<S&&!b;return a.jsx("div",{className:`p-2 h-20 border border-slate-200 dark:border-slate-700 rounded-lg ${b?"bg-blue-50 dark:bg-blue-900/20 border-blue-300":x?"bg-slate-50 dark:bg-slate-800":"bg-white dark:bg-slate-700"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:`text-sm font-medium mb-1 ${b?"text-blue-600 dark:text-blue-400":x?"text-slate-500":"text-slate-900 dark:text-white"}`,children:m.getDate()}),a.jsxs("div",{className:"flex-1 space-y-1 overflow-hidden",children:[y.slice(0,2).map((_,A)=>a.jsxs("div",{className:`text-xs p-1 rounded truncate cursor-pointer hover:shadow-md transition-all ${f(_.status,_.tipo)}`,title:`${_.descricao} - R$ ${_.valor.toFixed(2)} - Clique para editar`,onClick:()=>e&&e(_),children:[a.jsx("div",{className:"truncate",children:_.descricao}),a.jsxs("div",{className:"font-semibold",children:["R$ ",_.valor.toFixed(2)]})]},A)),y.length>2&&a.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["+",y.length-2," mais"]})]})]})},p)})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-100 dark:bg-yellow-900/30 rounded"}),a.jsx("span",{children:"Pendente"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-100 dark:bg-green-900/30 rounded"}),a.jsx("span",{children:"Pago/Recebido"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-50 dark:bg-blue-900/20 rounded"}),a.jsx("span",{children:"Hoje"})]})]})]})},mQ=()=>{var Ke,at;const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(mr),{toast:r}=fr(),{data:s,loading:o,save:i,remove:l}=Ld(),[c,u]=g.useState(""),[d,f]=g.useState(!1),[m,p]=g.useState(!1),[w,y]=g.useState(!1),[S,b]=g.useState(!1),[x,_]=g.useState(!1),[A,D]=g.useState(null),[F,C]=g.useState(null),[E,P]=g.useState({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),[I,N]=g.useState({dataInicio:"",dataFim:"",tipo:"todos",status:"todos"});g.useEffect(()=>{t.lancamento&&(C(null),P({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),f(!0),n("lancamento"))},[t,n]),console.log("[Financeiro] ===== DADOS CARREGADOS ====="),console.log("[Financeiro] Lançamentos:",s),console.log("[Financeiro] Loading:",o);const j=async $=>{if($.preventDefault(),!E.descricao||!E.valor||!E.dataVencimento){r({title:"Erro",description:"Todos os campos obrigatórios devem ser preenchidos!",variant:"destructive"});return}try{const ue=parseFloat(E.valor),Fe=E.parcelado?parseInt(E.numeroParcelas):1,Ne=ue/Fe,Pe=[];for(let q=0;q<Fe;q++){const[_e,mt,ie]=E.dataVencimento.split("-").map(Number),oe=new Date(_e,mt-1,ie);if(E.parcelado&&q>0)switch(E.intervaloParcelas){case"mensal":oe.setMonth(oe.getMonth()+q);break;case"quinzenal":oe.setDate(oe.getDate()+q*15);break;case"semanal":oe.setDate(oe.getDate()+q*7);break;default:oe.setMonth(oe.getMonth()+q)}const We=oe.getFullYear(),xt=String(oe.getMonth()+1).padStart(2,"0"),$t=String(oe.getDate()).padStart(2,"0"),Pn=`${We}-${xt}-${$t}`,qn={descricao:E.parcelado?`${E.descricao} - Parcela ${q+1}/${Fe}`:E.descricao,valor:Ne,dataVencimento:Pn,tipo:E.tipo,status:E.status,parcelado:E.parcelado,numeroParcela:E.parcelado?q+1:null,totalParcelas:E.parcelado?Fe:null,valorTotal:E.parcelado?ue:null,createdAt:F?F.createdAt:new Date().toISOString()};Pe.push(qn)}for(const q of Pe)await i(q,F==null?void 0:F.id);r(F?{title:"Sucesso!",description:"Lançamento atualizado com sucesso!"}:{title:"Sucesso!",description:E.parcelado?`${Fe} parcelas criadas com sucesso!`:"Lançamento criado com sucesso!"}),P({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),C(null),f(!1)}catch(ue){console.error("[Financeiro] ❌ Erro ao salvar lançamento:",ue),r({title:"Erro",description:"Erro ao salvar lançamento. Tente novamente.",variant:"destructive"})}},k=$=>{$.isGrupoParcelas?(D($),_(!0)):(C($),P({descricao:$.descricao,valor:$.valor.toString(),dataVencimento:$.dataVencimento,tipo:$.tipo,status:$.status,parcelado:$.parcelado||!1,numeroParcelas:$.totalParcelas||1,intervaloParcelas:"mensal"}),f(!0))},V=async $=>{try{await l($),r({title:"Sucesso!",description:"Lançamento removido com sucesso!"})}catch(ue){console.error("[Financeiro] ❌ Erro ao remover lançamento:",ue),r({title:"Erro",description:"Erro ao remover lançamento. Tente novamente.",variant:"destructive"})}},L=$=>{b(!1),k($)},G=async $=>{try{const ue=$.tipo==="receber"?"Recebido":"Pago";console.log("[Financeiro] 🚀 Iniciando dar baixa na parcela:",$),console.log("[Financeiro] 📝 Novo status:",ue),console.log("[Financeiro] 🆔 ID da parcela:",$.id);const Fe=await i({...$,status:ue,updatedAt:new Date().toISOString()},$.id);console.log("[Financeiro] ✅ Resultado do salvamento:",Fe),_(!1),r({title:"Sucesso!",description:`Parcela ${$.numeroParcela} ${$.tipo==="receber"?"recebida":"paga"} com sucesso!`}),setTimeout(()=>{A&&(console.log("[Financeiro] 🔄 Reabrindo modal de detalhes..."),_(!0))},1500)}catch(ue){console.error("[Financeiro] ❌ Erro ao dar baixa na parcela:",ue),r({title:"Erro",description:"Erro ao dar baixa na parcela. Tente novamente.",variant:"destructive"})}},B=async $=>{try{const ue=s.find(Pe=>Pe.id===$);if(!ue)return;const Fe=ue.status==="Pendente"?ue.tipo==="receber"?"Recebido":"Pago":"Pendente",Ne={...ue,status:Fe};await i(Ne,$),r({title:"Sucesso!",description:"Status atualizado com sucesso!"})}catch(ue){console.error("[Financeiro] ❌ Erro ao atualizar status:",ue),r({title:"Erro",description:"Erro ao atualizar status. Tente novamente.",variant:"destructive"})}},O=()=>{const $=ye.map(q=>({Descrição:q.descricao,Valor:q.valor,Tipo:q.tipo==="receber"?"A Receber":"A Pagar",Status:q.status,"Data Vencimento":new Date(q.dataVencimento).toLocaleDateString("pt-BR"),"Data Criação":new Date(q.createdAt).toLocaleDateString("pt-BR")})),ue=[Object.keys($[0]).join(","),...$.map(q=>Object.values(q).map(_e=>`"${_e}"`).join(","))].join(`
`),Fe=new Blob([ue],{type:"text/csv;charset=utf-8;"}),Ne=document.createElement("a"),Pe=URL.createObjectURL(Fe);Ne.setAttribute("href",Pe),Ne.setAttribute("download",`financeiro_${new Date().toISOString().slice(0,10)}.csv`),Ne.style.visibility="hidden",document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),r({title:"Sucesso!",description:"Arquivo CSV exportado com sucesso!"})},z=()=>{r({title:"Em desenvolvimento",description:"Funcionalidade de exportação PDF será implementada em breve!",variant:"default"})},Z=()=>{window.print(),r({title:"Sucesso!",description:"Relatório enviado para impressão!"})},Y=()=>{const $=new Date,ue=$.getMonth(),Fe=$.getFullYear(),Ne=s.filter(oe=>{const We=new Date(oe.createdAt);return We.getMonth()===ue&&We.getFullYear()===Fe}),Pe={totalReceber:Ne.filter(oe=>oe.tipo==="receber").reduce((oe,We)=>oe+We.valor,0),totalPagar:Ne.filter(oe=>oe.tipo==="pagar").reduce((oe,We)=>oe+We.valor,0),totalRecebido:Ne.filter(oe=>oe.tipo==="receber"&&oe.status==="Recebido").reduce((oe,We)=>oe+We.valor,0),totalPago:Ne.filter(oe=>oe.tipo==="pagar"&&oe.status==="Pago").reduce((oe,We)=>oe+We.valor,0),contasVencidas:s.filter(oe=>te(oe.dataVencimento,oe.status)).length},q=`
RELATÓRIO FINANCEIRO - ${$.toLocaleDateString("pt-BR")}

RESUMO DO MÊS:
• Total a Receber: R$ ${Pe.totalReceber.toFixed(2)}
• Total a Pagar: R$ ${Pe.totalPagar.toFixed(2)}
• Total Recebido: R$ ${Pe.totalRecebido.toFixed(2)}
• Total Pago: R$ ${Pe.totalPago.toFixed(2)}
• Contas Vencidas: ${Pe.contasVencidas}

SALDO LÍQUIDO: R$ ${(Pe.totalReceber-Pe.totalPagar).toFixed(2)}
    `,_e=new Blob([q],{type:"text/plain;charset=utf-8;"}),mt=document.createElement("a"),ie=URL.createObjectURL(_e);mt.setAttribute("href",ie),mt.setAttribute("download",`relatorio_financeiro_${$.toISOString().slice(0,10)}.txt`),mt.style.visibility="hidden",document.body.appendChild(mt),mt.click(),document.body.removeChild(mt),r({title:"Sucesso!",description:"Relatório gerado e baixado com sucesso!"})},de=()=>{const $=s.filter(q=>{let _e=!0;return I.dataInicio&&(_e=_e&&new Date(q.dataVencimento)>=new Date(I.dataInicio)),I.dataFim&&(_e=_e&&new Date(q.dataVencimento)<=new Date(I.dataFim)),I.tipo!=="todos"&&(_e=_e&&q.tipo===I.tipo),I.status!=="todos"&&(_e=_e&&q.status===I.status),_e}),ue=`
RELATÓRIO DETALHADO - ${new Date().toLocaleDateString("pt-BR")}

FILTROS APLICADOS:
• Período: ${I.dataInicio||"Início"} até ${I.dataFim||"Fim"}
• Tipo: ${I.tipo==="todos"?"Todos":I.tipo}
• Status: ${I.status==="todos"?"Todos":I.status}

LANÇAMENTOS ENCONTRADOS: ${$.length}

${$.map((q,_e)=>`
${_e+1}. ${q.descricao}
   Valor: R$ ${q.valor.toFixed(2)}
   Tipo: ${q.tipo==="receber"?"A Receber":"A Pagar"}
   Status: ${q.status}
   Vencimento: ${new Date(q.dataVencimento).toLocaleDateString("pt-BR")}
   ${te(q.dataVencimento,q.status)?"⚠️ VENCIDO":""}
`).join("")}

TOTAL GERAL: R$ ${$.reduce((q,_e)=>q+_e.valor,0).toFixed(2)}
    `,Fe=new Blob([ue],{type:"text/plain;charset=utf-8;"}),Ne=document.createElement("a"),Pe=URL.createObjectURL(Fe);Ne.setAttribute("href",Pe),Ne.setAttribute("download",`relatorio_detalhado_${new Date().toISOString().slice(0,10)}.txt`),Ne.style.visibility="hidden",document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),r({title:"Sucesso!",description:"Relatório detalhado gerado com sucesso!"})},ye=($=>{const ue={},Fe=[];return $.forEach(Ne=>{if(Ne.parcelado){const Pe=`${Ne.descricao.split(" - Parcela")[0]}_${Ne.totalParcelas}_${Ne.valorTotal}`;ue[Pe]||(ue[Pe]=[]),ue[Pe].push(Ne)}else Fe.push(Ne)}),Object.values(ue).forEach(Ne=>{if(Ne.length>0){const Pe=Ne[0],q=Ne.sort((_e,mt)=>_e.numeroParcela-mt.numeroParcela);Fe.push({...Pe,isGrupoParcelas:!0,parcelas:q,totalParcelas:Ne.length,parcelasPendentes:Ne.filter(_e=>_e.status==="Pendente").length,parcelasPagas:Ne.filter(_e=>_e.status==="Recebido"||_e.status==="Pago").length,descricao:Pe.descricao.split(" - Parcela")[0]})}}),Fe})(s).filter($=>$.descricao.toLowerCase().includes(c.toLowerCase())),Ve=ye.filter($=>$.tipo==="receber"),ke=ye.filter($=>$.tipo==="pagar"),fe=Ve.filter($=>$.status==="Pendente").reduce(($,ue)=>$+ue.valor,0),Me=ke.filter($=>$.status==="Pendente").reduce(($,ue)=>$+ue.valor,0),$e=Ve.filter($=>$.status==="Recebido").reduce(($,ue)=>$+ue.valor,0),W=ke.filter($=>$.status==="Pago").reduce(($,ue)=>$+ue.valor,0),ce=($,ue)=>$==="Pendente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":$==="Recebido"&&ue==="receber"||$==="Pago"&&ue==="pagar"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300",te=($,ue)=>{if(ue!=="Pendente")return!1;const Fe=new Date;return Fe.setHours(0,0,0,0),new Date($)<Fe},Ie=({conta:$,index:ue})=>a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ue*.05},className:`bg-white dark:bg-slate-800 rounded-xl shadow-lg border transition-all duration-300 hover:shadow-xl w-full max-w-full ${te($.dataVencimento,$.status)?"border-red-400 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-700"}`,children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center flex-wrap gap-x-3 gap-y-2 mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:$.descricao}),$.isGrupoParcelas&&a.jsxs(or,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:["📦 ",$.totalParcelas," parcelas"]}),a.jsx(or,{className:`text-xs ${ce($.status,$.tipo)}`,children:$.status}),te($.dataVencimento,$.status)&&a.jsx(or,{variant:"destructive",className:"text-xs",children:"Vencido"})]}),$.isGrupoParcelas&&a.jsxs("div",{className:"mb-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progresso das parcelas:"}),a.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[$.parcelasPagas,"/",$.totalParcelas," pagas"]})]}),a.jsx("div",{className:"mt-2 w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${$.parcelasPagas/$.totalParcelas*100}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(Yn,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor"}),a.jsx("p",{className:`font-semibold ${$.tipo==="receber"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format($.valor)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:a.jsx(Es,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Vencimento"}),a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:new Date($.dataVencimento).toLocaleDateString("pt-BR",{timeZone:"UTC"})})]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>B($.id),className:$.status==="Pendente"?"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-400 dark:hover:text-yellow-300",children:$.status==="Pendente"?`Marcar como ${$.tipo==="receber"?"Recebido":"Pago"}`:"Marcar como Pendente"}),a.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>k($),children:[a.jsx(ls,{className:"h-4 w-4 mr-2"}),"Editar"]}),a.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>V($.id),className:"text-red-500 hover:text-red-700 dark:hover:text-red-400",children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})},$.id);return a.jsxs("div",{className:"space-y-8",children:[a.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[a.jsx(Yn,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Financeiro"]}),a.jsx("p",{className:"text-emerald-100 text-base lg:text-lg",children:"Controle suas contas a pagar e receber"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-emerald-100",children:"Total a Receber"}),a.jsx("p",{className:"text-xl font-bold text-green-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(fe)})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-emerald-100",children:"Total a Pagar"}),a.jsx("p",{className:"text-xl font-bold text-red-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Me)})]})]})]})}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-lg",children:a.jsx(Vn,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Gerencie seus lançamentos financeiros"})]})]})}),a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs(dn,{open:d,onOpenChange:f,children:[a.jsx(y$,{asChild:!0,children:a.jsxs(Q,{className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white w-full sm:col-span-2 lg:col-span-1",children:[a.jsx(Vn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Novo Lançamento"}),a.jsx("span",{className:"sm:hidden",children:"Novo"})]})}),a.jsxs(Xt,{className:"sm:max-w-2xl bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"flex items-center gap-2 text-xl",children:[a.jsx(Yn,{className:"h-5 w-5"}),F?"Editar Lançamento":"Novo Lançamento"]})}),a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Sr,{className:"h-4 w-4"}),"Informações Básicas"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"descricao",children:"Descrição *"}),a.jsx(me,{id:"descricao",value:E.descricao,onChange:$=>P({...E,descricao:$.target.value}),placeholder:"Ex: Venda de produto, Pagamento de fornecedor...",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"valor",children:"Valor Total *"}),a.jsx(me,{id:"valor",type:"number",step:"0.01",value:E.valor,onChange:$=>P({...E,valor:$.target.value}),placeholder:"0.00",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Tipo"}),a.jsxs(ct,{value:E.tipo,onValueChange:$=>P({...E,tipo:$}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"receber",children:"💰 Conta a Receber"}),a.jsx(se,{value:"pagar",children:"💸 Conta a Pagar"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Status"}),a.jsxs(ct,{value:E.status,onValueChange:$=>P({...E,status:$}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"Pendente",children:"⏳ Pendente"}),a.jsxs(se,{value:E.tipo==="receber"?"Recebido":"Pago",children:["✅ ",E.tipo==="receber"?"Recebido":"Pago"]})]})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(L0,{className:"h-4 w-4"}),"Parcelamento"]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(X,{htmlFor:"parcelado",children:"Lançamento Parcelado"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Dividir o valor em múltiplas parcelas"})]}),a.jsx(_s,{id:"parcelado",checked:E.parcelado,onCheckedChange:$=>P({...E,parcelado:$})})]}),E.parcelado&&a.jsxs(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"numeroParcelas",children:"Número de Parcelas"}),a.jsxs(ct,{value:E.numeroParcelas.toString(),onValueChange:$=>P({...E,numeroParcelas:parseInt($)}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsx(st,{children:[2,3,4,5,6,8,10,12,15,18,24,30,36].map($=>a.jsxs(se,{value:$.toString(),children:[$," parcelas"]},$))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"intervaloParcelas",children:"Intervalo"}),a.jsxs(ct,{value:E.intervaloParcelas,onValueChange:$=>P({...E,intervaloParcelas:$}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"semanal",children:"📅 Semanal"}),a.jsx(se,{value:"quinzenal",children:"📅 Quinzenal"}),a.jsx(se,{value:"mensal",children:"📅 Mensal"})]})]})]})]}),E.valor&&E.dataVencimento&&a.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 border border-slate-200 dark:border-slate-600",children:[a.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white mb-3",children:"📋 Preview das Parcelas"}),a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Array.from({length:E.numeroParcelas},($,ue)=>{const[Fe,Ne,Pe]=E.dataVencimento.split("-").map(Number),q=new Date(Fe,Ne-1,Pe),_e=parseFloat(E.valor)/E.numeroParcelas;if(ue>0)switch(E.intervaloParcelas){case"mensal":q.setMonth(q.getMonth()+ue);break;case"quinzenal":q.setDate(q.getDate()+ue*15);break;case"semanal":q.setDate(q.getDate()+ue*7);break}return a.jsxs("div",{className:"flex items-center justify-between text-sm bg-slate-50 dark:bg-slate-600 rounded px-3 py-2",children:[a.jsxs("span",{className:"font-medium",children:["Parcela ",ue+1,"/",E.numeroParcelas]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:q.toLocaleDateString("pt-BR")}),a.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",_e.toFixed(2)]})]})]},ue)})})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Es,{className:"h-4 w-4"}),"Data de Vencimento"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"dataVencimento",children:E.parcelado?"Data da Primeira Parcela *":"Data de Vencimento *"}),a.jsx(me,{id:"dataVencimento",type:"date",value:E.dataVencimento,onChange:$=>P({...E,dataVencimento:$.target.value}),required:!0}),E.parcelado&&a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"As demais parcelas serão calculadas automaticamente baseadas no intervalo selecionado."})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{f(!1),C(null),P({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"})},className:"flex-1",children:"Cancelar"}),a.jsx(Q,{type:"submit",className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700",children:F?"Atualizar":"Criar Lançamento"})]})]})]})]}),a.jsxs(Q,{variant:"outline",className:"flex items-center justify-center gap-2 w-full max-w-full border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 text-sm sm:text-base",onClick:()=>y(!0),children:[a.jsx(Ul,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Exportar"}),a.jsx("span",{className:"sm:hidden",children:"Exportar"})]}),a.jsxs(Q,{variant:"outline",className:"flex items-center justify-center gap-2 w-full max-w-full border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 text-sm sm:text-base",onClick:()=>p(!0),children:[a.jsx(As,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Relatórios"}),a.jsx("span",{className:"sm:hidden",children:"Relatórios"})]}),a.jsxs(Q,{variant:"outline",className:"flex items-center justify-center gap-2 w-full max-w-full sm:col-span-2 lg:col-span-1 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 text-sm sm:text-base",onClick:()=>b(!0),children:[a.jsx(Es,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Calendário de Parcelas"}),a.jsx("span",{className:"sm:hidden",children:"Calendário"})]})]})})]}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 w-full max-w-full",children:[a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 font-medium",children:"A Receber"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600 dark:text-green-400 truncate",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(fe)}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[Ve.filter($=>$.status==="Pendente").length," contas"]})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:a.jsx(Kn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})}),a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"A Pagar"}),a.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Me)}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[ke.filter($=>$.status==="Pendente").length," contas"]})]}),a.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-xl",children:a.jsx(Xa,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]})})}),a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Recebido"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format($e)}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[Ve.filter($=>$.status==="Recebido").length," contas"]})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:a.jsx(pi,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})}),a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Pago"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W)}),a.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[ke.filter($=>$.status==="Pago").length," contas"]})]}),a.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:a.jsx(t9,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})})]}),a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:a.jsxs(ql,{defaultValue:"receber",className:"w-full",children:[a.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs(_i,{className:"grid w-full grid-cols-2 h-auto p-1",children:[a.jsxs(Sn,{value:"receber",className:"flex items-center gap-1 sm:gap-2 p-2 sm:p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white",children:[a.jsx(Kn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Contas a Receber"}),a.jsx(or,{variant:"secondary",className:"ml-1 sm:ml-2 text-xs",children:Ve.length})]}),a.jsxs(Sn,{value:"pagar",className:"flex items-center gap-1 sm:gap-2 p-2 sm:p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-red-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[a.jsx(Xa,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Contas a Pagar"}),a.jsx(or,{variant:"secondary",className:"ml-1 sm:ml-2 text-xs",children:ke.length})]})]})}),a.jsxs(Cn,{value:"receber",className:"p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:a.jsx(Kn,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Contas a Receber"}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[Ve.length," contas encontradas"]})]})]})}),a.jsxs("div",{className:"relative",children:[a.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar por descrição...",value:c,onChange:$=>u($.target.value),className:"max-w-sm pl-10"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx(Gf,{children:Ve.map(($,ue)=>a.jsx(Ie,{conta:$,index:ue},$.id))})}),Ve.length===0&&a.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"p-4 bg-green-100 dark:bg-green-900/30 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(Kn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a receber"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Suas contas a receber aparecerão aqui"}),a.jsxs(Q,{onClick:()=>f(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[a.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Adicionar Conta a Receber"]})]})]}),a.jsxs(Cn,{value:"pagar",className:"p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-lg",children:a.jsx(Xa,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Contas a Pagar"}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[ke.length," contas encontradas"]})]})]})}),a.jsxs("div",{className:"relative",children:[a.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar por descrição...",value:c,onChange:$=>u($.target.value),className:"max-w-sm pl-10"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx(Gf,{children:ke.map(($,ue)=>a.jsx(Ie,{conta:$,index:ue},$.id))})}),ke.length===0&&a.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(Xa,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a pagar"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Suas contas a pagar aparecerão aqui"}),a.jsxs(Q,{onClick:()=>f(!0),className:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white",children:[a.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Adicionar Conta a Pagar"]})]})]})]})}),a.jsx(dn,{open:w,onOpenChange:y,children:a.jsxs(Xt,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(Ul,{className:"h-5 w-5"}),"Exportar Dados"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Escolha o formato para exportar os dados financeiros:"}),a.jsxs("div",{className:"grid gap-3",children:[a.jsxs(Q,{onClick:O,className:"flex items-center gap-2 justify-start",variant:"outline",children:[a.jsx(B5,{className:"h-4 w-4"}),"Exportar como CSV"]}),a.jsxs(Q,{onClick:z,className:"flex items-center gap-2 justify-start",variant:"outline",children:[a.jsx(Sr,{className:"h-4 w-4"}),"Exportar como PDF"]}),a.jsxs(Q,{onClick:Z,className:"flex items-center gap-2 justify-start",variant:"outline",children:[a.jsx(Hu,{className:"h-4 w-4"}),"Imprimir Relatório"]})]}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx(Q,{variant:"outline",onClick:()=>y(!1),className:"flex-1",children:"Fechar"})})]})]})}),a.jsx(dn,{open:m,onOpenChange:p,children:a.jsxs(Xt,{className:"sm:max-w-lg bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(As,{className:"h-5 w-5"}),"Relatórios Financeiros"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Relatório Resumo"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Gera um resumo financeiro do mês atual com totais e saldo líquido."}),a.jsxs(Q,{onClick:Y,className:"w-full",children:[a.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Gerar Relatório Resumo"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Relatório Detalhado"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Gera um relatório detalhado com filtros personalizados."}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(X,{htmlFor:"dataInicio",children:"Data Início"}),a.jsx(me,{id:"dataInicio",type:"date",value:I.dataInicio,onChange:$=>N({...I,dataInicio:$.target.value})})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"dataFim",children:"Data Fim"}),a.jsx(me,{id:"dataFim",type:"date",value:I.dataFim,onChange:$=>N({...I,dataFim:$.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(X,{children:"Tipo"}),a.jsxs(ct,{value:I.tipo,onValueChange:$=>N({...I,tipo:$}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"todos",children:"Todos"}),a.jsx(se,{value:"receber",children:"A Receber"}),a.jsx(se,{value:"pagar",children:"A Pagar"})]})]})]}),a.jsxs("div",{children:[a.jsx(X,{children:"Status"}),a.jsxs(ct,{value:I.status,onValueChange:$=>N({...I,status:$}),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"todos",children:"Todos"}),a.jsx(se,{value:"Pendente",children:"Pendente"}),a.jsx(se,{value:"Recebido",children:"Recebido"}),a.jsx(se,{value:"Pago",children:"Pago"})]})]})]})]}),a.jsxs(Q,{onClick:de,className:"w-full",children:[a.jsx(As,{className:"h-4 w-4 mr-2"}),"Gerar Relatório Detalhado"]})]}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx(Q,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Fechar"})})]})]})}),a.jsx(dn,{open:S,onOpenChange:b,children:a.jsxs(Xt,{className:"sm:max-w-4xl bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(Es,{className:"h-5 w-5"}),"Calendário de Parcelas"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Visualize todas as parcelas organizadas por mês em um calendário interativo."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(X,{htmlFor:"filtroTipo",children:"Tipo"}),a.jsxs(ct,{defaultValue:"todos",onValueChange:$=>{},children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"todos",children:"Todos"}),a.jsx(se,{value:"receber",children:"A Receber"}),a.jsx(se,{value:"pagar",children:"A Pagar"})]})]})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"filtroStatus",children:"Status"}),a.jsxs(ct,{defaultValue:"todos",onValueChange:$=>{},children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"todos",children:"Todos"}),a.jsx(se,{value:"Pendente",children:"Pendente"}),a.jsx(se,{value:"Recebido",children:"Recebido"}),a.jsx(se,{value:"Pago",children:"Pago"})]})]})]}),a.jsxs("div",{children:[a.jsx(X,{htmlFor:"filtroMes",children:"Mês/Ano"}),a.jsx(me,{id:"filtroMes",type:"month",defaultValue:new Date().toISOString().slice(0,7),onChange:$=>{}})]})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-6",children:a.jsx(fQ,{lancamentos:s,onParcelaClick:L})}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx(Q,{variant:"outline",onClick:()=>b(!1),className:"flex-1",children:"Fechar"})})]})]})}),a.jsx(dn,{open:x,onOpenChange:_,children:a.jsxs(Xt,{className:"sm:max-w-4xl bg-white dark:bg-slate-900",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(L0,{className:"h-5 w-5"}),"Detalhes das Parcelas"]})}),A&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:A.descricao.split(" - Parcela")[0]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total:"}),a.jsxs("p",{className:"font-semibold text-slate-900 dark:text-white",children:["R$ ",((Ke=A.valorTotal)==null?void 0:Ke.toFixed(2))||"0.00"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Parcelas:"}),a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:A.totalParcelas})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Pagas:"}),a.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:A.parcelasPagas})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Pendentes:"}),a.jsx("p",{className:"font-semibold text-yellow-600 dark:text-yellow-400",children:A.parcelasPendentes})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-md font-semibold text-slate-900 dark:text-white",children:"Parcelas Individuais"}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:(at=A.parcelas)==null?void 0:at.map(($,ue)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-slate-100 dark:bg-slate-600 rounded-full text-sm font-semibold",children:$.numeroParcela}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:$.descricao}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Vencimento: ",new Date($.dataVencimento).toLocaleDateString("pt-BR")]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold text-slate-900 dark:text-white",children:["R$ ",$.valor.toFixed(2)]}),a.jsx(or,{className:`text-xs ${ce($.status,$.tipo)}`,children:$.status})]}),a.jsxs("div",{className:"flex gap-2",children:[$.status==="Pendente"&&a.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>G($),children:[a.jsx(pi,{className:"h-4 w-4 mr-1"}),"Dar Baixa"]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{_(!1),k($)},children:a.jsx(ls,{className:"h-4 w-4"})})]})]})]},$.id))})]}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsx(Q,{variant:"outline",onClick:()=>_(!1),className:"flex-1",children:"Fechar"})})]})]})})]})};function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function rn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function De(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function et(t){De(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ec(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function un(t,e){De(2,arguments);var n=et(t),r=rn(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Wr(t,e){De(2,arguments);var n=et(t),r=rn(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var i=o.getDate();return s>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function pQ(t,e){De(2,arguments);var n=et(t).getTime(),r=rn(e);return new Date(n+r)}var gQ={};function Aa(){return gQ}function Bs(t,e){var n,r,s,o,i,l,c,u;De(1,arguments);var d=Aa(),f=rn((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=et(t),p=m.getDay(),w=(p<f?7:0)+p-f;return m.setDate(m.getDate()-w),m.setHours(0,0,0,0),m}function Ni(t){return De(1,arguments),Bs(t,{weekStartsOn:1})}function vQ(t){De(1,arguments);var e=et(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=Ni(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var i=Ni(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function xQ(t){De(1,arguments);var e=vQ(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Ni(n);return r}function id(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function tc(t){De(1,arguments);var e=et(t);return e.setHours(0,0,0,0),e}var yQ=864e5;function to(t,e){De(2,arguments);var n=tc(t),r=tc(e),s=n.getTime()-id(n),o=r.getTime()-id(r);return Math.round((s-o)/yQ)}function Rx(t,e){De(2,arguments);var n=rn(e),r=n*7;return un(t,r)}function QD(t,e){De(2,arguments);var n=rn(e);return Wr(t,n*12)}function wQ(t){De(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(ec(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=et(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function bQ(t){De(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(ec(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=et(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function lr(t,e){De(2,arguments);var n=tc(t),r=tc(e);return n.getTime()===r.getTime()}function Nb(t){return De(1,arguments),t instanceof Date||ec(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _Q(t){if(De(1,arguments),!Nb(t)&&typeof t!="number")return!1;var e=et(t);return!isNaN(Number(e))}function ld(t,e){De(2,arguments);var n=et(t),r=et(e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}var SQ=6048e5;function CQ(t,e,n){De(2,arguments);var r=Bs(t,n),s=Bs(e,n),o=r.getTime()-id(r),i=s.getTime()-id(s);return Math.round((o-i)/SQ)}function cd(t){De(1,arguments);var e=et(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Un(t){De(1,arguments);var e=et(t);return e.setDate(1),e.setHours(0,0,0,0),e}function mT(t){De(1,arguments);var e=et(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Dx(t){De(1,arguments);var e=et(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function kb(t,e){var n,r,s,o,i,l,c,u;De(1,arguments);var d=Aa(),f=rn((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=et(t),p=m.getDay(),w=(p<f?-7:0)+6-(p-f);return m.setDate(m.getDate()+w),m.setHours(23,59,59,999),m}function ZD(t){return De(1,arguments),kb(t,{weekStartsOn:1})}function EQ(t,e){De(2,arguments);var n=rn(e);return pQ(t,-n)}var TQ=864e5;function jQ(t){De(1,arguments);var e=et(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/TQ)+1}function Tm(t){De(1,arguments);var e=1,n=et(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function XD(t){De(1,arguments);var e=et(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Tm(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=Tm(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function NQ(t){De(1,arguments);var e=XD(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Tm(n);return r}var kQ=6048e5;function IQ(t){De(1,arguments);var e=et(t),n=Tm(e).getTime()-NQ(e).getTime();return Math.round(n/kQ)+1}function jm(t,e){var n,r,s,o,i,l,c,u;De(1,arguments);var d=Aa(),f=rn((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=et(t),p=m.getUTCDay(),w=(p<f?7:0)+p-f;return m.setUTCDate(m.getUTCDate()-w),m.setUTCHours(0,0,0,0),m}function JD(t,e){var n,r,s,o,i,l,c,u;De(1,arguments);var d=et(t),f=d.getUTCFullYear(),m=Aa(),p=rn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(f+1,0,p),w.setUTCHours(0,0,0,0);var y=jm(w,e),S=new Date(0);S.setUTCFullYear(f,0,p),S.setUTCHours(0,0,0,0);var b=jm(S,e);return d.getTime()>=y.getTime()?f+1:d.getTime()>=b.getTime()?f:f-1}function PQ(t,e){var n,r,s,o,i,l,c,u;De(1,arguments);var d=Aa(),f=rn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=JD(t,e),p=new Date(0);p.setUTCFullYear(m,0,f),p.setUTCHours(0,0,0,0);var w=jm(p,e);return w}var AQ=6048e5;function RQ(t,e){De(1,arguments);var n=et(t),r=jm(n,e).getTime()-PQ(n,e).getTime();return Math.round(r/AQ)+1}function wt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var DQ={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return wt(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):wt(r+1,2)},d:function(e,n){return wt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return wt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return wt(e.getUTCHours(),n.length)},m:function(e,n){return wt(e.getUTCMinutes(),n.length)},s:function(e,n){return wt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return wt(o,n.length)}};const Po=DQ;var Ki={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MQ={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Po.y(e,n)},Y:function(e,n,r,s){var o=JD(e,s),i=o>0?o:1-o;if(n==="YY"){var l=i%100;return wt(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):wt(i,n.length)},R:function(e,n){var r=XD(e);return wt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return wt(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return wt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return wt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Po.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return wt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var o=RQ(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):wt(o,n.length)},I:function(e,n,r){var s=IQ(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):wt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Po.d(e,n)},D:function(e,n,r){var s=jQ(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):wt(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return wt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return wt(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return wt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),o;switch(s===12?o=Ki.noon:s===0?o=Ki.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),o;switch(s>=17?o=Ki.evening:s>=12?o=Ki.afternoon:s>=4?o=Ki.morning:o=Ki.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Po.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Po.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):wt(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):wt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Po.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Po.s(e,n)},S:function(e,n){return Po.S(e,n)},X:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return gT(i);case"XXXX":case"XX":return Ha(i);case"XXXXX":case"XXX":default:return Ha(i,":")}},x:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"x":return gT(i);case"xxxx":case"xx":return Ha(i);case"xxxxx":case"xxx":default:return Ha(i,":")}},O:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+pT(i,":");case"OOOO":default:return"GMT"+Ha(i,":")}},z:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+pT(i,":");case"zzzz":default:return"GMT"+Ha(i,":")}},t:function(e,n,r,s){var o=s._originalDate||e,i=Math.floor(o.getTime()/1e3);return wt(i,n.length)},T:function(e,n,r,s){var o=s._originalDate||e,i=o.getTime();return wt(i,n.length)}};function pT(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var i=e||"";return n+String(s)+i+wt(o,2)}function gT(t,e){if(t%60===0){var n=t>0?"-":"+";return n+wt(Math.abs(t)/60,2)}return Ha(t,e)}function Ha(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),o=wt(Math.floor(s/60),2),i=wt(s%60,2);return r+o+n+i}const OQ=MQ;var vT=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},eM=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},LQ=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return vT(e,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",vT(s,n)).replace("{{time}}",eM(o,n))},FQ={p:eM,P:LQ};const VQ=FQ;var UQ=["D","DD"],zQ=["YY","YYYY"];function $Q(t){return UQ.indexOf(t)!==-1}function BQ(t){return zQ.indexOf(t)!==-1}function xT(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var qQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WQ=function(e,n,r){var s,o=qQ[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const HQ=WQ;function yv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var GQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QQ={date:yv({formats:GQ,defaultWidth:"full"}),time:yv({formats:KQ,defaultWidth:"full"}),dateTime:yv({formats:YQ,defaultWidth:"full"})};const ZQ=QQ;var XQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JQ=function(e,n,r,s){return XQ[e]};const eZ=JQ;function Hc(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,i=n!=null&&n.width?String(n.width):o;s=t.formattingValues[i]||t.formattingValues[o]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var tZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iZ=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lZ={ordinalNumber:iZ,era:Hc({values:tZ,defaultWidth:"wide"}),quarter:Hc({values:nZ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Hc({values:rZ,defaultWidth:"wide"}),day:Hc({values:sZ,defaultWidth:"wide"}),dayPeriod:Hc({values:oZ,defaultWidth:"wide",formattingValues:aZ,defaultFormattingWidth:"wide"})};const cZ=lZ;function Gc(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;var i=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?dZ(l,function(f){return f.test(i)}):uZ(l,function(f){return f.test(i)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(i.length);return{value:u,rest:d}}}function uZ(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function dZ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function hZ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],o=e.match(t.parsePattern);if(!o)return null;var i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;var l=e.slice(s.length);return{value:i,rest:l}}}var fZ=/^(\d+)(th|st|nd|rd)?/i,mZ=/\d+/i,pZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gZ={any:[/^b/i,/^(a|c)/i]},vZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xZ={any:[/1/i,/2/i,/3/i,/4/i]},yZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_Z={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EZ={ordinalNumber:hZ({matchPattern:fZ,parsePattern:mZ,valueCallback:function(e){return parseInt(e,10)}}),era:Gc({matchPatterns:pZ,defaultMatchWidth:"wide",parsePatterns:gZ,defaultParseWidth:"any"}),quarter:Gc({matchPatterns:vZ,defaultMatchWidth:"wide",parsePatterns:xZ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Gc({matchPatterns:yZ,defaultMatchWidth:"wide",parsePatterns:wZ,defaultParseWidth:"any"}),day:Gc({matchPatterns:bZ,defaultMatchWidth:"wide",parsePatterns:_Z,defaultParseWidth:"any"}),dayPeriod:Gc({matchPatterns:SZ,defaultMatchWidth:"any",parsePatterns:CZ,defaultParseWidth:"any"})};const TZ=EZ;var jZ={code:"en-US",formatDistance:HQ,formatLong:ZQ,formatRelative:eZ,localize:cZ,match:TZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};const tM=jZ;var NZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IZ=/^'([^]*?)'?$/,PZ=/''/g,AZ=/[a-zA-Z]/;function Us(t,e,n){var r,s,o,i,l,c,u,d,f,m,p,w,y,S,b,x,_,A;De(2,arguments);var D=String(e),F=Aa(),C=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:F.locale)!==null&&r!==void 0?r:tM,E=rn((o=(i=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:F.firstWeekContainsDate)!==null&&i!==void 0?i:(f=F.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=rn((p=(w=(y=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(b=n.locale)===null||b===void 0||(x=b.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&y!==void 0?y:F.weekStartsOn)!==null&&w!==void 0?w:(_=F.locale)===null||_===void 0||(A=_.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&p!==void 0?p:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var I=et(t);if(!_Q(I))throw new RangeError("Invalid time value");var N=id(I),j=EQ(I,N),k={firstWeekContainsDate:E,weekStartsOn:P,locale:C,_originalDate:I},V=D.match(kZ).map(function(L){var G=L[0];if(G==="p"||G==="P"){var B=VQ[G];return B(L,C.formatLong)}return L}).join("").match(NZ).map(function(L){if(L==="''")return"'";var G=L[0];if(G==="'")return RZ(L);var B=OQ[G];if(B)return!(n!=null&&n.useAdditionalWeekYearTokens)&&BQ(L)&&xT(L,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&$Q(L)&&xT(L,e,String(t)),B(j,L,C.localize,k);if(G.match(AZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return L}).join("");return V}function RZ(t){var e=t.match(IZ);return e?e[1].replace(PZ,"'"):t}function DZ(t){De(1,arguments);var e=et(t),n=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var MZ=6048e5;function OZ(t){De(1,arguments);var e=et(t),n=Ni(e).getTime()-xQ(e).getTime();return Math.round(n/MZ)+1}function LZ(t){De(1,arguments);var e=et(t),n=e.getTime();return n}function FZ(t){return De(1,arguments),Math.floor(LZ(t)/1e3)}function VZ(t,e){var n,r,s,o,i,l,c,u;De(1,arguments);var d=et(t),f=d.getFullYear(),m=Aa(),p=rn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setFullYear(f+1,0,p),w.setHours(0,0,0,0);var y=Bs(w,e),S=new Date(0);S.setFullYear(f,0,p),S.setHours(0,0,0,0);var b=Bs(S,e);return d.getTime()>=y.getTime()?f+1:d.getTime()>=b.getTime()?f:f-1}function UZ(t,e){var n,r,s,o,i,l,c,u;De(1,arguments);var d=Aa(),f=rn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=VZ(t,e),p=new Date(0);p.setFullYear(m,0,f),p.setHours(0,0,0,0);var w=Bs(p,e);return w}var zZ=6048e5;function $Z(t,e){De(1,arguments);var n=et(t),r=Bs(n,e).getTime()-UZ(n,e).getTime();return Math.round(r/zZ)+1}function BZ(t){De(1,arguments);var e=et(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function qZ(t,e){return De(1,arguments),CQ(BZ(t),Un(t),e)+1}function Mx(t,e){De(2,arguments);var n=et(t),r=et(e);return n.getTime()>r.getTime()}function nM(t,e){De(2,arguments);var n=et(t),r=et(e);return n.getTime()<r.getTime()}function Ib(t,e){De(2,arguments);var n=et(t),r=et(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function WZ(t,e){De(2,arguments);var n=et(t),r=et(e);return n.getFullYear()===r.getFullYear()}function wv(t,e){De(2,arguments);var n=rn(e);return un(t,-n)}function bv(t,e){De(2,arguments);var n=et(t),r=rn(e),s=n.getFullYear(),o=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var l=DZ(i);return n.setMonth(r,Math.min(o,l)),n}function yT(t,e){De(2,arguments);var n=et(t),r=rn(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function wT(t,e){De(2,arguments);var n=rn(e);return Wr(t,-n)}function bT(t,e){De(2,arguments);var n=rn(e);return QD(t,-n)}var qe=function(){return qe=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qe.apply(this,arguments)};function HZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function rM(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Fd(t){return t.mode==="multiple"}function Vd(t){return t.mode==="range"}function Vp(t){return t.mode==="single"}var GZ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function KZ(t,e){return Us(t,"LLLL y",e)}function YZ(t,e){return Us(t,"d",e)}function QZ(t,e){return Us(t,"LLLL",e)}function ZZ(t){return"".concat(t)}function XZ(t,e){return Us(t,"cccccc",e)}function JZ(t,e){return Us(t,"yyyy",e)}var eX=Object.freeze({__proto__:null,formatCaption:KZ,formatDay:YZ,formatMonthCaption:QZ,formatWeekNumber:ZZ,formatWeekdayName:XZ,formatYearCaption:JZ}),tX=function(t,e,n){return Us(t,"do MMMM (EEEE)",n)},nX=function(){return"Month: "},rX=function(){return"Go to next month"},sX=function(){return"Go to previous month"},oX=function(t,e){return Us(t,"cccc",e)},aX=function(t){return"Week n. ".concat(t)},iX=function(){return"Year: "},lX=Object.freeze({__proto__:null,labelDay:tX,labelMonthDropdown:nX,labelNext:rX,labelPrevious:sX,labelWeekNumber:aX,labelWeekday:oX,labelYearDropdown:iX});function cX(){var t="buttons",e=GZ,n=tM,r={},s={},o=1,i={},l=new Date;return{captionLayout:t,classNames:e,formatters:eX,labels:lX,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function uX(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,o=t.fromDate,i=t.toDate;return r?o=Un(r):e&&(o=new Date(e,0,1)),s?i=cd(s):n&&(i=new Date(n,11,31)),{fromDate:o?tc(o):void 0,toDate:i?tc(i):void 0}}var sM=g.createContext(void 0);function dX(t){var e,n=t.initialProps,r=cX(),s=uX(n),o=s.fromDate,i=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(Vp(n)||Fd(n)||Vd(n))&&(c=n.onSelect);var u=qe(qe(qe({},r),n),{captionLayout:l,classNames:qe(qe({},r.classNames),n.classNames),components:qe({},n.components),formatters:qe(qe({},r.formatters),n.formatters),fromDate:o,labels:qe(qe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:qe(qe({},r.modifiers),n.modifiers),modifiersClassNames:qe(qe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:qe(qe({},r.styles),n.styles),toDate:i});return a.jsx(sM.Provider,{value:u,children:t.children})}function jt(){var t=g.useContext(sM);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function oM(t){var e=jt(),n=e.locale,r=e.classNames,s=e.styles,o=e.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function hX(t){return a.jsx("svg",qe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function aM(t){var e,n,r=t.onChange,s=t.value,o=t.children,i=t.caption,l=t.className,c=t.style,u=jt(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:hX;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function fX(t){var e,n=jt(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(WZ(r,s))for(var m=Un(r),p=r.getMonth();p<=s.getMonth();p++)f.push(bv(m,p));else for(var m=Un(new Date),p=0;p<=11;p++)f.push(bv(m,p));var w=function(S){var b=Number(S.target.value),x=bv(Un(t.displayMonth),b);t.onChange(x)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:aM;return a.jsx(y,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:w,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:f.map(function(S){return a.jsx("option",{value:S.getMonth(),children:l(S,{locale:i})},S.getMonth())})})}function mX(t){var e,n=t.displayMonth,r=jt(),s=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),w=o.getFullYear(),y=p;y<=w;y++)m.push(yT(Dx(new Date),y));var S=function(x){var _=yT(Un(n),Number(x.target.value));t.onChange(_)},b=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:aM;return a.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:S,value:n.getFullYear(),caption:d(n,{locale:i}),children:m.map(function(x){return a.jsx("option",{value:x.getFullYear(),children:d(x,{locale:i})},x.getFullYear())})})}function pX(t,e){var n=g.useState(t),r=n[0],s=n[1],o=e===void 0?r:e;return[o,s]}function gX(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,o=t.toDate,i=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(o&&ld(o,s)<0){var u=-1*(c-1);s=Wr(o,u)}return i&&ld(s,i)<0&&(s=i),Un(s)}function vX(){var t=jt(),e=gX(t),n=pX(e,t.month),r=n[0],s=n[1],o=function(i){var l;if(!t.disableNavigation){var c=Un(i);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,o]}function xX(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Un(t),o=Un(Wr(s,r)),i=ld(o,s),l=[],c=0;c<i;c++){var u=Wr(s,c);l.push(u)}return n&&(l=l.reverse()),l}function yX(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Un(t);if(!n)return Wr(l,i);var c=ld(n,t);if(!(c<o))return Wr(l,i)}}function wX(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Un(t);if(!n)return Wr(l,-i);var c=ld(l,n);if(!(c<=0))return Wr(l,-i)}}var iM=g.createContext(void 0);function bX(t){var e=jt(),n=vX(),r=n[0],s=n[1],o=xX(r,e),i=yX(r,e),l=wX(r,e),c=function(f){return o.some(function(m){return Ib(f,m)})},u=function(f,m){c(f)||(m&&nM(f,m)?s(Wr(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return a.jsx(iM.Provider,{value:d,children:t.children})}function Ud(){var t=g.useContext(iM);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function _T(t){var e,n=jt(),r=n.classNames,s=n.styles,o=n.components,i=Ud().goToMonth,l=function(d){i(Wr(d,t.displayIndex?-t.displayIndex:0))},c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:oM,u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:u}),a.jsx(fX,{onChange:l,displayMonth:t.displayMonth}),a.jsx(mX,{onChange:l,displayMonth:t.displayMonth})]})}function _X(t){return a.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function SX(t){return a.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Nm=g.forwardRef(function(t,e){var n=jt(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var i=o.join(" "),l=qe(qe({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),a.jsx("button",qe({},t,{ref:e,type:"button",className:i,style:l}))});function CX(t){var e,n,r=jt(),s=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var m=u(t.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),w=d(t.nextMonth,{locale:o}),y=[i.nav_button,i.nav_button_next].join(" "),S=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:SX,b=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:_X;return a.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&a.jsx(Nm,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?a.jsx(S,{className:i.nav_icon,style:l.nav_icon}):a.jsx(b,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&a.jsx(Nm,{name:"next-month","aria-label":w,className:y,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?a.jsx(b,{className:i.nav_icon,style:l.nav_icon}):a.jsx(S,{className:i.nav_icon,style:l.nav_icon})})]})}function ST(t){var e=jt().numberOfMonths,n=Ud(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(w){return Ib(t.displayMonth,w)}),c=l===0,u=l===i.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),m=function(){r&&o(r)},p=function(){s&&o(s)};return a.jsx(CX,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:p})}function EX(t){var e,n=jt(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:oM,u;return s?u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?u=a.jsx(_T,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(_T,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(ST,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(ST,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:r.caption,style:o.caption,children:u})}function TX(t){var e=jt(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function jX(t,e,n){for(var r=n?Ni(new Date):Bs(new Date,{locale:t,weekStartsOn:e}),s=[],o=0;o<7;o++){var i=un(r,o);s.push(i)}return s}function NX(){var t=jt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,o=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=jX(s,o,i);return a.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function kX(){var t,e=jt(),n=e.classNames,r=e.styles,s=e.components,o=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:NX;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(o,{})})}function IX(t){var e=jt(),n=e.locale,r=e.formatters.formatDay;return a.jsx(a.Fragment,{children:r(t.date,{locale:n})})}var Pb=g.createContext(void 0);function PX(t){if(!Fd(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(Pb.Provider,{value:e,children:t.children})}return a.jsx(AX,{initialProps:t.initialProps,children:t.children})}function AX(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,o=e.max,i=function(u,d,f){var m,p;(m=e.onDayClick)===null||m===void 0||m.call(e,u,d,f);var w=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!w){var y=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!y){var S=r?rM([],r,!0):[];if(d.selected){var b=S.findIndex(function(x){return lr(u,x)});S.splice(b,1)}else S.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,S,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,f=r.some(function(m){return lr(m,u)});return!!(d&&!f)});var c={selected:r,onDayClick:i,modifiers:l};return a.jsx(Pb.Provider,{value:c,children:n})}function Ab(){var t=g.useContext(Pb);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function RX(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?lr(s,t)&&lr(r,t)?void 0:lr(s,t)?{from:s,to:void 0}:lr(r,t)?void 0:Mx(r,t)?{from:t,to:s}:{from:r,to:t}:s?Mx(t,s)?{from:s,to:t}:{from:t,to:s}:r?nM(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Rb=g.createContext(void 0);function DX(t){if(!Vd(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(Rb.Provider,{value:e,children:t.children})}return a.jsx(MX,{initialProps:t.initialProps,children:t.children})}function MX(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},o=s.from,i=s.to,l=e.min,c=e.max,u=function(p,w,y){var S,b;(S=e.onDayClick)===null||S===void 0||S.call(e,p,w,y);var x=RX(p,r);(b=e.onSelect)===null||b===void 0||b.call(e,x,p,w,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],lr(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:wv(o,l-1),before:un(o,l-1)}),o&&i&&d.disabled.push({after:o,before:un(o,l-1)}),!o&&i&&d.disabled.push({after:wv(i,l-1),before:un(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:un(o,-c+1)}),d.disabled.push({after:un(o,c-1)})),o&&i){var f=to(i,o)+1,m=c-f;d.disabled.push({before:wv(o,m)}),d.disabled.push({after:un(i,m)})}!o&&i&&(d.disabled.push({before:un(i,-c+1)}),d.disabled.push({after:un(i,c-1)}))}return a.jsx(Rb.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function Db(){var t=g.useContext(Rb);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function ff(t){return Array.isArray(t)?rM([],t,!0):t!==void 0?[t]:[]}function OX(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=ff(s)}),e}var fs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(fs||(fs={}));var LX=fs.Selected,Gs=fs.Disabled,FX=fs.Hidden,VX=fs.Today,_v=fs.RangeEnd,Sv=fs.RangeMiddle,Cv=fs.RangeStart,UX=fs.Outside;function zX(t,e,n){var r,s=(r={},r[LX]=ff(t.selected),r[Gs]=ff(t.disabled),r[FX]=ff(t.hidden),r[VX]=[t.today],r[_v]=[],r[Sv]=[],r[Cv]=[],r[UX]=[],r);return t.fromDate&&s[Gs].push({before:t.fromDate}),t.toDate&&s[Gs].push({after:t.toDate}),Fd(t)?s[Gs]=s[Gs].concat(e.modifiers[Gs]):Vd(t)&&(s[Gs]=s[Gs].concat(n.modifiers[Gs]),s[Cv]=n.modifiers[Cv],s[Sv]=n.modifiers[Sv],s[_v]=n.modifiers[_v]),s}var lM=g.createContext(void 0);function $X(t){var e=jt(),n=Ab(),r=Db(),s=zX(e,n,r),o=OX(e.modifiers),i=qe(qe({},s),o);return a.jsx(lM.Provider,{value:i,children:t.children})}function cM(){var t=g.useContext(lM);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function BX(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function qX(t){return!!(t&&typeof t=="object"&&"from"in t)}function WX(t){return!!(t&&typeof t=="object"&&"after"in t)}function HX(t){return!!(t&&typeof t=="object"&&"before"in t)}function GX(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function KX(t,e){var n,r=e.from,s=e.to;if(r&&s){var o=to(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=to(t,r)>=0&&to(s,t)>=0;return i}return s?lr(s,t):r?lr(r,t):!1}function YX(t){return Nb(t)}function QX(t){return Array.isArray(t)&&t.every(Nb)}function ZX(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(YX(n))return lr(t,n);if(QX(n))return n.includes(t);if(qX(n))return KX(t,n);if(GX(n))return n.dayOfWeek.includes(t.getDay());if(BX(n)){var r=to(n.before,t),s=to(n.after,t),o=r>0,i=s<0,l=Mx(n.before,n.after);return l?i&&o:o||i}return WX(n)?to(t,n.after)>0:HX(n)?to(n.before,t)>0:typeof n=="function"?n(t):!1})}function Mb(t,e,n){var r=Object.keys(e).reduce(function(o,i){var l=e[i];return ZX(t,l)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!Ib(t,n)&&(s.outside=!0),s}function XX(t,e){for(var n=Un(t[0]),r=cd(t[t.length-1]),s,o,i=n;i<=r;){var l=Mb(i,e),c=!l.disabled&&!l.hidden;if(!c){i=un(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=un(i,1)}return o||s}var JX=365;function uM(t,e){var n=e.moveBy,r=e.direction,s=e.context,o=e.modifiers,i=e.retry,l=i===void 0?{count:0,lastFocused:t}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,m={day:un,week:Rx,month:Wr,year:QD,startOfWeek:function(S){return s.ISOWeek?Ni(S):Bs(S,{locale:f,weekStartsOn:c})},endOfWeek:function(S){return s.ISOWeek?ZD(S):kb(S,{locale:f,weekStartsOn:c})}},p=m[n](t,r==="after"?1:-1);r==="before"&&u?p=wQ([u,p]):r==="after"&&d&&(p=bQ([d,p]));var w=!0;if(o){var y=Mb(p,o);w=!y.disabled&&!y.hidden}return w?p:l.count>JX?l.lastFocused:uM(p,{moveBy:n,direction:r,context:s,modifiers:o,retry:qe(qe({},l),{count:l.count+1})})}var dM=g.createContext(void 0);function eJ(t){var e=Ud(),n=cM(),r=g.useState(),s=r[0],o=r[1],i=g.useState(),l=i[0],c=i[1],u=XX(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),o(void 0)},m=function(S){o(S)},p=jt(),w=function(S,b){if(s){var x=uM(s,{moveBy:S,direction:b,context:p,modifiers:n});lr(s,x)||(e.goToDate(x,s),m(x))}},y={focusedDay:s,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return a.jsx(dM.Provider,{value:y,children:t.children})}function Ob(){var t=g.useContext(dM);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function tJ(t,e){var n=cM(),r=Mb(t,n,e);return r}var Lb=g.createContext(void 0);function nJ(t){if(!Vp(t.initialProps)){var e={selected:void 0};return a.jsx(Lb.Provider,{value:e,children:t.children})}return a.jsx(rJ,{initialProps:t.initialProps,children:t.children})}function rJ(t){var e=t.initialProps,n=t.children,r=function(o,i,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,o,i,l),i.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,o,i,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,o,o,i,l)},s={selected:e.selected,onDayClick:r};return a.jsx(Lb.Provider,{value:s,children:n})}function hM(){var t=g.useContext(Lb);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function sJ(t,e){var n=jt(),r=hM(),s=Ab(),o=Db(),i=Ob(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,m=i.focus,p=i.focusMonthBefore,w=i.focusMonthAfter,y=i.focusYearBefore,S=i.focusYearAfter,b=i.focusStartOfWeek,x=i.focusEndOfWeek,_=function(B){var O,z,Z,Y;Vp(n)?(O=r.onDayClick)===null||O===void 0||O.call(r,t,e,B):Fd(n)?(z=s.onDayClick)===null||z===void 0||z.call(s,t,e,B):Vd(n)?(Z=o.onDayClick)===null||Z===void 0||Z.call(o,t,e,B):(Y=n.onDayClick)===null||Y===void 0||Y.call(n,t,e,B)},A=function(B){var O;m(t),(O=n.onDayFocus)===null||O===void 0||O.call(n,t,e,B)},D=function(B){var O;f(),(O=n.onDayBlur)===null||O===void 0||O.call(n,t,e,B)},F=function(B){var O;(O=n.onDayMouseEnter)===null||O===void 0||O.call(n,t,e,B)},C=function(B){var O;(O=n.onDayMouseLeave)===null||O===void 0||O.call(n,t,e,B)},E=function(B){var O;(O=n.onDayPointerEnter)===null||O===void 0||O.call(n,t,e,B)},P=function(B){var O;(O=n.onDayPointerLeave)===null||O===void 0||O.call(n,t,e,B)},I=function(B){var O;(O=n.onDayTouchCancel)===null||O===void 0||O.call(n,t,e,B)},N=function(B){var O;(O=n.onDayTouchEnd)===null||O===void 0||O.call(n,t,e,B)},j=function(B){var O;(O=n.onDayTouchMove)===null||O===void 0||O.call(n,t,e,B)},k=function(B){var O;(O=n.onDayTouchStart)===null||O===void 0||O.call(n,t,e,B)},V=function(B){var O;(O=n.onDayKeyUp)===null||O===void 0||O.call(n,t,e,B)},L=function(B){var O;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),u();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),d();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?y():p();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?S():w();break;case"Home":B.preventDefault(),B.stopPropagation(),b();break;case"End":B.preventDefault(),B.stopPropagation(),x();break}(O=n.onDayKeyDown)===null||O===void 0||O.call(n,t,e,B)},G={onClick:_,onFocus:A,onBlur:D,onKeyDown:L,onKeyUp:V,onMouseEnter:F,onMouseLeave:C,onPointerEnter:E,onPointerLeave:P,onTouchCancel:I,onTouchEnd:N,onTouchMove:j,onTouchStart:k};return G}function oJ(){var t=jt(),e=hM(),n=Ab(),r=Db(),s=Vp(t)?e.selected:Fd(t)?n.selected:Vd(t)?r.selected:void 0;return s}function aJ(t){return Object.values(fs).includes(t)}function iJ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(aJ(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function lJ(t,e){var n=qe({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=qe(qe({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function cJ(t,e,n){var r,s,o,i=jt(),l=Ob(),c=tJ(t,e),u=sJ(t,c),d=oJ(),f=!!(i.onDayClick||i.mode!=="default");g.useEffect(function(){var F;c.outside||l.focusedDay&&f&&lr(l.focusedDay,t)&&((F=n.current)===null||F===void 0||F.focus())},[l.focusedDay,t,n,f,c.outside]);var m=iJ(i,c).join(" "),p=lJ(i,c),w=!!(c.outside&&!i.showOutsideDays||c.hidden),y=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:IX,S=a.jsx(y,{date:t,displayMonth:e,activeModifiers:c}),b={style:p,className:m,children:S,role:"gridcell"},x=l.focusTarget&&lr(l.focusTarget,t)&&!c.outside,_=l.focusedDay&&lr(l.focusedDay,t),A=qe(qe(qe({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=_||x?0:-1,r)),u),D={isButton:f,isHidden:w,activeModifiers:c,selectedDays:d,buttonProps:A,divProps:b};return D}function uJ(t){var e=g.useRef(null),n=cJ(t.date,t.displayMonth,e);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(Nm,qe({name:"day",ref:e},n.buttonProps)):a.jsx("div",qe({},n.divProps))}function dJ(t){var e=t.number,n=t.dates,r=jt(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=c(Number(e),{locale:l}),m=function(p){s(e,n,p)};return a.jsx(Nm,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:m,children:d})}function hJ(t){var e,n,r=jt(),s=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:uJ,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:dJ,d;return i&&(d=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[d,t.dates.map(function(f){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:t.displayMonth,date:f})},FZ(f))})]})}function CT(t,e,n){for(var r=n!=null&&n.ISOWeek?ZD(e):kb(e,n),s=n!=null&&n.ISOWeek?Ni(t):Bs(t,n),o=to(r,s),i=[],l=0;l<=o;l++)i.push(un(s,l));var c=i.reduce(function(u,d){var f=n!=null&&n.ISOWeek?OZ(d):$Z(d,n),m=u.find(function(p){return p.weekNumber===f});return m?(m.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function fJ(t,e){var n=CT(Un(t),cd(t),e);if(e!=null&&e.useFixedWeeks){var r=qZ(t,e);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=Rx(o,6-r),l=CT(Rx(o,1),i,e);n.push.apply(n,l)}}return n}function mJ(t){var e,n,r,s=jt(),o=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,w=fJ(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:f,firstWeekContainsDate:m}),y=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:kX,S=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:hJ,b=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:TX;return a.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&a.jsx(y,{}),a.jsx("tbody",{className:i.tbody,style:l.tbody,children:w.map(function(x){return a.jsx(S,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),a.jsx(b,{displayMonth:t.displayMonth})]})}function pJ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var gJ=pJ()?g.useLayoutEffect:g.useEffect,Ev=!1,vJ=0;function ET(){return"react-day-picker-".concat(++vJ)}function xJ(t){var e,n=t??(Ev?ET():null),r=g.useState(n),s=r[0],o=r[1];return gJ(function(){s===null&&o(ET())},[]),g.useEffect(function(){Ev===!1&&(Ev=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function yJ(t){var e,n,r=jt(),s=r.dir,o=r.classNames,i=r.styles,l=r.components,c=Ud().displayMonths,u=xJ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],m=i.month,p=t.displayIndex===0,w=t.displayIndex===c.length-1,y=!p&&!w;s==="rtl"&&(e=[p,w],w=e[0],p=e[1]),p&&(f.push(o.caption_start),m=qe(qe({},m),i.caption_start)),w&&(f.push(o.caption_end),m=qe(qe({},m),i.caption_end)),y&&(f.push(o.caption_between),m=qe(qe({},m),i.caption_between));var S=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:EX;return a.jsxs("div",{className:f.join(" "),style:m,children:[a.jsx(S,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(mJ,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function wJ(t){var e=jt(),n=e.classNames,r=e.styles;return a.jsx("div",{className:n.months,style:r.months,children:t.children})}function bJ(t){var e,n,r=t.initialProps,s=jt(),o=Ob(),i=Ud(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=qe(qe({},s.styles.root),s.style),m=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,y){var S;return qe(qe({},w),(S={},S[y]=r[y],S))},{}),p=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:wJ;return a.jsx("div",qe({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:a.jsx(p,{children:i.displayMonths.map(function(w,y){return a.jsx(yJ,{displayIndex:y,displayMonth:w},y)})})}))}function _J(t){var e=t.children,n=HZ(t,["children"]);return a.jsx(dX,{initialProps:n,children:a.jsx(bX,{children:a.jsx(nJ,{initialProps:n,children:a.jsx(PX,{initialProps:n,children:a.jsx(DX,{initialProps:n,children:a.jsx($X,{children:a.jsx(eJ,{children:e})})})})})})})}function SJ(t){return a.jsx(_J,qe({},t,{children:a.jsx(bJ,{initialProps:t})}))}function fM({className:t,classNames:e,showOutsideDays:n=!0,...r}){return a.jsx(SJ,{showOutsideDays:n,className:Xe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Xe("h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Xe("h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>a.jsx(wI,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(z5,{className:"h-4 w-4"})},...r})}fM.displayName="Calendar";var Up="Popover",[mM,pee]=qs(Up,[uc]),zd=uc(),[CJ,Ra]=mM(Up),pM=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=t,l=zd(e),c=g.useRef(null),[u,d]=g.useState(!1),[f,m]=vi({prop:r,defaultProp:s??!1,onChange:o,caller:Up});return a.jsx(IP,{...l,children:a.jsx(CJ,{scope:e,contentId:oo(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:i,children:n})})};pM.displayName=Up;var gM="PopoverAnchor",EJ=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ra(gM,n),o=zd(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(ip,{...o,...r,ref:e})});EJ.displayName=gM;var vM="PopoverTrigger",xM=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ra(vM,n),o=zd(n),i=_t(e,s.triggerRef),l=a.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SM(s.open),...r,ref:i,onClick:Ae(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(ip,{asChild:!0,...o,children:l})});xM.displayName=vM;var Fb="PopoverPortal",[TJ,jJ]=mM(Fb,{forceMount:void 0}),yM=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Ra(Fb,e);return a.jsx(TJ,{scope:e,forceMount:n,children:a.jsx(bo,{present:n||o.open,children:a.jsx(yd,{asChild:!0,container:s,children:r})})})};yM.displayName=Fb;var nc="PopoverContent",wM=g.forwardRef((t,e)=>{const n=jJ(nc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Ra(nc,t.__scopePopover);return a.jsx(bo,{present:r||o.open,children:o.modal?a.jsx(kJ,{...s,ref:e}):a.jsx(IJ,{...s,ref:e})})});wM.displayName=nc;var NJ=gi("PopoverContent.RemoveScroll"),kJ=g.forwardRef((t,e)=>{const n=Ra(nc,t.__scopePopover),r=g.useRef(null),s=_t(e,r),o=g.useRef(!1);return g.useEffect(()=>{const i=r.current;if(i)return xw(i)},[]),a.jsx(vw,{as:NJ,allowPinchZoom:!0,children:a.jsx(bM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ae(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),IJ=g.forwardRef((t,e)=>{const n=Ra(nc,t.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(bM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),bM=g.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=Ra(nc,n),p=zd(n);return gw(),a.jsx(up,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(ic,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(fw,{"data-state":SM(m.open),role:"dialog",id:m.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_M="PopoverClose",PJ=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ra(_M,n);return a.jsx(Qe.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,()=>s.onOpenChange(!1))})});PJ.displayName=_M;var AJ="PopoverArrow",RJ=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=zd(n);return a.jsx(mw,{...s,...r,ref:e})});RJ.displayName=AJ;function SM(t){return t?"open":"closed"}var DJ=pM,MJ=xM,OJ=yM,CM=wM;const LJ=DJ,FJ=MJ,EM=Le.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>a.jsx(OJ,{children:a.jsx(CM,{ref:s,align:e,sideOffset:n,className:Xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));EM.displayName=CM.displayName;const VJ=Le.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx("div",{ref:s,role:n?"none":"separator","aria-orientation":e,className:Xe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));VJ.displayName="Separator";const UJ=()=>{g.useContext(mr);const{toast:t}=fr();wc();const{ordens:e=[]}=Fp(),{ordens:n=[]}=Dd();Md(),Od();const{financeiro:r=[]}=Ld(),[s,o]=g.useState("graficos"),[i,l]=g.useState({from:un(new Date,-30),to:new Date}),[c,u]=g.useState(null),[d,f]=g.useState(""),[m,p]=g.useState("all"),[w,y]=g.useState("grid"),[S,b]=g.useState(!1),x=[{label:"Últimos 7 dias",value:"7d",from:un(new Date,-7),to:new Date},{label:"Últimos 30 dias",value:"30d",from:un(new Date,-30),to:new Date},{label:"Últimos 90 dias",value:"90d",from:un(new Date,-90),to:new Date},{label:"Este mês",value:"month",from:Un(new Date),to:cd(new Date)},{label:"Mês passado",value:"lastMonth",from:Un(wT(new Date,1)),to:cd(wT(new Date,1))},{label:"Este ano",value:"year",from:Dx(new Date),to:mT(new Date)},{label:"Ano passado",value:"lastYear",from:Dx(bT(new Date,1)),to:mT(bT(new Date,1))}];n.filter(I=>{const N=new Date(I.createdAt);return N>=i.from&&N<=i.to}),e.filter(I=>{const N=new Date(I.createdAt);return N>=i.from&&N<=i.to}),r.filter(I=>{const N=new Date(I.createdAt);return N>=i.from&&N<=i.to});const _=[{id:"vendas-diarias",title:"Vendas Diárias",description:"Evolução das vendas por dia",icon:As,color:"bg-blue-500",type:"bar"},{id:"fluxo-caixa",title:"Fluxo de Caixa",description:"Entradas e saídas de dinheiro",icon:Kn,color:"bg-green-500",type:"line"},{id:"produtos-vendidos",title:"Produtos Mais Vendidos",description:"Ranking dos produtos por quantidade",icon:Qn,color:"bg-purple-500",type:"horizontalBar"},{id:"categorias-vendas",title:"Vendas por Categoria",description:"Distribuição de vendas por categoria",icon:Bg,color:"bg-orange-500",type:"pie"},{id:"clientes-top",title:"Top Clientes",description:"Clientes que mais compraram",icon:os,color:"bg-indigo-500",type:"bar"},{id:"receitas-despesas",title:"Receitas vs Despesas",description:"Comparativo mensal de receitas e despesas",icon:Yn,color:"bg-emerald-500",type:"composed"},{id:"ticket-medio",title:"Ticket Médio",description:"Valor médio por venda ao longo do tempo",icon:xh,color:"bg-cyan-500",type:"line"},{id:"conversao-vendas",title:"Taxa de Conversão",description:"Percentual de conversão de propostas em vendas",icon:Jc,color:"bg-pink-500",type:"area"}],A=[{id:"vendas-por-periodo",title:"Vendas por Período",category:"Vendas",icon:Es,color:"bg-blue-500"},{id:"vendas-por-cliente",title:"Vendas por Cliente",category:"Vendas",icon:os,color:"bg-indigo-500"},{id:"vendas-por-produto",title:"Vendas por Produto",category:"Vendas",icon:Qn,color:"bg-purple-500"},{id:"vendas-por-categoria",title:"Vendas por Categoria",category:"Vendas",icon:Cl,color:"bg-orange-500"},{id:"vendas-por-vendedor",title:"Vendas por Vendedor",category:"Vendas",icon:Vr,color:"bg-green-500"},{id:"vendas-por-regiao",title:"Vendas por Região",category:"Vendas",icon:Qf,color:"bg-red-500"},{id:"vendas-por-canal",title:"Vendas por Canal",category:"Vendas",icon:bI,color:"bg-cyan-500"},{id:"vendas-por-forma-pagamento",title:"Vendas por Forma de Pagamento",category:"Vendas",icon:L0,color:"bg-yellow-500"},{id:"ticket-medio-cliente",title:"Ticket Médio por Cliente",category:"Vendas",icon:xh,color:"bg-pink-500"},{id:"frequencia-compra",title:"Frequência de Compra",category:"Vendas",icon:Lo,color:"bg-teal-500"},{id:"receitas-periodo",title:"Receitas por Período",category:"Financeiro",icon:Kn,color:"bg-emerald-500"},{id:"despesas-periodo",title:"Despesas por Período",category:"Financeiro",icon:Xa,color:"bg-red-500"},{id:"fluxo-caixa-detalhado",title:"Fluxo de Caixa Detalhado",category:"Financeiro",icon:Yn,color:"bg-green-500"},{id:"contas-receber",title:"Contas a Receber",category:"Financeiro",icon:Lo,color:"bg-yellow-500"},{id:"contas-pagar",title:"Contas a Pagar",category:"Financeiro",icon:Fr,color:"bg-orange-500"},{id:"margem-lucro",title:"Margem de Lucro",category:"Financeiro",icon:Jc,color:"bg-purple-500"},{id:"roi-produtos",title:"ROI por Produto",category:"Financeiro",icon:As,color:"bg-indigo-500"},{id:"custo-venda",title:"Custo por Venda",category:"Financeiro",icon:xh,color:"bg-cyan-500"},{id:"lucratividade-categoria",title:"Lucratividade por Categoria",category:"Financeiro",icon:Bg,color:"bg-pink-500"},{id:"projecao-receitas",title:"Projeção de Receitas",category:"Financeiro",icon:Kn,color:"bg-teal-500"},{id:"estoque-atual",title:"Estoque Atual",category:"Estoque",icon:Qn,color:"bg-blue-500"},{id:"produtos-baixo-estoque",title:"Produtos com Baixo Estoque",category:"Estoque",icon:Fr,color:"bg-red-500"},{id:"produtos-sem-estoque",title:"Produtos sem Estoque",category:"Estoque",icon:Cr,color:"bg-red-600"},{id:"movimentacao-estoque",title:"Movimentação de Estoque",category:"Estoque",icon:O0,color:"bg-green-500"},{id:"giro-estoque",title:"Giro de Estoque",category:"Estoque",icon:wh,color:"bg-purple-500"},{id:"valor-estoque",title:"Valor do Estoque",category:"Estoque",icon:Yn,color:"bg-yellow-500"},{id:"produtos-vencidos",title:"Produtos Vencidos",category:"Estoque",icon:Es,color:"bg-orange-500"},{id:"produtos-proximo-vencimento",title:"Produtos Próximos ao Vencimento",category:"Estoque",icon:Lo,color:"bg-yellow-600"},{id:"entradas-estoque",title:"Entradas de Estoque",category:"Estoque",icon:O5,color:"bg-green-600"},{id:"saidas-estoque",title:"Saídas de Estoque",category:"Estoque",icon:F5,color:"bg-red-600"},{id:"clientes-cadastrados",title:"Clientes Cadastrados",category:"Clientes",icon:os,color:"bg-indigo-500"},{id:"clientes-ativos",title:"Clientes Ativos",category:"Clientes",icon:pi,color:"bg-green-500"},{id:"clientes-inativos",title:"Clientes Inativos",category:"Clientes",icon:Cr,color:"bg-red-500"},{id:"novos-clientes",title:"Novos Clientes",category:"Clientes",icon:Vn,color:"bg-blue-500"},{id:"clientes-fidelidade",title:"Clientes Fidelidade",category:"Clientes",icon:Zh,color:"bg-yellow-500"},{id:"segmentacao-clientes",title:"Segmentação de Clientes",category:"Clientes",icon:WS,color:"bg-purple-500"},{id:"satisfacao-clientes",title:"Satisfação dos Clientes",category:"Clientes",icon:qS,color:"bg-pink-500"},{id:"clientes-potenciais",title:"Clientes Potenciais",category:"Clientes",icon:Jc,color:"bg-cyan-500"},{id:"historico-cliente",title:"Histórico por Cliente",category:"Clientes",icon:Sr,color:"bg-teal-500"},{id:"geolocalizacao-clientes",title:"Geolocalização de Clientes",category:"Clientes",icon:Qf,color:"bg-orange-500"},{id:"catalogo-produtos",title:"Catálogo de Produtos",category:"Produtos",icon:Qn,color:"bg-blue-500"},{id:"produtos-mais-vendidos",title:"Produtos Mais Vendidos",category:"Produtos",icon:Kn,color:"bg-green-500"},{id:"produtos-menos-vendidos",title:"Produtos Menos Vendidos",category:"Produtos",icon:Xa,color:"bg-red-500"},{id:"produtos-lucrativos",title:"Produtos Mais Lucrativos",category:"Produtos",icon:Yn,color:"bg-yellow-500"},{id:"produtos-sazonalidade",title:"Sazonalidade de Produtos",category:"Produtos",icon:Es,color:"bg-purple-500"},{id:"preco-produtos",title:"Análise de Preços",category:"Produtos",icon:Cl,color:"bg-indigo-500"},{id:"margem-produtos",title:"Margem por Produto",category:"Produtos",icon:xh,color:"bg-cyan-500"},{id:"produtos-categoria",title:"Produtos por Categoria",category:"Produtos",icon:WS,color:"bg-orange-500"},{id:"produtos-fornecedor",title:"Produtos por Fornecedor",category:"Produtos",icon:X5,color:"bg-teal-500"},{id:"produtos-promocao",title:"Produtos em Promoção",category:"Produtos",icon:Gu,color:"bg-pink-500"},{id:"ordens-servico",title:"Ordens de Serviço",category:"Serviços",icon:Sr,color:"bg-blue-500"},{id:"servicos-concluidos",title:"Serviços Concluídos",category:"Serviços",icon:pi,color:"bg-green-500"},{id:"servicos-pendentes",title:"Serviços Pendentes",category:"Serviços",icon:Lo,color:"bg-yellow-500"},{id:"servicos-atrasados",title:"Serviços Atrasados",category:"Serviços",icon:Fr,color:"bg-red-500"},{id:"tempo-medio-servico",title:"Tempo Médio de Serviço",category:"Serviços",icon:Lo,color:"bg-purple-500"},{id:"servicos-tecnico",title:"Serviços por Técnico",category:"Serviços",icon:Vr,color:"bg-indigo-500"},{id:"servicos-tipo",title:"Serviços por Tipo",category:"Serviços",icon:Cl,color:"bg-orange-500"},{id:"satisfacao-servicos",title:"Satisfação dos Serviços",category:"Serviços",icon:Zh,color:"bg-yellow-500"},{id:"custos-servicos",title:"Custos dos Serviços",category:"Serviços",icon:Yn,color:"bg-green-500"},{id:"agendamentos",title:"Agendamentos",category:"Serviços",icon:Es,color:"bg-cyan-500"},{id:"performance-vendedores",title:"Performance dos Vendedores",category:"Performance",icon:V5,color:"bg-yellow-600"},{id:"metas-vendas",title:"Metas de Vendas",category:"Performance",icon:Jc,color:"bg-purple-500"},{id:"conversao-leads",title:"Conversão de Leads",category:"Performance",icon:Kn,color:"bg-green-500"},{id:"tempo-resposta",title:"Tempo de Resposta",category:"Performance",icon:Lo,color:"bg-blue-500"},{id:"produtividade-equipe",title:"Produtividade da Equipe",category:"Performance",icon:O0,color:"bg-indigo-500"},{id:"eficiencia-processos",title:"Eficiência dos Processos",category:"Performance",icon:Gu,color:"bg-yellow-500"},{id:"qualidade-atendimento",title:"Qualidade do Atendimento",category:"Performance",icon:Zh,color:"bg-pink-500"},{id:"retencao-clientes",title:"Retenção de Clientes",category:"Performance",icon:qS,color:"bg-red-500"},{id:"crescimento-receita",title:"Crescimento da Receita",category:"Performance",icon:Kn,color:"bg-emerald-500"},{id:"market-share",title:"Market Share",category:"Performance",icon:Bg,color:"bg-cyan-500"}],D=I=>{l({from:I.from,to:I.to})},F=async I=>{b(!0);try{await new Promise(N=>setTimeout(N,1e3)),t({title:"Relatório gerado!",description:"O relatório foi processado com sucesso."}),u(I)}catch{t({title:"Erro",description:"Erro ao gerar o relatório.",variant:"destructive"})}finally{b(!1)}},C=I=>{t({title:"Exportando...",description:`Relatório sendo exportado em formato ${I}`})},E=A.filter(I=>{const N=m==="all"||I.category===m,j=I.title.toLowerCase().includes(d.toLowerCase());return N&&j}),P=["all",...new Set(A.map(I=>I.category))];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatórios"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Análise completa e detalhada do seu negócio"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(LJ,{children:[a.jsx(FJ,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"w-full sm:w-auto sm:min-w-[280px] justify-start",children:[a.jsx(Es,{className:"mr-2 h-4 w-4"}),i!=null&&i.from?i.to?a.jsxs(a.Fragment,{children:[Us(i.from,"dd/MM/yyyy")," - ",Us(i.to,"dd/MM/yyyy")]}):Us(i.from,"dd/MM/yyyy"):a.jsx("span",{children:"Selecione um período"})]})}),a.jsx(EM,{className:"w-auto p-0",align:"end",children:a.jsx(fM,{initialFocus:!0,mode:"range",defaultMonth:i==null?void 0:i.from,selected:i,onSelect:l,numberOfMonths:2})})]}),a.jsxs(ct,{onValueChange:I=>{const N=x.find(j=>j.value===I);N&&D(N)},children:[a.jsx(rt,{className:"w-full sm:w-auto sm:min-w-[180px]",children:a.jsx(ut,{placeholder:"Período rápido"})}),a.jsx(st,{children:x.map(I=>a.jsx(se,{value:I.value,children:I.label},I.value))})]})]})]}),a.jsxs(ql,{value:s,onValueChange:o,className:"w-full",children:[a.jsxs(_i,{className:"grid w-full grid-cols-2",children:[a.jsxs(Sn,{value:"graficos",className:"flex items-center gap-2",children:[a.jsx(As,{className:"h-4 w-4"}),"Relatórios Gráficos"]}),a.jsxs(Sn,{value:"lista",className:"flex items-center gap-2",children:[a.jsx(HS,{className:"h-4 w-4"}),"Relatórios em Lista"]})]}),a.jsx(Cn,{value:"graficos",className:"space-y-6 pt-6",children:a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.map(I=>a.jsxs(an,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:[a.jsxs(vn,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-5 w-5 text-white"})}),a.jsx(or,{variant:"secondary",className:"text-xs",children:I.type})]}),a.jsx(xn,{className:"text-lg",children:I.title}),a.jsx(ei,{className:"text-sm",children:I.description})]}),a.jsx(ln,{className:"pt-0",children:a.jsxs(Q,{onClick:()=>F(I.id),className:"w-full",disabled:S,children:[S?a.jsx(wh,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Visualizar"]})})]},I.id))})}),a.jsxs(Cn,{value:"lista",className:"space-y-6 pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(me,{placeholder:"Buscar relatórios...",value:d,onChange:I=>f(I.target.value),className:"pl-10"})]}),a.jsxs(ct,{value:m,onValueChange:p,children:[a.jsx(rt,{className:"w-full sm:w-auto sm:min-w-[200px]",children:a.jsx(ut,{placeholder:"Categoria"})}),a.jsx(st,{children:P.map(I=>a.jsx(se,{value:I,children:I==="all"?"Todas as Categorias":I},I))})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q,{variant:w==="grid"?"default":"outline",size:"sm",onClick:()=>y("grid"),children:a.jsx(q5,{className:"h-4 w-4"})}),a.jsx(Q,{variant:w==="list"?"default":"outline",size:"sm",onClick:()=>y("list"),children:a.jsx(HS,{className:"h-4 w-4"})})]})]}),a.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:Xe("gap-4",w==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"space-y-3"),children:a.jsx(Gf,{children:E.map((I,N)=>a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:N*.05},children:w==="grid"?a.jsxs(an,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer h-full",children:[a.jsxs(vn,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-5 w-5 text-white"})}),a.jsx(or,{variant:"outline",className:"text-xs",children:I.category})]}),a.jsx(xn,{className:"text-base",children:I.title})]}),a.jsx(ln,{className:"pt-0",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Q,{size:"sm",onClick:()=>F(I.id),className:"flex-1",disabled:S,children:[S?a.jsx(wh,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx(Sl,{className:"h-3 w-3 mr-1"}),"Ver"]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>C("PDF"),children:a.jsx(Ul,{className:"h-3 w-3"})})]})})]}):a.jsx(an,{className:"group hover:shadow-md transition-all duration-300 cursor-pointer",children:a.jsx(ln,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:I.title}),a.jsx("p",{className:"text-sm text-slate-500",children:I.category})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Q,{size:"sm",onClick:()=>F(I.id),disabled:S,children:[S?a.jsx(wh,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx(Sl,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>C("PDF"),children:a.jsx(Ul,{className:"h-3 w-3"})}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>C("Excel"),children:a.jsx(Sr,{className:"h-3 w-3"})})]})]})})})},I.id))})}),a.jsx("div",{className:"mt-8 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400",children:[a.jsxs("span",{children:["Total de relatórios: ",E.length]}),a.jsxs("span",{children:["Categoria: ",m==="all"?"Todas":m]})]})})]})]})]})},TT={"pt-BR":{"nav.dashboard":"Dashboard","nav.clientes":"Clientes","nav.os":"Ordens de Serviço","nav.ov":"Ordens de Venda","nav.estoque":"Estoque","nav.financeiro":"Financeiro","nav.relatorios":"Relatórios","nav.configuracoes":"Configurações","config.titulo":"Configurações","config.descricao":"Gerencie todas as configurações do sistema","config.salvar":"Salvar Configurações","config.restaurarPadroes":"Restaurar Padrões","config.tabs.personalizacao":"Personalização","config.tabs.usuarios":"Usuários","config.tabs.seguranca":"Segurança","config.tabs.impressao":"Impressão","config.tabs.sistema":"Sistema","config.tabs.loja":"Loja","config.personalizacao.titulo":"Personalização do Sistema","config.personalizacao.descricao":"Configure a aparência e identidade visual do sistema","config.tema":"Tema","config.tema.descricao":"Escolha entre tema claro, escuro ou automático do sistema","config.tema.light":"Claro","config.tema.dark":"Escuro","config.tema.system":"Sistema","config.corPrimaria":"Cor Primária","config.corPrimaria.descricao":"Cor principal usada em botões, links e elementos destacados","config.corSecundaria":"Cor Secundária","config.corSecundaria.descricao":"Cor complementar usada em gradientes e elementos secundários","config.nomeEmpresa":"Nome da Empresa","config.nomeEmpresa.descricao":"Nome que aparecerá no cabeçalho e título do sistema","config.logoEmpresa":"Logo da Empresa","config.logoEmpresa.descricao":"Imagem que aparecerá no cabeçalho do sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal da interface do usuário","config.idioma.pt-BR":"Português (Brasil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Español","config.idioma.zh-CN":"中文 (简体)","config.idioma ja-JP":"日本語","config.usuarios.titulo":"Configurações de Usuários","config.usuarios.descricao":"Gerencie configurações relacionadas aos usuários do sistema","config.permitirCadastro":"Permitir Cadastro","config.permitirCadastro.descricao":"Permite que novos usuários se cadastrem no sistema","config.requerAprovacao":"Requer Aprovação","config.requerAprovacao.descricao":"Novos cadastros precisam ser aprovados por um administrador","config.limiteUsuarios":"Limite de Usuários","config.limiteUsuarios.descricao":"Número máximo de usuários permitidos no sistema","config.notificacaoNovosUsuarios":"Notificar Novos Usuários","config.notificacaoNovosUsuarios.descricao":"Enviar notificações quando novos usuários se cadastrarem","usuarios.tipos.admin":"Administrador","usuarios.tipos.financeiro":"Financeiro","usuarios.tipos.comum":"Comum","usuarios.status.ativo":"Ativo","usuarios.status.inativo":"Inativo","usuarios.erros.nomeObrigatorio":"Nome é obrigatório","usuarios.erros.nomeMinimo":"Nome deve ter pelo menos 2 caracteres","usuarios.erros.emailObrigatorio":"Email é obrigatório","usuarios.erros.emailInvalido":"Email inválido","usuarios.erros.telefoneInvalido":"Telefone inválido","usuarios.edicao.titulo":"Editar Usuário","usuarios.edicao.descricao":"Edite as informações do usuário","usuarios.edicao.cancelar":"Cancelar","usuarios.edicao.salvar":"Salvar","usuarios.edicao.salvando":"Salvando...","usuarios.edicao.erro":"Erro ao salvar","usuarios.edicao.erroDescricao":"Não foi possível salvar as alterações","usuarios.remocao.titulo":"Remover Usuário","usuarios.remocao.descricao":"Tem certeza que deseja remover este usuário?","usuarios.remocao.cancelar":"Cancelar","usuarios.remocao.confirmar":"Remover","usuarios.remocao.removendo":"Removendo...","usuarios.remocao.erro":"Erro ao remover","usuarios.remocao.erroDescricao":"Não foi possível remover o usuário","usuarios.remocao.erroConfirmacao":"Confirmação necessária","usuarios.remocao.erroConfirmacaoDescricao":'Digite "CONFIRMAR" para remover o usuário',"usuarios.remocao.aviso.titulo":"Atenção!","usuarios.remocao.aviso.descricao":"Esta ação não pode ser desfeita.","usuarios.remocao.aviso.item1":"O usuário perderá acesso ao sistema","usuarios.remocao.aviso.item2":"Todos os dados do usuário serão removidos","usuarios.remocao.aviso.item3":"Esta ação não pode ser desfeita","usuarios.remocao.confirmacao.label":"Confirmação","usuarios.remocao.confirmacao.descricao":'Digite "CONFIRMAR" para confirmar a remoção',"usuarios.remocao.confirmacao.placeholder":"CONFIRMAR","usuarios.cadastro.form.nome":"Nome","usuarios.cadastro.form.nomePlaceholder":"Digite o nome completo","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Digite o email","usuarios.cadastro.form.telefone":"Telefone","usuarios.cadastro.form.telefonePlaceholder":"Digite o telefone","usuarios.cadastro.form.tipo":"Tipo de Usuário","usuarios.cadastro.form.senha":"Senha","usuarios.cadastro.form.senhaPlaceholder":"Digite a senha","usuarios.cadastro.form.confirmarSenha":"Confirmar Senha","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirme a senha","usuarios.listagem.titulo":"Usuários","usuarios.listagem.descricao":"Gerencie os usuários do sistema","usuarios.filtros.titulo":"Filtros","usuarios.busca":"Buscar","usuarios.busca.placeholder":"Buscar por nome ou email...","usuarios.filtros.tipo":"Tipo","usuarios.filtros.status":"Status","usuarios.filtros.todos":"Todos","usuarios.lista.titulo":"Lista de Usuários","usuarios.lista.descricao":"Usuários encontrados","usuarios.adicionar":"Adicionar Usuário","usuarios.tabela.nome":"Nome","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Tipo","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Último Acesso","usuarios.tabela.acoes":"Ações","usuarios.lista.vazia":"Nenhum usuário encontrado","config.seguranca.titulo":"Configurações de Segurança","config.seguranca.descricao":"Configure as políticas de segurança e autenticação","config.autenticacaoDoisFatores":"Autenticação 2 Fatores","config.autenticacaoDoisFatores.descricao":"Requer segundo fator de autenticação para login","config.tempoSessao":"Tempo da Sessão (min)","config.tempoSessao.descricao":"Tempo em minutos antes da sessão expirar automaticamente","config.tentativasLogin":"Tentativas de Login","config.tentativasLogin.descricao":"Número de tentativas de login antes do bloqueio","config.bloqueioAutomatico":"Bloqueio Automático","config.bloqueioAutomatico.descricao":"Bloqueia automaticamente após tentativas falhas","config.auditoriaAtivada":"Auditoria Ativada","config.auditoriaAtivada.descricao":"Registra todas as ações dos usuários no sistema","config.impressao.titulo":"Configurações de Impressão","config.impressao.descricao":"Configure as opções padrão para impressão de documentos","config.formatoPadrao":"Formato Padrão","config.formatoPadrao.descricao":"Formato de papel padrão para impressões","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientação","config.orientacao.descricao":"Orientação padrão da página para impressões","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisagem","config.margens":"Margens","config.margens.descricao":"Configuração das margens padrão para impressões","config.margens.normal":"Normal","config.margens.estreita":"Estreita","config.margens.larga":"Larga","config.cabecalhoPersonalizado":"Cabeçalho Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir cabeçalho personalizado nas impressões","config.rodapePersonalizado":"Rodapé Personalizado","config.rodapePersonalizado.descricao":"Incluir rodapé personalizado nas impressões","config.sistema.titulo":"Configurações do Sistema","config.sistema.descricao":"Configurações técnicas e de performance do sistema","config.backupAutomatico":"Backup Automático","config.backupAutomatico.descricao":"Realizar backups automáticos dos dados","config.frequenciaBackup":"Frequência Backup","config.frequenciaBackup.descricao":"Com que frequência os backups devem ser realizados","config.frequencia.diario":"Diário","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensal","config.notificacoesEmail":"Notificações Email","config.notificacoesEmail.descricao":"Enviar notificações importantes por email","config.cacheAtivo":"Cache Ativo","config.cacheAtivo.descricao":"Ativar sistema de cache para melhorar performance","config.logsAtivo":"Logs Ativo","config.logsAtivo.descricao":"Manter registros detalhados das atividades do sistema","msg.configuracoesSalvas":"Configurações salvas com sucesso!","msg.configuracoesRestauradas":"Configurações restauradas para os padrões!","msg.descricaoRestaurada":"Todas as configurações foram restauradas para os valores padrão.","msg.arquivoInvalido":"Arquivo inválido! Por favor, selecione uma imagem.","msg.logoRemovido":"Logo removido com sucesso!","msg.erroUpload":"Erro no upload da imagem. Tente novamente.","common.salvar":"Salvar","common.cancelar":"Cancelar","config.logoDescricao":"Arraste uma imagem ou clique para selecionar","config.logoTipos":"PNG, JPG ou GIF (máx. 5MB)","config.removerLogo":"Remover Logo","config.selecionarArquivo":"clique para selecionar"},"en-US":{"nav.dashboard":"Dashboard","nav.clientes":"Clients","nav.os":"Service Orders","nav.ov":"Sales Orders","nav.estoque":"Inventory","nav.financeiro":"Financial","nav.relatorios":"Reports","nav.configuracoes":"Settings","config.titulo":"Settings","config.descricao":"Manage all system settings","config.salvar":"Save Settings","config.restaurarPadroes":"Restore Defaults","config.personalizacao.titulo":"System Personalization","config.personalizacao.descricao":"Configure system appearance and visual identity","config.tema":"Theme","config.tema.descricao":"Choose between light, dark or system automatic theme","config.tema.light":"Light","config.tema.dark":"Dark","config.tema.system":"System","config.corPrimaria":"Primary Color","config.corPrimaria.descricao":"Main color used in buttons, links and highlighted elements","config.corSecundaria":"Secondary Color","config.corSecundaria.descricao":"Complementary color used in gradients and secondary elements","config.nomeEmpresa":"Company Name","config.nomeEmpresa.descricao":"Name that will appear in the header and system title","config.logoEmpresa":"Company Logo","config.logoEmpresa.descricao":"Image that will appear in the system header","config.idioma":"Language","config.idioma.descricao":"Main language of the user interface","config.idioma.pt-BR":"Portuguese (Brazil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Spanish","config.idioma.zh-CN":"Chinese (Simplified)","config.idioma ja-JP":"Japanese","config.usuarios.titulo":"User Settings","config.usuarios.descricao":"Manage user-related system settings","config.permitirCadastro":"Allow Registration","config.permitirCadastro.descricao":"Allows new users to register in the system","config.requerAprovacao":"Require Approval","config.requerAprovacao.descricao":"New registrations need to be approved by an administrator","config.limiteUsuarios":"User Limit","config.limiteUsuarios.descricao":"Maximum number of users allowed in the system","config.notificacaoNovosUsuarios":"Notify New Users","config.notificacaoNovosUsuarios.descricao":"Send notifications when new users register","usuarios.tipos.admin":"Administrator","usuarios.tipos.financeiro":"Financial","usuarios.tipos.comum":"Common","usuarios.status.ativo":"Active","usuarios.status.inativo":"Inactive","usuarios.erros.nomeObrigatorio":"Name is required","usuarios.erros.nomeMinimo":"Name must have at least 2 characters","usuarios.erros.emailObrigatorio":"Email is required","usuarios.erros.emailInvalido":"Invalid email","usuarios.erros.telefoneInvalido":"Invalid phone","usuarios.edicao.titulo":"Edit User","usuarios.edicao.descricao":"Edit user information","usuarios.edicao.cancelar":"Cancel","usuarios.edicao.salvar":"Save","usuarios.edicao.salvando":"Saving...","usuarios.edicao.erro":"Error saving","usuarios.edicao.erroDescricao":"Could not save changes","usuarios.remocao.titulo":"Remove User","usuarios.remocao.descricao":"Are you sure you want to remove this user?","usuarios.remocao.cancelar":"Cancel","usuarios.remocao.confirmar":"Remove","usuarios.remocao.removendo":"Removing...","usuarios.remocao.erro":"Error removing","usuarios.remocao.erroDescricao":"Could not remove user","usuarios.remocao.erroConfirmacao":"Confirmation required","usuarios.remocao.erroConfirmacaoDescricao":'Type "CONFIRM" to remove the user',"usuarios.remocao.aviso.titulo":"Warning!","usuarios.remocao.aviso.descricao":"This action cannot be undone.","usuarios.remocao.aviso.item1":"The user will lose access to the system","usuarios.remocao.aviso.item2":"All user data will be removed","usuarios.remocao.aviso.item3":"This action cannot be undone","usuarios.remocao.confirmacao.label":"Confirmation","usuarios.remocao.confirmacao.descricao":'Type "CONFIRM" to confirm removal',"usuarios.remocao.confirmacao.placeholder":"CONFIRM","usuarios.cadastro.form.nome":"Name","usuarios.cadastro.form.nomePlaceholder":"Enter full name","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Enter email","usuarios.cadastro.form.telefone":"Phone","usuarios.cadastro.form.telefonePlaceholder":"Enter phone","usuarios.cadastro.form.tipo":"User Type","usuarios.cadastro.form.senha":"Password","usuarios.cadastro.form.senhaPlaceholder":"Enter password","usuarios.cadastro.form.confirmarSenha":"Confirm Password","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirm password","usuarios.listagem.titulo":"Users","usuarios.listagem.descricao":"Manage system users","usuarios.filtros.titulo":"Filters","usuarios.busca":"Search","usuarios.busca.placeholder":"Search by name or email...","usuarios.filtros.tipo":"Type","usuarios.filtros.status":"Status","usuarios.filtros.todos":"All","usuarios.lista.titulo":"User List","usuarios.lista.descricao":"Users found","usuarios.adicionar":"Add User","usuarios.tabela.nome":"Name","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Type","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Last Access","usuarios.tabela.acoes":"Actions","usuarios.lista.vazia":"No users found","config.seguranca.titulo":"Security Settings","config.seguranca.descricao":"Configure security and authentication policies","config.autenticacaoDoisFatores":"Two-Factor Authentication","config.autenticacaoDoisFatores.descricao":"Requires second authentication factor for login","config.tempoSessao":"Session Time (min)","config.tempoSessao.descricao":"Time in minutes before session expires automatically","config.tentativasLogin":"Login Attempts","config.tentativasLogin.descricao":"Number of login attempts before blocking","config.bloqueioAutomatico":"Automatic Lock","config.bloqueioAutomatico.descricao":"Automatically blocks after failed attempts","config.auditoriaAtivada":"Audit Enabled","config.auditoriaAtivada.descricao":"Records all user actions in the system","config.impressao.titulo":"Print Settings","config.impressao.descricao":"Configure default options for document printing","config.formatoPadrao":"Default Format","config.formatoPadrao.descricao":"Default paper format for printing","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Letter","config.orientacao":"Orientation","config.orientacao.descricao":"Default page orientation for printing","config.orientacao.retrato":"Portrait","config.orientacao.paisagem":"Landscape","config.margens":"Margins","config.margens.descricao":"Default margin configuration for printing","config.margens.normal":"Normal","config.margens.estreita":"Narrow","config.margens.larga":"Wide","config.cabecalhoPersonalizado":"Custom Header","config.cabecalhoPersonalizado.descricao":"Include custom header in prints","config.rodapePersonalizado":"Custom Footer","config.rodapePersonalizado.descricao":"Include custom footer in prints","config.sistema.titulo":"System Settings","config.sistema.descricao":"Technical and performance system settings","config.backupAutomatico":"Automatic Backup","config.backupAutomatico.descricao":"Perform automatic data backups","config.frequenciaBackup":"Backup Frequency","config.frequenciaBackup.descricao":"How often backups should be performed","config.frequencia.diario":"Daily","config.frequencia.semanal":"Weekly","config.frequencia.mensal":"Monthly","config.notificacoesEmail":"Email Notifications","config.notificacoesEmail.descricao":"Send important notifications by email","config.cacheAtivo":"Cache Active","config.cacheAtivo.descricao":"Enable cache system to improve performance","config.logsAtivo":"Logs Active","config.logsAtivo.descricao":"Keep detailed records of system activities","msg.configuracoesSalvas":"Settings saved successfully!","msg.configuracoesRestauradas":"Settings restored to defaults!","msg.descricaoRestaurada":"All settings have been restored to default values.","msg.arquivoInvalido":"Invalid file! Please select an image.","msg.logoRemovido":"Logo removed successfully!","msg.erroUpload":"Upload error. Please try again.","common.salvar":"Save","common.cancelar":"Cancel","config.logoDescricao":"Drag an image or click to select","config.logoTipos":"PNG, JPG or GIF (max. 5MB)","config.removerLogo":"Remove Logo","config.selecionarArquivo":"click to select"},"es-ES":{"nav.dashboard":"Panel","nav.clientes":"Clientes","nav.os":"Órdenes de Servicio","nav.ov":"Órdenes de Venta","nav.estoque":"Inventario","nav.financeiro":"Financiero","nav.relatorios":"Reportes","nav.configuracoes":"Configuraciones","config.titulo":"Configuraciones","config.descricao":"Gestionar todas las configuraciones del sistema","config.salvar":"Guardar Configuraciones","config.restaurarPadroes":"Restaurar Predeterminados","config.personalizacao.titulo":"Personalización del Sistema","config.personalizacao.descricao":"Configurar apariencia e identidad visual del sistema","config.tema":"Tema","config.tema.descricao":"Elegir entre tema claro, oscuro o automático del sistema","config.tema.light":"Claro","config.tema.dark":"Oscuro","config.tema.system":"Sistema","config.corPrimaria":"Color Primario","config.corPrimaria.descricao":"Color principal usado en botones, enlaces y elementos destacados","config.corSecundaria":"Color Secundario","config.corSecundaria.descricao":"Color complementario usado en gradientes y elementos secundarios","config.nomeEmpresa":"Nombre de la Empresa","config.nomeEmpresa.descricao":"Nombre que aparecerá en el encabezado y título del sistema","config.logoEmpresa":"Logo de la Empresa","config.logoEmpresa.descricao":"Imagen que aparecerá en el encabezado del sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal de la interfaz de usuario","config.idioma.pt-BR":"Portugués (Brasil)","config.idioma.en-US":"Inglés (EE.UU.)","config.idioma.es-ES":"Español","config.idioma.zh-CN":"Chino (Simplificado)","config.idioma ja-JP":"Japonés","config.usuarios.titulo":"Configuraciones de Usuarios","config.usuarios.descricao":"Gestionar configuraciones relacionadas con usuarios del sistema","config.permitirCadastro":"Permitir Registro","config.permitirCadastro.descricao":"Permite que nuevos usuarios se registren en el sistema","config.requerAprovacao":"Requiere Aprobación","config.requerAprovacao.descricao":"Nuevos registros necesitan ser aprobados por un administrador","config.limiteUsuarios":"Límite de Usuários","config.limiteUsuarios.descricao":"Número máximo de usuarios permitidos en el sistema","config.notificacaoNovosUsuarios":"Notificar Nuevos Usuarios","config.notificacaoNovosUsuarios.descricao":"Enviar notificaciones cuando nuevos usuarios se registren","config.seguranca.titulo":"Configuraciones de Seguridad","config.seguranca.descricao":"Configurar políticas de seguridad y autenticación","config.autenticacaoDoisFatores":"Autenticación de Dos Factores","config.autenticacaoDoisFatores.descricao":"Requiere segundo factor de autenticación para inicio de sesión","config.tempoSessao":"Tiempo de Sesión (min)","config.tempoSessao.descricao":"Tiempo en minutos antes de que la sesión expire automáticamente","config.tentativasLogin":"Intentos de Inicio de Sesión","config.tentativasLogin.descricao":"Número de intentos de inicio de sesión antes del bloqueo","config.bloqueioAutomatico":"Bloqueo Automático","config.bloqueioAutomatico.descricao":"Bloquea automáticamente después de intentos fallidos","config.auditoriaAtivada":"Auditoría Activada","config.auditoriaAtivada.descricao":"Registra todas las acciones de los usuarios en el sistema","config.impressao.titulo":"Configuraciones de Impresión","config.impressao.descricao":"Configurar opciones predeterminadas para impresión de documentos","config.formatoPadrao":"Formato Predeterminado","config.formatoPadrao.descricao":"Formato de papel predeterminado para impresiones","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientación","config.orientacao.descricao":"Orientación predeterminada de la página para impresiones","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisaje","config.margens":"Márgenes","config.margens.descricao":"Configuración de los márgenes predeterminados para impresiones","config.margens.normal":"Normal","config.margens.estreita":"Estrecha","config.margens.larga":"Ancha","config.cabecalhoPersonalizado":"Encabezado Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir encabezado personalizado en las impresiones","config.rodapePersonalizado":"Pie de Página Personalizado","config.rodapePersonalizado.descricao":"Incluir pie de página personalizado en las impresiones","config.sistema.titulo":"Configuraciones del Sistema","config.sistema.descricao":"Configuraciones técnicas y de rendimiento del sistema","config.backupAutomatico":"Copia de Seguridad Automática","config.backupAutomatico.descricao":"Realizar copias de seguridad automáticas de los datos","config.frequenciaBackup":"Frecuencia de Copia de Seguridad","config.frequenciaBackup.descricao":"Con qué frecuencia deben realizarse las copias de seguridad","config.frequencia.diario":"Diario","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensual","config.notificacoesEmail":"Notificaciones por Correo","config.notificacoesEmail.descricao":"Enviar notificaciones importantes por correo electrónico","config.cacheAtivo":"Caché Activo","config.cacheAtivo.descricao":"Activar sistema de caché para mejorar el rendimiento","config.logsAtivo":"Registros Activos","config.logsAtivo.descricao":"Mantener registros detallados de las actividades del sistema","msg.configuracoesSalvas":"¡Configuraciones guardadas exitosamente!","msg.configuracoesRestauradas":"¡Configuraciones restauradas a los valores predeterminados!","msg.descricaoRestaurada":"Todas las configuraciones han sido restauradas a los valores predeterminados.","msg.arquivoInvalido":"¡Archivo inválido! Por favor selecciona una imagen.","msg.logoRemovido":"¡Logo eliminado exitosamente!","msg.erroUpload":"Error en la carga. Inténtalo de nuevo.","common.salvar":"Guardar","common.cancelar":"Cancelar","config.logoDescricao":"Arrastra una imagen o haz clic para seleccionar","config.logoTipos":"PNG, JPG o GIF (máx. 5MB)","config.removerLogo":"Eliminar Logo","config.selecionarArquivo":"haz clic para seleccionar"},"zh-CN":{"nav.dashboard":"仪表板","nav.clientes":"客户","nav.os":"服务订单","nav.ov":"销售订单","nav.estoque":"库存","nav.financeiro":"财务","nav.relatorios":"报告","nav.configuracoes":"设置","config.titulo":"设置","config.descricao":"管理系统所有设置","config.salvar":"保存设置","config.restaurarPadroes":"恢复默认值","config.personalizacao.titulo":"系统个性化","config.personalizacao.descricao":"配置系统外观和视觉标识","config.tema":"主题","config.tema.descricao":"在浅色、深色或系统自动主题之间选择","config.tema.light":"浅色","config.tema.dark":"深色","config.tema.system":"系统","config.corPrimaria":"主色","config.corPrimaria.descricao":"按钮、链接和突出元素中使用的主色","config.corSecundaria":"副色","config.corSecundaria.descricao":"渐变和次要元素中使用的互补色","config.nomeEmpresa":"公司名称","config.nomeEmpresa.descricao":"将显示在系统标题和页眉中的名称","config.logoEmpresa":"公司标志","config.logoEmpresa.descricao":"将显示在系统页眉中的图像","config.idioma":"语言","config.idioma.descricao":"用户界面的主要语言","config.idioma.pt-BR":"葡萄牙语（巴西）","config.idioma.en-US":"英语（美国）","config.idioma.es-ES":"西班牙语","config.idioma.zh-CN":"中文（简体）","config.idioma ja-JP":"日语","config.usuarios.titulo":"用户设置","config.usuarios.descricao":"管理系统用户相关设置","config.permitirCadastro":"允许注册","config.permitirCadastro.descricao":"允许新用户在系统中注册","config.requerAprovacao":"需要批准","config.requerAprovacao.descricao":"新注册需要管理员批准","config.limiteUsuarios":"用户限制","config.limiteUsuarios.descricao":"系统中允许的最大用户数","config.notificacaoNovosUsuarios":"通知新用户","config.notificacaoNovosUsuarios.descricao":"新用户注册时发送通知","config.seguranca.titulo":"安全设置","config.seguranca.descricao":"配置安全和认证策略","config.autenticacaoDoisFatores":"双因素认证","config.autenticacaoDoisFatores.descricao":"登录需要第二认证因素","config.tempoSessao":"会话时间（分钟）","config.tempoSessao.descricao":"会话自动过期前的分钟数","config.tentativasLogin":"登录尝试","config.tentativasLogin.descricao":"阻塞前的登录尝试次数","config.bloqueioAutomatico":"自动锁定","config.bloqueioAutomatico.descricao":"失败尝试后自动阻塞","config.auditoriaAtivada":"启用审计","config.auditoriaAtivada.descricao":"记录系统中所有用户操作","config.impressao.titulo":"打印设置","config.impressao.descricao":"配置文档打印的默认选项","config.formatoPadrao":"默认格式","config.formatoPadrao.descricao":"打印的默认纸张格式","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"信纸","config.orientacao":"方向","config.orientacao.descricao":"打印的默认页面方向","config.orientacao.retrato":"纵向","config.orientacao.paisagem":"横向","config.margens":"边距","config.margens.descricao":"打印的默认边距配置","config.margens.normal":"正常","config.margens.estreita":"窄","config.margens.larga":"宽","config.cabecalhoPersonalizado":"自定义页眉","config.cabecalhoPersonalizado.descricao":"在打印中包含自定义页眉","config.rodapePersonalizado":"自定义页脚","config.rodapePersonalizado.descricao":"在打印中包含自定义页脚","config.sistema.titulo":"系统设置","config.sistema.descricao":"系统技术和性能设置","config.backupAutomatico":"自动备份","config.backupAutomatico.descricao":"执行数据自动备份","config.frequenciaBackup":"备份频率","config.frequenciaBackup.descricao":"备份应执行的频率","config.frequencia.diario":"每日","config.frequencia.semanal":"每周","config.frequencia.mensal":"每月","config.notificacoesEmail":"电子邮件通知","config.notificacoesEmail.descricao":"通过电子邮件发送重要通知","config.cacheAtivo":"缓存激活","config.cacheAtivo.descricao":"启用缓存系统以提高性能","config.logsAtivo":"日志激活","config.logsAtivo.descricao":"保持系统活动的详细记录","msg.configuracoesSalvas":"设置保存成功！","msg.configuracoesRestauradas":"设置已恢复为默认值！","msg.descricaoRestaurada":"所有设置已恢复为默认值。","msg.arquivoInvalido":"无效文件！请选择图片。","msg.logoRemovido":"标志移除成功！","msg.erroUpload":"上传错误。请重试。","common.salvar":"保存","common.cancelar":"取消","config.logoDescricao":"拖拽图片或点击选择","config.logoTipos":"PNG、JPG 或 GIF（最大 5MB）","config.removerLogo":"移除标志","config.selecionarArquivo":"点击选择"},"ja-JP":{"nav.dashboard":"ダッシュボード","nav.clientes":"クライアント","nav.os":"サービス注文","nav.ov":"販売注文","nav.estoque":"在庫","nav.financeiro":"財務","nav.relatorios":"レポート","nav.configuracoes":"設定","config.titulo":"設定","config.descricao":"システムのすべての設定を管理","config.salvar":"設定を保存","config.restaurarPadroes":"デフォルトに戻す","config.personalizacao.titulo":"システムパーソナライズ","config.personalizacao.descricao":"システムの外観と視覚的アイデンティティを構成","config.tema":"テーマ","config.tema.descricao":"ライト、ダーク、またはシステム自動テーマから選択","config.tema.light":"ライト","config.tema.dark":"ダーク","config.tema.system":"システム","config.corPrimaria":"プライマリカラー","config.corPrimaria.descricao":"ボタン、リンク、強調要素で使用されるメインカラー","config.corSecundaria":"セカンダリカラー","config.corSecundaria.descricao":"グラデーションとセカンダリ要素で使用される補完カラー","config.nomeEmpresa":"会社名","config.nomeEmpresa.descricao":"システムのタイトルとヘッダーに表示される名前","config.logoEmpresa":"会社のロゴ","config.logoEmpresa.descricao":"システムのヘッダーに表示される画像","config.idioma":"言語","config.idioma.descricao":"ユーザーインターフェースの主要言語","config.idioma.pt-BR":"ポルトガル語（ブラジル）","config.idioma.en-US":"英語（米国）","config.idioma.es-ES":"スペイン語","config.idioma.zh-CN":"中国語（簡体字）","config.idioma ja-JP":"日本語","config.usuarios.titulo":"ユーザー設定","config.usuarios.descricao":"システムユーザーの関連設定を管理","config.permitirCadastro":"登録を許可","config.permitirCadastro.descricao":"新しいユーザーがシステムに登録することを許可","config.requerAprovacao":"承認が必要","config.requerAprovacao.descricao":"新しい登録は管理者による承認が必要","config.limiteUsuarios":"ユーザーリミット","config.limiteUsuarios.descricao":"システムで許可される最大ユーザー数","config.notificacaoNovosUsuarios":"新規ユーザーに通知","config.notificacaoNovosUsuarios.descricao":"新しいユーザーが登録したときに通知を送信","config.seguranca.titulo":"セキュリティ設定","config.seguranca.descricao":"セキュリティと認証ポリシーを構成","config.autenticacaoDoisFatores":"二要素認証","config.autenticacaoDoisFatores.descricao":"ログインに第二認証要素が必要","config.tempoSessao":"セッション時間（分）","config.tempoSessao.descricao":"セッションが自動的に期限切れになるまでの分数","config.tentativasLogin":"ログイン試行","config.tentativasLogin.descricao":"ブロック前のログイン試行回数","config.bloqueioAutomatico":"自動ロック","config.bloqueioAutomatico.descricao":"失敗した試行後に自動的にブロック","config.auditoriaAtivada":"監査有効","config.auditoriaAtivada.descricao":"システム内のすべてのユーザー操作を記録","config.impressao.titulo":"印刷設定","config.impressao.descricao":"ドキュメント印刷のデフォルトオプションを構成","config.formatoPadrao":"デフォルトフォーマット","config.formatoPadrao.descricao":"印刷のデフォルト用紙フォーマット","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"レター","config.orientacao":"方向","config.orientacao.descricao":"印刷のデフォルトページ方向","config.orientacao.retrato":"縦","config.orientacao.paisagem":"横","config.margens":"マージン","config.margens.descricao":"印刷のデフォルトマージン構成","config.margens.normal":"標準","config.margens.estreita":"狭い","config.margens.larga":"広い","config.cabecalhoPersonalizado":"カスタムヘッダー","config.cabecalhoPersonalizado.descricao":"印刷にカスタムヘッダーを含める","config.rodapePersonalizado":"カスタムフッター","config.rodapePersonalizado.descricao":"印刷にカスタムフッターを含める","config.sistema.titulo":"システム設定","config.sistema.descricao":"システムの技術的およびパフォーマンス設定","config.backupAutomatico":"自動バックアップ","config.backupAutomatico.descricao":"データの自動バックアップを実行","config.frequenciaBackup":"バックアップ頻度","config.frequenciaBackup.descricao":"バックアップを実行する頻度","config.frequencia.diario":"毎日","config.frequencia.semanal":"毎週","config.frequencia.mensal":"毎月","config.notificacoesEmail":"メール通知","config.notificacoesEmail.descricao":"重要な通知をメールで送信","config.cacheAtivo":"キャッシュ有効","config.cacheAtivo.descricao":"パフォーマンス向上のためのキャッシュシステムを有効化","config.logsAtivo":"ログ有効","config.logsAtivo.descricao":"システム活動の詳細な記録を保持","msg.configuracoesSalvas":"設定が正常に保存されました！","msg.configuracoesRestauradas":"設定がデフォルト値に復元されました！","msg.descricaoRestaurada":"すべての設定がデフォルト値に復元されました。","msg.arquivoInvalido":"無効なファイルです！画像を選択してください。","msg.logoRemovido":"ロゴが正常に削除されました！","msg.erroUpload":"アップロードエラー。再試行してください。","common.salvar":"保存","common.cancelar":"キャンセル","config.logoDescricao":"画像をドラッグするかクリックして選択","config.logoTipos":"PNG、JPG、または GIF（最大 5MB）","config.removerLogo":"ロゴを削除","config.selecionarArquivo":"クリックして選択"}},Ce=(t,e="pt-BR")=>(TT[e]||TT["pt-BR"])[t]||t,zJ=()=>{g.useContext(mr);const{toast:t}=fr(),{usuarios:e,saveUsuario:n}=bc(),[r,s]=g.useState({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),[o,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(""),f=g.useRef(null),m=(D,F)=>{s(C=>({...C,[D]:F}))},p=D=>{D.preventDefault(),D.stopPropagation(),D.type==="dragenter"||D.type==="dragover"?c(!0):D.type==="dragleave"&&c(!1)},w=D=>{D.preventDefault(),D.stopPropagation(),c(!1),D.dataTransfer.files&&D.dataTransfer.files[0]&&y(D.dataTransfer.files[0])},y=D=>{if(D.type.startsWith("image/")){if(D.size>1048576){t({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const F=new FileReader;F.onload=C=>{S(C.target.result,E=>{d(E),s(P=>({...P,foto:E}))})},F.readAsDataURL(D)}else t({title:"Arquivo inválido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},S=(D,F)=>{const C=document.createElement("canvas"),E=C.getContext("2d"),P=new Image;P.onload=()=>{let{width:N,height:j}=P;N>j?N>200&&(j=j*200/N,N=200):j>200&&(N=N*200/j,j=200),C.width=N,C.height=j,E.drawImage(P,0,0,N,j);const k=C.toDataURL("image/jpeg",.7);F(k)},P.src=D},b=D=>{D.target.files&&D.target.files[0]&&y(D.target.files[0])},x=()=>{d(""),s(D=>({...D,foto:""})),f.current&&(f.current.value="")},_=()=>r.nome.trim()?r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?r.senha?r.senha.length<6?(t({title:"Erro de validação",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),!1):r.senha!==r.confirmarSenha?(t({title:"Erro de validação",description:"As senhas não coincidem.",variant:"destructive"}),!1):!0:(t({title:"Erro de validação",description:"A senha é obrigatória.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"Por favor, insira um email válido.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"O email é obrigatório.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"O nome é obrigatório.",variant:"destructive"}),!1),A=async D=>{if(D.preventDefault(),!!_()){i(!0);try{if(e.some(C=>C.email===r.email)){t({title:"Erro de validação",description:"Este email já está cadastrado.",variant:"destructive"}),i(!1);return}const F={nome:r.nome,email:r.email,senha:r.senha,telefone:r.telefone,endereco:r.endereco,tipo:r.tipoUsuario,foto:r.foto,status:"ativo",dataCriacao:new Date().toISOString(),ultimoAcesso:null};await n(F),t({title:"Usuário cadastrado!",description:`${r.nome} foi cadastrado com sucesso.`,variant:"default"}),s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")}catch(F){console.error("Erro ao cadastrar usuário:",F),t({title:"Erro ao cadastrar",description:"Ocorreu um erro ao cadastrar o usuário. Tente novamente.",variant:"destructive"})}finally{i(!1)}}};return a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5"}),"Informações Pessoais"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"nome",children:"Nome Completo *"}),a.jsx(me,{id:"nome",type:"text",value:r.nome,onChange:D=>m("nome",D.target.value),placeholder:"Digite o nome completo",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"email",children:"Email *"}),a.jsx(me,{id:"email",type:"email",value:r.email,onChange:D=>m("email",D.target.value),placeholder:"usuario@exemplo.com",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"telefone",children:"Telefone"}),a.jsx(me,{id:"telefone",type:"tel",value:r.telefone,onChange:D=>m("telefone",D.target.value),placeholder:"(11) 99999-9999"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"endereco",children:"Endereço"}),a.jsx(me,{id:"endereco",type:"text",value:r.endereco,onChange:D=>m("endereco",D.target.value),placeholder:"Rua, número, bairro, cidade"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(_I,{className:"h-5 w-5"}),"Foto do Usuário"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${l?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:w,children:u?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:u,alt:"Preview da foto",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),a.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:x,children:a.jsx(Cr,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var D;return(D=f.current)==null?void 0:D.click()},className:"mt-2",children:"Trocar imagem"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Jy,{className:"h-8 w-8 mx-auto text-slate-400"}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),a.jsx("p",{children:"ou"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var D;return(D=f.current)==null?void 0:D.click()},className:"mt-2",children:"Selecione uma imagem"})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF até 1MB"})]})}),a.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:b,className:"hidden"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(F0,{className:"h-5 w-5"}),"Informações de Acesso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"senha",children:"Senha *"}),a.jsx(me,{id:"senha",type:"password",value:r.senha,onChange:D=>m("senha",D.target.value),placeholder:"Mínimo 6 caracteres",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"confirmarSenha",children:"Confirmar Senha *"}),a.jsx(me,{id:"confirmarSenha",type:"password",value:r.confirmarSenha,onChange:D=>m("confirmarSenha",D.target.value),placeholder:"Digite a senha novamente",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"tipoUsuario",children:"Tipo de Usuário"}),a.jsxs(ct,{value:r.tipoUsuario,onValueChange:D=>m("tipoUsuario",D),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"comum",children:"Usuário Comum"}),a.jsx(se,{value:"financeiro",children:"Usuário Financeiro"}),a.jsx(se,{value:"administrador",children:"Administrador"})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")},disabled:o,children:"Limpar"}),a.jsx(Q,{type:"submit",disabled:o,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cadastrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(eu,{className:"h-4 w-4 mr-2"}),"Cadastrar Usuário"]})})]})]})},$J=({usuario:t,isOpen:e,onClose:n,onSave:r})=>{const{currentLanguage:s}=g.useContext(mr),{toast:o}=fr(),{saveUsuario:i}=bc(),[l,c]=g.useState({nome:"",email:"",telefone:"",tipo:"comum",foto:""}),[u,d]=g.useState(!1),[f,m]=g.useState({}),[p,w]=g.useState(!1),[y,S]=g.useState(""),b=g.useRef(null);g.useEffect(()=>{t&&(console.log("[EditarUsuarioModal] Inicializando com usuário:",t),c({nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}),S(t.foto||""),m({}),console.log("[EditarUsuarioModal] FormData inicializado:",{nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}))},[t]);const x=(V,L)=>{c(G=>({...G,[V]:L})),f[V]&&m(G=>({...G,[V]:""}))},_=V=>{V.preventDefault(),V.stopPropagation(),V.type==="dragenter"||V.type==="dragover"?w(!0):V.type==="dragleave"&&w(!1)},A=V=>{V.preventDefault(),V.stopPropagation(),w(!1),V.dataTransfer.files&&V.dataTransfer.files[0]&&D(V.dataTransfer.files[0])},D=V=>{if(V.type.startsWith("image/")){if(V.size>1048576){o({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const L=new FileReader;L.onload=G=>{F(G.target.result,B=>{S(B),c(O=>({...O,foto:B}))})},L.readAsDataURL(V)}else o({title:"Arquivo inválido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},F=(V,L)=>{const G=document.createElement("canvas"),B=G.getContext("2d"),O=new Image;O.onload=()=>{let{width:Z,height:Y}=O;Z>Y?Z>200&&(Y=Y*200/Z,Z=200):Y>200&&(Z=Z*200/Y,Y=200),G.width=Z,G.height=Y,B.drawImage(O,0,0,Z,Y);const de=G.toDataURL("image/jpeg",.7);L(de)},O.src=V},C=V=>{V.target.files&&V.target.files[0]&&D(V.target.files[0])},E=()=>{S(""),c(V=>({...V,foto:""})),b.current&&(b.current.value="")},P=V=>{const L=V.replace(/\D/g,"");return L.length<=11?L.replace(/(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3"):V},I=V=>{const L=P(V.target.value);x("telefone",L)},N=()=>{const V={};return l.nome.trim()?l.nome.trim().length<2&&(V.nome=Ce("usuarios.erros.nomeMinimo",s)):V.nome=Ce("usuarios.erros.nomeObrigatorio",s),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(V.email=Ce("usuarios.erros.emailInvalido",s)):V.email=Ce("usuarios.erros.emailObrigatorio",s),l.telefone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(l.telefone)&&(V.telefone=Ce("usuarios.erros.telefoneInvalido",s)),m(V),Object.keys(V).length===0},j=async V=>{if(V.preventDefault(),!!N()){d(!0);try{const L={...t,nome:l.nome.trim(),email:l.email.trim().toLowerCase(),telefone:l.telefone,tipo:l.tipo,foto:l.foto};console.log("[EditarUsuarioModal] Salvando usuário atualizado:",L),console.log("[EditarUsuarioModal] Foto atual:",l.foto),await i(L,t.id),o({title:Ce("usuarios.edicao.sucesso",s),description:Ce("usuarios.edicao.sucessoDescricao",s),variant:"default"}),r(L),n()}catch{o({title:Ce("usuarios.edicao.erro",s),description:Ce("usuarios.edicao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{d(!1)}}},k=()=>{u||n()};return t?a.jsx(dn,{open:e,onOpenChange:k,children:a.jsxs(Xt,{className:"sm:max-w-md",children:[a.jsxs(Jt,{children:[a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(ls,{className:"h-5 w-5"}),Ce("usuarios.edicao.titulo",s)]}),a.jsx(fp,{children:Ce("usuarios.edicao.descricao",s)})]}),a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(X,{htmlFor:"edit-nome",className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-4 w-4"}),Ce("usuarios.cadastro.form.nome",s)]}),a.jsx(me,{id:"edit-nome",type:"text",value:l.nome,onChange:V=>x("nome",V.target.value),placeholder:Ce("usuarios.cadastro.form.nomePlaceholder",s),className:f.nome?"border-red-500":""}),f.nome&&a.jsx("p",{className:"text-sm text-red-500",children:f.nome})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(X,{htmlFor:"edit-email",className:"flex items-center gap-2",children:[a.jsx(oi,{className:"h-4 w-4"}),Ce("usuarios.cadastro.form.email",s)]}),a.jsx(me,{id:"edit-email",type:"email",value:l.email,onChange:V=>x("email",V.target.value),placeholder:Ce("usuarios.cadastro.form.emailPlaceholder",s),className:f.email?"border-red-500":""}),f.email&&a.jsx("p",{className:"text-sm text-red-500",children:f.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(X,{htmlFor:"edit-telefone",className:"flex items-center gap-2",children:[a.jsx(ai,{className:"h-4 w-4"}),Ce("usuarios.cadastro.form.telefone",s)]}),a.jsx(me,{id:"edit-telefone",type:"tel",value:l.telefone,onChange:I,placeholder:Ce("usuarios.cadastro.form.telefonePlaceholder",s),className:f.telefone?"border-red-500":""}),f.telefone&&a.jsx("p",{className:"text-sm text-red-500",children:f.telefone})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(X,{htmlFor:"edit-tipo",className:"flex items-center gap-2",children:[a.jsx(zl,{className:"h-4 w-4"}),Ce("usuarios.cadastro.form.tipo",s)]}),a.jsxs(ct,{value:l.tipo,onValueChange:V=>x("tipo",V),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"comum",children:Ce("usuarios.tipos.comum",s)}),a.jsx(se,{value:"financeiro",children:Ce("usuarios.tipos.financeiro",s)}),a.jsx(se,{value:"admin",children:Ce("usuarios.tipos.admin",s)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(X,{className:"flex items-center gap-2",children:[a.jsx(_I,{className:"h-4 w-4"}),"Foto do Usuário"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${p?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:_,onDragLeave:_,onDragOver:_,onDrop:A,children:y?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:y,alt:"Preview da foto",className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),a.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0",onClick:E,children:a.jsx(Cr,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var V;return(V=b.current)==null?void 0:V.click()},className:"mt-1",children:"Trocar imagem"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Jy,{className:"h-6 w-6 mx-auto text-slate-400"}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),a.jsx("p",{children:"ou"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var V;return(V=b.current)==null?void 0:V.click()},className:"mt-1",children:"Selecione uma imagem"})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF até 1MB"})]})}),a.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:C,className:"hidden"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsxs(Q,{type:"button",variant:"outline",onClick:k,disabled:u,children:[a.jsx(Cr,{className:"h-4 w-4 mr-2"}),Ce("usuarios.edicao.cancelar",s)]}),a.jsx(Q,{type:"submit",disabled:u,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),Ce("usuarios.edicao.salvando",s)]}):a.jsxs(a.Fragment,{children:[a.jsx(CI,{className:"h-4 w-4 mr-2"}),Ce("usuarios.edicao.salvar",s)]})})]})]})]})}):null},BJ=({usuario:t,isOpen:e,onClose:n,onConfirm:r})=>{const{currentLanguage:s}=g.useContext(mr),{toast:o}=fr(),[i,l]=g.useState(!1),[c,u]=g.useState(""),d=async()=>{if(c!=="CONFIRMAR"){o({title:Ce("usuarios.remocao.erroConfirmacao",s),description:Ce("usuarios.remocao.erroConfirmacaoDescricao",s),variant:"destructive",duration:4e3});return}l(!0);try{await new Promise(p=>setTimeout(p,1500)),r(t.id)}catch{o({title:Ce("usuarios.remocao.erro",s),description:Ce("usuarios.remocao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{l(!1)}},f=()=>{i||(u(""),n())},m=p=>{u(p.target.value)};return t?a.jsx(dn,{open:e,onOpenChange:f,children:a.jsxs(Xt,{className:"sm:max-w-md",children:[a.jsxs(Jt,{children:[a.jsxs(en,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Fr,{className:"h-5 w-5"}),Ce("usuarios.remocao.titulo",s)]}),a.jsx(fp,{children:Ce("usuarios.remocao.descricao",s)})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-lg",children:t.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:t.nome}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-2 py-1 rounded",children:t.tipo==="admin"?Ce("usuarios.tipos.admin",s):t.tipo==="financeiro"?Ce("usuarios.tipos.financeiro",s):Ce("usuarios.tipos.comum",s)}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.status==="ativo"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300"}`,children:t.status==="ativo"?Ce("usuarios.status.ativo",s):Ce("usuarios.status.inativo",s)})]})]})]})}),a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Fr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:Ce("usuarios.remocao.aviso.titulo",s)}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:Ce("usuarios.remocao.aviso.descricao",s)}),a.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-2 list-disc list-inside space-y-1",children:[a.jsx("li",{children:Ce("usuarios.remocao.aviso.item1",s)}),a.jsx("li",{children:Ce("usuarios.remocao.aviso.item2",s)}),a.jsx("li",{children:Ce("usuarios.remocao.aviso.item3",s)})]})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.remocao.confirmacao.label",s)}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:Ce("usuarios.remocao.confirmacao.descricao",s)}),a.jsx("input",{type:"text",value:c,onChange:m,placeholder:Ce("usuarios.remocao.confirmacao.placeholder",s),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:i})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsxs(Q,{type:"button",variant:"outline",onClick:f,disabled:i,children:[a.jsx(Cr,{className:"h-4 w-4 mr-2"}),Ce("usuarios.remocao.cancelar",s)]}),a.jsx(Q,{onClick:d,disabled:i||c!=="CONFIRMAR",className:"bg-red-600 hover:bg-red-700 text-white",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),Ce("usuarios.remocao.removendo",s)]}):a.jsxs(a.Fragment,{children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),Ce("usuarios.remocao.confirmar",s)]})})]})]})]})}):null},qJ=({usuariosExternos:t,onAddUsuario:e})=>{const{currentLanguage:n}=g.useContext(mr),{toast:r}=fr(),{data:s,loading:o}=bc(),[i,l]=g.useState([]),[c,u]=g.useState(""),[d,f]=g.useState("todos"),[m,p]=g.useState("todos"),[w,y]=g.useState(!1),[S,b]=g.useState(!1),[x,_]=g.useState(null);g.useEffect(()=>{s&&s.length>0&&l(s)},[s]);const A=i.filter(j=>{const k=j.nome.toLowerCase().includes(c.toLowerCase()),V=d==="todos"||j.tipo===d,L=m==="todos"||j.status===m;return k&&V&&L});g.useEffect(()=>{l(t)},[t]),g.useEffect(()=>{const j=()=>{const V=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[UsuariosListagem] Usuários carregados do localStorage:",V);const L=V.map(G=>({...G,status:G.status||"ativo",ultimoAcesso:G.ultimoAcesso||new Date().toISOString(),tipo:G.tipo||G.tipoUsuario||"comum"}));l(L)};j();const k=()=>{j()};return window.addEventListener("storage",k),()=>{window.removeEventListener("storage",k)}},[]);const D=j=>{_(j),y(!0)},F=j=>{_(j),b(!0)},C=(j,k)=>{l(V=>V.map(L=>L.id===j?{...L,status:k}:L)),r({title:"Status alterado!",description:`Status do usuário alterado para ${k==="ativo"?"ativo":"inativo"}`,variant:"default",duration:3e3})},E=j=>{l(k=>k.filter(V=>V.id!==j)),b(!1),_(null),r({title:"Usuário removido!",description:"Usuário removido com sucesso do sistema",variant:"default",duration:3e3})},P=j=>{l(k=>k.map(V=>V.id===j.id?j:V)),y(!1),_(null),r({title:"Usuário atualizado!",description:"Dados do usuário atualizados com sucesso",variant:"default",duration:3e3})},I=j=>{const k={admin:{label:"Administrador",variant:"default"},financeiro:{label:"Financeiro",variant:"secondary"},comum:{label:"Comum",variant:"outline"}},V=k[j]||k.comum;return a.jsx(or,{variant:V.variant,children:V.label})},N=j=>a.jsx(or,{variant:j==="ativo"?"default":"destructive",children:j==="ativo"?"Ativo":"Inativo"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:Ce("usuarios.listagem.titulo",n)}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:Ce("usuarios.listagem.descricao",n)})]}),a.jsxs(an,{children:[a.jsx(vn,{children:a.jsxs(xn,{className:"flex items-center gap-2",children:[a.jsx(Xy,{className:"h-5 w-5"}),Ce("usuarios.filtros.titulo",n)]})}),a.jsx(ln,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:Ce("usuarios.busca",n)}),a.jsxs("div",{className:"relative",children:[a.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),a.jsx(me,{placeholder:Ce("usuarios.busca.placeholder",n),value:c,onChange:j=>u(j.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:Ce("usuarios.filtros.tipo",n)}),a.jsxs(ct,{value:d,onValueChange:f,children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"todos",children:Ce("usuarios.filtros.todos",n)}),a.jsx(se,{value:"admin",children:Ce("usuarios.tipos.admin",n)}),a.jsx(se,{value:"financeiro",children:Ce("usuarios.tipos.financeiro",n)}),a.jsx(se,{value:"comum",children:Ce("usuarios.tipos.comum",n)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:Ce("usuarios.filtros.status",n)}),a.jsxs(ct,{value:m,onValueChange:p,children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"todos",children:Ce("usuarios.filtros.todos",n)}),a.jsx(se,{value:"ativo",children:Ce("usuarios.status.ativo",n)}),a.jsx(se,{value:"inativo",children:Ce("usuarios.status.inativo",n)})]})]})]})]})})]}),a.jsxs(an,{children:[a.jsx(vn,{children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx(xn,{children:Ce("usuarios.lista.titulo",n)}),a.jsx(ei,{children:o?"Carregando usuários...":`${Ce("usuarios.lista.descricao",n)} (${A.length} ${A.length===1?"usuário":"usuários"})`})]})})}),a.jsx(ln,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.nome",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.email",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.tipo",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.status",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.ultimoAcesso",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.acoes",n)})]})}),a.jsx("tbody",{children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Carregando usuários..."})}):A.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhum usuário encontrado"})}):A.map(j=>a.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[j.foto?a.jsx("img",{src:j.foto,alt:j.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold",children:j.nome.charAt(0).toUpperCase()}),a.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:j.nome})]})}),a.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:j.email}),a.jsx("td",{className:"p-4",children:I(j.tipo)}),a.jsx("td",{className:"p-4",children:N(j.status)}),a.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:new Date(j.ultimoAcesso).toLocaleDateString("pt-BR")}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>D(j),className:"hover:bg-blue-50 hover:border-blue-200",children:a.jsx(ls,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>C(j.id,j.status==="ativo"?"inativo":"ativo"),className:j.status==="ativo"?"hover:bg-red-50 hover:border-red-200":"hover:bg-green-50 hover:border-green-200",children:j.status==="ativo"?a.jsx(e9,{className:"h-4 w-4"}):a.jsx(J5,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>F(j),className:"hover:bg-red-50 hover:border-red-200",children:a.jsx(cs,{className:"h-4 w-4"})})]})})]},j.id))})]})})})]}),w&&x&&a.jsx($J,{usuario:x,isOpen:w,onClose:()=>y(!1),onSave:P}),S&&x&&a.jsx(BJ,{usuario:x,isOpen:S,onClose:()=>b(!1),onConfirm:E})]})},WJ=({usuarioLogado:t})=>{g.useContext(mr);const{toast:e}=fr(),{config:n,loading:r,saveConfig:s}=jb(),{config:o,saveConfig:i}=Tb();bc();const[l,c]=g.useState("usuarios"),[u,d]=g.useState({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0}),[f,m]=g.useState({nomeEmpresa:"",descricao:"",endereco:"",telefone:"",whatsapp:"",cnpj:"",email:"",site:"",logo:""}),[p,w]=g.useState(!1),[y,S]=g.useState("");g.useEffect(()=>{n&&d(C=>({...C,...n}))},[n]),g.useEffect(()=>{o&&m({nomeEmpresa:o.nomeEmpresa||"",descricao:o.descricao||"",endereco:o.endereco||"",telefone:o.telefone||"",whatsapp:o.whatsapp||"",cnpj:o.cnpj||"",email:o.email||"",site:o.site||"",logo:o.logo||""})},[o]),g.useEffect(()=>{n&&S(n.logo||"")},[n]);const b=(C,E)=>{d(P=>({...P,[C]:E}))},x=(C,E)=>{m(P=>({...P,[C]:E}))},_=C=>{const E=C.target.files[0];if(E){const P=new FileReader;P.onload=I=>{const N=I.target.result;S(N),d(j=>({...j,logo:N}))},P.readAsDataURL(E)}},A=()=>{S(""),d(C=>({...C,logo:""}))},D=async()=>{if(!f.nomeEmpresa||!f.endereco||!f.telefone){e({title:"Erro",description:"Na aba 'Loja': Nome da empresa, endereço e telefone são obrigatórios!",variant:"destructive"});return}w(!0);try{await s(u),await i(f),e({title:"Sucesso!",description:"Todas as configurações foram salvas com sucesso!"})}catch(C){console.error("Erro ao salvar configurações:",C),e({title:"Erro",description:"Erro ao salvar configurações. Tente novamente.",variant:"destructive"})}finally{w(!1)}},F=()=>{d({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0})};return r?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),a.jsx("p",{className:"ml-4 text-lg text-slate-600 dark:text-slate-400",children:"Carregando configurações..."})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:a.jsx(ra,{className:"h-10 w-10"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Configurações do Sistema"}),a.jsx("p",{className:"text-purple-100 text-lg",children:"Gerencie todas as configurações e preferências"})]})]})}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsxs(ql,{defaultValue:"loja",className:"w-full",children:[a.jsxs(_i,{className:"grid w-full grid-cols-6 bg-slate-100 dark:bg-slate-700/50 rounded-none border-b border-slate-200 dark:border-slate-600",children:[a.jsxs(Sn,{value:"loja",className:"flex items-center gap-2",children:[a.jsx(zg,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Loja"})]}),a.jsxs(Sn,{value:"personalizacao",className:"flex items-center gap-2",children:[a.jsx($g,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Personalização"})]}),a.jsxs(Sn,{value:"usuarios",className:"flex items-center gap-2",children:[a.jsx(os,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Usuários"})]}),a.jsxs(Sn,{value:"seguranca",className:"flex items-center gap-2",children:[a.jsx(zl,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Segurança"})]}),a.jsxs(Sn,{value:"impressao",className:"flex items-center gap-2",children:[a.jsx(Hu,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Impressão"})]}),a.jsxs(Sn,{value:"sistema",className:"flex items-center gap-2",children:[a.jsx(Yf,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sistema"})]})]}),a.jsxs(Cn,{value:"loja",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(zg,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações da Loja"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure os dados da sua empresa que aparecerão nos documentos impressos (ordens de serviço, orçamentos, etc.)"})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(zg,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações Básicas"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"loja-nomeEmpresa",children:"Nome da Empresa *"}),a.jsx(me,{id:"loja-nomeEmpresa",value:f.nomeEmpresa,onChange:C=>x("nomeEmpresa",C.target.value),placeholder:"Ex: MultiSmart",className:"h-12",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecerá nos documentos impressos (ordens de serviço, orçamentos)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"loja-descricao",children:"Descrição dos Serviços"}),a.jsx(me,{id:"loja-descricao",value:f.descricao,onChange:C=>x("descricao",C.target.value),placeholder:"Ex: Manutenção e Comércio de Celulares e Tablets",className:"h-12"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Descrição que aparecerá abaixo do nome da empresa nos documentos"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(ai,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações de Contato"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(X,{htmlFor:"loja-telefone",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(ai,{className:"h-4 w-4"}),"Telefone *"]}),a.jsx(me,{id:"loja-telefone",value:f.telefone,onChange:C=>x("telefone",C.target.value),placeholder:"(17) 3345-1016",className:"h-12",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Telefone que aparecerá nos documentos impressos"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(X,{htmlFor:"loja-whatsapp",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(G5,{className:"h-4 w-4"}),"WhatsApp"]}),a.jsx(me,{id:"loja-whatsapp",value:f.whatsapp,onChange:C=>x("whatsapp",C.target.value),placeholder:"(17) 99157-1263",className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(X,{htmlFor:"loja-email",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(oi,{className:"h-4 w-4"}),"E-mail"]}),a.jsx(me,{id:"loja-email",type:"email",value:f.email,onChange:C=>x("email",C.target.value),placeholder:"contato@multismart.com",className:"h-12"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(X,{htmlFor:"loja-site",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(bI,{className:"h-4 w-4"}),"Site/URL"]}),a.jsx(me,{id:"loja-site",value:f.site,onChange:C=>x("site",C.target.value),placeholder:"https://www.multismart.com",className:"h-12"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Qf,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Endereço"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"loja-endereco",children:"Endereço Completo *"}),a.jsx(Qu,{id:"loja-endereco",value:f.endereco,onChange:C=>x("endereco",C.target.value),placeholder:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",rows:3,className:"resize-none",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Endereço completo que aparecerá nos documentos impressos"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Sr,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Documentos"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"loja-cnpj",children:"CNPJ"}),a.jsx(me,{id:"loja-cnpj",value:f.cnpj,onChange:C=>x("cnpj",C.target.value),placeholder:"47.309.271/0001-97",className:"h-12"})]})]})]})]}),a.jsxs(Cn,{value:"personalizacao",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx($g,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Personalização do Sistema"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure a aparência visual do sistema (cores, tema, idioma) e o nome que aparece no cabeçalho da interface"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Kf,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Logo do Sistema"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(X,{className:"text-sm font-medium",children:"Upload do Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(me,{type:"file",accept:"image/*",onChange:_,className:"flex-1"}),a.jsxs(Q,{type:"button",variant:"outline",onClick:()=>document.querySelector('input[type="file"]').click(),children:[a.jsx(Jy,{className:"h-4 w-4 mr-2"}),"Escolher"]})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Logo que aparecerá no cabeçalho do sistema. Formatos aceitos: JPG, PNG, GIF. Tamanho recomendado: 200x200px"})]}),y&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y,alt:"Preview do logo",className:"w-24 h-24 object-contain border-2 border-slate-200 dark:border-slate-700 rounded-lg"}),a.jsx(Q,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:A,children:a.jsx(Cr,{className:"h-3 w-3"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs(an,{children:[a.jsxs(vn,{children:[a.jsxs(xn,{className:"flex items-center gap-2",children:[a.jsx($g,{className:"h-5 w-5"}),"Aparência"]}),a.jsx(ei,{children:"Configure cores e tema do sistema"})]}),a.jsxs(ln,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Tema"}),a.jsxs(ct,{value:u.tema,onValueChange:C=>b("tema",C),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"light",children:"Claro"}),a.jsx(se,{value:"dark",children:"Escuro"}),a.jsx(se,{value:"system",children:"Sistema"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Cor Primária"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(me,{type:"color",value:u.corPrimaria,onChange:C=>b("corPrimaria",C.target.value),className:"w-16 h-10 p-1 border rounded"}),a.jsx(me,{value:u.corPrimaria,onChange:C=>b("corPrimaria",C.target.value),className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Cor Secundária"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(me,{type:"color",value:u.corSecundaria,onChange:C=>b("corSecundaria",C.target.value),className:"w-16 h-10 p-1 border rounded"}),a.jsx(me,{value:u.corSecundaria,onChange:C=>b("corSecundaria",C.target.value),className:"flex-1"})]})]})]})]})]}),a.jsxs(an,{children:[a.jsxs(vn,{children:[a.jsxs(xn,{className:"flex items-center gap-2",children:[a.jsx(ra,{className:"h-5 w-5"}),"Sistema"]}),a.jsx(ei,{children:"Configurações gerais do sistema"})]}),a.jsxs(ln,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{htmlFor:"nomeEmpresa",children:"Nome da Empresa"}),a.jsx(me,{id:"nomeEmpresa",value:u.nomeEmpresa,onChange:C=>b("nomeEmpresa",C.target.value),placeholder:"Nome da empresa"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecerá no cabeçalho da interface do sistema"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Idioma"}),a.jsxs(ct,{value:u.idioma,onValueChange:C=>b("idioma",C),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"pt-BR",children:"Português (Brasil)"}),a.jsx(se,{value:"en-US",children:"English (US)"}),a.jsx(se,{value:"es-ES",children:"Español"})]})]})]})]})]})]})]}),a.jsxs(Cn,{value:"usuarios",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(os,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Gerenciamento de Usuários"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure como novos usuários podem se cadastrar no sistema e gerencie usuários existentes"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(an,{children:[a.jsxs(vn,{children:[a.jsx(xn,{children:"Configurações de Usuários"}),a.jsx(ei,{children:"Configure como os usuários interagem com o sistema"})]}),a.jsxs(ln,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(X,{children:"Permitir Cadastro"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Permite que novos usuários se cadastrem"})]}),a.jsx(_s,{checked:u.permitirCadastro,onCheckedChange:C=>b("permitirCadastro",C)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(X,{children:"Requer Aprovação"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Novos cadastros precisam de aprovação"})]}),a.jsx(_s,{checked:u.requerAprovacao,onCheckedChange:C=>b("requerAprovacao",C)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Limite de Usuários"}),a.jsx(me,{type:"number",value:u.limiteUsuarios,onChange:C=>b("limiteUsuarios",parseInt(C.target.value)),min:"1",max:"100"})]})]})]}),a.jsxs(an,{children:[a.jsxs(vn,{children:[a.jsx(xn,{children:"Usuários do Sistema"}),a.jsx(ei,{children:"Gerencie usuários existentes"})]}),a.jsx(ln,{children:a.jsxs(ql,{value:l,onValueChange:c,children:[a.jsxs(_i,{className:"grid w-full grid-cols-2",children:[a.jsx(Sn,{value:"usuarios",children:"Usuários"}),a.jsx(Sn,{value:"cadastro",children:"Novo Usuário"})]}),a.jsx(Cn,{value:"usuarios",className:"mt-4",children:a.jsx(qJ,{usuarioLogado:t})}),a.jsx(Cn,{value:"cadastro",className:"mt-4",children:a.jsx(zJ,{})})]})})]})]})]}),a.jsxs(Cn,{value:"seguranca",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(zl,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações de Segurança"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure autenticação de dois fatores, tempo de sessão, tentativas de login e monitoramento de atividades"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(an,{children:[a.jsx(vn,{children:a.jsx(xn,{children:"Autenticação"})}),a.jsxs(ln,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(X,{children:"2FA (Dois Fatores)"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Autenticação de dois fatores"})]}),a.jsx(_s,{checked:u.autenticacaoDoisFatores,onCheckedChange:C=>b("autenticacaoDoisFatores",C)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Tempo de Sessão (minutos)"}),a.jsx(me,{type:"number",value:u.tempoSessao,onChange:C=>b("tempoSessao",parseInt(C.target.value)),min:"5",max:"480"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Tentativas de Login"}),a.jsx(me,{type:"number",value:u.tentativasLogin,onChange:C=>b("tentativasLogin",parseInt(C.target.value)),min:"1",max:"10"})]})]})]}),a.jsxs(an,{children:[a.jsx(vn,{children:a.jsx(xn,{children:"Monitoramento"})}),a.jsxs(ln,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(X,{children:"Bloqueio Automático"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bloqueia após tentativas falhadas"})]}),a.jsx(_s,{checked:u.bloqueioAutomatico,onCheckedChange:C=>b("bloqueioAutomatico",C)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(X,{children:"Auditoria Ativada"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra ações dos usuários"})]}),a.jsx(_s,{checked:u.auditoriaAtivada,onCheckedChange:C=>b("auditoriaAtivada",C)})]})]})]})]})]}),a.jsxs(Cn,{value:"impressao",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Hu,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações de Impressão"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure o formato, orientação, margens e fonte dos documentos que serão impressos (ordens de serviço, orçamentos, etc.)"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(an,{children:[a.jsx(vn,{children:a.jsx(xn,{children:"Formato do Documento"})}),a.jsxs(ln,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Formato Padrão"}),a.jsxs(ct,{value:u.formatoPadrao,onValueChange:C=>b("formatoPadrao",C),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"A4",children:"A4"}),a.jsx(se,{value:"A3",children:"A3"}),a.jsx(se,{value:"Letter",children:"Letter"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Orientação"}),a.jsxs(ct,{value:u.orientacaoPadrao,onValueChange:C=>b("orientacaoPadrao",C),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"retrato",children:"Retrato"}),a.jsx(se,{value:"paisagem",children:"Paisagem"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Margem (cm)"}),a.jsx(me,{type:"number",value:u.margemPadrao,onChange:C=>b("margemPadrao",parseFloat(C.target.value)),min:"0.5",max:"5",step:"0.1"})]})]})]}),a.jsxs(an,{children:[a.jsx(vn,{children:a.jsx(xn,{children:"Fonte e Estilo"})}),a.jsxs(ln,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Fonte Padrão"}),a.jsxs(ct,{value:u.fontePadrao,onValueChange:C=>b("fontePadrao",C),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"Arial",children:"Arial"}),a.jsx(se,{value:"Times New Roman",children:"Times New Roman"}),a.jsx(se,{value:"Calibri",children:"Calibri"}),a.jsx(se,{value:"Helvetica",children:"Helvetica"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Tamanho da Fonte"}),a.jsx(me,{type:"number",value:u.tamanhoFonte,onChange:C=>b("tamanhoFonte",parseInt(C.target.value)),min:"8",max:"24"})]})]})]})]})]}),a.jsxs(Cn,{value:"sistema",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Yf,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações do Sistema"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure backup automático, frequência de backup, retenção de dados e monitoramento do sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(an,{children:[a.jsx(vn,{children:a.jsx(xn,{children:"Backup e Recuperação"})}),a.jsxs(ln,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(X,{children:"Backup Automático"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Backup automático dos dados"})]}),a.jsx(_s,{checked:u.backupAutomatico,onCheckedChange:C=>b("backupAutomatico",C)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Frequência do Backup"}),a.jsxs(ct,{value:u.frequenciaBackup,onValueChange:C=>b("frequenciaBackup",C),children:[a.jsx(rt,{children:a.jsx(ut,{})}),a.jsxs(st,{children:[a.jsx(se,{value:"hora",children:"A cada hora"}),a.jsx(se,{value:"diario",children:"Diário"}),a.jsx(se,{value:"semanal",children:"Semanal"}),a.jsx(se,{value:"mensal",children:"Mensal"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(X,{children:"Retenção (dias)"}),a.jsx(me,{type:"number",value:u.retencaoBackup,onChange:C=>b("retencaoBackup",parseInt(C.target.value)),min:"1",max:"365"})]})]})]}),a.jsxs(an,{children:[a.jsx(vn,{children:a.jsx(xn,{children:"Monitoramento"})}),a.jsxs(ln,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(X,{children:"Logs Ativados"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra atividades do sistema"})]}),a.jsx(_s,{checked:u.logsAtivados,onCheckedChange:C=>b("logsAtivados",C)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(X,{children:"Monitoramento Ativo"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monitora performance do sistema"})]}),a.jsx(_s,{checked:u.monitoramentoAtivo,onCheckedChange:C=>b("monitoramentoAtivo",C)})]})]})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50",children:[a.jsx(Q,{onClick:D,disabled:p,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 h-12 text-lg",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(CI,{className:"h-5 w-5 mr-2"}),"Salvar Todas as Configurações"]})}),a.jsxs(Q,{onClick:F,variant:"outline",className:"h-12 px-8",children:[a.jsx(SI,{className:"h-5 w-5 mr-2"}),"Restaurar Padrões"]})]})]})]})},jT=()=>{const{openDialog:t,setActiveModule:e,definirProdutoParaReporEstoque:n,darkMode:r}=g.useContext(mr),{data:s,loading:o}=wc(),{data:i,loading:l}=Fp(),{data:c,loading:u}=Dd(),{data:d,loading:f}=Md(),{data:m,loading:p}=Od(),{data:w,loading:y}=Ld(),[S,b]=g.useState({clientes:0,os:0,ov:0,produtos:0,contasReceber:0,contasPagar:0,estoqueCritico:0,osPendentes:0,osConcluidas:0,faturamentoMes:0}),[x,_]=g.useState(!1);g.useEffect(()=>{var N,j;if(console.log("[Dashboard] ===== ATUALIZANDO ESTATÍSTICAS ====="),console.log("[Dashboard] Dados recebidos:",{clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,financeiro:(w==null?void 0:w.length)||0}),!o&&!l&&!u&&!f&&!y){const k=((N=w==null?void 0:w.filter(z=>z.tipo==="receber"&&z.status==="Pendente"))==null?void 0:N.reduce((z,Z)=>z+(Z.valor||0),0))||0,V=((j=w==null?void 0:w.filter(z=>z.tipo==="pagar"&&z.status==="Pendente"))==null?void 0:j.reduce((z,Z)=>z+(Z.valor||0),0))||0,L=(d==null?void 0:d.filter(z=>z.quantidade<=(z.estoqueMinimo||5)).length)||0,G=(i==null?void 0:i.filter(z=>z.status==="Pendente").length)||0,B=(i==null?void 0:i.filter(z=>z.status==="Concluída").length)||0,O=(i==null?void 0:i.filter(z=>{const Z=new Date(z.createdAt),Y=new Date().getMonth(),de=new Date().getFullYear();return z.status==="Concluída"&&Z.getMonth()===Y&&Z.getFullYear()===de}).reduce((z,Z)=>z+(Z.valor||0),0))||0;b({clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:k,contasPagar:V,estoqueCritico:L,osPendentes:G,osConcluidas:B,faturamentoMes:O}),console.log("[Dashboard] Estatísticas calculadas:",{clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:k,contasPagar:V,estoqueCritico:L,osPendentes:G,osConcluidas:B,faturamentoMes:O})}},[s,i,c,d,m,w,o,l,u,f,p,y]);const A=[{title:"Clientes",value:S.clientes,icon:os,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",change:"+12%",changeType:"positive"},{title:"Ordens de Serviço",value:S.os,icon:Sr,color:"from-green-500 to-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",change:"+8%",changeType:"positive"},{title:"Ordens de Venda",value:S.ov,icon:es,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",change:"+15%",changeType:"positive"},{title:"Produtos",value:S.produtos,icon:Qn,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",change:"+5%",changeType:"positive"}],D=[{title:"Contas a Receber",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.contasReceber),icon:Kn,color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",change:"+R$ 2.500",changeType:"positive"},{title:"Contas a Pagar",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.contasPagar),icon:Xa,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",change:"-R$ 1.200",changeType:"negative"},{title:"Faturamento do Mês",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.faturamentoMes),icon:Yn,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",change:"+R$ 5.800",changeType:"positive"}],F=[{title:"OS Pendentes",value:S.osPendentes,icon:Lo,color:"from-amber-500 to-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",isAlert:S.osPendentes>5,alertMessage:"Muitas OS pendentes!"},{title:"Estoque Crítico",value:S.estoqueCritico,icon:Fr,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",isAlert:S.estoqueCritico>0,alertMessage:"Produtos com estoque baixo!"}],C=[{title:"Nova OS",description:"Criar nova ordem de serviço",icon:Sr,color:"from-blue-500 to-blue-600",action:()=>E("os","os"),badge:"Popular"},{title:"Novo Cliente",description:"Cadastrar novo cliente",icon:os,color:"from-green-500 to-green-600",action:()=>E("clientes","clientes")},{title:"Nova Venda",description:"Criar nova ordem de venda",icon:es,color:"from-purple-500 to-purple-600",action:()=>E("ov","ov")},{title:"Adicionar Produto",description:"Cadastrar novo produto",icon:Qn,color:"from-orange-500 to-orange-600",action:()=>E("estoque","produto")},{title:"Movimentação",description:"Entrada/Saída de estoque",icon:O0,color:"from-teal-500 to-teal-600",action:()=>E("estoque","movimentacao")},{title:"Relatórios",description:"Ver relatórios e análises",icon:As,color:"from-indigo-500 to-indigo-600",action:()=>E("relatorios")}],E=(N,j)=>{e(N),j&&setTimeout(()=>t(j),50),console.log("[Dashboard] Ação rápida:",N,j)},P=N=>{n(N),e("estoque"),setTimeout(()=>{t("movimentacao")},50),_(!1)},I=o||l||u||f||p||y;return a.jsxs("div",{className:"space-y-8",children:[a.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[a.jsx(As,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Dashboard"]}),a.jsx("p",{className:"text-blue-100 text-base lg:text-lg",children:I?"Carregando dados...":"Visão geral do seu sistema CRM"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Hoje"}),a.jsx("p",{className:"text-xl font-bold",children:new Date().toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Status"}),a.jsx("p",{className:"text-xl font-bold text-green-200",children:"Online"})]})]})]})}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg",children:a.jsx(Gu,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Acesse rapidamente as funcionalidades mais utilizadas"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map((N,j)=>{const k=N.icon;return a.jsxs(Te.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1+j*.1},onClick:N.action,className:"group relative bg-white dark:bg-slate-700 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-left",children:[N.badge&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:N.badge}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${N.color} group-hover:scale-110 transition-transform duration-300`,children:a.jsx(k,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:N.title}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:N.description})]}),a.jsx(Ug,{className:"h-5 w-5 text-slate-400 group-hover:text-blue-500 transition-colors"})]})]},N.title)})})})]}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jc,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Estatísticas Principais"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:A.map((N,j)=>{const k=N.icon;return a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2+j*.1},className:`${N.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${N.color}`,children:a.jsx(k,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[N.changeType==="positive"?a.jsx(Ug,{className:"h-4 w-4 text-green-500"}):a.jsx($S,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:`font-medium ${N.changeType==="positive"?"text-green-600":"text-red-600"}`,children:N.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:N.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:N.title})]})]},N.title)})})]}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Yn,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Financeiro"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:D.map((N,j)=>{const k=N.icon;return a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+j*.1},className:`${N.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${N.color}`,children:a.jsx(k,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[N.changeType==="positive"?a.jsx(Ug,{className:"h-4 w-4 text-green-500"}):a.jsx($S,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:`font-medium ${N.changeType==="positive"?"text-green-600":"text-red-600"}`,children:N.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:N.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:N.title})]})]},N.title)})})]}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Fr,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Alertas e Status"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:F.map((N,j)=>{const k=N.icon;return a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+j*.1},className:`${N.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${N.isAlert?"ring-2 ring-amber-400 ring-opacity-50":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${N.color}`,children:a.jsx(k,{className:"h-6 w-6 text-white"})}),N.isAlert&&a.jsx("div",{className:"flex items-center gap-1 text-sm",children:a.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-full text-xs font-medium",children:"Atenção"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:N.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:N.title}),N.isAlert&&N.value>0&&a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:N.alertMessage})]})]},N.title)})})]}),a.jsx(dn,{open:x,onOpenChange:_,children:a.jsxs(Xt,{className:"sm:max-w-md",children:[a.jsx(Jt,{children:a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(Fr,{className:"h-5 w-5 text-amber-500"}),"Estoque Crítico"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Os seguintes produtos estão com estoque baixo:"}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d==null?void 0:d.filter(N=>N.quantidade<=(N.estoqueMinimo||5)).map(N=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:N.nome}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Estoque: ",N.quantidade," | Mínimo: ",N.estoqueMinimo||5]})]}),a.jsx(Q,{size:"sm",onClick:()=>P(N),className:"bg-blue-600 hover:bg-blue-700",children:"Repor"})]},N.id))})]})]})})]})},HJ=({onLogin:t})=>{const{toast:e}=fr(),{usuarios:n,saveUsuario:r,loading:s,error:o}=bc();console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o});const[i,l]=g.useState({email:"",senha:""}),[c,u]=g.useState(()=>localStorage.getItem("crm_lembrar_email")==="true");g.useEffect(()=>{if(c){const N=localStorage.getItem("crm_email_salvo")||"";l(j=>({...j,email:N}))}},[c]);const[d,f]=g.useState(!1),[m,p]=g.useState(!1),[w,y]=g.useState({nome:"",email:"",senha:"",tipo:"comum",foto:""}),[S,b]=g.useState(!1),[x,_]=g.useState(!1),A=N=>{l({...i,[N.target.name]:N.target.value})},D=N=>{y({...w,[N.target.name]:N.target.value})},F=N=>{const j=N.target.files[0];if(!j)return;if(j.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const k=new FileReader;k.onload=()=>{E(k.result,V=>{y(L=>({...L,foto:V}))})},k.readAsDataURL(j)},C=N=>{N.preventDefault(),_(!1);const j=N.dataTransfer.files[0];if(j){if(j.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const k=new FileReader;k.onload=()=>{E(k.result,V=>{y(L=>({...L,foto:V}))})},k.readAsDataURL(j)}},E=(N,j)=>{const k=document.createElement("canvas"),V=k.getContext("2d"),L=new Image;L.onload=()=>{let{width:B,height:O}=L;B>O?B>200&&(O=O*200/B,B=200):O>200&&(B=B*200/O,O=200),k.width=B,k.height=O,V.drawImage(L,0,0,B,O);const z=k.toDataURL("image/jpeg",.7);j(z)},L.src=N},P=N=>{if(N.preventDefault(),f(!0),console.log("[Login] ===== INÍCIO DO LOGIN ====="),console.log("[Login] Tentando fazer login com:",{email:i.email,senha:i.senha}),i.senha==="dev102030"&&(!i.email||i.email.trim()==="")){console.log("[Login] 🚀 LOGIN DESENVOLVEDOR DETECTADO!");const k={id:"dev-user",nome:"Desenvolvedor Sistema",email:"dev@test.com",senha:"dev102030",tipo:"desenvolvedor",status:"ativo",foto:null,createdAt:new Date().toISOString()};localStorage.setItem("crm_usuario_logado",JSON.stringify(k)),console.log("[Login] Usuário desenvolvedor criado:",k),e({title:"🚀 Login Desenvolvedor",description:"Acesso completo ao sistema de testes!"}),f(!1),t&&t(k),console.log("[Login] ===== LOGIN DESENVOLVEDOR CONCLUÍDO =====");return}if(console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o}),console.log("[Login] Lista de usuários disponível:",n),console.log("[Login] Total de usuários:",n?n.length:0),console.log("[Login] Loading state:",s),console.log("[Login] Error state:",o),s){console.log("[Login] Ainda carregando usuários, aguardando..."),e({title:"Carregando usuários...",description:"Aguarde um momento.",variant:"default"}),f(!1);return}if(o){console.error("[Login] Erro ao carregar usuários:",o),e({title:"Erro de conexão!",description:"Não foi possível carregar os usuários. Verifique sua conexão.",variant:"destructive"}),f(!1);return}if(!n||!Array.isArray(n)){console.error("[Login] Lista de usuários não está disponível:",n),e({title:"Erro de conexão!",description:"Não foi possível carregar os usuários. Verifique sua conexão.",variant:"destructive"}),f(!1);return}if(n.length===0){console.log("[Login] Nenhum usuário cadastrado no sistema"),e({title:"Nenhum usuário cadastrado!",description:"Você precisa registrar um usuário primeiro.",variant:"destructive"}),f(!1);return}const j=n.find(k=>k.email===i.email&&k.senha===i.senha);if(!j){console.log("[Login] Usuário não encontrado para:",i.email),console.log("[Login] Usuários disponíveis:",n.map(k=>({email:k.email,nome:k.nome}))),e({title:"E-mail ou senha inválidos!",variant:"destructive"}),f(!1);return}console.log("[Login] Usuário encontrado:",j),localStorage.setItem("crm_usuario_logado",JSON.stringify(j)),c?(localStorage.setItem("crm_email_salvo",i.email),localStorage.setItem("crm_lembrar_email","true")):(localStorage.removeItem("crm_email_salvo"),localStorage.setItem("crm_lembrar_email","false")),console.log("[Login] Chamando onLogin com usuário:",j),console.log("[Login] onLogin existe?",!!t),e({title:"Login realizado com sucesso!"}),f(!1),t?(console.log("[Login] onLogin existe, chamando..."),t(j)):console.error("[Login] onLogin não existe!"),console.log("[Login] ===== FIM DO LOGIN =====")},I=async N=>{N.preventDefault(),console.log("[Login] Iniciando registro...",w),b(!0);try{if(!w.nome||!w.email||!w.senha){console.log("[Login] Campos obrigatórios não preenchidos"),e({title:"Preencha todos os campos!",variant:"destructive"}),b(!1);return}if(w.senha.length<6){console.log("[Login] Senha muito curta"),e({title:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),b(!1);return}if(n&&n.some(L=>L.email===w.email)){console.log("[Login] Email já cadastrado"),e({title:"E-mail já cadastrado!",variant:"destructive"}),b(!1);return}const j={nome:w.nome,email:w.email,senha:w.senha,tipo:w.tipo,foto:w.foto,status:"ativo",ultimoAcesso:null};console.log("[Login] FormData completo:",w),console.log("[Login] Tipo selecionado:",w.tipo),console.log("[Login] Salvando usuário:",j);const k=await r(j);console.log("[Login] Usuário salvo com ID:",k),await new Promise(L=>setTimeout(L,1e3));const V=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[Login] Usuários após registro:",V),console.log("[Login] Usuário registrado com sucesso!"),e({title:"Usuário registrado com sucesso!",description:"Agora você pode fazer login com suas credenciais."}),b(!1),p(!1),y({nome:"",email:"",senha:"",tipo:"comum",foto:""}),setTimeout(()=>{e({title:"Credenciais de Login",description:`Email: ${j.email} | Senha: ${j.senha}`,duration:5e3})},1e3)}catch(j){console.error("[Login] Erro no registro:",j),e({title:"Erro ao cadastrar usuário!",description:j.message||"Tente novamente.",variant:"destructive"}),b(!1)}};return s?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(Te.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Carregando sistema..."})]})}):o?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(Te.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-2",children:"Erro de Conexão"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Não foi possível conectar ao sistema. Verifique sua conexão com a internet."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Tentar Novamente"})]})}):a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(Te.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative",children:[a.jsx(Te.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:m?a.jsx(Vr,{className:"h-8 w-8 text-white"}):a.jsx(GS,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:m?"Criar conta":"Bem-vindo de volta"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:m?"Registre-se para começar a usar":"Faça login para acessar o sistema"})]})}),m?a.jsxs(Te.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:I,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsxs(X,{htmlFor:"nome",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Vr,{className:"h-4 w-4 inline mr-2"}),"Nome completo"]}),a.jsx(me,{id:"nome",name:"nome",value:w.nome,onChange:D,placeholder:"Digite seu nome completo",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(X,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(oi,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),a.jsx(me,{id:"email",name:"email",type:"email",value:w.email,onChange:D,placeholder:"Digite seu e-mail",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(X,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(F0,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),a.jsx(me,{id:"senha",name:"senha",type:"password",value:w.senha,onChange:D,placeholder:"Mínimo 6 caracteres",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(X,{htmlFor:"tipo",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(zl,{className:"h-4 w-4 inline mr-2"}),"Tipo de Usuário"]}),a.jsxs("select",{id:"tipo",name:"tipo",value:w.tipo,onChange:D,className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"comum",children:"👤 Comum"}),a.jsx("option",{value:"financeiro",children:"💰 Financeiro"}),a.jsx("option",{value:"administrador",children:"👑 Administrador"})]})]}),a.jsxs("div",{children:[a.jsxs(X,{htmlFor:"foto",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Kf,{className:"h-4 w-4 inline mr-2"}),"Foto do perfil (opcional)"]}),a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-center transition-all duration-200 mb-2 cursor-pointer hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 ${x?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 scale-105":"border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900"}`,onDragEnter:N=>{N.preventDefault(),_(!0)},onDragLeave:N=>{N.preventDefault(),_(!1)},onDragOver:N=>{N.preventDefault(),_(!0)},onDrop:C,onClick:()=>document.getElementById("foto").click(),children:[a.jsx(me,{id:"foto",name:"foto",type:"file",accept:"image/*",onChange:F,className:"hidden"}),w.foto?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:w.foto,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-lg mb-2"}),a.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Foto adicionada!"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center mb-3",children:a.jsx(Kf,{className:"h-6 w-6 text-slate-500 dark:text-slate-400"})}),a.jsx("span",{className:"block text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Arraste uma imagem ou clique aqui"}),a.jsx("span",{className:"text-xs text-slate-400 mt-1",children:"Formatos: JPG, PNG, GIF (máx. 1MB)"})]})]})]}),a.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:S,children:S?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vr,{className:"h-4 w-4"}),"Criar conta",a.jsx(BS,{className:"h-4 w-4"})]})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>p(!1),children:["Já tem conta?",a.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"Entrar"})]})})]}):a.jsxs(Te.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:P,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsxs(X,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(oi,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),a.jsx(me,{id:"email",name:"email",type:"email",value:i.email,onChange:A,placeholder:"Digite seu e-mail",className:"pl-10"}),a.jsxs("div",{className:"flex items-center mt-3",children:[a.jsx("input",{id:"lembrarEmail",type:"checkbox",checked:c,onChange:N=>u(N.target.checked),className:"mr-2 w-4 h-4 rounded border-2 border-blue-400 focus:ring-2 focus:ring-blue-500 transition-all duration-150 checked:bg-blue-600 checked:border-blue-600 hover:border-blue-500",style:{boxShadow:c?"0 0 0 2px #3b82f6":void 0}}),a.jsx(X,{htmlFor:"lembrarEmail",className:"text-sm text-slate-600 dark:text-slate-400 cursor-pointer select-none transition-colors duration-150 hover:text-blue-600 dark:hover:text-blue-400",children:"Lembrar e-mail"})]})]}),a.jsxs("div",{children:[a.jsxs(X,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(F0,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),a.jsx(me,{id:"senha",name:"senha",type:"password",value:i.senha,onChange:A,placeholder:"Digite sua senha",className:"pl-10"})]}),a.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Entrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(GS,{className:"h-4 w-4"}),"Entrar",a.jsx(BS,{className:"h-4 w-4"})]})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>p(!0),children:["Não tem conta?",a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"Registrar-se"})]})})]})]})})};var Vb="Progress",Ub=100,[GJ,gee]=qs(Vb),[KJ,YJ]=GJ(Vb),TM=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=QJ,...i}=t;(s||s===0)&&!NT(s)&&console.error(ZJ(`${s}`,"Progress"));const l=NT(s)?s:Ub;r!==null&&!kT(r,l)&&console.error(XJ(`${r}`,"Progress"));const c=kT(r,l)?r:null,u=km(c)?o(c,l):void 0;return a.jsx(KJ,{scope:n,value:c,max:l,children:a.jsx(Qe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":km(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":kM(c,l),"data-value":c??void 0,"data-max":l,...i,ref:e})})});TM.displayName=Vb;var jM="ProgressIndicator",NM=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=YJ(jM,n);return a.jsx(Qe.div,{"data-state":kM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});NM.displayName=jM;function QJ(t,e){return`${Math.round(t/e*100)}%`}function kM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function km(t){return typeof t=="number"}function NT(t){return km(t)&&!isNaN(t)&&t>0}function kT(t,e){return km(t)&&!isNaN(t)&&t<=e&&t>=0}function ZJ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ub}\`.`}function XJ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ub} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IM=TM,JJ=NM;const PM=g.forwardRef(({className:t,value:e,...n},r)=>a.jsx(IM,{ref:r,className:Xe("relative h-2 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",t),...n,children:a.jsx(JJ,{className:"h-full w-full flex-1 bg-slate-900 transition-all dark:bg-slate-50",style:{transform:`translateX(-${100-(e||0)}%)`}})}));PM.displayName=IM.displayName;class eee{constructor(){this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes",configuracoesLoja:"crm_configuracoes_loja"}}async checkLocalStorageData(){const e={};for(const[n,r]of Object.entries(this.localStorageKeys)){const s=localStorage.getItem(r);if(s)try{const o=JSON.parse(s);e[n]={key:r,dados:o,quantidade:Array.isArray(o)?o.length:1}}catch(o){console.error(`Erro ao parsear ${r}:`,o)}}return e}async migrarCollection(e){const n=this.localStorageKeys[e];if(!n)throw new Error(`Chave não encontrada para ${e}`);const r=localStorage.getItem(n);if(!r)return console.log(`[Migration] Nenhum dado encontrado para ${e}`),{migrados:0,erros:0};try{const s=JSON.parse(r);let o=0,i=0;if(console.log(`[Migration] Migrando ${e}...`),e==="configuracoes"||e==="configuracoesLoja")try{await nt.saveData(e,s),o=1,console.log(`[Migration] ✅ ${e} migrado com sucesso`)}catch(l){console.error(`[Migration] ❌ Erro ao migrar ${e}:`,l),i=1}else if(Array.isArray(s)){for(const l of s)try{await nt.saveData(e,l,l.id),o++}catch(c){console.error(`[Migration] ❌ Erro ao migrar item de ${e}:`,c),i++}console.log(`[Migration] ✅ ${e}: ${o} itens migrados, ${i} erros`)}return{migrados:o,erros:i}}catch(s){return console.error(`[Migration] ❌ Erro geral ao migrar ${e}:`,s),{migrados:0,erros:1}}}async migrarTudoParaFirebase(){console.log("[Migration] 🔄 Iniciando migração completa do localStorage para Firebase...");const e=await this.checkLocalStorageData(),n=Object.keys(e);if(n.length===0)return console.log("[Migration] ✅ Nenhum dado encontrado no localStorage para migrar"),{sucesso:!0,resumo:{}};console.log(`[Migration] 📊 Dados encontrados em ${n.length} coleções:`,e);const r={};let s=0,o=0;for(const i of n){const l=await this.migrarCollection(i);r[i]=l,s+=l.migrados,o+=l.erros}return console.log("[Migration] 📈 Resumo da migração:",r),console.log(`[Migration] ✅ Migração concluída: ${s} itens migrados, ${o} erros`),{sucesso:o===0,resumo:r,totalMigrados:s,totalErros:o}}async limparLocalStorageAposMigracao(){console.log("[Migration] 🧹 Limpando dados do localStorage após migração...");let e=0;for(const[r,s]of Object.entries(this.localStorageKeys))localStorage.getItem(s)&&(localStorage.removeItem(s),e++,console.log(`[Migration] 🗑️ Removido ${s}`));const n=["crm_usuario_logado","crm_email_salvo","crm_lembrar_email","crm_config_cache"];for(const r of n)localStorage.getItem(r)&&(localStorage.removeItem(r),e++,console.log(`[Migration] 🗑️ Removido ${r}`));return console.log(`[Migration] ✅ ${e} chaves removidas do localStorage`),e}async executarMigracaoCompleta(){try{console.log("[Migration] 🚀 Iniciando migração completa...");const e=await this.checkLocalStorageData();if(Object.keys(e).length===0)return console.log("[Migration] ✅ Nenhum dado para migrar"),{sucesso:!0,mensagem:"Nenhum dado encontrado para migrar"};const n=await this.migrarTudoParaFirebase();if(!n.sucesso)return console.log("[Migration] ⚠️ Migração concluída com erros"),{sucesso:!1,mensagem:`Migração concluída com ${n.totalErros} erros`,detalhes:n.resumo};const r=await this.limparLocalStorageAposMigracao();return console.log("[Migration] 🎉 Migração completa bem-sucedida!"),{sucesso:!0,mensagem:`Migração completa! ${n.totalMigrados} itens migrados, ${r} chaves removidas do localStorage`,detalhes:{migrados:n.totalMigrados,removidos:r,resumo:n.resumo}}}catch(e){return console.error("[Migration] ❌ Erro durante migração completa:",e),{sucesso:!1,mensagem:`Erro durante migração: ${e.message}`,erro:e}}}async verificarStatusMigracao(){const e=await this.checkLocalStorageData(),n=Object.keys(e).length>0;return{temDadosLocalStorage:n,dadosEncontrados:e,precisaMigrar:n}}}const tee=new eee,nee=()=>{g.useContext(mr);const{toast:t}=fr(),[e,n]=g.useState(!1),[r,s]=g.useState({}),[o,i]=g.useState(0),[l,c]=g.useState("configuracoes"),[u,d]=g.useState(null);g.useState(!1);const{config:f,loading:m,saveConfig:p}=jb(),{config:w,loading:y,saveConfig:S}=Tb(),{data:b,loading:x,saveUsuario:_,remove:A}=bc(),{data:D,loading:F,save:C,remove:E}=Fp(),{data:P,loading:I,save:N,remove:j}=wc(),{data:k,loading:V,save:L,remove:G}=Dd(),{data:B,loading:O,save:z,remove:Z}=Md(),{data:Y,loading:de,save:Se,remove:ye}=Od(),{data:Ve,loading:ke,save:fe,remove:Me}=Ld(),{data:$e,loading:W,save:ce,remove:te}=Eb();g.useEffect(()=>{(async()=>{try{const we=await tee.verificarStatusMigracao();d(we)}catch(we){console.error("[TestesDev] Erro ao verificar status da migração:",we)}})()},[]);const Ie={configuracoes:{titulo:"Configurações",icone:ra,cor:"blue",testes:[{id:"config-sistema",nome:"Configurações do Sistema",descricao:"Testa carregamento e salvamento das configurações principais",funcao:Ke},{id:"config-loja",nome:"Configurações da Loja",descricao:"Testa configurações da empresa para documentos impressos",funcao:at},{id:"config-persistencia",nome:"Persistência de Dados",descricao:"Testa se as configurações são salvas e carregadas corretamente",funcao:$}]},firebase:{titulo:"Firebase",icone:Yf,cor:"orange",testes:[{id:"firebase-conexao",nome:"Conexão Firebase",descricao:"Testa conectividade com o Firebase",funcao:ue},{id:"firebase-collections",nome:"Collections",descricao:"Testa acesso a todas as collections",funcao:Fe},{id:"firebase-operacoes",nome:"Operações CRUD",descricao:"Testa criação, leitura, atualização e exclusão",funcao:Ne}]},modulos:{titulo:"Módulos",icone:Qn,cor:"green",testes:[{id:"modulo-os",nome:"Ordens de Serviço",descricao:"Testa funcionalidades do módulo OS",funcao:Pe},{id:"modulo-clientes",nome:"Clientes",descricao:"Testa funcionalidades do módulo Clientes",funcao:q},{id:"modulo-ov",nome:"Ordens de Venda",descricao:"Testa funcionalidades do módulo OV",funcao:_e},{id:"modulo-estoque",nome:"Estoque",descricao:"Testa funcionalidades do módulo Estoque",funcao:mt}]},responsividade:{titulo:"Responsividade",icone:Y5,cor:"purple",testes:[{id:"responsividade-layout",nome:"Layout Responsivo",descricao:"Testa adaptação em diferentes tamanhos de tela",funcao:ie},{id:"responsividade-componentes",nome:"Componentes",descricao:"Testa responsividade de componentes individuais",funcao:oe}]},performance:{titulo:"Performance",icone:Gu,cor:"yellow",testes:[{id:"performance-carregamento",nome:"Tempo de Carregamento",descricao:"Mede tempo de carregamento das páginas",funcao:We},{id:"performance-memoria",nome:"Uso de Memória",descricao:"Monitora uso de memória do sistema",funcao:xt}]},integridade:{titulo:"Integridade",icone:zl,cor:"red",testes:[{id:"integridade-dados",nome:"Integridade dos Dados",descricao:"Verifica consistência dos dados",funcao:$t},{id:"integridade-relacoes",nome:"Relações entre Tabelas",descricao:"Testa relacionamentos entre entidades",funcao:Pn}]},dadosTeste:{titulo:"Dados de Teste",icone:YS,cor:"indigo",testes:[{id:"criar-todos-dados-teste",nome:"Criar TODOS os Dados de Teste",descricao:"Cadastra clientes, produtos, categorias, OS, OV, financeiro e movimentações",funcao:qn},{id:"criar-produtos-categorias",nome:"Criar Produtos e Categorias",descricao:"Cadastra apenas produtos e categorias para o estoque",funcao:pr},{id:"forcar-atualizacao-hooks",nome:"Forçar Atualização dos Hooks",descricao:"Força os hooks a recarregarem dados do Firebase",funcao:ps},{id:"verificar-dados-firebase",nome:"Verificar Dados no Firebase",descricao:"Verifica se os dados estão realmente salvos no Firebase",funcao:gs},{id:"limpar-dados-teste",nome:"Limpar Dados de Teste",descricao:"Remove apenas os dados marcados como teste",funcao:er}]}};async function Ke(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando configurações do sistema..."),f?(M.detalhes.push("✅ Configurações carregadas com sucesso"),M.detalhes.push(`📋 Nome da empresa: ${f.nomeEmpresa||"N/A"}`),M.detalhes.push(`📋 Tema: ${f.tema||"N/A"}`),M.detalhes.push(`📋 Idioma: ${f.idioma||"N/A"}`)):(M.detalhes.push("❌ Configurações não carregadas"),M.sucesso=!1)}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function at(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando configurações da loja..."),w?(M.detalhes.push("✅ Configurações da loja carregadas"),M.detalhes.push(`📋 Nome: ${w.nomeEmpresa||"N/A"}`),M.detalhes.push(`📋 Endereço: ${w.endereco||"N/A"}`),M.detalhes.push(`📋 Telefone: ${w.telefone||"N/A"}`)):(M.detalhes.push("❌ Configurações da loja não carregadas"),M.sucesso=!1)}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function $(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando persistência de configurações..."),await p({nomeEmpresa:"Teste MultiSmart",tema:"dark",idioma:"pt-BR",testeDev:!0}),M.detalhes.push("✅ Configuração de teste salva"),f&&(await p(f),M.detalhes.push("✅ Configuração original restaurada"))}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function ue(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando conexão com Firebase...");const ee={nome:"Teste Conexão",timestamp:new Date().toISOString(),isTeste:!0},ge=await nt.saveData("test_connection",ee);M.detalhes.push(`✅ Documento de teste salvo (ID: ${ge})`),await nt.deleteDocument("test_connection",ge),M.detalhes.push("✅ Documento de teste removido")}catch(ee){M.detalhes.push(`❌ Erro de conexão: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function Fe(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando acesso às collections...");const ee=["clientes","produtos","categorias","ordens_servico","ordens_venda","financeiro"];for(const ge of ee)try{const he=await nt.getData(ge);M.detalhes.push(`✅ ${ge}: ${(he==null?void 0:he.length)||0} documentos`)}catch(he){M.detalhes.push(`❌ ${ge}: ${he.message}`),M.sucesso=!1}}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function Ne(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando operações CRUD...");const ee={nome:"Teste CRUD",descricao:"Documento de teste para operações CRUD",isTeste:!0,createdAt:new Date().toISOString()},ge=await nt.saveData("test_crud",ee);M.detalhes.push(`✅ CREATE: Documento criado (ID: ${ge})`),(await nt.getData("test_crud")).find(U=>U.id===ge)?M.detalhes.push("✅ READ: Documento encontrado"):(M.detalhes.push("❌ READ: Documento não encontrado"),M.sucesso=!1);const Be={...ee,nome:"Teste CRUD Atualizado"};await nt.saveData("test_crud",Be,ge),M.detalhes.push("✅ UPDATE: Documento atualizado"),await nt.deleteDocument("test_crud",ge),M.detalhes.push("✅ DELETE: Documento removido")}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function Pe(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando módulo OS..."),D?M.detalhes.push(`✅ Módulo OS carregado: ${D.length} ordens`):(M.detalhes.push("❌ Módulo OS não carregado"),M.sucesso=!1)}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function q(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando módulo Clientes..."),P?M.detalhes.push(`✅ Módulo Clientes carregado: ${P.length} clientes`):(M.detalhes.push("❌ Módulo Clientes não carregado"),M.sucesso=!1)}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function _e(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando módulo OV..."),k?M.detalhes.push(`✅ Módulo OV carregado: ${k.length} ordens`):(M.detalhes.push("❌ Módulo OV não carregado"),M.sucesso=!1)}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function mt(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando módulo Estoque..."),B&&Y?M.detalhes.push(`✅ Módulo Estoque carregado: ${B.length} produtos, ${Y.length} categorias`):(M.detalhes.push("❌ Módulo Estoque não carregado"),M.sucesso=!1)}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function ie(){var ee;const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando responsividade do layout...");const ge=window.innerWidth,he=window.innerHeight,tt=window.devicePixelRatio||1;M.detalhes.push(`📱 Largura: ${ge}px`),M.detalhes.push(`📱 Altura: ${he}px`),M.detalhes.push(`📱 Pixel Ratio: ${tt}`);const Be={xs:ge<640,sm:ge>=640&&ge<768,md:ge>=768&&ge<1024,lg:ge>=1024&&ge<1280,xl:ge>=1280&&ge<1536,"2xl":ge>=1536},U=((ee=Object.entries(Be).find(([Fi,Vi])=>Vi))==null?void 0:ee[0])||"xs";M.detalhes.push(`📱 Breakpoint ativo: ${U}`);const ne=document.querySelectorAll('[class*="sm:"], [class*="md:"], [class*="lg:"], [class*="xl:"], [class*="2xl:"]');M.detalhes.push(`✅ ${ne.length} elementos com classes responsivas`);const ae=document.querySelectorAll('.container, .max-w-\\[\\d+px\\], [class*="max-w-"]');M.detalhes.push(`📦 ${ae.length} containers responsivos encontrados`);const xe=document.body.scrollWidth,mn=window.innerWidth;xe>mn?(M.detalhes.push(`⚠️ Overflow horizontal detectado: ${xe-mn}px`),M.sucesso=!1):M.detalhes.push("✅ Sem overflow horizontal");const pn=document.documentElement.scrollHeight,Gr=document.documentElement.clientHeight;pn>Gr&&M.detalhes.push(`📜 Scroll vertical necessário: ${pn-Gr}px`)}catch(ge){M.detalhes.push(`❌ Erro: ${ge.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function oe(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando responsividade dos componentes..."),[{nome:"Cards",selector:".bg-white, .bg-slate-800"},{nome:"Botões",selector:"button, .btn"},{nome:"Inputs",selector:"input, textarea, select"},{nome:"Modais",selector:'[role="dialog"], .modal'},{nome:"Tabelas",selector:"table, .table"},{nome:"Grids",selector:".grid, .flex"}].forEach(tt=>{const Be=document.querySelectorAll(tt.selector);M.detalhes.push(`📦 ${tt.nome}: ${Be.length} elementos`);let U=0;if(Be.forEach(ne=>{(ne.className.includes("sm:")||ne.className.includes("md:")||ne.className.includes("lg:")||ne.className.includes("xl:"))&&U++}),Be.length>0){const ne=Math.round(U/Be.length*100);M.detalhes.push(`  📊 ${ne}% com classes responsivas`),ne<50&&(M.detalhes.push(`  ⚠️ ${tt.nome} precisa de mais responsividade`),M.sucesso=!1)}}),[{nome:"Elementos com largura fixa",selector:'[style*="width:"], [class*="w-\\["]'},{nome:"Elementos sem max-width",selector:'.container:not([class*="max-w"])'},{nome:"Textos sem quebra",selector:'[class*="whitespace-nowrap"]'}].forEach(tt=>{const Be=document.querySelectorAll(tt.selector);Be.length>0&&(M.detalhes.push(`⚠️ ${tt.nome}: ${Be.length} encontrados`),M.sucesso=!1)});const he=document.querySelector('meta[name="viewport"]');he?M.detalhes.push(`✅ Meta viewport encontrada: ${he.content}`):(M.detalhes.push("❌ Meta viewport não encontrada"),M.sucesso=!1)}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function We(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 Testando performance de carregamento...");const ee=window.performance;if(ee){const ge=ee.getEntriesByType("navigation")[0];ge&&(M.detalhes.push(`⏱️ Tempo de carregamento: ${Math.round(ge.loadEventEnd-ge.loadEventStart)}ms`),M.detalhes.push(`⏱️ Tempo de DOM: ${Math.round(ge.domContentLoadedEventEnd-ge.domContentLoadedEventStart)}ms`))}}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function xt(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{if(M.detalhes.push("🔄 Testando uso de memória..."),performance.memory){const ee=performance.memory;M.detalhes.push(`💾 Memória usada: ${Math.round(ee.usedJSHeapSize/1024/1024)}MB`),M.detalhes.push(`💾 Memória total: ${Math.round(ee.totalJSHeapSize/1024/1024)}MB`),M.detalhes.push(`💾 Limite de memória: ${Math.round(ee.jsHeapSizeLimit/1024/1024)}MB`)}else M.detalhes.push("⚠️ API de memória não disponível")}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function $t(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{if(M.detalhes.push("🔄 Testando integridade dos dados..."),B&&Y){const ee=B.filter(ge=>!Y.find(he=>he.nome===ge.categoria));ee.length>0?M.detalhes.push(`⚠️ ${ee.length} produtos sem categoria válida`):M.detalhes.push("✅ Todos os produtos têm categorias válidas")}}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function Pn(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{if(M.detalhes.push("🔄 Testando integridade das relações..."),k&&P&&B){const ee=k.filter(he=>!P.find(tt=>tt.id===he.clienteId)),ge=k.filter(he=>!B.find(tt=>tt.id===he.produtoId));ee.length>0&&M.detalhes.push(`⚠️ ${ee.length} ordens sem cliente válido`),ge.length>0&&M.detalhes.push(`⚠️ ${ge.length} ordens sem produto válido`),ee.length===0&&ge.length===0&&M.detalhes.push("✅ Todas as relações estão íntegras")}}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function qn(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🚀 CRIANDO TODOS OS DADOS DE TESTE..."),M.detalhes.push("====================================="),M.detalhes.push("📦 1. Criando categorias...");const ee=[{nome:"Smartphones",descricao:"Telefones celulares",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos",cor:"#10B981"},{nome:"Acessórios",descricao:"Acessórios móveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peças para reparo",cor:"#EF4444"}];let ge=0;const he={};for(const pt of ee)try{const yt={...pt,isTeste:!0,createdAt:new Date().toISOString()},Mt=await nt.saveData("categorias",yt);he[pt.nome]=Mt,ge++,M.detalhes.push(`  ✅ ${pt.nome} (ID: ${Mt})`)}catch(yt){M.detalhes.push(`  ❌ Erro ${pt.nome}: ${yt.message}`)}M.detalhes.push("📱 2. Criando produtos...");const tt=[{nome:"iPhone 14 Pro",categoriaId:he.Smartphones,preco:8999.9,custo:6500,quantidade:15,estoqueMinimo:5,descricao:"iPhone 14 Pro 128GB",codigo:"IPH14P",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBob25lIDE0IFBybzwvdGV4dD4KPC9zdmc+Cjwvc3ZnPgo="},{nome:"Samsung Galaxy S23",categoriaId:he.Smartphones,preco:3999.9,custo:2800,quantidade:20,estoqueMinimo:8,descricao:"Galaxy S23 256GB",codigo:"SGS23",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+U2Ftc3VuZyBHMjM8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"iPhone 13",categoriaId:he.Smartphones,preco:5999.9,custo:4200,quantidade:12,estoqueMinimo:4,descricao:"iPhone 13 128GB",codigo:"IPH13",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBob25lIDEzPC90ZXh0Pgo8L3N2Zz4KPC9zdmc+Cg=="},{nome:"iPad Air",categoriaId:he.Tablets,preco:4999.9,custo:3500,quantidade:10,estoqueMinimo:3,descricao:"iPad Air 64GB",codigo:"IPADAIR",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBhZCBBaXI8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Samsung Galaxy Tab S8",categoriaId:he.Tablets,preco:3999.9,custo:2800,quantidade:8,estoqueMinimo:3,descricao:"Galaxy Tab S8 128GB",codigo:"SGTAB8",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSIzMCIgeT0iNTAiIHdpZHRoPSIxNDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSIzMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+U2Ftc3VuZyBUYWIgUzg8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Capa iPhone 14",categoriaId:he.Acessórios,preco:199.9,custo:80,quantidade:50,estoqueMinimo:20,descricao:"Capa protetora iPhone 14",codigo:"CAPIPH14",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiM4MDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+Q2FwYSBpUGhvbmU8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Carregador USB-C",categoriaId:he.Acessórios,preco:89.9,custo:35,quantidade:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CARUSB",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiM4MDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+Q2FycmVnYWRvciBVU0I8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Tela iPhone 13",categoriaId:he.Reparos,preco:599.9,custo:200,quantidade:25,estoqueMinimo:10,descricao:"Tela iPhone 13",codigo:"TELIPH13",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiNGRjAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+VGVsYSBpUGhvbmU8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Bateria Samsung S22",categoriaId:he.Reparos,preco:299.9,custo:120,quantidade:30,estoqueMinimo:15,descricao:"Bateria Galaxy S22",codigo:"BATSGS22",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiNGRjAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSIzMCIgeT0iNTAiIHdpZHRoPSIxNDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSIzMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+QmF0ZXJpYSBTYW1zdW5nPC90ZXh0Pgo8L3N2Zz4KPC9zdmc+Cg=="}];let Be=0;for(const pt of tt)try{const yt={...pt,isTeste:!0,createdAt:new Date().toISOString()},Mt=await nt.saveData("produtos",yt);Be++,M.detalhes.push(`  ✅ ${pt.nome} (ID: ${Mt})`)}catch(yt){M.detalhes.push(`  ❌ Erro ${pt.nome}: ${yt.message}`)}M.detalhes.push("👥 3. Criando clientes...");const U=[{nome:"João Silva",email:"joao@email.com",telefone:"(11)99999-9999",endereco:"Rua A, 123"},{nome:"Maria Santos",email:"maria@email.com",telefone:"(11)88888-8888",endereco:"Rua B, 456"},{nome:"Pedro Costa",email:"pedro@email.com",telefone:"(11)77777-7777",endereco:"Rua C, 789"}];let ne=0;for(const pt of U)try{const yt={...pt,isTeste:!0,createdAt:new Date().toISOString()},Mt=await nt.saveData("clientes",yt);ne++,M.detalhes.push(`  ✅ ${pt.nome} (ID: ${Mt})`)}catch(yt){M.detalhes.push(`  ❌ Erro ${pt.nome}: ${yt.message}`)}M.detalhes.push("🔧 4. Criando Ordens de Serviço...");const ae=[{clienteNome:"João Silva",clienteTelefone:"(11)99999-9999",titulo:"Troca de tela iPhone 13",senha:"OS001",valor:599.9,status:"Pendente",observacoes:"Cliente relatou tela trincada"},{clienteNome:"Maria Santos",clienteTelefone:"(11)88888-8888",titulo:"Troca de bateria Samsung S22",senha:"OS002",valor:299.9,status:"Concluída",observacoes:"Bateria com baixa duração"},{clienteNome:"Pedro Costa",clienteTelefone:"(11)77777-7777",titulo:"Reparo de carregador",senha:"OS003",valor:89.9,status:"Em Andamento",observacoes:"Carregador não carrega"}];let xe=0;for(const pt of ae)try{const yt={...pt,isTeste:!0,createdAt:new Date().toISOString()},Mt=await nt.saveData("ordens_servico",yt);xe++,M.detalhes.push(`  ✅ ${pt.titulo} (ID: ${Mt})`)}catch(yt){M.detalhes.push(`  ❌ Erro OS: ${yt.message}`)}M.detalhes.push("🛒 5. Criando Ordens de Venda...");const mn=[{clienteNome:"João Silva",numero:"OV0001",produtos:[{nome:"iPhone 14 Pro",quantidade:1,precoUnitario:8999.9,total:8999.9}],total:8999.9,status:"Concluída",observacoes:"Venda de iPhone 14 Pro"},{clienteNome:"Maria Santos",numero:"OV0002",produtos:[{nome:"Capa iPhone 14",quantidade:2,precoUnitario:199.9,total:399.8}],total:399.8,status:"Pendente",observacoes:"Venda de capas iPhone 14"}];let pn=0;for(const pt of mn)try{const yt={...pt,isTeste:!0,createdAt:new Date().toISOString()},Mt=await nt.saveData("ordens_venda",yt);pn++,M.detalhes.push(`  ✅ ${pt.numero} - ${pt.clienteNome} (ID: ${Mt})`)}catch(yt){M.detalhes.push(`  ❌ Erro OV: ${yt.message}`)}M.detalhes.push("💰 6. Criando Movimentações Financeiras...");const Gr=[{tipo:"receber",descricao:"Pagamento OS - Troca de tela",valor:599.9,status:"Pendente",dataVencimento:new Date(Date.now()+7*24*60*60*1e3).toISOString()},{tipo:"pagar",descricao:"Compra de peças",valor:1200,status:"Pendente",dataVencimento:new Date(Date.now()+15*24*60*60*1e3).toISOString()},{tipo:"receber",descricao:"Venda iPhone 14 Pro",valor:8999.9,status:"Concluída",dataVencimento:new Date().toISOString()}];let Fi=0;for(const pt of Gr)try{const yt={...pt,isTeste:!0,createdAt:new Date().toISOString()},Mt=await nt.saveData("financeiro",yt);Fi++,M.detalhes.push(`  ✅ ${pt.descricao} (ID: ${Mt})`)}catch(yt){M.detalhes.push(`  ❌ Erro Financeiro: ${yt.message}`)}M.detalhes.push("📦 7. Criando Movimentações de Estoque...");const Vi=[{produtoId:"produto1",produtoNome:"iPhone 14 Pro",tipo:"entrada",quantidade:5,observacao:"Entrada de estoque inicial"},{produtoId:"produto2",produtoNome:"Samsung Galaxy S23",tipo:"saida",quantidade:2,observacao:"Venda para cliente"},{produtoId:"produto3",produtoNome:"iPhone 13",tipo:"entrada",quantidade:3,observacao:"Reposição de estoque"}];let Ui=0;for(const pt of Vi)try{const yt={...pt,isTeste:!0,createdAt:new Date().toISOString()},Mt=await nt.saveData("movimentacoes",yt);Ui++,M.detalhes.push(`  ✅ ${pt.tipo} ${pt.quantidade} ${pt.produtoNome} (ID: ${Mt})`)}catch(yt){M.detalhes.push(`  ❌ Erro Movimentação: ${yt.message}`)}M.detalhes.push("====================================="),M.detalhes.push("✅ RESUMO COMPLETO:"),M.detalhes.push(`  📦 ${ge} categorias`),M.detalhes.push(`  📱 ${Be} produtos`),M.detalhes.push(`  👥 ${ne} clientes`),M.detalhes.push(`  🔧 ${xe} ordens de serviço`),M.detalhes.push(`  🛒 ${pn} ordens de venda`),M.detalhes.push(`  💰 ${Fi} movimentações financeiras`),M.detalhes.push(`  📦 ${Ui} movimentações de estoque`),M.detalhes.push("✅ Todos os dados marcados como teste")}catch(ee){M.detalhes.push(`❌ Erro geral: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function pr(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("📦 CRIANDO APENAS PRODUTOS E CATEGORIAS..."),M.detalhes.push("=========================================="),M.detalhes.push("📂 Criando categorias...");const ee=[{nome:"Smartphones",descricao:"Telefones celulares inteligentes",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos portáteis",cor:"#10B981"},{nome:"Acessórios",descricao:"Acessórios para dispositivos móveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peças para reparo de dispositivos",cor:"#EF4444"}];let ge=0;for(const Be of ee)try{const U={...Be,isTeste:!0,createdAt:new Date().toISOString()},ne=await nt.saveData("categorias",U);ge++,M.detalhes.push(`  ✅ ${Be.nome} (ID: ${ne})`)}catch(U){M.detalhes.push(`  ❌ Erro ${Be.nome}: ${U.message}`)}M.detalhes.push("📱 Criando produtos...");const he=[{nome:"iPhone 14 Pro",categoria:"Smartphones",preco:8999.9,custo:6500,estoque:15,estoqueMinimo:5,descricao:"Smartphone Apple iPhone 14 Pro 128GB",codigo:"IPH14P-128"},{nome:"Samsung Galaxy S23",categoria:"Smartphones",preco:3999.9,custo:2800,estoque:20,estoqueMinimo:8,descricao:"Smartphone Samsung Galaxy S23 256GB",codigo:"SGS23-256"},{nome:"iPhone 13",categoria:"Smartphones",preco:5999.9,custo:4200,estoque:12,estoqueMinimo:4,descricao:"Smartphone Apple iPhone 13 128GB",codigo:"IPH13-128"},{nome:"Samsung Galaxy A54",categoria:"Smartphones",preco:1999.9,custo:1400,estoque:25,estoqueMinimo:10,descricao:"Smartphone Samsung Galaxy A54 128GB",codigo:"SGA54-128"},{nome:"Xiaomi Redmi Note 12",categoria:"Smartphones",preco:1299.9,custo:900,estoque:18,estoqueMinimo:6,descricao:"Smartphone Xiaomi Redmi Note 12 128GB",codigo:"XRN12-128"},{nome:"Motorola Edge 40",categoria:"Smartphones",preco:2499.9,custo:1750,estoque:8,estoqueMinimo:3,descricao:"Smartphone Motorola Edge 40 256GB",codigo:"ME40-256"},{nome:"iPad Air",categoria:"Tablets",preco:4999.9,custo:3500,estoque:10,estoqueMinimo:3,descricao:"Tablet Apple iPad Air 64GB",codigo:"IPAD-AIR-64"},{nome:'iPad Pro 11"',categoria:"Tablets",preco:6999.9,custo:4900,estoque:6,estoqueMinimo:2,descricao:'Tablet Apple iPad Pro 11" 128GB',codigo:"IPAD-PRO11-128"},{nome:"Samsung Galaxy Tab S8",categoria:"Tablets",preco:3999.9,custo:2800,estoque:8,estoqueMinimo:3,descricao:"Tablet Samsung Galaxy Tab S8 128GB",codigo:"SGT-S8-128"},{nome:'iPad 10.9"',categoria:"Tablets",preco:3999.9,custo:2800,estoque:12,estoqueMinimo:4,descricao:'Tablet Apple iPad 10.9" 64GB',codigo:"IPAD-109-64"},{nome:"Samsung Galaxy Tab A8",categoria:"Tablets",preco:1299.9,custo:900,estoque:15,estoqueMinimo:5,descricao:"Tablet Samsung Galaxy Tab A8 32GB",codigo:"SGT-A8-32"},{nome:"Lenovo Tab P11",categoria:"Tablets",preco:1999.9,custo:1400,estoque:9,estoqueMinimo:3,descricao:"Tablet Lenovo Tab P11 128GB",codigo:"LT-P11-128"},{nome:"Capa iPhone 14",categoria:"Acessórios",preco:199.9,custo:80,estoque:50,estoqueMinimo:20,descricao:"Capa protetora para iPhone 14",codigo:"CAP-IPH14"},{nome:"Carregador USB-C",categoria:"Acessórios",preco:89.9,custo:35,estoque:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CAR-USB20W"},{nome:"Fone Bluetooth AirPods",categoria:"Acessórios",preco:1299.9,custo:650,estoque:25,estoqueMinimo:8,descricao:"Fone Bluetooth Apple AirPods 3ª geração",codigo:"FB-AP3"},{nome:"Película Vidro iPhone",categoria:"Acessórios",preco:49.9,custo:15,estoque:80,estoqueMinimo:25,descricao:"Película de vidro temperado para iPhone",codigo:"PEL-IPH"},{nome:"Cabo Lightning",categoria:"Acessórios",preco:79.9,custo:25,estoque:60,estoqueMinimo:20,descricao:"Cabo Lightning 1m Apple",codigo:"CAB-LIGHT"},{nome:"Power Bank 10000mAh",categoria:"Acessórios",preco:199.9,custo:80,estoque:30,estoqueMinimo:10,descricao:"Power Bank 10000mAh com entrada USB-C",codigo:"PB-10K"},{nome:"Tela iPhone 13",categoria:"Reparos",preco:599.9,custo:200,estoque:25,estoqueMinimo:10,descricao:"Tela de reposição iPhone 13",codigo:"TEL-IPH13"},{nome:"Bateria Samsung S22",categoria:"Reparos",preco:299.9,custo:120,estoque:30,estoqueMinimo:15,descricao:"Bateria de reposição Galaxy S22",codigo:"BAT-SGS22"},{nome:"Tela Samsung A54",categoria:"Reparos",preco:399.9,custo:150,estoque:20,estoqueMinimo:8,descricao:"Tela de reposição Samsung Galaxy A54",codigo:"TEL-SGA54"},{nome:"Conector iPhone 14",categoria:"Reparos",preco:149.9,custo:60,estoque:35,estoqueMinimo:12,descricao:"Conector de carregamento iPhone 14",codigo:"CON-IPH14"},{nome:"Bateria iPhone 13",categoria:"Reparos",preco:249.9,custo:100,estoque:28,estoqueMinimo:10,descricao:"Bateria de reposição iPhone 13",codigo:"BAT-IPH13"},{nome:"Câmera Traseira Samsung",categoria:"Reparos",preco:199.9,custo:80,estoque:15,estoqueMinimo:5,descricao:"Câmera traseira Samsung Galaxy S23",codigo:"CAM-SGS23"}];let tt=0;for(const Be of he)try{const U={...Be,isTeste:!0,createdAt:new Date().toISOString()},ne=await nt.saveData("produtos",U);tt++,M.detalhes.push(`  ✅ ${Be.nome} (ID: ${ne})`)}catch(U){M.detalhes.push(`  ❌ Erro ${Be.nome}: ${U.message}`)}M.detalhes.push("=========================================="),M.detalhes.push(`✅ RESUMO: ${ge} categorias, ${tt} produtos`),M.detalhes.push("✅ Todos os dados marcados como teste")}catch(ee){M.detalhes.push(`❌ Erro geral: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function ps(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔄 FORÇANDO ATUALIZAÇÃO DOS HOOKS..."),M.detalhes.push("====================================="),M.detalhes.push("📊 Dados atuais dos hooks:"),M.detalhes.push(`  📦 Categorias: ${(Y==null?void 0:Y.length)||0}`),M.detalhes.push(`  📱 Produtos: ${(B==null?void 0:B.length)||0}`),M.detalhes.push(`  👥 Clientes: ${(P==null?void 0:P.length)||0}`),M.detalhes.push(`  📋 OS: ${(D==null?void 0:D.length)||0}`),M.detalhes.push(`  🛒 OV: ${(k==null?void 0:k.length)||0}`),M.detalhes.push(`  💰 Financeiro: ${(Ve==null?void 0:Ve.length)||0}`),M.detalhes.push(`  📊 Movimentações: ${($e==null?void 0:$e.length)||0}`),M.detalhes.push("🔍 Verificando dados direto do Firebase...");const ee=await nt.getData("categorias"),ge=await nt.getData("produtos"),he=await nt.getData("clientes");M.detalhes.push("📊 Dados direto do Firebase:"),M.detalhes.push(`  📦 Categorias: ${(ee==null?void 0:ee.length)||0}`),M.detalhes.push(`  📱 Produtos: ${(ge==null?void 0:ge.length)||0}`),M.detalhes.push(`  👥 Clientes: ${(he==null?void 0:he.length)||0}`),(Y==null?void 0:Y.length)!==(ee==null?void 0:ee.length)&&(M.detalhes.push("⚠️ DIFERENÇA: Categorias - Hook vs Firebase"),M.detalhes.push(`  Hook: ${(Y==null?void 0:Y.length)||0}, Firebase: ${(ee==null?void 0:ee.length)||0}`)),(B==null?void 0:B.length)!==(ge==null?void 0:ge.length)&&(M.detalhes.push("⚠️ DIFERENÇA: Produtos - Hook vs Firebase"),M.detalhes.push(`  Hook: ${(B==null?void 0:B.length)||0}, Firebase: ${(ge==null?void 0:ge.length)||0}`)),(P==null?void 0:P.length)!==(he==null?void 0:he.length)&&(M.detalhes.push("⚠️ DIFERENÇA: Clientes - Hook vs Firebase"),M.detalhes.push(`  Hook: ${(P==null?void 0:P.length)||0}, Firebase: ${(he==null?void 0:he.length)||0}`)),M.detalhes.push("✅ Verificação concluída")}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function gs(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🔍 VERIFICANDO DADOS NO FIREBASE..."),M.detalhes.push("=====================================");const ee=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const ge of ee)try{const he=await nt.getData(ge),tt=(he==null?void 0:he.filter(Be=>Be.isTeste))||[];M.detalhes.push(`📊 ${ge.toUpperCase()}:`),M.detalhes.push(`  Total: ${(he==null?void 0:he.length)||0}`),M.detalhes.push(`  Teste: ${tt.length}`),tt.length>0&&(M.detalhes.push("  Exemplos:"),tt.slice(0,3).forEach((Be,U)=>{M.detalhes.push(`    ${U+1}. ${Be.nome||Be.tipo||"Item"} (ID: ${Be.id})`)}))}catch(he){M.detalhes.push(`❌ Erro ao verificar ${ge}: ${he.message}`)}M.detalhes.push("✅ Verificação concluída")}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}async function er(){const M={sucesso:!0,detalhes:[],tempo:0},we=Date.now();try{M.detalhes.push("🗑️ LIMPANDO DADOS DE TESTE..."),M.detalhes.push("=====================================");const ee=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const ge of ee)try{const he=await nt.getData(ge),tt=(he==null?void 0:he.filter(Be=>Be.isTeste))||[];M.detalhes.push(`🗑️ ${ge.toUpperCase()}: ${tt.length} itens de teste`);for(const Be of tt)try{await nt.deleteDocument(ge,Be.id),M.detalhes.push(`  ✅ Removido: ${Be.nome||Be.tipo||"Item"} (ID: ${Be.id})`)}catch(U){M.detalhes.push(`  ❌ Erro ao remover ${Be.id}: ${U.message}`)}}catch(he){M.detalhes.push(`❌ Erro ao limpar ${ge}: ${he.message}`)}M.detalhes.push("✅ Limpeza concluída")}catch(ee){M.detalhes.push(`❌ Erro: ${ee.message}`),M.sucesso=!1}return M.tempo=Date.now()-we,M}const Hr=async M=>{n(!0),i(0);const we=Ie[M];if(!we)return;const ee=we.testes,ge=ee.length;for(let he=0;he<ge;he++){const tt=ee[he];i(he/ge*100);try{const Be=await tt.funcao();s(U=>({...U,[tt.id]:Be}))}catch(Be){s(U=>({...U,[tt.id]:{sucesso:!1,detalhes:[`❌ Erro: ${Be.message}`],tempo:0}}))}}i(100),n(!1)},gr=async M=>{n(!0);try{const we=await M.funcao();s(ee=>({...ee,[M.id]:we}))}catch(we){s(ee=>({...ee,[M.id]:{sucesso:!1,detalhes:[`❌ Erro: ${we.message}`],tempo:0}}))}n(!1)},sn=()=>{s({}),i(0)},tr=()=>{const M={timestamp:new Date().toISOString(),sistema:{nome:"CRM MultiSmart",versao:"1.0.0",ambiente:"desenvolvimento"},resumo:{totalTestes:Object.keys(r).length,testesPassaram:Object.values(r).filter(he=>he.sucesso).length,testesFalharam:Object.values(r).filter(he=>!he.sucesso).length,tempoTotal:Object.values(r).reduce((he,tt)=>he+(tt.tempo||0),0)},categorias:Ie,resultados:r,configuracaoSistema:{configuracoesFirebase:f,configLoja:w,usuarios:(b==null?void 0:b.length)||0,ordensServico:(D==null?void 0:D.length)||0,clientes:(P==null?void 0:P.length)||0,ordensVenda:(k==null?void 0:k.length)||0,produtos:(B==null?void 0:B.length)||0,categorias:(Y==null?void 0:Y.length)||0},statusCarregamento:{configLoading:m,configLojaLoading:y,usuariosLoading:x,osLoading:F,clientesLoading:I,ovLoading:V,produtosLoading:O,categoriasLoading:de}},we=new Blob([JSON.stringify(M,null,2)],{type:"application/json"}),ee=URL.createObjectURL(we),ge=document.createElement("a");ge.href=ee,ge.download=`testes-dev-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(ee),t({title:"Logs exportados",description:"Arquivo de logs baixado com sucesso"})};return a.jsxs("div",{className:"space-y-8",children:[a.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[a.jsx(YS,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Testes DEV"]}),a.jsx("p",{className:"text-purple-100 text-base lg:text-lg",children:"Ferramentas de desenvolvimento e teste do sistema"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-purple-100",children:"Status"}),a.jsx("p",{className:"text-xl font-bold text-green-200",children:e?"Executando...":"Pronto"})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-purple-100",children:"Testes"}),a.jsx("p",{className:"text-xl font-bold",children:Object.keys(r).length})]})]})]})}),a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-pink-500 rounded-lg",children:a.jsx(Gu,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Execute testes e gerencie resultados"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(Q,{variant:"outline",onClick:sn,disabled:e,className:"flex items-center gap-2",children:[a.jsx(SI,{className:"h-4 w-4"}),"Limpar Resultados"]}),a.jsxs(Q,{variant:"outline",onClick:tr,disabled:e,className:"flex items-center gap-2",children:[a.jsx(Yf,{className:"h-4 w-4"}),"Exportar Logs"]})]})})]}),a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:a.jsxs(ql,{value:l,onValueChange:c,className:"w-full",children:[a.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsx(_i,{className:"grid w-full grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-2 h-auto p-1",children:Object.entries(Ie).map(([M,we])=>{const ee=we.icone;return a.jsxs(Sn,{value:M,className:"flex flex-col items-center gap-2 p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[a.jsx(ee,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:we.titulo})]},M)})})}),Object.entries(Ie).map(([M,we])=>a.jsxs(Cn,{value:M,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg",children:a.jsx(we.icone,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:we.titulo}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[we.testes.length," testes disponíveis"]})]})]}),a.jsxs(Q,{onClick:()=>Hr(M),disabled:e,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[a.jsx(KS,{className:"h-4 w-4 mr-2"}),"Executar Todos"]})]}),a.jsx("div",{className:"grid gap-4",children:we.testes.map((ee,ge)=>a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ge*.1},className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:ee.nome}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:ee.descricao}),r[ee.id]&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(or,{variant:r[ee.id].sucesso?"default":"destructive",className:"text-xs",children:r[ee.id].sucesso?"✅ PASSOU":"❌ FALHOU"}),a.jsxs("span",{className:"text-xs text-slate-500",children:[r[ee.id].tempo,"ms"]})]})]}),a.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>gr(ee),disabled:e,className:"ml-4",children:[a.jsx(KS,{className:"h-4 w-4 mr-2"}),"Executar"]})]})},ee.id))})]},M))]})}),e&&a.jsx(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Executando Testes..."}),a.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[Math.round(o),"%"]})]}),a.jsx(PM,{value:o,className:"w-full h-3"})]})}),Object.keys(r).length>0&&a.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:a.jsx(pi,{className:"h-6 w-6 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Resultados dos Testes"})]}),a.jsx("div",{className:"grid gap-4",children:Object.entries(r).map(([M,we])=>a.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[we.sucesso?a.jsx(pi,{className:"h-6 w-6 text-green-500"}):a.jsx(r9,{className:"h-6 w-6 text-red-500"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:M})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(or,{variant:we.sucesso?"default":"destructive",children:we.sucesso?"✅ PASSOU":"❌ FALHOU"}),a.jsxs("span",{className:"text-sm text-slate-500",children:[we.tempo,"ms"]})]})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4",children:a.jsx("div",{className:"space-y-2",children:we.detalhes.map((ee,ge)=>a.jsx("div",{className:"text-sm font-mono text-slate-700 dark:text-slate-300",children:ee},ge))})})]})},M))})]})]})},mr=g.createContext();function ree(){var B;const[t,e]=g.useState("dashboard"),[n,r]=g.useState(!0),[s,o]=g.useState(!1),[i,l]=g.useState(!1),[c,u]=g.useState("pt-BR"),[d,f]=g.useState({clientes:!1,os:!1,ov:!1}),[m,p]=g.useState(null),[w,y]=g.useState(null),{config:S,loading:b,saveConfig:x}=jb(),_=S||{nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"},A=O=>f(z=>({...z,[O]:!0})),D=O=>f(z=>({...z,[O]:!1})),F=O=>{y(O)},C=()=>{y(null)};g.useEffect(()=>{console.log("[App] Carregando configurações iniciais...");const O=localStorage.getItem("crm_usuario_logado");O&&(p(JSON.parse(O)),console.log("[App] Usuário logado carregado:",JSON.parse(O)))},[]),g.useEffect(()=>{_&&!b&&(console.log("[App] Configurações carregadas do Firebase:",_),u(_.idioma||"pt-BR"),I(_))},[_,b]);const E=O=>{console.log("[App] handleLogin chamado com usuário:",O),p(O),localStorage.setItem("crm_usuario_logado",JSON.stringify(O)),console.log("[App] Login realizado e estado atualizado:",O)},P=()=>{console.log("[App] Logout realizado:",m),p(null),localStorage.removeItem("crm_usuario_logado"),e("dashboard")};g.useEffect(()=>{const O=z=>{const Z=z.detail;console.log("[App] 🔄 Evento configuracoesAtualizadas recebido:",Z),Z.idioma&&(u(Z.idioma),console.log("[App] ✅ Idioma atualizado:",Z.idioma)),I(Z)};return window.addEventListener("configuracoesAtualizadas",O),console.log("[App] ✅ Listener configuracoesAtualizadas registrado"),()=>{window.removeEventListener("configuracoesAtualizadas",O),console.log("[App] ✅ Listener configuracoesAtualizadas removido")}},[]);const I=O=>{if(console.log("[App] Aplicando configurações:",O),O.tema){const z=O.tema==="dark";r(z),document.documentElement.className=O.tema==="dark"?"dark":O.tema==="light"?"":"system",console.log("[App] Tema aplicado:",O.tema)}if(O.corPrimaria&&(document.documentElement.style.setProperty("--primary-color",O.corPrimaria),document.documentElement.style.setProperty("--primary-500",O.corPrimaria),document.documentElement.style.setProperty("--primary-600",N(O.corPrimaria,-20)),console.log("[App] Cor primária aplicada:",O.corPrimaria)),O.corSecundaria&&(document.documentElement.style.setProperty("--secondary-color",O.corSecundaria),document.documentElement.style.setProperty("--secondary-500",O.corSecundaria),document.documentElement.style.setProperty("--secondary-600",N(O.corSecundaria,-20)),console.log("[App] Cor secundária aplicada:",O.corSecundaria)),O.logoUrl){const z=document.querySelector('img[alt="Logo da empresa"]');z?z.src=O.logoUrl:console.warn("[App] Elemento de logo não encontrado no DOM.")}if(O.nomeEmpresa){document.title=O.nomeEmpresa;const z=document.querySelector("h1.text-xl");z?z.textContent=O.nomeEmpresa:console.warn("[App] Elemento de nome da empresa não encontrado no DOM.")}},N=(O,z)=>{const Z=parseInt(O.replace("#",""),16),Y=Math.round(2.55*z),de=(Z>>16)+Y,Se=(Z>>8&255)+Y,ye=(Z&255)+Y;return"#"+(16777216+(de<255?de<1?0:de:255)*65536+(Se<255?Se<1?0:Se:255)*256+(ye<255?ye<1?0:ye:255)).toString(16).slice(1)};g.useEffect(()=>{const O=()=>{window.innerWidth<1024?(l(!0),o(!1),console.log("[App] Sidebar recolhida por responsividade (window < 1024px)")):(o(!0),console.log("[App] Sidebar expandida por responsividade (window >= 1024px)"))};return O(),window.addEventListener("resize",O),console.log("[App] Listener de resize registrado"),()=>window.removeEventListener("resize",O)},[]);const k=(O=>{console.log("[App] ===== DETERMINANDO MÓDULOS ====="),console.log("[App] Tipo do usuário recebido:",O);const z=[{id:"dashboard",name:"nav.dashboard",icon:W5},{id:"clientes",name:"nav.clientes",icon:os},{id:"os",name:"nav.os",icon:Sr},{id:"ov",name:"nav.ov",icon:es},{id:"estoque",name:"nav.estoque",icon:Qn},{id:"financeiro",name:"nav.financeiro",icon:Yn},{id:"relatorios",name:"nav.relatorios",icon:D5},{id:"configuracoes",name:"nav.configuracoes",icon:ra}];O==="desenvolvedor"&&(console.log("[App] 🚀 USUÁRIO DESENVOLVEDOR DETECTADO - Adicionando Testes DEV"),z.push({id:"testes-dev",name:"🧪 Testes DEV",icon:ra}));const Z=O==="administrador"?"admin":O||"comum";console.log("[App] Tipo de usuário processado:",Z);const Y=Z==="admin"||Z==="desenvolvedor"?z:Z==="financeiro"?z.filter(de=>["dashboard","clientes","os","ov","estoque","financeiro","configuracoes"].includes(de.id)):Z==="comum"?z.filter(de=>["dashboard","clientes","os","ov","estoque","configuracoes"].includes(de.id)):z.filter(de=>de.id==="dashboard");return console.log("[App] Módulos permitidos para tipo",Z,":",Y.map(de=>de.id)),console.log("[App] ===== FIM DETERMINAÇÃO MÓDULOS ====="),Y})(m==null?void 0:m.tipo),V=()=>{switch(console.log("[App] Renderizando módulo ativo:",t),t){case"dashboard":return a.jsx(jT,{usuarioLogado:m});case"clientes":return a.jsx(cQ,{usuarioLogado:m});case"os":return a.jsx(uQ,{usuarioLogado:m});case"ov":return a.jsx(dQ,{usuarioLogado:m});case"estoque":return a.jsx(hQ,{usuarioLogado:m});case"financeiro":return a.jsx(mQ,{usuarioLogado:m});case"relatorios":return a.jsx(UJ,{usuarioLogado:m});case"configuracoes":return a.jsx(WJ,{usuarioLogado:m});case"testes-dev":return a.jsx(nee,{});default:return a.jsx(jT,{usuarioLogado:m})}},L=()=>{const O=_.nomeEmpresa||"Sistema",z=_.logoUrl;return a.jsxs("div",{className:"flex items-center gap-3",children:[z?a.jsx("img",{src:z,alt:"Logo da empresa",className:"h-14 w-14 rounded object-contain shadow-lg"}):a.jsx("div",{className:"h-14 w-14 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"text-white font-bold text-2xl",children:O.charAt(0).toUpperCase()})}),a.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:O})]})},G=()=>{const O=_.nomeEmpresa||"Sistema",z=_.logoUrl;return a.jsx("div",{className:"flex flex-col items-center gap-2",children:z?a.jsx("img",{src:z,alt:"Logo da empresa",className:"h-8 w-8 rounded object-contain"}):a.jsx("div",{className:"h-8 w-8 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:O.charAt(0).toUpperCase()})})})};return m?(console.log("[App] Usuário logado, mostrando dashboard:",m),console.log("[App] Tipo do usuário:",m==null?void 0:m.tipo),console.log("[App] Módulos disponíveis:",k),b&&!_?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Carregando..."})]})}):a.jsxs(mr.Provider,{value:{activeModule:t,setActiveModule:e,darkMode:n,setDarkMode:r,sidebarOpen:s,setSidebarOpen:o,sidebarCollapsed:i,setSidebarCollapsed:l,configuracoes:_,currentLanguage:c,setCurrentLanguage:u,dialogs:d,openDialog:A,closeDialog:D,usuarioLogado:m,produtoParaReporEstoque:w,definirProdutoParaReporEstoque:F,limparProdutoParaReporEstoque:C},children:[a.jsxs(a.Fragment,{children:[a.jsx(_0,{children:a.jsx("title",{children:_.nomeEmpresa||"CRM Multismart"})}),a.jsxs("div",{className:"min-h-screen flex bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-50 transition-colors duration-300",children:[a.jsx("button",{onClick:()=>o(!s),className:"fixed top-4 left-4 z-50 lg:hidden p-2 rounded-md bg-white dark:bg-slate-800 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsx(H5,{className:"h-6 w-6"})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>o(!1)}),a.jsx("aside",{className:`fixed left-0 top-0 h-full bg-white/90 dark:bg-slate-950/90 backdrop-blur-lg border-r border-slate-200 dark:border-slate-800 z-40 ${i?"w-20":"w-72"} transition-all duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:`p-6 flex items-center mb-8 ${i?"justify-center":"justify-between"}`,children:i?G():L()}),a.jsx("nav",{className:"flex-1 space-y-2 px-4",children:k.map(O=>{const z=O.icon;return a.jsxs("button",{onClick:()=>{e(O.id),window.innerWidth<1024&&o(!1)},className:`w-full flex items-center space-x-3 py-3 rounded-lg text-left transition-all duration-200 ${i?"justify-center px-0":"px-4"} ${t===O.id?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[a.jsx(z,{className:"h-5 w-5 flex-shrink-0"}),!i&&a.jsx("span",{className:"font-medium whitespace-nowrap overflow-hidden",children:Ce(O.name,c)})]},O.id)})}),m&&a.jsxs("div",{className:`flex items-center gap-3 mb-4 px-4 w-full ${i?"justify-center":""}`,style:{minHeight:"56px"},children:[m.foto?a.jsx("img",{src:m.foto,alt:m.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-md"}):a.jsx("span",{className:"inline-block h-10 w-10 rounded-full bg-slate-300 dark:bg-slate-700 text-slate-700 dark:text-slate-200 flex items-center justify-center font-bold",children:(B=m.nome)==null?void 0:B.charAt(0).toUpperCase()}),!i&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm",children:m.nome}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const O=n?"light":"dark";r(!n);const z={..._,tema:O};I(z),console.log("[App] Tema alterado via botão:",O)},className:"hover:bg-slate-100 dark:hover:bg-slate-800 ml-1",children:n?a.jsx(Z5,{className:"h-5 w-5"}):a.jsx(Q5,{className:"h-5 w-5"})}),a.jsx(Q,{size:"sm",variant:"outline",className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-3 py-1 rounded-lg shadow-md transition-colors ml-auto",onClick:P,children:"Sair"})]})]}),a.jsx("div",{className:"hidden lg:flex p-4 border-t border-slate-200 dark:border-slate-800",children:a.jsx(Q,{variant:"ghost",onClick:()=>l(!i),className:"w-full",children:a.jsx(wI,{className:"h-5 w-5",style:{transform:i?"rotate(180deg)":"none",transition:"transform 0.3s"}})})})]})}),a.jsx("main",{className:`flex-1 transition-all duration-300 ${i?"ml-20":"ml-72"} p-4 lg:p-6 pt-16 lg:pt-12`,children:V()})]})]}),a.jsx(IU,{})]})):(console.log("[App] Usuário não logado, mostrando tela de login"),a.jsx(HJ,{onLogin:E}))}Tv.createRoot(document.getElementById("root")).render(a.jsx(Le.StrictMode,{children:a.jsx(ree,{})}));
