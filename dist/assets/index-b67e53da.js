function Q4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ya(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X4(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var bN={exports:{}},rm={},_N={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=Symbol.for("react.element"),Z4=Symbol.for("react.portal"),J4=Symbol.for("react.fragment"),eO=Symbol.for("react.strict_mode"),tO=Symbol.for("react.profiler"),nO=Symbol.for("react.provider"),rO=Symbol.for("react.context"),sO=Symbol.for("react.forward_ref"),oO=Symbol.for("react.suspense"),iO=Symbol.for("react.memo"),aO=Symbol.for("react.lazy"),a_=Symbol.iterator;function lO(t){return t===null||typeof t!="object"?null:(t=a_&&t[a_]||t["@@iterator"],typeof t=="function"?t:null)}var SN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CN=Object.assign,EN={};function _c(t,e,n){this.props=t,this.context=e,this.refs=EN,this.updater=n||SN}_c.prototype.isReactComponent={};_c.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_c.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TN(){}TN.prototype=_c.prototype;function gy(t,e,n){this.props=t,this.context=e,this.refs=EN,this.updater=n||SN}var vy=gy.prototype=new TN;vy.constructor=gy;CN(vy,_c.prototype);vy.isPureReactComponent=!0;var l_=Array.isArray,NN=Object.prototype.hasOwnProperty,xy={current:null},jN={key:!0,ref:!0,__self:!0,__source:!0};function kN(t,e,n){var r,s={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)NN.call(e,r)&&!jN.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ad,type:t,key:o,ref:a,props:s,_owner:xy.current}}function cO(t,e){return{$$typeof:Ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ad}function uO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c_=/\/+/g;function Ig(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uO(""+t.key):e.toString(36)}function uf(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ad:case Z4:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Ig(a,0):r,l_(s)?(n="",t!=null&&(n=t.replace(c_,"$&/")+"/"),uf(s,e,n,"",function(u){return u})):s!=null&&(yy(s)&&(s=cO(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(c_,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",l_(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+Ig(o,l);a+=uf(o,e,n,c,s)}else if(c=lO(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+Ig(o,l++),a+=uf(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function yh(t,e,n){if(t==null)return t;var r=[],s=0;return uf(t,r,"","",function(o){return e.call(n,o,s++)}),r}function dO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},df={transition:null},hO={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:df,ReactCurrentOwner:xy};function IN(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:yh,forEach:function(t,e,n){yh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yh(t,function(){e++}),e},toArray:function(t){return yh(t,function(e){return e})||[]},only:function(t){if(!yy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};et.Component=_c;et.Fragment=J4;et.Profiler=tO;et.PureComponent=gy;et.StrictMode=eO;et.Suspense=oO;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hO;et.act=IN;et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CN({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=xy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)NN.call(e,c)&&!jN.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ad,type:t.type,key:s,ref:o,props:r,_owner:a}};et.createContext=function(t){return t={$$typeof:rO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nO,_context:t},t.Consumer=t};et.createElement=kN;et.createFactory=function(t){var e=kN.bind(null,t);return e.type=t,e};et.createRef=function(){return{current:null}};et.forwardRef=function(t){return{$$typeof:sO,render:t}};et.isValidElement=yy;et.lazy=function(t){return{$$typeof:aO,_payload:{_status:-1,_result:t},_init:dO}};et.memo=function(t,e){return{$$typeof:iO,type:t,compare:e===void 0?null:e}};et.startTransition=function(t){var e=df.transition;df.transition={};try{t()}finally{df.transition=e}};et.unstable_act=IN;et.useCallback=function(t,e){return ur.current.useCallback(t,e)};et.useContext=function(t){return ur.current.useContext(t)};et.useDebugValue=function(){};et.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};et.useEffect=function(t,e){return ur.current.useEffect(t,e)};et.useId=function(){return ur.current.useId()};et.useImperativeHandle=function(t,e,n){return ur.current.useImperativeHandle(t,e,n)};et.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};et.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};et.useMemo=function(t,e){return ur.current.useMemo(t,e)};et.useReducer=function(t,e,n){return ur.current.useReducer(t,e,n)};et.useRef=function(t){return ur.current.useRef(t)};et.useState=function(t){return ur.current.useState(t)};et.useSyncExternalStore=function(t,e,n){return ur.current.useSyncExternalStore(t,e,n)};et.useTransition=function(){return ur.current.useTransition()};et.version="18.3.1";_N.exports=et;var v=_N.exports;const Le=Ya(v),PN=Q4({__proto__:null,default:Le},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fO=v,pO=Symbol.for("react.element"),mO=Symbol.for("react.fragment"),gO=Object.prototype.hasOwnProperty,vO=fO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xO={key:!0,ref:!0,__self:!0,__source:!0};function AN(t,e,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)gO.call(e,r)&&!xO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:pO,type:t,key:o,ref:a,props:s,_owner:vO.current}}rm.Fragment=mO;rm.jsx=AN;rm.jsxs=AN;bN.exports=rm;var i=bN.exports,i0={},RN={exports:{}},$r={},DN={exports:{}},MN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,z){var Y=M.length;M.push(z);e:for(;0<Y;){var Q=Y-1>>>1,he=M[Q];if(0<s(he,z))M[Q]=z,M[Y]=he,Y=Q;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var z=M[0],Y=M.pop();if(Y!==z){M[0]=Y;e:for(var Q=0,he=M.length,de=he>>>1;Q<de;){var xe=2*(Q+1)-1,G=M[xe],ce=xe+1,oe=M[ce];if(0>s(G,Y))ce<he&&0>s(oe,G)?(M[Q]=oe,M[ce]=Y,Q=ce):(M[Q]=G,M[xe]=Y,Q=xe);else if(ce<he&&0>s(oe,Y))M[Q]=oe,M[ce]=Y,Q=ce;else break e}}return z}function s(M,z){var Y=M.sortIndex-z.sortIndex;return Y!==0?Y:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,m=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=M)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function N(M){if(w=!1,b(M),!y)if(n(c)!==null)y=!0,W(R);else{var z=n(u);z!==null&&$(N,z.startTime-M)}}function R(M,z){y=!1,w&&(w=!1,S(T),T=-1),m=!0;var Y=p;try{for(b(z),f=n(c);f!==null&&(!(f.expirationTime>z)||M&&!k());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var he=Q(f.expirationTime<=z);z=t.unstable_now(),typeof he=="function"?f.callback=he:f===n(c)&&r(c),b(z)}else r(c);f=n(c)}if(f!==null)var de=!0;else{var xe=n(u);xe!==null&&$(N,xe.startTime-z),de=!1}return de}finally{f=null,p=Y,m=!1}}var L=!1,C=null,T=-1,P=5,A=-1;function k(){return!(t.unstable_now()-A<P)}function j(){if(C!==null){var M=t.unstable_now();A=M;var z=!0;try{z=C(!0,M)}finally{z?I():(L=!1,C=null)}}else L=!1}var I;if(typeof g=="function")I=function(){g(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=j,I=function(){F.postMessage(null)}}else I=function(){_(j,0)};function W(M){C=M,L||(L=!0,I())}function $(M,z){T=_(function(){M(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,W(R))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var Y=p;p=z;try{return M()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=p;p=M;try{return z()}finally{p=Y}},t.unstable_scheduleCallback=function(M,z,Y){var Q=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Q+Y:Q):Y=Q,M){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Y+he,M={id:d++,callback:z,priorityLevel:M,startTime:Y,expirationTime:he,sortIndex:-1},Y>Q?(M.sortIndex=Y,e(u,M),n(c)===null&&M===n(u)&&(w?(S(T),T=-1):w=!0,$(N,Y-Q))):(M.sortIndex=he,e(c,M),y||m||(y=!0,W(R))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var z=p;return function(){var Y=p;p=z;try{return M.apply(this,arguments)}finally{p=Y}}}})(MN);DN.exports=MN;var yO=DN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO=v,Ur=yO;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ON=new Set,Gu={};function Qa(t,e){Ql(t,e),Ql(t+"Capture",e)}function Ql(t,e){for(Gu[t]=e,t=0;t<e.length;t++)ON.add(e[t])}var Eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a0=Object.prototype.hasOwnProperty,bO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u_={},d_={};function _O(t){return a0.call(d_,t)?!0:a0.call(u_,t)?!1:bO.test(t)?d_[t]=!0:(u_[t]=!0,!1)}function SO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CO(t,e,n,r){if(e===null||typeof e>"u"||SO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dr(t,e,n,r,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var On={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){On[t]=new dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];On[e]=new dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){On[t]=new dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){On[t]=new dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){On[t]=new dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){On[t]=new dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){On[t]=new dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){On[t]=new dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){On[t]=new dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var wy=/[\-:]([a-z])/g;function by(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wy,by);On[e]=new dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wy,by);On[e]=new dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wy,by);On[e]=new dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){On[t]=new dr(t,1,!1,t.toLowerCase(),null,!1,!1)});On.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){On[t]=new dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function _y(t,e,n,r){var s=On.hasOwnProperty(e)?On[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CO(e,n,s,r)&&(n=null),r||s===null?_O(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lo=wO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wh=Symbol.for("react.element"),xl=Symbol.for("react.portal"),yl=Symbol.for("react.fragment"),Sy=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),LN=Symbol.for("react.provider"),FN=Symbol.for("react.context"),Cy=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),u0=Symbol.for("react.suspense_list"),Ey=Symbol.for("react.memo"),Jo=Symbol.for("react.lazy"),VN=Symbol.for("react.offscreen"),h_=Symbol.iterator;function Zc(t){return t===null||typeof t!="object"?null:(t=h_&&t[h_]||t["@@iterator"],typeof t=="function"?t:null)}var Bt=Object.assign,Pg;function mu(t){if(Pg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pg=e&&e[1]||""}return`
`+Pg+t}var Ag=!1;function Rg(t,e){if(!t||Ag)return"";Ag=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ag=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mu(t):""}function EO(t){switch(t.tag){case 5:return mu(t.type);case 16:return mu("Lazy");case 13:return mu("Suspense");case 19:return mu("SuspenseList");case 0:case 2:case 15:return t=Rg(t.type,!1),t;case 11:return t=Rg(t.type.render,!1),t;case 1:return t=Rg(t.type,!0),t;default:return""}}function d0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yl:return"Fragment";case xl:return"Portal";case l0:return"Profiler";case Sy:return"StrictMode";case c0:return"Suspense";case u0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FN:return(t.displayName||"Context")+".Consumer";case LN:return(t._context.displayName||"Context")+".Provider";case Cy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ey:return e=t.displayName||null,e!==null?e:d0(t.type)||"Memo";case Jo:e=t._payload,t=t._init;try{return d0(t(e))}catch{}}return null}function TO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d0(e);case 8:return e===Sy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NO(t){var e=zN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bh(t){t._valueTracker||(t._valueTracker=NO(t))}function UN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h0(t,e){var n=e.checked;return Bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function f_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BN(t,e){e=e.checked,e!=null&&_y(t,"checked",e,!1)}function f0(t,e){BN(t,e);var n=ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?p0(t,e.type,n):e.hasOwnProperty("defaultValue")&&p0(t,e.type,ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function p_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function p0(t,e,n){(e!=="number"||Bf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gu=Array.isArray;function Ol(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ki(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function m0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function m_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(gu(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ki(n)}}function $N(t,e){var n=ki(e.value),r=ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function g_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _h,WN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_h=_h||document.createElement("div"),_h.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_h.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jO=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(t){jO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nu[e]=Nu[t]})});function HN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nu.hasOwnProperty(t)&&Nu[t]?(""+e).trim():e+"px"}function GN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=HN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var kO=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v0(t,e){if(e){if(kO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function x0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y0=null;function Ty(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var w0=null,Ll=null,Fl=null;function v_(t){if(t=Md(t)){if(typeof w0!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=lm(e),w0(t.stateNode,t.type,e))}}function KN(t){Ll?Fl?Fl.push(t):Fl=[t]:Ll=t}function YN(){if(Ll){var t=Ll,e=Fl;if(Fl=Ll=null,v_(t),e)for(t=0;t<e.length;t++)v_(e[t])}}function QN(t,e){return t(e)}function XN(){}var Dg=!1;function ZN(t,e,n){if(Dg)return t(e,n);Dg=!0;try{return QN(t,e,n)}finally{Dg=!1,(Ll!==null||Fl!==null)&&(XN(),YN())}}function Yu(t,e){var n=t.stateNode;if(n===null)return null;var r=lm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var b0=!1;if(Eo)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){b0=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{b0=!1}function IO(t,e,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ju=!1,$f=null,qf=!1,_0=null,PO={onError:function(t){ju=!0,$f=t}};function AO(t,e,n,r,s,o,a,l,c){ju=!1,$f=null,IO.apply(PO,arguments)}function RO(t,e,n,r,s,o,a,l,c){if(AO.apply(this,arguments),ju){if(ju){var u=$f;ju=!1,$f=null}else throw Error(ue(198));qf||(qf=!0,_0=u)}}function Xa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function JN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x_(t){if(Xa(t)!==t)throw Error(ue(188))}function DO(t){var e=t.alternate;if(!e){if(e=Xa(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return x_(s),t;if(o===r)return x_(s),e;o=o.sibling}throw Error(ue(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function ej(t){return t=DO(t),t!==null?tj(t):null}function tj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tj(t);if(e!==null)return e;t=t.sibling}return null}var nj=Ur.unstable_scheduleCallback,y_=Ur.unstable_cancelCallback,MO=Ur.unstable_shouldYield,OO=Ur.unstable_requestPaint,Xt=Ur.unstable_now,LO=Ur.unstable_getCurrentPriorityLevel,Ny=Ur.unstable_ImmediatePriority,rj=Ur.unstable_UserBlockingPriority,Wf=Ur.unstable_NormalPriority,FO=Ur.unstable_LowPriority,sj=Ur.unstable_IdlePriority,sm=null,$s=null;function VO(t){if($s&&typeof $s.onCommitFiberRoot=="function")try{$s.onCommitFiberRoot(sm,t,void 0,(t.current.flags&128)===128)}catch{}}var ys=Math.clz32?Math.clz32:BO,zO=Math.log,UO=Math.LN2;function BO(t){return t>>>=0,t===0?32:31-(zO(t)/UO|0)|0}var Sh=64,Ch=4194304;function vu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=vu(l):(o&=a,o!==0&&(r=vu(o)))}else a=n&~s,a!==0?r=vu(a):o!==0&&(r=vu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ys(e),s=1<<n,r|=t[n],e&=~s;return r}function $O(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ys(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=$O(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function S0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oj(){var t=Sh;return Sh<<=1,!(Sh&4194240)&&(Sh=64),t}function Mg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ys(e),t[e]=n}function WO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ys(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function jy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ys(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var wt=0;function ij(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aj,ky,lj,cj,uj,C0=!1,Eh=[],fi=null,pi=null,mi=null,Qu=new Map,Xu=new Map,ri=[],HO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w_(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(e.pointerId)}}function eu(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Md(e),e!==null&&ky(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function GO(t,e,n,r,s){switch(e){case"focusin":return fi=eu(fi,t,e,n,r,s),!0;case"dragenter":return pi=eu(pi,t,e,n,r,s),!0;case"mouseover":return mi=eu(mi,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Qu.set(o,eu(Qu.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Xu.set(o,eu(Xu.get(o)||null,t,e,n,r,s)),!0}return!1}function dj(t){var e=ma(t.target);if(e!==null){var n=Xa(e);if(n!==null){if(e=n.tag,e===13){if(e=JN(n),e!==null){t.blockedOn=e,uj(t.priority,function(){lj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=E0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);y0=r,n.target.dispatchEvent(r),y0=null}else return e=Md(n),e!==null&&ky(e),t.blockedOn=n,!1;e.shift()}return!0}function b_(t,e,n){hf(t)&&n.delete(e)}function KO(){C0=!1,fi!==null&&hf(fi)&&(fi=null),pi!==null&&hf(pi)&&(pi=null),mi!==null&&hf(mi)&&(mi=null),Qu.forEach(b_),Xu.forEach(b_)}function tu(t,e){t.blockedOn===e&&(t.blockedOn=null,C0||(C0=!0,Ur.unstable_scheduleCallback(Ur.unstable_NormalPriority,KO)))}function Zu(t){function e(s){return tu(s,t)}if(0<Eh.length){tu(Eh[0],t);for(var n=1;n<Eh.length;n++){var r=Eh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&tu(fi,t),pi!==null&&tu(pi,t),mi!==null&&tu(mi,t),Qu.forEach(e),Xu.forEach(e),n=0;n<ri.length;n++)r=ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)dj(n),n.blockedOn===null&&ri.shift()}var Vl=Lo.ReactCurrentBatchConfig,Gf=!0;function YO(t,e,n,r){var s=wt,o=Vl.transition;Vl.transition=null;try{wt=1,Iy(t,e,n,r)}finally{wt=s,Vl.transition=o}}function QO(t,e,n,r){var s=wt,o=Vl.transition;Vl.transition=null;try{wt=4,Iy(t,e,n,r)}finally{wt=s,Vl.transition=o}}function Iy(t,e,n,r){if(Gf){var s=E0(t,e,n,r);if(s===null)Wg(t,e,r,Kf,n),w_(t,r);else if(GO(s,t,e,n,r))r.stopPropagation();else if(w_(t,r),e&4&&-1<HO.indexOf(t)){for(;s!==null;){var o=Md(s);if(o!==null&&aj(o),o=E0(t,e,n,r),o===null&&Wg(t,e,r,Kf,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Wg(t,e,r,null,n)}}var Kf=null;function E0(t,e,n,r){if(Kf=null,t=Ty(r),t=ma(t),t!==null)if(e=Xa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=JN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kf=t,null}function hj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LO()){case Ny:return 1;case rj:return 4;case Wf:case FO:return 16;case sj:return 536870912;default:return 16}default:return 16}}var ui=null,Py=null,ff=null;function fj(){if(ff)return ff;var t,e=Py,n=e.length,r,s="value"in ui?ui.value:ui.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[o-r];r++);return ff=s.slice(t,1<r?1-r:void 0)}function pf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function __(){return!1}function qr(t){function e(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Th:__,this.isPropagationStopped=__,this}return Bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ay=qr(Sc),Dd=Bt({},Sc,{view:0,detail:0}),XO=qr(Dd),Og,Lg,nu,om=Bt({},Dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ry,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nu&&(nu&&t.type==="mousemove"?(Og=t.screenX-nu.screenX,Lg=t.screenY-nu.screenY):Lg=Og=0,nu=t),Og)},movementY:function(t){return"movementY"in t?t.movementY:Lg}}),S_=qr(om),ZO=Bt({},om,{dataTransfer:0}),JO=qr(ZO),eL=Bt({},Dd,{relatedTarget:0}),Fg=qr(eL),tL=Bt({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),nL=qr(tL),rL=Bt({},Sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sL=qr(rL),oL=Bt({},Sc,{data:0}),C_=qr(oL),iL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lL[t])?!!e[t]:!1}function Ry(){return cL}var uL=Bt({},Dd,{key:function(t){if(t.key){var e=iL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ry,charCode:function(t){return t.type==="keypress"?pf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dL=qr(uL),hL=Bt({},om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E_=qr(hL),fL=Bt({},Dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ry}),pL=qr(fL),mL=Bt({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),gL=qr(mL),vL=Bt({},om,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xL=qr(vL),yL=[9,13,27,32],Dy=Eo&&"CompositionEvent"in window,ku=null;Eo&&"documentMode"in document&&(ku=document.documentMode);var wL=Eo&&"TextEvent"in window&&!ku,pj=Eo&&(!Dy||ku&&8<ku&&11>=ku),T_=String.fromCharCode(32),N_=!1;function mj(t,e){switch(t){case"keyup":return yL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wl=!1;function bL(t,e){switch(t){case"compositionend":return gj(e);case"keypress":return e.which!==32?null:(N_=!0,T_);case"textInput":return t=e.data,t===T_&&N_?null:t;default:return null}}function _L(t,e){if(wl)return t==="compositionend"||!Dy&&mj(t,e)?(t=fj(),ff=Py=ui=null,wl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pj&&e.locale!=="ko"?null:e.data;default:return null}}var SL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SL[t.type]:e==="textarea"}function vj(t,e,n,r){KN(r),e=Yf(e,"onChange"),0<e.length&&(n=new Ay("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Iu=null,Ju=null;function CL(t){jj(t,0)}function im(t){var e=Sl(t);if(UN(e))return t}function EL(t,e){if(t==="change")return e}var xj=!1;if(Eo){var Vg;if(Eo){var zg="oninput"in document;if(!zg){var k_=document.createElement("div");k_.setAttribute("oninput","return;"),zg=typeof k_.oninput=="function"}Vg=zg}else Vg=!1;xj=Vg&&(!document.documentMode||9<document.documentMode)}function I_(){Iu&&(Iu.detachEvent("onpropertychange",yj),Ju=Iu=null)}function yj(t){if(t.propertyName==="value"&&im(Ju)){var e=[];vj(e,Ju,t,Ty(t)),ZN(CL,e)}}function TL(t,e,n){t==="focusin"?(I_(),Iu=e,Ju=n,Iu.attachEvent("onpropertychange",yj)):t==="focusout"&&I_()}function NL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return im(Ju)}function jL(t,e){if(t==="click")return im(e)}function kL(t,e){if(t==="input"||t==="change")return im(e)}function IL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cs=typeof Object.is=="function"?Object.is:IL;function ed(t,e){if(Cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!a0.call(e,s)||!Cs(t[s],e[s]))return!1}return!0}function P_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A_(t,e){var n=P_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P_(n)}}function wj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bj(){for(var t=window,e=Bf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bf(t.document)}return e}function My(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PL(t){var e=bj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wj(n.ownerDocument.documentElement,n)){if(r!==null&&My(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=A_(n,o);var a=A_(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AL=Eo&&"documentMode"in document&&11>=document.documentMode,bl=null,T0=null,Pu=null,N0=!1;function R_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;N0||bl==null||bl!==Bf(r)||(r=bl,"selectionStart"in r&&My(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pu&&ed(Pu,r)||(Pu=r,r=Yf(T0,"onSelect"),0<r.length&&(e=new Ay("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bl)))}function Nh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _l={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},Ug={},_j={};Eo&&(_j=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function am(t){if(Ug[t])return Ug[t];if(!_l[t])return t;var e=_l[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _j)return Ug[t]=e[n];return t}var Sj=am("animationend"),Cj=am("animationiteration"),Ej=am("animationstart"),Tj=am("transitionend"),Nj=new Map,D_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){Nj.set(t,e),Qa(e,[t])}for(var Bg=0;Bg<D_.length;Bg++){var $g=D_[Bg],RL=$g.toLowerCase(),DL=$g[0].toUpperCase()+$g.slice(1);$i(RL,"on"+DL)}$i(Sj,"onAnimationEnd");$i(Cj,"onAnimationIteration");$i(Ej,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(Tj,"onTransitionEnd");Ql("onMouseEnter",["mouseout","mouseover"]);Ql("onMouseLeave",["mouseout","mouseover"]);Ql("onPointerEnter",["pointerout","pointerover"]);Ql("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ML=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function M_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RO(r,e,void 0,t),t.currentTarget=null}function jj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;M_(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;M_(s,l,u),o=c}}}if(qf)throw t=_0,qf=!1,_0=null,t}function At(t,e){var n=e[A0];n===void 0&&(n=e[A0]=new Set);var r=t+"__bubble";n.has(r)||(kj(e,t,2,!1),n.add(r))}function qg(t,e,n){var r=0;e&&(r|=4),kj(n,t,r,e)}var jh="_reactListening"+Math.random().toString(36).slice(2);function td(t){if(!t[jh]){t[jh]=!0,ON.forEach(function(n){n!=="selectionchange"&&(ML.has(n)||qg(n,!1,t),qg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jh]||(e[jh]=!0,qg("selectionchange",!1,e))}}function kj(t,e,n,r){switch(hj(e)){case 1:var s=YO;break;case 4:s=QO;break;default:s=Iy}n=s.bind(null,e,n,t),s=void 0,!b0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Wg(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ma(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}ZN(function(){var u=o,d=Ty(n),f=[];e:{var p=Nj.get(t);if(p!==void 0){var m=Ay,y=t;switch(t){case"keypress":if(pf(n)===0)break e;case"keydown":case"keyup":m=dL;break;case"focusin":y="focus",m=Fg;break;case"focusout":y="blur",m=Fg;break;case"beforeblur":case"afterblur":m=Fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=S_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=JO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pL;break;case Sj:case Cj:case Ej:m=nL;break;case Tj:m=gL;break;case"scroll":m=XO;break;case"wheel":m=xL;break;case"copy":case"cut":case"paste":m=sL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=E_}var w=(e&4)!==0,_=!w&&t==="scroll",S=w?p!==null?p+"Capture":null:p;w=[];for(var g=u,b;g!==null;){b=g;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,S!==null&&(N=Yu(g,S),N!=null&&w.push(nd(g,N,b)))),_)break;g=g.return}0<w.length&&(p=new m(p,y,null,n,d),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==y0&&(y=n.relatedTarget||n.fromElement)&&(ma(y)||y[To]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ma(y):null,y!==null&&(_=Xa(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=S_,N="onMouseLeave",S="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=E_,N="onPointerLeave",S="onPointerEnter",g="pointer"),_=m==null?p:Sl(m),b=y==null?p:Sl(y),p=new w(N,g+"leave",m,n,d),p.target=_,p.relatedTarget=b,N=null,ma(d)===u&&(w=new w(S,g+"enter",y,n,d),w.target=b,w.relatedTarget=_,N=w),_=N,m&&y)t:{for(w=m,S=y,g=0,b=w;b;b=al(b))g++;for(b=0,N=S;N;N=al(N))b++;for(;0<g-b;)w=al(w),g--;for(;0<b-g;)S=al(S),b--;for(;g--;){if(w===S||S!==null&&w===S.alternate)break t;w=al(w),S=al(S)}w=null}else w=null;m!==null&&O_(f,p,m,w,!1),y!==null&&_!==null&&O_(f,_,y,w,!0)}}e:{if(p=u?Sl(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=EL;else if(j_(p))if(xj)R=kL;else{R=NL;var L=TL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=jL);if(R&&(R=R(t,u))){vj(f,R,n,d);break e}L&&L(t,p,u),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&p0(p,"number",p.value)}switch(L=u?Sl(u):window,t){case"focusin":(j_(L)||L.contentEditable==="true")&&(bl=L,T0=u,Pu=null);break;case"focusout":Pu=T0=bl=null;break;case"mousedown":N0=!0;break;case"contextmenu":case"mouseup":case"dragend":N0=!1,R_(f,n,d);break;case"selectionchange":if(AL)break;case"keydown":case"keyup":R_(f,n,d)}var C;if(Dy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else wl?mj(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(pj&&n.locale!=="ko"&&(wl||T!=="onCompositionStart"?T==="onCompositionEnd"&&wl&&(C=fj()):(ui=d,Py="value"in ui?ui.value:ui.textContent,wl=!0)),L=Yf(u,T),0<L.length&&(T=new C_(T,t,null,n,d),f.push({event:T,listeners:L}),C?T.data=C:(C=gj(n),C!==null&&(T.data=C)))),(C=wL?bL(t,n):_L(t,n))&&(u=Yf(u,"onBeforeInput"),0<u.length&&(d=new C_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}jj(f,e)})}function nd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Yu(t,n),o!=null&&r.unshift(nd(t,o,s)),o=Yu(t,e),o!=null&&r.push(nd(t,o,s))),t=t.return}return r}function al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O_(t,e,n,r,s){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Yu(n,o),c!=null&&a.unshift(nd(n,c,l))):s||(c=Yu(n,o),c!=null&&a.push(nd(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var OL=/\r\n?/g,LL=/\u0000|\uFFFD/g;function L_(t){return(typeof t=="string"?t:""+t).replace(OL,`
`).replace(LL,"")}function kh(t,e,n){if(e=L_(e),L_(t)!==e&&n)throw Error(ue(425))}function Qf(){}var j0=null,k0=null;function I0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var P0=typeof setTimeout=="function"?setTimeout:void 0,FL=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,VL=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(t){return F_.resolve(null).then(t).catch(zL)}:P0;function zL(t){setTimeout(function(){throw t})}function Hg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Zu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zu(e)}function gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function V_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Cc,rd="__reactProps$"+Cc,To="__reactContainer$"+Cc,A0="__reactEvents$"+Cc,UL="__reactListeners$"+Cc,BL="__reactHandles$"+Cc;function ma(t){var e=t[Vs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[To]||n[Vs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=V_(t);t!==null;){if(n=t[Vs])return n;t=V_(t)}return e}t=n,n=t.parentNode}return null}function Md(t){return t=t[Vs]||t[To],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function lm(t){return t[rd]||null}var R0=[],Cl=-1;function qi(t){return{current:t}}function Dt(t){0>Cl||(t.current=R0[Cl],R0[Cl]=null,Cl--)}function Nt(t,e){Cl++,R0[Cl]=t.current,t.current=e}var Ii={},Jn=qi(Ii),br=qi(!1),Pa=Ii;function Xl(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _r(t){return t=t.childContextTypes,t!=null}function Xf(){Dt(br),Dt(Jn)}function z_(t,e,n){if(Jn.current!==Ii)throw Error(ue(168));Nt(Jn,e),Nt(br,n)}function Ij(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ue(108,TO(t)||"Unknown",s));return Bt({},n,r)}function Zf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,Pa=Jn.current,Nt(Jn,t),Nt(br,br.current),!0}function U_(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=Ij(t,e,Pa),r.__reactInternalMemoizedMergedChildContext=t,Dt(br),Dt(Jn),Nt(Jn,t)):Dt(br),Nt(br,n)}var ho=null,cm=!1,Gg=!1;function Pj(t){ho===null?ho=[t]:ho.push(t)}function $L(t){cm=!0,Pj(t)}function Wi(){if(!Gg&&ho!==null){Gg=!0;var t=0,e=wt;try{var n=ho;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ho=null,cm=!1}catch(s){throw ho!==null&&(ho=ho.slice(t+1)),nj(Ny,Wi),s}finally{wt=e,Gg=!1}}return null}var El=[],Tl=0,Jf=null,ep=0,Yr=[],Qr=0,Aa=null,fo=1,po="";function aa(t,e){El[Tl++]=ep,El[Tl++]=Jf,Jf=t,ep=e}function Aj(t,e,n){Yr[Qr++]=fo,Yr[Qr++]=po,Yr[Qr++]=Aa,Aa=t;var r=fo;t=po;var s=32-ys(r)-1;r&=~(1<<s),n+=1;var o=32-ys(e)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,fo=1<<32-ys(e)+s|n<<s|r,po=o+t}else fo=1<<o|n<<s|r,po=t}function Oy(t){t.return!==null&&(aa(t,1),Aj(t,1,0))}function Ly(t){for(;t===Jf;)Jf=El[--Tl],El[Tl]=null,ep=El[--Tl],El[Tl]=null;for(;t===Aa;)Aa=Yr[--Qr],Yr[Qr]=null,po=Yr[--Qr],Yr[Qr]=null,fo=Yr[--Qr],Yr[Qr]=null}var Lr=null,Mr=null,Ot=!1,ms=null;function Rj(t,e){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function B_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lr=t,Mr=gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lr=t,Mr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Aa!==null?{id:fo,overflow:po}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lr=t,Mr=null,!0):!1;default:return!1}}function D0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function M0(t){if(Ot){var e=Mr;if(e){var n=e;if(!B_(t,e)){if(D0(t))throw Error(ue(418));e=gi(n.nextSibling);var r=Lr;e&&B_(t,e)?Rj(r,n):(t.flags=t.flags&-4097|2,Ot=!1,Lr=t)}}else{if(D0(t))throw Error(ue(418));t.flags=t.flags&-4097|2,Ot=!1,Lr=t}}}function $_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lr=t}function Ih(t){if(t!==Lr)return!1;if(!Ot)return $_(t),Ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!I0(t.type,t.memoizedProps)),e&&(e=Mr)){if(D0(t))throw Dj(),Error(ue(418));for(;e;)Rj(t,e),e=gi(e.nextSibling)}if($_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mr=gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mr=null}}else Mr=Lr?gi(t.stateNode.nextSibling):null;return!0}function Dj(){for(var t=Mr;t;)t=gi(t.nextSibling)}function Zl(){Mr=Lr=null,Ot=!1}function Fy(t){ms===null?ms=[t]:ms.push(t)}var qL=Lo.ReactCurrentBatchConfig;function ru(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function Ph(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q_(t){var e=t._init;return e(t._payload)}function Mj(t){function e(S,g){if(t){var b=S.deletions;b===null?(S.deletions=[g],S.flags|=16):b.push(g)}}function n(S,g){if(!t)return null;for(;g!==null;)e(S,g),g=g.sibling;return null}function r(S,g){for(S=new Map;g!==null;)g.key!==null?S.set(g.key,g):S.set(g.index,g),g=g.sibling;return S}function s(S,g){return S=wi(S,g),S.index=0,S.sibling=null,S}function o(S,g,b){return S.index=b,t?(b=S.alternate,b!==null?(b=b.index,b<g?(S.flags|=2,g):b):(S.flags|=2,g)):(S.flags|=1048576,g)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,g,b,N){return g===null||g.tag!==6?(g=ev(b,S.mode,N),g.return=S,g):(g=s(g,b),g.return=S,g)}function c(S,g,b,N){var R=b.type;return R===yl?d(S,g,b.props.children,N,b.key):g!==null&&(g.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Jo&&q_(R)===g.type)?(N=s(g,b.props),N.ref=ru(S,g,b),N.return=S,N):(N=bf(b.type,b.key,b.props,null,S.mode,N),N.ref=ru(S,g,b),N.return=S,N)}function u(S,g,b,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=tv(b,S.mode,N),g.return=S,g):(g=s(g,b.children||[]),g.return=S,g)}function d(S,g,b,N,R){return g===null||g.tag!==7?(g=Sa(b,S.mode,N,R),g.return=S,g):(g=s(g,b),g.return=S,g)}function f(S,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ev(""+g,S.mode,b),g.return=S,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wh:return b=bf(g.type,g.key,g.props,null,S.mode,b),b.ref=ru(S,null,g),b.return=S,b;case xl:return g=tv(g,S.mode,b),g.return=S,g;case Jo:var N=g._init;return f(S,N(g._payload),b)}if(gu(g)||Zc(g))return g=Sa(g,S.mode,b,null),g.return=S,g;Ph(S,g)}return null}function p(S,g,b,N){var R=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:l(S,g,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wh:return b.key===R?c(S,g,b,N):null;case xl:return b.key===R?u(S,g,b,N):null;case Jo:return R=b._init,p(S,g,R(b._payload),N)}if(gu(b)||Zc(b))return R!==null?null:d(S,g,b,N,null);Ph(S,b)}return null}function m(S,g,b,N,R){if(typeof N=="string"&&N!==""||typeof N=="number")return S=S.get(b)||null,l(g,S,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case wh:return S=S.get(N.key===null?b:N.key)||null,c(g,S,N,R);case xl:return S=S.get(N.key===null?b:N.key)||null,u(g,S,N,R);case Jo:var L=N._init;return m(S,g,b,L(N._payload),R)}if(gu(N)||Zc(N))return S=S.get(b)||null,d(g,S,N,R,null);Ph(g,N)}return null}function y(S,g,b,N){for(var R=null,L=null,C=g,T=g=0,P=null;C!==null&&T<b.length;T++){C.index>T?(P=C,C=null):P=C.sibling;var A=p(S,C,b[T],N);if(A===null){C===null&&(C=P);break}t&&C&&A.alternate===null&&e(S,C),g=o(A,g,T),L===null?R=A:L.sibling=A,L=A,C=P}if(T===b.length)return n(S,C),Ot&&aa(S,T),R;if(C===null){for(;T<b.length;T++)C=f(S,b[T],N),C!==null&&(g=o(C,g,T),L===null?R=C:L.sibling=C,L=C);return Ot&&aa(S,T),R}for(C=r(S,C);T<b.length;T++)P=m(C,S,T,b[T],N),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),g=o(P,g,T),L===null?R=P:L.sibling=P,L=P);return t&&C.forEach(function(k){return e(S,k)}),Ot&&aa(S,T),R}function w(S,g,b,N){var R=Zc(b);if(typeof R!="function")throw Error(ue(150));if(b=R.call(b),b==null)throw Error(ue(151));for(var L=R=null,C=g,T=g=0,P=null,A=b.next();C!==null&&!A.done;T++,A=b.next()){C.index>T?(P=C,C=null):P=C.sibling;var k=p(S,C,A.value,N);if(k===null){C===null&&(C=P);break}t&&C&&k.alternate===null&&e(S,C),g=o(k,g,T),L===null?R=k:L.sibling=k,L=k,C=P}if(A.done)return n(S,C),Ot&&aa(S,T),R;if(C===null){for(;!A.done;T++,A=b.next())A=f(S,A.value,N),A!==null&&(g=o(A,g,T),L===null?R=A:L.sibling=A,L=A);return Ot&&aa(S,T),R}for(C=r(S,C);!A.done;T++,A=b.next())A=m(C,S,T,A.value,N),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),g=o(A,g,T),L===null?R=A:L.sibling=A,L=A);return t&&C.forEach(function(j){return e(S,j)}),Ot&&aa(S,T),R}function _(S,g,b,N){if(typeof b=="object"&&b!==null&&b.type===yl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wh:e:{for(var R=b.key,L=g;L!==null;){if(L.key===R){if(R=b.type,R===yl){if(L.tag===7){n(S,L.sibling),g=s(L,b.props.children),g.return=S,S=g;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Jo&&q_(R)===L.type){n(S,L.sibling),g=s(L,b.props),g.ref=ru(S,L,b),g.return=S,S=g;break e}n(S,L);break}else e(S,L);L=L.sibling}b.type===yl?(g=Sa(b.props.children,S.mode,N,b.key),g.return=S,S=g):(N=bf(b.type,b.key,b.props,null,S.mode,N),N.ref=ru(S,g,b),N.return=S,S=N)}return a(S);case xl:e:{for(L=b.key;g!==null;){if(g.key===L)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(S,g.sibling),g=s(g,b.children||[]),g.return=S,S=g;break e}else{n(S,g);break}else e(S,g);g=g.sibling}g=tv(b,S.mode,N),g.return=S,S=g}return a(S);case Jo:return L=b._init,_(S,g,L(b._payload),N)}if(gu(b))return y(S,g,b,N);if(Zc(b))return w(S,g,b,N);Ph(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(S,g.sibling),g=s(g,b),g.return=S,S=g):(n(S,g),g=ev(b,S.mode,N),g.return=S,S=g),a(S)):n(S,g)}return _}var Jl=Mj(!0),Oj=Mj(!1),tp=qi(null),np=null,Nl=null,Vy=null;function zy(){Vy=Nl=np=null}function Uy(t){var e=tp.current;Dt(tp),t._currentValue=e}function O0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zl(t,e){np=t,Vy=Nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yr=!0),t.firstContext=null)}function ss(t){var e=t._currentValue;if(Vy!==t)if(t={context:t,memoizedValue:e,next:null},Nl===null){if(np===null)throw Error(ue(308));Nl=t,np.dependencies={lanes:0,firstContext:t}}else Nl=Nl.next=t;return e}var ga=null;function By(t){ga===null?ga=[t]:ga.push(t)}function Lj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,By(e)):(n.next=s.next,s.next=n),e.interleaved=n,No(t,r)}function No(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ei=!1;function $y(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ft&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,No(t,n)}return s=r.interleaved,s===null?(e.next=e,By(r)):(e.next=s.next,s.next=e),r.interleaved=e,No(t,n)}function mf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jy(t,n)}}function W_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rp(t,e,n,r){var s=t.updateQueue;ei=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,d=u=c=null,l=o;do{var p=l.lane,m=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(p=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=Bt({},f,p);break e;case 2:ei=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Da|=a,t.lanes=a,t.memoizedState=f}}function H_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ue(191,s));s.call(r)}}}var Od={},qs=qi(Od),sd=qi(Od),od=qi(Od);function va(t){if(t===Od)throw Error(ue(174));return t}function qy(t,e){switch(Nt(od,e),Nt(sd,t),Nt(qs,Od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g0(e,t)}Dt(qs),Nt(qs,e)}function ec(){Dt(qs),Dt(sd),Dt(od)}function Vj(t){va(od.current);var e=va(qs.current),n=g0(e,t.type);e!==n&&(Nt(sd,t),Nt(qs,n))}function Wy(t){sd.current===t&&(Dt(qs),Dt(sd))}var Vt=qi(0);function sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kg=[];function Hy(){for(var t=0;t<Kg.length;t++)Kg[t]._workInProgressVersionPrimary=null;Kg.length=0}var gf=Lo.ReactCurrentDispatcher,Yg=Lo.ReactCurrentBatchConfig,Ra=0,Ut=null,hn=null,En=null,op=!1,Au=!1,id=0,WL=0;function Bn(){throw Error(ue(321))}function Gy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cs(t[n],e[n]))return!1;return!0}function Ky(t,e,n,r,s,o){if(Ra=o,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gf.current=t===null||t.memoizedState===null?YL:QL,t=n(r,s),Au){o=0;do{if(Au=!1,id=0,25<=o)throw Error(ue(301));o+=1,En=hn=null,e.updateQueue=null,gf.current=XL,t=n(r,s)}while(Au)}if(gf.current=ip,e=hn!==null&&hn.next!==null,Ra=0,En=hn=Ut=null,op=!1,e)throw Error(ue(300));return t}function Yy(){var t=id!==0;return id=0,t}function Ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Ut.memoizedState=En=t:En=En.next=t,En}function os(){if(hn===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=hn.next;var e=En===null?Ut.memoizedState:En.next;if(e!==null)En=e,hn=t;else{if(t===null)throw Error(ue(310));hn=t,t={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},En===null?Ut.memoizedState=En=t:En=En.next=t}return En}function ad(t,e){return typeof e=="function"?e(t):e}function Qg(t){var e=os(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=hn,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Ra&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Ut.lanes|=d,Da|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,Cs(r,e.memoizedState)||(yr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Ut.lanes|=o,Da|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xg(t){var e=os(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);Cs(o,e.memoizedState)||(yr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function zj(){}function Uj(t,e){var n=Ut,r=os(),s=e(),o=!Cs(r.memoizedState,s);if(o&&(r.memoizedState=s,yr=!0),r=r.queue,Qy(qj.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,ld(9,$j.bind(null,n,r,s,e),void 0,null),Nn===null)throw Error(ue(349));Ra&30||Bj(n,e,s)}return s}function Bj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $j(t,e,n,r){e.value=n,e.getSnapshot=r,Wj(e)&&Hj(t)}function qj(t,e,n){return n(function(){Wj(e)&&Hj(t)})}function Wj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cs(t,n)}catch{return!0}}function Hj(t){var e=No(t,1);e!==null&&ws(e,t,1,-1)}function G_(t){var e=Ms();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:t},e.queue=t,t=t.dispatch=KL.bind(null,Ut,t),[e.memoizedState,t]}function ld(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gj(){return os().memoizedState}function vf(t,e,n,r){var s=Ms();Ut.flags|=t,s.memoizedState=ld(1|e,n,void 0,r===void 0?null:r)}function um(t,e,n,r){var s=os();r=r===void 0?null:r;var o=void 0;if(hn!==null){var a=hn.memoizedState;if(o=a.destroy,r!==null&&Gy(r,a.deps)){s.memoizedState=ld(e,n,o,r);return}}Ut.flags|=t,s.memoizedState=ld(1|e,n,o,r)}function K_(t,e){return vf(8390656,8,t,e)}function Qy(t,e){return um(2048,8,t,e)}function Kj(t,e){return um(4,2,t,e)}function Yj(t,e){return um(4,4,t,e)}function Qj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xj(t,e,n){return n=n!=null?n.concat([t]):null,um(4,4,Qj.bind(null,e,t),n)}function Xy(){}function Zj(t,e){var n=os();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jj(t,e){var n=os();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ek(t,e,n){return Ra&21?(Cs(n,e)||(n=oj(),Ut.lanes|=n,Da|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yr=!0),t.memoizedState=n)}function HL(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=Yg.transition;Yg.transition={};try{t(!1),e()}finally{wt=n,Yg.transition=r}}function tk(){return os().memoizedState}function GL(t,e,n){var r=yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nk(t))rk(e,n);else if(n=Lj(t,e,n,r),n!==null){var s=cr();ws(n,t,r,s),sk(n,e,r)}}function KL(t,e,n){var r=yi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nk(t))rk(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,Cs(l,a)){var c=e.interleaved;c===null?(s.next=s,By(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Lj(t,e,s,r),n!==null&&(s=cr(),ws(n,t,r,s),sk(n,e,r))}}function nk(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function rk(t,e){Au=op=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jy(t,n)}}var ip={readContext:ss,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},YL={readContext:ss,useCallback:function(t,e){return Ms().memoizedState=[t,e===void 0?null:e],t},useContext:ss,useEffect:K_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vf(4194308,4,Qj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vf(4194308,4,t,e)},useInsertionEffect:function(t,e){return vf(4,2,t,e)},useMemo:function(t,e){var n=Ms();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ms();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GL.bind(null,Ut,t),[r.memoizedState,t]},useRef:function(t){var e=Ms();return t={current:t},e.memoizedState=t},useState:G_,useDebugValue:Xy,useDeferredValue:function(t){return Ms().memoizedState=t},useTransition:function(){var t=G_(!1),e=t[0];return t=HL.bind(null,t[1]),Ms().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ut,s=Ms();if(Ot){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),Nn===null)throw Error(ue(349));Ra&30||Bj(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,K_(qj.bind(null,r,o,t),[t]),r.flags|=2048,ld(9,$j.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ms(),e=Nn.identifierPrefix;if(Ot){var n=po,r=fo;n=(r&~(1<<32-ys(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=id++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QL={readContext:ss,useCallback:Zj,useContext:ss,useEffect:Qy,useImperativeHandle:Xj,useInsertionEffect:Kj,useLayoutEffect:Yj,useMemo:Jj,useReducer:Qg,useRef:Gj,useState:function(){return Qg(ad)},useDebugValue:Xy,useDeferredValue:function(t){var e=os();return ek(e,hn.memoizedState,t)},useTransition:function(){var t=Qg(ad)[0],e=os().memoizedState;return[t,e]},useMutableSource:zj,useSyncExternalStore:Uj,useId:tk,unstable_isNewReconciler:!1},XL={readContext:ss,useCallback:Zj,useContext:ss,useEffect:Qy,useImperativeHandle:Xj,useInsertionEffect:Kj,useLayoutEffect:Yj,useMemo:Jj,useReducer:Xg,useRef:Gj,useState:function(){return Xg(ad)},useDebugValue:Xy,useDeferredValue:function(t){var e=os();return hn===null?e.memoizedState=t:ek(e,hn.memoizedState,t)},useTransition:function(){var t=Xg(ad)[0],e=os().memoizedState;return[t,e]},useMutableSource:zj,useSyncExternalStore:Uj,useId:tk,unstable_isNewReconciler:!1};function fs(t,e){if(t&&t.defaultProps){e=Bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function L0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dm={isMounted:function(t){return(t=t._reactInternals)?Xa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cr(),s=yi(t),o=wo(r,s);o.payload=e,n!=null&&(o.callback=n),e=vi(t,o,s),e!==null&&(ws(e,t,s,r),mf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cr(),s=yi(t),o=wo(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vi(t,o,s),e!==null&&(ws(e,t,s,r),mf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cr(),r=yi(t),s=wo(n,r);s.tag=2,e!=null&&(s.callback=e),e=vi(t,s,r),e!==null&&(ws(e,t,r,n),mf(e,t,r))}};function Y_(t,e,n,r,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!ed(n,r)||!ed(s,o):!0}function ok(t,e,n){var r=!1,s=Ii,o=e.contextType;return typeof o=="object"&&o!==null?o=ss(o):(s=_r(e)?Pa:Jn.current,r=e.contextTypes,o=(r=r!=null)?Xl(t,s):Ii),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Q_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dm.enqueueReplaceState(e,e.state,null)}function F0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$y(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=ss(o):(o=_r(e)?Pa:Jn.current,s.context=Xl(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(L0(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dm.enqueueReplaceState(s,s.state,null),rp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tc(t,e){try{var n="",r=e;do n+=EO(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Zg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function V0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZL=typeof WeakMap=="function"?WeakMap:Map;function ik(t,e,n){n=wo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lp||(lp=!0,Y0=r),V0(t,e)},n}function ak(t,e,n){n=wo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){V0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){V0(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function X_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=h3.bind(null,t,e,n),e.then(t,t))}function Z_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wo(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var JL=Lo.ReactCurrentOwner,yr=!1;function ar(t,e,n,r){e.child=t===null?Oj(e,null,n,r):Jl(e,t.child,n,r)}function eS(t,e,n,r,s){n=n.render;var o=e.ref;return zl(e,s),r=Ky(t,e,n,r,o,s),n=Yy(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jo(t,e,s)):(Ot&&n&&Oy(e),e.flags|=1,ar(t,e,r,s),e.child)}function tS(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!ow(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,lk(t,e,o,r,s)):(t=bf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ed,n(a,r)&&t.ref===e.ref)return jo(t,e,s)}return e.flags|=1,t=wi(o,r),t.ref=e.ref,t.return=e,e.child=t}function lk(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(ed(o,r)&&t.ref===e.ref)if(yr=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(yr=!0);else return e.lanes=t.lanes,jo(t,e,s)}return z0(t,e,n,r,s)}function ck(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(kl,Ar),Ar|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(kl,Ar),Ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Nt(kl,Ar),Ar|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Nt(kl,Ar),Ar|=r;return ar(t,e,s,n),e.child}function uk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function z0(t,e,n,r,s){var o=_r(n)?Pa:Jn.current;return o=Xl(e,o),zl(e,s),n=Ky(t,e,n,r,o,s),r=Yy(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jo(t,e,s)):(Ot&&r&&Oy(e),e.flags|=1,ar(t,e,n,s),e.child)}function nS(t,e,n,r,s){if(_r(n)){var o=!0;Zf(e)}else o=!1;if(zl(e,s),e.stateNode===null)xf(t,e),ok(e,n,r),F0(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ss(u):(u=_r(n)?Pa:Jn.current,u=Xl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Q_(e,a,r,u),ei=!1;var p=e.memoizedState;a.state=p,rp(e,r,a,s),c=e.memoizedState,l!==r||p!==c||br.current||ei?(typeof d=="function"&&(L0(e,n,d,r),c=e.memoizedState),(l=ei||Y_(e,n,l,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Fj(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:fs(e.type,l),a.props=u,f=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ss(c):(c=_r(n)?Pa:Jn.current,c=Xl(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Q_(e,a,r,c),ei=!1,p=e.memoizedState,a.state=p,rp(e,r,a,s);var y=e.memoizedState;l!==f||p!==y||br.current||ei?(typeof m=="function"&&(L0(e,n,m,r),y=e.memoizedState),(u=ei||Y_(e,n,u,r,p,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return U0(t,e,n,r,o,s)}function U0(t,e,n,r,s,o){uk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&U_(e,n,!1),jo(t,e,o);r=e.stateNode,JL.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Jl(e,t.child,null,o),e.child=Jl(e,null,l,o)):ar(t,e,l,o),e.memoizedState=r.state,s&&U_(e,n,!0),e.child}function dk(t){var e=t.stateNode;e.pendingContext?z_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z_(t,e.context,!1),qy(t,e.containerInfo)}function rS(t,e,n,r,s){return Zl(),Fy(s),e.flags|=256,ar(t,e,n,r),e.child}var B0={dehydrated:null,treeContext:null,retryLane:0};function $0(t){return{baseLanes:t,cachePool:null,transitions:null}}function hk(t,e,n){var r=e.pendingProps,s=Vt.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Nt(Vt,s&1),t===null)return M0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=pm(a,r,0,null),t=Sa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=$0(n),e.memoizedState=B0,t):Zy(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return e3(t,e,a,r,l,s,n);if(o){o=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=wi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=wi(l,o):(o=Sa(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?$0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=B0,r}return o=t.child,t=o.sibling,r=wi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zy(t,e){return e=pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,n,r){return r!==null&&Fy(r),Jl(e,t.child,null,n),t=Zy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function e3(t,e,n,r,s,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Zg(Error(ue(422))),Ah(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=pm({mode:"visible",children:r.children},s,0,null),o=Sa(o,s,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Jl(e,t.child,null,a),e.child.memoizedState=$0(a),e.memoizedState=B0,o);if(!(e.mode&1))return Ah(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ue(419)),r=Zg(o,r,void 0),Ah(t,e,a,r)}if(l=(a&t.childLanes)!==0,yr||l){if(r=Nn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,No(t,s),ws(r,t,s,-1))}return sw(),r=Zg(Error(ue(421))),Ah(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=f3.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Mr=gi(s.nextSibling),Lr=e,Ot=!0,ms=null,t!==null&&(Yr[Qr++]=fo,Yr[Qr++]=po,Yr[Qr++]=Aa,fo=t.id,po=t.overflow,Aa=e),e=Zy(e,r.children),e.flags|=4096,e)}function sS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),O0(t.return,e,n)}function Jg(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function fk(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(ar(t,e,r.children,n),r=Vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sS(t,n,e);else if(t.tag===19)sS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Nt(Vt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Jg(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Jg(e,!0,n,null,o);break;case"together":Jg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Da|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function t3(t,e,n){switch(e.tag){case 3:dk(e),Zl();break;case 5:Vj(e);break;case 1:_r(e.type)&&Zf(e);break;case 4:qy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Nt(tp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Nt(Vt,Vt.current&1),e.flags|=128,null):n&e.child.childLanes?hk(t,e,n):(Nt(Vt,Vt.current&1),t=jo(t,e,n),t!==null?t.sibling:null);Nt(Vt,Vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nt(Vt,Vt.current),r)break;return null;case 22:case 23:return e.lanes=0,ck(t,e,n)}return jo(t,e,n)}var pk,q0,mk,gk;pk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q0=function(){};mk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,va(qs.current);var o=null;switch(n){case"input":s=h0(t,s),r=h0(t,r),o=[];break;case"select":s=Bt({},s,{value:void 0}),r=Bt({},r,{value:void 0}),o=[];break;case"textarea":s=m0(t,s),r=m0(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qf)}v0(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&At("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};gk=function(t,e,n,r){n!==r&&(e.flags|=4)};function su(t,e){if(!Ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function n3(t,e,n){var r=e.pendingProps;switch(Ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return _r(e.type)&&Xf(),$n(e),null;case 3:return r=e.stateNode,ec(),Dt(br),Dt(Jn),Hy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ih(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ms!==null&&(Z0(ms),ms=null))),q0(t,e),$n(e),null;case 5:Wy(e);var s=va(od.current);if(n=e.type,t!==null&&e.stateNode!=null)mk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return $n(e),null}if(t=va(qs.current),Ih(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Vs]=e,r[rd]=o,t=(e.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(s=0;s<xu.length;s++)At(xu[s],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":f_(r,o),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},At("invalid",r);break;case"textarea":m_(r,o),At("invalid",r)}v0(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&kh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&kh(r.textContent,l,t),s=["children",""+l]):Gu.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&At("scroll",r)}switch(n){case"input":bh(r),p_(r,o,!0);break;case"textarea":bh(r),g_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Qf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Vs]=e,t[rd]=r,pk(t,e,!1,!1),e.stateNode=t;e:{switch(a=x0(n,r),n){case"dialog":At("cancel",t),At("close",t),s=r;break;case"iframe":case"object":case"embed":At("load",t),s=r;break;case"video":case"audio":for(s=0;s<xu.length;s++)At(xu[s],t);s=r;break;case"source":At("error",t),s=r;break;case"img":case"image":case"link":At("error",t),At("load",t),s=r;break;case"details":At("toggle",t),s=r;break;case"input":f_(t,r),s=h0(t,r),At("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Bt({},r,{value:void 0}),At("invalid",t);break;case"textarea":m_(t,r),s=m0(t,r),At("invalid",t);break;default:s=r}v0(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?GN(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&WN(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ku(t,c):typeof c=="number"&&Ku(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gu.hasOwnProperty(o)?c!=null&&o==="onScroll"&&At("scroll",t):c!=null&&_y(t,o,c,a))}switch(n){case"input":bh(t),p_(t,r,!1);break;case"textarea":bh(t),g_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ki(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ol(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ol(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(t&&e.stateNode!=null)gk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=va(od.current),va(qs.current),Ih(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vs]=e,(o=r.nodeValue!==n)&&(t=Lr,t!==null))switch(t.tag){case 3:kh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vs]=e,e.stateNode=r}return $n(e),null;case 13:if(Dt(Vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&Mr!==null&&e.mode&1&&!(e.flags&128))Dj(),Zl(),e.flags|=98560,o=!1;else if(o=Ih(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ue(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ue(317));o[Vs]=e}else Zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),o=!1}else ms!==null&&(Z0(ms),ms=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?yn===0&&(yn=3):sw())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return ec(),q0(t,e),t===null&&td(e.stateNode.containerInfo),$n(e),null;case 10:return Uy(e.type._context),$n(e),null;case 17:return _r(e.type)&&Xf(),$n(e),null;case 19:if(Dt(Vt),o=e.memoizedState,o===null)return $n(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)su(o,!1);else{if(yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sp(t),a!==null){for(e.flags|=128,su(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Nt(Vt,Vt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xt()>nc&&(e.flags|=128,r=!0,su(o,!1),e.lanes=4194304)}else{if(!r)if(t=sp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),su(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ot)return $n(e),null}else 2*Xt()-o.renderingStartTime>nc&&n!==1073741824&&(e.flags|=128,r=!0,su(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xt(),e.sibling=null,n=Vt.current,Nt(Vt,r?n&1|2:n&1),e):($n(e),null);case 22:case 23:return rw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ar&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function r3(t,e){switch(Ly(e),e.tag){case 1:return _r(e.type)&&Xf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ec(),Dt(br),Dt(Jn),Hy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wy(e),null;case 13:if(Dt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(Vt),null;case 4:return ec(),null;case 10:return Uy(e.type._context),null;case 22:case 23:return rw(),null;case 24:return null;default:return null}}var Rh=!1,Kn=!1,s3=typeof WeakSet=="function"?WeakSet:Set,je=null;function jl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ht(t,e,r)}else n.current=null}function W0(t,e,n){try{n()}catch(r){Ht(t,e,r)}}var oS=!1;function o3(t,e){if(j0=Gf,t=bj(),My(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===s&&(l=a),p===o&&++d===r&&(c=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(k0={focusedElem:t,selectionRange:n},Gf=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){e=je;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,S=e.stateNode,g=S.getSnapshotBeforeUpdate(e.elementType===e.type?w:fs(e.type,w),_);S.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(N){Ht(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}return y=oS,oS=!1,y}function Ru(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&W0(e,n,o)}s=s.next}while(s!==r)}}function hm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function H0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vk(t){var e=t.alternate;e!==null&&(t.alternate=null,vk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vs],delete e[rd],delete e[A0],delete e[UL],delete e[BL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xk(t){return t.tag===5||t.tag===3||t.tag===4}function iS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function G0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qf));else if(r!==4&&(t=t.child,t!==null))for(G0(t,e,n),t=t.sibling;t!==null;)G0(t,e,n),t=t.sibling}function K0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(K0(t,e,n),t=t.sibling;t!==null;)K0(t,e,n),t=t.sibling}var In=null,ps=!1;function Wo(t,e,n){for(n=n.child;n!==null;)yk(t,e,n),n=n.sibling}function yk(t,e,n){if($s&&typeof $s.onCommitFiberUnmount=="function")try{$s.onCommitFiberUnmount(sm,n)}catch{}switch(n.tag){case 5:Kn||jl(n,e);case 6:var r=In,s=ps;In=null,Wo(t,e,n),In=r,ps=s,In!==null&&(ps?(t=In,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):In.removeChild(n.stateNode));break;case 18:In!==null&&(ps?(t=In,n=n.stateNode,t.nodeType===8?Hg(t.parentNode,n):t.nodeType===1&&Hg(t,n),Zu(t)):Hg(In,n.stateNode));break;case 4:r=In,s=ps,In=n.stateNode.containerInfo,ps=!0,Wo(t,e,n),In=r,ps=s;break;case 0:case 11:case 14:case 15:if(!Kn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&W0(n,e,a),s=s.next}while(s!==r)}Wo(t,e,n);break;case 1:if(!Kn&&(jl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ht(n,e,l)}Wo(t,e,n);break;case 21:Wo(t,e,n);break;case 22:n.mode&1?(Kn=(r=Kn)||n.memoizedState!==null,Wo(t,e,n),Kn=r):Wo(t,e,n);break;default:Wo(t,e,n)}}function aS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new s3),e.forEach(function(r){var s=p3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:In=l.stateNode,ps=!1;break e;case 3:In=l.stateNode.containerInfo,ps=!0;break e;case 4:In=l.stateNode.containerInfo,ps=!0;break e}l=l.return}if(In===null)throw Error(ue(160));yk(o,a,s),In=null,ps=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ht(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wk(e,t),e=e.sibling}function wk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cs(e,t),Rs(t),r&4){try{Ru(3,t,t.return),hm(3,t)}catch(w){Ht(t,t.return,w)}try{Ru(5,t,t.return)}catch(w){Ht(t,t.return,w)}}break;case 1:cs(e,t),Rs(t),r&512&&n!==null&&jl(n,n.return);break;case 5:if(cs(e,t),Rs(t),r&512&&n!==null&&jl(n,n.return),t.flags&32){var s=t.stateNode;try{Ku(s,"")}catch(w){Ht(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&BN(s,o),x0(l,a);var u=x0(l,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?GN(s,f):d==="dangerouslySetInnerHTML"?WN(s,f):d==="children"?Ku(s,f):_y(s,d,f,u)}switch(l){case"input":f0(s,o);break;case"textarea":$N(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ol(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ol(s,!!o.multiple,o.defaultValue,!0):Ol(s,!!o.multiple,o.multiple?[]:"",!1))}s[rd]=o}catch(w){Ht(t,t.return,w)}}break;case 6:if(cs(e,t),Rs(t),r&4){if(t.stateNode===null)throw Error(ue(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(w){Ht(t,t.return,w)}}break;case 3:if(cs(e,t),Rs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zu(e.containerInfo)}catch(w){Ht(t,t.return,w)}break;case 4:cs(e,t),Rs(t);break;case 13:cs(e,t),Rs(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(tw=Xt())),r&4&&aS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Kn=(u=Kn)||d,cs(e,t),Kn=u):cs(e,t),Rs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(je=t,d=t.child;d!==null;){for(f=je=d;je!==null;){switch(p=je,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ru(4,p,p.return);break;case 1:jl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Ht(r,n,w)}}break;case 5:jl(p,p.return);break;case 22:if(p.memoizedState!==null){cS(f);continue}}m!==null?(m.return=p,je=m):cS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=HN("display",a))}catch(w){Ht(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Ht(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cs(e,t),Rs(t),r&4&&aS(t);break;case 21:break;default:cs(e,t),Rs(t)}}function Rs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xk(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ku(s,""),r.flags&=-33);var o=iS(t);K0(t,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=iS(t);G0(t,l,a);break;default:throw Error(ue(161))}}catch(c){Ht(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function i3(t,e,n){je=t,bk(t)}function bk(t,e,n){for(var r=(t.mode&1)!==0;je!==null;){var s=je,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Rh;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Kn;l=Rh;var u=Kn;if(Rh=a,(Kn=c)&&!u)for(je=s;je!==null;)a=je,c=a.child,a.tag===22&&a.memoizedState!==null?uS(s):c!==null?(c.return=a,je=c):uS(s);for(;o!==null;)je=o,bk(o),o=o.sibling;je=s,Rh=l,Kn=u}lS(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,je=o):lS(t)}}function lS(t){for(;je!==null;){var e=je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kn||hm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:fs(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&H_(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}H_(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Zu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Kn||e.flags&512&&H0(e)}catch(p){Ht(e,e.return,p)}}if(e===t){je=null;break}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}}function cS(t){for(;je!==null;){var e=je;if(e===t){je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,je=n;break}je=e.return}}function uS(t){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hm(4,e)}catch(c){Ht(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ht(e,s,c)}}var o=e.return;try{H0(e)}catch(c){Ht(e,o,c)}break;case 5:var a=e.return;try{H0(e)}catch(c){Ht(e,a,c)}}}catch(c){Ht(e,e.return,c)}if(e===t){je=null;break}var l=e.sibling;if(l!==null){l.return=e.return,je=l;break}je=e.return}}var a3=Math.ceil,ap=Lo.ReactCurrentDispatcher,Jy=Lo.ReactCurrentOwner,ts=Lo.ReactCurrentBatchConfig,ft=0,Nn=null,nn=null,Mn=0,Ar=0,kl=qi(0),yn=0,cd=null,Da=0,fm=0,ew=0,Du=null,vr=null,tw=0,nc=1/0,uo=null,lp=!1,Y0=null,xi=null,Dh=!1,di=null,cp=0,Mu=0,Q0=null,yf=-1,wf=0;function cr(){return ft&6?Xt():yf!==-1?yf:yf=Xt()}function yi(t){return t.mode&1?ft&2&&Mn!==0?Mn&-Mn:qL.transition!==null?(wf===0&&(wf=oj()),wf):(t=wt,t!==0||(t=window.event,t=t===void 0?16:hj(t.type)),t):1}function ws(t,e,n,r){if(50<Mu)throw Mu=0,Q0=null,Error(ue(185));Rd(t,n,r),(!(ft&2)||t!==Nn)&&(t===Nn&&(!(ft&2)&&(fm|=n),yn===4&&si(t,Mn)),Sr(t,r),n===1&&ft===0&&!(e.mode&1)&&(nc=Xt()+500,cm&&Wi()))}function Sr(t,e){var n=t.callbackNode;qO(t,e);var r=Hf(t,t===Nn?Mn:0);if(r===0)n!==null&&y_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&y_(n),e===1)t.tag===0?$L(dS.bind(null,t)):Pj(dS.bind(null,t)),VL(function(){!(ft&6)&&Wi()}),n=null;else{switch(ij(r)){case 1:n=Ny;break;case 4:n=rj;break;case 16:n=Wf;break;case 536870912:n=sj;break;default:n=Wf}n=kk(n,_k.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _k(t,e){if(yf=-1,wf=0,ft&6)throw Error(ue(327));var n=t.callbackNode;if(Ul()&&t.callbackNode!==n)return null;var r=Hf(t,t===Nn?Mn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=up(t,r);else{e=r;var s=ft;ft|=2;var o=Ck();(Nn!==t||Mn!==e)&&(uo=null,nc=Xt()+500,_a(t,e));do try{u3();break}catch(l){Sk(t,l)}while(1);zy(),ap.current=o,ft=s,nn!==null?e=0:(Nn=null,Mn=0,e=yn)}if(e!==0){if(e===2&&(s=S0(t),s!==0&&(r=s,e=X0(t,s))),e===1)throw n=cd,_a(t,0),si(t,r),Sr(t,Xt()),n;if(e===6)si(t,r);else{if(s=t.current.alternate,!(r&30)&&!l3(s)&&(e=up(t,r),e===2&&(o=S0(t),o!==0&&(r=o,e=X0(t,o))),e===1))throw n=cd,_a(t,0),si(t,r),Sr(t,Xt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:la(t,vr,uo);break;case 3:if(si(t,r),(r&130023424)===r&&(e=tw+500-Xt(),10<e)){if(Hf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){cr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=P0(la.bind(null,t,vr,uo),e);break}la(t,vr,uo);break;case 4:if(si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-ys(r);o=1<<a,a=e[a],a>s&&(s=a),r&=~o}if(r=s,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a3(r/1960))-r,10<r){t.timeoutHandle=P0(la.bind(null,t,vr,uo),r);break}la(t,vr,uo);break;case 5:la(t,vr,uo);break;default:throw Error(ue(329))}}}return Sr(t,Xt()),t.callbackNode===n?_k.bind(null,t):null}function X0(t,e){var n=Du;return t.current.memoizedState.isDehydrated&&(_a(t,e).flags|=256),t=up(t,e),t!==2&&(e=vr,vr=n,e!==null&&Z0(e)),t}function Z0(t){vr===null?vr=t:vr.push.apply(vr,t)}function l3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Cs(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function si(t,e){for(e&=~ew,e&=~fm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ys(e),r=1<<n;t[n]=-1,e&=~r}}function dS(t){if(ft&6)throw Error(ue(327));Ul();var e=Hf(t,0);if(!(e&1))return Sr(t,Xt()),null;var n=up(t,e);if(t.tag!==0&&n===2){var r=S0(t);r!==0&&(e=r,n=X0(t,r))}if(n===1)throw n=cd,_a(t,0),si(t,e),Sr(t,Xt()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,la(t,vr,uo),Sr(t,Xt()),null}function nw(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(nc=Xt()+500,cm&&Wi())}}function Ma(t){di!==null&&di.tag===0&&!(ft&6)&&Ul();var e=ft;ft|=1;var n=ts.transition,r=wt;try{if(ts.transition=null,wt=1,t)return t()}finally{wt=r,ts.transition=n,ft=e,!(ft&6)&&Wi()}}function rw(){Ar=kl.current,Dt(kl)}function _a(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FL(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(Ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xf();break;case 3:ec(),Dt(br),Dt(Jn),Hy();break;case 5:Wy(r);break;case 4:ec();break;case 13:Dt(Vt);break;case 19:Dt(Vt);break;case 10:Uy(r.type._context);break;case 22:case 23:rw()}n=n.return}if(Nn=t,nn=t=wi(t.current,null),Mn=Ar=e,yn=0,cd=null,ew=fm=Da=0,vr=Du=null,ga!==null){for(e=0;e<ga.length;e++)if(n=ga[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}ga=null}return t}function Sk(t,e){do{var n=nn;try{if(zy(),gf.current=ip,op){for(var r=Ut.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}op=!1}if(Ra=0,En=hn=Ut=null,Au=!1,id=0,Jy.current=null,n===null||n.return===null){yn=1,cd=e,nn=null;break}e:{var o=t,a=n.return,l=n,c=e;if(e=Mn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Z_(a);if(m!==null){m.flags&=-257,J_(m,a,l,o,e),m.mode&1&&X_(o,u,e),e=m,c=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(c),e.updateQueue=w}else y.add(c);break e}else{if(!(e&1)){X_(o,u,e),sw();break e}c=Error(ue(426))}}else if(Ot&&l.mode&1){var _=Z_(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),J_(_,a,l,o,e),Fy(tc(c,l));break e}}o=c=tc(c,l),yn!==4&&(yn=2),Du===null?Du=[o]:Du.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=ik(o,c,e);W_(o,S);break e;case 1:l=c;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xi===null||!xi.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=ak(o,l,e);W_(o,N);break e}}o=o.return}while(o!==null)}Tk(n)}catch(R){e=R,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(1)}function Ck(){var t=ap.current;return ap.current=ip,t===null?ip:t}function sw(){(yn===0||yn===3||yn===2)&&(yn=4),Nn===null||!(Da&268435455)&&!(fm&268435455)||si(Nn,Mn)}function up(t,e){var n=ft;ft|=2;var r=Ck();(Nn!==t||Mn!==e)&&(uo=null,_a(t,e));do try{c3();break}catch(s){Sk(t,s)}while(1);if(zy(),ft=n,ap.current=r,nn!==null)throw Error(ue(261));return Nn=null,Mn=0,yn}function c3(){for(;nn!==null;)Ek(nn)}function u3(){for(;nn!==null&&!MO();)Ek(nn)}function Ek(t){var e=jk(t.alternate,t,Ar);t.memoizedProps=t.pendingProps,e===null?Tk(t):nn=e,Jy.current=null}function Tk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=r3(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yn=6,nn=null;return}}else if(n=n3(n,e,Ar),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);yn===0&&(yn=5)}function la(t,e,n){var r=wt,s=ts.transition;try{ts.transition=null,wt=1,d3(t,e,n,r)}finally{ts.transition=s,wt=r}return null}function d3(t,e,n,r){do Ul();while(di!==null);if(ft&6)throw Error(ue(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(WO(t,o),t===Nn&&(nn=Nn=null,Mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dh||(Dh=!0,kk(Wf,function(){return Ul(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ts.transition,ts.transition=null;var a=wt;wt=1;var l=ft;ft|=4,Jy.current=null,o3(t,n),wk(n,t),PL(k0),Gf=!!j0,k0=j0=null,t.current=n,i3(n),OO(),ft=l,wt=a,ts.transition=o}else t.current=n;if(Dh&&(Dh=!1,di=t,cp=s),o=t.pendingLanes,o===0&&(xi=null),VO(n.stateNode),Sr(t,Xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lp)throw lp=!1,t=Y0,Y0=null,t;return cp&1&&t.tag!==0&&Ul(),o=t.pendingLanes,o&1?t===Q0?Mu++:(Mu=0,Q0=t):Mu=0,Wi(),null}function Ul(){if(di!==null){var t=ij(cp),e=ts.transition,n=wt;try{if(ts.transition=null,wt=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,cp=0,ft&6)throw Error(ue(331));var s=ft;for(ft|=4,je=t.current;je!==null;){var o=je,a=o.child;if(je.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(je=u;je!==null;){var d=je;switch(d.tag){case 0:case 11:case 15:Ru(8,d,o)}var f=d.child;if(f!==null)f.return=d,je=f;else for(;je!==null;){d=je;var p=d.sibling,m=d.return;if(vk(d),d===u){je=null;break}if(p!==null){p.return=m,je=p;break}je=m}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}je=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,je=a;else e:for(;je!==null;){if(o=je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ru(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,je=S;break e}je=o.return}}var g=t.current;for(je=g;je!==null;){a=je;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,je=b;else e:for(a=g;je!==null;){if(l=je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hm(9,l)}}catch(R){Ht(l,l.return,R)}if(l===a){je=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,je=N;break e}je=l.return}}if(ft=s,Wi(),$s&&typeof $s.onPostCommitFiberRoot=="function")try{$s.onPostCommitFiberRoot(sm,t)}catch{}r=!0}return r}finally{wt=n,ts.transition=e}}return!1}function hS(t,e,n){e=tc(n,e),e=ik(t,e,1),t=vi(t,e,1),e=cr(),t!==null&&(Rd(t,1,e),Sr(t,e))}function Ht(t,e,n){if(t.tag===3)hS(t,t,n);else for(;e!==null;){if(e.tag===3){hS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=tc(n,t),t=ak(e,t,1),e=vi(e,t,1),t=cr(),e!==null&&(Rd(e,1,t),Sr(e,t));break}}e=e.return}}function h3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&n,Nn===t&&(Mn&n)===n&&(yn===4||yn===3&&(Mn&130023424)===Mn&&500>Xt()-tw?_a(t,0):ew|=n),Sr(t,e)}function Nk(t,e){e===0&&(t.mode&1?(e=Ch,Ch<<=1,!(Ch&130023424)&&(Ch=4194304)):e=1);var n=cr();t=No(t,e),t!==null&&(Rd(t,e,n),Sr(t,n))}function f3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Nk(t,n)}function p3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),Nk(t,n)}var jk;jk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||br.current)yr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yr=!1,t3(t,e,n);yr=!!(t.flags&131072)}else yr=!1,Ot&&e.flags&1048576&&Aj(e,ep,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xf(t,e),t=e.pendingProps;var s=Xl(e,Jn.current);zl(e,n),s=Ky(null,e,r,t,s,n);var o=Yy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(r)?(o=!0,Zf(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$y(e),s.updater=dm,e.stateNode=s,s._reactInternals=e,F0(e,r,t,n),e=U0(null,e,r,!0,o,n)):(e.tag=0,Ot&&o&&Oy(e),ar(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=g3(r),t=fs(r,t),s){case 0:e=z0(null,e,r,t,n);break e;case 1:e=nS(null,e,r,t,n);break e;case 11:e=eS(null,e,r,t,n);break e;case 14:e=tS(null,e,r,fs(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fs(r,s),z0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fs(r,s),nS(t,e,r,s,n);case 3:e:{if(dk(e),t===null)throw Error(ue(387));r=e.pendingProps,o=e.memoizedState,s=o.element,Fj(t,e),rp(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=tc(Error(ue(423)),e),e=rS(t,e,r,n,s);break e}else if(r!==s){s=tc(Error(ue(424)),e),e=rS(t,e,r,n,s);break e}else for(Mr=gi(e.stateNode.containerInfo.firstChild),Lr=e,Ot=!0,ms=null,n=Oj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zl(),r===s){e=jo(t,e,n);break e}ar(t,e,r,n)}e=e.child}return e;case 5:return Vj(e),t===null&&M0(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,I0(r,s)?a=null:o!==null&&I0(r,o)&&(e.flags|=32),uk(t,e),ar(t,e,a,n),e.child;case 6:return t===null&&M0(e),null;case 13:return hk(t,e,n);case 4:return qy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jl(e,null,r,n):ar(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fs(r,s),eS(t,e,r,s,n);case 7:return ar(t,e,e.pendingProps,n),e.child;case 8:return ar(t,e,e.pendingProps.children,n),e.child;case 12:return ar(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,Nt(tp,r._currentValue),r._currentValue=a,o!==null)if(Cs(o.value,a)){if(o.children===s.children&&!br.current){e=jo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=wo(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),O0(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ue(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),O0(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ar(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,zl(e,n),s=ss(s),r=r(s),e.flags|=1,ar(t,e,r,n),e.child;case 14:return r=e.type,s=fs(r,e.pendingProps),s=fs(r.type,s),tS(t,e,r,s,n);case 15:return lk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:fs(r,s),xf(t,e),e.tag=1,_r(r)?(t=!0,Zf(e)):t=!1,zl(e,n),ok(e,r,s),F0(e,r,s,n),U0(null,e,r,!0,t,n);case 19:return fk(t,e,n);case 22:return ck(t,e,n)}throw Error(ue(156,e.tag))};function kk(t,e){return nj(t,e)}function m3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(t,e,n,r){return new m3(t,e,n,r)}function ow(t){return t=t.prototype,!(!t||!t.isReactComponent)}function g3(t){if(typeof t=="function")return ow(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cy)return 11;if(t===Ey)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=Zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bf(t,e,n,r,s,o){var a=2;if(r=t,typeof t=="function")ow(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case yl:return Sa(n.children,s,o,e);case Sy:a=8,s|=8;break;case l0:return t=Zr(12,n,e,s|2),t.elementType=l0,t.lanes=o,t;case c0:return t=Zr(13,n,e,s),t.elementType=c0,t.lanes=o,t;case u0:return t=Zr(19,n,e,s),t.elementType=u0,t.lanes=o,t;case VN:return pm(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LN:a=10;break e;case FN:a=9;break e;case Cy:a=11;break e;case Ey:a=14;break e;case Jo:a=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Zr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Sa(t,e,n,r){return t=Zr(7,t,r,e),t.lanes=n,t}function pm(t,e,n,r){return t=Zr(22,t,r,e),t.elementType=VN,t.lanes=n,t.stateNode={isHidden:!1},t}function ev(t,e,n){return t=Zr(6,t,null,e),t.lanes=n,t}function tv(t,e,n){return e=Zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function v3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mg(0),this.expirationTimes=Mg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function iw(t,e,n,r,s,o,a,l,c){return t=new v3(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$y(o),t}function x3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ik(t){if(!t)return Ii;t=t._reactInternals;e:{if(Xa(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(_r(n))return Ij(t,n,e)}return e}function Pk(t,e,n,r,s,o,a,l,c){return t=iw(n,r,!0,t,s,o,a,l,c),t.context=Ik(null),n=t.current,r=cr(),s=yi(n),o=wo(r,s),o.callback=e??null,vi(n,o,s),t.current.lanes=s,Rd(t,s,r),Sr(t,r),t}function mm(t,e,n,r){var s=e.current,o=cr(),a=yi(s);return n=Ik(n),e.context===null?e.context=n:e.pendingContext=n,e=wo(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(s,e,a),t!==null&&(ws(t,s,a,o),mf(t,s,a)),a}function dp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function aw(t,e){fS(t,e),(t=t.alternate)&&fS(t,e)}function y3(){return null}var Ak=typeof reportError=="function"?reportError:function(t){console.error(t)};function lw(t){this._internalRoot=t}gm.prototype.render=lw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));mm(t,e,null,null)};gm.prototype.unmount=lw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ma(function(){mm(null,t,null,null)}),e[To]=null}};function gm(t){this._internalRoot=t}gm.prototype.unstable_scheduleHydration=function(t){if(t){var e=cj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ri.length&&e!==0&&e<ri[n].priority;n++);ri.splice(n,0,t),n===0&&dj(t)}};function cw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pS(){}function w3(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=dp(a);o.call(u)}}var a=Pk(e,r,t,0,null,!1,!1,"",pS);return t._reactRootContainer=a,t[To]=a.current,td(t.nodeType===8?t.parentNode:t),Ma(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=dp(c);l.call(u)}}var c=iw(t,0,!1,null,null,!1,!1,"",pS);return t._reactRootContainer=c,t[To]=c.current,td(t.nodeType===8?t.parentNode:t),Ma(function(){mm(e,c,n,r)}),c}function xm(t,e,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=dp(a);l.call(c)}}mm(e,a,t,s)}else a=w3(n,e,t,s,r);return dp(a)}aj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vu(e.pendingLanes);n!==0&&(jy(e,n|1),Sr(e,Xt()),!(ft&6)&&(nc=Xt()+500,Wi()))}break;case 13:Ma(function(){var r=No(t,1);if(r!==null){var s=cr();ws(r,t,1,s)}}),aw(t,1)}};ky=function(t){if(t.tag===13){var e=No(t,134217728);if(e!==null){var n=cr();ws(e,t,134217728,n)}aw(t,134217728)}};lj=function(t){if(t.tag===13){var e=yi(t),n=No(t,e);if(n!==null){var r=cr();ws(n,t,e,r)}aw(t,e)}};cj=function(){return wt};uj=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};w0=function(t,e,n){switch(e){case"input":if(f0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=lm(r);if(!s)throw Error(ue(90));UN(r),f0(r,s)}}}break;case"textarea":$N(t,n);break;case"select":e=n.value,e!=null&&Ol(t,!!n.multiple,e,!1)}};QN=nw;XN=Ma;var b3={usingClientEntryPoint:!1,Events:[Md,Sl,lm,KN,YN,nw]},ou={findFiberByHostInstance:ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_3={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ej(t),t===null?null:t.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||y3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{sm=Mh.inject(_3),$s=Mh}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b3;$r.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cw(e))throw Error(ue(200));return x3(t,e,null,n)};$r.createRoot=function(t,e){if(!cw(t))throw Error(ue(299));var n=!1,r="",s=Ak;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=iw(t,1,!1,null,null,n,!1,r,s),t[To]=e.current,td(t.nodeType===8?t.parentNode:t),new lw(e)};$r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=ej(e),t=t===null?null:t.stateNode,t};$r.flushSync=function(t){return Ma(t)};$r.hydrate=function(t,e,n){if(!vm(e))throw Error(ue(200));return xm(null,t,e,!0,n)};$r.hydrateRoot=function(t,e,n){if(!cw(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=Ak;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Pk(e,null,t,1,n??null,s,!1,o,a),t[To]=e.current,td(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gm(e)};$r.render=function(t,e,n){if(!vm(e))throw Error(ue(200));return xm(null,t,e,!1,n)};$r.unmountComponentAtNode=function(t){if(!vm(t))throw Error(ue(40));return t._reactRootContainer?(Ma(function(){xm(null,null,t,!1,function(){t._reactRootContainer=null,t[To]=null})}),!0):!1};$r.unstable_batchedUpdates=nw;$r.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vm(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return xm(t,e,n,!1,r)};$r.version="18.3.1-next-f1338f8080-20240426";function Rk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rk)}catch(t){console.error(t)}}Rk(),RN.exports=$r;var ks=RN.exports;const S3=Ya(ks);var mS=ks;i0.createRoot=mS.createRoot,i0.hydrateRoot=mS.hydrateRoot;var Dk={exports:{}},C3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E3=C3,T3=E3;function Mk(){}function Ok(){}Ok.resetWarningCache=Mk;var N3=function(){function t(r,s,o,a,l,c){if(c!==T3){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ok,resetWarningCache:Mk};return n.PropTypes=n,n};Dk.exports=N3();var uw=Dk.exports;const Oe=Ya(uw);function j3(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Lk=v,k3=j3(Lk);function gS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var P3=!!(typeof window<"u"&&window.document&&window.document.createElement);function A3(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],l;function c(){l=t(a.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){I3(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=l;return l=void 0,a=[],y};var p=f.prototype;return p.UNSAFE_componentWillMount=function(){a.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var y=a.indexOf(this);a.splice(y,1),c()},p.render=function(){return k3.createElement(o,this.props)},f}(Lk.PureComponent);return gS(u,"displayName","SideEffect("+r(o)+")"),gS(u,"canUseDOM",P3),u}}var R3=A3;const D3=Ya(R3);var M3=typeof Element<"u",O3=typeof Map=="function",L3=typeof Set=="function",F3=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function _f(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!_f(t[r],e[r]))return!1;return!0}var o;if(O3&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!_f(r.value[1],e.get(r.value[0])))return!1;return!0}if(L3&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(F3&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(M3&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!_f(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var V3=function(e,n){try{return _f(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const z3=Ya(V3);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var vS=Object.getOwnPropertySymbols,U3=Object.prototype.hasOwnProperty,B3=Object.prototype.propertyIsEnumerable;function $3(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function q3(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var W3=q3()?Object.assign:function(t,e){for(var n,r=$3(t),s,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var a in n)U3.call(n,a)&&(r[a]=n[a]);if(vS){s=vS(n);for(var l=0;l<s.length;l++)B3.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const H3=Ya(W3);var Ca={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ge={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ge).map(function(t){return Ge[t]});var Mt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},hp={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ud={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},G3=Object.keys(hp).reduce(function(t,e){return t[hp[e]]=e,t},{}),K3=[Ge.NOSCRIPT,Ge.SCRIPT,Ge.STYLE],vs="data-react-helmet",Y3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q3=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},X3=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),mr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z3=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},xS=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},J3=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},J0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},eF=function(e){var n=Bl(e,Ge.TITLE),r=Bl(e,ud.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Bl(e,ud.DEFAULT_TITLE);return n||s||void 0},tF=function(e){return Bl(e,ud.ON_CHANGE_CLIENT_STATE)||function(){}},nv=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return mr({},r,s)},{})},nF=function(e,n){return n.filter(function(r){return typeof r[Ge.BASE]<"u"}).map(function(r){return r[Ge.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var o=Object.keys(s),a=0;a<o.length;a++){var l=o[a],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},iu=function(e,n,r){var s={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&iF("Helmet: "+e+' should be of type "Array". Instead found type "'+Y3(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,a){var l={};a.filter(function(p){for(var m=void 0,y=Object.keys(p),w=0;w<y.length;w++){var _=y[w],S=_.toLowerCase();n.indexOf(S)!==-1&&!(m===Mt.REL&&p[m].toLowerCase()==="canonical")&&!(S===Mt.REL&&p[S].toLowerCase()==="stylesheet")&&(m=S),n.indexOf(_)!==-1&&(_===Mt.INNER_HTML||_===Mt.CSS_TEXT||_===Mt.ITEM_PROP)&&(m=_)}if(!m||!p[m])return!1;var g=p[m].toLowerCase();return s[m]||(s[m]={}),l[m]||(l[m]={}),s[m][g]?!1:(l[m][g]=!0,!0)}).reverse().forEach(function(p){return o.push(p)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=H3({},s[d],l[d]);s[d]=f}return o},[]).reverse()},Bl=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},rF=function(e){return{baseTag:nF([Mt.HREF,Mt.TARGET],e),bodyAttributes:nv(Ca.BODY,e),defer:Bl(e,ud.DEFER),encode:Bl(e,ud.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:nv(Ca.HTML,e),linkTags:iu(Ge.LINK,[Mt.REL,Mt.HREF],e),metaTags:iu(Ge.META,[Mt.NAME,Mt.CHARSET,Mt.HTTPEQUIV,Mt.PROPERTY,Mt.ITEM_PROP],e),noscriptTags:iu(Ge.NOSCRIPT,[Mt.INNER_HTML],e),onChangeClientState:tF(e),scriptTags:iu(Ge.SCRIPT,[Mt.SRC,Mt.INNER_HTML],e),styleTags:iu(Ge.STYLE,[Mt.CSS_TEXT],e),title:eF(e),titleAttributes:nv(Ca.TITLE,e)}},ex=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){ex(e)},0)}}(),yS=function(e){return clearTimeout(e)},sF=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ex:global.requestAnimationFrame||ex,oF=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||yS:global.cancelAnimationFrame||yS,iF=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},au=null,aF=function(e){au&&oF(au),e.defer?au=sF(function(){wS(e,function(){au=null})}):(wS(e),au=null)},wS=function(e,n){var r=e.baseTag,s=e.bodyAttributes,o=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,p=e.title,m=e.titleAttributes;tx(Ge.BODY,s),tx(Ge.HTML,o),lF(p,m);var y={baseTag:ll(Ge.BASE,r),linkTags:ll(Ge.LINK,a),metaTags:ll(Ge.META,l),noscriptTags:ll(Ge.NOSCRIPT,c),scriptTags:ll(Ge.SCRIPT,d),styleTags:ll(Ge.STYLE,f)},w={},_={};Object.keys(y).forEach(function(S){var g=y[S],b=g.newTags,N=g.oldTags;b.length&&(w[S]=b),N.length&&(_[S]=y[S].oldTags)}),n&&n(),u(e,w,_)},Fk=function(e){return Array.isArray(e)?e.join(""):e},lF=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=Fk(e)),tx(Ge.TITLE,n)},tx=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(vs),o=s?s.split(","):[],a=[].concat(o),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),o.indexOf(u)===-1&&o.push(u);var f=a.indexOf(u);f!==-1&&a.splice(f,1)}for(var p=a.length-1;p>=0;p--)r.removeAttribute(a[p]);o.length===a.length?r.removeAttribute(vs):r.getAttribute(vs)!==l.join(",")&&r.setAttribute(vs,l.join(","))}},ll=function(e,n){var r=document.head||document.querySelector(Ge.HEAD),s=r.querySelectorAll(e+"["+vs+"]"),o=Array.prototype.slice.call(s),a=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Mt.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Mt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(vs,"true"),o.some(function(p,m){return l=m,u.isEqualNode(p)})?o.splice(l,1):a.push(u)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),a.forEach(function(c){return r.appendChild(c)}),{oldTags:o,newTags:a}},Vk=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},cF=function(e,n,r,s){var o=Vk(r),a=Fk(n);return o?"<"+e+" "+vs+'="true" '+o+">"+J0(a,s)+"</"+e+">":"<"+e+" "+vs+'="true">'+J0(a,s)+"</"+e+">"},uF=function(e,n,r){return n.reduce(function(s,o){var a=Object.keys(o).filter(function(u){return!(u===Mt.INNER_HTML||u===Mt.CSS_TEXT)}).reduce(function(u,d){var f=typeof o[d]>"u"?d:d+'="'+J0(o[d],r)+'"';return u?u+" "+f:f},""),l=o.innerHTML||o.cssText||"",c=K3.indexOf(e)===-1;return s+"<"+e+" "+vs+'="true" '+a+(c?"/>":">"+l+"</"+e+">")},"")},zk=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[hp[s]||s]=e[s],r},n)},dF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[G3[s]||s]=e[s],r},n)},hF=function(e,n,r){var s,o=(s={key:n},s[vs]=!0,s),a=zk(r,o);return[Le.createElement(Ge.TITLE,a,n)]},fF=function(e,n){return n.map(function(r,s){var o,a=(o={key:s},o[vs]=!0,o);return Object.keys(r).forEach(function(l){var c=hp[l]||l;if(c===Mt.INNER_HTML||c===Mt.CSS_TEXT){var u=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=r[l]}),Le.createElement(e,a)})},lo=function(e,n,r){switch(e){case Ge.TITLE:return{toComponent:function(){return hF(e,n.title,n.titleAttributes)},toString:function(){return cF(e,n.title,n.titleAttributes,r)}};case Ca.BODY:case Ca.HTML:return{toComponent:function(){return zk(n)},toString:function(){return Vk(n)}};default:return{toComponent:function(){return fF(e,n)},toString:function(){return uF(e,n,r)}}}},Uk=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,o=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,f=e.title,p=f===void 0?"":f,m=e.titleAttributes;return{base:lo(Ge.BASE,n,s),bodyAttributes:lo(Ca.BODY,r,s),htmlAttributes:lo(Ca.HTML,o,s),link:lo(Ge.LINK,a,s),meta:lo(Ge.META,l,s),noscript:lo(Ge.NOSCRIPT,c,s),script:lo(Ge.SCRIPT,u,s),style:lo(Ge.STYLE,d,s),title:lo(Ge.TITLE,{title:p,titleAttributes:m},s)}},pF=function(e){var n,r;return r=n=function(s){Z3(o,s);function o(){return Q3(this,o),J3(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!z3(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Ge.SCRIPT:case Ge.NOSCRIPT:return{innerHTML:c};case Ge.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,p=l.nestedChildren;return mr({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[mr({},f,this.mapNestedChildrenToProps(u,p))]),c))},o.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,p=l.newChildProps,m=l.nestedChildren;switch(d.type){case Ge.TITLE:return mr({},f,(c={},c[d.type]=m,c.titleAttributes=mr({},p),c));case Ge.BODY:return mr({},f,{bodyAttributes:mr({},p)});case Ge.HTML:return mr({},f,{htmlAttributes:mr({},p)})}return mr({},f,(u={},u[d.type]=mr({},p),u))},o.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=mr({},c);return Object.keys(l).forEach(function(d){var f;u=mr({},u,(f={},f[d]=l[d],f))}),u},o.prototype.warnOnInvalidChildren=function(l,c){return!0},o.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Le.Children.forEach(l,function(f){if(!(!f||!f.props)){var p=f.props,m=p.children,y=xS(p,["children"]),w=dF(y);switch(u.warnOnInvalidChildren(f,m),f.type){case Ge.LINK:case Ge.META:case Ge.NOSCRIPT:case Ge.SCRIPT:case Ge.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:w,nestedChildren:m});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:w,nestedChildren:m});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},o.prototype.render=function(){var l=this.props,c=l.children,u=xS(l,["children"]),d=mr({},u);return c&&(d=this.mapChildrenToProps(c,d)),Le.createElement(e,d)},X3(o,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),o}(Le.Component),n.propTypes={base:Oe.object,bodyAttributes:Oe.object,children:Oe.oneOfType([Oe.arrayOf(Oe.node),Oe.node]),defaultTitle:Oe.string,defer:Oe.bool,encodeSpecialCharacters:Oe.bool,htmlAttributes:Oe.object,link:Oe.arrayOf(Oe.object),meta:Oe.arrayOf(Oe.object),noscript:Oe.arrayOf(Oe.object),onChangeClientState:Oe.func,script:Oe.arrayOf(Oe.object),style:Oe.arrayOf(Oe.object),title:Oe.string,titleAttributes:Oe.object,titleTemplate:Oe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=Uk({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},mF=function(){return null},gF=D3(rF,aF,Uk)(mF),nx=pF(gF);nx.renderStatic=nx.rewind;const Bk=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ym=v.createContext({}),wm=v.createContext(null),bm=typeof document<"u",dw=bm?v.useLayoutEffect:v.useEffect,$k=v.createContext({strict:!1}),hw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),vF="framerAppearId",qk="data-"+hw(vF);function xF(t,e,n,r){const{visualElement:s}=v.useContext(ym),o=v.useContext($k),a=v.useContext(wm),l=v.useContext(Bk).reducedMotion,c=v.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;v.useInsertionEffect(()=>{u&&u.update(n,a)});const d=v.useRef(!!(n[qk]&&!window.HandoffComplete));return dw(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yF(t,e,n){return v.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Il(n)&&(n.current=r))},[e])}function dd(t){return typeof t=="string"||Array.isArray(t)}function _m(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pw=["initial",...fw];function Sm(t){return _m(t.animate)||pw.some(e=>dd(t[e]))}function Wk(t){return!!(Sm(t)||t.variants)}function wF(t,e){if(Sm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||dd(n)?n:void 0,animate:dd(r)?r:void 0}}return t.inherit!==!1?e:{}}function bF(t){const{initial:e,animate:n}=wF(t,v.useContext(ym));return v.useMemo(()=>({initial:e,animate:n}),[bS(e),bS(n)])}function bS(t){return Array.isArray(t)?t.join(" "):t}const _S={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hd={};for(const t in _S)hd[t]={isEnabled:e=>_S[t].some(n=>!!e[n])};function _F(t){for(const e in t)hd[e]={...hd[e],...t[e]}}const mw=v.createContext({}),Hk=v.createContext({}),SF=Symbol.for("motionComponentSymbol");function CF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&_F(t);function o(l,c){let u;const d={...v.useContext(Bk),...l,layoutId:EF(l)},{isStatic:f}=d,p=bF(l),m=r(l,f);if(!f&&bm){p.visualElement=xF(s,m,d,e);const y=v.useContext(Hk),w=v.useContext($k).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,w,t,y))}return v.createElement(ym.Provider,{value:p},u&&p.visualElement?v.createElement(u,{visualElement:p.visualElement,...d}):null,n(s,l,yF(m,p.visualElement,c),m,f,p.visualElement))}const a=v.forwardRef(o);return a[SF]=s,a}function EF({layoutId:t}){const e=v.useContext(mw).id;return e&&t!==void 0?e+"-"+t:t}function TF(t){function e(r,s={}){return CF(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const NF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gw(t){return typeof t!="string"||t.includes("-")?!1:!!(NF.indexOf(t)>-1||/[A-Z]/.test(t))}const fp={};function jF(t){Object.assign(fp,t)}const Ld=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Za=new Set(Ld);function Gk(t,{layout:e,layoutId:n}){return Za.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fp[t]||t==="opacity")}const Er=t=>!!(t&&t.getVelocity),kF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IF=Ld.length;function PF(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let a=0;a<IF;a++){const l=Ld[a];if(t[l]!==void 0){const c=kF[l]||l;o+=`${c}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const Kk=t=>e=>typeof e=="string"&&e.startsWith(t),Yk=Kk("--"),rx=Kk("var(--"),AF=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,RF=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Pi=(t,e,n)=>Math.min(Math.max(n,t),e),Ja={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ou={...Ja,transform:t=>Pi(0,1,t)},Oh={...Ja,default:1},Lu=t=>Math.round(t*1e5)/1e5,Cm=/(-)?([\d]*\.?[\d])+/g,Qk=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,DF=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Fd(t){return typeof t=="string"}const Vd=t=>({test:e=>Fd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xo=Vd("deg"),Ws=Vd("%"),Ve=Vd("px"),MF=Vd("vh"),OF=Vd("vw"),SS={...Ws,parse:t=>Ws.parse(t)/100,transform:t=>Ws.transform(t*100)},CS={...Ja,transform:Math.round},Xk={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,size:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,rotate:Xo,rotateX:Xo,rotateY:Xo,rotateZ:Xo,scale:Oh,scaleX:Oh,scaleY:Oh,scaleZ:Oh,skew:Xo,skewX:Xo,skewY:Xo,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:Ou,originX:SS,originY:SS,originZ:Ve,zIndex:CS,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:CS};function vw(t,e,n,r){const{style:s,vars:o,transform:a,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const f in e){const p=e[f];if(Yk(f)){o[f]=p;continue}const m=Xk[f],y=RF(p,m);if(Za.has(f)){if(c=!0,a[f]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=y):s[f]=y}if(e.transform||(c||r?s.transform=PF(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${p} ${m}`}}const xw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zk(t,e,n){for(const r in e)!Er(e[r])&&!Gk(r,n)&&(t[r]=e[r])}function LF({transformTemplate:t},e,n){return v.useMemo(()=>{const r=xw();return vw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function FF(t,e,n){const r=t.style||{},s={};return Zk(s,r,t),Object.assign(s,LF(t,e,n)),t.transformValues?t.transformValues(s):s}function VF(t,e,n){const r={},s=FF(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const zF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zF.has(t)}let Jk=t=>!pp(t);function UF(t){t&&(Jk=e=>e.startsWith("on")?!pp(e):t(e))}try{UF(require("@emotion/is-prop-valid").default)}catch{}function BF(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Jk(s)||n===!0&&pp(s)||!e&&!pp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function ES(t,e,n){return typeof t=="string"?t:Ve.transform(e+n*t)}function $F(t,e,n){const r=ES(e,t.x,t.width),s=ES(n,t.y,t.height);return`${r} ${s}`}const qF={offset:"stroke-dashoffset",array:"stroke-dasharray"},WF={offset:"strokeDashoffset",array:"strokeDasharray"};function HF(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?qF:WF;t[o.offset]=Ve.transform(-r);const a=Ve.transform(e),l=Ve.transform(n);t[o.array]=`${a} ${l}`}function yw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f,p){if(vw(t,u,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:w}=t;m.transform&&(w&&(y.transform=m.transform),delete m.transform),w&&(s!==void 0||o!==void 0||y.transform)&&(y.transformOrigin=$F(w,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&HF(m,a,l,c,!1)}const eI=()=>({...xw(),attrs:{}}),ww=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GF(t,e,n,r){const s=v.useMemo(()=>{const o=eI();return yw(o,e,{enableHardwareAcceleration:!1},ww(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Zk(o,t.style,t),s.style={...o,...s.style}}return s}function KF(t=!1){return(n,r,s,{latestValues:o},a)=>{const c=(gw(n)?GF:VF)(r,o,a,n),d={...BF(r,typeof n=="string",t),...c,ref:s},{children:f}=r,p=v.useMemo(()=>Er(f)?f.get():f,[f]);return v.createElement(n,{...d,children:p})}}function tI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const nI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rI(t,e,n,r){tI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(nI.has(s)?s:hw(s),e.attrs[s])}function bw(t,e){const{style:n}=t,r={};for(const s in n)(Er(n[s])||e.style&&Er(e.style[s])||Gk(s,t))&&(r[s]=n[s]);return r}function sI(t,e){const n=bw(t,e);for(const r in t)if(Er(t[r])||Er(e[r])){const s=Ld.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function _w(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function oI(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const mp=t=>Array.isArray(t),YF=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),QF=t=>mp(t)?t[t.length-1]||0:t;function Sf(t){const e=Er(t)?t.get():t;return YF(e)?e.toValue():e}function XF({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const a={latestValues:ZF(r,s,o,t),renderState:e()};return n&&(a.mount=l=>n(r,l,a)),a}const iI=t=>(e,n)=>{const r=v.useContext(ym),s=v.useContext(wm),o=()=>XF(t,e,r,s);return n?o():oI(o)};function ZF(t,e,n,r){const s={},o=r(t,{});for(const p in o)s[p]=Sf(o[p]);let{initial:a,animate:l}=t;const c=Sm(t),u=Wk(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;return f&&typeof f!="boolean"&&!_m(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=_w(t,m);if(!y)return;const{transitionEnd:w,transition:_,...S}=y;for(const g in S){let b=S[g];if(Array.isArray(b)){const N=d?b.length-1:0;b=b[N]}b!==null&&(s[g]=b)}for(const g in w)s[g]=w[g]}),s}const Gt=t=>t;class TS{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function JF(t){let e=new TS,n=new TS,r=0,s=!1,o=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,p=f?e:n;return u&&a.add(c),p.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(c),a.has(d)&&(l.schedule(d),t())}s=!1,o&&(o=!1,l.process(c))}};return l}const Lh=["prepare","read","update","preRender","render","postRender"],eV=40;function tV(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Lh.reduce((f,p)=>(f[p]=JF(()=>n=!0),f),{}),a=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,eV),1),s.timestamp=f,s.isProcessing=!0,Lh.forEach(a),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:Lh.reduce((f,p)=>{const m=o[p];return f[p]=(y,w=!1,_=!1)=>(n||c(),m.schedule(y,w,_)),f},{}),cancel:f=>Lh.forEach(p=>o[p].cancel(f)),state:s,steps:o}}const{schedule:jt,cancel:ko,state:Hn,steps:rv}=tV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0),nV={useVisualState:iI({scrapeMotionValuesFromProps:sI,createRenderState:eI,onMount:(t,e,{renderState:n,latestValues:r})=>{jt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),jt.render(()=>{yw(n,r,{enableHardwareAcceleration:!1},ww(e.tagName),t.transformTemplate),rI(e,n)})}})},rV={useVisualState:iI({scrapeMotionValuesFromProps:bw,createRenderState:xw})};function sV(t,{forwardMotionProps:e=!1},n,r){return{...gw(t)?nV:rV,preloadedFeatures:n,useRender:KF(e),createVisualElement:r,Component:t}}function mo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const aI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Em(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const oV=t=>e=>aI(e)&&t(e,Em(e));function bo(t,e,n,r){return mo(t,e,oV(n),r)}const iV=(t,e)=>n=>e(t(n)),bi=(...t)=>t.reduce(iV);function lI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const NS=lI("dragHorizontal"),jS=lI("dragVertical");function cI(t){let e=!1;if(t==="y")e=jS();else if(t==="x")e=NS();else{const n=NS(),r=jS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function uI(){const t=cI(!0);return t?(t(),!1):!0}class Hi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function kS(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(o,a)=>{if(o.pointerType==="touch"||uI())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&jt.update(()=>l[r](o,a))};return bo(t.current,n,s,{passive:!t.getProps()[r]})}class aV extends Hi{mount(){this.unmount=bi(kS(this.node,!0),kS(this.node,!1))}unmount(){}}class lV extends Hi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bi(mo(this.node.current,"focus",()=>this.onFocus()),mo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const dI=(t,e)=>e?t===e?!0:dI(t,e.parentElement):!1;function sv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Em(n))}class cV extends Hi{constructor(){super(...arguments),this.removeStartListeners=Gt,this.removeEndListeners=Gt,this.removeAccessibleListeners=Gt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=bo(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();jt.update(()=>{!f&&!dI(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=bo(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=bi(o,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||sv("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&jt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=mo(this.node.current,"keyup",a),sv("down",(l,c)=>{this.startPress(l,c)})},n=mo(this.node.current,"keydown",e),r=()=>{this.isPressing&&sv("cancel",(o,a)=>this.cancelPress(o,a))},s=mo(this.node.current,"blur",r);this.removeAccessibleListeners=bi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&jt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!uI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&jt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=bo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=mo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=bi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sx=new WeakMap,ov=new WeakMap,uV=t=>{const e=sx.get(t.target);e&&e(t)},dV=t=>{t.forEach(uV)};function hV({root:t,...e}){const n=t||document;ov.has(n)||ov.set(n,{});const r=ov.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(dV,{root:t,...e})),r[s]}function fV(t,e,n){const r=hV(e);return sx.set(t,n),r.observe(t),()=>{sx.delete(t),r.unobserve(t)}}const pV={some:0,all:1};class mV extends Hi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:pV[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return fV(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gV(e,n))&&this.startObserver()}unmount(){}}function gV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const vV={inView:{Feature:mV},tap:{Feature:cV},focus:{Feature:lV},hover:{Feature:aV}};function hI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xV(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function yV(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Tm(t,e,n){const r=t.getProps();return _w(r,e,n!==void 0?n:r.custom,xV(t),yV(t))}let wV=Gt,Sw=Gt;const _i=t=>t*1e3,_o=t=>t/1e3,bV={current:!1},fI=t=>Array.isArray(t)&&typeof t[0]=="number";function pI(t){return!!(!t||typeof t=="string"&&mI[t]||fI(t)||Array.isArray(t)&&t.every(pI))}const yu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yu([0,.65,.55,1]),circOut:yu([.55,0,1,.45]),backIn:yu([.31,.01,.66,-.59]),backOut:yu([.33,1.53,.69,.99])};function gI(t){if(t)return fI(t)?yu(t):Array.isArray(t)?t.map(gI):mI[t]}function _V(t,e,n,{delay:r=0,duration:s,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=gI(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function SV(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const vI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,CV=1e-7,EV=12;function TV(t,e,n,r,s){let o,a,l=0;do a=e+(n-e)/2,o=vI(a,r,s)-t,o>0?n=a:e=a;while(Math.abs(o)>CV&&++l<EV);return a}function zd(t,e,n,r){if(t===e&&n===r)return Gt;const s=o=>TV(o,0,1,t,n);return o=>o===0||o===1?o:vI(s(o),e,r)}const NV=zd(.42,0,1,1),jV=zd(0,0,.58,1),xI=zd(.42,0,.58,1),kV=t=>Array.isArray(t)&&typeof t[0]!="number",yI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wI=t=>e=>1-t(1-e),Cw=t=>1-Math.sin(Math.acos(t)),bI=wI(Cw),IV=yI(Cw),_I=zd(.33,1.53,.69,.99),Ew=wI(_I),PV=yI(Ew),AV=t=>(t*=2)<1?.5*Ew(t):.5*(2-Math.pow(2,-10*(t-1))),RV={linear:Gt,easeIn:NV,easeInOut:xI,easeOut:jV,circIn:Cw,circInOut:IV,circOut:bI,backIn:Ew,backInOut:PV,backOut:_I,anticipate:AV},IS=t=>{if(Array.isArray(t)){Sw(t.length===4);const[e,n,r,s]=t;return zd(e,n,r,s)}else if(typeof t=="string")return RV[t];return t},Tw=(t,e)=>n=>!!(Fd(n)&&DF.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),SI=(t,e,n)=>r=>{if(!Fd(r))return r;const[s,o,a,l]=r.match(Cm);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},DV=t=>Pi(0,255,t),iv={...Ja,transform:t=>Math.round(DV(t))},xa={test:Tw("rgb","red"),parse:SI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+iv.transform(t)+", "+iv.transform(e)+", "+iv.transform(n)+", "+Lu(Ou.transform(r))+")"};function MV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ox={test:Tw("#"),parse:MV,transform:xa.transform},Pl={test:Tw("hsl","hue"),parse:SI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ws.transform(Lu(e))+", "+Ws.transform(Lu(n))+", "+Lu(Ou.transform(r))+")"},or={test:t=>xa.test(t)||ox.test(t)||Pl.test(t),parse:t=>xa.test(t)?xa.parse(t):Pl.test(t)?Pl.parse(t):ox.parse(t),transform:t=>Fd(t)?t:t.hasOwnProperty("red")?xa.transform(t):Pl.transform(t)},zt=(t,e,n)=>-n*t+n*e+t;function av(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,a=0;if(!e)s=o=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=av(c,l,t+1/3),o=av(c,l,t),a=av(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}const lv=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},LV=[ox,xa,Pl],FV=t=>LV.find(e=>e.test(t));function PS(t){const e=FV(t);let n=e.parse(t);return e===Pl&&(n=OV(n)),n}const CI=(t,e)=>{const n=PS(t),r=PS(e),s={...n};return o=>(s.red=lv(n.red,r.red,o),s.green=lv(n.green,r.green,o),s.blue=lv(n.blue,r.blue,o),s.alpha=zt(n.alpha,r.alpha,o),xa.transform(s))};function VV(t){var e,n;return isNaN(t)&&Fd(t)&&(((e=t.match(Cm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Qk))===null||n===void 0?void 0:n.length)||0)>0}const EI={regex:AF,countKey:"Vars",token:"${v}",parse:Gt},TI={regex:Qk,countKey:"Colors",token:"${c}",parse:or.parse},NI={regex:Cm,countKey:"Numbers",token:"${n}",parse:Ja.parse};function cv(t,{regex:e,countKey:n,token:r,parse:s}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(s)))}function gp(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&cv(n,EI),cv(n,TI),cv(n,NI),n}function jI(t){return gp(t).values}function kI(t){const{values:e,numColors:n,numVars:r,tokenised:s}=gp(t),o=e.length;return a=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(EI.token,a[c]):c<r+n?l=l.replace(TI.token,or.transform(a[c])):l=l.replace(NI.token,Lu(a[c]));return l}}const zV=t=>typeof t=="number"?0:t;function UV(t){const e=jI(t);return kI(t)(e.map(zV))}const Ai={test:VV,parse:jI,createTransformer:kI,getAnimatableNone:UV},II=(t,e)=>n=>`${n>0?e:t}`;function PI(t,e){return typeof t=="number"?n=>zt(t,e,n):or.test(t)?CI(t,e):t.startsWith("var(")?II(t,e):RI(t,e)}const AI=(t,e)=>{const n=[...t],r=n.length,s=t.map((o,a)=>PI(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}},BV=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=PI(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},RI=(t,e)=>{const n=Ai.createTransformer(e),r=gp(t),s=gp(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?bi(AI(r.values,s.values),n):II(t,e)},fd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},AS=(t,e)=>n=>zt(t,e,n);function $V(t){return typeof t=="number"?AS:typeof t=="string"?or.test(t)?CI:RI:Array.isArray(t)?AI:typeof t=="object"?BV:AS}function qV(t,e,n){const r=[],s=n||$V(t[0]),o=t.length-1;for(let a=0;a<o;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Gt:e;l=bi(c,l)}r.push(l)}return r}function DI(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Sw(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=qV(e,r,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=fd(t[d],t[d+1],u);return a[d](f)};return n?u=>c(Pi(t[0],t[o-1],u)):c}function WV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=fd(0,e,r);t.push(zt(n,1,s))}}function HV(t){const e=[0];return WV(e,t.length-1),e}function GV(t,e){return t.map(n=>n*e)}function KV(t,e){return t.map(()=>e||xI).splice(0,t.length-1)}function vp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=kV(r)?r.map(IS):IS(r),o={done:!1,value:e[0]},a=GV(n&&n.length===e.length?n:HV(e),t),l=DI(a,e,{ease:Array.isArray(s)?s:KV(e,s)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}function MI(t,e){return e?t*(1e3/e):0}const YV=5;function OI(t,e,n){const r=Math.max(e-YV,0);return MI(n-t(r),e-r)}const uv=.001,QV=.01,RS=10,XV=.05,ZV=1;function JV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o;wV(t<=_i(RS));let a=1-e;a=Pi(XV,ZV,a),t=Pi(QV,RS,_o(t)),a<1?(s=u=>{const d=u*a,f=d*t,p=d-n,m=ix(u,a),y=Math.exp(-f);return uv-p/m*y},o=u=>{const f=u*a*t,p=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-f),w=ix(Math.pow(u,2),a);return(-s(u)+uv>0?-1:1)*((p-m)*y)/w}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-uv+d*f},o=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=t5(s,o,l);if(t=_i(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const e5=12;function t5(t,e,n){let r=n;for(let s=1;s<e5;s++)r=r-t(r)/e(r);return r}function ix(t,e){return t*Math.sqrt(1-e*e)}const n5=["duration","bounce"],r5=["stiffness","damping","mass"];function DS(t,e){return e.some(n=>t[n]!==void 0)}function s5(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!DS(t,r5)&&DS(t,n5)){const n=JV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function LI({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=s5({...r,velocity:-_o(r.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(l*u)),w=o-s,_=_o(Math.sqrt(l/u)),S=Math.abs(w)<5;n||(n=S?.01:2),e||(e=S?.005:.5);let g;if(y<1){const b=ix(_,y);g=N=>{const R=Math.exp(-y*_*N);return o-R*((m+y*_*w)/b*Math.sin(b*N)+w*Math.cos(b*N))}}else if(y===1)g=b=>o-Math.exp(-_*b)*(w+(m+_*w)*b);else{const b=_*Math.sqrt(y*y-1);g=N=>{const R=Math.exp(-y*_*N),L=Math.min(b*N,300);return o-R*((m+y*_*w)*Math.sinh(L)+b*w*Math.cosh(L))/b}}return{calculatedDuration:p&&d||null,next:b=>{const N=g(b);if(p)a.done=b>=d;else{let R=m;b!==0&&(y<1?R=OI(g,b,N):R=0);const L=Math.abs(R)<=n,C=Math.abs(o-N)<=e;a.done=L&&C}return a.value=a.done?o:N,a}}}function MS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=T=>l!==void 0&&T<l||c!==void 0&&T>c,y=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let w=n*e;const _=f+w,S=a===void 0?_:a(_);S!==_&&(w=S-f);const g=T=>-w*Math.exp(-T/r),b=T=>S+g(T),N=T=>{const P=g(T),A=b(T);p.done=Math.abs(P)<=u,p.value=p.done?S:A};let R,L;const C=T=>{m(p.value)&&(R=T,L=LI({keyframes:[p.value,y(p.value)],velocity:OI(b,T,p.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let P=!1;return!L&&R===void 0&&(P=!0,N(T),C(T)),R!==void 0&&T>R?L.next(T-R):(!P&&N(T),p)}}}const o5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>jt.update(e,!0),stop:()=>ko(e),now:()=>Hn.isProcessing?Hn.timestamp:performance.now()}},OS=2e4;function LS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<OS;)e+=n,r=t.next(e);return e>=OS?1/0:e}const i5={decay:MS,inertia:MS,tween:vp,keyframes:vp,spring:LI};function xp({autoplay:t=!0,delay:e=0,driver:n=o5,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,y=!1,w,_;const S=()=>{_=new Promise(Q=>{w=Q})};S();let g;const b=i5[s]||vp;let N;b!==vp&&typeof r[0]!="number"&&(N=DI([0,100],r,{clamp:!1}),r=[0,100]);const R=b({...p,keyframes:r});let L;l==="mirror"&&(L=b({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let C="idle",T=null,P=null,A=null;R.calculatedDuration===null&&o&&(R.calculatedDuration=LS(R));const{calculatedDuration:k}=R;let j=1/0,I=1/0;k!==null&&(j=k+a,I=j*(o+1)-a);let V=0;const F=Q=>{if(P===null)return;m>0&&(P=Math.min(P,Q)),m<0&&(P=Math.min(Q-I/m,P)),T!==null?V=T:V=Math.round(Q-P)*m;const he=V-e*(m>=0?1:-1),de=m>=0?he<0:he>I;V=Math.max(he,0),C==="finished"&&T===null&&(V=I);let xe=V,G=R;if(o){const Ae=Math.min(V,I)/j;let U=Math.floor(Ae),re=Ae%1;!re&&Ae>=1&&(re=1),re===1&&U--,U=Math.min(U,o+1),!!(U%2)&&(l==="reverse"?(re=1-re,a&&(re-=a/j)):l==="mirror"&&(G=L)),xe=Pi(0,1,re)*j}const ce=de?{done:!1,value:r[0]}:G.next(xe);N&&(ce.value=N(ce.value));let{done:oe}=ce;!de&&k!==null&&(oe=m>=0?V>=I:V<=0);const be=T===null&&(C==="finished"||C==="running"&&oe);return f&&f(ce.value),be&&M(),ce},W=()=>{g&&g.stop(),g=void 0},$=()=>{C="idle",W(),w(),S(),P=A=null},M=()=>{C="finished",d&&d(),W(),w()},z=()=>{if(y)return;g||(g=n(F));const Q=g.now();c&&c(),T!==null?P=Q-T:(!P||C==="finished")&&(P=Q),C==="finished"&&S(),A=P,T=null,C="running",g.start()};t&&z();const Y={then(Q,he){return _.then(Q,he)},get time(){return _o(V)},set time(Q){Q=_i(Q),V=Q,T!==null||!g||m===0?T=Q:P=g.now()-Q/m},get duration(){const Q=R.calculatedDuration===null?LS(R):R.calculatedDuration;return _o(Q)},get speed(){return m},set speed(Q){Q===m||!g||(m=Q,Y.time=_o(V))},get state(){return C},play:z,pause:()=>{C="paused",T=V},stop:()=>{y=!0,C!=="idle"&&(C="idle",u&&u(),$())},cancel:()=>{A!==null&&F(A),$()},complete:()=>{C="finished"},sample:Q=>(P=0,F(Q))};return Y}function a5(t){let e;return()=>(e===void 0&&(e=t()),e)}const l5=a5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),c5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Fh=10,u5=2e4,d5=(t,e)=>e.type==="spring"||t==="backgroundColor"||!pI(e.ease);function h5(t,e,{onUpdate:n,onComplete:r,...s}){if(!(l5()&&c5.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:f,duration:p=300,ease:m,times:y}=s;if(d5(e,s)){const b=xp({...s,repeat:0,delay:0});let N={done:!1,value:f[0]};const R=[];let L=0;for(;!N.done&&L<u5;)N=b.sample(L),R.push(N.value),L+=Fh;y=void 0,f=R,p=L-Fh,m="linear"}const w=_V(t.owner.current,e,f,{...s,duration:p,ease:m,times:y}),_=()=>{u=!1,w.cancel()},S=()=>{u=!0,jt.update(_),l(),d()};return w.onfinish=()=>{u||(t.set(SV(f,s)),r&&r(),S())},{then(b,N){return c.then(b,N)},attachTimeline(b){return w.timeline=b,w.onfinish=null,Gt},get time(){return _o(w.currentTime||0)},set time(b){w.currentTime=_i(b)},get speed(){return w.playbackRate},set speed(b){w.playbackRate=b},get duration(){return _o(p)},play:()=>{a||(w.play(),ko(_))},pause:()=>w.pause(),stop:()=>{if(a=!0,w.playState==="idle")return;const{currentTime:b}=w;if(b){const N=xp({...s,autoplay:!1});t.setWithVelocity(N.sample(b-Fh).value,N.sample(b).value,Fh)}S()},complete:()=>{u||w.finish()},cancel:S}}function f5({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Gt,pause:Gt,stop:Gt,then:o=>(o(),Promise.resolve()),cancel:Gt,complete:Gt});return e?xp({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const p5={type:"spring",stiffness:500,damping:25,restSpeed:10},m5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),g5={type:"keyframes",duration:.8},v5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},x5=(t,{keyframes:e})=>e.length>2?g5:Za.has(t)?t.startsWith("scale")?m5(e[1]):p5:v5,ax=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ai.test(e)||e==="0")&&!e.startsWith("url(")),y5=new Set(["brightness","contrast","saturate","opacity"]);function w5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Cm)||[];if(!r)return t;const s=n.replace(r,"");let o=y5.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const b5=/([a-z-]*)\(.*?\)/g,lx={...Ai,getAnimatableNone:t=>{const e=t.match(b5);return e?e.map(w5).join(" "):t}},_5={...Xk,color:or,backgroundColor:or,outlineColor:or,fill:or,stroke:or,borderColor:or,borderTopColor:or,borderRightColor:or,borderBottomColor:or,borderLeftColor:or,filter:lx,WebkitFilter:lx},Nw=t=>_5[t];function FI(t,e){let n=Nw(t);return n!==lx&&(n=Ai),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VI=t=>/^0[^.\s]+$/.test(t);function S5(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||VI(t)}function C5(t,e,n,r){const s=ax(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=r.from!==void 0?r.from:t.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?a:o[u-1]),S5(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=FI(e,l)}return o}function E5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function jw(t,e){return t[e]||t.default||t}const T5={skipAnimations:!1},kw=(t,e,n,r={})=>s=>{const o=jw(r,t)||{},a=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-_i(a);const c=C5(e,t,n,o),u=c[0],d=c[c.length-1],f=ax(t,u),p=ax(t,d);let m={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:y=>{e.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(E5(o)||(m={...m,...x5(t,m)}),m.duration&&(m.duration=_i(m.duration)),m.repeatDelay&&(m.repeatDelay=_i(m.repeatDelay)),!f||!p||bV.current||o.type===!1||T5.skipAnimations)return f5(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=h5(e,t,m);if(y)return y}return xp(m)};function yp(t){return!!(Er(t)&&t.add)}const zI=t=>/^\-?\d*\.?\d+$/.test(t);function Iw(t,e){t.indexOf(e)===-1&&t.push(e)}function Pw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Aw{constructor(){this.subscriptions=[]}add(e){return Iw(this.subscriptions,e),()=>Pw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const N5=t=>!isNaN(parseFloat(t));class j5{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:a}=Hn;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,jt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>jt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=N5(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Aw);const r=this.events[e].add(n);return e==="change"?()=>{r(),jt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?MI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rc(t,e){return new j5(t,e)}const UI=t=>e=>e.test(t),k5={test:t=>t==="auto",parse:t=>t},BI=[Ja,Ve,Ws,Xo,OF,MF,k5],lu=t=>BI.find(UI(t)),I5=[...BI,or,Ai],P5=t=>I5.find(UI(t));function A5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,rc(n))}function R5(t,e){const n=Tm(t,e);let{transitionEnd:r={},transition:s={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){const l=QF(o[a]);A5(t,a,l)}}function D5(t,e,n){var r,s;const o=Object.keys(e).filter(l=>!t.hasValue(l)),a=o.length;if(a)for(let l=0;l<a;l++){const c=o[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),d!=null&&(typeof d=="string"&&(zI(d)||VI(d))?d=parseFloat(d):!P5(d)&&Ai.test(u)&&(d=FI(c,u)),t.addValue(c,rc(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function M5(t,e){return e?(e[t]||e.default||e).from:void 0}function O5(t,e,n){const r={};for(const s in t){const o=M5(s,e);if(o!==void 0)r[s]=o;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function L5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function F5(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function $I(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const p=t.getValue(f),m=l[f];if(!p||m===void 0||d&&L5(d,f))continue;const y={delay:n,elapsed:0,...jw(o||{},f)};if(window.HandoffAppearAnimations){const S=t.getProps()[qk];if(S){const g=window.HandoffAppearAnimations(S,f,p,jt);g!==null&&(y.elapsed=g,y.isHandoff=!0)}}let w=!y.isHandoff&&!F5(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(w=!1),p.animation&&(w=!1),w)continue;p.start(kw(f,p,m,t.shouldReduceMotion&&Za.has(f)?{type:!1}:y));const _=p.animation;yp(c)&&(c.add(f),_.then(()=>c.remove(f))),u.push(_)}return a&&Promise.all(u).then(()=>{a&&R5(t,a)}),u}function cx(t,e,n={}){const r=Tm(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all($I(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return V5(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function V5(t,e,n=0,r=0,s=1,o){const a=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(z5).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(cx(u,e,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function z5(t,e){return t.sortNodePosition(e)}function U5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>cx(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=cx(t,e,n);else{const s=typeof e=="function"?Tm(t,e,n.custom):e;r=Promise.all($I(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const B5=[...fw].reverse(),$5=fw.length;function q5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>U5(t,n,r)))}function W5(t){let e=q5(t);const n=G5();let r=!0;const s=(c,u)=>{const d=Tm(t,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function o(c){e=c(t)}function a(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},p=[],m=new Set;let y={},w=1/0;for(let S=0;S<$5;S++){const g=B5[S],b=n[g],N=d[g]!==void 0?d[g]:f[g],R=dd(N),L=g===u?b.isActive:null;L===!1&&(w=S);let C=N===f[g]&&N!==d[g]&&R;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...y},!b.isActive&&L===null||!N&&!b.prevProp||_m(N)||typeof N=="boolean")continue;let P=H5(b.prevProp,N)||g===u&&b.isActive&&!C&&R||S>w&&R,A=!1;const k=Array.isArray(N)?N:[N];let j=k.reduce(s,{});L===!1&&(j={});const{prevResolvedValues:I={}}=b,V={...I,...j},F=W=>{P=!0,m.has(W)&&(A=!0,m.delete(W)),b.needsAnimating[W]=!0};for(const W in V){const $=j[W],M=I[W];if(y.hasOwnProperty(W))continue;let z=!1;mp($)&&mp(M)?z=!hI($,M):z=$!==M,z?$!==void 0?F(W):m.add(W):$!==void 0&&m.has(W)?F(W):b.protectedKeys[W]=!0}b.prevProp=N,b.prevResolvedValues=j,b.isActive&&(y={...y,...j}),r&&t.blockInitialAnimation&&(P=!1),P&&(!C||A)&&p.push(...k.map(W=>({animation:W,options:{type:g,...c}})))}if(m.size){const S={};m.forEach(g=>{const b=t.getBaseTarget(g);b!==void 0&&(S[g]=b)}),p.push({animation:S})}let _=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(p):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const p=a(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n}}function H5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hI(e,t):!1}function oa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function G5(){return{animate:oa(!0),whileInView:oa(),whileHover:oa(),whileTap:oa(),whileDrag:oa(),whileFocus:oa(),exit:oa()}}class K5 extends Hi{constructor(e){super(e),e.animationState||(e.animationState=W5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),_m(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Y5=0;class Q5 extends Hi{constructor(){super(...arguments),this.id=Y5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const X5={animation:{Feature:K5},exit:{Feature:Q5}},FS=(t,e)=>Math.abs(t-e);function Z5(t,e){const n=FS(t.x,e.x),r=FS(t.y,e.y);return Math.sqrt(n**2+r**2)}class qI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=hv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Z5(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=f,{timestamp:w}=Hn;this.history.push({...y,timestamp:w});const{onStart:_,onMove:S}=this.handlers;p||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=dv(p,this.transformPagePoint),jt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=hv(f.type==="pointercancel"?this.lastMoveEventInfo:dv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,_),y&&y(f,_)},!aI(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Em(e),l=dv(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Hn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,hv(l,this.history)),this.removeListeners=bi(bo(this.contextWindow,"pointermove",this.handlePointerMove),bo(this.contextWindow,"pointerup",this.handlePointerUp),bo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ko(this.updatePoint)}}function dv(t,e){return e?{point:e(t.point)}:t}function VS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hv({point:t},e){return{point:t,delta:VS(t,WI(e)),offset:VS(t,J5(e)),velocity:e6(e,.1)}}function J5(t){return t[0]}function WI(t){return t[t.length-1]}function e6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=WI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>_i(e)));)n--;if(!r)return{x:0,y:0};const o=_o(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Br(t){return t.max-t.min}function ux(t,e=0,n=.01){return Math.abs(t-e)<=n}function zS(t,e,n,r=.5){t.origin=r,t.originPoint=zt(e.min,e.max,t.origin),t.scale=Br(n)/Br(e),(ux(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=zt(n.min,n.max,t.origin)-t.originPoint,(ux(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Fu(t,e,n,r){zS(t.x,e.x,n.x,r?r.originX:void 0),zS(t.y,e.y,n.y,r?r.originY:void 0)}function US(t,e,n){t.min=n.min+e.min,t.max=t.min+Br(e)}function t6(t,e,n){US(t.x,e.x,n.x),US(t.y,e.y,n.y)}function BS(t,e,n){t.min=e.min-n.min,t.max=t.min+Br(e)}function Vu(t,e,n){BS(t.x,e.x,n.x),BS(t.y,e.y,n.y)}function n6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zt(n,t,r.max):Math.min(t,n)),t}function $S(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function r6(t,{top:e,left:n,bottom:r,right:s}){return{x:$S(t.x,n,s),y:$S(t.y,e,r)}}function qS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function s6(t,e){return{x:qS(t.x,e.x),y:qS(t.y,e.y)}}function o6(t,e){let n=.5;const r=Br(t),s=Br(e);return s>r?n=fd(e.min,e.max-r,t.min):r>s&&(n=fd(t.min,t.max-s,e.min)),Pi(0,1,n)}function i6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dx=.35;function a6(t=dx){return t===!1?t=0:t===!0&&(t=dx),{x:WS(t,"left","right"),y:WS(t,"top","bottom")}}function WS(t,e,n){return{min:HS(t,e),max:HS(t,n)}}function HS(t,e){return typeof t=="number"?t:t[e]||0}const GS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Al=()=>({x:GS(),y:GS()}),KS=()=>({min:0,max:0}),tn=()=>({x:KS(),y:KS()});function Kr(t){return[t("x"),t("y")]}function HI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function l6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fv(t){return t===void 0||t===1}function hx({scale:t,scaleX:e,scaleY:n}){return!fv(t)||!fv(e)||!fv(n)}function ca(t){return hx(t)||GI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function GI(t){return YS(t.x)||YS(t.y)}function YS(t){return t&&t!=="0%"}function wp(t,e,n){const r=t-n,s=e*r;return n+s}function QS(t,e,n,r,s){return s!==void 0&&(t=wp(t,s,r)),wp(t,n,r)+e}function fx(t,e=0,n=1,r,s){t.min=QS(t.min,e,n,r,s),t.max=QS(t.max,e,n,r,s)}function KI(t,{x:e,y:n}){fx(t.x,e.translate,e.scale,e.originPoint),fx(t.y,n.translate,n.scale,n.originPoint)}function u6(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,a;for(let l=0;l<s;l++){o=n[l],a=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Rl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,KI(t,a)),r&&ca(o.latestValues)&&Rl(t,o.latestValues))}e.x=XS(e.x),e.y=XS(e.y)}function XS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ti(t,e){t.min=t.min+e,t.max=t.max+e}function ZS(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,a=zt(t.min,t.max,o);fx(t,e[n],e[r],a,e.scale)}const d6=["x","scaleX","originX"],h6=["y","scaleY","originY"];function Rl(t,e){ZS(t.x,e,d6),ZS(t.y,e,h6)}function YI(t,e){return HI(c6(t.getBoundingClientRect(),e))}function f6(t,e,n){const r=YI(t,n),{scroll:s}=e;return s&&(ti(r.x,s.offset.x),ti(r.y,s.offset.y)),r}const QI=({current:t})=>t?t.ownerDocument.defaultView:null,p6=new WeakMap;class m6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Em(d,"page").point)},o=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=cI(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kr(_=>{let S=this.getAxisMotionValue(_).get()||0;if(Ws.test(S)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[_];b&&(S=Br(b)*(parseFloat(S)/100))}}this.originPoint[_]=S}),y&&jt.update(()=>y(d,f),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:w}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=f;if(m&&this.currentDirection===null){this.currentDirection=g6(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),w&&w(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Kr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new qI(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:QI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&jt.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Vh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=n6(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Il(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=r6(s.layoutBox,n):this.constraints=!1,this.elastic=a6(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Kr(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=i6(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Il(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=f6(r,s.root,this.visualElement.getTransformPagePoint());let a=s6(s.layout.layoutBox,o);if(n){const l=n(l6(a));this.hasMutatedConstraints=!!l,l&&(a=HI(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Kr(d=>{if(!Vh(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(kw(e,r,0,n))}stopAnimation(){Kr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Kr(n=>{const{drag:r}=this.getProps();if(!Vh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];o.set(e[n]-zt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Il(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Kr(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=o6({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kr(a=>{if(!Vh(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(zt(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;p6.set(this.visualElement,this);const e=this.visualElement.current,n=bo(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Il(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=mo(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Kr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=dx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function g6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class v6 extends Hi{constructor(e){super(e),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new m6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const JS=t=>(e,n)=>{t&&jt.update(()=>t(e,n))};class x6 extends Hi{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(e){this.session=new qI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:JS(e),onStart:JS(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&jt.update(()=>s(o,a))}}}mount(){this.removePointerDownListener=bo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function y6(){const t=v.useContext(wm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=v.useId();return v.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=eC(t,e.target.x),r=eC(t,e.target.y);return`${n}% ${r}%`}},w6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ai.parse(t);if(s.length>5)return r;const o=Ai.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=zt(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),o(s)}};class b6 extends Le.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;jF(_6),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||jt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XI(t){const[e,n]=y6(),r=v.useContext(mw);return Le.createElement(b6,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(Hk),isPresent:e,safeToRemove:n})}const _6={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:w6},ZI=["TopLeft","TopRight","BottomLeft","BottomRight"],S6=ZI.length,tC=t=>typeof t=="string"?parseFloat(t):t,nC=t=>typeof t=="number"||Ve.test(t);function C6(t,e,n,r,s,o){s?(t.opacity=zt(0,n.opacity!==void 0?n.opacity:1,E6(r)),t.opacityExit=zt(e.opacity!==void 0?e.opacity:1,0,T6(r))):o&&(t.opacity=zt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<S6;a++){const l=`border${ZI[a]}Radius`;let c=rC(e,l),u=rC(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||nC(c)===nC(u)?(t[l]=Math.max(zt(tC(c),tC(u),r),0),(Ws.test(u)||Ws.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=zt(e.rotate||0,n.rotate||0,r))}function rC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const E6=JI(0,.5,bI),T6=JI(.5,.95,Gt);function JI(t,e,n){return r=>r<t?0:r>e?1:n(fd(t,e,r))}function sC(t,e){t.min=e.min,t.max=e.max}function Hr(t,e){sC(t.x,e.x),sC(t.y,e.y)}function oC(t,e,n,r,s){return t-=e,t=wp(t,1/n,r),s!==void 0&&(t=wp(t,1/s,r)),t}function N6(t,e=0,n=1,r=.5,s,o=t,a=t){if(Ws.test(e)&&(e=parseFloat(e),e=zt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=zt(o.min,o.max,r);t===o&&(l-=e),t.min=oC(t.min,e,n,l,s),t.max=oC(t.max,e,n,l,s)}function iC(t,e,[n,r,s],o,a){N6(t,e[n],e[r],e[s],e.scale,o,a)}const j6=["x","scaleX","originX"],k6=["y","scaleY","originY"];function aC(t,e,n,r){iC(t.x,e,j6,n?n.x:void 0,r?r.x:void 0),iC(t.y,e,k6,n?n.y:void 0,r?r.y:void 0)}function lC(t){return t.translate===0&&t.scale===1}function eP(t){return lC(t.x)&&lC(t.y)}function I6(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function tP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function cC(t){return Br(t.x)/Br(t.y)}class P6{constructor(){this.members=[]}add(e){Iw(this.members,e),e.scheduleRender()}remove(e){if(Pw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uC(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const A6=(t,e)=>t.depth-e.depth;class R6{constructor(){this.children=[],this.isDirty=!1}add(e){Iw(this.children,e),this.isDirty=!0}remove(e){Pw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A6),this.isDirty=!1,this.children.forEach(e)}}function D6(t,e){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(ko(r),t(o-e))};return jt.read(r,!0),()=>ko(r)}function M6(t){window.MotionDebug&&window.MotionDebug.record(t)}function O6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function L6(t,e,n){const r=Er(t)?t:rc(t);return r.start(kw("",r,e,n)),r.animation}const dC=["","X","Y","Z"],F6={visibility:"hidden"},hC=1e3;let V6=0;const ua={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function nP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=V6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ua.totalNodes=ua.resolvedTargetDeltas=ua.recalculatedProjection=0,this.nodes.forEach(B6),this.nodes.forEach(G6),this.nodes.forEach(K6),this.nodes.forEach($6),M6(ua)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new R6)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Aw),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=O6(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=D6(p,250),Cf.hasAnimatedSinceResize&&(Cf.hasAnimatedSinceResize=!1,this.nodes.forEach(pC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||J6,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=d.getProps(),g=!this.targetLayout||!tP(this.targetLayout,y)||m,b=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const N={...jw(w,"layout"),onPlay:_,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||pC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ko(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Y6),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fC);return}this.isUpdating||this.nodes.forEach(W6),this.isUpdating=!1,this.nodes.forEach(H6),this.nodes.forEach(z6),this.nodes.forEach(U6),this.clearAllSnapshots();const l=performance.now();Hn.delta=Pi(0,1e3/60,l-Hn.timestamp),Hn.timestamp=l,Hn.isProcessing=!0,rv.update.process(Hn),rv.preRender.process(Hn),rv.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(q6),this.sharedNodes.forEach(Q6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!eP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||ca(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),e9(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return tn();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(ti(l.x,c.offset.x),ti(l.y,c.offset.y)),l}removeElementScroll(a){const l=tn();Hr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Hr(l,a);const{scroll:p}=this.root;p&&(ti(l.x,-p.offset.x),ti(l.y,-p.offset.y))}ti(l.x,d.offset.x),ti(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=tn();Hr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ca(d.latestValues)&&Rl(c,d.latestValues)}return ca(this.latestValues)&&Rl(c,this.latestValues),c}removeTransform(a){const l=tn();Hr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ca(u.latestValues))continue;hx(u.latestValues)&&u.updateSnapshot();const d=tn(),f=u.measurePageBox();Hr(d,f),aC(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ca(this.latestValues)&&aC(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Vu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hr(this.target,this.layout.layoutBox),KI(this.target,this.targetDelta)):Hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),Vu(this.relativeTargetOrigin,this.target,m.target),Hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ua.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hx(this.parent.latestValues)||GI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Hr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;u6(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=Al(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Al(),this.projectionDeltaWithTransform=Al());const w=this.projectionTransform;Fu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=uC(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ua.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=tn(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,_=this.getStack(),S=!_||_.members.length<=1,g=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(Z6));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const R=N/1e3;mC(f.x,a.x,R),mC(f.y,a.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),X6(this.relativeTarget,this.relativeTargetOrigin,p,R),b&&I6(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=tn()),Hr(b,this.relativeTarget)),w&&(this.animationValues=d,C6(d,u,this.latestValues,R,g,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ko(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jt.update(()=>{Cf.hasAnimatedSinceResize=!0,this.currentAnimation=L6(0,hC,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&rP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||tn();const f=Br(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const p=Br(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}Hr(l,c),Rl(l,d),Fu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new P6),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<dC.length;d++){const f="rotate"+dC[d];c[f]&&(u[f]=c[f],a.setStaticValue(f,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F6;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Sf(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Sf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ca(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=uC(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in fp){if(p[w]===void 0)continue;const{correct:_,applyTo:S}=fp[w],g=u.transform==="none"?p[w]:_(p[w],f);if(S){const b=S.length;for(let N=0;N<b;N++)u[S[N]]=g}else u[w]=g}return this.options.layoutId&&(u.pointerEvents=f===this?Sf(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(fC),this.root.sharedNodes.clear()}}}function z6(t){t.updateLayout()}function U6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,a=n.source!==t.layout.source;o==="size"?Kr(f=>{const p=a?n.measuredBox[f]:n.layoutBox[f],m=Br(p);p.min=r[f].min,p.max=p.min+m}):rP(o,n.layoutBox,r)&&Kr(f=>{const p=a?n.measuredBox[f]:n.layoutBox[f],m=Br(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const l=Al();Fu(l,r,n.layoutBox);const c=Al();a?Fu(c,t.applyTransform(s,!0),n.measuredBox):Fu(c,r,n.layoutBox);const u=!eP(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=tn();Vu(y,n.layoutBox,p.layoutBox);const w=tn();Vu(w,r,m.layoutBox),tP(y,w)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function B6(t){ua.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q6(t){t.clearSnapshot()}function fC(t){t.clearMeasurements()}function W6(t){t.isLayoutDirty=!1}function H6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function G6(t){t.resolveTargetDelta()}function K6(t){t.calcProjection()}function Y6(t){t.resetRotation()}function Q6(t){t.removeLeadSnapshot()}function mC(t,e,n){t.translate=zt(e.translate,0,n),t.scale=zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function gC(t,e,n,r){t.min=zt(e.min,n.min,r),t.max=zt(e.max,n.max,r)}function X6(t,e,n,r){gC(t.x,e.x,n.x,r),gC(t.y,e.y,n.y,r)}function Z6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const J6={duration:.45,ease:[.4,0,.1,1]},vC=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),xC=vC("applewebkit/")&&!vC("chrome/")?Math.round:Gt;function yC(t){t.min=xC(t.min),t.max=xC(t.max)}function e9(t){yC(t.x),yC(t.y)}function rP(t,e,n){return t==="position"||t==="preserve-aspect"&&!ux(cC(e),cC(n),.2)}const t9=nP({attachResizeListener:(t,e)=>mo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pv={current:void 0},sP=nP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pv.current){const t=new t9({});t.mount(window),t.setOptions({layoutScroll:!0}),pv.current=t}return pv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),n9={pan:{Feature:x6},drag:{Feature:v6,ProjectionNode:sP,MeasureLayout:XI}},r9=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function s9(t){const e=r9.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function px(t,e,n=1){const[r,s]=s9(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return zI(a)?parseFloat(a):a}else return rx(s)?px(s,e,n+1):s}function o9(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const o=s.get();if(!rx(o))return;const a=px(o,r);a&&s.set(a)});for(const s in e){const o=e[s];if(!rx(o))continue;const a=px(o,r);a&&(e[s]=a,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:e,transitionEnd:n}}const i9=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),oP=t=>i9.has(t),a9=t=>Object.keys(t).some(oP),wC=t=>t===Ja||t===Ve,bC=(t,e)=>parseFloat(t.split(", ")[e]),_C=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return bC(s[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?bC(o[1],t):0}},l9=new Set(["x","y","z"]),c9=Ld.filter(t=>!l9.has(t));function u9(t){const e=[];return c9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const sc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_C(4,13),y:_C(5,14)};sc.translateX=sc.x;sc.translateY=sc.y;const d9=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,o=getComputedStyle(s),{display:a}=o,l={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=sc[u](r,o)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=sc[u](c,o)}),t},h9=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(oP);let o=[],a=!1;const l=[];if(s.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],f=lu(d);const p=e[c];let m;if(mp(p)){const y=p.length,w=p[0]===null?1:0;d=p[w],f=lu(d);for(let _=w;_<y&&p[_]!==null;_++)m?Sw(lu(p[_])===m):m=lu(p[_])}else m=lu(p);if(f!==m)if(wC(f)&&wC(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&m===Ve&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):e[c]=f.transform(p):(a||(o=u9(t),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=d9(e,t,l);return o.length&&o.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),bm&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function f9(t,e,n,r){return a9(e)?h9(t,e,n,r):{target:e,transitionEnd:r}}const p9=(t,e,n,r)=>{const s=o9(t,e,r);return e=s.target,r=s.transitionEnd,f9(t,e,n,r)},mx={current:null},iP={current:!1};function m9(){if(iP.current=!0,!!bm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mx.current=t.matches;t.addListener(e),e()}else mx.current=!1}function g9(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],a=n[s];if(Er(o))t.addValue(s,o),yp(r)&&r.add(s);else if(Er(a))t.addValue(s,rc(o,{owner:t})),yp(r)&&r.remove(s);else if(a!==o)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(s);t.addValue(s,rc(l!==void 0?l:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const SC=new WeakMap,aP=Object.keys(hd),v9=aP.length,CC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],x9=pw.length;class y9{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>jt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=Sm(n),this.isVariantNode=Wk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];l[f]!==void 0&&Er(p)&&(p.set(l[f],!1),yp(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,SC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iP.current||m9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){SC.delete(this.current),this.projection&&this.projection.unmount(),ko(this.notifyUpdate),ko(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Za.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&jt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,o){let a,l;for(let c=0;c<v9;c++){const u=aP[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=hd[u];p&&(a=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Il(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:p,layoutRoot:m})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CC.length;r++){const s=CC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=e["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=g9(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<x9;r++){const s=pw[r],o=this.props[s];(dd(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=rc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=_w(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Er(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Aw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lP extends y9{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},o){let a=O5(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),o){D5(this,r,a);const l=p9(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function w9(t){return window.getComputedStyle(t)}class b9 extends lP{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Za.has(n)){const r=Nw(n);return r&&r.default||0}else{const r=w9(e),s=(Yk(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YI(e,n)}build(e,n,r,s){vw(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return bw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Er(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){tI(e,n,r,s)}}class _9 extends lP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Za.has(n)){const r=Nw(n);return r&&r.default||0}return n=nI.has(n)?n:hw(n),e.getAttribute(n)}measureInstanceViewportBox(){return tn()}scrapeMotionValuesFromProps(e,n){return sI(e,n)}build(e,n,r,s){yw(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){rI(e,n,r,s)}mount(e){this.isSVGTag=ww(e.tagName),super.mount(e)}}const S9=(t,e)=>gw(t)?new _9(e,{enableHardwareAcceleration:!1}):new b9(e,{enableHardwareAcceleration:!0}),C9={layout:{ProjectionNode:sP,MeasureLayout:XI}},E9={...X5,...vV,...n9,...C9},_e=TF((t,e)=>sV(t,e,E9,S9));function cP(){const t=v.useRef(!1);return dw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function T9(){const t=cP(),[e,n]=v.useState(0),r=v.useCallback(()=>{t.current&&n(e+1)},[e]);return[v.useCallback(()=>jt.postRender(r),[r]),e]}class N9 extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j9({children:t,isPresent:e}){const n=v.useId(),r=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),v.createElement(N9,{isPresent:e,childRef:r,sizeRef:s},v.cloneElement(t,{ref:r}))}const mv=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a})=>{const l=oI(k9),c=v.useId(),u=v.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return v.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),v.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=v.createElement(j9,{isPresent:n},t)),v.createElement(wm.Provider,{value:u},t)};function k9(){return new Map}function I9(t){return v.useEffect(()=>()=>t(),[])}const da=t=>t.key||"";function P9(t,e){t.forEach(n=>{const r=da(n);e.set(r,n)})}function A9(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const bp=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const l=v.useContext(mw).forceRender||T9()[0],c=cP(),u=A9(t);let d=u;const f=v.useRef(new Map).current,p=v.useRef(d),m=v.useRef(new Map).current,y=v.useRef(!0);if(dw(()=>{y.current=!1,P9(u,m),p.current=d}),I9(()=>{y.current=!0,m.clear(),f.clear()}),y.current)return v.createElement(v.Fragment,null,d.map(g=>v.createElement(mv,{key:da(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:a},g)));d=[...d];const w=p.current.map(da),_=u.map(da),S=w.length;for(let g=0;g<S;g++){const b=w[g];_.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return a==="wait"&&f.size&&(d=[]),f.forEach((g,b)=>{if(_.indexOf(b)!==-1)return;const N=m.get(b);if(!N)return;const R=w.indexOf(b);let L=g;if(!L){const C=()=>{f.delete(b);const T=Array.from(m.keys()).filter(P=>!_.includes(P));if(T.forEach(P=>m.delete(P)),p.current=u.filter(P=>{const A=da(P);return A===b||T.includes(A)}),!f.size){if(c.current===!1)return;l(),r&&r()}};L=v.createElement(mv,{key:da(N),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:o,mode:a},N),f.set(b,L)}d.splice(R,0,L)}),d=d.map(g=>{const b=g.key;return f.has(b)?g:v.createElement(mv,{key:da(g),isPresent:!0,presenceAffectsLayout:o,mode:a},g)}),v.createElement(v.Fragment,null,f.size?d:d.map(g=>v.cloneElement(g)))};var R9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const D9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fe=(t,e)=>{const n=v.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:l,...c},u)=>v.createElement("svg",{ref:u,...R9,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:`lucide lucide-${D9(t)}`,...c},[...e.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},gx=fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Hs=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),M9=fe("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),EC=fe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),O9=fe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),L9=fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),TC=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),F9=fe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),gv=fe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),V9=fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),z9=fe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),An=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),vv=fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),zh=fe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),oi=fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ea=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),oc=fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),U9=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),uP=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),dP=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),B9=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$9=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ni=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Uh=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),hP=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),_p=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Rn=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ic=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$l=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),q9=fe("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Fr=fe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Rw=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),NC=fe("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),fP=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),W9=fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),jC=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),pP=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),kC=fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),H9=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),IC=fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),vx=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),PC=fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Ta=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Sp=fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),G9=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),K9=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Y9=fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Q9=fe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),X9=fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),lr=fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),xv=fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),bs=fe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Na=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),yv=fe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),AC=fe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Xn=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),pd=fe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Bh=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),mP=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),gP=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Dr=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Si=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ac=fe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),gs=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Ef=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Z9=fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),zu=fe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),wu=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),RC=fe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),ns=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),go=fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Yn=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),J9=fe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Dw=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ez=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),bu=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),tz=fe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Jr=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_s=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),nz=fe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),rz=fe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),sz=fe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Cr=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),md=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),oz=fe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function vP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=vP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=vP(t))&&(r&&(r+=" "),r+=e);return r}function iz(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=yP(e))&&(r&&(r+=" "),r+=n);return r}function yP(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=yP(t[r]))&&(n&&(n+=" "),n+=e);return n}var Mw="-";function az(t){var e=cz(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(Mw);return c[0]===""&&c.length!==1&&c.shift(),wP(c,e)||lz(l)}function a(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:a}}function wP(t,e){var a;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?wP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var o=t.join(Mw);return(a=e.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:a.classGroupId}}var DC=/^\[(.+)\]$/;function lz(t){if(DC.test(t)){var e=DC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function cz(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=dz(Object.entries(t.classGroups),n);return s.forEach(function(o){var a=o[0],l=o[1];xx(l,r,a,e)}),r}function xx(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var o=s===""?e:MC(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(uz(s)){xx(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(a){var l=a[0],c=a[1];xx(c,MC(e,l),n,r)})})}function MC(t,e){var n=t;return e.split(Mw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function uz(t){return t.isThemeGetter}function dz(t,e){return e?t.map(function(n){var r=n[0],s=n[1],o=s.map(function(a){return typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(l){var c=l[0],u=l[1];return[e+c,u]})):a});return[r,o]}):t}function hz(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(o,a){n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(a){var l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set:function(a,l){n.has(a)?n.set(a,l):s(a,l)}}}var bP="!";function fz(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(a){for(var l=[],c=0,u=0,d,f=0;f<a.length;f++){var p=a[f];if(c===0){if(p===r&&(n||a.slice(f,f+s)===e)){l.push(a.slice(u,f)),u=f+s;continue}if(p==="/"){d=f;continue}}p==="["?c++:p==="]"&&c--}var m=l.length===0?a:a.substring(u),y=m.startsWith(bP),w=y?m.substring(1):m,_=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:_}}}function pz(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function mz(t){return{cache:hz(t.cacheSize),splitModifiers:fz(t),...az(t)}}var gz=/\s+/;function vz(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(gz).map(function(a){var l=n(a),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,p=r(f?d.substring(0,f):d),m=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:a};if(p=r(d),!p)return{isTailwindClass:!1,originalClassName:a};m=!1}var y=pz(c).join(":"),w=u?y+bP:y;return{isTailwindClass:!0,modifierId:w,classGroupId:p,originalClassName:a,hasPostfixModifier:m}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var l=a.modifierId,c=a.classGroupId,u=a.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function xz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,o,a=l;function l(u){var d=e[0],f=e.slice(1),p=f.reduce(function(m,y){return y(m)},d());return r=mz(p),s=r.cache.get,o=r.cache.set,a=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=vz(u,r);return o(u,f),f}return function(){return a(iz.apply(null,arguments))}}function Pt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var _P=/^\[(?:([a-z-]+):)?(.+)\]$/i,yz=/^\d+\/\d+$/,wz=new Set(["px","full","screen"]),bz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_z=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sz=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function us(t){return ya(t)||wz.has(t)||yz.test(t)||yx(t)}function yx(t){return el(t,"length",kz)}function Cz(t){return el(t,"size",SP)}function Ez(t){return el(t,"position",SP)}function Tz(t){return el(t,"url",Iz)}function $h(t){return el(t,"number",ya)}function ya(t){return!Number.isNaN(Number(t))}function Nz(t){return t.endsWith("%")&&ya(t.slice(0,-1))}function uu(t){return OC(t)||el(t,"number",OC)}function nt(t){return _P.test(t)}function du(){return!0}function Ho(t){return bz.test(t)}function jz(t){return el(t,"",Pz)}function el(t,e,n){var r=_P.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function kz(t){return _z.test(t)}function SP(){return!1}function Iz(t){return t.startsWith("url(")}function OC(t){return Number.isInteger(Number(t))}function Pz(t){return Sz.test(t)}function Az(){var t=Pt("colors"),e=Pt("spacing"),n=Pt("blur"),r=Pt("brightness"),s=Pt("borderColor"),o=Pt("borderRadius"),a=Pt("borderSpacing"),l=Pt("borderWidth"),c=Pt("contrast"),u=Pt("grayscale"),d=Pt("hueRotate"),f=Pt("invert"),p=Pt("gap"),m=Pt("gradientColorStops"),y=Pt("gradientColorStopPositions"),w=Pt("inset"),_=Pt("margin"),S=Pt("opacity"),g=Pt("padding"),b=Pt("saturate"),N=Pt("scale"),R=Pt("sepia"),L=Pt("skew"),C=Pt("space"),T=Pt("translate"),P=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",nt,e]},j=function(){return[nt,e]},I=function(){return["",us]},V=function(){return["auto",ya,nt]},F=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},W=function(){return["solid","dashed","dotted","double","none"]},$=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},M=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",nt]},Y=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Q=function(){return[ya,$h]},he=function(){return[ya,nt]};return{cacheSize:500,theme:{colors:[du],spacing:[us],blur:["none","",Ho,nt],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Ho,nt],borderSpacing:j(),borderWidth:I(),contrast:Q(),grayscale:z(),hueRotate:he(),invert:z(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[Nz,yx],inset:k(),margin:k(),opacity:Q(),padding:j(),saturate:Q(),scale:Q(),sepia:z(),skew:he(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[Ho]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(F(),[nt])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uu]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",uu]}],"grid-cols":[{"grid-cols":[du]}],"col-start-end":[{col:["auto",{span:["full",uu]},nt]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[du]}],"row-start-end":[{row:["auto",{span:[uu]},nt]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(M())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(M(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(M(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",nt,e]}],"min-w":[{"min-w":["min","max","fit",nt,us]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ho]},Ho,nt]}],h:[{h:[nt,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",nt,us]}],"max-h":[{"max-h":[nt,e,"min","max","fit"]}],"font-size":[{text:["base",Ho,yx]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$h]}],"font-family":[{font:[du]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",ya,$h]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nt,us]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(W(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",us]}],"underline-offset":[{"underline-offset":["auto",nt,us]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(F(),[Ez])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Tz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[].concat(W(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(W())}],"outline-offset":[{"outline-offset":[nt,us]}],"outline-w":[{outline:[us]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[us]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ho,jz]}],"shadow-color":[{shadow:[du]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":$()}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ho,nt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[uu,nt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[us,$h]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Rz=xz(Az);function Ke(...t){return Rz(xP(t))}function LC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CP(...t){return e=>{let n=!1;const r=t.map(s=>{const o=LC(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():LC(t[s],null)}}}}function _t(...t){return v.useCallback(CP(...t),t)}function Oa(t){const e=Mz(t),n=v.forwardRef((r,s)=>{const{children:o,...a}=r,l=v.Children.toArray(o),c=l.find(Lz);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var Dz=Oa("Slot");function Mz(t){const e=v.forwardRef((n,r)=>{const{children:s,...o}=n;if(v.isValidElement(s)){const a=Vz(s),l=Fz(o,s.props);return s.type!==v.Fragment&&(l.ref=r?CP(r,a):a),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var EP=Symbol("radix.slottable");function Oz(t){const e=({children:n})=>i.jsx(i.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=EP,e}function Lz(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EP}function Fz(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function Vz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const FC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,VC=xP,Nm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return VC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const p=FC(d)||FC(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(y=>{let[w,_]=y;return Array.isArray(_)?_.includes({...o,...l}[w]):{...o,...l}[w]===_})?[...u,f,p]:u},[]);return VC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},zz=Nm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=Le.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const a=r?Dz:"button";return i.jsx(a,{className:Ke(zz({variant:e,size:n,className:t})),ref:o,...s})});X.displayName="Button";function Re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Uz(t,e){const n=v.createContext(e),r=o=>{const{children:a,...l}=o,c=v.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(o){const a=v.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function so(t,e=[]){let n=[];function r(o,a){const l=v.createContext(a),c=n.length;n=[...n,a];const u=f=>{var S;const{scope:p,children:m,...y}=f,w=((S=p==null?void 0:p[t])==null?void 0:S[c])||l,_=v.useMemo(()=>y,Object.values(y));return i.jsx(w.Provider,{value:_,children:m})};u.displayName=o+"Provider";function d(f,p){var w;const m=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,y=v.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(a=>v.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,Bz(s,...e)]}function Bz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Ow(t){const e=t+"CollectionProvider",[n,r]=so(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:_,children:S}=w,g=Le.useRef(null),b=Le.useRef(new Map).current;return i.jsx(s,{scope:_,itemMap:b,collectionRef:g,children:S})};a.displayName=e;const l=t+"CollectionSlot",c=Oa(l),u=Le.forwardRef((w,_)=>{const{scope:S,children:g}=w,b=o(l,S),N=_t(_,b.collectionRef);return i.jsx(c,{ref:N,children:g})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Oa(d),m=Le.forwardRef((w,_)=>{const{scope:S,children:g,...b}=w,N=Le.useRef(null),R=_t(_,N),L=o(d,S);return Le.useEffect(()=>(L.itemMap.set(N,{ref:N,...b}),()=>void L.itemMap.delete(N))),i.jsx(p,{[f]:"",ref:R,children:g})});m.displayName=d;function y(w){const _=o(t+"CollectionConsumer",w);return Le.useCallback(()=>{const g=_.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((L,C)=>b.indexOf(L.ref.current)-b.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},y,r]}var $z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=$z.reduce((t,e)=>{const n=Oa(`Primitive.${e}`),r=v.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function TP(t,e){t&&ks.flushSync(()=>t.dispatchEvent(e))}function is(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function qz(t,e=globalThis==null?void 0:globalThis.document){const n=is(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Wz="DismissableLayer",wx="dismissableLayer.update",Hz="dismissableLayer.pointerDownOutside",Gz="dismissableLayer.focusOutside",zC,NP=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ec=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=v.useContext(NP),[d,f]=v.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),y=_t(e,C=>f(C)),w=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(_),g=d?w.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=g>=S,R=Yz(C=>{const T=C.target,P=[...u.branches].some(A=>A.contains(T));!N||P||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},p),L=Qz(C=>{const T=C.target;[...u.branches].some(A=>A.contains(T))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},p);return qz(C=>{g===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),UC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=zC)}},[d,p,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),UC())},[d,u]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(wx,C),()=>document.removeEventListener(wx,C)},[]),i.jsx(He.div,{...c,ref:y,style:{pointerEvents:b?N?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,R.onPointerDownCapture)})});Ec.displayName=Wz;var Kz="DismissableLayerBranch",jP=v.forwardRef((t,e)=>{const n=v.useContext(NP),r=v.useRef(null),s=_t(e,r);return v.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(He.div,{...t,ref:s})});jP.displayName=Kz;function Yz(t,e=globalThis==null?void 0:globalThis.document){const n=is(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){kP(Hz,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Qz(t,e=globalThis==null?void 0:globalThis.document){const n=is(t),r=v.useRef(!1);return v.useEffect(()=>{const s=o=>{o.target&&!r.current&&kP(Gz,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UC(){const t=new CustomEvent(wx);document.dispatchEvent(t)}function kP(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?TP(s,o):s.dispatchEvent(o)}var Xz=Ec,Zz=jP,Ln=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Jz="Portal",Ud=v.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,o]=v.useState(!1);Ln(()=>o(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?S3.createPortal(i.jsx(He.div,{...r,ref:e}),a):null});Ud.displayName=Jz;function eU(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Fo=t=>{const{present:e,children:n}=t,r=tU(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),o=_t(r.ref,nU(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:o}):null};Fo.displayName="Presence";function tU(t){const[e,n]=v.useState(),r=v.useRef(null),s=v.useRef(t),o=v.useRef("none"),a=t?"mounted":"unmounted",[l,c]=eU(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=qh(r.current);o.current=l==="mounted"?u:"none"},[l]),Ln(()=>{const u=r.current,d=s.current;if(d!==t){const p=o.current,m=qh(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ln(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const w=qh(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&w&&(c("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=m=>{m.target===e&&(o.current=qh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function qh(t){return(t==null?void 0:t.animationName)||"none"}function nU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rU=PN[" useInsertionEffect ".trim().toString()]||Ln;function La({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,a]=sU({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=v.useRef(t!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=v.useCallback(d=>{var f;if(l){const p=oU(d)?d(t):d;p!==t&&((f=a.current)==null||f.call(a,p))}else o(d)},[l,t,o,a]);return[c,u]}function sU({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),s=v.useRef(n),o=v.useRef(e);return rU(()=>{o.current=e},[e]),v.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function oU(t){return typeof t=="function"}var IP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iU="VisuallyHidden",jm=v.forwardRef((t,e)=>i.jsx(He.span,{...t,ref:e,style:{...IP,...t.style}}));jm.displayName=iU;var aU=jm,Lw="ToastProvider",[Fw,lU,cU]=Ow("Toast"),[PP,sne]=so("Toast",[cU]),[uU,km]=PP(Lw),AP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=t,[l,c]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),p=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lw}\`. Expected non-empty \`string\`.`),i.jsx(Fw.Provider,{scope:e,children:i.jsx(uU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:a})})};AP.displayName=Lw;var RP="ToastViewport",dU=["F8"],bx="toast.viewportPause",_x="toast.viewportResume",DP=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dU,label:s="Notifications ({hotkey})",...o}=t,a=km(RP,n),l=lU(n),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),p=_t(e,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;v.useEffect(()=>{const _=S=>{var b;r.length!==0&&r.every(N=>S[N]||S.code===N)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),v.useEffect(()=>{const _=c.current,S=f.current;if(y&&_&&S){const g=()=>{if(!a.isClosePausedRef.current){const L=new CustomEvent(bx);S.dispatchEvent(L),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const L=new CustomEvent(_x);S.dispatchEvent(L),a.isClosePausedRef.current=!1}},N=L=>{!_.contains(L.relatedTarget)&&b()},R=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",g),_.addEventListener("focusout",N),_.addEventListener("pointermove",g),_.addEventListener("pointerleave",R),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",g),_.removeEventListener("focusout",N),_.removeEventListener("pointermove",g),_.removeEventListener("pointerleave",R),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[y,a.isClosePausedRef]);const w=v.useCallback(({tabbingDirection:_})=>{const g=l().map(b=>{const N=b.ref.current,R=[N,...CU(N)];return _==="forwards"?R:R.reverse()});return(_==="forwards"?g.reverse():g).flat()},[l]);return v.useEffect(()=>{const _=f.current;if(_){const S=g=>{var R,L,C;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const T=document.activeElement,P=g.shiftKey;if(g.target===_&&P){(R=u.current)==null||R.focus();return}const j=w({tabbingDirection:P?"backwards":"forwards"}),I=j.findIndex(V=>V===T);wv(j.slice(I+1))?g.preventDefault():P?(L=u.current)==null||L.focus():(C=d.current)==null||C.focus()}};return _.addEventListener("keydown",S),()=>_.removeEventListener("keydown",S)}},[l,w]),i.jsxs(Zz,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&i.jsx(Sx,{ref:u,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"forwards"});wv(_)}}),i.jsx(Fw.Slot,{scope:n,children:i.jsx(He.ol,{tabIndex:-1,...o,ref:p})}),y&&i.jsx(Sx,{ref:d,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"backwards"});wv(_)}})]})});DP.displayName=RP;var MP="ToastFocusProxy",Sx=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=km(MP,n);return i.jsx(jm,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});Sx.displayName=MP;var Bd="Toast",hU="toast.swipeStart",fU="toast.swipeMove",pU="toast.swipeCancel",mU="toast.swipeEnd",OP=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...a}=t,[l,c]=La({prop:r,defaultProp:s??!0,onChange:o,caller:Bd});return i.jsx(Fo,{present:n||l,children:i.jsx(xU,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:is(t.onPause),onResume:is(t.onResume),onSwipeStart:Re(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Re(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Re(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Re(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});OP.displayName=Bd;var[gU,vU]=PP(Bd,{onClose(){}}),xU=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...y}=t,w=km(Bd,n),[_,S]=v.useState(null),g=_t(e,V=>S(V)),b=v.useRef(null),N=v.useRef(null),R=s||w.duration,L=v.useRef(0),C=v.useRef(R),T=v.useRef(0),{onToastAdd:P,onToastRemove:A}=w,k=is(()=>{var F;(_==null?void 0:_.contains(document.activeElement))&&((F=w.viewport)==null||F.focus()),a()}),j=v.useCallback(V=>{!V||V===1/0||(window.clearTimeout(T.current),L.current=new Date().getTime(),T.current=window.setTimeout(k,V))},[k]);v.useEffect(()=>{const V=w.viewport;if(V){const F=()=>{j(C.current),u==null||u()},W=()=>{const $=new Date().getTime()-L.current;C.current=C.current-$,window.clearTimeout(T.current),c==null||c()};return V.addEventListener(bx,W),V.addEventListener(_x,F),()=>{V.removeEventListener(bx,W),V.removeEventListener(_x,F)}}},[w.viewport,R,c,u,j]),v.useEffect(()=>{o&&!w.isClosePausedRef.current&&j(R)},[o,R,w.isClosePausedRef,j]),v.useEffect(()=>(P(),()=>A()),[P,A]);const I=v.useMemo(()=>_?$P(_):null,[_]);return w.viewport?i.jsxs(i.Fragment,{children:[I&&i.jsx(yU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:I}),i.jsx(gU,{scope:n,onClose:k,children:ks.createPortal(i.jsx(Fw.ItemSlot,{scope:n,children:i.jsx(Xz,{asChild:!0,onEscapeKeyDown:Re(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||k(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(He.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":w.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Re(t.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Re(t.onPointerDown,V=>{V.button===0&&(b.current={x:V.clientX,y:V.clientY})}),onPointerMove:Re(t.onPointerMove,V=>{if(!b.current)return;const F=V.clientX-b.current.x,W=V.clientY-b.current.y,$=!!N.current,M=["left","right"].includes(w.swipeDirection),z=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Y=M?z(0,F):0,Q=M?0:z(0,W),he=V.pointerType==="touch"?10:2,de={x:Y,y:Q},xe={originalEvent:V,delta:de};$?(N.current=de,Wh(fU,f,xe,{discrete:!1})):BC(de,w.swipeDirection,he)?(N.current=de,Wh(hU,d,xe,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(F)>he||Math.abs(W)>he)&&(b.current=null)}),onPointerUp:Re(t.onPointerUp,V=>{const F=N.current,W=V.target;if(W.hasPointerCapture(V.pointerId)&&W.releasePointerCapture(V.pointerId),N.current=null,b.current=null,F){const $=V.currentTarget,M={originalEvent:V,delta:F};BC(F,w.swipeDirection,w.swipeThreshold)?Wh(mU,m,M,{discrete:!0}):Wh(pU,p,M,{discrete:!0}),$.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),yU=t=>{const{__scopeToast:e,children:n,...r}=t,s=km(Bd,e),[o,a]=v.useState(!1),[l,c]=v.useState(!1);return _U(()=>a(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Ud,{asChild:!0,children:i.jsx(jm,{...r,children:o&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},wU="ToastTitle",LP=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return i.jsx(He.div,{...r,ref:e})});LP.displayName=wU;var bU="ToastDescription",FP=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return i.jsx(He.div,{...r,ref:e})});FP.displayName=bU;var VP="ToastAction",zP=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?i.jsx(BP,{altText:n,asChild:!0,children:i.jsx(Vw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${VP}\`. Expected non-empty \`string\`.`),null)});zP.displayName=VP;var UP="ToastClose",Vw=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=vU(UP,n);return i.jsx(BP,{asChild:!0,children:i.jsx(He.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,s.onClose)})})});Vw.displayName=UP;var BP=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return i.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function $P(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),SU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...$P(r))}}),e}function Wh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?TP(s,o):s.dispatchEvent(o)}var BC=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function _U(t=()=>{}){const e=is(t);Ln(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function SU(t){return t.nodeType===t.ELEMENT_NODE}function CU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function wv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var EU=AP,qP=DP,WP=OP,HP=LP,GP=FP,KP=zP,YP=Vw;const TU=EU,QP=Le.forwardRef(({className:t,...e},n)=>i.jsx(qP,{ref:n,className:Ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));QP.displayName=qP.displayName;const NU=Nm("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XP=Le.forwardRef(({className:t,variant:e,...n},r)=>i.jsx(WP,{ref:r,className:Ke(NU({variant:e}),t),...n}));XP.displayName=WP.displayName;const jU=Le.forwardRef(({className:t,...e},n)=>i.jsx(KP,{ref:n,className:Ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));jU.displayName=KP.displayName;const ZP=Le.forwardRef(({className:t,...e},n)=>i.jsx(YP,{ref:n,className:Ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Cr,{className:"h-4 w-4"})}));ZP.displayName=YP.displayName;const JP=Le.forwardRef(({className:t,...e},n)=>i.jsx(HP,{ref:n,className:Ke("text-sm font-semibold",t),...e}));JP.displayName=HP.displayName;const eA=Le.forwardRef(({className:t,...e},n)=>i.jsx(GP,{ref:n,className:Ke("text-sm opacity-90",t),...e}));eA.displayName=GP.displayName;const kU=5;let bv=0;function IU(){return bv=(bv+1)%Number.MAX_VALUE,bv.toString()}const ir={state:{toasts:[]},listeners:[],getState:()=>ir.state,setState:t=>{typeof t=="function"?ir.state=t(ir.state):ir.state={...ir.state,...t},ir.listeners.forEach(e=>e(ir.state))},subscribe:t=>(ir.listeners.push(t),()=>{ir.listeners=ir.listeners.filter(e=>e!==t)})},PU=({...t})=>{const e=IU(),n=s=>ir.setState(o=>({...o,toasts:o.toasts.map(a=>a.id===e?{...a,...s}:a)})),r=()=>ir.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==e)}));return ir.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,kU)})),{id:e,dismiss:r,update:n}};function Tr(){const[t,e]=v.useState(ir.getState());return v.useEffect(()=>ir.subscribe(r=>{e(r)}),[]),v.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:PU,toasts:t.toasts}}function AU(){const{toasts:t}=Tr();return i.jsxs(TU,{children:[t.map(({id:e,title:n,description:r,action:s,...o})=>i.jsxs(XP,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(JP,{children:n}),r&&i.jsx(eA,{children:r})]}),s,i.jsx(ZP,{})]},e)),i.jsx(QP,{})]})}var RU=PN[" useId ".trim().toString()]||(()=>{}),DU=0;function So(t){const[e,n]=v.useState(RU());return Ln(()=>{t||n(r=>r??String(DU++))},[t]),t||(e?`radix-${e}`:"")}const MU=["top","right","bottom","left"],Ri=Math.min,Rr=Math.max,Cp=Math.round,Hh=Math.floor,Gs=t=>({x:t,y:t}),OU={left:"right",right:"left",bottom:"top",top:"bottom"},LU={start:"end",end:"start"};function Cx(t,e,n){return Rr(t,Ri(e,n))}function Io(t,e){return typeof t=="function"?t(e):t}function Po(t){return t.split("-")[0]}function Tc(t){return t.split("-")[1]}function zw(t){return t==="x"?"y":"x"}function Uw(t){return t==="y"?"height":"width"}const FU=new Set(["top","bottom"]);function Bs(t){return FU.has(Po(t))?"y":"x"}function Bw(t){return zw(Bs(t))}function VU(t,e,n){n===void 0&&(n=!1);const r=Tc(t),s=Bw(t),o=Uw(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Ep(a)),[a,Ep(a)]}function zU(t){const e=Ep(t);return[Ex(t),e,Ex(e)]}function Ex(t){return t.replace(/start|end/g,e=>LU[e])}const $C=["left","right"],qC=["right","left"],UU=["top","bottom"],BU=["bottom","top"];function $U(t,e,n){switch(t){case"top":case"bottom":return n?e?qC:$C:e?$C:qC;case"left":case"right":return e?UU:BU;default:return[]}}function qU(t,e,n,r){const s=Tc(t);let o=$U(Po(t),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(Ex)))),o}function Ep(t){return t.replace(/left|right|bottom|top/g,e=>OU[e])}function WU(t){return{top:0,right:0,bottom:0,left:0,...t}}function tA(t){return typeof t!="number"?WU(t):{top:t,right:t,bottom:t,left:t}}function Tp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function WC(t,e,n){let{reference:r,floating:s}=t;const o=Bs(e),a=Bw(e),l=Uw(a),c=Po(e),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Tc(e)){case"start":m[a]-=p*(n&&u?-1:1);break;case"end":m[a]+=p*(n&&u?-1:1);break}return m}const HU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=WC(u,r,c),p=r,m={},y=0;for(let w=0;w<l.length;w++){const{name:_,fn:S}=l[w],{x:g,y:b,data:N,reset:R}=await S({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:t,floating:e}});d=g??d,f=b??f,m={...m,[_]:{...m[_],...N}},R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(u=R.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:d,y:f}=WC(u,p,c)),w=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function gd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Io(e,t),y=tA(m),_=l[p?f==="floating"?"reference":"floating":f],S=Tp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},R=Tp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(S.top-R.top+y.top)/N.y,bottom:(R.bottom-S.bottom+y.bottom)/N.y,left:(S.left-R.left+y.left)/N.x,right:(R.right-S.right+y.right)/N.x}}const GU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Io(t,e)||{};if(u==null)return{};const f=tA(d),p={x:n,y:r},m=Bw(s),y=Uw(m),w=await a.getDimensions(u),_=m==="y",S=_?"top":"left",g=_?"bottom":"right",b=_?"clientHeight":"clientWidth",N=o.reference[y]+o.reference[m]-p[m]-o.floating[y],R=p[m]-o.reference[m],L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=L?L[b]:0;(!C||!await(a.isElement==null?void 0:a.isElement(L)))&&(C=l.floating[b]||o.floating[y]);const T=N/2-R/2,P=C/2-w[y]/2-1,A=Ri(f[S],P),k=Ri(f[g],P),j=A,I=C-w[y]-k,V=C/2-w[y]/2+T,F=Cx(j,V,I),W=!c.arrow&&Tc(s)!=null&&V!==F&&o.reference[y]/2-(V<j?A:k)-w[y]/2<0,$=W?V<j?V-j:V-I:0;return{[m]:p[m]+$,data:{[m]:F,centerOffset:V-F-$,...W&&{alignmentOffset:$}},reset:W}}}),KU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,..._}=Io(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const S=Po(s),g=Bs(l),b=Po(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),R=p||(b||!w?[Ep(l)]:zU(l)),L=y!=="none";!p&&L&&R.push(...qU(l,w,y,N));const C=[l,...R],T=await gd(e,_),P=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&P.push(T[S]),f){const V=VU(s,a,N);P.push(T[V[0]],T[V[1]])}if(A=[...A,{placement:s,overflows:P}],!P.every(V=>V<=0)){var k,j;const V=(((k=o.flip)==null?void 0:k.index)||0)+1,F=C[V];if(F&&(!(f==="alignment"?g!==Bs(F):!1)||A.every(M=>Bs(M.placement)===g?M.overflows[0]>0:!0)))return{data:{index:V,overflows:A},reset:{placement:F}};let W=(j=A.filter($=>$.overflows[0]<=0).sort(($,M)=>$.overflows[1]-M.overflows[1])[0])==null?void 0:j.placement;if(!W)switch(m){case"bestFit":{var I;const $=(I=A.filter(M=>{if(L){const z=Bs(M.placement);return z===g||z==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(z=>z>0).reduce((z,Y)=>z+Y,0)]).sort((M,z)=>M[1]-z[1])[0])==null?void 0:I[0];$&&(W=$);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function HC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function GC(t){return MU.some(e=>t[e]>=0)}const YU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Io(t,e);switch(r){case"referenceHidden":{const o=await gd(e,{...s,elementContext:"reference"}),a=HC(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:GC(a)}}}case"escaped":{const o=await gd(e,{...s,altBoundary:!0}),a=HC(o,n.floating);return{data:{escapedOffsets:a,escaped:GC(a)}}}default:return{}}}}},nA=new Set(["left","top"]);async function QU(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Po(n),l=Tc(n),c=Bs(n)==="y",u=nA.has(a)?-1:1,d=o&&c?-1:1,f=Io(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const XU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:a,middlewareData:l}=e,c=await QU(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},ZU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:S,y:g}=_;return{x:S,y:g}}},...c}=Io(t,e),u={x:n,y:r},d=await gd(e,c),f=Bs(Po(s)),p=zw(f);let m=u[p],y=u[f];if(o){const _=p==="y"?"top":"left",S=p==="y"?"bottom":"right",g=m+d[_],b=m-d[S];m=Cx(g,m,b)}if(a){const _=f==="y"?"top":"left",S=f==="y"?"bottom":"right",g=y+d[_],b=y-d[S];y=Cx(g,y,b)}const w=l.fn({...e,[p]:m,[f]:y});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:o,[f]:a}}}}}},JU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Io(t,e),d={x:n,y:r},f=Bs(s),p=zw(f);let m=d[p],y=d[f];const w=Io(l,e),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const b=p==="y"?"height":"width",N=o.reference[p]-o.floating[b]+_.mainAxis,R=o.reference[p]+o.reference[b]-_.mainAxis;m<N?m=N:m>R&&(m=R)}if(u){var S,g;const b=p==="y"?"width":"height",N=nA.has(Po(s)),R=o.reference[f]-o.floating[b]+(N&&((S=a.offset)==null?void 0:S[f])||0)+(N?0:_.crossAxis),L=o.reference[f]+o.reference[b]+(N?0:((g=a.offset)==null?void 0:g[f])||0)-(N?_.crossAxis:0);y<R?y=R:y>L&&(y=L)}return{[p]:m,[f]:y}}}},eB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:a,elements:l}=e,{apply:c=()=>{},...u}=Io(t,e),d=await gd(e,u),f=Po(s),p=Tc(s),m=Bs(s)==="y",{width:y,height:w}=o.floating;let _,S;f==="top"||f==="bottom"?(_=f,S=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(S=f,_=p==="end"?"top":"bottom");const g=w-d.top-d.bottom,b=y-d.left-d.right,N=Ri(w-d[_],g),R=Ri(y-d[S],b),L=!e.middlewareData.shift;let C=N,T=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=g),L&&!p){const A=Rr(d.left,0),k=Rr(d.right,0),j=Rr(d.top,0),I=Rr(d.bottom,0);m?T=y-2*(A!==0||k!==0?A+k:Rr(d.left,d.right)):C=w-2*(j!==0||I!==0?j+I:Rr(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:C});const P=await a.getDimensions(l.floating);return y!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function Im(){return typeof window<"u"}function Nc(t){return rA(t)?(t.nodeName||"").toLowerCase():"#document"}function Vr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function oo(t){var e;return(e=(rA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rA(t){return Im()?t instanceof Node||t instanceof Vr(t).Node:!1}function Es(t){return Im()?t instanceof Element||t instanceof Vr(t).Element:!1}function to(t){return Im()?t instanceof HTMLElement||t instanceof Vr(t).HTMLElement:!1}function KC(t){return!Im()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vr(t).ShadowRoot}const tB=new Set(["inline","contents"]);function $d(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ts(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!tB.has(s)}const nB=new Set(["table","td","th"]);function rB(t){return nB.has(Nc(t))}const sB=[":popover-open",":modal"];function Pm(t){return sB.some(e=>{try{return t.matches(e)}catch{return!1}})}const oB=["transform","translate","scale","rotate","perspective"],iB=["transform","translate","scale","rotate","perspective","filter"],aB=["paint","layout","strict","content"];function $w(t){const e=qw(),n=Es(t)?Ts(t):t;return oB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||iB.some(r=>(n.willChange||"").includes(r))||aB.some(r=>(n.contain||"").includes(r))}function lB(t){let e=Di(t);for(;to(e)&&!lc(e);){if($w(e))return e;if(Pm(e))return null;e=Di(e)}return null}function qw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cB=new Set(["html","body","#document"]);function lc(t){return cB.has(Nc(t))}function Ts(t){return Vr(t).getComputedStyle(t)}function Am(t){return Es(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Di(t){if(Nc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KC(t)&&t.host||oo(t);return KC(e)?e.host:e}function sA(t){const e=Di(t);return lc(e)?t.ownerDocument?t.ownerDocument.body:t.body:to(e)&&$d(e)?e:sA(e)}function vd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=sA(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),a=Vr(s);if(o){const l=Tx(a);return e.concat(a,a.visualViewport||[],$d(s)?s:[],l&&n?vd(l):[])}return e.concat(s,vd(s,[],n))}function Tx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function oA(t){const e=Ts(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=to(t),o=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Cp(n)!==o||Cp(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function Ww(t){return Es(t)?t:t.contextElement}function ql(t){const e=Ww(t);if(!to(e))return Gs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=oA(e);let a=(o?Cp(n.width):n.width)/r,l=(o?Cp(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const uB=Gs(0);function iA(t){const e=Vr(t);return!qw()||!e.visualViewport?uB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vr(t)?!1:e}function Fa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Ww(t);let a=Gs(1);e&&(r?Es(r)&&(a=ql(r)):a=ql(t));const l=dB(o,n,r)?iA(o):Gs(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(o){const p=Vr(o),m=r&&Es(r)?Vr(r):r;let y=p,w=Tx(y);for(;w&&r&&m!==y;){const _=ql(w),S=w.getBoundingClientRect(),g=Ts(w),b=S.left+(w.clientLeft+parseFloat(g.paddingLeft))*_.x,N=S.top+(w.clientTop+parseFloat(g.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,f*=_.y,c+=b,u+=N,y=Vr(w),w=Tx(y)}}return Tp({width:d,height:f,x:c,y:u})}function Rm(t,e){const n=Am(t).scrollLeft;return e?e.left+n:Fa(oo(t)).left+n}function aA(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Rm(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function hB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",a=oo(r),l=e?Pm(e.floating):!1;if(r===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Gs(1);const d=Gs(0),f=to(r);if((f||!f&&!o)&&((Nc(r)!=="body"||$d(a))&&(c=Am(r)),to(r))){const m=Fa(r);u=ql(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=a&&!f&&!o?aA(a,c):Gs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function fB(t){return Array.from(t.getClientRects())}function pB(t){const e=oo(t),n=Am(t),r=t.ownerDocument.body,s=Rr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Rr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Rm(t);const l=-n.scrollTop;return Ts(r).direction==="rtl"&&(a+=Rr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:l}}const YC=25;function mB(t,e){const n=Vr(t),r=oo(t),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const d=qw();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Rm(r);if(u<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-m);y<=YC&&(o-=y)}else u<=YC&&(o+=u);return{width:o,height:a,x:l,y:c}}const gB=new Set(["absolute","fixed"]);function vB(t,e){const n=Fa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=to(t)?ql(t):Gs(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:a,height:l,x:c,y:u}}function QC(t,e,n){let r;if(e==="viewport")r=mB(t,n);else if(e==="document")r=pB(oo(t));else if(Es(e))r=vB(e,n);else{const s=iA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Tp(r)}function lA(t,e){const n=Di(t);return n===e||!Es(n)||lc(n)?!1:Ts(n).position==="fixed"||lA(n,e)}function xB(t,e){const n=e.get(t);if(n)return n;let r=vd(t,[],!1).filter(l=>Es(l)&&Nc(l)!=="body"),s=null;const o=Ts(t).position==="fixed";let a=o?Di(t):t;for(;Es(a)&&!lc(a);){const l=Ts(a),c=$w(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&gB.has(s.position)||$d(a)&&!c&&lA(t,a))?r=r.filter(d=>d!==a):s=l,a=Di(a)}return e.set(t,r),r}function yB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Pm(e)?[]:xB(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=QC(e,d,s);return u.top=Rr(f.top,u.top),u.right=Ri(f.right,u.right),u.bottom=Ri(f.bottom,u.bottom),u.left=Rr(f.left,u.left),u},QC(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wB(t){const{width:e,height:n}=oA(t);return{width:e,height:n}}function bB(t,e,n){const r=to(e),s=oo(e),o=n==="fixed",a=Fa(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Gs(0);function u(){c.x=Rm(s)}if(r||!r&&!o)if((Nc(e)!=="body"||$d(s))&&(l=Am(e)),r){const m=Fa(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?aA(s,l):Gs(0),f=a.left+l.scrollLeft-c.x-d.x,p=a.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:a.width,height:a.height}}function _v(t){return Ts(t).position==="static"}function XC(t,e){if(!to(t)||Ts(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return oo(t)===n&&(n=n.ownerDocument.body),n}function cA(t,e){const n=Vr(t);if(Pm(t))return n;if(!to(t)){let s=Di(t);for(;s&&!lc(s);){if(Es(s)&&!_v(s))return s;s=Di(s)}return n}let r=XC(t,e);for(;r&&rB(r)&&_v(r);)r=XC(r,e);return r&&lc(r)&&_v(r)&&!$w(r)?n:r||lB(t)||n}const _B=async function(t){const e=this.getOffsetParent||cA,n=this.getDimensions,r=await n(t.floating);return{reference:bB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SB(t){return Ts(t).direction==="rtl"}const CB={convertOffsetParentRelativeRectToViewportRelativeRect:hB,getDocumentElement:oo,getClippingRect:yB,getOffsetParent:cA,getElementRects:_B,getClientRects:fB,getDimensions:wB,getScale:ql,isElement:Es,isRTL:SB};function uA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function EB(t,e){let n=null,r;const s=oo(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=u;if(l||e(),!p||!m)return;const y=Hh(f),w=Hh(s.clientWidth-(d+p)),_=Hh(s.clientHeight-(f+m)),S=Hh(d),b={rootMargin:-y+"px "+-w+"px "+-_+"px "+-S+"px",threshold:Rr(0,Ri(1,c))||1};let N=!0;function R(L){const C=L[0].intersectionRatio;if(C!==c){if(!N)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!uA(u,t.getBoundingClientRect())&&a(),N=!1}try{n=new IntersectionObserver(R,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,b)}n.observe(t)}return a(!0),o}function TB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ww(t),d=s||o?[...u?vd(u):[],...vd(e)]:[];d.forEach(S=>{s&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const f=u&&l?EB(u,n):null;let p=-1,m=null;a&&(m=new ResizeObserver(S=>{let[g]=S;g&&g.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let y,w=c?Fa(t):null;c&&_();function _(){const S=Fa(t);w&&!uA(w,S)&&n(),w=S,y=requestAnimationFrame(_)}return n(),()=>{var S;d.forEach(g=>{s&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),f==null||f(),(S=m)==null||S.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const NB=XU,jB=ZU,kB=KU,IB=eB,PB=YU,ZC=GU,AB=JU,RB=(t,e,n)=>{const r=new Map,s={platform:CB,...n},o={...s.platform,_c:r};return HU(t,e,{...s,platform:o})};var DB=typeof document<"u",MB=function(){},Tf=DB?v.useLayoutEffect:MB;function Np(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Np(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Np(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function dA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function JC(t,e){const n=dA(t);return Math.round(e*n)/n}function Sv(t){const e=v.useRef(t);return Tf(()=>{e.current=t}),e}function OB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=v.useState(r);Np(p,r)||m(r);const[y,w]=v.useState(null),[_,S]=v.useState(null),g=v.useCallback(M=>{M!==L.current&&(L.current=M,w(M))},[]),b=v.useCallback(M=>{M!==C.current&&(C.current=M,S(M))},[]),N=o||y,R=a||_,L=v.useRef(null),C=v.useRef(null),T=v.useRef(d),P=c!=null,A=Sv(c),k=Sv(s),j=Sv(u),I=v.useCallback(()=>{if(!L.current||!C.current)return;const M={placement:e,strategy:n,middleware:p};k.current&&(M.platform=k.current),RB(L.current,C.current,M).then(z=>{const Y={...z,isPositioned:j.current!==!1};V.current&&!Np(T.current,Y)&&(T.current=Y,ks.flushSync(()=>{f(Y)}))})},[p,e,n,k,j]);Tf(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const V=v.useRef(!1);Tf(()=>(V.current=!0,()=>{V.current=!1}),[]),Tf(()=>{if(N&&(L.current=N),R&&(C.current=R),N&&R){if(A.current)return A.current(N,R,I);I()}},[N,R,I,A,P]);const F=v.useMemo(()=>({reference:L,floating:C,setReference:g,setFloating:b}),[g,b]),W=v.useMemo(()=>({reference:N,floating:R}),[N,R]),$=v.useMemo(()=>{const M={position:n,left:0,top:0};if(!W.floating)return M;const z=JC(W.floating,d.x),Y=JC(W.floating,d.y);return l?{...M,transform:"translate("+z+"px, "+Y+"px)",...dA(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Y}},[n,l,W.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:I,refs:F,elements:W,floatingStyles:$}),[d,I,F,W,$])}const LB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ZC({element:r.current,padding:s}).fn(n):{}:r?ZC({element:r,padding:s}).fn(n):{}}}},FB=(t,e)=>({...NB(t),options:[t,e]}),VB=(t,e)=>({...jB(t),options:[t,e]}),zB=(t,e)=>({...AB(t),options:[t,e]}),UB=(t,e)=>({...kB(t),options:[t,e]}),BB=(t,e)=>({...IB(t),options:[t,e]}),$B=(t,e)=>({...PB(t),options:[t,e]}),qB=(t,e)=>({...LB(t),options:[t,e]});var WB="Arrow",hA=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return i.jsx(He.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});hA.displayName=WB;var HB=hA;function GB(t){const[e,n]=v.useState(void 0);return Ln(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Hw="Popper",[fA,jc]=so(Hw),[KB,pA]=fA(Hw),mA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return i.jsx(KB,{scope:e,anchor:r,onAnchorChange:s,children:n})};mA.displayName=Hw;var gA="PopperAnchor",vA=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=pA(gA,n),a=v.useRef(null),l=_t(e,a),c=v.useRef(null);return v.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:i.jsx(He.div,{...s,ref:l})});vA.displayName=gA;var Gw="PopperContent",[YB,QB]=fA(Gw),xA=v.forwardRef((t,e)=>{var oe,be,Ae,U,re,te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:y,...w}=t,_=pA(Gw,n),[S,g]=v.useState(null),b=_t(e,Ie=>g(Ie)),[N,R]=v.useState(null),L=GB(N),C=(L==null?void 0:L.width)??0,T=(L==null?void 0:L.height)??0,P=r+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],j=k.length>0,I={padding:A,boundary:k.filter(ZB),altBoundary:j},{refs:V,floatingStyles:F,placement:W,isPositioned:$,middlewareData:M}=OB({strategy:"fixed",placement:P,whileElementsMounted:(...Ie)=>TB(...Ie,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[FB({mainAxis:s+T,alignmentAxis:a}),c&&VB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zB():void 0,...I}),c&&UB({...I}),BB({...I,apply:({elements:Ie,rects:Ce,availableWidth:Fe,availableHeight:tt})=>{const{width:lt,height:bt}=Ce.reference,Lt=Ie.floating.style;Lt.setProperty("--radix-popper-available-width",`${Fe}px`),Lt.setProperty("--radix-popper-available-height",`${tt}px`),Lt.setProperty("--radix-popper-anchor-width",`${lt}px`),Lt.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),N&&qB({element:N,padding:l}),JB({arrowWidth:C,arrowHeight:T}),p&&$B({strategy:"referenceHidden",...I})]}),[z,Y]=bA(W),Q=is(y);Ln(()=>{$&&(Q==null||Q())},[$,Q]);const he=(oe=M.arrow)==null?void 0:oe.x,de=(be=M.arrow)==null?void 0:be.y,xe=((Ae=M.arrow)==null?void 0:Ae.centerOffset)!==0,[G,ce]=v.useState();return Ln(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),i.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:$?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(U=M.transformOrigin)==null?void 0:U.x,(re=M.transformOrigin)==null?void 0:re.y].join(" "),...((te=M.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(YB,{scope:n,placedSide:z,onArrowChange:R,arrowX:he,arrowY:de,shouldHideArrow:xe,children:i.jsx(He.div,{"data-side":z,"data-align":Y,...w,ref:b,style:{...w.style,animation:$?void 0:"none"}})})})});xA.displayName=Gw;var yA="PopperArrow",XB={top:"bottom",right:"left",bottom:"top",left:"right"},wA=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=QB(yA,r),a=XB[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(HB,{...s,ref:n,style:{...s.style,display:"block"}})})});wA.displayName=yA;function ZB(t){return t!==null}var JB=t=>({name:"transformOrigin",options:t,fn(e){var _,S,g;const{placement:n,rects:r,middlewareData:s}=e,a=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=bA(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((S=s.arrow)==null?void 0:S.x)??0)+l/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let y="",w="";return u==="bottom"?(y=a?f:`${p}px`,w=`${-c}px`):u==="top"?(y=a?f:`${p}px`,w=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,w=a?f:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,w=a?f:`${m}px`),{data:{x:y,y:w}}}});function bA(t){const[e,n="center"]=t.split("-");return[e,n]}var _A=mA,Dm=vA,Kw=xA,Yw=wA,[Mm,one]=so("Tooltip",[jc]),Qw=jc(),e$="TooltipProvider",eE="tooltip.open",[ine,SA]=Mm(e$),CA="Tooltip",[ane,Om]=Mm(CA),Nx="TooltipTrigger",t$=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Om(Nx,n),o=SA(Nx,n),a=Qw(n),l=v.useRef(null),c=_t(e,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Dm,{asChild:!0,...a,children:i.jsx(He.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Re(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Re(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Re(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Re(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Re(t.onBlur,s.onClose),onClick:Re(t.onClick,s.onClose)})})});t$.displayName=Nx;var n$="TooltipPortal",[lne,r$]=Mm(n$,{forceMount:void 0}),cc="TooltipContent",EA=v.forwardRef((t,e)=>{const n=r$(cc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,a=Om(cc,t.__scopeTooltip);return i.jsx(Fo,{present:r||a.open,children:a.disableHoverableContent?i.jsx(TA,{side:s,...o,ref:e}):i.jsx(s$,{side:s,...o,ref:e})})}),s$=v.forwardRef((t,e)=>{const n=Om(cc,t.__scopeTooltip),r=SA(cc,t.__scopeTooltip),s=v.useRef(null),o=_t(e,s),[a,l]=v.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=v.useCallback(()=>{l(null),f(!1)},[f]),m=v.useCallback((y,w)=>{const _=y.currentTarget,S={x:y.clientX,y:y.clientY},g=c$(S,_.getBoundingClientRect()),b=u$(S,g),N=d$(w.getBoundingClientRect()),R=f$([...b,...N]);l(R),f(!0)},[f]);return v.useEffect(()=>()=>p(),[p]),v.useEffect(()=>{if(c&&d){const y=_=>m(_,d),w=_=>m(_,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",w)}}},[c,d,m,p]),v.useEffect(()=>{if(a){const y=w=>{const _=w.target,S={x:w.clientX,y:w.clientY},g=(c==null?void 0:c.contains(_))||(d==null?void 0:d.contains(_)),b=!h$(S,a);g?p():b&&(p(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,a,u,p]),i.jsx(TA,{...t,ref:o})}),[o$,i$]=Mm(CA,{isInside:!1}),a$=Oz("TooltipContent"),TA=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=t,c=Om(cc,n),u=Qw(n),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(eE,d),()=>document.removeEventListener(eE,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Ec,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(Kw,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(a$,{children:r}),i.jsx(o$,{scope:n,isInside:!0,children:i.jsx(aU,{id:c.contentId,role:"tooltip",children:s||r})})]})})});EA.displayName=cc;var NA="TooltipArrow",l$=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Qw(n);return i$(NA,n).isInside?null:i.jsx(Yw,{...s,...r,ref:e})});l$.displayName=NA;function c$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function u$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function d$(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function h$(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o],c=e[a],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function f$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),p$(e)}function p$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jA=EA;const m$=Le.forwardRef(({className:t,sideOffset:e=4,...n},r)=>i.jsx(jA,{ref:r,sideOffset:e,className:Ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));m$.displayName=jA.displayName;var Cv="focusScope.autoFocusOnMount",Ev="focusScope.autoFocusOnUnmount",tE={bubbles:!1,cancelable:!0},g$="FocusScope",Lm=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[l,c]=v.useState(null),u=is(s),d=is(o),f=v.useRef(null),p=_t(e,w=>c(w)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let w=function(b){if(m.paused||!l)return;const N=b.target;l.contains(N)?f.current=N:Zo(f.current,{select:!0})},_=function(b){if(m.paused||!l)return;const N=b.relatedTarget;N!==null&&(l.contains(N)||Zo(f.current,{select:!0}))},S=function(b){if(document.activeElement===document.body)for(const R of b)R.removedNodes.length>0&&Zo(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const g=new MutationObserver(S);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),g.disconnect()}}},[r,l,m.paused]),v.useEffect(()=>{if(l){rE.add(m);const w=document.activeElement;if(!l.contains(w)){const S=new CustomEvent(Cv,tE);l.addEventListener(Cv,u),l.dispatchEvent(S),S.defaultPrevented||(v$(_$(kA(l)),{select:!0}),document.activeElement===w&&Zo(l))}return()=>{l.removeEventListener(Cv,u),setTimeout(()=>{const S=new CustomEvent(Ev,tE);l.addEventListener(Ev,d),l.dispatchEvent(S),S.defaultPrevented||Zo(w??document.body,{select:!0}),l.removeEventListener(Ev,d),rE.remove(m)},0)}}},[l,u,d,m]);const y=v.useCallback(w=>{if(!n&&!r||m.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,S=document.activeElement;if(_&&S){const g=w.currentTarget,[b,N]=x$(g);b&&N?!w.shiftKey&&S===N?(w.preventDefault(),n&&Zo(b,{select:!0})):w.shiftKey&&S===b&&(w.preventDefault(),n&&Zo(N,{select:!0})):S===g&&w.preventDefault()}},[n,r,m.paused]);return i.jsx(He.div,{tabIndex:-1,...a,ref:p,onKeyDown:y})});Lm.displayName=g$;function v$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zo(r,{select:e}),document.activeElement!==n)return}function x$(t){const e=kA(t),n=nE(e,t),r=nE(e.reverse(),t);return[n,r]}function kA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nE(t,e){for(const n of t)if(!y$(n,{upTo:e}))return n}function y$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function w$(t){return t instanceof HTMLInputElement&&"select"in t}function Zo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&w$(t)&&e&&t.select()}}var rE=b$();function b$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sE(t,e),t.unshift(e)},remove(e){var n;t=sE(t,e),(n=t[0])==null||n.resume()}}}function sE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _$(t){return t.filter(e=>e.tagName!=="A")}var Tv=0;function Xw(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??oE()),document.body.insertAdjacentElement("beforeend",t[1]??oE()),Tv++,()=>{Tv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tv--}},[])}function oE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var zs=function(){return zs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},zs.apply(this,arguments)};function IA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function tl(t,e,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function S$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Nf="right-scroll-bar-position",jf="width-before-scroll-bar",C$="with-scroll-bars-hidden",E$="--removed-body-scroll-bar-size";function Nv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function T$(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var N$=typeof window<"u"?v.useLayoutEffect:v.useEffect,iE=new WeakMap;function j$(t,e){var n=T$(e||null,function(r){return t.forEach(function(s){return Nv(s,r)})});return N$(function(){var r=iE.get(n);if(r){var s=new Set(r),o=new Set(t),a=n.current;s.forEach(function(l){o.has(l)||Nv(l,null)}),o.forEach(function(l){s.has(l)||Nv(l,a)})}iE.set(n,t)},[t]),n}function k$(t){return t}function I$(t,e){e===void 0&&(e=k$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function P$(t){t===void 0&&(t={});var e=I$(null);return e.options=zs({async:!0,ssr:!1},t),e}var PA=function(t){var e=t.sideCar,n=IA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,zs({},n))};PA.isSideCarExport=!0;function A$(t,e){return t.useMedium(e),PA}var AA=P$(),jv=function(){},Fm=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:jv,onWheelCapture:jv,onTouchMoveCapture:jv}),s=r[0],o=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,y=t.noIsolation,w=t.inert,_=t.allowPinchZoom,S=t.as,g=S===void 0?"div":S,b=t.gapMode,N=IA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,L=j$([n,e]),C=zs(zs({},N),s);return v.createElement(v.Fragment,null,d&&v.createElement(R,{sideCar:AA,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:w,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:b}),a?v.cloneElement(v.Children.only(l),zs(zs({},C),{ref:L})):v.createElement(g,zs({},C,{className:c,ref:L}),l))});Fm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fm.classNames={fullWidth:jf,zeroRight:Nf};var aE,R$=function(){if(aE)return aE;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=R$();return e&&t.setAttribute("nonce",e),t}function M$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function O$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var L$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=D$())&&(M$(e,n),O$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},F$=function(){var t=L$();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},RA=function(){var t=F$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},V$={left:0,top:0,right:0,gap:0},kv=function(t){return parseInt(t||"",10)||0},z$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[kv(n),kv(r),kv(s)]},U$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return V$;var e=z$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},B$=RA(),Wl="data-scroll-locked",$$=function(t,e,n,r){var s=t.left,o=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(C$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(jf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Nf," .").concat(Nf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jf," .").concat(jf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(E$,": ").concat(l,`px;
  }
`)},lE=function(){var t=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(t)?t:0},q$=function(){v.useEffect(function(){return document.body.setAttribute(Wl,(lE()+1).toString()),function(){var t=lE()-1;t<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,t.toString())}},[])},W$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;q$();var o=v.useMemo(function(){return U$(s)},[s]);return v.createElement(B$,{styles:$$(o,!e,s,n?"":"!important")})},jx=!1;if(typeof window<"u")try{var Gh=Object.defineProperty({},"passive",{get:function(){return jx=!0,!0}});window.addEventListener("test",Gh,Gh),window.removeEventListener("test",Gh,Gh)}catch{jx=!1}var cl=jx?{passive:!1}:!1,H$=function(t){return t.tagName==="TEXTAREA"},DA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!H$(t)&&n[e]==="visible")},G$=function(t){return DA(t,"overflowY")},K$=function(t){return DA(t,"overflowX")},cE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=MA(t,r);if(s){var o=OA(t,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Y$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Q$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MA=function(t,e){return t==="v"?G$(e):K$(e)},OA=function(t,e){return t==="v"?Y$(e):Q$(e)},X$=function(t,e){return t==="h"&&e==="rtl"?-1:1},Z$=function(t,e,n,r,s){var o=X$(t,window.getComputedStyle(e).direction),a=o*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,p=0;do{if(!l)break;var m=OA(t,l),y=m[0],w=m[1],_=m[2],S=w-_-o*y;(y||S)&&MA(t,l)&&(f+=S,p+=y);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(s&&Math.abs(f)<1||!s&&a>f)||!d&&(s&&Math.abs(p)<1||!s&&-a>p))&&(u=!0),u},Kh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uE=function(t){return[t.deltaX,t.deltaY]},dE=function(t){return t&&"current"in t?t.current:t},J$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},t8=0,ul=[];function n8(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(t8++)[0],o=v.useState(RA)[0],a=v.useRef(t);v.useEffect(function(){a.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=S$([t.lockRef.current],(t.shards||[]).map(dE),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=v.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!a.current.allowPinchZoom;var S=Kh(w),g=n.current,b="deltaX"in w?w.deltaX:g[0]-S[0],N="deltaY"in w?w.deltaY:g[1]-S[1],R,L=w.target,C=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in w&&C==="h"&&L.type==="range")return!1;var T=cE(C,L);if(!T)return!0;if(T?R=C:(R=C==="v"?"h":"v",T=cE(C,L)),!T)return!1;if(!r.current&&"changedTouches"in w&&(b||N)&&(r.current=R),!R)return!0;var P=r.current||R;return Z$(P,_,w,P==="h"?b:N,!0)},[]),c=v.useCallback(function(w){var _=w;if(!(!ul.length||ul[ul.length-1]!==o)){var S="deltaY"in _?uE(_):Kh(_),g=e.current.filter(function(R){return R.name===_.type&&(R.target===_.target||_.target===R.shadowParent)&&J$(R.delta,S)})[0];if(g&&g.should){_.cancelable&&_.preventDefault();return}if(!g){var b=(a.current.shards||[]).map(dE).filter(Boolean).filter(function(R){return R.contains(_.target)}),N=b.length>0?l(_,b[0]):!a.current.noIsolation;N&&_.cancelable&&_.preventDefault()}}},[]),u=v.useCallback(function(w,_,S,g){var b={name:w,delta:_,target:S,should:g,shadowParent:r8(S)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(N){return N!==b})},1)},[]),d=v.useCallback(function(w){n.current=Kh(w),r.current=void 0},[]),f=v.useCallback(function(w){u(w.type,uE(w),w.target,l(w,t.lockRef.current))},[]),p=v.useCallback(function(w){u(w.type,Kh(w),w.target,l(w,t.lockRef.current))},[]);v.useEffect(function(){return ul.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,cl),document.addEventListener("touchmove",c,cl),document.addEventListener("touchstart",d,cl),function(){ul=ul.filter(function(w){return w!==o}),document.removeEventListener("wheel",c,cl),document.removeEventListener("touchmove",c,cl),document.removeEventListener("touchstart",d,cl)}},[]);var m=t.removeScrollBar,y=t.inert;return v.createElement(v.Fragment,null,y?v.createElement(o,{styles:e8(s)}):null,m?v.createElement(W$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function r8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const s8=A$(AA,n8);var LA=v.forwardRef(function(t,e){return v.createElement(Fm,zs({},t,{ref:e,sideCar:s8}))});LA.classNames=Fm.classNames;const Zw=LA;var o8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},dl=new WeakMap,Yh=new WeakMap,Qh={},Iv=0,FA=function(t){return t&&(t.host||FA(t.parentNode))},i8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=FA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},a8=function(t,e,n,r){var s=i8(e,Array.isArray(t)?t:[t]);Qh[n]||(Qh[n]=new WeakMap);var o=Qh[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var m=p.getAttribute(r),y=m!==null&&m!=="false",w=(dl.get(p)||0)+1,_=(o.get(p)||0)+1;dl.set(p,w),o.set(p,_),a.push(p),w===1&&y&&Yh.set(p,!0),_===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",p,S)}})};return d(e),l.clear(),Iv++,function(){a.forEach(function(f){var p=dl.get(f)-1,m=o.get(f)-1;dl.set(f,p),o.set(f,m),p||(Yh.has(f)||f.removeAttribute(r),Yh.delete(f)),m||f.removeAttribute(n)}),Iv--,Iv||(dl=new WeakMap,dl=new WeakMap,Yh=new WeakMap,Qh={})}},Jw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||o8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),a8(r,s,n,"aria-hidden")):function(){return null}},Vm="Dialog",[VA,cne]=so(Vm),[l8,Is]=VA(Vm),zA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=v.useRef(null),c=v.useRef(null),[u,d]=La({prop:r,defaultProp:s??!1,onChange:o,caller:Vm});return i.jsx(l8,{scope:e,triggerRef:l,contentRef:c,contentId:So(),titleId:So(),descriptionId:So(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};zA.displayName=Vm;var UA="DialogTrigger",BA=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(UA,n),o=_t(e,s.triggerRef);return i.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nb(s.open),...r,ref:o,onClick:Re(t.onClick,s.onOpenToggle)})});BA.displayName=UA;var eb="DialogPortal",[c8,$A]=VA(eb,{forceMount:void 0}),qA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Is(eb,e);return i.jsx(c8,{scope:e,forceMount:n,children:v.Children.map(r,a=>i.jsx(Fo,{present:n||o.open,children:i.jsx(Ud,{asChild:!0,container:s,children:a})}))})};qA.displayName=eb;var jp="DialogOverlay",WA=v.forwardRef((t,e)=>{const n=$A(jp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Is(jp,t.__scopeDialog);return o.modal?i.jsx(Fo,{present:r||o.open,children:i.jsx(d8,{...s,ref:e})}):null});WA.displayName=jp;var u8=Oa("DialogOverlay.RemoveScroll"),d8=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(jp,n);return i.jsx(Zw,{as:u8,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(He.div,{"data-state":nb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Va="DialogContent",HA=v.forwardRef((t,e)=>{const n=$A(Va,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Is(Va,t.__scopeDialog);return i.jsx(Fo,{present:r||o.open,children:o.modal?i.jsx(h8,{...s,ref:e}):i.jsx(f8,{...s,ref:e})})});HA.displayName=Va;var h8=v.forwardRef((t,e)=>{const n=Is(Va,t.__scopeDialog),r=v.useRef(null),s=_t(e,n.contentRef,r);return v.useEffect(()=>{const o=r.current;if(o)return Jw(o)},[]),i.jsx(GA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:Re(t.onFocusOutside,o=>o.preventDefault())})}),f8=v.forwardRef((t,e)=>{const n=Is(Va,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return i.jsx(GA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),GA=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,l=Is(Va,n),c=v.useRef(null),u=_t(e,c);return Xw(),i.jsxs(i.Fragment,{children:[i.jsx(Lm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Ec,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nb(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(p8,{titleId:l.titleId}),i.jsx(g8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tb="DialogTitle",KA=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(tb,n);return i.jsx(He.h2,{id:s.titleId,...r,ref:e})});KA.displayName=tb;var YA="DialogDescription",QA=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(YA,n);return i.jsx(He.p,{id:s.descriptionId,...r,ref:e})});QA.displayName=YA;var XA="DialogClose",ZA=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(XA,n);return i.jsx(He.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,()=>s.onOpenChange(!1))})});ZA.displayName=XA;function nb(t){return t?"open":"closed"}var JA="DialogTitleWarning",[une,e2]=Uz(JA,{contentName:Va,titleName:tb,docsSlug:"dialog"}),p8=({titleId:t})=>{const e=e2(JA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},m8="DialogDescriptionWarning",g8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e2(m8).contentName}}.`;return v.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},v8=zA,x8=BA,y8=qA,t2=WA,n2=HA,r2=KA,s2=QA,w8=ZA;const Tn=v8,kf=x8,b8=y8,o2=Le.forwardRef(({className:t,...e},n)=>i.jsx(t2,{ref:n,className:Ke("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));o2.displayName=t2.displayName;const gn=Le.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(b8,{children:[i.jsx(o2,{}),i.jsxs(n2,{ref:r,className:Ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,i.jsxs(w8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Cr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gn.displayName=n2.displayName;const vn=({className:t,...e})=>i.jsx("div",{className:Ke("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});vn.displayName="DialogHeader";const xn=Le.forwardRef(({className:t,...e},n)=>i.jsx(r2,{ref:n,className:Ke("text-lg font-semibold leading-none tracking-tight",t),...e}));xn.displayName=r2.displayName;const zm=Le.forwardRef(({className:t,...e},n)=>i.jsx(s2,{ref:n,className:Ke("text-sm text-muted-foreground",t),...e}));zm.displayName=s2.displayName;const me=Le.forwardRef(({className:t,type:e,...n},r)=>i.jsx("input",{type:e,className:Ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));me.displayName="Input";var _8="Label",i2=v.forwardRef((t,e)=>i.jsx(He.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));i2.displayName=_8;var a2=i2;const S8=Nm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=Le.forwardRef(({className:t,...e},n)=>i.jsx(a2,{ref:n,className:Ke(S8(),t),...e}));ne.displayName=a2.displayName;const xd=Le.forwardRef(({className:t,...e},n)=>i.jsx("textarea",{className:Ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));xd.displayName="Textarea";function hE(t,[e,n]){return Math.min(n,Math.max(e,t))}var C8=v.createContext(void 0);function rb(t){const e=v.useContext(C8);return t||e||"ltr"}function E8(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var T8=[" ","Enter","ArrowUp","ArrowDown"],N8=[" ","Enter"],za="Select",[Um,Bm,j8]=Ow(za),[kc,dne]=so(za,[j8,jc]),$m=jc(),[k8,Gi]=kc(za),[I8,P8]=kc(za),l2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:m,form:y}=t,w=$m(e),[_,S]=v.useState(null),[g,b]=v.useState(null),[N,R]=v.useState(!1),L=rb(u),[C,T]=La({prop:r,defaultProp:s??!1,onChange:o,caller:za}),[P,A]=La({prop:a,defaultProp:l,onChange:c,caller:za}),k=v.useRef(null),j=_?y||!!_.closest("form"):!0,[I,V]=v.useState(new Set),F=Array.from(I).map(W=>W.props.value).join(";");return i.jsx(_A,{...w,children:i.jsxs(k8,{required:m,scope:e,trigger:_,onTriggerChange:S,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:R,contentId:So(),value:P,onValueChange:A,open:C,onOpenChange:T,dir:L,triggerPointerDownPosRef:k,disabled:p,children:[i.jsx(Um.Provider,{scope:e,children:i.jsx(I8,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(W=>{V($=>new Set($).add(W))},[]),onNativeOptionRemove:v.useCallback(W=>{V($=>{const M=new Set($);return M.delete(W),M})},[]),children:n})}),j?i.jsxs(A2,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:W=>A(W.target.value),disabled:p,form:y,children:[P===void 0?i.jsx("option",{value:""}):null,Array.from(I)]},F):null]})})};l2.displayName=za;var c2="SelectTrigger",u2=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=$m(n),a=Gi(c2,n),l=a.disabled||r,c=_t(e,a.onTriggerChange),u=Bm(n),d=v.useRef("touch"),[f,p,m]=D2(w=>{const _=u().filter(b=>!b.disabled),S=_.find(b=>b.value===a.value),g=M2(_,w,S);g!==void 0&&a.onValueChange(g.value)}),y=w=>{l||(a.onOpenChange(!0),m()),w&&(a.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return i.jsx(Dm,{asChild:!0,...o,children:i.jsx(He.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":R2(a.value)?"":void 0,...s,ref:c,onClick:Re(s.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&y(w)}),onPointerDown:Re(s.onPointerDown,w=>{d.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(y(w),w.preventDefault())}),onKeyDown:Re(s.onKeyDown,w=>{const _=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(_&&w.key===" ")&&T8.includes(w.key)&&(y(),w.preventDefault())})})})});u2.displayName=c2;var d2="SelectValue",h2=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...l}=t,c=Gi(d2,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=_t(e,c.onValueNodeChange);return Ln(()=>{u(d)},[u,d]),i.jsx(He.span,{...l,ref:f,style:{pointerEvents:"none"},children:R2(c.value)?i.jsx(i.Fragment,{children:a}):o})});h2.displayName=d2;var A8="SelectIcon",f2=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return i.jsx(He.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});f2.displayName=A8;var R8="SelectPortal",p2=t=>i.jsx(Ud,{asChild:!0,...t});p2.displayName=R8;var Ua="SelectContent",m2=v.forwardRef((t,e)=>{const n=Gi(Ua,t.__scopeSelect),[r,s]=v.useState();if(Ln(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?ks.createPortal(i.jsx(g2,{scope:t.__scopeSelect,children:i.jsx(Um.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),o):null}return i.jsx(v2,{...t,ref:e})});m2.displayName=Ua;var hs=10,[g2,Ki]=kc(Ua),D8="SelectContentImpl",M8=Oa("SelectContent.RemoveScroll"),v2=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:w,avoidCollisions:_,...S}=t,g=Gi(Ua,n),[b,N]=v.useState(null),[R,L]=v.useState(null),C=_t(e,oe=>N(oe)),[T,P]=v.useState(null),[A,k]=v.useState(null),j=Bm(n),[I,V]=v.useState(!1),F=v.useRef(!1);v.useEffect(()=>{if(b)return Jw(b)},[b]),Xw();const W=v.useCallback(oe=>{const[be,...Ae]=j().map(te=>te.ref.current),[U]=Ae.slice(-1),re=document.activeElement;for(const te of oe)if(te===re||(te==null||te.scrollIntoView({block:"nearest"}),te===be&&R&&(R.scrollTop=0),te===U&&R&&(R.scrollTop=R.scrollHeight),te==null||te.focus(),document.activeElement!==re))return},[j,R]),$=v.useCallback(()=>W([T,b]),[W,T,b]);v.useEffect(()=>{I&&$()},[I,$]);const{onOpenChange:M,triggerPointerDownPosRef:z}=g;v.useEffect(()=>{if(b){let oe={x:0,y:0};const be=U=>{var re,te;oe={x:Math.abs(Math.round(U.pageX)-(((re=z.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(U.pageY)-(((te=z.current)==null?void 0:te.y)??0))}},Ae=U=>{oe.x<=10&&oe.y<=10?U.preventDefault():b.contains(U.target)||M(!1),document.removeEventListener("pointermove",be),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[b,M,z]),v.useEffect(()=>{const oe=()=>M(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[M]);const[Y,Q]=D2(oe=>{const be=j().filter(re=>!re.disabled),Ae=be.find(re=>re.ref.current===document.activeElement),U=M2(be,oe,Ae);U&&setTimeout(()=>U.ref.current.focus())}),he=v.useCallback((oe,be,Ae)=>{const U=!F.current&&!Ae;(g.value!==void 0&&g.value===be||U)&&(P(oe),U&&(F.current=!0))},[g.value]),de=v.useCallback(()=>b==null?void 0:b.focus(),[b]),xe=v.useCallback((oe,be,Ae)=>{const U=!F.current&&!Ae;(g.value!==void 0&&g.value===be||U)&&k(oe)},[g.value]),G=r==="popper"?kx:x2,ce=G===kx?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:w,avoidCollisions:_}:{};return i.jsx(g2,{scope:n,content:b,viewport:R,onViewportChange:L,itemRefCallback:he,selectedItem:T,onItemLeave:de,itemTextRefCallback:xe,focusSelectedItem:$,selectedItemText:A,position:r,isPositioned:I,searchRef:Y,children:i.jsx(Zw,{as:M8,allowPinchZoom:!0,children:i.jsx(Lm,{asChild:!0,trapped:g.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Re(s,oe=>{var be;(be=g.trigger)==null||be.focus({preventScroll:!0}),oe.preventDefault()}),children:i.jsx(Ec,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(G,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:oe=>oe.preventDefault(),...S,...ce,onPlaced:()=>V(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Re(S.onKeyDown,oe=>{const be=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!be&&oe.key.length===1&&Q(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let U=j().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(U=U.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const re=oe.target,te=U.indexOf(re);U=U.slice(te+1)}setTimeout(()=>W(U)),oe.preventDefault()}})})})})})})});v2.displayName=D8;var O8="SelectItemAlignedPosition",x2=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Gi(Ua,n),a=Ki(Ua,n),[l,c]=v.useState(null),[u,d]=v.useState(null),f=_t(e,C=>d(C)),p=Bm(n),m=v.useRef(!1),y=v.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:S,focusSelectedItem:g}=a,b=v.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&w&&_&&S){const C=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),A=S.getBoundingClientRect();if(o.dir!=="rtl"){const re=A.left-T.left,te=P.left-re,Ie=C.left-te,Ce=C.width+Ie,Fe=Math.max(Ce,T.width),tt=window.innerWidth-hs,lt=hE(te,[hs,Math.max(hs,tt-Fe)]);l.style.minWidth=Ce+"px",l.style.left=lt+"px"}else{const re=T.right-A.right,te=window.innerWidth-P.right-re,Ie=window.innerWidth-C.right-te,Ce=C.width+Ie,Fe=Math.max(Ce,T.width),tt=window.innerWidth-hs,lt=hE(te,[hs,Math.max(hs,tt-Fe)]);l.style.minWidth=Ce+"px",l.style.right=lt+"px"}const k=p(),j=window.innerHeight-hs*2,I=w.scrollHeight,V=window.getComputedStyle(u),F=parseInt(V.borderTopWidth,10),W=parseInt(V.paddingTop,10),$=parseInt(V.borderBottomWidth,10),M=parseInt(V.paddingBottom,10),z=F+W+I+M+$,Y=Math.min(_.offsetHeight*5,z),Q=window.getComputedStyle(w),he=parseInt(Q.paddingTop,10),de=parseInt(Q.paddingBottom,10),xe=C.top+C.height/2-hs,G=j-xe,ce=_.offsetHeight/2,oe=_.offsetTop+ce,be=F+W+oe,Ae=z-be;if(be<=xe){const re=k.length>0&&_===k[k.length-1].ref.current;l.style.bottom="0px";const te=u.clientHeight-w.offsetTop-w.offsetHeight,Ie=Math.max(G,ce+(re?de:0)+te+$),Ce=be+Ie;l.style.height=Ce+"px"}else{const re=k.length>0&&_===k[0].ref.current;l.style.top="0px";const Ie=Math.max(xe,F+w.offsetTop+(re?he:0)+ce)+Ae;l.style.height=Ie+"px",w.scrollTop=be-xe+w.offsetTop}l.style.margin=`${hs}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,l,u,w,_,S,o.dir,r]);Ln(()=>b(),[b]);const[N,R]=v.useState();Ln(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const L=v.useCallback(C=>{C&&y.current===!0&&(b(),g==null||g(),y.current=!1)},[b,g]);return i.jsx(F8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:L,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:i.jsx(He.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});x2.displayName=O8;var L8="SelectPopperPosition",kx=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=hs,...o}=t,a=$m(n);return i.jsx(Kw,{...a,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kx.displayName=L8;var[F8,sb]=kc(Ua,{}),Ix="SelectViewport",y2=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Ki(Ix,n),a=sb(Ix,n),l=_t(e,o.onViewportChange),c=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Um.Slot,{scope:n,children:i.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Re(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-hs*2,w=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),S=Math.max(w,_);if(S<y){const g=S+m,b=Math.min(y,g),N=g-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});y2.displayName=Ix;var w2="SelectGroup",[V8,z8]=kc(w2),U8=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=So();return i.jsx(V8,{scope:n,id:s,children:i.jsx(He.div,{role:"group","aria-labelledby":s,...r,ref:e})})});U8.displayName=w2;var b2="SelectLabel",_2=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=z8(b2,n);return i.jsx(He.div,{id:s.id,...r,ref:e})});_2.displayName=b2;var kp="SelectItem",[B8,S2]=kc(kp),C2=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=t,l=Gi(kp,n),c=Ki(kp,n),u=l.value===r,[d,f]=v.useState(o??""),[p,m]=v.useState(!1),y=_t(e,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,r,s)}),w=So(),_=v.useRef("touch"),S=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(B8,{scope:n,value:r,disabled:s,textId:w,isSelected:u,onItemTextChange:v.useCallback(g=>{f(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(Um.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(He.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:Re(a.onFocus,()=>m(!0)),onBlur:Re(a.onBlur,()=>m(!1)),onClick:Re(a.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:Re(a.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:Re(a.onPointerDown,g=>{_.current=g.pointerType}),onPointerMove:Re(a.onPointerMove,g=>{var b;_.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):_.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(a.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Re(a.onKeyDown,g=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&g.key===" "||(N8.includes(g.key)&&S(),g.key===" "&&g.preventDefault())})})})})});C2.displayName=kp;var _u="SelectItemText",E2=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,a=Gi(_u,n),l=Ki(_u,n),c=S2(_u,n),u=P8(_u,n),[d,f]=v.useState(null),p=_t(e,S=>f(S),c.onItemTextChange,S=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,S,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=v.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=u;return Ln(()=>(w(y),()=>_(y)),[w,_,y]),i.jsxs(i.Fragment,{children:[i.jsx(He.span,{id:c.textId,...o,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ks.createPortal(o.children,a.valueNode):null]})});E2.displayName=_u;var T2="SelectItemIndicator",N2=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return S2(T2,n).isSelected?i.jsx(He.span,{"aria-hidden":!0,...r,ref:e}):null});N2.displayName=T2;var Px="SelectScrollUpButton",j2=v.forwardRef((t,e)=>{const n=Ki(Px,t.__scopeSelect),r=sb(Px,t.__scopeSelect),[s,o]=v.useState(!1),a=_t(e,r.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(I2,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});j2.displayName=Px;var Ax="SelectScrollDownButton",k2=v.forwardRef((t,e)=>{const n=Ki(Ax,t.__scopeSelect),r=sb(Ax,t.__scopeSelect),[s,o]=v.useState(!1),a=_t(e,r.onScrollButtonChange);return Ln(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(I2,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});k2.displayName=Ax;var I2=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Ki("SelectScrollButton",n),a=v.useRef(null),l=Bm(n),c=v.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Ln(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(He.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Re(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Re(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Re(s.onPointerLeave,()=>{c()})})}),$8="SelectSeparator",P2=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return i.jsx(He.div,{"aria-hidden":!0,...r,ref:e})});P2.displayName=$8;var Rx="SelectArrow",q8=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$m(n),o=Gi(Rx,n),a=Ki(Rx,n);return o.open&&a.position==="popper"?i.jsx(Yw,{...s,...r,ref:e}):null});q8.displayName=Rx;var W8="SelectBubbleInput",A2=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=v.useRef(null),o=_t(r,s),a=E8(e);return v.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),i.jsx(He.select,{...n,style:{...IP,...n.style},ref:o,defaultValue:e})});A2.displayName=W8;function R2(t){return t===""||t===void 0}function D2(t){const e=is(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function M2(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=H8(t,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function H8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var G8=l2,O2=u2,K8=h2,Y8=f2,Q8=p2,L2=m2,X8=y2,F2=_2,V2=C2,Z8=E2,J8=N2,z2=j2,U2=k2,B2=P2;const ut=G8,dt=K8,it=Le.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(O2,{ref:r,className:Ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,i.jsx(Y8,{asChild:!0,children:i.jsx(uP,{className:"h-4 w-4 opacity-50"})})]}));it.displayName=O2.displayName;const $2=Le.forwardRef(({className:t,...e},n)=>i.jsx(z2,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx($9,{className:"h-4 w-4"})}));$2.displayName=z2.displayName;const q2=Le.forwardRef(({className:t,...e},n)=>i.jsx(U2,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(uP,{className:"h-4 w-4"})}));q2.displayName=U2.displayName;const at=Le.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>i.jsx(Q8,{children:i.jsxs(L2,{ref:s,className:Ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[i.jsx($2,{}),i.jsx(X8,{className:Ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(q2,{})]})}));at.displayName=L2.displayName;const e7=Le.forwardRef(({className:t,...e},n)=>i.jsx(F2,{ref:n,className:Ke("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));e7.displayName=F2.displayName;const ae=Le.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(V2,{ref:r,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(J8,{children:i.jsx(U9,{className:"h-4 w-4"})})}),i.jsx(Z8,{children:e})]}));ae.displayName=V2.displayName;const t7=Le.forwardRef(({className:t,...e},n)=>i.jsx(B2,{ref:n,className:Ke("-mx-1 my-1 h-px bg-muted",t),...e}));t7.displayName=B2.displayName;const n7=Nm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function es({className:t,variant:e,...n}){return i.jsx("div",{className:Ke(n7({variant:e}),t),...n})}const un=Le.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ke("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));un.displayName="Card";const _n=Le.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ke("flex flex-col space-y-1.5 p-6",t),...e}));_n.displayName="CardHeader";const Sn=Le.forwardRef(({className:t,...e},n)=>i.jsx("h3",{ref:n,className:Ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));Sn.displayName="CardTitle";const wa=Le.forwardRef(({className:t,...e},n)=>i.jsx("p",{ref:n,className:Ke("text-sm text-muted-foreground",t),...e}));wa.displayName="CardDescription";const dn=Le.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ke("p-6 pt-0",t),...e}));dn.displayName="CardContent";const r7=Le.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ke("flex items-center p-6 pt-0",t),...e}));r7.displayName="CardFooter";var Pv="rovingFocusGroup.onEntryFocus",s7={bubbles:!1,cancelable:!0},qd="RovingFocusGroup",[Dx,W2,o7]=Ow(qd),[i7,H2]=so(qd,[o7]),[a7,l7]=i7(qd),G2=v.forwardRef((t,e)=>i.jsx(Dx.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Dx.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(c7,{...t,ref:e})})}));G2.displayName=qd;var c7=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=v.useRef(null),m=_t(e,p),y=rb(o),[w,_]=La({prop:a,defaultProp:l??null,onChange:c,caller:qd}),[S,g]=v.useState(!1),b=is(u),N=W2(n),R=v.useRef(!1),[L,C]=v.useState(0);return v.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Pv,b),()=>T.removeEventListener(Pv,b)},[b]),i.jsx(a7,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:w,onItemFocus:v.useCallback(T=>_(T),[_]),onItemShiftTab:v.useCallback(()=>g(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:v.useCallback(()=>C(T=>T-1),[]),children:i.jsx(He.div,{tabIndex:S||L===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Re(t.onMouseDown,()=>{R.current=!0}),onFocus:Re(t.onFocus,T=>{const P=!R.current;if(T.target===T.currentTarget&&P&&!S){const A=new CustomEvent(Pv,s7);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const k=N().filter(W=>W.focusable),j=k.find(W=>W.active),I=k.find(W=>W.id===w),F=[j,I,...k].filter(Boolean).map(W=>W.ref.current);Q2(F,d)}}R.current=!1}),onBlur:Re(t.onBlur,()=>g(!1))})})}),K2="RovingFocusGroupItem",Y2=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...l}=t,c=So(),u=o||c,d=l7(K2,n),f=d.currentTabStopId===u,p=W2(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:w}=d;return v.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),i.jsx(Dx.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(He.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Re(t.onMouseDown,_=>{r?d.onItemFocus(u):_.preventDefault()}),onFocus:Re(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Re(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=h7(_,d.orientation,d.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let b=p().filter(N=>N.focusable).map(N=>N.ref.current);if(S==="last")b.reverse();else if(S==="prev"||S==="next"){S==="prev"&&b.reverse();const N=b.indexOf(_.currentTarget);b=d.loop?f7(b,N+1):b.slice(N+1)}setTimeout(()=>Q2(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:w!=null}):a})})});Y2.displayName=K2;var u7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function h7(t,e,n){const r=d7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return u7[r]}function Q2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function f7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var p7=G2,m7=Y2,qm="Tabs",[g7,hne]=so(qm,[H2]),X2=H2(),[v7,ob]=g7(qm),Z2=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=rb(l),[f,p]=La({prop:r,onChange:s,defaultProp:o??"",caller:qm});return i.jsx(v7,{scope:n,baseId:So(),value:f,onValueChange:p,orientation:a,dir:d,activationMode:c,children:i.jsx(He.div,{dir:d,"data-orientation":a,...u,ref:e})})});Z2.displayName=qm;var J2="TabsList",eR=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=ob(J2,n),a=X2(n);return i.jsx(p7,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(He.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});eR.displayName=J2;var tR="TabsTrigger",nR=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,a=ob(tR,n),l=X2(n),c=oR(a.baseId,r),u=iR(a.baseId,r),d=r===a.value;return i.jsx(m7,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(He.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:Re(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Re(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Re(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});nR.displayName=tR;var rR="TabsContent",sR=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=t,l=ob(rR,n),c=oR(l.baseId,r),u=iR(l.baseId,r),d=r===l.value,f=v.useRef(d);return v.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(Fo,{present:s||d,children:({present:p})=>i.jsx(He.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});sR.displayName=rR;function oR(t,e){return`${t}-trigger-${e}`}function iR(t,e){return`${t}-content-${e}`}var x7=Z2,aR=eR,lR=nR,cR=sR;const Ba=x7,Mi=Le.forwardRef(({className:t,...e},n)=>i.jsx(aR,{ref:n,className:Ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Mi.displayName=aR.displayName;const fn=Le.forwardRef(({className:t,...e},n)=>i.jsx(lR,{ref:n,className:Ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));fn.displayName=lR.displayName;const pn=Le.forwardRef(({className:t,...e},n)=>i.jsx(cR,{ref:n,className:Ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));pn.displayName=cR.displayName;const y7=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function uc(t,e,n){const r=w7(t),{webkitRelativePath:s}=t,o=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof r.path!="string"&&fE(r,"path",o),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),fE(r,"relativePath",o),r}function w7(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),s=y7.get(r);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function fE(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const b7=[".DS_Store","Thumbs.db"];function _7(t){return tl(this,void 0,void 0,function*(){return Ip(t)&&S7(t.dataTransfer)?N7(t.dataTransfer,t.type):C7(t)?E7(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?T7(t):[]})}function S7(t){return Ip(t)}function C7(t){return Ip(t)&&Ip(t.target)}function Ip(t){return typeof t=="object"&&t!==null}function E7(t){return Mx(t.target.files).map(e=>uc(e))}function T7(t){return tl(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>uc(n))})}function N7(t,e){return tl(this,void 0,void 0,function*(){if(t.items){const n=Mx(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(j7));return pE(uR(r))}return pE(Mx(t.files).map(n=>uc(n)))})}function pE(t){return t.filter(e=>b7.indexOf(e.name)===-1)}function Mx(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function j7(t){if(typeof t.webkitGetAsEntry!="function")return mE(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?dR(e):mE(t,e)}function uR(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?uR(n):[n]],[])}function mE(t,e){return tl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const a=yield o.getFile();return a.handle=o,uc(a)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return uc(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function k7(t){return tl(this,void 0,void 0,function*(){return t.isDirectory?dR(t):I7(t)})}function dR(t){const e=t.createReader();return new Promise((n,r)=>{const s=[];function o(){e.readEntries(a=>tl(this,void 0,void 0,function*(){if(a.length){const l=Promise.all(a.map(k7));s.push(l),o()}else try{const l=yield Promise.all(s);n(l)}catch(l){r(l)}}),a=>{r(a)})}o()})}function I7(t){return tl(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const s=uc(r,t.fullPath);e(s)},r=>{n(r)})})})}var Av=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return n.some(function(a){var l=a.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):s===l})}return!0};function gE(t){return R7(t)||A7(t)||fR(t)||P7()}function P7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R7(t){if(Array.isArray(t))return Ox(t)}function vE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(n),!0).forEach(function(r){hR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yd(t,e){return O7(t)||M7(t,e)||fR(t,e)||D7()}function D7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fR(t,e){if(t){if(typeof t=="string")return Ox(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ox(t,e)}}function Ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,a,l;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function O7(t){if(Array.isArray(t))return t}var L7=typeof Av=="function"?Av:Av.default,F7="file-invalid-type",V7="file-too-large",z7="file-too-small",U7="too-many-files",B7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:F7,message:"File type must be ".concat(r)}},yE=function(e){return{code:V7,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},wE=function(e){return{code:z7,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},$7={code:U7,message:"Too many files"};function pR(t,e){var n=t.type==="application/x-moz-file"||L7(t,e);return[n,n?null:B7(e)]}function mR(t,e,n){if(pa(t.size))if(pa(e)&&pa(n)){if(t.size>n)return[!1,yE(n)];if(t.size<e)return[!1,wE(e)]}else{if(pa(e)&&t.size<e)return[!1,wE(e)];if(pa(n)&&t.size>n)return[!1,yE(n)]}return[!0,null]}function pa(t){return t!=null}function q7(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,o=t.multiple,a=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&a>=1&&e.length>a?!1:e.every(function(c){var u=pR(c,n),d=yd(u,1),f=d[0],p=mR(c,r,s),m=yd(p,1),y=m[0],w=l?l(c):null;return f&&y&&!w})}function Pp(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Xh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function bE(t){t.preventDefault()}function W7(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function H7(t){return t.indexOf("Edge/")!==-1}function G7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return W7(t)||H7(t)}function Ds(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return e.some(function(l){return!Pp(r)&&l&&l.apply(void 0,[r].concat(o)),Pp(r)})}}function K7(){return"showOpenFilePicker"in window}function Y7(t){if(pa(t)){var e=Object.entries(t).filter(function(n){var r=yd(n,2),s=r[0],o=r[1],a=!0;return gR(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(o)||!o.every(vR))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,r){var s=yd(r,2),o=s[0],a=s[1];return xE(xE({},n),{},hR({},o,a))},{});return[{description:"Files",accept:e}]}return t}function Q7(t){if(pa(t))return Object.entries(t).reduce(function(e,n){var r=yd(n,2),s=r[0],o=r[1];return[].concat(gE(e),[s],gE(o))},[]).filter(function(e){return gR(e)||vR(e)}).join(",")}function X7(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Z7(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function gR(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function vR(t){return/^.*\.[\w]+$/.test(t)}var J7=["children"],eq=["open"],tq=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],nq=["refKey","onChange","onClick"];function rq(t){return iq(t)||oq(t)||xR(t)||sq()}function sq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iq(t){if(Array.isArray(t))return Lx(t)}function Rv(t,e){return cq(t)||lq(t,e)||xR(t,e)||aq()}function aq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xR(t,e){if(t){if(typeof t=="string")return Lx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lx(t,e)}}function Lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,a,l;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function cq(t){if(Array.isArray(t))return t}function _E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(r){Fx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ap(t,e){if(t==null)return{};var n=uq(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var ib=v.forwardRef(function(t,e){var n=t.children,r=Ap(t,J7),s=ab(r),o=s.open,a=Ap(s,eq);return v.useImperativeHandle(e,function(){return{open:o}},[o]),Le.createElement(v.Fragment,null,n(Ft(Ft({},a),{},{open:o})))});ib.displayName="Dropzone";var yR={disabled:!1,getFilesFromEvent:_7,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ib.defaultProps=yR;ib.propTypes={children:Oe.func,accept:Oe.objectOf(Oe.arrayOf(Oe.string)),multiple:Oe.bool,preventDropOnDocument:Oe.bool,noClick:Oe.bool,noKeyboard:Oe.bool,noDrag:Oe.bool,noDragEventsBubbling:Oe.bool,minSize:Oe.number,maxSize:Oe.number,maxFiles:Oe.number,disabled:Oe.bool,getFilesFromEvent:Oe.func,onFileDialogCancel:Oe.func,onFileDialogOpen:Oe.func,useFsAccessApi:Oe.bool,autoFocus:Oe.bool,onDragEnter:Oe.func,onDragLeave:Oe.func,onDragOver:Oe.func,onDrop:Oe.func,onDropAccepted:Oe.func,onDropRejected:Oe.func,onError:Oe.func,validator:Oe.func};var Vx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ab(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ft(Ft({},yR),t),n=e.accept,r=e.disabled,s=e.getFilesFromEvent,o=e.maxSize,a=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,y=e.onDropRejected,w=e.onFileDialogCancel,_=e.onFileDialogOpen,S=e.useFsAccessApi,g=e.autoFocus,b=e.preventDropOnDocument,N=e.noClick,R=e.noKeyboard,L=e.noDrag,C=e.noDragEventsBubbling,T=e.onError,P=e.validator,A=v.useMemo(function(){return Q7(n)},[n]),k=v.useMemo(function(){return Y7(n)},[n]),j=v.useMemo(function(){return typeof _=="function"?_:SE},[_]),I=v.useMemo(function(){return typeof w=="function"?w:SE},[w]),V=v.useRef(null),F=v.useRef(null),W=v.useReducer(dq,Vx),$=Rv(W,2),M=$[0],z=$[1],Y=M.isFocused,Q=M.isFileDialogActive,he=v.useRef(typeof window<"u"&&window.isSecureContext&&S&&K7()),de=function(){!he.current&&Q&&setTimeout(function(){if(F.current){var Pe=F.current.files;Pe.length||(z({type:"closeDialog"}),I())}},300)};v.useEffect(function(){return window.addEventListener("focus",de,!1),function(){window.removeEventListener("focus",de,!1)}},[F,Q,I,he]);var xe=v.useRef([]),G=function(Pe){V.current&&V.current.contains(Pe.target)||(Pe.preventDefault(),xe.current=[])};v.useEffect(function(){return b&&(document.addEventListener("dragover",bE,!1),document.addEventListener("drop",G,!1)),function(){b&&(document.removeEventListener("dragover",bE),document.removeEventListener("drop",G))}},[V,b]),v.useEffect(function(){return!r&&g&&V.current&&V.current.focus(),function(){}},[V,g,r]);var ce=v.useCallback(function(ge){T?T(ge):console.error(ge)},[T]),oe=v.useCallback(function(ge){ge.preventDefault(),ge.persist(),xt(ge),xe.current=[].concat(rq(xe.current),[ge.target]),Xh(ge)&&Promise.resolve(s(ge)).then(function(Pe){if(!(Pp(ge)&&!C)){var ht=Pe.length,St=ht>0&&q7({files:Pe,accept:A,minSize:a,maxSize:o,multiple:l,maxFiles:c,validator:P}),qt=ht>0&&!St;z({isDragAccept:St,isDragReject:qt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(ge)}}).catch(function(Pe){return ce(Pe)})},[s,u,ce,C,A,a,o,l,c,P]),be=v.useCallback(function(ge){ge.preventDefault(),ge.persist(),xt(ge);var Pe=Xh(ge);if(Pe&&ge.dataTransfer)try{ge.dataTransfer.dropEffect="copy"}catch{}return Pe&&f&&f(ge),!1},[f,C]),Ae=v.useCallback(function(ge){ge.preventDefault(),ge.persist(),xt(ge);var Pe=xe.current.filter(function(St){return V.current&&V.current.contains(St)}),ht=Pe.indexOf(ge.target);ht!==-1&&Pe.splice(ht,1),xe.current=Pe,!(Pe.length>0)&&(z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Xh(ge)&&d&&d(ge))},[V,d,C]),U=v.useCallback(function(ge,Pe){var ht=[],St=[];ge.forEach(function(qt){var Vn=pR(qt,A),zn=Rv(Vn,2),nr=zn[0],Wr=zn[1],jr=mR(qt,a,o),jn=Rv(jr,2),kr=jn[0],rr=jn[1],Yt=P?P(qt):null;if(nr&&kr&&!Yt)ht.push(qt);else{var Un=[Wr,rr];Yt&&(Un=Un.concat(Yt)),St.push({file:qt,errors:Un.filter(function(O){return O})})}}),(!l&&ht.length>1||l&&c>=1&&ht.length>c)&&(ht.forEach(function(qt){St.push({file:qt,errors:[$7]})}),ht.splice(0)),z({acceptedFiles:ht,fileRejections:St,isDragReject:St.length>0,type:"setFiles"}),p&&p(ht,St,Pe),St.length>0&&y&&y(St,Pe),ht.length>0&&m&&m(ht,Pe)},[z,l,A,a,o,c,p,m,y,P]),re=v.useCallback(function(ge){ge.preventDefault(),ge.persist(),xt(ge),xe.current=[],Xh(ge)&&Promise.resolve(s(ge)).then(function(Pe){Pp(ge)&&!C||U(Pe,ge)}).catch(function(Pe){return ce(Pe)}),z({type:"reset"})},[s,U,ce,C]),te=v.useCallback(function(){if(he.current){z({type:"openDialog"}),j();var ge={multiple:l,types:k};window.showOpenFilePicker(ge).then(function(Pe){return s(Pe)}).then(function(Pe){U(Pe,null),z({type:"closeDialog"})}).catch(function(Pe){X7(Pe)?(I(Pe),z({type:"closeDialog"})):Z7(Pe)?(he.current=!1,F.current?(F.current.value=null,F.current.click()):ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ce(Pe)});return}F.current&&(z({type:"openDialog"}),j(),F.current.value=null,F.current.click())},[z,j,I,S,U,ce,k,l]),Ie=v.useCallback(function(ge){!V.current||!V.current.isEqualNode(ge.target)||(ge.key===" "||ge.key==="Enter"||ge.keyCode===32||ge.keyCode===13)&&(ge.preventDefault(),te())},[V,te]),Ce=v.useCallback(function(){z({type:"focus"})},[]),Fe=v.useCallback(function(){z({type:"blur"})},[]),tt=v.useCallback(function(){N||(G7()?setTimeout(te,0):te())},[N,te]),lt=function(Pe){return r?null:Pe},bt=function(Pe){return R?null:lt(Pe)},Lt=function(Pe){return L?null:lt(Pe)},xt=function(Pe){C&&Pe.stopPropagation()},gt=v.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=ge.refKey,ht=Pe===void 0?"ref":Pe,St=ge.role,qt=ge.onKeyDown,Vn=ge.onFocus,zn=ge.onBlur,nr=ge.onClick,Wr=ge.onDragEnter,jr=ge.onDragOver,jn=ge.onDragLeave,kr=ge.onDrop,rr=Ap(ge,tq);return Ft(Ft(Fx({onKeyDown:bt(Ds(qt,Ie)),onFocus:bt(Ds(Vn,Ce)),onBlur:bt(Ds(zn,Fe)),onClick:lt(Ds(nr,tt)),onDragEnter:Lt(Ds(Wr,oe)),onDragOver:Lt(Ds(jr,be)),onDragLeave:Lt(Ds(jn,Ae)),onDrop:Lt(Ds(kr,re)),role:typeof St=="string"&&St!==""?St:"presentation"},ht,V),!r&&!R?{tabIndex:0}:{}),rr)}},[V,Ie,Ce,Fe,tt,oe,be,Ae,re,R,L,r]),hr=v.useCallback(function(ge){ge.stopPropagation()},[]),fr=v.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=ge.refKey,ht=Pe===void 0?"ref":Pe,St=ge.onChange,qt=ge.onClick,Vn=Ap(ge,nq),zn=Fx({accept:A,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:lt(Ds(St,re)),onClick:lt(Ds(qt,hr)),tabIndex:-1},ht,F);return Ft(Ft({},zn),Vn)}},[F,n,l,re,r]);return Ft(Ft({},M),{},{isFocused:Y&&!r,getRootProps:gt,getInputProps:fr,rootRef:V,inputRef:F,open:lt(te)})}function dq(t,e){switch(e.type){case"focus":return Ft(Ft({},t),{},{isFocused:!0});case"blur":return Ft(Ft({},t),{},{isFocused:!1});case"openDialog":return Ft(Ft({},Vx),{},{isFileDialogActive:!0});case"closeDialog":return Ft(Ft({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ft(Ft({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Ft(Ft({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Ft({},Vx);default:return t}}function SE(){}const hq=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},bR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let p=(l&15)<<2|u>>6,m=u&63;c||(m=64,a||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||u==null||f==null)throw new pq;const p=o<<2|l>>4;if(r.push(p),u!==64){const m=l<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mq=function(t){const e=wR(t);return bR.encodeByteArray(e,!0)},Rp=function(t){return mq(t).replace(/\./g,"")},_R=function(t){try{return bR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=()=>gq().__FIREBASE_DEFAULTS__,xq=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_R(t[1]);return e&&JSON.parse(e)},Wm=()=>{try{return hq()||vq()||xq()||yq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SR=t=>{var e,n;return(n=(e=Wm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},wq=t=>{const e=SR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CR=()=>{var t;return(t=Wm())==null?void 0:t.config},ER=t=>{var e;return(e=Wm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[Rp(JSON.stringify(n)),Rp(JSON.stringify(a)),l].join(".")}const Uu={};function Sq(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uu))Uu[e]?t.emulator.push(e):t.prod.push(e);return t}function Cq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let CE=!1;function NR(t,e){if(typeof window>"u"||typeof document>"u"||!Ic(window.location.host)||Uu[t]===e||Uu[t]||CE)return;Uu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=Sq().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{CE=!0,a()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Cq(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),_=document.getElementById(w)||document.createElement("a"),S=n("preprendIcon"),g=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),d(_,w);const N=u();c(g,S),b.append(g,y,_,N),document.body.appendChild(b)}o?(y.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Eq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function Tq(){var e;const t=(e=Wm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iq(){const t=er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pq(){return!Tq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aq(){try{return typeof indexedDB=="object"}catch{return!1}}function Rq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq="FirebaseError";class Vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dq,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wd.prototype.create)}}class Wd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?Mq(o,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Vo(s,l,r)}}function Mq(t,e){return t.replace(Oq,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Oq=/\{\$([^}]+)}/g;function Lq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $a(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],a=e[s];if(EE(o)&&EE(a)){if(!$a(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function EE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fq(t,e){const n=new Vq(t,e);return n.subscribe.bind(n)}class Vq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zq(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dv),s.error===void 0&&(s.error=Dv),s.complete===void 0&&(s.complete=Dv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t){return t&&t._delegate?t._delegate:t}class qa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($q(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Bq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bq(t){return t===ha?void 0:t}function $q(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const Wq={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},Hq=rt.INFO,Gq={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},Kq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Gq[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lb{constructor(e){this.name=e,this._logLevel=Hq,this._logHandler=Kq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const Yq=(t,e)=>e.some(n=>t instanceof n);let TE,NE;function Qq(){return TE||(TE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xq(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jR=new WeakMap,zx=new WeakMap,kR=new WeakMap,Mv=new WeakMap,cb=new WeakMap;function Zq(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ci(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&jR.set(n,t)}).catch(()=>{}),cb.set(e,t),e}function Jq(t){if(zx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});zx.set(t,e)}let Ux={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eW(t){Ux=t(Ux)}function tW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ov(this),e,...n);return kR.set(r,e.sort?e.sort():[e]),Ci(r)}:Xq().includes(t)?function(...e){return t.apply(Ov(this),e),Ci(jR.get(this))}:function(...e){return Ci(t.apply(Ov(this),e))}}function nW(t){return typeof t=="function"?tW(t):(t instanceof IDBTransaction&&Jq(t),Yq(t,Qq())?new Proxy(t,Ux):t)}function Ci(t){if(t instanceof IDBRequest)return Zq(t);if(Mv.has(t))return Mv.get(t);const e=nW(t);return e!==t&&(Mv.set(t,e),cb.set(e,t)),e}const Ov=t=>cb.get(t);function rW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),l=Ci(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ci(a.result),c.oldVersion,c.newVersion,Ci(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const sW=["get","getKey","getAll","getAllKeys","count"],oW=["put","add","delete","clear"],Lv=new Map;function jE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lv.get(e))return Lv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=oW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||sW.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Lv.set(e,o),o}eW(t=>({...t,get:(e,n,r)=>jE(e,n)||t.get(e,n,r),has:(e,n)=>!!jE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bx="@firebase/app",kE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new lb("@firebase/app"),lW="@firebase/app-compat",cW="@firebase/analytics-compat",uW="@firebase/analytics",dW="@firebase/app-check-compat",hW="@firebase/app-check",fW="@firebase/auth",pW="@firebase/auth-compat",mW="@firebase/database",gW="@firebase/data-connect",vW="@firebase/database-compat",xW="@firebase/functions",yW="@firebase/functions-compat",wW="@firebase/installations",bW="@firebase/installations-compat",_W="@firebase/messaging",SW="@firebase/messaging-compat",CW="@firebase/performance",EW="@firebase/performance-compat",TW="@firebase/remote-config",NW="@firebase/remote-config-compat",jW="@firebase/storage",kW="@firebase/storage-compat",IW="@firebase/firestore",PW="@firebase/ai",AW="@firebase/firestore-compat",RW="firebase",DW="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="[DEFAULT]",MW={[Bx]:"fire-core",[lW]:"fire-core-compat",[uW]:"fire-analytics",[cW]:"fire-analytics-compat",[hW]:"fire-app-check",[dW]:"fire-app-check-compat",[fW]:"fire-auth",[pW]:"fire-auth-compat",[mW]:"fire-rtdb",[gW]:"fire-data-connect",[vW]:"fire-rtdb-compat",[xW]:"fire-fn",[yW]:"fire-fn-compat",[wW]:"fire-iid",[bW]:"fire-iid-compat",[_W]:"fire-fcm",[SW]:"fire-fcm-compat",[CW]:"fire-perf",[EW]:"fire-perf-compat",[TW]:"fire-rc",[NW]:"fire-rc-compat",[jW]:"fire-gcs",[kW]:"fire-gcs-compat",[IW]:"fire-fst",[AW]:"fire-fst-compat",[PW]:"fire-vertex","fire-js":"fire-js",[RW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new Map,OW=new Map,qx=new Map;function IE(t,e){try{t.container.addComponent(e)}catch(n){Ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dc(t){const e=t.name;if(qx.has(e))return Ao.debug(`There were multiple attempts to register component ${e}.`),!1;qx.set(e,t);for(const n of Dp.values())IE(n,t);for(const n of OW.values())IE(n,t);return!0}function ub(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Us(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Wd("app","Firebase",LW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=DW;function IR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$x,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ei.create("bad-app-name",{appName:String(s)});if(n||(n=CR()),!n)throw Ei.create("no-options");const o=Dp.get(s);if(o){if($a(n,o.options)&&$a(r,o.config))return o;throw Ei.create("duplicate-app",{appName:s})}const a=new qq(s);for(const c of qx.values())a.addComponent(c);const l=new FW(n,r,a);return Dp.set(s,l),l}function PR(t=$x){const e=Dp.get(t);if(!e&&t===$x&&CR())return IR();if(!e)throw Ei.create("no-app",{appName:t});return e}function Ti(t,e,n){let r=MW[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ao.warn(a.join(" "));return}dc(new qa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW="firebase-heartbeat-database",zW=1,wd="firebase-heartbeat-store";let Fv=null;function AR(){return Fv||(Fv=rW(VW,zW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),Fv}async function UW(t){try{const n=(await AR()).transaction(wd),r=await n.objectStore(wd).get(RR(t));return await n.done,r}catch(e){if(e instanceof Vo)Ao.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ao.warn(n.message)}}}async function PE(t,e){try{const r=(await AR()).transaction(wd,"readwrite");await r.objectStore(wd).put(e,RR(t)),await r.done}catch(n){if(n instanceof Vo)Ao.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ao.warn(r.message)}}}function RR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=1024,$W=30;class qW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>$W){const a=GW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ao.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AE(),{heartbeatsToSend:r,unsentEntries:s}=WW(this._heartbeatsCache.heartbeats),o=Rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ao.warn(n),""}}}function AE(){return new Date().toISOString().substring(0,10)}function WW(t,e=BW){const n=[];let r=t.slice();for(const s of t){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),RE(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),RE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Aq()?Rq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RE(t){return Rp(JSON.stringify({version:2,heartbeats:t})).length}function GW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(t){dc(new qa("platform-logger",e=>new iW(e),"PRIVATE")),dc(new qa("heartbeat",e=>new qW(e),"PRIVATE")),Ti(Bx,kE,t),Ti(Bx,kE,"esm2020"),Ti("fire-js","")}KW("");var DE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,DR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function P(){}P.prototype=T.prototype,C.F=T.prototype,C.prototype=new P,C.prototype.constructor=C,C.D=function(A,k,j){for(var I=Array(arguments.length-2),V=2;V<arguments.length;V++)I[V-2]=arguments[V];return T.prototype[k].apply(A,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,P){P||(P=0);const A=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)A[k]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(k=0;k<16;++k)A[k]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=C.g[0],P=C.g[1],k=C.g[2];let j=C.g[3],I;I=T+(j^P&(k^j))+A[0]+3614090360&4294967295,T=P+(I<<7&4294967295|I>>>25),I=j+(k^T&(P^k))+A[1]+3905402710&4294967295,j=T+(I<<12&4294967295|I>>>20),I=k+(P^j&(T^P))+A[2]+606105819&4294967295,k=j+(I<<17&4294967295|I>>>15),I=P+(T^k&(j^T))+A[3]+3250441966&4294967295,P=k+(I<<22&4294967295|I>>>10),I=T+(j^P&(k^j))+A[4]+4118548399&4294967295,T=P+(I<<7&4294967295|I>>>25),I=j+(k^T&(P^k))+A[5]+1200080426&4294967295,j=T+(I<<12&4294967295|I>>>20),I=k+(P^j&(T^P))+A[6]+2821735955&4294967295,k=j+(I<<17&4294967295|I>>>15),I=P+(T^k&(j^T))+A[7]+4249261313&4294967295,P=k+(I<<22&4294967295|I>>>10),I=T+(j^P&(k^j))+A[8]+1770035416&4294967295,T=P+(I<<7&4294967295|I>>>25),I=j+(k^T&(P^k))+A[9]+2336552879&4294967295,j=T+(I<<12&4294967295|I>>>20),I=k+(P^j&(T^P))+A[10]+4294925233&4294967295,k=j+(I<<17&4294967295|I>>>15),I=P+(T^k&(j^T))+A[11]+2304563134&4294967295,P=k+(I<<22&4294967295|I>>>10),I=T+(j^P&(k^j))+A[12]+1804603682&4294967295,T=P+(I<<7&4294967295|I>>>25),I=j+(k^T&(P^k))+A[13]+4254626195&4294967295,j=T+(I<<12&4294967295|I>>>20),I=k+(P^j&(T^P))+A[14]+2792965006&4294967295,k=j+(I<<17&4294967295|I>>>15),I=P+(T^k&(j^T))+A[15]+1236535329&4294967295,P=k+(I<<22&4294967295|I>>>10),I=T+(k^j&(P^k))+A[1]+4129170786&4294967295,T=P+(I<<5&4294967295|I>>>27),I=j+(P^k&(T^P))+A[6]+3225465664&4294967295,j=T+(I<<9&4294967295|I>>>23),I=k+(T^P&(j^T))+A[11]+643717713&4294967295,k=j+(I<<14&4294967295|I>>>18),I=P+(j^T&(k^j))+A[0]+3921069994&4294967295,P=k+(I<<20&4294967295|I>>>12),I=T+(k^j&(P^k))+A[5]+3593408605&4294967295,T=P+(I<<5&4294967295|I>>>27),I=j+(P^k&(T^P))+A[10]+38016083&4294967295,j=T+(I<<9&4294967295|I>>>23),I=k+(T^P&(j^T))+A[15]+3634488961&4294967295,k=j+(I<<14&4294967295|I>>>18),I=P+(j^T&(k^j))+A[4]+3889429448&4294967295,P=k+(I<<20&4294967295|I>>>12),I=T+(k^j&(P^k))+A[9]+568446438&4294967295,T=P+(I<<5&4294967295|I>>>27),I=j+(P^k&(T^P))+A[14]+3275163606&4294967295,j=T+(I<<9&4294967295|I>>>23),I=k+(T^P&(j^T))+A[3]+4107603335&4294967295,k=j+(I<<14&4294967295|I>>>18),I=P+(j^T&(k^j))+A[8]+1163531501&4294967295,P=k+(I<<20&4294967295|I>>>12),I=T+(k^j&(P^k))+A[13]+2850285829&4294967295,T=P+(I<<5&4294967295|I>>>27),I=j+(P^k&(T^P))+A[2]+4243563512&4294967295,j=T+(I<<9&4294967295|I>>>23),I=k+(T^P&(j^T))+A[7]+1735328473&4294967295,k=j+(I<<14&4294967295|I>>>18),I=P+(j^T&(k^j))+A[12]+2368359562&4294967295,P=k+(I<<20&4294967295|I>>>12),I=T+(P^k^j)+A[5]+4294588738&4294967295,T=P+(I<<4&4294967295|I>>>28),I=j+(T^P^k)+A[8]+2272392833&4294967295,j=T+(I<<11&4294967295|I>>>21),I=k+(j^T^P)+A[11]+1839030562&4294967295,k=j+(I<<16&4294967295|I>>>16),I=P+(k^j^T)+A[14]+4259657740&4294967295,P=k+(I<<23&4294967295|I>>>9),I=T+(P^k^j)+A[1]+2763975236&4294967295,T=P+(I<<4&4294967295|I>>>28),I=j+(T^P^k)+A[4]+1272893353&4294967295,j=T+(I<<11&4294967295|I>>>21),I=k+(j^T^P)+A[7]+4139469664&4294967295,k=j+(I<<16&4294967295|I>>>16),I=P+(k^j^T)+A[10]+3200236656&4294967295,P=k+(I<<23&4294967295|I>>>9),I=T+(P^k^j)+A[13]+681279174&4294967295,T=P+(I<<4&4294967295|I>>>28),I=j+(T^P^k)+A[0]+3936430074&4294967295,j=T+(I<<11&4294967295|I>>>21),I=k+(j^T^P)+A[3]+3572445317&4294967295,k=j+(I<<16&4294967295|I>>>16),I=P+(k^j^T)+A[6]+76029189&4294967295,P=k+(I<<23&4294967295|I>>>9),I=T+(P^k^j)+A[9]+3654602809&4294967295,T=P+(I<<4&4294967295|I>>>28),I=j+(T^P^k)+A[12]+3873151461&4294967295,j=T+(I<<11&4294967295|I>>>21),I=k+(j^T^P)+A[15]+530742520&4294967295,k=j+(I<<16&4294967295|I>>>16),I=P+(k^j^T)+A[2]+3299628645&4294967295,P=k+(I<<23&4294967295|I>>>9),I=T+(k^(P|~j))+A[0]+4096336452&4294967295,T=P+(I<<6&4294967295|I>>>26),I=j+(P^(T|~k))+A[7]+1126891415&4294967295,j=T+(I<<10&4294967295|I>>>22),I=k+(T^(j|~P))+A[14]+2878612391&4294967295,k=j+(I<<15&4294967295|I>>>17),I=P+(j^(k|~T))+A[5]+4237533241&4294967295,P=k+(I<<21&4294967295|I>>>11),I=T+(k^(P|~j))+A[12]+1700485571&4294967295,T=P+(I<<6&4294967295|I>>>26),I=j+(P^(T|~k))+A[3]+2399980690&4294967295,j=T+(I<<10&4294967295|I>>>22),I=k+(T^(j|~P))+A[10]+4293915773&4294967295,k=j+(I<<15&4294967295|I>>>17),I=P+(j^(k|~T))+A[1]+2240044497&4294967295,P=k+(I<<21&4294967295|I>>>11),I=T+(k^(P|~j))+A[8]+1873313359&4294967295,T=P+(I<<6&4294967295|I>>>26),I=j+(P^(T|~k))+A[15]+4264355552&4294967295,j=T+(I<<10&4294967295|I>>>22),I=k+(T^(j|~P))+A[6]+2734768916&4294967295,k=j+(I<<15&4294967295|I>>>17),I=P+(j^(k|~T))+A[13]+1309151649&4294967295,P=k+(I<<21&4294967295|I>>>11),I=T+(k^(P|~j))+A[4]+4149444226&4294967295,T=P+(I<<6&4294967295|I>>>26),I=j+(P^(T|~k))+A[11]+3174756917&4294967295,j=T+(I<<10&4294967295|I>>>22),I=k+(T^(j|~P))+A[2]+718787259&4294967295,k=j+(I<<15&4294967295|I>>>17),I=P+(j^(k|~T))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,T){T===void 0&&(T=C.length);const P=T-this.blockSize,A=this.C;let k=this.h,j=0;for(;j<T;){if(k==0)for(;j<=P;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<T;)if(A[k++]=C.charCodeAt(j++),k==this.blockSize){s(this,A),k=0;break}}else for(;j<T;)if(A[k++]=C[j++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=T},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;T=this.o*8;for(var P=C.length-8;P<C.length;++P)C[P]=T&255,T/=256;for(this.v(C),C=Array(16),T=0,P=0;P<4;++P)for(let A=0;A<32;A+=8)C[T++]=this.g[P]>>>A&255;return C};function o(C,T){var P=l;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=T(C)}function a(C,T){this.h=T;const P=[];let A=!0;for(let k=C.length-1;k>=0;k--){const j=C[k]|0;A&&j==T||(P[k]=j,A=!1)}this.g=P}var l={};function c(C){return-128<=C&&C<128?o(C,function(T){return new a([T|0],T<0?-1:0)}):new a([C|0],C<0?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(C<0)return _(u(-C));const T=[];let P=1;for(let A=0;C>=P;A++)T[A]=C/P|0,P*=4294967296;return new a(T,0)}function d(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return _(d(C.substring(1),T));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(T,8));let A=f;for(let j=0;j<C.length;j+=8){var k=Math.min(8,C.length-j);const I=parseInt(C.substring(j,j+k),T);k<8?(k=u(Math.pow(T,k)),A=A.j(k).add(u(I))):(A=A.j(P),A=A.add(u(I)))}return A}var f=c(0),p=c(1),m=c(16777216);t=a.prototype,t.m=function(){if(w(this))return-_(this).m();let C=0,T=1;for(let P=0;P<this.g.length;P++){const A=this.i(P);C+=(A>=0?A:4294967296+A)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(w(this))return"-"+_(this).toString(C);const T=u(Math.pow(C,6));var P=this;let A="";for(;;){const k=N(P,T).g;P=S(P,k.j(T));let j=((P.g.length>0?P.g[0]:P.h)>>>0).toString(C);if(P=k,y(P))return j+A;for(;j.length<6;)j="0"+j;A=j+A}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(let T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=S(this,C),w(C)?-1:y(C)?0:1};function _(C){const T=C.g.length,P=[];for(let A=0;A<T;A++)P[A]=~C.g[A];return new a(P,~C.h).add(p)}t.abs=function(){return w(this)?_(this):this},t.add=function(C){const T=Math.max(this.g.length,C.g.length),P=[];let A=0;for(let k=0;k<=T;k++){let j=A+(this.i(k)&65535)+(C.i(k)&65535),I=(j>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);A=I>>>16,j&=65535,I&=65535,P[k]=I<<16|j}return new a(P,P[P.length-1]&-2147483648?-1:0)};function S(C,T){return C.add(_(T))}t.j=function(C){if(y(this)||y(C))return f;if(w(this))return w(C)?_(this).j(_(C)):_(_(this).j(C));if(w(C))return _(this.j(_(C)));if(this.l(m)<0&&C.l(m)<0)return u(this.m()*C.m());const T=this.g.length+C.g.length,P=[];for(var A=0;A<2*T;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(let k=0;k<C.g.length;k++){const j=this.i(A)>>>16,I=this.i(A)&65535,V=C.i(k)>>>16,F=C.i(k)&65535;P[2*A+2*k]+=I*F,g(P,2*A+2*k),P[2*A+2*k+1]+=j*F,g(P,2*A+2*k+1),P[2*A+2*k+1]+=I*V,g(P,2*A+2*k+1),P[2*A+2*k+2]+=j*V,g(P,2*A+2*k+2)}for(C=0;C<T;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=T;C<2*T;C++)P[C]=0;return new a(P,0)};function g(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function b(C,T){this.g=C,this.h=T}function N(C,T){if(y(T))throw Error("division by zero");if(y(C))return new b(f,f);if(w(C))return T=N(_(C),T),new b(_(T.g),_(T.h));if(w(T))return T=N(C,_(T)),new b(_(T.g),T.h);if(C.g.length>30){if(w(C)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var P=p,A=T;A.l(C)<=0;)P=R(P),A=R(A);var k=L(P,1),j=L(A,1);for(A=L(A,2),P=L(P,2);!y(A);){var I=j.add(A);I.l(C)<=0&&(k=k.add(P),j=I),A=L(A,1),P=L(P,1)}return T=S(C,k.j(T)),new b(k,T)}for(k=f;C.l(T)>=0;){for(P=Math.max(1,Math.floor(C.m()/T.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),j=u(P),I=j.j(T);w(I)||I.l(C)>0;)P-=A,j=u(P),I=j.j(T);y(j)&&(j=p),k=k.add(j),C=S(C,I)}return new b(k,C)}t.B=function(C){return N(this,C).h},t.and=function(C){const T=Math.max(this.g.length,C.g.length),P=[];for(let A=0;A<T;A++)P[A]=this.i(A)&C.i(A);return new a(P,this.h&C.h)},t.or=function(C){const T=Math.max(this.g.length,C.g.length),P=[];for(let A=0;A<T;A++)P[A]=this.i(A)|C.i(A);return new a(P,this.h|C.h)},t.xor=function(C){const T=Math.max(this.g.length,C.g.length),P=[];for(let A=0;A<T;A++)P[A]=this.i(A)^C.i(A);return new a(P,this.h^C.h)};function R(C){const T=C.g.length+1,P=[];for(let A=0;A<T;A++)P[A]=C.i(A)<<1|C.i(A-1)>>>31;return new a(P,C.h)}function L(C,T){const P=T>>5;T%=32;const A=C.g.length-P,k=[];for(let j=0;j<A;j++)k[j]=T>0?C.i(j+P)>>>T|C.i(j+P+1)<<32-T:C.i(j+P);return new a(k,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Ni=a}).apply(typeof DE<"u"?DE:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MR,Su,OR,If,Wx,LR,FR,VR;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var x=0;x<h.length;++x){var E=h[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,x){if(x)e:{var E=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var H=h[D];if(!(H in E))break e;E=E[H]}h=h[h.length-1],D=E[h],x=x(D),x!=D&&x!=null&&e(E,h,{configurable:!0,writable:!0,value:x})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(x){var E=[],D;for(D in x)Object.prototype.hasOwnProperty.call(x,D)&&E.push([D,x[D]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function c(h,x,E){return h.call.apply(h.bind,arguments)}function u(h,x,E){return u=c,u.apply(null,arguments)}function d(h,x){var E=Array.prototype.slice.call(arguments,1);return function(){var D=E.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function f(h,x){function E(){}E.prototype=x.prototype,h.Z=x.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(D,H,K){for(var ve=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ve[Qe-2]=arguments[Qe];return x.prototype[H].apply(D,ve)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function m(h){const x=h.length;if(x>0){const E=Array(x);for(let D=0;D<x;D++)E[D]=h[D];return E}return[]}function y(h,x){for(let D=1;D<arguments.length;D++){const H=arguments[D];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const K=H.length||0;h.length=E+K;for(let ve=0;ve<K;ve++)h[E+ve]=H[ve]}else h.push(H)}}class w{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function _(h){a.setTimeout(()=>{throw h},0)}function S(){var h=C;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class g{constructor(){this.h=this.g=null}add(x,E){const D=b.get();D.set(x,E),this.h?this.h.next=D:this.g=D,this.h=D}}var b=new w(()=>new N,h=>h.reset());class N{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let R,L=!1,C=new g,T=()=>{const h=Promise.resolve(void 0);R=()=>{h.then(P)}};function P(){for(var h;h=S();){try{h.h.call(h.g)}catch(E){_(E)}var x=b;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}L=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};a.addEventListener("test",E,x),a.removeEventListener("test",E,x)}catch{}return h}();function I(h){return/^[\s\xa0]*$/.test(h)}function V(h,x){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}f(V,k),V.prototype.init=function(h,x){const E=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(E=="mouseover"?x=h.fromElement:E=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&V.Z.h.call(this)},V.prototype.h=function(){V.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),W=0;function $(h,x,E,D,H){this.listener=h,this.proxy=null,this.src=x,this.type=E,this.capture=!!D,this.ha=H,this.key=++W,this.da=this.fa=!1}function M(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function z(h,x,E){for(const D in h)x.call(E,h[D],D,h)}function Y(h,x){for(const E in h)x.call(void 0,h[E],E,h)}function Q(h){const x={};for(const E in h)x[E]=h[E];return x}const he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(h,x){let E,D;for(let H=1;H<arguments.length;H++){D=arguments[H];for(E in D)h[E]=D[E];for(let K=0;K<he.length;K++)E=he[K],Object.prototype.hasOwnProperty.call(D,E)&&(h[E]=D[E])}}function xe(h){this.src=h,this.g={},this.h=0}xe.prototype.add=function(h,x,E,D,H){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ve=ce(h,x,D,H);return ve>-1?(x=h[ve],E||(x.fa=!1)):(x=new $(x,this.src,K,!!D,H),x.fa=E,h.push(x)),x};function G(h,x){const E=x.type;if(E in h.g){var D=h.g[E],H=Array.prototype.indexOf.call(D,x,void 0),K;(K=H>=0)&&Array.prototype.splice.call(D,H,1),K&&(M(x),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ce(h,x,E,D){for(let H=0;H<h.length;++H){const K=h[H];if(!K.da&&K.listener==x&&K.capture==!!E&&K.ha==D)return H}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),be={};function Ae(h,x,E,D,H){if(D&&D.once)return te(h,x,E,D,H);if(Array.isArray(x)){for(let K=0;K<x.length;K++)Ae(h,x[K],E,D,H);return null}return E=Lt(E),h&&h[F]?h.J(x,E,l(D)?!!D.capture:!!D,H):U(h,x,E,!1,D,H)}function U(h,x,E,D,H,K){if(!x)throw Error("Invalid event type");const ve=l(H)?!!H.capture:!!H;let Qe=lt(h);if(Qe||(h[oe]=Qe=new xe(h)),E=Qe.add(x,E,D,ve,K),E.proxy)return E;if(D=re(),E.proxy=D,D.src=h,D.listener=E,h.addEventListener)j||(H=ve),H===void 0&&(H=!1),h.addEventListener(x.toString(),D,H);else if(h.attachEvent)h.attachEvent(Fe(x.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return E}function re(){function h(E){return x.call(h.src,h.listener,E)}const x=tt;return h}function te(h,x,E,D,H){if(Array.isArray(x)){for(let K=0;K<x.length;K++)te(h,x[K],E,D,H);return null}return E=Lt(E),h&&h[F]?h.K(x,E,l(D)?!!D.capture:!!D,H):U(h,x,E,!0,D,H)}function Ie(h,x,E,D,H){if(Array.isArray(x))for(var K=0;K<x.length;K++)Ie(h,x[K],E,D,H);else D=l(D)?!!D.capture:!!D,E=Lt(E),h&&h[F]?(h=h.i,K=String(x).toString(),K in h.g&&(x=h.g[K],E=ce(x,E,D,H),E>-1&&(M(x[E]),Array.prototype.splice.call(x,E,1),x.length==0&&(delete h.g[K],h.h--)))):h&&(h=lt(h))&&(x=h.g[x.toString()],h=-1,x&&(h=ce(x,E,D,H)),(E=h>-1?x[h]:null)&&Ce(E))}function Ce(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[F])G(x.i,h);else{var E=h.type,D=h.proxy;x.removeEventListener?x.removeEventListener(E,D,h.capture):x.detachEvent?x.detachEvent(Fe(E),D):x.addListener&&x.removeListener&&x.removeListener(D),(E=lt(x))?(G(E,h),E.h==0&&(E.src=null,x[oe]=null)):M(h)}}}function Fe(h){return h in be?be[h]:be[h]="on"+h}function tt(h,x){if(h.da)h=!0;else{x=new V(x,this);const E=h.listener,D=h.ha||h.src;h.fa&&Ce(h),h=E.call(D,x)}return h}function lt(h){return h=h[oe],h instanceof xe?h:null}var bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lt(h){return typeof h=="function"?h:(h[bt]||(h[bt]=function(x){return h.handleEvent(x)}),h[bt])}function xt(){A.call(this),this.i=new xe(this),this.M=this,this.G=null}f(xt,A),xt.prototype[F]=!0,xt.prototype.removeEventListener=function(h,x,E,D){Ie(this,h,x,E,D)};function gt(h,x){var E,D=h.G;if(D)for(E=[];D;D=D.G)E.push(D);if(h=h.M,D=x.type||x,typeof x=="string")x=new k(x,h);else if(x instanceof k)x.target=x.target||h;else{var H=x;x=new k(D,h),de(x,H)}H=!0;let K,ve;if(E)for(ve=E.length-1;ve>=0;ve--)K=x.g=E[ve],H=hr(K,D,!0,x)&&H;if(K=x.g=h,H=hr(K,D,!0,x)&&H,H=hr(K,D,!1,x)&&H,E)for(ve=0;ve<E.length;ve++)K=x.g=E[ve],H=hr(K,D,!1,x)&&H}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const E=h.g[x];for(let D=0;D<E.length;D++)M(E[D]);delete h.g[x],h.h--}}this.G=null},xt.prototype.J=function(h,x,E,D){return this.i.add(String(h),x,!1,E,D)},xt.prototype.K=function(h,x,E,D){return this.i.add(String(h),x,!0,E,D)};function hr(h,x,E,D){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let H=!0;for(let K=0;K<x.length;++K){const ve=x[K];if(ve&&!ve.da&&ve.capture==E){const Qe=ve.listener,ln=ve.ha||ve.src;ve.fa&&G(h.i,ve),H=Qe.call(ln,D)!==!1&&H}}return H&&!D.defaultPrevented}function fr(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:a.setTimeout(h,x||0)}function ge(h){h.g=fr(()=>{h.g=null,h.i&&(h.i=!1,ge(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Pe extends A{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(h){A.call(this),this.h=h,this.g={}}f(ht,A);var St=[];function qt(h){z(h.g,function(x,E){this.g.hasOwnProperty(E)&&Ce(x)},h),h.g={}}ht.prototype.N=function(){ht.Z.N.call(this),qt(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=a.JSON.stringify,zn=a.JSON.parse,nr=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Wr(){}function jr(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kr(){k.call(this,"d")}f(kr,k);function rr(){k.call(this,"c")}f(rr,k);var Yt={},Un=null;function O(){return Un=Un||new xt}Yt.Ia="serverreachability";function ye(h){k.call(this,Yt.Ia,h)}f(ye,k);function J(h){const x=O();gt(x,new ye(x))}Yt.STAT_EVENT="statevent";function Ee(h,x){k.call(this,Yt.STAT_EVENT,h),this.stat=x}f(Ee,k);function pe(h){const x=O();gt(x,new Ee(x,h))}Yt.Ja="timingevent";function pt(h,x){k.call(this,Yt.Ja,h),this.size=x}f(pt,k);function Ye(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},x)}function B(){this.g=!0}B.prototype.ua=function(){this.g=!1};function ie(h,x,E,D,H,K){h.info(function(){if(h.g)if(K){var ve="",Qe=K.split("&");for(let Et=0;Et<Qe.length;Et++){var ln=Qe[Et].split("=");if(ln.length>1){const bn=ln[0];ln=ln[1];const As=bn.split("_");ve=As.length>=2&&As[1]=="type"?ve+(bn+"="+ln+"&"):ve+(bn+"=redacted&")}}}else ve=null;else ve=K;return"XMLHTTP REQ ("+D+") [attempt "+H+"]: "+x+`
`+E+`
`+ve})}function le(h,x,E,D,H,K,ve){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+H+"]: "+x+`
`+E+`
`+K+" "+ve})}function we(h,x,E,D){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+q(h,E)+(D?" "+D:"")})}function kn(h,x){h.info(function(){return"TIMEOUT: "+x})}B.prototype.info=function(){};function q(h,x){if(!h.g)return x;if(!x)return null;try{const K=JSON.parse(x);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var E=K[h];if(!(E.length<2)){var D=E[1];if(Array.isArray(D)&&!(D.length<1)){var H=D[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ve=1;ve<D.length;ve++)D[ve]=""}}}}return Vn(K)}catch{return x}}var Z={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ke={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ct;function an(){}f(an,Wr),an.prototype.g=function(){return new XMLHttpRequest},Ct=new an;function Ze(h){return encodeURIComponent(String(h))}function qe(h){var x=1;h=h.split(":");const E=[];for(;x>0&&h.length;)E.push(h.shift()),x--;return h.length&&E.push(h.join(":")),E}function mt(h,x,E,D){this.j=h,this.i=x,this.l=E,this.S=D||1,this.V=new ht(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ls}function ls(){this.i=null,this.g="",this.h=!1}var zc={},Uc={};function xg(h,x,E){h.M=1,h.A=dh(Ps(x)),h.u=E,h.R=!0,T1(h,null)}function T1(h,x){h.F=Date.now(),uh(h),h.B=Ps(h.A);var E=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),V1(E.i,"t",D),h.C=0,E=h.j.L,h.h=new ls,h.g=r_(h.j,E?x:null,!h.u),h.P>0&&(h.O=new Pe(u(h.Y,h,h.g),h.P)),x=h.V,E=h.g,D=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(St[0]=H.toString()),H=St);for(let K=0;K<H.length;K++){const ve=Ae(E,H[K],D||x.handleEvent,!1,x.h||x);if(!ve)break;x.g[ve.key]=ve}x=h.J?Q(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),J(),ie(h.i,h.v,h.B,h.l,h.S,h.u)}mt.prototype.ba=function(h){h=h.target;const x=this.O;x&&Bo(h)==3?x.j():this.Y(h)},mt.prototype.Y=function(h){try{if(h==this.g)e:{const Qe=Bo(this.g),ln=this.g.ya(),Et=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||H1(this.g)))){this.K||Qe!=4||ln==7||(ln==8||Et<=0?J(3):J(2)),yg(this);var x=this.g.ca();this.X=x;var E=R4(this);if(this.o=x==200,le(this.i,this.v,this.B,this.l,this.S,Qe,x),this.o){if(this.U&&!this.L){t:{if(this.g){var D,H=this.g;if((D=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(D)){var K=D;break t}}K=null}if(h=K)we(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wg(this,h);else{this.o=!1,this.m=3,pe(12),ta(this),Bc(this);break e}}if(this.R){h=!0;let bn;for(;!this.K&&this.C<E.length;)if(bn=D4(this,E),bn==Uc){Qe==4&&(this.m=4,pe(14),h=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==zc){this.m=4,pe(15),we(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else we(this.i,this.l,bn,null),wg(this,bn);if(N1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||E.length!=0||this.h.h||(this.m=1,pe(16),h=!1),this.o=this.o&&h,!h)we(this.i,this.l,E,"[Invalid Chunked Response]"),ta(this),Bc(this);else if(E.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),jg(ve),ve.P=!0,pe(11))}}else we(this.i,this.l,E,null),wg(this,E);Qe==4&&ta(this),this.o&&!this.K&&(Qe==4?J1(this.j,this):(this.o=!1,uh(this)))}else K4(this.g),x==400&&E.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),ta(this),Bc(this)}}}catch{}finally{}};function R4(h){if(!N1(h))return h.g.la();const x=H1(h.g);if(x==="")return"";let E="";const D=x.length,H=Bo(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ta(h),Bc(h),"";h.h.i=new a.TextDecoder}for(let K=0;K<D;K++)h.h.h=!0,E+=h.h.i.decode(x[K],{stream:!(H&&K==D-1)});return x.length=0,h.h.g+=E,h.C=0,h.h.g}function N1(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function D4(h,x){var E=h.C,D=x.indexOf(`
`,E);return D==-1?Uc:(E=Number(x.substring(E,D)),isNaN(E)?zc:(D+=1,D+E>x.length?Uc:(x=x.slice(D,D+E),h.C=D+E,x)))}mt.prototype.cancel=function(){this.K=!0,ta(this)};function uh(h){h.T=Date.now()+h.H,j1(h,h.H)}function j1(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ye(u(h.aa,h),x)}function yg(h){h.D&&(a.clearTimeout(h.D),h.D=null)}mt.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(kn(this.i,this.B),this.M!=2&&(J(),pe(17)),ta(this),this.m=2,Bc(this)):j1(this,this.T-h)};function Bc(h){h.j.I==0||h.K||J1(h.j,h)}function ta(h){yg(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,qt(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function wg(h,x){try{var E=h.j;if(E.I!=0&&(E.g==h||bg(E.h,h))){if(!h.L&&bg(E.h,h)&&E.I==3){try{var D=E.Ba.g.parse(x)}catch{D=null}if(Array.isArray(D)&&D.length==3){var H=D;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)gh(E),ph(E);else break e;Ng(E),pe(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ye(u(E.Va,E),6e3));P1(E.h)<=1&&E.ta&&(E.ta=void 0)}else ra(E,11)}else if((h.L||E.g==h)&&gh(E),!I(x))for(H=E.Ba.g.parse(x),x=0;x<H.length;x++){let Et=H[x];const bn=Et[0];if(!(bn<=E.K))if(E.K=bn,Et=Et[1],E.I==2)if(Et[0]=="c"){E.M=Et[1],E.ba=Et[2];const As=Et[3];As!=null&&(E.ka=As,E.j.info("VER="+E.ka));const sa=Et[4];sa!=null&&(E.za=sa,E.j.info("SVER="+E.za));const $o=Et[5];$o!=null&&typeof $o=="number"&&$o>0&&(D=1.5*$o,E.O=D,E.j.info("backChannelRequestTimeoutMs_="+D)),D=E;const qo=h.g;if(qo){const xh=qo.g?qo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xh){var K=D.h;K.g||xh.indexOf("spdy")==-1&&xh.indexOf("quic")==-1&&xh.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(_g(K,K.h),K.h=null))}if(D.G){const kg=qo.g?qo.g.getResponseHeader("X-HTTP-Session-Id"):null;kg&&(D.wa=kg,It(D.J,D.G,kg))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),D=E;var ve=h;if(D.na=n_(D,D.L?D.ba:null,D.W),ve.L){A1(D.h,ve);var Qe=ve,ln=D.O;ln&&(Qe.H=ln),Qe.D&&(yg(Qe),uh(Qe)),D.g=ve}else X1(D);E.i.length>0&&mh(E)}else Et[0]!="stop"&&Et[0]!="close"||ra(E,7);else E.I==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?ra(E,7):Tg(E):Et[0]!="noop"&&E.l&&E.l.qa(Et),E.A=0)}}J(4)}catch{}}var M4=class{constructor(h,x){this.g=h,this.map=x}};function k1(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function I1(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function P1(h){return h.h?1:h.g?h.g.size:0}function bg(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function _g(h,x){h.g?h.g.add(x):h.h=x}function A1(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}k1.prototype.cancel=function(){if(this.i=R1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function R1(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const E of h.g.values())x=x.concat(E.G);return x}return m(h.i)}var D1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O4(h,x){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const D=h[E].indexOf("=");let H,K=null;D>=0?(H=h[E].substring(0,D),K=h[E].substring(D+1)):H=h[E],x(H,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function zo(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof zo?(this.l=h.l,$c(this,h.j),this.o=h.o,this.g=h.g,qc(this,h.u),this.h=h.h,Sg(this,z1(h.i)),this.m=h.m):h&&(x=String(h).match(D1))?(this.l=!1,$c(this,x[1]||"",!0),this.o=Wc(x[2]||""),this.g=Wc(x[3]||"",!0),qc(this,x[4]),this.h=Wc(x[5]||"",!0),Sg(this,x[6]||"",!0),this.m=Wc(x[7]||"")):(this.l=!1,this.i=new Gc(null,this.l))}zo.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(Hc(x,M1,!0),":");var E=this.g;return(E||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Hc(x,M1,!0),"@"),h.push(Ze(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Hc(E,E.charAt(0)=="/"?V4:F4,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Hc(E,U4)),h.join("")},zo.prototype.resolve=function(h){const x=Ps(this);let E=!!h.j;E?$c(x,h.j):E=!!h.o,E?x.o=h.o:E=!!h.g,E?x.g=h.g:E=h.u!=null;var D=h.h;if(E)qc(x,h.u);else if(E=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var H=x.h.lastIndexOf("/");H!=-1&&(D=x.h.slice(0,H+1)+D)}if(H=D,H==".."||H==".")D="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){D=H.lastIndexOf("/",0)==0,H=H.split("/");const K=[];for(let ve=0;ve<H.length;){const Qe=H[ve++];Qe=="."?D&&ve==H.length&&K.push(""):Qe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),D&&ve==H.length&&K.push("")):(K.push(Qe),D=!0)}D=K.join("/")}else D=H}return E?x.h=D:E=h.i.toString()!=="",E?Sg(x,z1(h.i)):E=!!h.m,E&&(x.m=h.m),x};function Ps(h){return new zo(h)}function $c(h,x,E){h.j=E?Wc(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function qc(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Sg(h,x,E){x instanceof Gc?(h.i=x,B4(h.i,h.l)):(E||(x=Hc(x,z4)),h.i=new Gc(x,h.l))}function It(h,x,E){h.i.set(x,E)}function dh(h){return It(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Wc(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hc(h,x,E){return typeof h=="string"?(h=encodeURI(h).replace(x,L4),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function L4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var M1=/[#\/\?@]/g,F4=/[#\?:]/g,V4=/[#\?]/g,z4=/[#\?@]/g,U4=/#/g;function Gc(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function na(h){h.g||(h.g=new Map,h.h=0,h.i&&O4(h.i,function(x,E){h.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}t=Gc.prototype,t.add=function(h,x){na(this),this.i=null,h=ol(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(x),this.h+=1,this};function O1(h,x){na(h),x=ol(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function L1(h,x){return na(h),x=ol(h,x),h.g.has(x)}t.forEach=function(h,x){na(this),this.g.forEach(function(E,D){E.forEach(function(H){h.call(x,H,D,this)},this)},this)};function F1(h,x){na(h);let E=[];if(typeof x=="string")L1(h,x)&&(E=E.concat(h.g.get(ol(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)E=E.concat(h[x]);return E}t.set=function(h,x){return na(this),this.i=null,h=ol(this,h),L1(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=F1(this,h),h.length>0?String(h[0]):x):x};function V1(h,x,E){O1(h,x),E.length>0&&(h.i=null,h.g.set(ol(h,x),m(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let D=0;D<x.length;D++){var E=x[D];const H=Ze(E);E=F1(this,E);for(let K=0;K<E.length;K++){let ve=H;E[K]!==""&&(ve+="="+Ze(E[K])),h.push(ve)}}return this.i=h.join("&")};function z1(h){const x=new Gc;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function ol(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function B4(h,x){x&&!h.j&&(na(h),h.i=null,h.g.forEach(function(E,D){const H=D.toLowerCase();D!=H&&(O1(this,D),V1(this,H,E))},h)),h.j=x}function $4(h,x){const E=new B;if(a.Image){const D=new Image;D.onload=d(Uo,E,"TestLoadImage: loaded",!0,x,D),D.onerror=d(Uo,E,"TestLoadImage: error",!1,x,D),D.onabort=d(Uo,E,"TestLoadImage: abort",!1,x,D),D.ontimeout=d(Uo,E,"TestLoadImage: timeout",!1,x,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else x(!1)}function q4(h,x){const E=new B,D=new AbortController,H=setTimeout(()=>{D.abort(),Uo(E,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:D.signal}).then(K=>{clearTimeout(H),K.ok?Uo(E,"TestPingServer: ok",!0,x):Uo(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(H),Uo(E,"TestPingServer: error",!1,x)})}function Uo(h,x,E,D,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),D(E)}catch{}}function W4(){this.g=new nr}function Cg(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Cg,Wr),Cg.prototype.g=function(){return new hh(this.i,this.h)};function hh(h,x){xt.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(hh,xt),t=hh.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,Yc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||a).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kc(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;U1(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function U1(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Kc(this):Yc(this),this.readyState==3&&U1(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Kc(this))},t.Na=function(h){this.g&&(this.response=h,Kc(this))},t.ga=function(){this.g&&Kc(this)};function Kc(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Yc(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=x.next();return h.join(`\r
`)};function Yc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function B1(h){let x="";return z(h,function(E,D){x+=D,x+=":",x+=E,x+=`\r
`}),x}function Eg(h,x,E){e:{for(D in E){var D=!1;break e}D=!0}D||(E=B1(E),typeof h=="string"?E!=null&&Ze(E):It(h,x,E))}function Wt(h){xt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Wt,xt);var H4=/^https?$/i,G4=["POST","PUT"];t=Wt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,E,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ct.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(K){$1(this,K);return}if(h=E||"",E=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var H in D)E.set(H,D[H]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())E.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),H=a.FormData&&h instanceof a.FormData,!(Array.prototype.indexOf.call(G4,x,void 0)>=0)||D||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ve]of E)this.g.setRequestHeader(K,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){$1(this,K)}};function $1(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,q1(h),fh(h)}function q1(h){h.A||(h.A=!0,gt(h,"complete"),gt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,gt(this,"complete"),gt(this,"abort"),fh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fh(this,!0)),Wt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?W1(this):this.Xa())},t.Xa=function(){W1(this)};function W1(h){if(h.h&&typeof o<"u"){if(h.v&&Bo(h)==4)setTimeout(h.Ca.bind(h),0);else if(gt(h,"readystatechange"),Bo(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var D;if(D=K===0){let ve=String(h.D).match(D1)[1]||null;!ve&&a.self&&a.self.location&&(ve=a.self.location.protocol.slice(0,-1)),D=!H4.test(ve?ve.toLowerCase():"")}E=D}if(E)gt(h,"complete"),gt(h,"success");else{h.o=6;try{var H=Bo(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",q1(h)}}finally{fh(h)}}}}function fh(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,x||gt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bo(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Bo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),zn(x)}};function H1(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function K4(h){const x={};h=(h.g&&Bo(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(I(h[D]))continue;var E=qe(h[D]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=x[H]||[];x[H]=K,K.push(E)}Y(x,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qc(h,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||x}function G1(h){this.za=0,this.i=[],this.j=new B,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qc("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qc("baseRetryDelayMs",5e3,h),this.Za=Qc("retryDelaySeedMs",1e4,h),this.Ta=Qc("forwardChannelMaxRetries",2,h),this.va=Qc("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new k1(h&&h.concurrentRequestLimit),this.Ba=new W4,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=G1.prototype,t.ka=8,t.I=1,t.connect=function(h,x,E,D){pe(0),this.W=h,this.H=x||{},E&&D!==void 0&&(this.H.OSID=E,this.H.OAID=D),this.F=this.X,this.J=n_(this,null,this.W),mh(this)};function Tg(h){if(K1(h),h.I==3){var x=h.V++,E=Ps(h.J);if(It(E,"SID",h.M),It(E,"RID",x),It(E,"TYPE","terminate"),Xc(h,E),x=new mt(h,h.j,x),x.M=2,x.A=dh(Ps(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(x.A.toString(),"")}catch{}!E&&a.Image&&(new Image().src=x.A,E=!0),E||(x.g=r_(x.j,null),x.g.ea(x.A)),x.F=Date.now(),uh(x)}t_(h)}function ph(h){h.g&&(jg(h),h.g.cancel(),h.g=null)}function K1(h){ph(h),h.v&&(a.clearTimeout(h.v),h.v=null),gh(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&a.clearTimeout(h.m),h.m=null)}function mh(h){if(!I1(h.h)&&!h.m){h.m=!0;var x=h.Ea;R||T(),L||(R(),L=!0),C.add(x,h),h.D=0}}function Y4(h,x){return P1(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ye(u(h.Ea,h,x),e_(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new mt(this,this.j,h);let K=this.o;if(this.U&&(K?(K=Q(K),de(K,this.U)):K=this.U),this.u!==null||this.R||(H.J=K,K=null),this.S)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var D=this.i[E];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(x+=D,x>4096){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=Q1(this,H,x),E=Ps(this.J),It(E,"RID",h),It(E,"CVER",22),this.G&&It(E,"X-HTTP-Session-Id",this.G),Xc(this,E),K&&(this.R?x="headers="+Ze(B1(K))+"&"+x:this.u&&Eg(E,this.u,K)),_g(this.h,H),this.Ra&&It(E,"TYPE","init"),this.S?(It(E,"$req",x),It(E,"SID","null"),H.U=!0,xg(H,E,null)):xg(H,E,x),this.I=2}}else this.I==3&&(h?Y1(this,h):this.i.length==0||I1(this.h)||Y1(this))};function Y1(h,x){var E;x?E=x.l:E=h.V++;const D=Ps(h.J);It(D,"SID",h.M),It(D,"RID",E),It(D,"AID",h.K),Xc(h,D),h.u&&h.o&&Eg(D,h.u,h.o),E=new mt(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),x&&(h.i=x.G.concat(h.i)),x=Q1(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),_g(h.h,E),xg(E,D,x)}function Xc(h,x){h.H&&z(h.H,function(E,D){It(x,D,E)}),h.l&&z({},function(E,D){It(x,D,E)})}function Q1(h,x,E){E=Math.min(h.i.length,E);const D=h.l?u(h.l.Ka,h.l,h):null;e:{var H=h.i;let Qe=-1;for(;;){const ln=["count="+E];Qe==-1?E>0?(Qe=H[0].g,ln.push("ofs="+Qe)):Qe=0:ln.push("ofs="+Qe);let Et=!0;for(let bn=0;bn<E;bn++){var K=H[bn].g;const As=H[bn].map;if(K-=Qe,K<0)Qe=Math.max(0,H[bn].g-100),Et=!1;else try{K="req"+K+"_"||"";try{var ve=As instanceof Map?As:Object.entries(As);for(const[sa,$o]of ve){let qo=$o;l($o)&&(qo=Vn($o)),ln.push(K+sa+"="+encodeURIComponent(qo))}}catch(sa){throw ln.push(K+"type="+encodeURIComponent("_badmap")),sa}}catch{D&&D(As)}}if(Et){ve=ln.join("&");break e}}ve=void 0}return h=h.i.splice(0,E),x.G=h,ve}function X1(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;R||T(),L||(R(),L=!0),C.add(x,h),h.A=0}}function Ng(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ye(u(h.Da,h),e_(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Z1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ye(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ph(this),Z1(this))};function jg(h){h.B!=null&&(a.clearTimeout(h.B),h.B=null)}function Z1(h){h.g=new mt(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Ps(h.na);It(x,"RID","rpc"),It(x,"SID",h.M),It(x,"AID",h.K),It(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&It(x,"TO",h.ia),It(x,"TYPE","xmlhttp"),Xc(h,x),h.u&&h.o&&Eg(x,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=dh(Ps(x)),E.u=null,E.R=!0,T1(E,h)}t.Va=function(){this.C!=null&&(this.C=null,ph(this),Ng(this),pe(19))};function gh(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function J1(h,x){var E=null;if(h.g==x){gh(h),jg(h),h.g=null;var D=2}else if(bg(h.h,x))E=x.G,A1(h.h,x),D=1;else return;if(h.I!=0){if(x.o)if(D==1){E=x.u?x.u.length:0,x=Date.now()-x.F;var H=h.D;D=O(),gt(D,new pt(D,E)),mh(h)}else X1(h);else if(H=x.m,H==3||H==0&&x.X>0||!(D==1&&Y4(h,x)||D==2&&Ng(h)))switch(E&&E.length>0&&(x=h.h,x.i=x.i.concat(E)),H){case 1:ra(h,5);break;case 4:ra(h,10);break;case 3:ra(h,6);break;default:ra(h,2)}}}function e_(h,x){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*x}function ra(h,x){if(h.j.info("Error code "+x),x==2){var E=u(h.bb,h),D=h.Ua;const H=!D;D=new zo(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$c(D,"https"),dh(D),H?$4(D.toString(),E):q4(D.toString(),E)}else pe(2);h.I=0,h.l&&h.l.pa(x),t_(h),K1(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function t_(h){if(h.I=0,h.ja=[],h.l){const x=R1(h.h);(x.length!=0||h.i.length!=0)&&(y(h.ja,x),y(h.ja,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.oa()}}function n_(h,x,E){var D=E instanceof zo?Ps(E):new zo(E);if(D.g!="")x&&(D.g=x+"."+D.g),qc(D,D.u);else{var H=a.location;D=H.protocol,x=x?x+"."+H.hostname:H.hostname,H=+H.port;const K=new zo(null);D&&$c(K,D),x&&(K.g=x),H&&qc(K,H),E&&(K.h=E),D=K}return E=h.G,x=h.wa,E&&x&&It(D,E,x),It(D,"VER",h.ka),Xc(h,D),D}function r_(h,x,E){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new Wt(new Cg({ab:E})):new Wt(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function s_(){}t=s_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vh(){}vh.prototype.g=function(h,x){return new Ir(h,x)};function Ir(h,x){xt.call(this),this.g=new G1(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!I(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!I(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new il(this)}f(Ir,xt),Ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){Tg(this.g)},Ir.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Vn(h),h=E);x.i.push(new M4(x.Ya++,h)),x.I==3&&mh(x)},Ir.prototype.N=function(){this.g.l=null,delete this.j,Tg(this.g),delete this.g,Ir.Z.N.call(this)};function o_(h){kr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const E in x){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}f(o_,kr);function i_(){rr.call(this),this.status=1}f(i_,rr);function il(h){this.g=h}f(il,s_),il.prototype.ra=function(){gt(this.g,"a")},il.prototype.qa=function(h){gt(this.g,new o_(h))},il.prototype.pa=function(h){gt(this.g,new i_)},il.prototype.oa=function(){gt(this.g,"b")},vh.prototype.createWebChannel=vh.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,VR=function(){return new vh},FR=function(){return O()},LR=Yt,Wx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Z.NO_ERROR=0,Z.TIMEOUT=8,Z.HTTP_ERROR=6,If=Z,ke.COMPLETE="complete",OR=ke,jr.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Su=jr,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,MR=Wt}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore",OE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new lb("@firebase/firestore");function pl(){return Wa.logLevel}function Ne(t,...e){if(Wa.logLevel<=rt.DEBUG){const n=e.map(db);Wa.debug(`Firestore (${Ac}): ${t}`,...n)}}function Ro(t,...e){if(Wa.logLevel<=rt.ERROR){const n=e.map(db);Wa.error(`Firestore (${Ac}): ${t}`,...n)}}function hc(t,...e){if(Wa.logLevel<=rt.WARN){const n=e.map(db);Wa.warn(`Firestore (${Ac}): ${t}`,...n)}}function db(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zR(t,r,n)}function zR(t,e,n){let r=`FIRESTORE (${Ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ro(r),new Error(r)}function vt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||zR(e,s,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gn.UNAUTHENTICATED))}shutdown(){}}class QW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XW{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Co;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Co,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Co)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new UR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Gn(e)}}class ZW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Us(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Ne("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=tH(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function Hx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Vv(s)===Vv(o)?st(s,o):Vv(s)?1:-1}return st(t.length,e.length)}const nH=55296,rH=57343;function Vv(t){const e=t.charCodeAt(0);return e>=nH&&e<=rH}function fc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="__name__";class Fs{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Fs.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return st(e.length,n.length)}static compareSegments(e,n){const r=Fs.isNumericId(e),s=Fs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Fs.extractNumericId(e).compare(Fs.extractNumericId(n)):Hx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ni.fromString(e.substring(4,e.length-2))}}class Tt extends Fs{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const sH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends Fs{construct(e,n,r){return new Dn(e,n,r)}static isValidIdentifier(e){return sH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FE}static keyField(){return new Dn([FE])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Se(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Se(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Se(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(o(),s++)}if(o(),a)throw new Se(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Tt.fromString(e))}static fromName(e){return new De(Tt.fromString(e).popFirst(5))}static empty(){return new De(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e,n){if(!n)throw new Se(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oH(t,e,n,r){if(e===!0&&r===!0)throw new Se(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VE(t){if(!De.isDocumentKey(t))throw new Se(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zE(t){if(De.isDocumentKey(t))throw new Se(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $R(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hm(t);throw new Se(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gd(t,e){if(!$R(t))throw new Se(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Se(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=-62135596800,BE=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BE);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UE)throw new Se(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gd(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:sn("string",Rt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Rt(0,0))}static max(){return new $e(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=-1;function iH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Oi(s,De.empty(),e)}function aH(t){return new Oi(t.readTime,t.key,bd)}class Oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oi($e.min(),De.empty(),bd)}static max(){return new Oi($e.max(),De.empty(),bd)}}function lH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==cH)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let s=0,o=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++o,a&&o===s&&n()},c=>r(c))}),a=!0,o===s&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(s=>s?se.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new se((r,s)=>{const o=e.length,a=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===o&&r(a)},d=>s(d))}})}static doWhile(e,n){return new se((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function dH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=-1;function Km(t){return t==null}function Mp(t){return t===0&&1/t==-1/0}function hH(t){return typeof t=="number"&&Number.isInteger(t)&&!Mp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="";function fH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$E(e)),e=pH(t.get(n),e);return $E(e)}function pH(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case qR:n+="";break;default:n+=o}}return n}function $E(t){return t+qR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Pn.RED,this.left=s??Pn.EMPTY,this.right=o??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Pn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WE(this.data.getIterator())}getIteratorFrom(e){return new WE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class WE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new wn(Dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new HR("Invalid base64 string: "+o):o}}(e);return new Fn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const mH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const n=mH.exec(t);if(vt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fi(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="server_timestamp",KR="__type__",YR="__previous_value__",QR="__local_write_time__";function pb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[KR])==null?void 0:r.stringValue)===GR}function Ym(t){const e=t.mapValue.fields[YR];return pb(e)?Ym(e):e}function _d(t){const e=Li(t.mapValue.fields[QR].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n,r,s,o,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Op="(default)";class Sd{constructor(e,n){this.projectId=e,this.database=n||Op}static empty(){return new Sd("","")}get isDefaultDatabase(){return this.database===Op}isEqual(e){return e instanceof Sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="__type__",ZR="__max__",ef={mapValue:{fields:{__type__:{stringValue:ZR}}}},JR="__vector__",Lp="value";function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pb(t)?4:xH(t)?9007199254740991:vH(t)?10:11:ze(28295,{value:t})}function no(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _d(t).isEqual(_d(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=Li(s.timestampValue),l=Li(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Fi(s.bytesValue).isEqual(Fi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Qt(s.geoPointValue.latitude)===Qt(o.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Qt(s.integerValue)===Qt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=Qt(s.doubleValue),l=Qt(o.doubleValue);return a===l?Mp(a)===Mp(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return fc(t.arrayValue.values||[],e.arrayValue.values||[],no);case 10:case 11:return function(s,o){const a=s.mapValue.fields||{},l=o.mapValue.fields||{};if(qE(a)!==qE(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!no(a[c],l[c])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function Cd(t,e){return(t.values||[]).find(n=>no(n,e))!==void 0}function pc(t,e){if(t===e)return 0;const n=Vi(t),r=Vi(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=Qt(o.integerValue||o.doubleValue),c=Qt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return HE(t.timestampValue,e.timestampValue);case 4:return HE(_d(t),_d(e));case 5:return Hx(t.stringValue,e.stringValue);case 6:return function(o,a){const l=Fi(o),c=Fi(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=st(l[u],c[u]);if(d!==0)return d}return st(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=st(Qt(o.latitude),Qt(a.latitude));return l!==0?l:st(Qt(o.longitude),Qt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GE(t.arrayValue,e.arrayValue);case 10:return function(o,a){var p,m,y,w;const l=o.fields||{},c=a.fields||{},u=(p=l[Lp])==null?void 0:p.arrayValue,d=(m=c[Lp])==null?void 0:m.arrayValue,f=st(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((w=d==null?void 0:d.values)==null?void 0:w.length)||0);return f!==0?f:GE(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===ef.mapValue&&a===ef.mapValue)return 0;if(o===ef.mapValue)return 1;if(a===ef.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=Hx(c[f],d[f]);if(p!==0)return p;const m=pc(l[c[f]],u[d[f]]);if(m!==0)return m}return st(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function HE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=Li(t),r=Li(e),s=st(n.seconds,r.seconds);return s!==0?s:st(n.nanos,r.nanos)}function GE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=pc(n[s],r[s]);if(o)return o}return st(n.length,r.length)}function mc(t){return Gx(t)}function Gx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Gx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Gx(n.fields[a])}`;return s+"}"}(t.mapValue):ze(61005,{value:t})}function Pf(t){switch(Vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ym(t);return e?16+Pf(e):16;case 5:return 2*t.stringValue.length;case 6:return Fi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Pf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Yi(r.fields,(o,a)=>{s+=o.length+Pf(a)}),s}(t.mapValue);default:throw ze(13486,{value:t})}}function KE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kx(t){return!!t&&"integerValue"in t}function mb(t){return!!t&&"arrayValue"in t}function YE(t){return!!t&&"nullValue"in t}function QE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Af(t){return!!t&&"mapValue"in t}function vH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XR])==null?void 0:r.stringValue)===JR}function Bu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bu(t.arrayValue.values[n]);return e}return{...t}}function xH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(n)}setAll(e){let n=Dn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Bu(a):s.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return no(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Af(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Yi(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new xr(Bu(this.value))}}function eD(t){const e=[];return Yi(t.fields,(n,r)=>{const s=new Dn([n]);if(Af(r)){const o=eD(r.mapValue).fields;if(o.length===0)e.push(s);else for(const a of o)e.push(s.child(a))}else e.push(s)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,r,s,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Qn(e,0,$e.min(),$e.min(),$e.min(),xr.empty(),0)}static newFoundDocument(e,n,r,s){return new Qn(e,1,n,$e.min(),r,s,0)}static newNoDocument(e,n){return new Qn(e,2,n,$e.min(),$e.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new Qn(e,3,n,$e.min(),$e.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.position=e,this.inclusive=n}}function XE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?r=De.comparator(De.fromName(a.referenceValue),n.key):r=pc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!no(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n="asc"){this.field=e,this.dir=n}}function yH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{}class rn extends tD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bH(e,n,r):n==="array-contains"?new CH(e,r):n==="in"?new EH(e,r):n==="not-in"?new TH(e,r):n==="array-contains-any"?new NH(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _H(e,r):new SH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pc(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(pc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends tD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return nD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nD(t){return t.op==="and"}function rD(t){return wH(t)&&nD(t)}function wH(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function Yx(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+mc(t.value);if(rD(t))return t.filters.map(e=>Yx(e)).join(",");{const e=t.filters.map(n=>Yx(n)).join(",");return`${t.op}(${e})`}}function sD(t,e){return t instanceof rn?function(r,s){return s instanceof rn&&r.op===s.op&&r.field.isEqual(s.field)&&no(r.value,s.value)}(t,e):t instanceof Ns?function(r,s){return s instanceof Ns&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,a,l)=>o&&sD(a,s.filters[l]),!0):!1}(t,e):void ze(19439)}function oD(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${mc(n.value)}`}(t):t instanceof Ns?function(n){return n.op.toString()+" {"+n.getFilters().map(oD).join(" ,")+"}"}(t):"Filter"}class bH extends rn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class _H extends rn{constructor(e,n){super(e,"in",n),this.keys=iD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SH extends rn{constructor(e,n){super(e,"not-in",n),this.keys=iD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class CH extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mb(n)&&Cd(n.arrayValue,this.value)}}class EH extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cd(this.value.arrayValue,n)}}class TH extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cd(this.value.arrayValue,n)}}class NH extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n=null,r=[],s=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=a,this.endAt=l,this.Te=null}}function JE(t,e=null,n=[],r=[],s=null,o=null,a=null){return new jH(t,e,n,r,s,o,a)}function gb(t){const e=We(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Km(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mc(r)).join(",")),e.Te=n}return e.Te}function vb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZE(t.startAt,e.startAt)&&ZE(t.endAt,e.endAt)}function Qx(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n=null,r=[],s=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kH(t,e,n,r,s,o,a,l){return new Mc(t,e,n,r,s,o,a,l)}function Qm(t){return new Mc(t)}function eT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aD(t){return t.collectionGroup!==null}function $u(t){const e=We(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new wn(Dn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ed(o,r))}),n.has(Dn.keyField().canonicalString())||e.Ie.push(new Ed(Dn.keyField(),r))}return e.Ie}function Ks(t){const e=We(t);return e.Ee||(e.Ee=IH(e,$u(t))),e.Ee}function IH(t,e){if(t.limitType==="F")return JE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Ed(s.field,o)});const n=t.endAt?new Fp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fp(t.startAt.position,t.startAt.inclusive):null;return JE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xx(t,e){const n=t.filters.concat([e]);return new Mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zx(t,e,n){return new Mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xm(t,e){return vb(Ks(t),Ks(e))&&t.limitType===e.limitType}function lD(t){return`${gb(Ks(t))}|lt:${t.limitType}`}function ml(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>oD(s)).join(", ")}]`),Km(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>mc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>mc(s)).join(",")),`Target(${r})`}(Ks(t))}; limitType=${t.limitType})`}function Zm(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):De.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of $u(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=XE(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,$u(r),s)||r.endAt&&!function(a,l,c){const u=XE(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,$u(r),s))}(t,e)}function PH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cD(t){return(e,n)=>{let r=!1;for(const s of $u(t)){const o=AH(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function AH(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(o,a,l){const c=a.data.field(o),u=l.data.field(o);return c!==null&&u!==null?pc(c,u):ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return WR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new $t(De.comparator);function Do(){return RH}const uD=new $t(De.comparator);function Cu(...t){let e=uD;for(const n of t)e=e.insert(n.key,n);return e}function dD(t){let e=uD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ba(){return qu()}function hD(){return qu()}function qu(){return new nl(t=>t.toString(),(t,e)=>t.isEqual(e))}const DH=new $t(De.comparator),MH=new wn(De.comparator);function ot(...t){let e=MH;for(const n of t)e=e.add(n);return e}const OH=new wn(st);function LH(){return OH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mp(e)?"-0":e}}function fD(t){return{integerValue:""+t}}function FH(t,e){return hH(e)?fD(e):xb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this._=void 0}}function VH(t,e,n){return t instanceof Vp?function(s,o){const a={fields:{[KR]:{stringValue:GR},[QR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&pb(o)&&(o=Ym(o)),o&&(a.fields[YR]=o),{mapValue:a}}(n,e):t instanceof Td?mD(t,e):t instanceof Nd?gD(t,e):function(s,o){const a=pD(s,o),l=tT(a)+tT(s.Ae);return Kx(a)&&Kx(s.Ae)?fD(l):xb(s.serializer,l)}(t,e)}function zH(t,e,n){return t instanceof Td?mD(t,e):t instanceof Nd?gD(t,e):n}function pD(t,e){return t instanceof zp?function(r){return Kx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Vp extends Jm{}class Td extends Jm{constructor(e){super(),this.elements=e}}function mD(t,e){const n=vD(e);for(const r of t.elements)n.some(s=>no(s,r))||n.push(r);return{arrayValue:{values:n}}}class Nd extends Jm{constructor(e){super(),this.elements=e}}function gD(t,e){let n=vD(e);for(const r of t.elements)n=n.filter(s=>!no(s,r));return{arrayValue:{values:n}}}class zp extends Jm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tT(t){return Qt(t.integerValue||t.doubleValue)}function vD(t){return mb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Td&&s instanceof Td||r instanceof Nd&&s instanceof Nd?fc(r.elements,s.elements,no):r instanceof zp&&s instanceof zp?no(r.Ae,s.Ae):r instanceof Vp&&s instanceof Vp}(t.transform,e.transform)}class BH{constructor(e,n){this.version=e,this.transformResults=n}}class Ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class eg{}function xD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yb(t.key,Ss.none()):new Kd(t.key,t.data,Ss.none());{const n=t.data,r=xr.empty();let s=new wn(Dn.comparator);for(let o of e.fields)if(!s.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),s=s.add(o)}return new Qi(t.key,r,new Or(s.toArray()),Ss.none())}}function $H(t,e,n){t instanceof Kd?function(s,o,a){const l=s.value.clone(),c=rT(s.fieldTransforms,o,a.transformResults);l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Qi?function(s,o,a){if(!Rf(s.precondition,o))return void o.convertToUnknownDocument(a.version);const l=rT(s.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(yD(s)),c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Wu(t,e,n,r){return t instanceof Kd?function(o,a,l,c){if(!Rf(o.precondition,a))return l;const u=o.value.clone(),d=sT(o.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qi?function(o,a,l,c){if(!Rf(o.precondition,a))return l;const u=sT(o.fieldTransforms,c,a),d=a.data;return d.setAll(yD(o)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,l){return Rf(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function qH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=pD(r.transform,s||null);o!=null&&(n===null&&(n=xr.empty()),n.set(r.field,o))}return n||null}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fc(r,s,(o,a)=>UH(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kd extends eg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qi extends eg{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rT(t,e,n){const r=new Map;vt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],a=o.transform,l=e.data.field(o.field);r.set(o.field,zH(a,l,n[s]))}return r}function sT(t,e,n){const r=new Map;for(const s of t){const o=s.transform,a=n.data.field(s.field);r.set(s.field,VH(o,a,e))}return r}class yb extends eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WH extends eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&$H(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hD();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(s.key)?null:l;const c=xD(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,(n,r)=>nT(n,r))&&fc(this.baseMutations,e.baseMutations,(n,r)=>nT(n,r))}}class wb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){vt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return DH}();const o=e.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new wb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,ct;function YH(t){switch(t){case ee.OK:return ze(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function wD(t){if(t===void 0)return Ro("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Jt.OK:return ee.OK;case Jt.CANCELLED:return ee.CANCELLED;case Jt.UNKNOWN:return ee.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ee.INTERNAL;case Jt.UNAVAILABLE:return ee.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ee.NOT_FOUND;case Jt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Jt.ABORTED:return ee.ABORTED;case Jt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Jt.DATA_LOSS:return ee.DATA_LOSS;default:return ze(39323,{code:t})}}(ct=Jt||(Jt={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=new Ni([4294967295,4294967295],0);function oT(t){const e=QH().encode(t),n=new DR;return n.update(e),new Uint8Array(n.digest())}function iT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ni([n,r],0),new Ni([s,o],0)]}class bb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eu(`Invalid padding: ${n}`);if(r<0)throw new Eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ni.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ni.fromNumber(r)));return s.compare(XH)===1&&(s=new Ni([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oT(e),[r,s]=iT(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new bb(o,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=oT(e),[r,s]=iT(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tg($e.min(),s,new $t(st),Do(),ot())}}class Yd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yd(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class bD{constructor(e,n){this.targetId=e,this.Ce=n}}class _D{constructor(e,n,r=Fn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class aT{constructor(){this.ve=0,this.Fe=lT(),this.Me=Fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ze(38017,{changeType:o})}}),new Yd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Do(),this.Je=tf(),this.He=tf(),this.Ye=new $t(st)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Qx(o))if(r===0){const a=new De(o.path);this.et(n,a,Qn.newNoDocument(a,$e.min()))}else vt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=Fi(r).toUint8Array()}catch(c){if(c instanceof HR)return hc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new bb(a,s,o)}catch(c){return hc(c instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const l=this.ot(a);if(l){if(o.current&&Qx(l.target)){const c=new De(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Qn.newNoDocument(c,e))}o.Be&&(n.set(a,o.ke()),o.qe())}});let r=ot();this.He.forEach((o,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const s=new tg(e,n,this.Ye,this.je,r);return this.je=Do(),this.Je=tf(),this.He=tf(),this.Ye=new $t(st),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new aT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new wn(st),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new wn(st),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function tf(){return new $t(De.comparator)}function lT(){return new $t(De.comparator)}const JH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),eG=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tG=(()=>({and:"AND",or:"OR"}))();class nG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jx(t,e){return t.useProto3Json||Km(e)?e:{value:e}}function Up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rG(t,e){return Up(t,e.toTimestamp())}function Ys(t){return vt(!!t,49232),$e.fromTimestamp(function(n){const r=Li(n);return new Rt(r.seconds,r.nanos)}(t))}function _b(t,e){return ey(t,e).canonicalString()}function ey(t,e){const n=function(s){return new Tt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CD(t){const e=Tt.fromString(t);return vt(kD(e),10190,{key:e.toString()}),e}function ty(t,e){return _b(t.databaseId,e.path)}function zv(t,e){const n=CD(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(TD(n))}function ED(t,e){return _b(t.databaseId,e)}function sG(t){const e=CD(t);return e.length===4?Tt.emptyPath():TD(e)}function ny(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TD(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cT(t,e,n){return{name:ty(t,e),fields:n.value.mapValue.fields}}function oG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ze(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(vt(d===void 0||typeof d=="string",58123),Fn.fromBase64String(d||"")):(vt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Fn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?ee.UNKNOWN:wD(u.code);return new Se(d,u.message||"")}(a);n=new _D(r,s,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zv(t,r.document.name),o=Ys(r.document.updateTime),a=r.document.createTime?Ys(r.document.createTime):$e.min(),l=new xr({mapValue:{fields:r.document.fields}}),c=Qn.newFoundDocument(s,o,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Df(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zv(t,r.document),o=r.readTime?Ys(r.readTime):$e.min(),a=Qn.newNoDocument(s,o),l=r.removedTargetIds||[];n=new Df([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zv(t,r.document),o=r.removedTargetIds||[];n=new Df([],o,s,null)}else{if(!("filter"in e))return ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,a=new KH(s,o),l=r.targetId;n=new bD(l,a)}}return n}function iG(t,e){let n;if(e instanceof Kd)n={update:cT(t,e.key,e.value)};else if(e instanceof yb)n={delete:ty(t,e.key)};else if(e instanceof Qi)n={update:cT(t,e.key,e.data),updateMask:mG(e.fieldMask)};else{if(!(e instanceof WH))return ze(16599,{Vt:e.type});n={verify:ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof Vp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Td)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Nd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof zp)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw ze(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:rG(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)}(t,e.precondition)),n}function aG(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map(n=>function(s,o){let a=s.updateTime?Ys(s.updateTime):Ys(o);return a.isEqual($e.min())&&(a=Ys(o)),new BH(a,s.transformResults||[])}(n,e))):[]}function lG(t,e){return{documents:[ED(t,e.path)]}}function cG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ED(t,s);const o=function(u){if(u.length!==0)return jD(Ns.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:gl(p.field),direction:hG(p.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Jx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function uG(t){let e=sG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){vt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const p=ND(f);return p instanceof Ns&&rD(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(y){return new Ed(vl(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Km(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,m=f.values||[];return new Fp(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new Fp(m,p)}(n.endAt)),kH(e,s,a,o,l,"F",c,u)}function dG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ND(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vl(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=vl(n.unaryFilter.field);return rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vl(n.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=vl(n.unaryFilter.field);return rn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return rn.create(vl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ns.create(n.compositeFilter.filters.map(r=>ND(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(n.compositeFilter.op))}(t):ze(30097,{filter:t})}function hG(t){return JH[t]}function fG(t){return eG[t]}function pG(t){return tG[t]}function gl(t){return{fieldPath:t.canonicalString()}}function vl(t){return Dn.fromServerFormat(t.fieldPath)}function jD(t){return t instanceof rn?function(n){if(n.op==="=="){if(QE(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NAN"}};if(YE(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QE(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NAN"}};if(YE(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(n.field),op:fG(n.op),value:n.value}}}(t):t instanceof Ns?function(n){const r=n.getFilters().map(s=>jD(s));return r.length===1?r[0]:{compositeFilter:{op:pG(n.op),filters:r}}}(t):ze(54877,{filter:t})}function mG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,s,o=$e.min(),a=$e.min(),l=Fn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.yt=e}}function vG(t){const e=uG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(){this.Cn=new yG}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Oi.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class yG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wn(Tt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wn(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ID=41943040;class gr{static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(ID,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gc(0)}static cr(){return new gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="LruGarbageCollector",wG=1048576;function hT([t,e],[n,r]){const s=st(t,n);return s===0?st(e,r):s}class bG{constructor(e){this.Ir=e,this.buffer=new wn(hT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _G{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(dT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dc(n)?Ne(dT,"Ignoring IndexedDB error during garbage collection: ",n):await Rc(n)}await this.Vr(3e5)})}}class SG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Gm.ce);const r=new bG(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(uT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),pl()<=rt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:f})))}}function CG(t,e){return new SG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this.changes=new nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wu(r.mutation,s,Or.empty(),Rt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const s=ba();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let a=Cu();return o.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ba();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let o=Do();const a=qu(),l=function(){return qu()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Qi)?o=o.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Wu(d.mutation,u,d.mutation.getFieldMask(),Rt.now())):a.set(u.key,Or.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>l.set(u,new TG(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=qu();let s=new $t((a,l)=>a-l),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Or.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||ot()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=hD();d.forEach(p=>{if(!o.has(p)){const m=xD(n.get(p),r.get(p));m!==null&&f.set(p,m),o=o.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return se.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return De.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):se.resolve(ba());let l=bd,c=o;return a.next(u=>se.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(d)?se.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ot())).next(d=>({batchId:l,changes:dD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let s=Cu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let a=Cu();return this.indexManager.getCollectionParents(e,o).next(l=>se.forEach(l,c=>{const u=function(f,p){return new Mc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(a=>{o.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Qn.newInvalidDocument(d)))});let l=Cu();return a.forEach((c,u)=>{const d=o.get(c);d!==void 0&&Wu(d.mutation,u,Or.empty(),Rt.now()),Zm(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ys(s.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:vG(s.bundledQuery),readTime:Ys(s.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.overlays=new $t(De.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ba();return se.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const s=ba(),o=n.length+1,a=new De(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new $t((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=ba(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=ba(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return se.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new GH(n,r));let o=this.qr.get(n);o===void 0&&(o=ot(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.Qr=new wn(Cn.$r),this.Ur=new wn(Cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Cn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Cn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new De(new Tt([])),r=new Cn(n,e),s=new Cn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Tt([])),r=new Cn(n,e),s=new Cn(n,e+1);let o=ot();return this.Ur.forEachInRange([r,s],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Cn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||st(e.Yr,n.Yr)}static Kr(e,n){return st(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new wn(Cn.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new HH(o,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Cn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return se.resolve(a)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?fb:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Cn(n,0),s=new Cn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);o.push(l)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(st);return n.forEach(s=>{const o=new Cn(s,0),a=new Cn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],l=>{r=r.add(l.Yr)})}),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;De.isDocumentKey(o)||(o=o.child(""));const a=new Cn(new De(o),0);let l=new wn(st);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},a),se.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,s=>{const o=new Cn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Cn(n,0),s=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e){this.ri=e,this.docs=function(){return new $t(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(e,n){let r=Do();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Qn.newInvalidDocument(s))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Do();const a=n.path,l=new De(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||lH(aH(d),r)<=0||(s.has(d.key)||Zm(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,n,r,s){ze(9500)}ii(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RG(this)}getSize(e){return se.resolve(this.size)}}class RG extends EG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e){this.persistence=e,this.si=new nl(n=>gb(n),vb),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new Sb,this.targetCount=0,this.ai=gc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),se.waitFor(o).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gm(0),this.li=!1,this.li=!0,this.hi=new IG,this.referenceDelegate=e(this),this.Pi=new DG(this),this.indexManager=new xG,this.remoteDocumentCache=function(s){return new AG(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new gG(n),this.Ii=new jG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new PG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new MG(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return se.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class MG extends uH{constructor(e){super(),this.currentSequenceNumber=e}}class Cb{constructor(e){this.persistence=e,this.Ri=new Sb,this.Vi=null}static mi(e){return new Cb(e)}get fi(){if(this.Vi)return this.Vi;throw ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,r=>{const s=De.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,$e.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bp{constructor(e,n){this.persistence=e,this.pi=new nl(r=>fH(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=CG(this,n)}static mi(e,n){return new Bp(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return se.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?se.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,o.removeEntry(a,$e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pf(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ot(),s=ot();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Eb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Pq()?8:dH(er())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new OG;return this.Ss(e,n,a).next(l=>{if(o.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(pl()<=rt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(pl()<=rt.DEBUG&&Ne("QueryEngine","Query:",ml(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(pl()<=rt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):se.resolve())}ys(e,n){if(eT(n))return se.resolve(null);let r=Ks(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zx(n,null,"F"),r=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ot(...o);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,Zx(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return eT(n)||s.isEqual($e.min())?se.resolve(null):this.ps.getDocuments(e,r).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,s)?se.resolve(null):(pl()<=rt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ml(n)),this.vs(e,a,n,iH(s,bd)).next(l=>l))})}Ds(e,n){let r=new wn(cD(e));return n.forEach((s,o)=>{Zm(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return pl()<=rt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",ml(n)),this.ps.getDocumentsMatchingQuery(e,n,Oi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LocalStore",FG=3e8;class VG{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new $t(st),this.xs=new nl(o=>gb(o),vb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function zG(t,e,n,r){return new VG(t,e,n,r)}async function AD(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let c=ot();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function UG(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,p=f.keys();let m=se.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(c,y)).next(w=>{const _=u.docVersions.get(y);vt(_!==null,48541),w.version.compareTo(_)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ot();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function RD(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function BG(t,e){const n=We(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Fn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(w,_,S){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=FG?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,m,d)&&l.push(n.Pi.updateTargetData(o,m))});let c=Do(),u=ot();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push($G(o,a,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual($e.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return se.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=s,o))}function $G(t,e,n){let r=ot(),s=ot();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Do();return n.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual($e.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Ne(Tb,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:s}})}function qG(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WG(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,se.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new hi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ry(t,e,n){const r=We(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Dc(a))throw a;Ne(Tb,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function fT(t,e,n){const r=We(t);let s=$e.min(),o=ot();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const f=We(c),p=f.xs.get(d);return p!==void 0?se.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,a,Ks(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:$e.min(),n?o:ot())).next(l=>(HG(r,PH(e),l),{documents:l,Qs:o})))}function HG(t,e,n){let r=t.Os.get(e)||$e.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class pT{constructor(){this.activeTargetIds=LH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GG{constructor(){this.Mo=new pT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="ConnectivityMonitor";class gT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(mT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(mT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function sy(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="RestConnection",YG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Op?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const a=sy(),l=this.zo(e,n.toUriEncodedString());Ne(Uv,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,o);const{host:u}=new URL(l),d=Ic(u);return this.Jo(e,l,c,r,d).then(f=>(Ne(Uv,`Received RPC '${e}' ${a}: `,f),f),f=>{throw hc(Uv,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,o,a){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=YG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class ZG extends QG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const a=sy();return new Promise((l,c)=>{const u=new MR;u.setWithCredentials(!0),u.listenOnce(OR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case If.NO_ERROR:const f=u.getResponseJson();Ne(qn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case If.TIMEOUT:Ne(qn,`RPC '${e}' ${a} timed out`),c(new Se(ee.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const p=u.getStatus();if(Ne(qn,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const w=function(S){const g=S.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(g)>=0?g:ee.UNKNOWN}(y.status);c(new Se(w,y.message))}else c(new Se(ee.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Se(ee.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ne(qn,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);Ne(qn,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=sy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=VR(),l=FR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");Ne(qn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=a.createWebChannel(d,c);this.I_(f);let p=!1,m=!1;const y=new XG({Yo:_=>{m?Ne(qn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(Ne(qn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Ne(qn,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Zo:()=>f.close()}),w=(_,S,g)=>{_.listen(S,b=>{try{g(b)}catch(N){setTimeout(()=>{throw N},0)}})};return w(f,Su.EventType.OPEN,()=>{m||(Ne(qn,`RPC '${e}' stream ${s} transport opened.`),y.o_())}),w(f,Su.EventType.CLOSE,()=>{m||(m=!0,Ne(qn,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(f))}),w(f,Su.EventType.ERROR,_=>{m||(m=!0,hc(qn,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),y.a_(new Se(ee.UNAVAILABLE,"The operation could not be completed")))}),w(f,Su.EventType.MESSAGE,_=>{var S;if(!m){const g=_.data[0];vt(!!g,16349);const b=g,N=(b==null?void 0:b.error)||((S=b[0])==null?void 0:S.error);if(N){Ne(qn,`RPC '${e}' stream ${s} received error:`,N);const R=N.status;let L=function(P){const A=Jt[P];if(A!==void 0)return wD(A)}(R),C=N.message;L===void 0&&(L=ee.INTERNAL,C="Unknown error status: "+R+" with message "+N.message),m=!0,y.a_(new Se(L,C)),f.close()}else Ne(qn,`RPC '${e}' stream ${s} received:`,g),y.u_(g)}}),w(l,LR.STAT_EVENT,_=>{_.stat===Wx.PROXY?Ne(qn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Wx.NOPROXY&&Ne(qn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Bv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t){return new nG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="PersistentStream";class MD{constructor(e,n,r,s,o,a,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Ro(n.toString()),Ro("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Se(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ne(vT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ne(vT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JG extends MD{constructor(e,n,r,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oG(this.serializer,e),r=function(o){if(!("targetChange"in o))return $e.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?$e.min():a.readTime?Ys(a.readTime):$e.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ny(this.serializer),n.addTarget=function(o,a){let l;const c=a.target;if(l=Qx(c)?{documents:lG(o,c)}:{query:cG(o,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=SD(o,a.resumeToken);const u=Jx(o,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo($e.min())>0){l.readTime=Up(o,a.snapshotVersion.toTimestamp());const u=Jx(o,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=dG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ny(this.serializer),n.removeTarget=e,this.q_(n)}}class eK extends MD{constructor(e,n,r,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aG(e.writeResults,e.commitTime),r=Ys(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ny(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iG(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{}class nK extends tK{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Se(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,ey(n,r),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ee.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,ey(n,r),s,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ee.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class rK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ro(n),this.aa=!1):Ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class sK{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{rl(this)&&(Ne(Ha,"Restarting streams for network reachability change."),await async function(c){const u=We(c);u.Ea.add(4),await Qd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await rg(u)}(this))})}),this.Ra=new rK(r,s)}}async function rg(t){if(rl(t))for(const e of t.da)await e(!0)}async function Qd(t){for(const e of t.da)await e(!1)}function OD(t,e){const n=We(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ib(n)?kb(n):Oc(n).O_()&&jb(n,e))}function Nb(t,e){const n=We(t),r=Oc(n);n.Ia.delete(e),r.O_()&&LD(n,e),n.Ia.size===0&&(r.O_()?r.L_():rl(n)&&n.Ra.set("Unknown"))}function jb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oc(t).Y_(e)}function LD(t,e){t.Va.Ue(e),Oc(t).Z_(e)}function kb(t){t.Va=new ZH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.Ra.ua()}function Ib(t){return rl(t)&&!Oc(t).x_()&&t.Ia.size>0}function rl(t){return We(t).Ea.size===0}function FD(t){t.Va=void 0}async function oK(t){t.Ra.set("Online")}async function iK(t){t.Ia.forEach((e,n)=>{jb(t,e)})}async function aK(t,e){FD(t),Ib(t)?(t.Ra.ha(e),kb(t)):t.Ra.set("Unknown")}async function lK(t,e,n){if(t.Ra.set("Online"),e instanceof _D&&e.state===2&&e.cause)try{await async function(s,o){const a=o.cause;for(const l of o.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){Ne(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $p(t,r)}else if(e instanceof Df?t.Va.Ze(e):e instanceof bD?t.Va.st(e):t.Va.tt(e),!n.isEqual($e.min()))try{const r=await RD(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=o.Ia.get(c);if(!d)return;o.Ia.set(c,d.withResumeToken(Fn.EMPTY_BYTE_STRING,d.snapshotVersion)),LD(o,c);const f=new hi(d.target,c,u,d.sequenceNumber);jb(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ne(Ha,"Failed to raise snapshot:",r),await $p(t,r)}}async function $p(t,e,n){if(!Dc(e))throw e;t.Ea.add(1),await Qd(t),t.Ra.set("Offline"),n||(n=()=>RD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne(Ha,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rg(t)})}function VD(t,e){return e().catch(n=>$p(t,n,e))}async function sg(t){const e=We(t),n=zi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fb;for(;cK(e);)try{const s=await qG(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,uK(e,s)}catch(s){await $p(e,s)}zD(e)&&UD(e)}function cK(t){return rl(t)&&t.Ta.length<10}function uK(t,e){t.Ta.push(e);const n=zi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zD(t){return rl(t)&&!zi(t).x_()&&t.Ta.length>0}function UD(t){zi(t).start()}async function dK(t){zi(t).ra()}async function hK(t){const e=zi(t);for(const n of t.Ta)e.ea(n.mutations)}async function fK(t,e,n){const r=t.Ta.shift(),s=wb.from(r,e,n);await VD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await sg(t)}async function pK(t,e){e&&zi(t).X_&&await async function(r,s){if(function(a){return YH(a)&&a!==ee.ABORTED}(s.code)){const o=r.Ta.shift();zi(r).B_(),await VD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await sg(r)}}(t,e),zD(t)&&UD(t)}async function xT(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Ne(Ha,"RemoteStore received new credentials");const r=rl(n);n.Ea.add(3),await Qd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rg(n)}async function mK(t,e){const n=We(t);e?(n.Ea.delete(2),await rg(n)):e||(n.Ea.add(2),await Qd(n),n.Ra.set("Unknown"))}function Oc(t){return t.ma||(t.ma=function(n,r,s){const o=We(n);return o.sa(),new JG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:oK.bind(null,t),t_:iK.bind(null,t),r_:aK.bind(null,t),H_:lK.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ib(t)?kb(t):t.Ra.set("Unknown")):(await t.ma.stop(),FD(t))})),t.ma}function zi(t){return t.fa||(t.fa=function(n,r,s){const o=We(n);return o.sa(),new eK(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dK.bind(null,t),r_:pK.bind(null,t),ta:hK.bind(null,t),na:fK.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await sg(t)):(await t.fa.stop(),t.Ta.length>0&&(Ne(Ha,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const a=Date.now()+r,l=new Pb(e,n,a,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ab(t,e){if(Ro("AsyncQueue",`${e}: ${t}`),Dc(t))return new Se(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static emptySet(e){return new Hl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.ga=new $t(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class vc{constructor(e,n,r,s,o,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new vc(e,n,Hl.emptySet(n),a,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class vK{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=We(n),o=s.queries;s.queries=wT(),o.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Se(ee.ABORTED,"Firestore shutting down"))}}function wT(){return new nl(t=>lD(t),Xm)}async function Rb(t,e){const n=We(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new gK,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Ab(a,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Mb(n)}async function Db(t,e){const n=We(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xK(t,e){const n=We(t);let r=!1;for(const s of e){const o=s.query,a=n.queries.get(o);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&Mb(n)}function yK(t,e,n){const r=We(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Mb(t){t.Ca.forEach(e=>{e.next()})}var oy,bT;(bT=oy||(oy={})).Ma="default",bT.Cache="cache";class Ob{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==oy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.key=e}}class $D{constructor(e){this.key=e}}class wK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=cD(e),this.tu=new Hl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yT,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=Zm(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),_=!0):this.su(p,m)||(r.track({type:2,doc:m}),_=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),_=!0):p&&!m&&(r.track({type:1,doc:p}),_=!0,(c||u)&&(l=!0)),_&&(m?(a=a.add(m),o=w?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,f)=>function(m,y){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Rt:_})}};return w(m)-w(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new vc(this.query,e.tu,o,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new $D(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new BD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lb="SyncEngine";class bK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _K{constructor(e){this.key=e,this.hu=!1}}class SK{constructor(e,n,r,s,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new nl(l=>lD(l),Xm),this.Iu=new Map,this.Eu=new Set,this.du=new $t(De.comparator),this.Au=new Map,this.Ru=new Sb,this.Vu={},this.mu=new Map,this.fu=gc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CK(t,e,n=!0){const r=YD(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await qD(r,e,n,!0),s}async function EK(t,e){const n=YD(t);await qD(n,e,!0,!1)}async function qD(t,e,n,r){const s=await WG(t.localStore,Ks(e)),o=s.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await TK(t,e,o,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&OD(t.remoteStore,s),l}async function TK(t,e,n,r,s){t.pu=(f,p,m)=>async function(w,_,S,g){let b=_.view.ru(S);b.Cs&&(b=await fT(w.localStore,_.query,!1).then(({documents:C})=>_.view.ru(C,b)));const N=g&&g.targetChanges.get(_.targetId),R=g&&g.targetMismatches.get(_.targetId)!=null,L=_.view.applyChanges(b,w.isPrimaryClient,N,R);return ST(w,_.targetId,L.au),L.snapshot}(t,f,p,m);const o=await fT(t.localStore,e,!0),a=new wK(e,o.Qs),l=a.ru(o.documents),c=Yd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);ST(t,n,u.au);const d=new bK(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function NK(t,e,n){const r=We(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(a=>!Xm(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ry(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Nb(r.remoteStore,s.targetId),iy(r,s.targetId)}).catch(Rc)):(iy(r,s.targetId),await ry(r.localStore,s.targetId,!0))}async function jK(t,e){const n=We(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nb(n.remoteStore,r.targetId))}async function kK(t,e,n){const r=OK(t);try{const s=await function(a,l){const c=We(a),u=Rt.now(),d=l.reduce((m,y)=>m.add(y.key),ot());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Do(),w=ot();return c.Ns.getEntries(m,d).next(_=>{y=_,y.forEach((S,g)=>{g.isValidDocument()||(w=w.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(_=>{f=_;const S=[];for(const g of l){const b=qH(g,f.get(g.key).overlayedDocument);b!=null&&S.push(new Qi(g.key,b,eD(b.value.mapValue),Ss.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,S,l)}).next(_=>{p=_;const S=_.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(m,_.batchId,S)})}).then(()=>({batchId:p.batchId,changes:dD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new $t(st)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(r,s.batchId,n),await Xd(r,s.changes),await sg(r.remoteStore)}catch(s){const o=Ab(s,"Failed to persist write");n.reject(o)}}async function WD(t,e){const n=We(t);try{const r=await BG(n.localStore,e);e.targetChanges.forEach((s,o)=>{const a=n.Au.get(o);a&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?vt(a.hu,14607):s.removedDocuments.size>0&&(vt(a.hu,42227),a.hu=!1))}),await Xd(n,r,e)}catch(r){await Rc(r)}}function _T(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=We(a);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(l)&&(u=!0)}),u&&Mb(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IK(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let a=new $t(De.comparator);a=a.insert(o,Qn.newNoDocument(o,$e.min()));const l=ot().add(o),c=new tg($e.min(),new Map,new $t(st),a,l);await WD(r,c),r.du=r.du.remove(o),r.Au.delete(e),Fb(r)}else await ry(r.localStore,e,!1).then(()=>iy(r,e,n)).catch(Rc)}async function PK(t,e){const n=We(t),r=e.batch.batchId;try{const s=await UG(n.localStore,e);GD(n,r,null),HD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xd(n,s)}catch(s){await Rc(s)}}async function AK(t,e,n){const r=We(t);try{const s=await function(a,l){const c=We(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(vt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);GD(r,e,n),HD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xd(r,s)}catch(s){await Rc(s)}}function HD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function GD(t,e,n){const r=We(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function iy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||KD(t,r)})}function KD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Nb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Fb(t))}function ST(t,e,n){for(const r of n)r instanceof BD?(t.Ru.addReference(r.key,e),RK(t,r)):r instanceof $D?(Ne(Lb,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||KD(t,r.key)):ze(19791,{wu:r})}function RK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ne(Lb,"New document in limbo: "+n),t.Eu.add(r),Fb(t))}function Fb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Tt.fromString(e)),r=t.fu.next();t.Au.set(r,new _K(n)),t.du=t.du.insert(n,r),OD(t.remoteStore,new hi(Ks(Qm(n.path)),r,"TargetPurposeLimboResolution",Gm.ce))}}async function Xd(t,e,n){const r=We(t),s=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Eb.As(c.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(c,u){const d=We(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>se.forEach(u,p=>se.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>se.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Dc(f))throw f;Ne(Tb,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=d.Ms.get(p),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(p,w)}}}(r.localStore,o))}async function DK(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Ne(Lb,"User change. New user:",e.toKey());const r=await AD(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(l=>{l.forEach(c=>{c.reject(new Se(ee.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xd(n,r.Ls)}}function MK(t,e){const n=We(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let s=ot();const o=n.Iu.get(e);if(!o)return s;for(const a of o){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function YD(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IK.bind(null,e),e.Pu.H_=xK.bind(null,e.eventManager),e.Pu.yu=yK.bind(null,e.eventManager),e}function OK(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AK.bind(null,e),e}class qp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ng(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zG(this.persistence,new LG,e.initialUser,this.serializer)}Cu(e){return new PD(Cb.mi,this.serializer)}Du(e){return new GG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qp.provider={build:()=>new qp};class LK extends qp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof Bp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _G(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new PD(r=>Bp.mi(r,n),this.serializer)}}class ay{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DK.bind(null,this.syncEngine),await mK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vK}()}createDatastore(e){const n=ng(e.databaseInfo.databaseId),r=function(o){return new ZG(o)}(e.databaseInfo);return function(o,a,l,c){return new nK(o,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,a,l){return new sK(r,s,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>_T(this.syncEngine,n,0),function(){return gT.v()?new gT:new KG}())}createSyncEngine(e,n){return function(s,o,a,l,c,u,d){const f=new SK(s,o,a,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=We(s);Ne(Ha,"RemoteStore shutting down."),o.Ea.add(5),await Qd(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ay.provider={build:()=>new ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ro("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="FirestoreClient";class FK{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Gn.UNAUTHENTICATED,this.clientId=hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Ne(Ui,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ne(Ui,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ab(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $v(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(Ui,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await AD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VK(t);Ne(Ui,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>xT(e.remoteStore,s)),t._onlineComponents=e}async function VK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(Ui,"Using user provided OfflineComponentProvider");try{await $v(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;hc("Error using user provided cache. Falling back to memory cache: "+n),await $v(t,new qp)}}else Ne(Ui,"Using default OfflineComponentProvider"),await $v(t,new LK(void 0));return t._offlineComponents}async function QD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(Ui,"Using user provided OnlineComponentProvider"),await CT(t,t._uninitializedComponentsProvider._online)):(Ne(Ui,"Using default OnlineComponentProvider"),await CT(t,new ay))),t._onlineComponents}function zK(t){return QD(t).then(e=>e.syncEngine)}async function Wp(t){const e=await QD(t),n=e.eventManager;return n.onListen=CK.bind(null,e.syncEngine),n.onUnlisten=NK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jK.bind(null,e.syncEngine),n}function UK(t,e,n={}){const r=new Co;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,u){const d=new Vb({next:p=>{d.Nu(),a.enqueueAndForget(()=>Db(o,f));const m=p.docs.has(l);!m&&p.fromCache?u.reject(new Se(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?u.reject(new Se(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Ob(Qm(l.path),d,{includeMetadataChanges:!0,qa:!0});return Rb(o,f)}(await Wp(t),t.asyncQueue,e,n,r)),r.promise}function BK(t,e,n={}){const r=new Co;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,u){const d=new Vb({next:p=>{d.Nu(),a.enqueueAndForget(()=>Db(o,f)),p.fromCache&&c.source==="server"?u.reject(new Se(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Ob(l,d,{includeMetadataChanges:!0,qa:!0});return Rb(o,f)}(await Wp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="firestore.googleapis.com",TT=!0;class NT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZD,this.ssl=TT}else this.host=e.host,this.ssl=e.ssl??TT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ID;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wG)throw new Se(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YW;switch(r.type){case"firstParty":return new JW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ET.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),ET.delete(n),r.terminate())}(this),Promise.resolve()}}function $K(t,e,n,r={}){var u;t=rs(t,og);const s=Ic(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(TR(`https://${l}`),NR("Firestore",!0)),o.host!==ZD&&o.host!==l&&hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:s,emulatorOptions:r};if(!$a(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Gn.MOCK_USER;else{d=_q(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Se(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Gn(p)}t._authCredentials=new QW(new UR(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gd(n,Zt._jsonSchema))return new Zt(e,r||null,new De(Tt.fromString(n.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:sn("string",Zt._jsonSchemaVersion),referencePath:sn("string")};class ji extends Xi{constructor(e,n,r){super(e,n,Qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new De(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function ia(t,e,...n){if(t=tr(t),BR("collection","path",e),t instanceof og){const r=Tt.fromString(e,...n);return zE(r),new ji(t,null,r)}{if(!(t instanceof Zt||t instanceof ji))throw new Se(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return zE(r),new ji(t.firestore,null,r)}}function Mf(t,e,...n){if(t=tr(t),arguments.length===1&&(e=hb.newId()),BR("doc","path",e),t instanceof og){const r=Tt.fromString(e,...n);return VE(r),new Zt(t,null,new De(r))}{if(!(t instanceof Zt||t instanceof ji))throw new Se(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return VE(r),new Zt(t.firestore,t instanceof ji?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DD(this,"async_queue_retry"),this._c=()=>{const r=Bv();r&&Ne(jT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Bv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Co;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dc(e))throw e;Ne(jT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ro("INTERNAL UNHANDLED ERROR: ",IT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Pb.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&ze(47125,{Pc:IT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function IT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Bi extends og{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new kT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function qK(t,e){const n=typeof t=="object"?t:PR(),r=typeof t=="string"?t:e||Op,s=ub(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=wq("firestore");o&&$K(s,...o)}return s}function ig(t){if(t._terminated)throw new Se(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WK(t),t._firestoreClient}function WK(t){var r,s,o;const e=t._freezeSettings(),n=function(l,c,u,d){return new gH(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,XD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xr(Fn.fromBase64String(e))}catch(n){throw new Se(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xr(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gd(e,Xr._jsonSchema))return Xr.fromBase64String(e.bytes)}}Xr._jsonSchemaVersion="firestore/bytes/1.0",Xr._jsonSchema={type:sn("string",Xr._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qs._jsonSchemaVersion}}static fromJSON(e){if(Gd(e,Qs._jsonSchema))return new Qs(e.latitude,e.longitude)}}Qs._jsonSchemaVersion="firestore/geoPoint/1.0",Qs._jsonSchema={type:sn("string",Qs._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gd(e,Xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Xs(e.vectorValues);throw new Se(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xs._jsonSchemaVersion="firestore/vectorValue/1.0",Xs._jsonSchema={type:sn("string",Xs._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HK=/^__.*__$/;class GK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kd(e,this.data,n,this.fieldTransforms)}}class JD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ac:t})}}class Ub{constructor(e,n,r,s,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ub({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eM(this.Ac)&&HK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ng(e)}Cc(e,n,r,s=!1){return new Ub({Ac:e,methodName:n,Dc:r,path:Dn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bb(t){const e=t._freezeSettings(),n=ng(t._databaseId);return new KK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YK(t,e,n,r,s,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);$b("Data must be an object, but it was:",a,r);const l=tM(r,a);let c,u;if(o.merge)c=new Or(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const p=ly(e,f,n);if(!a.contains(p))throw new Se(ee.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);rM(d,p)||d.push(p)}c=new Or(d),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new GK(new xr(l),c,u)}class lg extends zb{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lg}}function QK(t,e,n,r){const s=t.Cc(1,e,n);$b("Data must be an object, but it was:",s,r);const o=[],a=xr.empty();Yi(r,(c,u)=>{const d=qb(e,c,n);u=tr(u);const f=s.yc(d);if(u instanceof lg)o.push(d);else{const p=Zd(u,f);p!=null&&(o.push(d),a.set(d,p))}});const l=new Or(o);return new JD(a,l,s.fieldTransforms)}function XK(t,e,n,r,s,o){const a=t.Cc(1,e,n),l=[ly(e,r,n)],c=[s];if(o.length%2!=0)throw new Se(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)l.push(ly(e,o[p])),c.push(o[p+1]);const u=[],d=xr.empty();for(let p=l.length-1;p>=0;--p)if(!rM(u,l[p])){const m=l[p];let y=c[p];y=tr(y);const w=a.yc(m);if(y instanceof lg)u.push(m);else{const _=Zd(y,w);_!=null&&(u.push(m),d.set(m,_))}}const f=new Or(u);return new JD(d,f,a.fieldTransforms)}function ZK(t,e,n,r=!1){return Zd(n,t.Cc(r?4:3,e))}function Zd(t,e){if(nM(t=tr(t)))return $b("Unsupported field value:",e,t),tM(t,e);if(t instanceof zb)return function(r,s){if(!eM(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let a=0;for(const l of r){let c=Zd(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=tr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:Up(s.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Up(s.serializer,o)}}if(r instanceof Qs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xr)return{bytesValue:SD(s.serializer,r._byteString)};if(r instanceof Zt){const o=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_b(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Xs)return function(a,l){return{mapValue:{fields:{[XR]:{stringValue:JR},[Lp]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return xb(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Hm(r)}`)}(t,e)}function tM(t,e){const n={};return WR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(r,s)=>{const o=Zd(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Qs||t instanceof Xr||t instanceof Zt||t instanceof zb||t instanceof Xs)}function $b(t,e,n){if(!nM(n)||!$R(n)){const r=Hm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ly(t,e,n){if((e=tr(e))instanceof ag)return e._internalPath;if(typeof e=="string")return qb(t,e);throw Hp("Field path arguments must be of type string or ",t,!1,void 0,n)}const JK=new RegExp("[~\\*/\\[\\]]");function qb(t,e,n){if(e.search(JK)>=0)throw Hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw Hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hp(t,e,n,r,s){const o=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Se(ee.INVALID_ARGUMENT,l+t+c)}function rM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eY extends sM{data(){return super.data()}}function Wb(t,e){return typeof e=="string"?qb(t,e):e instanceof ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hb{}class iM extends Hb{}function qv(t,e,...n){let r=[];e instanceof Hb&&r.push(e),r=r.concat(n),function(o){const a=o.filter(c=>c instanceof Kb).length,l=o.filter(c=>c instanceof Gb).length;if(a>1||a>0&&l>0)throw new Se(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Gb extends iM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gb(e,n,r)}_apply(e){const n=this._parse(e);return aM(e._query,n),new Xi(e.firestore,e.converter,Xx(e._query,n))}_parse(e){const n=Bb(e.firestore);return function(o,a,l,c,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Se(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){DT(f,d);const y=[];for(const w of f)y.push(RT(c,o,w));p={arrayValue:{values:y}}}else p=RT(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||DT(f,d),p=ZK(l,a,f,d==="in"||d==="not-in");return rn.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Kb extends Hb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let a=s;const l=o.getFlattenedFilters();for(const c of l)aM(a,c),a=Xx(a,c)}(e._query,n),new Xi(e.firestore,e.converter,Xx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yb extends iM{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yb(e,n)}_apply(e){const n=function(s,o,a){if(s.startAt!==null)throw new Se(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Se(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ed(o,a)}(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,function(s,o){const a=s.explicitOrderBy.concat([o]);return new Mc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function AT(t,e="asc"){const n=e,r=Wb("orderBy",t);return Yb._create(r,n)}function RT(t,e,n){if(typeof(n=tr(n))=="string"){if(n==="")throw new Se(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aD(e)&&n.indexOf("/")!==-1)throw new Se(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!De.isDocumentKey(r))throw new Se(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KE(t,new De(r))}if(n instanceof Zt)return KE(t,n._key);throw new Se(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(n)}.`)}function DT(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aM(t,e){const n=function(s,o){for(const a of s)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tY{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yi(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Lp].arrayValue)==null?void 0:s.values)==null?void 0:o.map(a=>Qt(a.doubleValue));return new Xs(n)}convertGeoPoint(e){return new Qs(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ym(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_d(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);vt(kD(r),9688,{name:e});const s=new Sd(r.get(1),r.get(3)),o=new De(r.popFirst(5));return s.isEqual(n)||Ro(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends sM{constructor(e,n,r,s,o,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",ja._jsonSchema={type:sn("string",ja._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class Of extends ja{data(e={}){return super.data(e)}}class ka{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Tu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Of(this._firestore,this._userDataWriter,r.key,r,new Tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Of(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Tu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new Of(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Tu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:rY(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(t){t=rs(t,Zt);const e=rs(t.firestore,Bi);return UK(ig(e),t._key).then(n=>lM(e,t,n))}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:sn("string",ka._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class Qb extends tY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function Wv(t){t=rs(t,Xi);const e=rs(t.firestore,Bi),n=ig(e),r=new Qb(e);return oM(t._query),BK(n,t._query).then(s=>new ka(e,r,t,s))}function oY(t,e,n,...r){t=rs(t,Zt);const s=rs(t.firestore,Bi),o=Bb(s);let a;return a=typeof(e=tr(e))=="string"||e instanceof ag?XK(o,"updateDoc",t._key,e,n,r):QK(o,"updateDoc",t._key,e),Xb(s,[a.toMutation(t._key,Ss.exists(!0))])}function iY(t){return Xb(rs(t.firestore,Bi),[new yb(t._key,Ss.none())])}function aY(t,e){const n=rs(t.firestore,Bi),r=Mf(t),s=nY(t.converter,e);return Xb(n,[YK(Bb(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ss.exists(!1))]).then(()=>r)}function Hv(t,...e){var c,u,d;t=tr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||PT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PT(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let o,a,l;if(t instanceof Zt)a=rs(t.firestore,Bi),l=Qm(t._key.path),o={next:f=>{e[r]&&e[r](lM(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=rs(t,Xi);a=rs(f.firestore,Bi),l=f._query;const p=new Qb(a);o={next:m=>{e[r]&&e[r](new ka(a,p,f,m))},error:e[r+1],complete:e[r+2]},oM(t._query)}return function(p,m,y,w){const _=new Vb(w),S=new Ob(m,_,y);return p.asyncQueue.enqueueAndForget(async()=>Rb(await Wp(p),S)),()=>{_.Nu(),p.asyncQueue.enqueueAndForget(async()=>Db(await Wp(p),S))}}(ig(a),l,s,o)}function Xb(t,e){return function(r,s){const o=new Co;return r.asyncQueue.enqueueAndForget(async()=>kK(await zK(r),s,o)),o.promise}(ig(t),e)}function lM(t,e,n){const r=n.docs.get(e._key),s=new Qb(t);return new ja(t,s,e._key,r,new Tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ac=s})(Pc),dc(new qa("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Bi(new XW(r.getProvider("auth-internal")),new eH(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Se(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(u.options.projectId,d)}(a,s),a);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Ti(ME,OE,e),Ti(ME,OE,"esm2020")})();var lY="firebase",cY="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(lY,cY,"app");function cM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uY=cM,uM=new Wd("auth","Firebase",cM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new lb("@firebase/auth");function dY(t,...e){Gp.logLevel<=rt.WARN&&Gp.warn(`Auth (${Pc}): ${t}`,...e)}function Lf(t,...e){Gp.logLevel<=rt.ERROR&&Gp.error(`Auth (${Pc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t,...e){throw Zb(t,...e)}function Zs(t,...e){return Zb(t,...e)}function dM(t,e,n){const r={...uY(),[e]:n};return new Wd("auth","Firebase",r).create(e,{appName:t.name})}function Ia(t){return dM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uM.create(t,...e)}function Be(t,e,...n){if(!t)throw Zb(e,...n)}function vo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function Oo(t,e){t||vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function hY(){return MT()==="http:"||MT()==="https:"}function MT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hY()||jq()||"connection"in navigator)?navigator.onLine:!0}function pY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oo(n>e,"Short delay should be less than long delay!"),this.isMobile=Eq()||kq()}get(){return fY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e){Oo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vY=new Jd(3e4,6e4);function e1(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Lc(t,e,n,r,s={}){return fM(t,s,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=Hd({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...o};return Nq()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ic(t.emulatorConfig.host)&&(u.credentials="include"),hM.fetch()(await pM(t,t.config.apiHost,n,l),u)})}async function fM(t,e,n){t._canInitEmulator=!1;const r={...mY,...e};try{const s=new yY(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw rf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw rf(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw rf(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dM(t,d,u);Mo(t,d)}}catch(s){if(s instanceof Vo)throw s;Mo(t,"network-request-failed",{message:String(s)})}}async function xY(t,e,n,r,s={}){const o=await Lc(t,e,n,r,s);return"mfaPendingCredential"in o&&Mo(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function pM(t,e,n,r){const s=`${e}${n}?${r}`,o=t,a=o.config.emulator?Jb(t.config,s):`${t.config.apiScheme}://${s}`;return gY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}class yY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zs(this.auth,"network-request-failed")),vY.get())})}}function rf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Zs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wY(t,e){return Lc(t,"POST","/v1/accounts:delete",e)}async function Kp(t,e){return Lc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bY(t,e=!1){const n=tr(t),r=await n.getIdToken(e),s=t1(r);Be(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Hu(Gv(s.auth_time)),issuedAtTime:Hu(Gv(s.iat)),expirationTime:Hu(Gv(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Gv(t){return Number(t)*1e3}function t1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const s=_R(n);return s?JSON.parse(s):(Lf("Failed to decode base64 JWT payload"),null)}catch(s){return Lf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function OT(t){const e=t1(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vo&&_Y(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _Y({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await jd(t,Kp(e,{idToken:n}));Be(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(f=s.providerUserInfo)!=null&&f.length?mM(s.providerUserInfo):[],a=EY(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uy(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function CY(t){const e=tr(t);await Yp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EY(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TY(t,e){const n=await fM(t,{},async()=>{const r=Hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=await pM(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ic(t.emulatorConfig.host)&&(c.credentials="include"),hM.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NY(t,e){return Lc(t,"POST","/v2/accounts:revokeToken",e1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=OT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await TY(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,a=new Gl;return r&&(Be(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Be(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(Be(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xs{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new SY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jd(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bY(this,e)}reload(){return CY(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Us(this.auth.app))return Promise.reject(Ia(this.auth));const e=await this.getIdToken();return await jd(this,wY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:y,stsTokenManager:w}=n;Be(f&&w,e,"internal-error");const _=Gl.fromJSON(this.name,w);Be(typeof f=="string",e,"internal-error"),Go(r,e.name),Go(s,e.name),Be(typeof p=="boolean",e,"internal-error"),Be(typeof m=="boolean",e,"internal-error"),Go(o,e.name),Go(a,e.name),Go(l,e.name),Go(c,e.name),Go(u,e.name),Go(d,e.name);const S=new xs({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:a,phoneNumber:o,tenantId:l,stsTokenManager:_,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(S.providerData=y.map(g=>({...g}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new Gl;s.updateFromServerResponse(n);const o=new xs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Be(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?mM(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),l=new Gl;l.updateFromIdToken(r);const c=new xs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new uy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;function xo(t){Oo(t instanceof Function,"Expected a class definition");let e=LT.get(t);return e?(Oo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gM.type="NONE";const FT=gM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t,e,n){return`firebase:${t}:${e}:${n}`}class Kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Ff(this.userKey,s.apiKey,o),this.fullPersistenceKey=Ff("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kp(this.auth,{idToken:e}).catch(()=>{});return n?xs._fromGetAccountInfoResponse(this.auth,n,e):null}return xs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kl(xo(FT),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||xo(FT);const a=Ff(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const p=await Kp(e,{idToken:d}).catch(()=>{});if(!p)break;f=await xs._fromGetAccountInfoResponse(e,p,d)}else f=xs._fromJSON(e,d);u!==o&&(l=f),o=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Kl(o,e,r):(o=c[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Kl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_M(e))return"Blackberry";if(SM(e))return"Webos";if(xM(e))return"Safari";if((e.includes("chrome/")||yM(e))&&!e.includes("edge/"))return"Chrome";if(bM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vM(t=er()){return/firefox\//i.test(t)}function xM(t=er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yM(t=er()){return/crios\//i.test(t)}function wM(t=er()){return/iemobile/i.test(t)}function bM(t=er()){return/android/i.test(t)}function _M(t=er()){return/blackberry/i.test(t)}function SM(t=er()){return/webos/i.test(t)}function n1(t=er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jY(t=er()){var e;return n1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function kY(){return Iq()&&document.documentMode===10}function CM(t=er()){return n1(t)||bM(t)||SM(t)||_M(t)||/windows phone/i.test(t)||wM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t,e=[]){let n;switch(t){case"Browser":n=VT(er());break;case"Worker":n=`${VT(er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const c=e(o);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PY(t,e={}){return Lc(t,"GET","/v2/passwordPolicy",e1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY=6;class RY{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zT(this),this.idTokenSubscription=new zT(this),this.beforeStateQueue=new IY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xo(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kp(this,{idToken:e}),r=await xs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Us(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Us(this.app))return Promise.reject(Ia(this));const n=e?tr(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Us(this.app)?Promise.reject(Ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Us(this.app)?Promise.reject(Ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PY(this),n=new RY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xo(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[xo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Us(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&dY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function r1(t){return tr(t)}class zT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fq(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MY(t){s1=t}function OY(t){return s1.loadJS(t)}function LY(){return s1.gapiScript}function FY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(t,e){const n=ub(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if($a(o,e??{}))return s;Mo(s,"already-initialized")}return n.initialize({options:e})}function zY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UY(t,e,n){const r=r1(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=TM(e),{host:a,port:l}=BY(e),c=l===null?"":`:${l}`,u={url:`${o}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be($a(u,r.config.emulator)&&$a(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ic(a)?(TR(`${o}//${a}${c}`),NR("Auth",!0)):s||$Y()}function TM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BY(t){const e=TM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:UT(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:UT(a)}}}function UT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $Y(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vo("not implemented")}_getIdTokenResponse(e){return vo("not implemented")}_linkToIdToken(e,n){return vo("not implemented")}_getReauthenticationResolver(e){return vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e){return xY(t,"POST","/v1/accounts:signInWithIdp",e1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY="http://localhost";class Ga extends NM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const a=new Ga(r,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yl(e,n)}buildRequest(){const e={requestUri:qY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends jM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends eh{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends eh{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends eh{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await xs._fromIdTokenResponse(e,r,s),a=BT(r);return new xc({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=BT(r);return new xc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function BT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Vo{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Qp(e,n,r,s)}}function kM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Qp._fromErrorAndOperation(t,o,e,r):o})}async function WY(t,e,n=!1){const r=await jd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HY(t,e,n=!1){const{auth:r}=t;if(Us(r.app))return Promise.reject(Ia(r));const s="reauthenticate";try{const o=await jd(t,kM(r,s,e,t),n);Be(o.idToken,r,"internal-error");const a=t1(o.idToken);Be(a,r,"internal-error");const{sub:l}=a;return Be(t.uid===l,r,"user-mismatch"),xc._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Mo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GY(t,e,n=!1){if(Us(t.app))return Promise.reject(Ia(t));const r="signIn",s=await kM(t,r,e),o=await xc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}function KY(t,e,n,r){return tr(t).onIdTokenChanged(e,n,r)}function YY(t,e,n){return tr(t).beforeAuthStateChanged(e,n)}const Xp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xp,"1"),this.storage.removeItem(Xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=1e3,XY=10;class PM extends IM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);kY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,XY):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PM.type="LOCAL";const ZY=PM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM extends IM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AM.type="SESSION";const RM=AM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,o)),c=await JY(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=o1("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(p.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(){return window}function tQ(t){Js().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){return typeof Js().WorkerGlobalScope<"u"&&typeof Js().importScripts=="function"}async function nQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function sQ(){return DM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="firebaseLocalStorageDb",oQ=1,Zp="firebaseLocalStorage",OM="fbase_key";class th{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ug(t,e){return t.transaction([Zp],e?"readwrite":"readonly").objectStore(Zp)}function iQ(){const t=indexedDB.deleteDatabase(MM);return new th(t).toPromise()}function dy(){const t=indexedDB.open(MM,oQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zp,{keyPath:OM})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zp)?e(r):(r.close(),await iQ(),e(await dy()))})})}async function $T(t,e,n){const r=ug(t,!0).put({[OM]:e,value:n});return new th(r).toPromise()}async function aQ(t,e){const n=ug(t,!1).get(e),r=await new th(n).toPromise();return r===void 0?null:r.value}function qT(t,e){const n=ug(t,!0).delete(e);return new th(n).toPromise()}const lQ=800,cQ=3;class LM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cg._getInstance(sQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await nQ(),!this.activeServiceWorker)return;this.sender=new eQ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dy();return await $T(e,Xp,"1"),await qT(e,Xp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$T(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=ug(s,!1).getAll();return new th(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LM.type="LOCAL";const uQ=LM;new Jd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(t,e){return e?xo(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends NM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hQ(t){return GY(t.auth,new i1(t),t.bypassAuthState)}function fQ(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),HY(n,new i1(t),t.bypassAuthState)}async function pQ(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),WY(n,new i1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hQ;case"linkViaPopup":case"linkViaRedirect":return pQ;case"reauthViaPopup":case"reauthViaRedirect":return fQ;default:Mo(this.auth,"internal-error")}}resolve(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mQ=new Jd(2e3,1e4);class Dl extends FM{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Oo(this.filter.length===1,"Popup operations only handle one event");const e=o1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mQ.get())};e()}}Dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ="pendingRedirect",Vf=new Map;class vQ extends FM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vf.get(this.auth._key());if(!e){try{const r=await xQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vf.set(this.auth._key(),e)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xQ(t,e){const n=bQ(e),r=wQ(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function yQ(t,e){Vf.set(t._key(),e)}function wQ(t){return xo(t._redirectPersistence)}function bQ(t){return Ff(gQ,t.config.apiKey,t.name)}async function _Q(t,e,n=!1){if(Us(t.app))return Promise.reject(Ia(t));const r=r1(t),s=dQ(r,e),a=await new vQ(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ=10*60*1e3;class CQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VM(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(WT(e))}saveEventToCache(e){this.cachedEventUids.add(WT(e)),this.lastProcessedEventTime=Date.now()}}function WT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TQ(t,e={}){return Lc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jQ=/^https?/;async function kQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TQ(t);for(const n of e)try{if(IQ(n))return}catch{}Mo(t,"unauthorized-domain")}function IQ(t){const e=cy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!jQ.test(n))return!1;if(NQ.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ=new Jd(3e4,6e4);function HT(){const t=Js().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AQ(t){return new Promise((e,n)=>{var s,o,a;function r(){HT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HT(),n(Zs(t,"network-request-failed"))},timeout:PQ.get()})}if((o=(s=Js().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Js().gapi)!=null&&a.load)r();else{const l=FY("iframefcb");return Js()[l]=()=>{gapi.load?r():n(Zs(t,"network-request-failed"))},OY(`${LY()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw zf=null,e})}let zf=null;function RQ(t){return zf=zf||AQ(t),zf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ=new Jd(5e3,15e3),MQ="__/auth/iframe",OQ="emulator/auth/iframe",LQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VQ(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jb(e,OQ):`https://${t.config.authDomain}/${MQ}`,r={apiKey:e.apiKey,appName:t.name,v:Pc},s=FQ.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Hd(r).slice(1)}`}async function zQ(t){const e=await RQ(t),n=Js().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:VQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LQ,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const a=Zs(t,"network-request-failed"),l=Js().setTimeout(()=>{o(a)},DQ.get());function c(){Js().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BQ=500,$Q=600,qQ="_blank",WQ="http://localhost";class GT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HQ(t,e,n,r=BQ,s=$Q){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...UQ,width:r.toString(),height:s.toString(),top:o,left:a},u=er().toLowerCase();n&&(l=yM(u)?qQ:n),vM(u)&&(e=e||WQ,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(jY(u)&&l!=="_self")return GQ(e||"",l),new GT(null);const f=window.open(e||"",l,d);Be(f,t,"popup-blocked");try{f.focus()}catch{}return new GT(f)}function GQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ="__/auth/handler",YQ="emulator/auth/handler",QQ=encodeURIComponent("fac");async function KT(t,e,n,r,s,o){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pc,eventId:s};if(e instanceof jM){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Lq(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))a[d]=f}if(e instanceof eh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${QQ}=${encodeURIComponent(c)}`:"";return`${XQ(t)}?${Hd(l).slice(1)}${u}`}function XQ({config:t}){return t.emulator?Jb(t,YQ):`https://${t.authDomain}/${KQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="webStorageSupport";class ZQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RM,this._completeRedirectFn=_Q,this._overrideRedirectResult=yQ}async _openPopup(e,n,r,s){var a;Oo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await KT(e,n,r,cy(),s);return HQ(e,o,o1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await KT(e,n,r,cy(),s);return tQ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Oo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zQ(e),r=new CQ(e);return n.register("authEvent",s=>(Be(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kv,{type:Kv},s=>{var a;const o=(a=s==null?void 0:s[0])==null?void 0:a[Kv];o!==void 0&&n(!!o),Mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CM()||xM()||n1()}}const JQ=ZQ;var YT="@firebase/auth",QT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nX(t){dc(new qa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Be(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EM(t)},u=new DY(r,s,o,c);return zY(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dc(new qa("auth-internal",e=>{const n=r1(e.getProvider("auth").getImmediate());return(r=>new eX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(YT,QT,tX(t)),Ti(YT,QT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=5*60,sX=ER("authIdTokenMaxAge")||rX;let XT=null;const oX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sX)return;const s=n==null?void 0:n.token;XT!==s&&(XT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iX(t=PR()){const e=ub(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VY(t,{popupRedirectResolver:JQ,persistence:[uQ,ZY,RM]}),r=ER("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=oX(o.toString());YY(n,a,()=>a(n.currentUser)),KY(n,l=>a(l))}}const s=SR("auth");return s&&UY(n,`http://${s}`),n}function aX(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}MY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Zs("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",aX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nX("Browser");const lX={apiKey:"AIzaSyDZa2C8AZc902HNuRWS0jP2KxfFoX5npyA",authDomain:"firefly-nexus.firebaseapp.com",projectId:"firefly-nexus",storageBucket:"firefly-nexus.firebasestorage.app",messagingSenderId:"981611156212",appId:"1:981611156212:web:aa09e09bbc3995617704a1",measurementId:"G-BG7KGG32F2"},zM=IR(lX),Gr=qK(zM);iX(zM);class cX{constructor(){this.collections={clientes:"clientes",ordensServico:"ordens_servico",ordensVenda:"ordens_venda",produtos:"produtos",categorias:"categorias",movimentacoes:"movimentacoes",financeiro:"financeiro",usuarios:"usuarios",configuracoes:"configuracoes"},this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes"},this.isFirebaseAvailable=!1,this.initialized=!1,this.initPromise=this.init()}async init(){if(!this.initialized)try{await this.checkFirebaseAvailability(),this.initialized=!0,console.log("[FirebaseService]  Inicializao concluda - APENAS FIREBASE")}catch(e){throw console.error("[FirebaseService]  Erro na inicializao:",e),this.initialized=!1,new Error("Firebase no disponvel - sistema requer Firebase")}}async checkFirebaseAvailability(){try{if(console.log("[FirebaseService] ===== VERIFICANDO FIREBASE ====="),console.log("[FirebaseService] Verificando disponibilidade do Firebase..."),console.log("[FirebaseService] db object:",Gr),!Gr)throw new Error("Firebase db no est disponvel");console.log("[FirebaseService] Testando acesso  collection...");const e=ia(Gr,"test_connectivity");console.log("[FirebaseService] Collection criada:",e);const n=qv(e),r=await Wv(n);console.log("[FirebaseService] Query executada com sucesso, docs encontrados:",r.size),this.isFirebaseAvailable=!0,console.log("[FirebaseService]  Firebase disponvel - APENAS FIREBASE"),console.log("[FirebaseService] ===== FIREBASE OK =====")}catch(e){throw console.log("[FirebaseService]  Firebase no disponvel - SISTEMA FALHAR"),console.log("[FirebaseService] Erro:",e.message),console.log("[FirebaseService] Stack:",e.stack),this.isFirebaseAvailable=!1,console.log("[FirebaseService] ===== FIREBASE FALHOU - SEM FALLBACK ====="),new Error(`Firebase no disponvel: ${e.message}`)}}async saveData(e,n,r=null){if(console.log(`[FirebaseService] ===== SALVANDO EM ${e} - APENAS FIREBASE =====`),console.log("[FirebaseService] Dados:",n),this.initialized||(console.log("[FirebaseService] Aguardando inicializao..."),await this.initPromise),console.log("[FirebaseService] Firebase disponvel:",this.isFirebaseAvailable),console.log("[FirebaseService] Inicializado:",this.initialized),!this.isFirebaseAvailable)throw console.error("[FirebaseService]  Firebase no disponvel - SISTEMA FALHAR"),new Error("Firebase no disponvel - sistema requer Firebase");try{if(r){const s=Mf(Gr,e,r);return await oY(s,{...n,updatedAt:n.updatedAt||new Date().toISOString()}),console.log(`[FirebaseService]  Documento ${r} atualizado com sucesso no Firebase`),r}else{const s=await aY(ia(Gr,e),{...n,createdAt:n.createdAt||new Date().toISOString(),updatedAt:n.updatedAt||new Date().toISOString()});return console.log(`[FirebaseService]  Novo documento criado no Firebase com ID: ${s.id}`),console.log("[FirebaseService] ===== SALVAMENTO CONCLUDO ====="),s.id}}catch(s){throw console.error(`[FirebaseService]  Erro ao salvar dados em ${e}:`,s),new Error(`Erro ao salvar no Firebase: ${s.message}`)}}saveToLocalStorage(e,n,r=null){try{console.log(`[FirebaseService] saveToLocalStorage chamado para ${e}:`,n);const s=this.localStorageKeys[e];if(!s)throw new Error(`Chave localStorage no encontrada para ${e}`);if(console.log(`[FirebaseService] Chave localStorage: ${s}`),e==="configuracoes"){const a={...n,id:r||"config",updatedAt:new Date().toISOString()};return localStorage.setItem(s,JSON.stringify(a)),window.dispatchEvent(new Event("storage")),r||"config"}const o=JSON.parse(localStorage.getItem(s)||"[]");if(console.log(`[FirebaseService] Dados existentes em ${s}:`,o),r){const a=o.findIndex(l=>l.id===r);a!==-1&&(o[a]={...n,id:r,updatedAt:new Date().toISOString()})}else{const a=r||Date.now().toString(),l={...n,id:a,createdAt:new Date().toISOString()};o.push(l),console.log("[FirebaseService] Novo item adicionado:",l)}return console.log(`[FirebaseService] Salvando dados finais em ${s}:`,o),localStorage.setItem(s,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:s,data:o}})),console.log(`[FirebaseService] Evento localStorageChange disparado para ${s}`),r||Date.now().toString()}catch(s){throw console.error("[FirebaseService] Erro ao salvar no localStorage:",s),s}}async getData(e){if(console.log(`[FirebaseService] getData chamado para ${e}`),this.initialized||(console.log(`[FirebaseService] Aguardando inicializao para ${e}`),await this.initPromise),console.log(`[FirebaseService] Firebase disponvel para ${e}: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService]  Firebase no disponvel - SISTEMA FALHAR"),new Error("Firebase no disponvel - sistema requer Firebase");try{const n=new Promise((o,a)=>setTimeout(()=>a(new Error("Timeout")),2e3)),r=(async()=>{try{const o=qv(ia(Gr,e),AT("createdAt","desc")),a=await Wv(o),l=[];return a.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] Query com orderBy funcionou para ${e}: ${l.length} documentos`),l}catch(o){console.warn(`[FirebaseService] orderBy falhou para ${e}, tentando sem orderBy:`,o.message);const a=ia(Gr,e),l=await Wv(a),c=[];return l.forEach(u=>{c.push({id:u.id,...u.data()})}),console.log(`[FirebaseService] Query sem orderBy funcionou para ${e}: ${c.length} documentos`),c}})(),s=await Promise.race([r,n]);return console.log(`[FirebaseService] Dados carregados do Firebase para ${e}:`,s.length),s}catch(n){throw console.error(`[FirebaseService]  Erro ao buscar dados de ${e}:`,n),new Error(`Erro ao buscar no Firebase: ${n.message}`)}}getFromLocalStorage(e){try{const n=this.localStorageKeys[e];if(!n)return console.warn(`Chave localStorage no encontrada para ${e}`),e==="configuracoes"?null:[];console.log(`[FirebaseService] getFromLocalStorage para ${e}, chave: ${n}`);const r=localStorage.getItem(n);console.log("[FirebaseService] Dados brutos do localStorage:",r);const s=JSON.parse(r||(e==="configuracoes"?"null":"[]"));if(console.log("[FirebaseService] Dados parseados:",s),e==="configuracoes")return s;const o=Array.isArray(s)?s:[];return console.log(`[FirebaseService] Retornando array para ${e}:`,o),o}catch(n){return console.error("[FirebaseService] Erro ao buscar do localStorage:",n),e==="configuracoes"?null:[]}}async getDocument(e,n){try{const r=Mf(Gr,e,n),s=await sY(r);return s.exists()?{id:s.id,...s.data()}:null}catch(r){return console.error(`Erro ao buscar documento ${n} de ${e}:`,r),null}}async deleteDocument(e,n){if(console.log(`[FirebaseService] ===== DELETANDO DOCUMENTO ${n} DE ${e} - APENAS FIREBASE =====`),!this.isFirebaseAvailable)throw console.error("[FirebaseService]  Firebase no disponvel - SISTEMA FALHAR"),new Error("Firebase no disponvel - sistema requer Firebase");try{return await iY(Mf(Gr,e,n)),console.log(`[FirebaseService]  Documento ${n} deletado com sucesso do Firebase`),!0}catch(r){throw console.error(`[FirebaseService]  Erro ao deletar documento ${n} de ${e}:`,r),new Error(`Erro ao deletar no Firebase: ${r.message}`)}}deleteFromLocalStorage(e,n){try{const r=this.localStorageKeys[e];if(!r)return console.warn(`Chave localStorage no encontrada para ${e}`),!1;const o=JSON.parse(localStorage.getItem(r)||"[]").filter(a=>a.id!==n);return localStorage.setItem(r,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:r,data:o}})),!0}catch(r){return console.error("[FirebaseService] Erro ao deletar do localStorage:",r),!1}}async subscribeToCollection(e,n){if(console.log(`[FirebaseService] ===== SUBSCRIBE TO COLLECTION ${e} =====`),this.initialized||(console.log(`[FirebaseService] Aguardando inicializao para ${e}`),await this.initPromise),console.log(`[FirebaseService] subscribeToCollection para ${e}, Firebase disponvel: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService]  Firebase no disponvel - SISTEMA FALHAR"),new Error("Firebase no disponvel - sistema requer Firebase");console.log(`[FirebaseService] Firebase disponvel, configurando onSnapshot para ${e}`);try{const r=qv(ia(Gr,e),AT("createdAt","desc"));return Hv(r,s=>{const o=[];s.forEach(a=>{o.push({id:a.id,...a.data()})}),console.log(`[FirebaseService] onSnapshot recebido para ${e}:`,o),n(o)},s=>{console.error(`[FirebaseService] Erro no onSnapshot com orderBy para ${e}:`,s),console.log(`[FirebaseService] Tentando sem orderBy para ${e}`);const o=ia(Gr,e);return Hv(o,a=>{const l=[];a.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] onSnapshot sem orderBy recebido para ${e}:`,l),n(l)},a=>{throw console.error(`[FirebaseService]  Erro no onSnapshot sem orderBy para ${e}:`,a),new Error(`Erro no onSnapshot: ${a.message}`)})})}catch(r){console.error(`[FirebaseService] Erro ao criar query com orderBy para ${e}:`,r);const s=ia(Gr,e);return Hv(s,o=>{const a=[];o.forEach(l=>{a.push({id:l.id,...l.data()})}),console.log(`[FirebaseService] onSnapshot simples recebido para ${e}:`,a),n(a)},o=>{throw console.error(`[FirebaseService]  Erro no onSnapshot simples para ${e}:`,o),new Error(`Erro no onSnapshot simples: ${o.message}`)})}}async saveCliente(e,n=null){return await this.saveData(this.collections.clientes,e,n)}async getClientes(){return await this.getData(this.collections.clientes)}async deleteCliente(e){return await this.deleteDocument(this.collections.clientes,e)}subscribeToClientes(e){return this.subscribeToCollection(this.collections.clientes,e)}async saveOS(e,n=null){return await this.saveData(this.collections.ordensServico,e,n)}async getOS(){return await this.getData(this.collections.ordensServico)}async deleteOS(e){return await this.deleteDocument(this.collections.ordensServico,e)}subscribeToOS(e){return this.subscribeToCollection(this.collections.ordensServico,e)}async saveOV(e,n=null){return await this.saveData(this.collections.ordensVenda,e,n)}async getOV(){return await this.getData(this.collections.ordensVenda)}async deleteOV(e){return await this.deleteDocument(this.collections.ordensVenda,e)}subscribeToOV(e){return this.subscribeToCollection(this.collections.ordensVenda,e)}async saveProduto(e,n=null){return await this.saveData(this.collections.produtos,e,n)}async getProdutos(){return await this.getData(this.collections.produtos)}async deleteProduto(e){return await this.deleteDocument(this.collections.produtos,e)}subscribeToProdutos(e){return this.subscribeToCollection(this.collections.produtos,e)}async saveCategoria(e,n=null){return await this.saveData(this.collections.categorias,e,n)}async getCategorias(){return await this.getData(this.collections.categorias)}async deleteCategoria(e){return await this.deleteDocument(this.collections.categorias,e)}subscribeToCategorias(e){return this.subscribeToCollection(this.collections.categorias,e)}async saveMovimentacao(e,n=null){return await this.saveData(this.collections.movimentacoes,e,n)}async getMovimentacoes(){return await this.getData(this.collections.movimentacoes)}async deleteMovimentacao(e){return await this.deleteDocument(this.collections.movimentacoes,e)}subscribeToMovimentacoes(e){return this.subscribeToCollection(this.collections.movimentacoes,e)}async saveFinanceiro(e,n=null){return await this.saveData(this.collections.financeiro,e,n)}async getFinanceiro(){return await this.getData(this.collections.financeiro)}async deleteFinanceiro(e){return await this.deleteDocument(this.collections.financeiro,e)}subscribeToFinanceiro(e){return this.subscribeToCollection(this.collections.financeiro,e)}async saveUsuario(e,n=null){return await this.saveData(this.collections.usuarios,e,n)}async getUsuarios(){return await this.getData(this.collections.usuarios)}async deleteUsuario(e){return await this.deleteDocument(this.collections.usuarios,e)}subscribeToUsuarios(e){return this.subscribeToCollection(this.collections.usuarios,e)}async saveConfiguracao(e,n=null){try{if(console.log("[FirebaseService]  Salvando configurao:",e),!n)try{const s=await this.getData(this.collections.configuracoes);s.length>0?(n=s[0].id,console.log("[FirebaseService]  Configurao existente encontrada, ID:",n)):console.log("[FirebaseService]  Criando nova configurao")}catch(s){console.warn("[FirebaseService]  Erro ao buscar configurao existente:",s)}const r=await this.saveData(this.collections.configuracoes,e,n);return localStorage.removeItem("crm_config_cache"),console.log("[FirebaseService]  Configurao salva com sucesso:",r),r}catch(r){console.error("[FirebaseService]  Erro ao salvar configurao:",r);try{return localStorage.setItem("crm_configuracoes",JSON.stringify(e)),localStorage.setItem("crm_idioma",e.idioma||"pt-BR"),console.log("[FirebaseService]  Fallback: Configurao salva no localStorage"),"localStorage"}catch(s){throw console.error("[FirebaseService]  Erro no fallback localStorage:",s),r}}}async getConfiguracao(){const e=localStorage.getItem("crm_config_cache");if(e)try{const s=JSON.parse(e),o=s.timestamp;if(Date.now()-o<5*60*1e3)return console.log("[FirebaseService] Usando configurao do cache"),s.config}catch(s){console.warn("[FirebaseService] Erro ao ler cache de configurao:",s)}const n=await this.getData(this.collections.configuracoes),r=n.length>0?n[0]:null;return r&&localStorage.setItem("crm_config_cache",JSON.stringify({config:r,timestamp:Date.now()})),r}async migrateFromLocalStorage(){console.log("Iniciando migrao do localStorage para Firebase...");const e=[{key:"crm_clientes",collection:this.collections.clientes},{key:"crm_os",collection:this.collections.ordensServico},{key:"crm_ov",collection:this.collections.ordensVenda},{key:"crm_produtos",collection:this.collections.produtos},{key:"crm_categorias",collection:this.collections.categorias},{key:"crm_movimentacoes",collection:this.collections.movimentacoes},{key:"crm_financeiro",collection:this.collections.financeiro},{key:"crm_usuarios",collection:this.collections.usuarios}];for(const n of e)try{const r=JSON.parse(localStorage.getItem(n.key)||"[]");if(Array.isArray(r)&&r.length>0){console.log(`Migrando ${r.length} itens de ${n.key}...`);for(const s of r){const{id:o,...a}=s;await this.saveData(n.collection,a)}console.log(`Migrao de ${n.key} concluda!`)}}catch(r){console.error(`Erro ao migrar ${n.key}:`,r)}try{const n=localStorage.getItem("crm_configuracoes");if(n){const r=JSON.parse(n);await this.saveConfiguracao(r),console.log("Configuraes migradas!")}}catch(n){console.error("Erro ao migrar configuraes:",n)}console.log("Migrao concluda!")}}const Je=new cX,Zi=(t,e={})=>{const[n,r]=v.useState([]),[s,o]=v.useState(!0),[a,l]=v.useState(null),{enableRealtime:c=!0,onError:u=null}=e;return v.useEffect(()=>{let p=null,m=0;const y=3,w=async()=>{try{if(o(!0),l(null),console.log(`[useFirebaseData] ===== INCIO CARREGAMENTO ${t} =====`),console.log(`[useFirebaseData] enableRealtime: ${c}`),console.log(`[useFirebaseData] Tentativa ${m+1}/${y+1}`),!Je.isFirebaseAvailable){console.log("[useFirebaseData] Firebase no disponvel, tentando inicializar...");try{await Je.init(),console.log("[useFirebaseData]  Firebase inicializado com sucesso")}catch(_){throw console.error("[useFirebaseData]  Erro na inicializao do Firebase:",_),_}}if(c){console.log(`[useFirebaseData] Configurando escuta em tempo real para ${t}`);try{p=await Je.subscribeToCollection(t,_=>{console.log(`[useFirebaseData]  Dados recebidos de ${t}:`,_),console.log("[useFirebaseData] Tipo dos dados:",typeof _,Array.isArray(_)),r(Array.isArray(_)?_:[]),o(!1)}),console.log(`[useFirebaseData]  Escuta configurada com sucesso para ${t}`)}catch(_){console.error(`[useFirebaseData]  Erro ao configurar escuta para ${t}:`,_),console.log("[useFirebaseData] Tentando carregamento nico como fallback...");const S=await Je.getData(t);console.log(`[useFirebaseData] Dados carregados (fallback) de ${t}:`,S),r(Array.isArray(S)?S:[]),o(!1)}}else{console.log(`[useFirebaseData] Carregando dados uma nica vez para ${t}`);const _=await Je.getData(t);console.log(`[useFirebaseData] Dados carregados de ${t}:`,_),console.log("[useFirebaseData] Tipo dos dados:",typeof _,Array.isArray(_)),r(Array.isArray(_)?_:[]),o(!1)}console.log(`[useFirebaseData] ===== FIM CARREGAMENTO ${t} =====`)}catch(_){if(console.error(`[useFirebaseData]  ERRO CRTICO ao carregar dados de ${t}:`,_),console.error("[useFirebaseData] Stack trace:",_.stack),m<y){m++,console.log(`[useFirebaseData] Tentando novamente em 2 segundos... (${m}/${y})`),setTimeout(()=>{w()},2e3);return}l(_),o(!1),r([]),u&&u(_)}};return w(),()=>{p&&p()}},[t,c,u]),{data:n,loading:s,error:a,save:async(p,m=null)=>{try{console.log(`[useFirebaseData] Salvando item em ${t}:`,p);const y=await Je.saveData(t,p,m);return console.log(`[useFirebaseData] Item salvo com sucesso em ${t}:`,y),y}catch(y){throw console.error(`[useFirebaseData] Erro ao salvar em ${t}:`,y),l(y),y}},remove:async p=>{try{console.log(`[useFirebaseData] Removendo item ${p} de ${t}`);const m=await Je.deleteDocument(t,p);return console.log(`[useFirebaseData] Item removido com sucesso de ${t}`),m}catch(m){throw console.error(`[useFirebaseData] Erro ao deletar de ${t}:`,m),l(m),m}},refresh:()=>{o(!0),Je.getData(t).then(r).finally(()=>o(!1))}}},Fc=()=>Zi("clientes"),dg=()=>Zi("ordens_servico"),nh=()=>Zi("ordens_venda"),rh=()=>Zi("produtos"),sh=()=>Zi("categorias"),a1=()=>Zi("movimentacoes"),oh=()=>Zi("financeiro"),l1=()=>{const[t,e]=v.useState(null),[n,r]=v.useState(!0),[s,o]=v.useState(null);return v.useEffect(()=>{(async()=>{try{r(!0),console.log("[useConfiguracoesLoja] Carregando configuraes da loja...");const c=await Je.getData("configuracoes_loja");console.log("[useConfiguracoesLoja] Configuraes carregadas:",c),!c||c.length===0?e({nomeEmpresa:"MultiSmart",descricao:"Manuteno e Comrcio de Celulares e Tablets",endereco:"Rua Jos Pedro dos Santos n74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""}):e(c[0]),r(!1)}catch(c){console.error("[useConfiguracoesLoja] Erro ao carregar configuraes:",c),o(c),r(!1),e({nomeEmpresa:"MultiSmart",descricao:"Manuteno e Comrcio de Celulares e Tablets",endereco:"Rua Jos Pedro dos Santos n74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""})}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{if(console.log("[useConfiguracoesLoja] Salvando configuraes:",l),t&&t.id){const c=await Je.saveData("configuracoes_loja",l,t.id);return e({...l,id:t.id}),c}else{const c=await Je.saveData("configuracoes_loja",l);return e({...l,id:c.id}),c}}catch(c){throw console.error("[useConfiguracoesLoja] Erro ao salvar configuraes:",c),o(c),c}}}},Vc=()=>{const t=Zi("usuarios");console.log("[useUsuarios] Hook result completo:",t),console.log("[useUsuarios] result.data:",t.data),console.log("[useUsuarios] result.loading:",t.loading),console.log("[useUsuarios] result.error:",t.error);const e=Array.isArray(t.data)?t.data:[];return console.log("[useUsuarios] usuarios finais:",e),{...t,usuarios:e,saveUsuario:t.save}},c1=()=>{const[t,e]=v.useState(null),[n,r]=v.useState(!0),[s,o]=v.useState(null);return v.useEffect(()=>{(async()=>{try{r(!0);const c=new Promise((f,p)=>setTimeout(()=>p(new Error("Timeout")),500)),u=Je.getConfiguracao(),d=await Promise.race([u,c]);e(d),r(!1),console.log("[useConfiguracao] Configurao carregada:",d)}catch(c){console.warn("[useConfiguracao] Erro ao carregar configurao, usando padro:",c.message),e({nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"}),o(c),r(!1)}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{const c=await Je.saveConfiguracao(l);return e(l),c}catch(c){throw console.error("Erro ao salvar configurao:",c),o(c),c}}}},uX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=v.useContext(Nr),{data:r,loading:s,save:o,remove:a}=Fc(),{data:l}=nh(),[c,u]=v.useState(""),[d,f]=v.useState(null),[p,m]=v.useState(null),[y,w]=v.useState("grid"),[_,S]=v.useState("nome"),[g,b]=v.useState("asc"),[N,R]=v.useState("todos"),[L,C]=v.useState(!0),[T,P]=v.useState(!1),[A,k]=v.useState("basico"),[j,I]=v.useState({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),{toast:V}=Tr(),F=(U=null)=>{var re,te,Ie,Ce,Fe,tt;U?(f(U),I({nome:U.nome||"",telefone:U.telefone||"",email:U.email||"",endereco:U.endereco||"",observacoes:U.observacoes||"",categoria:U.categoria||"cliente",dataNascimento:U.dataNascimento||"",cpf:U.cpf||"",empresa:U.empresa||"",website:U.website||"",foto:U.foto||null,redesSociais:{instagram:((re=U.redesSociais)==null?void 0:re.instagram)||"",facebook:((te=U.redesSociais)==null?void 0:te.facebook)||"",linkedin:((Ie=U.redesSociais)==null?void 0:Ie.linkedin)||""},preferencias:{formaContato:((Ce=U.preferencias)==null?void 0:Ce.formaContato)||"telefone",horarioContato:((Fe=U.preferencias)==null?void 0:Fe.horarioContato)||"comercial",newsletter:((tt=U.preferencias)==null?void 0:tt.newsletter)||!1}}),console.log("[Clientes] Editando cliente:",U)):(f(null),I({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),console.log("[Clientes] Novo cliente, formulrio limpo")),e("clientes"),console.log("[Clientes] Dialog de cliente aberto")},W=()=>{n("clientes"),console.log("[Clientes] Dialog de cliente fechado")},$=async U=>{if(U.preventDefault(),console.log("[Clientes] Submisso do formulrio de cliente:",j,d),!j.nome){V({title:"Campo obrigatrio",description:"Nome  obrigatrio!",variant:"destructive"});return}if(!j.telefone){V({title:"Campo obrigatrio",description:"Telefone  obrigatrio! Navegando para aba de contato...",variant:"destructive"}),k("contato");return}try{const re={...j,createdAt:d?d.createdAt:new Date().toISOString()};await o(re,d==null?void 0:d.id),d?(console.log("[Clientes] Cliente atualizado:",re),V({title:"Sucesso!",description:"Cliente atualizado com sucesso!"})):(console.log("[Clientes] Cliente cadastrado:",re),V({title:"Sucesso!",description:"Cliente cadastrado com sucesso!"})),W()}catch(re){console.error("[Clientes] Erro ao salvar cliente:",re),V({title:"Erro",description:"Erro ao salvar cliente. Tente novamente.",variant:"destructive"})}},M=async U=>{try{await a(U),console.log("[Clientes] Cliente removido:",U),V({title:"Sucesso!",description:"Cliente removido com sucesso!"})}catch(re){console.error("[Clientes] Erro ao remover cliente:",re),V({title:"Erro",description:"Erro ao remover cliente. Tente novamente.",variant:"destructive"})}},z=U=>{const re=l.filter(Fe=>Fe.clienteId===U.id),te=re.length,Ie=re.reduce((Fe,tt)=>Fe+(tt.total||0),0),Ce=re.length>0?new Date(Math.max(...re.map(Fe=>new Date(Fe.createdAt)))):null;return{totalCompras:te,totalGasto:Ie,ultimaCompra:Ce,ticketMedio:te>0?Ie/te:0,status:te===0?"novo":Ie>1e3?"vip":Ce&&Date.now()-Ce.getTime()<30*24*60*60*1e3?"ativo":"inativo"}},Y=()=>{const U=r.length,re=r.filter(Ce=>l.some(Fe=>Fe.clienteId===Ce.id)).length,te=r.filter(Ce=>{const Fe=new Date(Ce.createdAt);return Date.now()-Fe.getTime()<30*24*60*60*1e3}).length,Ie=r.filter(Ce=>z(Ce).status==="vip").length;return{total:U,comCompras:re,novos:te,vip:Ie}},Q=r.filter(U=>{const re=U.nome.toLowerCase().includes(c.toLowerCase())||U.telefone.includes(c)||U.email&&U.email.toLowerCase().includes(c.toLowerCase()),te=z(U),Ie=N==="todos"||N==="vip"&&te.status==="vip"||N==="novos"&&te.totalCompras===0||N==="ativos"&&te.status==="ativo"||N==="inativos"&&te.status==="inativo";return re&&Ie}).sort((U,re)=>{let te=0;switch(_){case"nome":te=U.nome.localeCompare(re.nome);break;case"data":te=new Date(U.createdAt)-new Date(re.createdAt);break;case"compras":te=z(U).totalCompras-z(re).totalCompras;break;case"gasto":te=z(U).totalGasto-z(re).totalGasto;break;default:te=U.nome.localeCompare(re.nome)}return g==="asc"?te:-te}),he=U=>{navigator.clipboard.writeText(U),V({title:"Copiado!",description:"Informao copiada para a rea de transferncia"})},de=U=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U),xe=U=>{const re=U[0];if(!re)return;if(!re.type.startsWith("image/")){V({title:"Tipo de arquivo invlido!",description:"Por favor, selecione apenas imagens.",variant:"destructive"});return}if(re.size>2*1024*1024){V({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 2MB.",variant:"destructive"});return}const te=new FileReader;te.onload=()=>{const Ie=new Image;Ie.onload=()=>{const Ce=document.createElement("canvas"),Fe=Ce.getContext("2d");let{width:tt,height:lt}=Ie;const bt=1e3;tt>lt?tt>bt&&(lt=lt*bt/tt,tt=bt):lt>bt&&(tt=tt*bt/lt,lt=bt),Ce.width=tt,Ce.height=lt,Fe.drawImage(Ie,0,0,tt,lt);const Lt=Ce.toDataURL("image/jpeg",.9);I(xt=>({...xt,foto:Lt})),V({title:"Foto adicionada!",description:"Foto do cliente carregada com sucesso."})},Ie.src=te.result},te.onerror=()=>{V({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},te.readAsDataURL(re)},{getRootProps:G,getInputProps:ce,isDragActive:oe}=ab({onDrop:xe,accept:{"image/*":[]},multiple:!1}),be=()=>{I(U=>({...U,foto:null})),V({title:"Foto removida!",description:"Foto do cliente removida com sucesso."})},Ae=Y();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-6 text-white",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold mb-2",children:" Clientes"}),i.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie sua base de clientes com inteligncia"})]}),i.jsx(_e.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:i.jsxs(Tn,{open:t.clientes,onOpenChange:W,children:[i.jsxs(X,{onClick:()=>F(),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 text-white",size:"lg",children:[i.jsx(bu,{className:"h-5 w-5 mr-2"}),"Novo Cliente"]}),i.jsxs(gn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(vn,{children:[i.jsxs(xn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(bu,{className:"h-6 w-6 text-blue-500"}),d?"Editar Cliente":"Novo Cliente"]}),i.jsx(zm,{children:"Preencha as informaes do cliente. Campos obrigatrios marcados com *."})]}),i.jsxs("form",{onSubmit:$,className:"space-y-6",children:[i.jsxs(Ba,{value:A,onValueChange:k,className:"w-full",children:[i.jsxs(Mi,{className:"grid w-full grid-cols-3",children:[i.jsx(fn,{value:"basico",children:"Bsico"}),i.jsx(fn,{value:"contato",children:"Contato"}),i.jsx(fn,{value:"preferencias",children:"Preferncias"})]}),i.jsxs(pn,{value:"basico",className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx(ne,{className:"text-sm font-medium",children:"Foto do Cliente"}),j.foto?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:j.foto,alt:"Foto do cliente",className:"w-32 h-32 rounded-full object-cover border-4 border-slate-200 dark:border-slate-700 shadow-lg"}),i.jsx(X,{type:"button",variant:"destructive",size:"icon",onClick:be,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full",children:i.jsx(Cr,{className:"h-3 w-3"})})]}):i.jsxs("div",{...G(),className:`w-32 h-32 border-2 border-dashed rounded-full flex flex-col items-center justify-center cursor-pointer transition-all duration-200 ${oe?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[i.jsx("input",{...ce()}),i.jsx(Ea,{className:"h-8 w-8 text-slate-400 mb-2"}),i.jsx("p",{className:"text-xs text-slate-500 text-center px-2",children:oe?" Solte a foto aqui":" Arraste uma foto ou clique para selecionar"})]}),i.jsx("p",{className:"text-xs text-slate-500 text-center",children:"PNG, JPG at 2MB  Redimensionada para 1000x1000px"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"nome",children:"Nome Completo *"}),i.jsx(me,{id:"nome",value:j.nome,onChange:U=>I({...j,nome:U.target.value}),placeholder:"Joo Silva",required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"categoria",children:"Categoria"}),i.jsxs(ut,{value:j.categoria,onValueChange:U=>I({...j,categoria:U}),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"cliente",children:"Cliente"}),i.jsx(ae,{value:"fornecedor",children:"Fornecedor"}),i.jsx(ae,{value:"parceiro",children:"Parceiro"}),i.jsx(ae,{value:"vip",children:"VIP"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"cpf",children:"CPF"}),i.jsx(me,{id:"cpf",value:j.cpf,onChange:U=>I({...j,cpf:U.target.value}),placeholder:"000.000.000-00"})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),i.jsx(me,{id:"dataNascimento",type:"date",value:j.dataNascimento,onChange:U=>I({...j,dataNascimento:U.target.value})})]})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"empresa",children:"Empresa"}),i.jsx(me,{id:"empresa",value:j.empresa,onChange:U=>I({...j,empresa:U.target.value}),placeholder:"Nome da empresa"})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"observacoes",children:"Observaes"}),i.jsx(xd,{id:"observacoes",value:j.observacoes,onChange:U=>I({...j,observacoes:U.target.value}),placeholder:"Informaes adicionais sobre o cliente",rows:3})]})]}),i.jsxs(pn,{value:"contato",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"telefone",children:"Telefone *"}),i.jsx(me,{id:"telefone",value:j.telefone,onChange:U=>I({...j,telefone:U.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"email",children:"E-mail"}),i.jsx(me,{id:"email",type:"email",value:j.email,onChange:U=>I({...j,email:U.target.value}),placeholder:"email@exemplo.com"})]})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"endereco",children:"Endereo"}),i.jsx(xd,{id:"endereco",value:j.endereco,onChange:U=>I({...j,endereco:U.target.value}),placeholder:"Endereo completo",rows:2})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"website",children:"Website"}),i.jsx(me,{id:"website",value:j.website,onChange:U=>I({...j,website:U.target.value}),placeholder:"https://exemplo.com"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ne,{children:"Redes Sociais"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"instagram",className:"text-sm",children:"Instagram"}),i.jsx(me,{id:"instagram",value:j.redesSociais.instagram,onChange:U=>I({...j,redesSociais:{...j.redesSociais,instagram:U.target.value}}),placeholder:"@usuario"})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"facebook",className:"text-sm",children:"Facebook"}),i.jsx(me,{id:"facebook",value:j.redesSociais.facebook,onChange:U=>I({...j,redesSociais:{...j.redesSociais,facebook:U.target.value}}),placeholder:"facebook.com/usuario"})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"linkedin",className:"text-sm",children:"LinkedIn"}),i.jsx(me,{id:"linkedin",value:j.redesSociais.linkedin,onChange:U=>I({...j,redesSociais:{...j.redesSociais,linkedin:U.target.value}}),placeholder:"linkedin.com/in/usuario"})]})]})]})]}),i.jsxs(pn,{value:"preferencias",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"formaContato",children:"Forma de Contato Preferida"}),i.jsxs(ut,{value:j.preferencias.formaContato,onValueChange:U=>I({...j,preferencias:{...j.preferencias,formaContato:U}}),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"telefone",children:"Telefone"}),i.jsx(ae,{value:"email",children:"E-mail"}),i.jsx(ae,{value:"whatsapp",children:"WhatsApp"}),i.jsx(ae,{value:"instagram",children:"Instagram"})]})]})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"horarioContato",children:"Horrio de Contato"}),i.jsxs(ut,{value:j.preferencias.horarioContato,onValueChange:U=>I({...j,preferencias:{...j.preferencias,horarioContato:U}}),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"comercial",children:"Comercial (9h-18h)"}),i.jsx(ae,{value:"manha",children:"Manh (6h-12h)"}),i.jsx(ae,{value:"tarde",children:"Tarde (12h-18h)"}),i.jsx(ae,{value:"noite",children:"Noite (18h-22h)"}),i.jsx(ae,{value:"livre",children:"Qualquer horrio"})]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"newsletter",checked:j.preferencias.newsletter,onChange:U=>I({...j,preferencias:{...j.preferencias,newsletter:U.target.checked}}),className:"rounded"}),i.jsx(ne,{htmlFor:"newsletter",children:"Receber newsletter e promoes"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(X,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600",children:d?"Atualizar Cliente":"Cadastrar Cliente"}),i.jsx(X,{type:"button",variant:"outline",onClick:W,children:"Cancelar"})]})]})]})]})})]}),L&&i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:i.jsx(_s,{className:"h-5 w-5 text-blue-200"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm",children:"Total"}),i.jsx("p",{className:"text-white text-2xl font-bold",children:Ae.total})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:i.jsx(gs,{className:"h-5 w-5 text-green-200"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm",children:"Compraram"}),i.jsx("p",{className:"text-white text-2xl font-bold",children:Ae.comCompras})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:i.jsx(Ef,{className:"h-5 w-5 text-yellow-200"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm",children:"VIP"}),i.jsx("p",{className:"text-white text-2xl font-bold",children:Ae.vip})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:i.jsx(bu,{className:"h-5 w-5 text-purple-200"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm",children:"Novos"}),i.jsx("p",{className:"text-white text-2xl font-bold",children:Ae.novos})]})]})})]})]}),i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar clientes...",value:c,onChange:U=>u(U.target.value),className:"pl-10"})]}),i.jsxs(ut,{value:N,onValueChange:R,children:[i.jsxs(it,{className:"w-full sm:w-40",children:[i.jsx(Rw,{className:"h-4 w-4 mr-2"}),i.jsx(dt,{})]}),i.jsxs(at,{children:[i.jsx(ae,{value:"todos",children:"Todos"}),i.jsx(ae,{value:"vip",children:"VIP"}),i.jsx(ae,{value:"novos",children:"Novos"}),i.jsx(ae,{value:"ativos",children:"Ativos"}),i.jsx(ae,{value:"inativos",children:"Inativos"})]})]}),i.jsxs(ut,{value:_,onValueChange:S,children:[i.jsxs(it,{className:"w-full sm:w-40",children:[i.jsx(An,{className:"h-4 w-4 mr-2"}),i.jsx(dt,{})]}),i.jsxs(at,{children:[i.jsx(ae,{value:"nome",children:"Nome"}),i.jsx(ae,{value:"data",children:"Data"}),i.jsx(ae,{value:"compras",children:"Compras"}),i.jsx(ae,{value:"gasto",children:"Gasto"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:g==="asc"?"default":"outline",size:"sm",onClick:()=>b(g==="asc"?"desc":"asc"),children:g==="asc"?i.jsx(F9,{className:"h-4 w-4"}):i.jsx(O9,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex border border-slate-200 dark:border-slate-700 rounded-lg",children:[i.jsx(X,{variant:y==="grid"?"default":"ghost",size:"sm",onClick:()=>w("grid"),className:"rounded-r-none",children:i.jsx(An,{className:"h-4 w-4"})}),i.jsx(X,{variant:y==="list"?"default":"ghost",size:"sm",onClick:()=>w("list"),className:"rounded-l-none",children:i.jsx(_s,{className:"h-4 w-4"})})]})]})]})}),i.jsx(bp,{mode:"wait",children:s?i.jsxs(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),i.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Carregando clientes..."})]}):i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:Q.map((U,re)=>{const te=z(U),Ie={novo:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",vip:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"};return y==="grid"?i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:re*.05},whileHover:{y:-5},className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[U.foto?i.jsx("img",{src:U.foto,alt:U.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:U.nome.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-lg group-hover:text-blue-600 transition-colors",children:U.nome}),i.jsx(es,{className:Ie[te.status],children:te.status==="novo"?"Novo":te.status==="vip"?"VIP":te.status==="ativo"?"Ativo":"Inativo"})]})]}),i.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{m(U),P(!0)},className:"h-8 w-8",children:i.jsx($l,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>F(U),className:"h-8 w-8",children:i.jsx(bs,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>M(U.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:i.jsx(ns,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[i.jsx(Na,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:U.telefone}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>he(U.telefone),className:"h-6 w-6 ml-auto",children:i.jsx(Uh,{className:"h-3 w-3"})})]}),U.email&&i.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[i.jsx(Ta,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm truncate",children:U.email}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>he(U.email),className:"h-6 w-6 ml-auto",children:i.jsx(Uh,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:te.totalCompras}),i.jsx("p",{className:"text-xs text-slate-500",children:"Compras"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:de(te.totalGasto)}),i.jsx("p",{className:"text-xs text-slate-500",children:"Total Gasto"})]})]})]})]},U.id):i.jsx(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:re*.05},className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[U.foto?i.jsx("img",{src:U.foto,alt:U.nome,className:"w-10 h-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:U.nome.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:U.nome}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx(Na,{className:"h-3 w-3"}),U.telefone,U.email&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx(Ta,{className:"h-3 w-3"}),U.email]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium",children:[te.totalCompras," compras"]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:de(te.totalGasto)})]}),i.jsx(es,{className:Ie[te.status],children:te.status==="novo"?"Novo":te.status==="vip"?"VIP":te.status==="ativo"?"Ativo":"Inativo"}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{m(U),P(!0)},className:"h-8 w-8",children:i.jsx($l,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>F(U),className:"h-8 w-8",children:i.jsx(bs,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>M(U.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:i.jsx(ns,{className:"h-4 w-4"})})]})]})]})},U.id)})},y)}),!s&&Q.length===0&&i.jsxs(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(_s,{className:"h-12 w-12 text-white"})}),i.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:c?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:c?"Tente buscar com outros termos":"Comece cadastrando seu primeiro cliente"}),!c&&i.jsxs(X,{onClick:()=>F(),className:"bg-gradient-to-r from-blue-600 to-purple-600",children:[i.jsx(bu,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Cliente"]})]}),i.jsx(Tn,{open:T,onOpenChange:P,children:i.jsx(gn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:p&&i.jsxs(i.Fragment,{children:[i.jsx(vn,{children:i.jsxs(xn,{className:"text-2xl font-bold flex items-center gap-3",children:[p.foto?i.jsx("img",{src:p.foto,alt:p.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:p.nome.charAt(0).toUpperCase()}),p.nome]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(un,{children:[i.jsx(_n,{className:"pb-3",children:i.jsxs(Sn,{className:"text-lg flex items-center gap-2",children:[i.jsx(gs,{className:"h-5 w-5 text-blue-500"}),"Compras"]})}),i.jsxs(dn,{children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600",children:z(p).totalCompras}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total de compras realizadas"})]})]}),i.jsxs(un,{children:[i.jsx(_n,{className:"pb-3",children:i.jsxs(Sn,{className:"text-lg flex items-center gap-2",children:[i.jsx(Yn,{className:"h-5 w-5 text-green-500"}),"Total Gasto"]})}),i.jsxs(dn,{children:[i.jsx("div",{className:"text-3xl font-bold text-green-600",children:de(z(p).totalGasto)}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor total gasto"})]})]})]}),i.jsxs(un,{children:[i.jsx(_n,{children:i.jsxs(Sn,{className:"text-lg flex items-center gap-2",children:[i.jsx(Fr,{className:"h-5 w-5 text-purple-500"}),"Informaes de Contato"]})}),i.jsxs(dn,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Na,{className:"h-4 w-4 text-slate-400"}),i.jsx("span",{children:p.telefone}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>he(p.telefone),className:"h-6 w-6 ml-auto",children:i.jsx(Uh,{className:"h-3 w-3"})})]}),p.email&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ta,{className:"h-4 w-4 text-slate-400"}),i.jsx("span",{children:p.email}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>he(p.email),className:"h-6 w-6 ml-auto",children:i.jsx(Uh,{className:"h-3 w-3"})})]}),p.endereco&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Sp,{className:"h-4 w-4 text-slate-400"}),i.jsx("span",{children:p.endereco})]})]})]})]})]})})})]})},dX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=v.useContext(Nr),{data:r,loading:s,save:o,remove:a}=dg(),{data:l}=Fc(),{save:c}=oh(),{config:u}=l1(),[d,f]=v.useState(""),[p,m]=v.useState("Todos"),[y,w]=v.useState("grid"),[_,S]=v.useState(null),[g,b]=v.useState({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),{toast:N}=Tr();console.log("[OS] ===== DADOS CARREGADOS ====="),console.log("[OS] Ordens:",r),console.log("[OS] Clientes:",l),console.log("[OS] Loading:",s);const R=(F=null)=>{F?(S(F),b({...F,valor:F.valor?F.valor.toString():""}),console.log("[OS] Editando OS:",F)):(S(null),b({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),console.log("[OS] Nova OS, formulrio limpo")),e("os"),console.log("[OS] Dialog de OS aberto")},L=()=>{n("os"),console.log("[OS] Dialog de OS fechado")},C=async(F,W)=>{try{if(W==="add"){const $={descricao:`Recebimento da OS: ${F.numero}`,valor:parseFloat(F.valor),dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`os-${F.id}`};await c($),console.log("[OS]  Entrada financeira criada:",$)}}catch($){console.error("[OS]  Erro ao atualizar financeiro:",$)}},T=async F=>{if(F.preventDefault(),!g.clienteNome||!g.clienteTelefone||!g.titulo||!g.senha||!g.valor){N({title:"Erro",description:"Todos os campos obrigatrios devem ser preenchidos!",variant:"destructive"});return}try{const W={numero:_?_.numero:`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,...g,valor:parseFloat(g.valor),createdAt:_?_.createdAt:new Date().toISOString()};await o(W,_==null?void 0:_.id),N(_?{title:"Sucesso!",description:"OS atualizada com sucesso!"}:{title:"Sucesso!",description:"OS criada com sucesso!"}),W.status==="Concluda"?await C(W,"add"):await C(W,"remove"),b({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),S(null),L()}catch(W){console.error("[OS]  Erro ao salvar OS:",W),N({title:"Erro",description:"Erro ao salvar ordem de servio. Tente novamente.",variant:"destructive"})}},P=async F=>{try{const W=r==null?void 0:r.find($=>$.id===F);W&&await C(W,"remove"),await a(F),N({title:"Sucesso!",description:"OS removida com sucesso!"})}catch(W){console.error("[OS]  Erro ao remover OS:",W),N({title:"Erro",description:"Erro ao remover ordem de servio. Tente novamente.",variant:"destructive"})}},A=F=>{const W=new Date().toLocaleDateString("pt-BR"),$=F.numero||`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,M=u||{},z=M.nomeEmpresa||"MultiSmart",Y=M.descricao||"Manuteno e Comrcio de Celulares e Tablets",Q=M.endereco||"Rua Jos Pedro dos Santos n74 - JD das Lanjeiras, Bebedouro - SP",he=M.cnpj||"47.309.271/0001-97",de=M.telefone||"(17)3345-1016",xe=M.whatsapp||"(17)99157-1263",G=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Ordem de Servio - ${$}</title>
          <meta charset="UTF-8">
          <style>
            @page {
              size: A4;
              margin: 0.5cm;
            }
            
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 0;
              color: #000; 
              font-size: 12px;
              line-height: 1.3;
            }
            
            .page {
              width: 21cm;
              height: 29.7cm;
              page-break-after: always;
              position: relative;
              border: 1px solid #ccc;
              box-sizing: border-box;
            }
            
            .page:last-child {
              page-break-after: avoid;
            }
            
            .cut-line {
              border-top: 2px dashed #000;
              margin: 14.85cm 0;
              position: relative;
            }
            
            .cut-line::before {
              content: "CORTE AQUI";
              position: absolute;
              top: -8px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 0 10px;
              font-size: 10px;
              font-weight: bold;
            }
            
            .os-container {
              padding: 20px;
              height: 14.35cm;
              box-sizing: border-box;
              position: relative;
            }
            
            .header {
              text-align: center;
              margin-bottom: 25px;
              border-bottom: 2px solid #000;
              padding-bottom: 15px;
            }
            
            .company-name {
              font-size: 28px;
              font-weight: bold;
              color: #2E8B57;
              margin-bottom: 5px;
              text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            }
            
            .company-subtitle {
              font-size: 14px;
              color: #666;
              margin-bottom: 10px;
            }
            
            .company-info {
              font-size: 11px;
              line-height: 1.4;
            }
            
            .os-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin: 20px 0;
              padding: 10px;
              background: #f5f5f5;
              border-radius: 5px;
            }
            
            .os-number {
              font-size: 24px;
              font-weight: bold;
              color: #2E8B57;
            }
            
            .os-date {
              font-size: 14px;
              font-weight: bold;
            }
            
            .form-section {
              display: grid;
              grid-template-columns: 1fr 1fr 1fr;
              gap: 20px;
              margin-bottom: 20px;
            }
            
            .form-column {
              display: flex;
              flex-direction: column;
            }
            
            .form-field {
              margin-bottom: 15px;
            }
            
            .form-label {
              font-weight: bold;
              font-size: 11px;
              margin-bottom: 5px;
              display: block;
            }
            
            .form-input {
              border: none;
              border-bottom: 1px solid #000;
              padding: 5px 0;
              font-size: 12px;
              width: 100%;
              background: transparent;
            }
            
            .form-textarea {
              border: 1px solid #ccc;
              padding: 8px;
              font-size: 11px;
              width: 100%;
              min-height: 60px;
              resize: none;
              background: #fafafa;
            }
            
            .phone-input {
              font-family: monospace;
              letter-spacing: 1px;
            }
            
            .terms-section {
              margin-top: 20px;
              padding: 15px;
              border: 1px solid #000;
              border-radius: 5px;
            }
            
            .terms-title {
              text-align: center;
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 15px;
              border-bottom: 1px dashed #000;
              padding-bottom: 5px;
            }
            
            .terms-list {
              list-style: none;
              padding: 0;
              margin: 0;
            }
            
            .terms-list li {
              margin-bottom: 8px;
              font-size: 11px;
              line-height: 1.4;
            }
            
            .dots-grid {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 5px;
              margin-top: 10px;
            }
            
            .dot {
              width: 8px;
              height: 8px;
              background: #000;
              border-radius: 50%;
              margin: 0 auto;
            }
            
            .footer-section {
              display: grid;
              grid-template-columns: 1fr 1fr 2fr;
              gap: 20px;
              margin-top: 20px;
              padding-top: 15px;
              border-top: 1px solid #000; 
            }
            
            .signature-line {
              border-bottom: 1px solid #000;
              padding: 5px 0;
              text-align: center;
              font-size: 11px;
              font-weight: bold;
            }
            
            .print-info {
              font-size: 10px;
              color: #666;
              text-align: center; 
              margin-top: 10px;
            }
            
            @media print {
              .page {
                border: none;
              }
              .cut-line {
                border-top: 2px dashed #000;
              }
            }
          </style>
        </head>
        <body>
          <!-- Primeira OS -->
          <div class="page">
            <div class="os-container">
              <div class="header">
                <div class="company-name">${z}</div>
                <div class="company-subtitle">${Y}</div>
                <div class="company-info">
                  ${Q}<br>
                  CNPJ: ${he} | Fone: ${de} | WhatsApp: ${xe}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${W}</div>
                <div class="os-number">NO.S.: ${$}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${F.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitao/Reclamao:</label>
                    <div class="form-textarea">${F.observacoes||""}</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${F.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Servios executados/peas:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${F.clienteTelefone||"(  )     -    "}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                </div>
              </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorizao para execuo de servio ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias ser sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados aps anlise sero comunicados posteriormente.</li>
                  <li>4 - No haver garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                </div>
              </div>
              
              <div class="footer-section">
                <div class="signature-line">Pin: ${F.senha||""}</div>
                <div class="signature-line">Senha: ${F.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>
          
          <!-- Linha de corte -->
          <div class="cut-line"></div>
          
          <!-- Segunda OS (cpia) -->
          <div class="page">
            <div class="os-container">
          <div class="header">
                <div class="company-name">${z}</div>
                <div class="company-subtitle">${Y}</div>
                <div class="company-info">
                  ${Q}<br>
                  CNPJ: ${he} | Fone: ${de} | WhatsApp: ${xe}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${W}</div>
                <div class="os-number">NO.S.: ${$}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${F.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitao/Reclamao:</label>
                    <div class="form-textarea">${F.observacoes||""}</div>
                  </div>
          </div>
          
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${F.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Servios executados/peas:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
            </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${F.clienteTelefone||"(  )     -    "}</div>
            </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
            </div>
            </div>
            </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorizao para execuo de servio ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias ser sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados aps anlise sero comunicados posteriormente.</li>
                  <li>4 - No haver garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
          </div>

              <div class="footer-section">
                <div class="signature-line">Pin: ${F.senha||""}</div>
                <div class="signature-line">Senha: ${F.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>

          <div class="print-info">
            Impresso em: ${new Date().toLocaleString("pt-BR")} | MultiSmart CRM System
          </div>
        </body>
      </html>
    `,ce=window.open("","_blank","width=800,height=600");ce.document.write(G),ce.document.close(),ce.focus(),setTimeout(()=>{ce.print()},500)},k=F=>{const W=l.find($=>$.id===parseInt(F));W&&b({...g,clienteNome:W.nome,clienteTelefone:W.telefone})},j=(r||[]).filter(F=>{var M,z,Y,Q;const W=((M=F.clienteNome)==null?void 0:M.toLowerCase().includes(d.toLowerCase()))||((z=F.numero)==null?void 0:z.toLowerCase().includes(d.toLowerCase()))||((Y=F.titulo)==null?void 0:Y.toLowerCase().includes(d.toLowerCase()))||((Q=F.clienteTelefone)==null?void 0:Q.toLowerCase().includes(d.toLowerCase())),$=p==="Todos"||F.status===p;return W&&$}),I=F=>{switch(F){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Em Andamento":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluda":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},V={total:(r==null?void 0:r.length)||0,pendentes:(r==null?void 0:r.filter(F=>F.status==="Pendente").length)||0,emAndamento:(r==null?void 0:r.filter(F=>F.status==="Em Andamento").length)||0,concluidas:(r==null?void 0:r.filter(F=>F.status==="Concluda").length)||0,valorTotal:(r==null?void 0:r.reduce((F,W)=>F+(W.valor||0),0))||0};return i.jsxs("div",{className:"space-y-8",children:[i.jsx(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[i.jsx(Si,{className:"h-10 w-10"}),"Ordens de Servio"]}),i.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie e acompanhe todos os seus servios"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs(X,{onClick:()=>w(y==="grid"?"list":"grid"),variant:"secondary",className:"bg-white/20 hover:bg-white/30 border-white/30",children:[y==="grid"?i.jsx($l,{className:"h-4 w-4 mr-2"}):i.jsx(Si,{className:"h-4 w-4 mr-2"}),y==="grid"?"Lista":"Cards"]}),i.jsxs(Tn,{open:t.os,onOpenChange:L,children:[i.jsxs(X,{onClick:()=>R(),className:"bg-white text-blue-600 hover:bg-blue-50 shadow-lg",children:[i.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Nova OS"]}),i.jsxs(gn,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[i.jsx(vn,{children:i.jsx(xn,{children:_?"Editar OS":"Nova Ordem de Servio"})}),i.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.length>0&&i.jsxs("div",{children:[i.jsx(ne,{children:"Selecionar Cliente Existente"}),i.jsxs(ut,{onValueChange:k,children:[i.jsx(it,{children:i.jsx(dt,{placeholder:"Escolha um cliente..."})}),i.jsx(at,{children:l.map(F=>i.jsxs(ae,{value:F.id.toString(),children:[F.nome," - ",F.telefone]},F.id))})]})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"clienteNome",children:"Nome do Cliente *"}),i.jsx(me,{id:"clienteNome",value:g.clienteNome,onChange:F=>b({...g,clienteNome:F.target.value}),placeholder:"Nome do cliente",required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"clienteTelefone",children:"Telefone do Cliente *"}),i.jsx(me,{id:"clienteTelefone",value:g.clienteTelefone,onChange:F=>b({...g,clienteTelefone:F.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"titulo",children:"Descrio/Ttulo *"}),i.jsx(me,{id:"titulo",value:g.titulo,onChange:F=>b({...g,titulo:F.target.value}),placeholder:"Ex: Troca de tela, reparo de bateria...",required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"senha",children:"Senha do Dispositivo *"}),i.jsx(me,{id:"senha",value:g.senha,onChange:F=>b({...g,senha:F.target.value}),placeholder:"Senha ou PIN",required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"valor",children:"Valor do Servio (R$) *"}),i.jsx(me,{id:"valor",type:"number",step:"0.01",value:g.valor,onChange:F=>b({...g,valor:F.target.value}),placeholder:"0.00",required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"status",children:"Status"}),i.jsxs(ut,{value:g.status,onValueChange:F=>b({...g,status:F}),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"Pendente",children:"Pendente"}),i.jsx(ae,{value:"Em Andamento",children:"Em Andamento"}),i.jsx(ae,{value:"Concluda",children:"Concluda"})]})]})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"observacoes",children:"Observaes"}),i.jsx(xd,{id:"observacoes",value:g.observacoes,onChange:F=>b({...g,observacoes:F.target.value}),placeholder:"Observaes adicionais",rows:3})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(X,{type:"submit",className:"flex-1",children:_?"Atualizar":"Criar OS"}),i.jsx(X,{type:"button",variant:"outline",onClick:L,children:"Cancelar"})]})]})]})]})]})]})}),i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:V.total})]}),i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(Fr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Pendentes"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:V.pendentes})]}),i.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:i.jsx(ni,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Em Andamento"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:V.emAndamento})]}),i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(Si,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Concludas"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:V.concluidas})]}),i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(oc,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Valor Total"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(V.valorTotal)})]}),i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(Rn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})]}),i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),i.jsx(me,{placeholder:"Buscar por cliente, nmero, descrio ou telefone...",value:d,onChange:F=>f(F.target.value),className:"pl-12 h-12 text-lg"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(ut,{value:p,onValueChange:m,children:[i.jsxs(it,{className:"w-48 h-12",children:[i.jsx(Rw,{className:"h-4 w-4 mr-2"}),i.jsx(dt,{})]}),i.jsxs(at,{children:[i.jsx(ae,{value:"Todos",children:"Todos os Status"}),i.jsx(ae,{value:"Pendente",children:"Pendentes"}),i.jsx(ae,{value:"Em Andamento",children:"Em Andamento"}),i.jsx(ae,{value:"Concluda",children:"Concludas"})]})]}),i.jsxs(X,{variant:"outline",className:"h-12",children:[i.jsx(ic,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})}),i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:s?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Carregando ordens de servio..."})]}):i.jsx(i.Fragment,{children:y==="grid"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map((F,W)=>i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:W*.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-xl",children:F.numero}),i.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${I(F.status)}`,children:F.status})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>A(F),className:"h-10 w-10 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:i.jsx(pd,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>R(F),className:"h-10 w-10 hover:bg-green-100 dark:hover:bg-green-900/30",children:i.jsx(bs,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>P(F.id),className:"h-10 w-10 hover:bg-red-100 dark:hover:bg-red-900/30",children:i.jsx(ns,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(Jr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:F.clienteNome}),i.jsxs("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[i.jsx(Na,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:F.clienteTelefone})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:i.jsx(rz,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),i.jsx("div",{children:i.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-sm",children:F.titulo})})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(Rn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),i.jsx("div",{children:i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:F.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(F.valor):"R$ 0,00"})})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:i.jsx(ac,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Senha: ",i.jsx("span",{className:"font-mono font-semibold",children:F.senha})]})})]}),F.observacoes&&i.jsx("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:F.observacoes})}),i.jsxs("div",{className:"flex items-center space-x-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[i.jsx(oi,{className:"h-4 w-4 text-slate-400"}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Criada em: ",new Date(F.createdAt).toLocaleDateString("pt-BR")]})]})]})]},F.id))}):i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"OS"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cliente"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Servio"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Valor"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Data"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Aes"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:j.map((F,W)=>i.jsxs(_e.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:W*.05},className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:F.numero})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:F.clienteNome}),i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:F.clienteTelefone})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-slate-900 dark:text-white max-w-xs truncate",children:F.titulo})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${I(F.status)}`,children:F.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:F.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(F.valor):"R$ 0,00"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(F.createdAt).toLocaleDateString("pt-BR")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>A(F),className:"h-8 w-8",children:i.jsx(pd,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>R(F),className:"h-8 w-8",children:i.jsx(bs,{className:"h-4 w-4"})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>P(F.id),className:"h-8 w-8 text-red-500 hover:text-red-700",children:i.jsx(ns,{className:"h-4 w-4"})})]})})]},F.id))})]})})})})}),!s&&j.length===0&&i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:i.jsx(Fr,{className:"h-10 w-10 text-slate-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:d||p!=="Todos"?"Nenhuma OS encontrada":"Nenhuma OS cadastrada"}),i.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-6 max-w-md mx-auto",children:d||p!=="Todos"?"Tente ajustar os filtros ou buscar com outros termos":"Comece criando sua primeira ordem de servio e organize seus atendimentos"}),!d&&p==="Todos"&&i.jsxs(X,{onClick:()=>R(),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[i.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Criar Primeira OS"]})]})]})},hX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=v.useContext(Nr),{toast:r}=Tr(),{data:s,save:o,remove:a}=nh(),{data:l}=Fc(),{data:c,save:u}=rh(),{data:d}=sh(),{save:f}=a1(),[p,m]=v.useState(""),[y,w]=v.useState("todas"),[_,S]=v.useState(""),[g,b]=v.useState([]),[N,R]=v.useState(null),[L,C]=v.useState("selecionar"),[T,P]=v.useState(""),[A,k]=v.useState([]),[j,I]=v.useState(!1);v.useState(""),v.useState([]),v.useState(!1);const[V,F]=v.useState({}),[W,$]=v.useState({}),[M,z]=v.useState({}),[Y,Q]=v.useState(!1),[he,de]=v.useState([]),[xe,G]=v.useState({tipo:"porcentagem",valor:0}),[ce,oe]=v.useState(!1),[be,Ae]=v.useState("recentes");v.useState(!1);const[U,re]=v.useState(null),[te,Ie]=v.useState({clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0});v.useEffect(()=>{console.log("[OV] Clientes carregados:",l),console.log("[OV] Produtos carregados:",c),console.log("[OV] Categorias carregadas:",d),console.log("[OV] Ordens carregadas:",s)},[l,c,d,s]);const Ce=async B=>{try{await o(B),r({title:"Sucesso!",description:"Ordem de Venda criada com sucesso!"})}catch(ie){console.error("[OV] Erro ao salvar OV:",ie),r({title:"Erro!",description:"Erro ao criar Ordem de Venda.",variant:"destructive"})}},Fe=(B=null)=>{re(B),Ie(B?{clienteId:B.clienteId,clienteNome:B.clienteNome,produtos:B.produtos,status:B.status,total:B.total}:{clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0}),e("ov")},tt=()=>{re(null),n("ov"),console.log("[OV] Dialog de OV fechado")},lt=B=>B.reduce((ie,le)=>ie+le.preco*le.quantidade,0),bt=(B,ie,le)=>{const we=[...te.produtos];if(ie==="produtoId"){const q=c.find(Z=>Z.id===le);q&&(we[B]={...we[B],produtoId:le,nome:q.nome,preco:q.preco})}else we[B][ie]=ie==="quantidade"||ie==="preco"?parseFloat(le)||0:le;const kn=lt(we);Ie({...te,produtos:we,total:kn})},Lt=()=>{Ie({...te,produtos:[...te.produtos,{produtoId:"",nome:"",preco:0,quantidade:1}]})},xt=B=>{const ie=te.produtos.filter((we,kn)=>kn!==B),le=lt(ie);Ie({...te,produtos:ie,total:le})},gt=(B,ie)=>{const le=JSON.parse(localStorage.getItem("crm_financeiro")||"[]");let we=le;if(ie==="add"){if(!le.find(q=>q.origemId===`ov-${B.id}`)){const q={id:Date.now(),descricao:`Recebimento da OV: ${B.numero}`,valor:B.total,dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`ov-${B.id}`,createdAt:new Date().toISOString()};we=[...le,q]}}else ie==="remove"&&(we=le.filter(kn=>kn.origemId!==`ov-${B.id}`));localStorage.setItem("crm_financeiro",JSON.stringify(we)),window.dispatchEvent(new Event("storage"))},hr=async B=>{if(B.preventDefault(),!te.clienteNome||te.produtos.length===0||te.produtos.some(le=>!le.nome)){r({title:"Erro",description:"Cliente e pelo menos um produto so obrigatrios!",variant:"destructive"});return}const ie={numero:U?U.numero:`OV${String(s.length+1).padStart(4,"0")}`,...te,createdAt:U?U.createdAt:new Date().toISOString()};try{U?(await o(ie,U.id),r({title:"Sucesso!",description:"OV atualizada com sucesso!"})):(await o(ie),r({title:"Sucesso!",description:"OV criada com sucesso!"})),ie.status==="Concluda"?gt(ie,"add"):gt(ie,"remove"),tt()}catch(le){console.error("[OV] Erro ao salvar OV:",le),r({title:"Erro!",description:"Erro ao salvar OV.",variant:"destructive"})}},fr=async B=>{try{const ie=s.find(le=>le.id===B);if(!ie){r({title:"Erro!",description:"OV no encontrada",variant:"destructive"});return}gt(ie,"remove"),await a(B),r({title:"Sucesso!",description:"OV removida com sucesso!"}),console.log(` OV ${ie.numero} removida com sucesso`)}catch(ie){console.error(" Erro ao excluir OV:",ie),r({title:"Erro!",description:"Erro ao excluir a OV. Tente novamente.",variant:"destructive"})}},ge=B=>{if(P(B),B.length>0){const ie=l.filter(le=>{var we;return le.nome.toLowerCase().includes(B.toLowerCase())||le.telefone.includes(B)||((we=le.email)==null?void 0:we.toLowerCase().includes(B.toLowerCase()))});k(ie),I(!0)}else k([]),I(!1)},Pe=B=>{R(B),P(B.nome),I(!1)},ht=(B,ie)=>{if(F(le=>({...le,[B]:ie})),ie.length>0){const le=c.filter(we=>we.nome.toLowerCase().includes(ie.toLowerCase())||we.codigo.toLowerCase().includes(ie.toLowerCase()));$(we=>({...we,[B]:le})),z(we=>({...we,[B]:!0}))}else $(le=>({...le,[B]:[]})),z(le=>({...le,[B]:!1}))},St=(B,ie)=>{bt(B,"produtoId",ie.id),F(le=>({...le,[B]:ie.nome})),z(le=>({...le,[B]:!1}))};v.useEffect(()=>{L!=="selecionar"&&(P(""),k([]),I(!1))},[L]),v.useEffect(()=>{t.ov||(P(""),k([]),I(!1),F({}),$({}),z({}))},[t.ov]);const qt=B=>{const ie=g.find(le=>le.id===B.id);b(ie?g.map(le=>le.id===B.id?{...le,quantidade:le.quantidade+1}:le):[...g,{...B,quantidade:1}]),r({title:"Produto adicionado!",description:`${B.nome} foi adicionado ao carrinho`})},Vn=B=>{b(g.filter(ie=>ie.id!==B)),r({title:"Produto removido!",description:"Produto removido do carrinho"})},zn=(B,ie)=>{if(ie<=0){Vn(B);return}b(g.map(le=>le.id===B?{...le,quantidade:ie}:le))},nr=()=>g.reduce((B,ie)=>B+ie.preco*ie.quantidade,0),Wr=()=>{if(g.length===0){r({title:"Carrinho vazio!",description:"Adicione produtos ao carrinho antes de finalizar",variant:"destructive"});return}if(!N){r({title:"Cliente no informado!",description:"Selecione um cliente antes de finalizar",variant:"destructive"});return}Q(!0)},jr=()=>{b([]),R(null),setClienteDigitado(""),C("selecionar"),de([]),G({tipo:"porcentagem",valor:0}),r({title:"Venda cancelada",description:"Carrinho limpo"})},jn=()=>{de([...he,{id:Date.now(),tipo:"dinheiro",valor:0,observacao:""}])},kr=B=>{de(he.filter(ie=>ie.id!==B))},rr=(B,ie,le)=>{de(he.map(we=>we.id===B?{...we,[ie]:le}:we))},Yt=()=>{const B=nr();return xe.tipo==="porcentagem"?B*(1-xe.valor/100):Math.max(0,B-xe.valor)},Un=()=>he.reduce((B,ie)=>B+ie.valor,0),O=async B=>{try{for(const ie of B){const le=c.find(we=>we.id===ie.produtoId);if(le){const we=le.quantidade-ie.quantidade;await u({...le,quantidade:we},le.id),await f({produtoId:ie.produtoId,produto:ie.nome,tipo:"saida",quantidade:ie.quantidade,observacao:`Venda - OV ${s.length+1}`,data:new Date().toISOString(),usuario:"Sistema",createdAt:new Date().toISOString()}),console.log(` Baixa realizada: ${ie.nome} - ${ie.quantidade} unidades`)}}r({title:"Estoque atualizado!",description:"Baixa realizada com sucesso no estoque"})}catch(ie){console.error(" Erro ao dar baixa no estoque:",ie),r({title:"Erro no estoque!",description:"Erro ao atualizar o estoque. Verifique manualmente.",variant:"destructive"})}},ye=async()=>{const B=Yt(),ie=Un();if(ie<B){r({title:"Valor insuficiente!",description:`Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B)} | Pago: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ie)}`,variant:"destructive"});return}const le={numero:`OV${String(s.length+1).padStart(4,"0")}`,clienteId:N.id||null,clienteNome:N.nome,produtos:g.map(we=>({produtoId:we.id,nome:we.nome,preco:we.preco,quantidade:we.quantidade})),status:"Concluda",total:B,desconto:xe,formasPagamento:he,troco:ie-B,createdAt:new Date().toISOString()};try{await Ce(le),await O(g),gt(le,"add"),b([]),R(null),setClienteDigitado(""),C("selecionar"),de([]),G({tipo:"porcentagem",valor:0}),Q(!1),r({title:"Venda finalizada!",description:`OV criada com sucesso. Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B)}. Estoque atualizado.`})}catch(we){console.error("[OV] Erro ao finalizar pagamento:",we),r({title:"Erro!",description:"Erro ao finalizar a venda.",variant:"destructive"})}},J=c.filter(B=>{const ie=B.nome.toLowerCase().includes(p.toLowerCase())||B.codigo.toLowerCase().includes(p.toLowerCase()),le=y==="todas"||B.categoriaId===y;return ie&&le}),Ee=new Date().toISOString().slice(0,10),pe=s.filter(B=>{var le,we;return((le=B.createdAt)!=null&&le.toDate?B.createdAt.toDate().toISOString().slice(0,10):(we=B.createdAt)==null?void 0:we.slice(0,10))===Ee}).sort((B,ie)=>{var kn,q;const le=(kn=B.createdAt)!=null&&kn.toDate?B.createdAt.toDate():new Date(B.createdAt),we=(q=ie.createdAt)!=null&&q.toDate?ie.createdAt.toDate():new Date(ie.createdAt);return be==="recentes"?we-le:le-we}),pt=pe.filter(B=>B.clienteNome.toLowerCase().includes(_.toLowerCase())||B.numero.toLowerCase().includes(_.toLowerCase())),Ye=B=>{switch(B){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Processando":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluda":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelada":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Ordens de Venda"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Catlogo de produtos e carrinho de vendas"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Tn,{open:t.ov,onOpenChange:tt,children:[i.jsxs(X,{onClick:()=>Fe(),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[i.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Nova OV Manual"]}),i.jsxs(gn,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[i.jsx(vn,{children:i.jsxs(xn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(gs,{className:"h-6 w-6 text-blue-500"}),U?"Editar OV":"Nova Ordem de Venda"]})}),i.jsxs("form",{onSubmit:hr,className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Jr,{className:"h-5 w-5 text-blue-500"}),"Informaes do Cliente"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Cliente Cadastrado"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(me,{value:T,onChange:B=>ge(B.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),i.jsx(Dr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),j&&A.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:A.map(B=>i.jsx("div",{onClick:()=>{Ie({...te,clienteId:B.id.toString(),clienteNome:B.nome}),P(B.nome),I(!1)},className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:i.jsx(Jr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:B.nome}),i.jsxs("p",{className:"text-xs text-slate-500",children:[B.telefone," ",B.email&&` ${B.email}`]})]})]})},B.id))})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Digite o nome, telefone ou email do cliente para buscar"}),l.length===0&&i.jsx("p",{className:"text-xs text-amber-600 mt-1",children:" Cadastre clientes no mdulo Clientes primeiro"})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"clienteNome",className:"text-sm font-medium",children:"Nome do Cliente"}),i.jsx(me,{id:"clienteNome",value:te.clienteNome,onChange:B=>Ie({...te,clienteNome:B.target.value}),placeholder:"Digite o nome do cliente",className:"mt-1",required:!0}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use este campo se o cliente no estiver cadastrado"})]})]}),te.clienteNome&&i.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:i.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:[" Cliente: ",i.jsx("span",{className:"font-semibold",children:te.clienteNome})]})})]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(lr,{className:"h-5 w-5 text-green-500"}),"Produtos"]}),i.jsxs(X,{type:"button",onClick:Lt,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[i.jsx(Xn,{className:"h-4 w-4 mr-1"}),"Adicionar Produto"]})]}),i.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:te.produtos.map((B,ie)=>{var le;return i.jsxs("div",{className:"bg-white dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white",children:["Produto ",ie+1]}),te.produtos.length>1&&i.jsx(X,{type:"button",variant:"ghost",size:"icon",onClick:()=>xt(ie),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:i.jsx(ns,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Produto Cadastrado"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(me,{value:V[ie]||"",onChange:we=>ht(ie,we.target.value),placeholder:"Digite o nome ou cdigo do produto...",className:"pr-10"}),i.jsx(Dr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),M[ie]&&((le=W[ie])==null?void 0:le.length)>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:W[ie].map(we=>i.jsx("div",{onClick:()=>St(ie,we),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[we.imagem&&i.jsx("img",{src:we.imagem,alt:we.nome,className:"w-8 h-8 object-cover rounded border"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:we.nome}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Cdigo: ",we.codigo," | Estoque: ",we.quantidade," | ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(we.preco)]})]})]})},we.id))})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Digite o nome ou cdigo do produto para buscar"}),c.length===0&&i.jsx("p",{className:"text-xs text-amber-600 mt-1",children:" Cadastre produtos no mdulo Estoque primeiro"})]}),i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Nome do Produto"}),i.jsx(me,{value:B.nome,onChange:we=>bt(ie,"nome",we.target.value),placeholder:"Nome do produto",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Preo Unitrio"}),i.jsx(me,{type:"number",step:"0.01",value:B.preco,onChange:we=>bt(ie,"preco",we.target.value),placeholder:"0.00",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Quantidade"}),i.jsx(me,{type:"number",min:"1",value:B.quantidade,onChange:we=>bt(ie,"quantidade",we.target.value),className:"mt-1"})]})]}),i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Subtotal:"}),i.jsx("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B.preco*B.quantidade)})]})})]},ie)})})]}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"status",className:"text-sm font-medium",children:"Status da OV"}),i.jsxs(ut,{value:te.status,onValueChange:B=>Ie({...te,status:B}),className:"mt-1",children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"Pendente",children:"Pendente"}),i.jsx(ae,{value:"Processando",children:"Processando"}),i.jsx(ae,{value:"Concluda",children:"Concluda"}),i.jsx(ae,{value:"Cancelada",children:"Cancelada"})]})]})]}),i.jsx("div",{className:"bg-white dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Total da OV"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(te.total)})]})})]})}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(X,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2",children:U?"Atualizar OV":"Criar OV"}),i.jsx(X,{type:"button",variant:"outline",onClick:tt,className:"flex-1",children:"Cancelar"})]})]})]})]}),i.jsxs(X,{onClick:()=>oe(!0),variant:"outline",className:"border-blue-500 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:["Ver OVs do Dia (",pe.length,")"]})]})]}),i.jsxs("div",{className:"flex gap-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar produtos...",value:p,onChange:B=>m(B.target.value),className:"pl-10"})]}),i.jsxs(ut,{value:y,onValueChange:w,children:[i.jsx(it,{className:"w-48",children:i.jsx(dt,{placeholder:"Categoria"})}),i.jsxs(at,{children:[i.jsx(ae,{value:"todas",children:"Todas as categorias"}),d.map(B=>i.jsx(ae,{value:B.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:B.cor}}),B.nome]})},B.id))]})]})]}),i.jsx("div",{className:"space-y-6",children:d.map(B=>{const ie=J.filter(le=>le.categoriaId===B.id);return ie.length===0?null:i.jsxs("div",{children:[i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 border rounded-lg p-3 mb-4",style:{borderColor:B.cor},children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:B.cor}}),i.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:B.nome}),i.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[ie.length," produtos"]})]})})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:ie.map((le,we)=>i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:we*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex gap-3",children:[le.imagem&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:le.imagem,alt:le.nome,className:"w-16 h-16 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:le.nome}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Cdigo: ",le.codigo]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[i.jsx(Rn,{className:"h-3 w-3"}),i.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(le.preco)})]}),i.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[i.jsx(lr,{className:"h-3 w-3"}),i.jsxs("span",{className:`text-xs font-semibold ${le.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[le.quantidade," ",le.quantidade<=5&&"(Baixo)"]})]})]}),i.jsxs(X,{size:"sm",onClick:()=>qt(le),className:"w-full mt-2 bg-green-500 hover:bg-green-600 text-white",disabled:le.quantidade<=0,children:[i.jsx(Xn,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})]})},le.id))})]},B.id)})}),J.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(lr,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:p?"Nenhum produto encontrado":"Nenhum produto cadastrado"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:p?"Tente buscar com outros termos":"Cadastre produtos no mdulo de Estoque"})]})]}),i.jsxs("div",{className:"w-80 bg-white dark:bg-slate-800 rounded-lg border p-4 h-fit sticky top-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[i.jsx(gs,{className:"h-5 w-5"}),"Carrinho"]}),g.length>0&&i.jsx(X,{size:"sm",variant:"outline",onClick:jr,children:i.jsx(Cr,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs(ne,{className:"text-sm font-medium",children:["Cliente ",l.length>0&&`(${l.length} cadastrados)`]}),i.jsx("div",{className:"mb-2",children:i.jsx("span",{className:"text-xs text-slate-500",children:l.length===0?"Nenhum cliente encontrado":`${l.length} cliente(s) disponvel(is)`})}),i.jsx("div",{className:"space-y-2 mb-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(me,{value:T,onChange:B=>ge(B.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),i.jsx(Dr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),j&&A.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:A.map(B=>i.jsx("div",{onClick:()=>Pe(B),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:i.jsx(Jr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:B.nome}),i.jsxs("p",{className:"text-xs text-slate-500",children:[B.telefone," ",B.email&&` ${B.email}`]})]})]})},B.id))})]}),i.jsx("p",{className:"text-xs text-slate-500",children:" Digite o nome, telefone ou email do cliente para buscar"}),N&&i.jsxs("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:[" Cliente selecionado: ",N.nome]}),l.length===0&&i.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:" Nenhum cliente cadastrado. Digite o nome do cliente abaixo."})]})})]}),i.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:g.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(gs,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Seu carrinho est vazio"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Adicione produtos do catlogo"})]}):g.map(B=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700 rounded",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:B.nome}),i.jsx("p",{className:"text-xs text-slate-500",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B.preco)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(X,{size:"sm",variant:"outline",onClick:()=>zn(B.id,B.quantidade-1),className:"h-6 w-6 p-0",children:i.jsx(Y9,{className:"h-3 w-3"})}),i.jsx("span",{className:"text-sm w-6 text-center",children:B.quantidade}),i.jsx(X,{size:"sm",variant:"outline",onClick:()=>zn(B.id,B.quantidade+1),className:"h-6 w-6 p-0",children:i.jsx(Xn,{className:"h-3 w-3"})})]}),i.jsx(X,{size:"sm",variant:"outline",onClick:()=>Vn(B.id),className:"h-6 w-6 p-0 text-red-500",children:i.jsx(Cr,{className:"h-3 w-3"})})]},B.id))}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("span",{className:"font-semibold",children:"Total:"}),i.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",nr().toFixed(2)]})]}),i.jsx(X,{onClick:Wr,className:"w-full bg-green-600 hover:bg-green-700",disabled:g.length===0||!N,children:"Finalizar Venda"})]})]})]}),i.jsx(Tn,{open:ce,onOpenChange:oe,children:i.jsxs(gn,{className:"max-w-7xl max-h-[95vh] flex flex-col bg-white dark:bg-slate-900",children:[i.jsxs(vn,{className:"pb-4 flex-shrink-0",children:[i.jsxs(xn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(gs,{className:"h-6 w-6 text-blue-500"}),"Ordens de Venda do Dia",i.jsxs("span",{className:"text-lg font-normal text-slate-500",children:["(",pe.length," OVs)"]})]}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Todas as ordens de venda criadas hoje (",new Date().toLocaleDateString("pt-BR"),")"]})]}),i.jsxs("div",{className:"mb-6 space-y-4 flex-shrink-0",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar OVs por cliente ou nmero...",value:_,onChange:B=>S(B.target.value),className:"pl-10"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ne,{className:"text-sm font-medium",children:"Ordenar por:"}),i.jsxs(ut,{value:be,onValueChange:Ae,children:[i.jsx(it,{className:"w-48",children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"recentes",children:"Mais Recentes"}),i.jsx(ae,{value:"antigas",children:"Mais Antigas"})]})]})]}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[pt.length," OV(s) encontrada(s)"]})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",maxHeight:"calc(95vh - 200px)"},children:[i.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),pt.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(gs,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-medium text-slate-900 dark:text-white mb-2",children:_?"Nenhuma OV encontrada":"Nenhuma OV criada hoje"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:_?"Tente buscar com outros termos":"As OVs criadas hoje aparecero aqui"})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:pt.map((B,ie)=>{var le;return i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ie*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:B.numero}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ye(B.status)}`,children:B.status})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Fe(B),className:"h-7 w-7 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/20",children:i.jsx(bs,{className:"h-3 w-3"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>fr(B.id),className:"h-7 w-7 p-0 text-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20",children:i.jsx(ns,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"space-y-2 mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx(Jr,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:B.clienteNome})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[i.jsx(gs,{className:"h-4 w-4"}),i.jsxs("span",{children:[B.produtos.length," produto(s)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rn,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B.total)})]})]}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date((le=B.createdAt)!=null&&le.toDate?B.createdAt.toDate():B.createdAt).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})})]}),i.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:i.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:B.produtos.map((we,kn)=>i.jsxs("div",{className:"flex justify-between items-center text-xs bg-slate-50 dark:bg-slate-700/50 p-2 rounded",children:[i.jsx("span",{className:"font-medium truncate flex-1 mr-2",children:we.nome}),i.jsxs("span",{className:"text-slate-500 whitespace-nowrap",children:[we.quantidade,"x ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(we.preco)]})]},kn))})})]})},B.id)})})]})]})}),i.jsx(Tn,{open:Y,onOpenChange:Q,children:i.jsxs(gn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[i.jsx(vn,{children:i.jsx(xn,{children:"Finalizar Venda - Formas de Pagamento"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Resumo da Venda"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Cliente:"}),i.jsx("span",{className:"font-medium",children:N==null?void 0:N.nome})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Original:"}),i.jsxs("span",{children:["R$ ",nr().toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Desconto:"}),i.jsx("span",{className:"text-red-600",children:xe.valor>0?xe.tipo==="porcentagem"?`${xe.valor}% (${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(nr()*xe.valor/100)})`:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(xe.valor):i.jsx("span",{className:"text-slate-500",children:"Nenhum desconto"})})]}),i.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[i.jsx("span",{children:"Total Final:"}),i.jsxs("span",{className:"text-green-600",children:["R$ ",Yt().toFixed(2)]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold",children:"Desconto"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(ut,{value:xe.tipo,onValueChange:B=>G({...xe,tipo:B}),children:[i.jsx(it,{className:"w-32",children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"porcentagem",children:"%"}),i.jsx(ae,{value:"valor",children:"R$"})]})]}),i.jsx(me,{type:"number",step:xe.tipo==="porcentagem"?"1":"0.01",min:"0",max:xe.tipo==="porcentagem"?"100":nr(),value:xe.valor,onChange:B=>G({...xe,valor:parseFloat(B.target.value)||0}),placeholder:"0",className:"flex-1"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"font-semibold",children:"Formas de Pagamento"}),i.jsxs(X,{size:"sm",onClick:jn,children:[i.jsx(Xn,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),i.jsx("div",{className:"space-y-3",children:he.map((B,ie)=>i.jsxs("div",{className:"flex gap-3 items-center p-3 border rounded-lg",children:[i.jsxs(ut,{value:B.tipo,onValueChange:le=>rr(B.id,"tipo",le),children:[i.jsx(it,{className:"w-32",children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"dinheiro",children:"Dinheiro"}),i.jsx(ae,{value:"cartao_debito",children:"Carto Dbito"}),i.jsx(ae,{value:"cartao_credito",children:"Carto Crdito"}),i.jsx(ae,{value:"pix",children:"PIX"}),i.jsx(ae,{value:"cheque",children:"Cheque"}),i.jsx(ae,{value:"outros",children:"Outros"})]})]}),i.jsx(me,{type:"number",step:"0.01",min:"0",value:B.valor,onChange:le=>rr(B.id,"valor",parseFloat(le.target.value)||0),placeholder:"Valor",className:"flex-1"}),i.jsx(me,{value:B.observacao,onChange:le=>rr(B.id,"observacao",le.target.value),placeholder:"Observao",className:"flex-1"}),i.jsx(X,{size:"sm",variant:"outline",onClick:()=>kr(B.id),className:"text-red-500",children:i.jsx(Cr,{className:"h-4 w-4"})})]},B.id))})]}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Pago:"}),i.jsxs("span",{className:"font-semibold",children:["R$ ",Un().toFixed(2)]})]}),Un()>Yt()&&i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsx("span",{children:"Troco:"}),i.jsxs("span",{className:"font-semibold",children:["R$ ",(Un()-Yt()).toFixed(2)]})]})]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(X,{onClick:ye,className:"flex-1 bg-green-600 hover:bg-green-700",disabled:he.length===0||Un()<Yt(),children:"Finalizar Pagamento"}),i.jsx(X,{variant:"outline",onClick:()=>Q(!1),className:"flex-1",children:"Cancelar"})]})]})]})})]})};var hg={exports:{}},UM={};function BM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=BM(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function ZT(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=BM(t))&&(r&&(r+=" "),r+=e);return r}const fX=Object.freeze(Object.defineProperty({__proto__:null,clsx:ZT,default:ZT},Symbol.toStringTag,{value:"Module"})),pX=X4(fX);var Kt={},io={};Object.defineProperty(io,"__esModule",{value:!0});io.dontSetMe=yX;io.findInArray=mX;io.int=xX;io.isFunction=gX;io.isNum=vX;function mX(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function gX(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function vX(t){return typeof t=="number"&&!isNaN(t)}function xX(t){return parseInt(t,10)}function yX(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.browserPrefixToKey=qM;sl.browserPrefixToStyle=wX;sl.default=void 0;sl.getPrefix=$M;const Yv=["Moz","Webkit","O","ms"];function $M(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Yv.length;r++)if(qM(e,Yv[r])in n)return Yv[r];return""}function qM(t,e){return e?"".concat(e).concat(bX(t)):t}function wX(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function bX(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}sl.default=$M();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.addClassName=GM;Kt.addEvent=CX;Kt.addUserSelectStyles=MX;Kt.createCSSTransform=PX;Kt.createSVGTransform=AX;Kt.getTouch=RX;Kt.getTouchIdentifier=DX;Kt.getTranslation=u1;Kt.innerHeight=jX;Kt.innerWidth=kX;Kt.matchesSelector=HM;Kt.matchesSelectorAndParentsTo=SX;Kt.offsetXYFromParent=IX;Kt.outerHeight=TX;Kt.outerWidth=NX;Kt.removeClassName=KM;Kt.removeEvent=EX;Kt.removeUserSelectStyles=OX;var zr=io,JT=_X(sl);function WM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(WM=function(r){return r?n:e})(t)}function _X(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=WM(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let sf="";function HM(t,e){return sf||(sf=(0,zr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,zr.isFunction)(t[n])})),(0,zr.isFunction)(t[sf])?t[sf](e):!1}function SX(t,e,n){let r=t;do{if(HM(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function CX(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function EX(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function TX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,zr.int)(n.borderTopWidth),e+=(0,zr.int)(n.borderBottomWidth),e}function NX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,zr.int)(n.borderLeftWidth),e+=(0,zr.int)(n.borderRightWidth),e}function jX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,zr.int)(n.paddingTop),e-=(0,zr.int)(n.paddingBottom),e}function kX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,zr.int)(n.paddingLeft),e-=(0,zr.int)(n.paddingRight),e}function IX(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-s.left)/n,a=(t.clientY+e.scrollTop-s.top)/n;return{x:o,y:a}}function PX(t,e){const n=u1(t,e,"px");return{[(0,JT.browserPrefixToKey)("transform",JT.default)]:n}}function AX(t,e){return u1(t,e,"")}function u1(t,e,n){let{x:r,y:s}=t,o="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const a="".concat(typeof e.x=="string"?e.x:e.x+n),l="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(a,", ").concat(l,")")+o}return o}function RX(t,e){return t.targetTouches&&(0,zr.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,zr.findInArray)(t.changedTouches,n=>e===n.identifier)}function DX(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function MX(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&GM(t.body,"react-draggable-transparent-selection")}function OX(t){if(t)try{if(t.body&&KM(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function GM(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function KM(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.canDragX=VX;ao.canDragY=zX;ao.createCoreData=BX;ao.createDraggableData=$X;ao.getBoundPosition=LX;ao.getControlPosition=UX;ao.snapToGrid=FX;var Pr=io,Ml=Kt;function LX(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:qX(r);const s=d1(t);if(typeof r=="string"){const{ownerDocument:o}=s,a=o.defaultView;let l;if(r==="parent"?l=s.parentNode:l=o.querySelector(r),!(l instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=l,u=a.getComputedStyle(s),d=a.getComputedStyle(c);r={left:-s.offsetLeft+(0,Pr.int)(d.paddingLeft)+(0,Pr.int)(u.marginLeft),top:-s.offsetTop+(0,Pr.int)(d.paddingTop)+(0,Pr.int)(u.marginTop),right:(0,Ml.innerWidth)(c)-(0,Ml.outerWidth)(s)-s.offsetLeft+(0,Pr.int)(d.paddingRight)-(0,Pr.int)(u.marginRight),bottom:(0,Ml.innerHeight)(c)-(0,Ml.outerHeight)(s)-s.offsetTop+(0,Pr.int)(d.paddingBottom)-(0,Pr.int)(u.marginBottom)}}return(0,Pr.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Pr.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Pr.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Pr.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function FX(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function VX(t){return t.props.axis==="both"||t.props.axis==="x"}function zX(t){return t.props.axis==="both"||t.props.axis==="y"}function UX(t,e,n){const r=typeof e=="number"?(0,Ml.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=d1(n),o=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Ml.offsetXYFromParent)(r||t,o,n.props.scale)}function BX(t,e,n){const r=!(0,Pr.isNum)(t.lastX),s=d1(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function $X(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function qX(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function d1(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var fg={},pg={};Object.defineProperty(pg,"__esModule",{value:!0});pg.default=WX;function WX(){}Object.defineProperty(fg,"__esModule",{value:!0});fg.default=void 0;var Qv=GX(v),pr=h1(uw),HX=h1(ks),Wn=Kt,Ko=ao,Xv=io,hu=h1(pg);function h1(t){return t&&t.__esModule?t:{default:t}}function YM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(YM=function(r){return r?n:e})(t)}function GX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=YM(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function sr(t,e,n){return e=KX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e=YX(t,"string");return typeof e=="symbol"?e:String(e)}function YX(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ds={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Yo=ds.mouse,mg=class extends Qv.Component{constructor(){super(...arguments),sr(this,"dragging",!1),sr(this,"lastX",NaN),sr(this,"lastY",NaN),sr(this,"touchIdentifier",null),sr(this,"mounted",!1),sr(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Wn.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Wn.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,Wn.getTouchIdentifier)(e);this.touchIdentifier=s;const o=(0,Ko.getControlPosition)(e,s,this);if(o==null)return;const{x:a,y:l}=o,c=(0,Ko.createCoreData)(this,a,l);(0,hu.default)("DraggableCore: handleDragStart: %j",c),(0,hu.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Wn.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=l,(0,Wn.addEvent)(r,Yo.move,this.handleDrag),(0,Wn.addEvent)(r,Yo.stop,this.handleDragStop))}),sr(this,"handleDrag",e=>{const n=(0,Ko.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX,c=s-this.lastY;if([l,c]=(0,Ko.snapToGrid)(this.props.grid,l,c),!l&&!c)return;r=this.lastX+l,s=this.lastY+c}const o=(0,Ko.createCoreData)(this,r,s);if((0,hu.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),sr(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Ko.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,u=s-this.lastY||0;[c,u]=(0,Ko.snapToGrid)(this.props.grid,c,u),r=this.lastX+c,s=this.lastY+u}const o=(0,Ko.createCoreData)(this,r,s);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,Wn.removeUserSelectStyles)(l.ownerDocument),(0,hu.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,hu.default)("DraggableCore: Removing handlers"),(0,Wn.removeEvent)(l.ownerDocument,Yo.move,this.handleDrag),(0,Wn.removeEvent)(l.ownerDocument,Yo.stop,this.handleDragStop))}),sr(this,"onMouseDown",e=>(Yo=ds.mouse,this.handleDragStart(e))),sr(this,"onMouseUp",e=>(Yo=ds.mouse,this.handleDragStop(e))),sr(this,"onTouchStart",e=>(Yo=ds.touch,this.handleDragStart(e))),sr(this,"onTouchEnd",e=>(Yo=ds.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Wn.addEvent)(e,ds.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Wn.removeEvent)(n,ds.mouse.move,this.handleDrag),(0,Wn.removeEvent)(n,ds.touch.move,this.handleDrag),(0,Wn.removeEvent)(n,ds.mouse.stop,this.handleDragStop),(0,Wn.removeEvent)(n,ds.touch.stop,this.handleDragStop),(0,Wn.removeEvent)(e,ds.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Wn.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:HX.default.findDOMNode(this)}render(){return Qv.cloneElement(Qv.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};fg.default=mg;sr(mg,"displayName","DraggableCore");sr(mg,"propTypes",{allowAnyClick:pr.default.bool,children:pr.default.node.isRequired,disabled:pr.default.bool,enableUserSelectHack:pr.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:pr.default.arrayOf(pr.default.number),handle:pr.default.string,cancel:pr.default.string,nodeRef:pr.default.object,onStart:pr.default.func,onDrag:pr.default.func,onStop:pr.default.func,onMouseDown:pr.default.func,scale:pr.default.number,className:Xv.dontSetMe,style:Xv.dontSetMe,transform:Xv.dontSetMe});sr(mg,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=p(v),n=d(uw),r=d(ks),s=d(pX),o=Kt,a=ao,l=io,c=d(fg),u=d(pg);function d(g){return g&&g.__esModule?g:{default:g}}function f(g){if(typeof WeakMap!="function")return null;var b=new WeakMap,N=new WeakMap;return(f=function(R){return R?N:b})(g)}function p(g,b){if(!b&&g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var N=f(b);if(N&&N.has(g))return N.get(g);var R={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in g)if(C!=="default"&&Object.prototype.hasOwnProperty.call(g,C)){var T=L?Object.getOwnPropertyDescriptor(g,C):null;T&&(T.get||T.set)?Object.defineProperty(R,C,T):R[C]=g[C]}return R.default=g,N&&N.set(g,R),R}function m(){return m=Object.assign?Object.assign.bind():function(g){for(var b=1;b<arguments.length;b++){var N=arguments[b];for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(g[R]=N[R])}return g},m.apply(this,arguments)}function y(g,b,N){return b=w(b),b in g?Object.defineProperty(g,b,{value:N,enumerable:!0,configurable:!0,writable:!0}):g[b]=N,g}function w(g){var b=_(g,"string");return typeof b=="symbol"?b:String(b)}function _(g,b){if(typeof g!="object"||g===null)return g;var N=g[Symbol.toPrimitive];if(N!==void 0){var R=N.call(g,b||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(g)}class S extends e.Component{static getDerivedStateFromProps(b,N){let{position:R}=b,{prevPropsPosition:L}=N;return R&&(!L||R.x!==L.x||R.y!==L.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:L}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(b){super(b),y(this,"onDragStart",(N,R)=>{if((0,u.default)("Draggable: onDragStart: %j",R),this.props.onStart(N,(0,a.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(N,R)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",R);const L=(0,a.createDraggableData)(this,R),C={x:L.x,y:L.y,slackX:0,slackY:0};if(this.props.bounds){const{x:P,y:A}=C;C.x+=this.state.slackX,C.y+=this.state.slackY;const[k,j]=(0,a.getBoundPosition)(this,C.x,C.y);C.x=k,C.y=j,C.slackX=this.state.slackX+(P-C.x),C.slackY=this.state.slackY+(A-C.y),L.x=C.x,L.y=C.y,L.deltaX=C.x-this.state.x,L.deltaY=C.y-this.state.y}if(this.props.onDrag(N,L)===!1)return!1;this.setState(C)}),y(this,"onDragStop",(N,R)=>{if(!this.state.dragging||this.props.onStop(N,(0,a.createDraggableData)(this,R))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",R);const C={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:P,y:A}=this.props.position;C.x=P,C.y=A}this.setState(C)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,N;return(b=(N=this.props)===null||N===void 0||(N=N.nodeRef)===null||N===void 0?void 0:N.current)!==null&&b!==void 0?b:r.default.findDOMNode(this)}render(){const{axis:b,bounds:N,children:R,defaultPosition:L,defaultClassName:C,defaultClassNameDragging:T,defaultClassNameDragged:P,position:A,positionOffset:k,scale:j,...I}=this.props;let V={},F=null;const $=!!!A||this.state.dragging,M=A||L,z={x:(0,a.canDragX)(this)&&$?this.state.x:M.x,y:(0,a.canDragY)(this)&&$?this.state.y:M.y};this.state.isElementSVG?F=(0,o.createSVGTransform)(z,k):V=(0,o.createCSSTransform)(z,k);const Y=(0,s.default)(R.props.className||"",C,{[T]:this.state.dragging,[P]:this.state.dragged});return e.createElement(c.default,m({},I,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(R),{className:Y,style:{...R.props.style,...V},transform:F}))}}t.default=S,y(S,"displayName","Draggable"),y(S,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),y(S,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(UM);const{default:QM,DraggableCore:QX}=UM;hg.exports=QM;hg.exports.default=QM;hg.exports.DraggableCore=QX;var XX=hg.exports;const ZX=Ya(XX);var en=globalThis&&globalThis.__assign||function(){return en=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},en.apply(this,arguments)},eN={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},tN={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},of={width:"20px",height:"20px",position:"absolute",zIndex:1},JX={top:en(en({},eN),{top:"-5px"}),right:en(en({},tN),{left:void 0,right:"-5px"}),bottom:en(en({},eN),{top:void 0,bottom:"-5px"}),left:en(en({},tN),{left:"-5px"}),topRight:en(en({},of),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:en(en({},of),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:en(en({},of),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:en(en({},of),{left:"-10px",top:"-10px",cursor:"nw-resize"})},eZ=v.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,s=t.replaceStyles,o=t.className,a=v.useCallback(function(u){e(u,n)},[e,n]),l=v.useCallback(function(u){e(u,n)},[e,n]),c=v.useMemo(function(){return en(en({position:"absolute",userSelect:"none"},JX[n]),s??{})},[s,n]);return i.jsx("div",{className:o||void 0,style:c,onMouseDown:a,onTouchStart:l,children:r})}),tZ=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Os=globalThis&&globalThis.__assign||function(){return Os=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Os.apply(this,arguments)},nZ={width:"auto",height:"auto"},af=function(t,e,n){return Math.max(Math.min(t,n),e)},nN=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},hl=function(t,e){return new RegExp(t,"i").test(e)},lf=function(t){return!!(t.touches&&t.touches.length)},rZ=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},rN=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(o,a,l){return Math.abs(a-t)<Math.abs(e[o]-t)?l:o},0),s=Math.abs(e[r]-t);return n===0||s<n?e[r]:t},Zv=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},cf=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var s=Number(t.replace("%",""))/100;return e*s}if(t.endsWith("vw")){var s=Number(t.replace("vw",""))/100;return n*s}if(t.endsWith("vh")){var s=Number(t.replace("vh",""))/100;return r*s}}return t},sZ=function(t,e,n,r,s,o,a){return r=cf(r,t.width,e,n),s=cf(s,t.height,e,n),o=cf(o,t.width,e,n),a=cf(a,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof a>"u"?void 0:Number(a)}},oZ=function(t){return Array.isArray(t)?t:[t,t]},iZ=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],sN="__resizable_base__",aZ=function(t){tZ(e,t);function e(n){var r,s,o,a,l=t.call(this,n)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var c=l.parentNode;if(!c)return null;var u=l.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(sN):u.className+=sN,c.appendChild(u),u},l.removeBase=function(c){var u=l.parentNode;u&&u.removeChild(c)},l.state={isResizing:!1,width:(s=(r=l.propsSize)===null||r===void 0?void 0:r.width)!==null&&s!==void 0?s:"auto",height:(a=(o=l.propsSize)===null||o===void 0?void 0:o.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||nZ},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,o=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=a}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,s=function(l){var c;if(typeof n.state[l]>"u"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&(!((c=n.propsSize[l])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var u=n.getParentSize(),d=Number(n.state[l].toString().replace("px","")),f=d/u[l]*100;return"".concat(f,"%")}return Zv(n.state[l])},o=r&&typeof r.width<"u"&&!this.state.isResizing?Zv(r.width):s("width"),a=r&&typeof r.height<"u"&&!this.state.isResizing?Zv(r.height):s("height");return{width:o,height:a}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=s),this.removeBase(n),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var s=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof s>"u"||s==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var s=this.props.boundsByDirection,o=this.state.direction,a=s&&hl("left",o),l=s&&hl("top",o),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=a?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=l?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var s=this.props.scale||1,o=oZ(this.props.resizeRatio||1),a=o[0],l=o[1],c=this.state,u=c.direction,d=c.original,f=this.props,p=f.lockAspectRatio,m=f.lockAspectRatioExtraHeight,y=f.lockAspectRatioExtraWidth,w=d.width,_=d.height,S=m||0,g=y||0;return hl("right",u)&&(w=d.width+(n-d.x)*a/s,p&&(_=(w-g)/this.ratio+S)),hl("left",u)&&(w=d.width-(n-d.x)*a/s,p&&(_=(w-g)/this.ratio+S)),hl("bottom",u)&&(_=d.height+(r-d.y)*l/s,p&&(w=(_-S)*this.ratio+g)),hl("top",u)&&(_=d.height-(r-d.y)*l/s,p&&(w=(_-S)*this.ratio+g)),{newWidth:w,newHeight:_}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,s,o){var a=this.props,l=a.lockAspectRatio,c=a.lockAspectRatioExtraHeight,u=a.lockAspectRatioExtraWidth,d=typeof o.width>"u"?10:o.width,f=typeof s.width>"u"||s.width<0?n:s.width,p=typeof o.height>"u"?10:o.height,m=typeof s.height>"u"||s.height<0?r:s.height,y=c||0,w=u||0;if(l){var _=(p-y)*this.ratio+w,S=(m-y)*this.ratio+w,g=(d-w)/this.ratio+y,b=(f-w)/this.ratio+y,N=Math.max(d,_),R=Math.min(f,S),L=Math.max(p,g),C=Math.min(m,b);n=af(n,N,R),r=af(r,L,C)}else n=af(n,d,f),r=af(r,p,m);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var s=r.getBoundingClientRect();this.parentLeft=s.left*n,this.parentTop=s.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var a=this.resizable.getBoundingClientRect(),l=a.left,c=a.top,u=a.right,d=a.bottom;this.resizableLeft=l*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var s=0,o=0;if(n.nativeEvent&&rZ(n.nativeEvent)?(s=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&lf(n.nativeEvent)&&(s=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(n,r,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",l=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:s,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Os(Os({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(f)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&lf(n))try{n.preventDefault(),n.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,a=s.maxHeight,l=s.minWidth,c=s.minHeight,u=lf(n)?n.touches[0].clientX:n.clientX,d=lf(n)?n.touches[0].clientY:n.clientY,f=this.state,p=f.direction,m=f.original,y=f.width,w=f.height,_=this.getParentSize(),S=sZ(_,this.window.innerWidth,this.window.innerHeight,o,a,l,c);o=S.maxWidth,a=S.maxHeight,l=S.minWidth,c=S.minHeight;var g=this.calculateNewSizeFromDirection(u,d),b=g.newHeight,N=g.newWidth,R=this.calculateNewMaxFromBoundary(o,a);this.props.snap&&this.props.snap.x&&(N=rN(N,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=rN(b,this.props.snap.y,this.props.snapGap));var L=this.calculateNewSizeFromAspectRatio(N,b,{width:R.maxWidth,height:R.maxHeight},{width:l,height:c});if(N=L.newWidth,b=L.newHeight,this.props.grid){var C=nN(N,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),T=nN(b,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),P=this.props.snapGap||0,A=P===0||Math.abs(C-N)<=P?C:N,k=P===0||Math.abs(T-b)<=P?T:b;N=A,b=k}var j={width:N-m.width,height:b-m.height};if(this.delta=j,y&&typeof y=="string"){if(y.endsWith("%")){var I=N/_.width*100;N="".concat(I,"%")}else if(y.endsWith("vw")){var V=N/this.window.innerWidth*100;N="".concat(V,"vw")}else if(y.endsWith("vh")){var F=N/this.window.innerHeight*100;N="".concat(F,"vh")}}if(w&&typeof w=="string"){if(w.endsWith("%")){var I=b/_.height*100;b="".concat(I,"%")}else if(w.endsWith("vw")){var V=b/this.window.innerWidth*100;b="".concat(V,"vw")}else if(w.endsWith("vh")){var F=b/this.window.innerHeight*100;b="".concat(F,"vh")}}var W={width:this.createSizeForCssProperty(N,"width"),height:this.createSizeForCssProperty(b,"height")};this.flexDir==="row"?W.flexBasis=W.width:this.flexDir==="column"&&(W.flexBasis=W.height);var $=this.state.width!==W.width,M=this.state.height!==W.height,z=this.state.flexBasis!==W.flexBasis,Y=$||M||z;Y&&ks.flushSync(function(){r.setState(W)}),this.props.onResize&&Y&&this.props.onResize(n,p,this.resizable,j)}},e.prototype.onMouseUp=function(n){var r,s,o=this.state,a=o.isResizing,l=o.direction;o.original,!(!a||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,l,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Os(Os({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,s;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(s=n.height)!==null&&s!==void 0?s:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,s=r.enable,o=r.handleStyles,a=r.handleClasses,l=r.handleWrapperStyle,c=r.handleWrapperClass,u=r.handleComponent;if(!s)return null;var d=Object.keys(s).map(function(f){return s[f]!==!1?i.jsx(eZ,{direction:f,onResizeStart:n.onResizeStart,replaceStyles:o&&o[f],className:a&&a[f],children:u&&u[f]?u[f]:null},f):null});return i.jsx("div",{className:c,style:l,children:d})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(a,l){return iZ.indexOf(l)!==-1||(a[l]=n.props[l]),a},{}),s=Os(Os(Os({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return i.jsxs(o,Os({style:s,className:this.props.className},r,{ref:function(a){a&&(n.resizable=a)},children:[this.state.isResizing&&i.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(v.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var hy=function(t,e){return hy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},hy(t,e)};function lZ(t,e){hy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var cn=function(){return cn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},cn.apply(this,arguments)};function cZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var uZ={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},dZ=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}};(function(t){lZ(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,s=n.top,o=this.getDraggablePosition(),a=o.x,l=o.y;this.draggable.setState({x:a-r,y:l-s}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,s=n.y;return{x:r,y:s}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var s=this.getDraggablePosition();if(this.originalPosition=s,!!this.props.bounds){var o=this.getParent(),a=this.props.scale,l;if(this.props.bounds==="parent")l=o;else if(this.props.bounds==="body"){var c=o.getBoundingClientRect(),u=c.left,d=c.top,f=document.body.getBoundingClientRect(),p=-(u-o.offsetLeft*a-f.left)/a,m=-(d-o.offsetTop*a-f.top)/a,y=(document.body.offsetWidth-this.resizable.size.width*a)/a+p,w=(document.body.offsetHeight-this.resizable.size.height*a)/a+m;return this.setState({bounds:{top:m,right:y,bottom:w,left:p}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var _=o.getBoundingClientRect(),S=_.left,g=_.top,b=-(S-o.offsetLeft*a)/a,N=-(g-o.offsetTop*a)/a,y=(window.innerWidth-this.resizable.size.width*a)/a+b,w=(window.innerHeight-this.resizable.size.height*a)/a+N;return this.setState({bounds:{top:N,right:y,bottom:w,left:b}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(o instanceof HTMLElement))){var R=l.getBoundingClientRect(),L=R.left,C=R.top,T=o.getBoundingClientRect(),P=T.left,A=T.top,k=(L-P)/a,j=C-A;if(this.resizable){this.updateOffsetFromParent();var I=this.offsetFromParent;this.setState({bounds:{top:j-I.top,right:k+(l.offsetWidth-this.resizable.size.width)-I.left/a,bottom:j+(l.offsetHeight-this.resizable.size.height)-I.top,left:k-I.left/a}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var s=this.offsetFromParent,o=s.left,a=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,cn(cn({},r),{x:r.x+o,y:r.y+a}));if(this.props.dragAxis==="x")return this.props.onDrag(n,cn(cn({},r),{x:r.x+o,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,cn(cn({},r),{x:this.originalPosition.x+o,y:r.y+a,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var s=this.offsetFromParent,o=s.left,a=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,cn(cn({},r),{x:r.x+o,y:r.y+a}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,cn(cn({},r),{x:r.x+o,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,cn(cn({},r),{x:this.originalPosition.x+o,y:r.y+a,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,s){n.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,a=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+a.left,y:l.y+a.top},this.originalPosition=l,this.props.bounds){var c=this.getParent(),u=void 0;this.props.bounds==="parent"?u=c:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(u instanceof HTMLElement||u===window)&&c instanceof HTMLElement){var f=this.getMaxSizesFromProps(),p=f.maxWidth,m=f.maxHeight,y=this.getParentSize();if(p&&typeof p=="string")if(p.endsWith("%")){var w=Number(p.replace("%",""))/100;p=y.width*w}else p.endsWith("px")&&(p=Number(p.replace("px","")));if(m&&typeof m=="string")if(m.endsWith("%")){var w=Number(m.replace("%",""))/100;m=y.height*w}else m.endsWith("px")&&(m=Number(m.replace("px","")));var _=d.getBoundingClientRect(),S=_.left,g=_.top,b=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),N=b.left,R=b.top,L=this.getOffsetWidth(u),C=this.getOffsetHeight(u),T=r.toLowerCase().endsWith("left"),P=r.toLowerCase().endsWith("right"),A=r.startsWith("top"),k=r.startsWith("bottom");if((T||A)&&this.resizable){var j=(S-N)/o+this.resizable.size.width;this.setState({maxWidth:j>Number(p)?p:j})}if(P||this.props.lockAspectRatio&&!T&&!A){var j=L+(N-S)/o;this.setState({maxWidth:j>Number(p)?p:j})}if((A||T)&&this.resizable){var j=(g-R)/o+this.resizable.size.height;this.setState({maxHeight:j>Number(m)?m:j})}if(k||this.props.lockAspectRatio&&!A&&!T){var j=C+(R-g)/o;this.setState({maxHeight:j>Number(m)?m:j})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,s)},e.prototype.onResize=function(n,r,s,o){var a=this,l={x:this.originalPosition.x,y:this.originalPosition.y},c=-o.width,u=-o.height,d=["top","left","topLeft","bottomLeft","topRight"];d.includes(r)&&(r==="bottomLeft"?l.x+=c:(r==="topRight"||(l.x+=c),l.y+=u));var f=this.draggable.state;(l.x!==f.x||l.y!==f.y)&&ks.flushSync(function(){a.draggable.setState(l)}),this.updateOffsetFromParent();var p=this.offsetFromParent,m=this.getDraggablePosition().x+p.left,y=this.getDraggablePosition().y+p.top;this.resizingPosition={x:m,y},this.props.onResize&&this.props.onResize(n,r,s,o,{x:m,y})},e.prototype.onResizeStop=function(n,r,s,o){this.setState({resizing:!1});var a=this.getMaxSizesFromProps(),l=a.maxWidth,c=a.maxHeight;this.setState({maxWidth:l,maxHeight:c}),this.props.onResizeStop&&this.props.onResizeStop(n,r,s,o,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),s=this.getSelfElement();if(!r||s===null)return{top:0,left:0};var o=r.getBoundingClientRect(),a=o.left,l=o.top,c=s.getBoundingClientRect(),u=this.getDraggablePosition(),d=r.scrollLeft,f=r.scrollTop;this.offsetFromParent={left:c.left-a+d-u.x*n,top:c.top-l+f-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,s=r.disableDragging,o=r.style,a=r.dragHandleClassName,l=r.position,c=r.onMouseDown,u=r.onMouseUp,d=r.dragAxis,f=r.dragGrid,p=r.bounds,m=r.enableUserSelectHack,y=r.cancel,w=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var _=r.resizeHandleStyles,S=r.resizeHandleClasses,g=r.resizeHandleComponent,b=r.enableResizing,N=r.resizeGrid,R=r.resizeHandleWrapperClass,L=r.resizeHandleWrapperStyle,C=r.scale,T=r.allowAnyClick,P=r.dragPositionOffset,A=cZ(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),k=this.props.default?cn({},this.props.default):void 0;delete A.default;var j=s||a?{cursor:"auto"}:{cursor:"move"},I=cn(cn(cn({},uZ),j),o),V=this.offsetFromParent,F=V.left,W=V.top,$;l&&($={x:l.x-F,y:l.y-W});var M=this.state.resizing?void 0:$,z=this.state.resizing?"both":d;return v.createElement(ZX,{ref:function(Y){Y&&(n.draggable=Y)},handle:a?".".concat(a):void 0,defaultPosition:k,onMouseDown:c,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:z,disabled:s,grid:f,bounds:p?this.state.bounds:void 0,position:M,enableUserSelectHack:m,cancel:y,scale:C,allowAnyClick:T,nodeRef:this.resizableElement,positionOffset:P},v.createElement(aZ,cn({},A,{ref:function(Y){Y&&(n.resizable=Y,n.resizableElement.current=Y.resizable)},defaultSize:k,size:this.props.size,enable:typeof b=="boolean"?dZ(b):b,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:I,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:N,handleWrapperClass:R,handleWrapperStyle:L,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:_,handleClasses:S,handleComponent:g,scale:this.props.scale}),w))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e})(v.PureComponent);const hZ=()=>{const{dialogs:t,openDialog:e,closeDialog:n,produtoParaReporEstoque:r,limparProdutoParaReporEstoque:s,darkMode:o}=v.useContext(Nr),{toast:a}=Tr(),{data:l,loading:c,save:u,remove:d}=sh(),{data:f,loading:p,save:m,remove:y}=rh(),{data:w,loading:_,save:S,remove:g}=a1(),[b,N]=v.useState(""),[R,L]=v.useState(!1),[C,T]=v.useState(!1),[P,A]=v.useState(!1),[k,j]=v.useState(!1),[I,V]=v.useState(null),[F,W]=v.useState(""),[$,M]=v.useState(!1),[z,Y]=v.useState(null),[Q,he]=v.useState(null),[de,xe]=v.useState({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),[G,ce]=v.useState({nome:"",cor:"#8b5cf6"}),[oe,be]=v.useState({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),[Ae,U]=v.useState(""),[re,te]=v.useState([]),[Ie,Ce]=v.useState(!1),[Fe,tt]=v.useState(null),[lt,bt]=v.useState(!1),[Lt,xt]=v.useState("personalizada"),[gt,hr]=v.useState([]),[fr,ge]=v.useState(null),[Pe,ht]=v.useState(null);v.useState(!1),v.useRef(null),v.useEffect(()=>{t.produto&&(Y(null),xe({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),L(!0),n("produto")),t.movimentacao&&(r?(be({produtoId:r.id,tipo:"entrada",quantidade:"",observacao:`Reposio de estoque - ${r.nome}`}),U(r.nome),s()):(be({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),U(""),te([]),Ce(!1)),A(!0),n("movimentacao"))},[t,n,r,s]);const St=async q=>{if(q.preventDefault(),!G.nome){a({title:"Erro",description:"Nome da categoria  obrigatrio!",variant:"destructive"});return}try{await u({nome:G.nome,cor:G.cor,createdAt:Q?Q.createdAt:new Date().toISOString()},Q==null?void 0:Q.id),a({title:"Sucesso!",description:Q?"Categoria atualizada!":"Categoria criada!"}),ce({nome:"",cor:"#8b5cf6"}),he(null),T(!1)}catch(Z){console.error("[Estoque]  Erro ao salvar categoria:",Z),a({title:"Erro",description:"Erro ao salvar categoria. Tente novamente.",variant:"destructive"})}},qt=async q=>{try{const Z=f.filter(ke=>ke.categoriaId===q);for(const ke of Z)await y(ke.id);await d(q),Fe===q&&tt(null),a({title:"Sucesso!",description:"Categoria e produtos vinculados removidos!"})}catch(Z){console.error("[Estoque]  Erro ao remover categoria:",Z),a({title:"Erro",description:"Erro ao remover categoria. Tente novamente.",variant:"destructive"})}},Vn=async q=>{if(q.preventDefault(),console.log("[Estoque] ===== INICIANDO CADASTRO DE PRODUTO ====="),console.log("[Estoque] FormData:",de),!de.nome||!de.codigo||!de.preco||!de.quantidade||!de.categoriaId){console.log("[Estoque]  Campos obrigatrios no preenchidos"),a({title:"Erro",description:"Todos os campos so obrigatrios!",variant:"destructive"});return}try{const Z={nome:de.nome,codigo:de.codigo,preco:parseFloat(de.preco),quantidade:parseInt(de.quantidade),categoriaId:de.categoriaId,imagem:de.imagem,createdAt:z?z.createdAt:new Date().toISOString()};console.log("[Estoque] ProdutoData preparado:",Z),console.log("[Estoque] Salvando produto..."),console.log("[Estoque] editingProduto?.id:",z==null?void 0:z.id);const ke=await m(Z,z==null?void 0:z.id);console.log("[Estoque]  Produto salvo com ID:",ke),console.log("[Estoque] Verificando se produto aparece na lista..."),console.log("[Estoque] Forando refresh dos dados..."),setTimeout(()=>{console.log("[Estoque] Produtos aps salvamento:",f),console.log("[Estoque] Total de produtos:",f==null?void 0:f.length),console.log("[Estoque] Verificando localStorage:",JSON.parse(localStorage.getItem("crm_produtos")||"[]").length)},1e3),a({title:"Sucesso!",description:z?"Produto atualizado!":"Produto cadastrado!"}),xe({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),Y(null),L(!1),console.log("[Estoque] ===== PRODUTO CADASTRADO COM SUCESSO ====="),console.log("[Estoque] Formulrio limpo e dialog fechado")}catch(Z){console.error("[Estoque]  Erro ao salvar produto:",Z),a({title:"Erro",description:"Erro ao salvar produto. Tente novamente.",variant:"destructive"})}},zn=q=>{xe({nome:q.nome,codigo:q.codigo,preco:q.preco.toString(),quantidade:q.quantidade.toString(),categoriaId:q.categoriaId.toString(),imagem:q.imagem||null}),Y(q),L(!0)},nr=q=>{be({produtoId:q.id,tipo:"entrada",quantidade:"",observacao:`Reposio de estoque - ${q.nome}`}),U(q.nome),A(!0),M(!1)},Wr=(q,Z)=>{const ke=f.find(Ct=>Ct.id===Z);if(ke){const Ct=q==="entrada"?`Reposio de estoque - ${ke.nome}`:`Sada de estoque - ${ke.nome}`;be(an=>({...an,tipo:q,observacao:Ct}))}},jr=async q=>{try{await y(q),a({title:"Sucesso!",description:"Produto removido!"})}catch(Z){console.error("[Estoque]  Erro ao remover produto:",Z),a({title:"Erro",description:"Erro ao remover produto. Tente novamente.",variant:"destructive"})}},jn=(q,Z)=>{V(q),W(Z),j(!0)},kr=q=>{if(U(q),q.length>0){const Z=f.filter(ke=>ke.nome.toLowerCase().includes(q.toLowerCase())||ke.codigo.toLowerCase().includes(q.toLowerCase()));te(Z),Ce(!0)}else te([]),Ce(!1)},rr=q=>{be({...oe,produtoId:q.id}),U(q.nome),Ce(!1)};v.useEffect(()=>{P||(U(""),te([]),Ce(!1))},[P]);const Yt=async q=>{if(q.preventDefault(),!oe.produtoId||!oe.quantidade){a({title:"Erro",description:"Produto e quantidade so obrigatrios!",variant:"destructive"});return}try{const Z=f.find(an=>an.id===oe.produtoId),ke=parseInt(oe.quantidade);if(oe.tipo==="saida"&&Z.quantidade<ke){a({title:"Erro",description:"Quantidade insuficiente em estoque!",variant:"destructive"});return}await S({produtoId:oe.produtoId,produtoNome:Z.nome,tipo:oe.tipo,quantidade:ke,observacao:oe.observacao,createdAt:new Date().toISOString()});const Ct={...Z,quantidade:oe.tipo==="entrada"?Z.quantidade+ke:Z.quantidade-ke};await m(Ct,Z.id),a({title:"Sucesso!",description:`Movimentao de ${oe.tipo} registrada!`}),be({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),A(!1)}catch(Z){console.error("[Estoque]  Erro ao registrar movimentao:",Z),a({title:"Erro",description:"Erro ao registrar movimentao. Tente novamente.",variant:"destructive"})}},Un=new Date().toISOString().slice(0,10),O=(w||[]).filter(q=>{var ke;const Z=(ke=q.createdAt)!=null&&ke.toDate?q.createdAt.toDate().toISOString():q.createdAt;return(Z==null?void 0:Z.slice(0,10))===Un}),ye=(f||[]).filter(q=>{var Z,ke;return((Z=q.nome)==null?void 0:Z.toLowerCase().includes(b.toLowerCase()))||((ke=q.codigo)==null?void 0:ke.toLowerCase().includes(b.toLowerCase()))}),J=q=>{if(console.log("[Estoque] ===== UPLOAD DE IMAGEM ====="),console.log("[Estoque] Arquivos aceitos:",q),q.length===0){console.log("[Estoque]  Nenhum arquivo aceito");return}const Z=q[0];if(console.log("[Estoque] Arquivo selecionado:",Z),Z.size>2*1024*1024){console.log("[Estoque]  Arquivo muito grande:",Z.size),a({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 2MB.",variant:"destructive"});return}const ke=new FileReader;ke.onload=()=>{const Ct=new Image;Ct.onload=()=>{const an=document.createElement("canvas"),Ze=an.getContext("2d"),qe=1e3;let{width:mt,height:ls}=Ct;mt>ls?mt>qe&&(ls=ls*qe/mt,mt=qe):ls>qe&&(mt=mt*qe/ls,ls=qe),an.width=mt,an.height=ls,Ze.drawImage(Ct,0,0,mt,ls);const zc=an.toDataURL("image/jpeg",.9);console.log("[Estoque]  Imagem comprimida, tamanho original:",ke.result.length,"comprimida:",zc.length),xe(Uc=>({...Uc,imagem:zc}))},Ct.src=ke.result},ke.onerror=()=>{console.log("[Estoque]  Erro ao ler arquivo"),a({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},ke.readAsDataURL(Z)},{getRootProps:Ee,getInputProps:pe,isDragActive:pt}=ab({onDrop:J,accept:{"image/*":[]}}),Ye=f.filter(q=>q.quantidade<=5),B=q=>{ge(q)},ie=(q,Z)=>{q.preventDefault(),ht(Z)},le=()=>{if(fr!==null&&Pe!==null&&fr!==Pe){const q=[...gt],Z=q[fr];q.splice(fr,1),q.splice(Pe,0,Z),hr(q)}ge(null),ht(null)},we=async()=>{try{console.log("[Estoque]  Iniciando salvamento da nova ordem das categorias"),console.log("[Estoque] Categorias reordenadas:",gt.map(Z=>({id:Z.id,nome:Z.nome,ordemAtual:Z.ordem})));let q=0;for(let Z=0;Z<gt.length;Z++){const ke=gt[Z];ke.ordem!==Z?(console.log(`[Estoque] Atualizando categoria "${ke.nome}" (ID: ${ke.id}) da ordem ${ke.ordem} para ${Z}`),await u({...ke,ordem:Z},ke.id),q++):console.log(`[Estoque] Categoria "${ke.nome}" j est na ordem correta (${Z}), pulando...`)}console.log(`[Estoque]  Salvamento concludo! ${q} categorias atualizadas`),a({title:"Sucesso!",description:`Ordem de ${q} categorias salva com sucesso!`}),bt(!1)}catch(q){console.error("[Estoque]  Erro ao salvar ordem das categorias:",q),a({title:"Erro!",description:"Erro ao salvar ordem das categorias.",variant:"destructive"})}},kn=q=>{let Z=[...l];switch(q){case"alfabetica":Z.sort((ke,Ct)=>ke.nome.localeCompare(Ct.nome));break;case"mais_produtos":Z.sort((ke,Ct)=>{const an=f.filter(qe=>qe.categoriaId===ke.id).length;return f.filter(qe=>qe.categoriaId===Ct.id).length-an});break;case"menos_produtos":Z.sort((ke,Ct)=>{const an=f.filter(qe=>qe.categoriaId===ke.id).length,Ze=f.filter(qe=>qe.categoriaId===Ct.id).length;return an-Ze});break;default:Z.sort((ke,Ct)=>(ke.ordem||0)-(Ct.ordem||0))}hr(Z)};return v.useEffect(()=>{lt&&hr([...l])},[lt,l]),console.log("[Estoque] Produtos:",f==null?void 0:f.length,"Categorias:",l==null?void 0:l.length),i.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen",children:[i.jsxs("aside",{className:"w-full lg:w-64 bg-slate-100 dark:bg-slate-900 border-r border-b lg:border-b-0 h-auto lg:h-screen flex flex-col",children:[i.jsxs("div",{className:"p-4 flex flex-col gap-2",children:[i.jsx(X,{onClick:()=>tt(null),variant:Fe===null?"default":"outline",className:"w-full justify-start",children:"Todos os Produtos"}),i.jsxs(X,{onClick:()=>{he(null),ce({nome:"",cor:"#8b5cf6"}),T(!0)},variant:"outline",className:"w-full justify-start bg-violet-500 text-white hover:bg-violet-600",children:[i.jsx(Xn,{className:"h-4 w-4 mr-2"}),i.jsx(NC,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:i.jsx("ul",{className:"space-y-1",children:l.map(q=>i.jsxs("li",{className:"flex items-center justify-between group",children:[i.jsx(X,{onClick:()=>tt(q.id),variant:Fe===q.id?"default":"ghost",className:"flex-1 justify-start text-left border-l-2",style:{borderLeftColor:q.cor},children:q.nome}),i.jsx("button",{title:"Editar categoria",className:"p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-800",onClick:()=>{he(q),ce({nome:q.nome,cor:q.cor||"#8b5cf6"}),T(!0)},children:i.jsx(bs,{className:"h-4 w-4"})}),i.jsx("button",{title:"Excluir categoria",className:"p-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>qt(q.id),children:i.jsx(ns,{className:"h-4 w-4 text-red-500"})})]},q.id))})})]}),i.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[i.jsx("div",{className:"p-4 lg:p-6 border-b bg-white dark:bg-slate-800",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900 dark:text-white",children:"Estoque"}),i.jsx("p",{className:"text-sm lg:text-base text-slate-600 dark:text-slate-400",children:"Gerencie categorias, produtos e movimentaes"})]}),Ye.length>0&&i.jsxs(_e.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:()=>M(!0),className:"bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded-lg p-3 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 transition-all duration-200 cursor-pointer flex items-center gap-2 lg:gap-3 min-w-0 flex-shrink-0 w-full lg:w-auto",children:[i.jsx(Hs,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-500 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Estoque Crtico"}),i.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:[Ye.length," produto(s)"]})]})]})]})}),i.jsxs(Ba,{defaultValue:"produtos",className:"flex-1",children:[i.jsxs("div",{className:"px-4 lg:px-6 pt-4",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-4 gap-4",children:[i.jsxs(Mi,{className:"h-12 px-1",children:[i.jsx(fn,{value:"produtos",className:"px-6",children:"Produtos"}),i.jsx(fn,{value:"movimentacoes",className:"px-6",children:"Movimentaes"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(Tn,{open:C,onOpenChange:T,children:[i.jsx(kf,{asChild:!0,children:i.jsx(X,{variant:"outline",size:"sm",children:"Nova Categoria"})}),i.jsxs(gn,{className:`sm:max-w-lg bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[i.jsx(vn,{children:i.jsxs(xn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(NC,{className:"h-6 w-6 text-purple-500"}),Q?"Editar Categoria":"Nova Categoria"]})}),i.jsxs("form",{onSubmit:St,className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(zu,{className:"h-5 w-5 text-blue-500"}),"Informaes da Categoria"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Nome da Categoria *"}),i.jsx(me,{value:G.nome,onChange:q=>ce({...G,nome:q.target.value}),placeholder:"Ex: Eletrnicos, Roupas, Acessrios...",className:"mt-1",required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Cor da Categoria *"}),i.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[i.jsx(me,{type:"color",value:G.cor,onChange:q=>ce({...G,cor:q.target.value}),className:"w-16 h-10 rounded-lg border-2 border-slate-300 dark:border-slate-600"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-slate-300 dark:border-slate-600",style:{backgroundColor:G.cor}}),i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:G.cor})]})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Escolha uma cor que represente bem sua categoria"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsx(X,{type:"submit",className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2",children:Q?"Atualizar Categoria":"Criar Categoria"}),i.jsx(X,{type:"button",variant:"outline",onClick:()=>{T(!1),he(null),ce({nome:"",cor:"#8b5cf6"})},className:"flex-1",children:"Cancelar"})]})]})]})]}),i.jsxs(Tn,{open:R,onOpenChange:L,children:[i.jsx(kf,{asChild:!0,children:i.jsx(X,{size:"sm",className:"bg-gradient-to-r from-orange-500 to-red-500",children:"Novo Produto"})}),i.jsxs(gn,{className:`sm:max-w-2xl bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[i.jsx(vn,{children:i.jsxs(xn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(lr,{className:"h-6 w-6 text-green-500"}),z?"Editar Produto":"Novo Produto"]})}),i.jsxs("form",{onSubmit:Vn,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(lr,{className:"h-5 w-5 text-blue-500"}),"Informaes Bsicas"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Nome do Produto *"}),i.jsx(me,{value:de.nome,onChange:q=>{if(xe({...de,nome:q.target.value}),!de.codigo&&q.target.value){const Z=q.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,6)+String(Date.now()).slice(-4);xe(ke=>({...ke,codigo:Z}))}},placeholder:"Ex: Mouse Gamer RGB",className:"mt-1",required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Preo *"}),i.jsx(me,{type:"number",step:"0.01",value:de.preco,onChange:q=>xe({...de,preco:q.target.value}),placeholder:"0.00",className:"mt-1",required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Quantidade *"}),i.jsx(me,{type:"number",value:de.quantidade,onChange:q=>xe({...de,quantidade:q.target.value}),placeholder:"0",className:"mt-1",required:!0})]})]})]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(zu,{className:"h-5 w-5 text-purple-500"}),"Categoria"]}),i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Categoria *"}),i.jsxs(ut,{value:de.categoriaId,onValueChange:q=>xe({...de,categoriaId:q}),className:"mt-1",children:[i.jsx(it,{children:i.jsx(dt,{placeholder:"Selecione uma categoria..."})}),i.jsx(at,{children:l.map(q=>i.jsx(ae,{value:q.id.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:q.cor}}),q.nome]})},q.id))})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(An,{className:"h-5 w-5 text-orange-500"}),"Cdigo do Produto"]}),i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Cdigo (Gerado Automaticamente)"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx(me,{value:de.codigo,onChange:q=>xe({...de,codigo:q.target.value}),placeholder:"Ser gerado automaticamente",className:"pr-10",required:!0}),i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",title:"Gerado automaticamente"})})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Cdigo gerado automaticamente baseado no nome do produto"})]})]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Ea,{className:"h-5 w-5 text-indigo-500"}),"Imagem do Produto"]}),i.jsxs("div",{...Ee(),className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all duration-200 ${pt?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 scale-105":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/70"} ${de.imagem?"bg-slate-50 dark:bg-slate-800/50":""}`,children:[i.jsx("input",{...pe()}),de.imagem?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:de.imagem,alt:"Preview do produto",className:"max-w-full max-h-40 object-contain rounded-lg border-2 border-slate-200 dark:border-slate-700 shadow-lg"}),i.jsx("button",{type:"button",onClick:q=>{q.stopPropagation(),xe({...de,imagem:null})},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-colors shadow-lg",children:i.jsx(Cr,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:" Clique ou arraste para alterar a imagem"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"mx-auto w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center",children:i.jsx(Ea,{className:"w-10 h-10 text-slate-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:pt?" Solte a imagem aqui":" Arraste uma imagem ou clique para selecionar"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"PNG, JPG at 2MB  Redimensionada para 1000x1000px"})]})]})]})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsx(X,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2",children:z?"Atualizar Produto":"Cadastrar Produto"}),i.jsx(X,{type:"button",variant:"outline",onClick:()=>{L(!1),Y(null),xe({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null})},className:"flex-1",children:"Cancelar"})]})]})]})]}),i.jsxs(Tn,{open:P,onOpenChange:A,children:[i.jsx(kf,{asChild:!0,children:i.jsx(X,{size:"sm",variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50",children:"Movimentao"})}),i.jsxs(gn,{className:`sm:max-w-lg bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[i.jsx(vn,{children:i.jsxs(xn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(Yn,{className:"h-6 w-6 text-orange-500"}),"Nova Movimentao"]})}),i.jsxs("form",{onSubmit:Yt,className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(lr,{className:"h-5 w-5 text-blue-500"}),"Dados da Movimentao"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ne,{className:"text-sm font-medium",children:"Produto *"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx(me,{value:Ae,onChange:q=>kr(q.target.value),placeholder:"Digite o nome ou cdigo do produto...",className:"pr-10"}),i.jsx(Dr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),Ie&&re.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:re.map(q=>i.jsx("div",{onClick:()=>rr(q),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[q.imagem&&i.jsx("img",{src:q.imagem,alt:q.nome,className:"w-8 h-8 object-cover rounded border"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:q.nome}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Cdigo: ",q.codigo," | Estoque: ",q.quantidade]})]})]})},q.id))})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Digite o nome ou cdigo do produto para buscar"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Tipo de Movimentao *"}),i.jsxs(ut,{value:oe.tipo,onValueChange:q=>Wr(q,oe.produtoId),className:"mt-1",children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"entrada",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Yn,{className:"h-4 w-4 text-green-500"}),"Entrada"]})}),i.jsx(ae,{value:"saida",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(go,{className:"h-4 w-4 text-red-500"}),"Sada"]})})]})]})]}),i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Quantidade *"}),i.jsx(me,{type:"number",min:"1",value:oe.quantidade,onChange:q=>be({...oe,quantidade:q.target.value}),placeholder:"0",className:"mt-1",required:!0})]})]}),i.jsxs("div",{children:[i.jsx(ne,{className:"text-sm font-medium",children:"Observao"}),i.jsx(me,{value:oe.observacao,onChange:q=>be({...oe,observacao:q.target.value}),placeholder:"Ex: Compra, venda, ajuste de estoque...",className:"mt-1"}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" Descreva o motivo da movimentao"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsx(X,{type:"submit",className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2",children:"Registrar Movimentao"}),i.jsx(X,{type:"button",variant:"outline",onClick:()=>{A(!1),be({produtoId:"",tipo:"entrada",quantidade:"",observacao:""})},className:"flex-1",children:"Cancelar"})]})]})]})]})]})]}),i.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-4"})]}),i.jsxs(pn,{value:"produtos",className:"px-4 lg:px-6 pt-4 space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[i.jsxs("div",{className:"relative w-full sm:w-auto sm:max-w-sm",children:[i.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar por nome ou cdigo...",value:b,onChange:q=>N(q.target.value),className:"w-full sm:w-auto pl-10"})]}),i.jsxs(X,{onClick:()=>bt(!0),variant:"outline",size:"sm",className:"bg-black text-white hover:bg-gray-800 dark:bg-gray-900 dark:hover:bg-gray-800",children:[i.jsx(An,{className:"h-4 w-4 mr-2"}),"Reordenar Categorias"]})]}),Fe===null?l.map(q=>i.jsxs("div",{children:[i.jsx("div",{className:`bg-slate-100 dark:bg-slate-800/50 rounded-lg p-3 mb-4 border-2 ${o?"":"shadow-sm"}`,style:{borderColor:q.cor},children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:q.cor}}),i.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:q.nome}),i.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[ye.filter(Z=>Z.categoriaId===q.id).length," produtos"]})]}),i.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{Y(null),xe({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:q.id.toString(),imagem:null}),L(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white border-blue-500",children:[i.jsx(Xn,{className:"h-4 w-4 mr-1"}),"Novo Produto"]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:ye.filter(Z=>Z.categoriaId===q.id).map((Z,ke)=>i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ke*.1},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${o?"":"shadow-sm"}`,children:i.jsxs("div",{className:"flex gap-3",children:[Z.imagem&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:Z.imagem,alt:Z.nome,className:"w-20 h-20 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>jn(Z.imagem,Z.nome)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:Z.nome}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Cdigo: ",Z.codigo]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[i.jsx(Rn,{className:"h-3 w-3"}),i.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Z.preco)})]}),i.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[i.jsx(An,{className:"h-3 w-3"}),i.jsxs("span",{className:`text-xs font-semibold ${Z.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[Z.quantidade," ",Z.quantidade<=5&&"(Baixo)"]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>zn(Z),className:"h-6 w-6",children:i.jsx(bs,{className:"h-3 w-3"})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>jr(Z.id),className:"h-6 w-6 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:i.jsx(ns,{className:"h-3 w-3"})})]})]})},Z.id))})]},q.id)):l.filter(q=>q.id===Fe).map(q=>i.jsxs("div",{children:[i.jsx("div",{className:`bg-slate-100 dark:bg-slate-800/50 rounded-lg p-3 mb-4 border-2 ${o?"":"shadow-sm"}`,style:{borderColor:q.cor},children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:q.cor}}),i.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:q.nome}),i.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[ye.filter(Z=>Z.categoriaId===q.id).length," produtos"]})]}),i.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{Y(null),xe({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:q.id.toString(),imagem:null}),L(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white border-blue-500",children:[i.jsx(Xn,{className:"h-4 w-4 mr-1"}),"Novo Produto"]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:ye.filter(Z=>Z.categoriaId===q.id).map((Z,ke)=>i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ke*.1},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${o?"":"shadow-sm"}`,children:i.jsxs("div",{className:"flex gap-3",children:[Z.imagem&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:Z.imagem,alt:Z.nome,className:"w-20 h-20 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>jn(Z.imagem,Z.nome)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:Z.nome}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Cdigo: ",Z.codigo]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[i.jsx(Rn,{className:"h-3 w-3"}),i.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Z.preco)})]}),i.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[i.jsx(An,{className:"h-3 w-3"}),i.jsxs("span",{className:`text-xs font-semibold ${Z.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[Z.quantidade," ",Z.quantidade<=5&&"(Baixo)"]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>zn(Z),className:"h-6 w-6",children:i.jsx(bs,{className:"h-3 w-3"})}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>jr(Z.id),className:"h-6 w-6 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:i.jsx(ns,{className:"h-3 w-3"})})]})]})},Z.id))})]},q.id))]}),i.jsxs(pn,{value:"movimentacoes",className:"px-4 lg:px-6 pt-4 space-y-4",children:[O.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:i.jsx(An,{className:"h-8 w-8 text-slate-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-1",children:"Nenhuma movimentao hoje"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"As movimentaes de entrada e sada aparecero aqui"})]}),i.jsxs(X,{onClick:()=>A(!0),size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white",children:[i.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Nova Movimentao"]})]})}),O.map(q=>{var Z;return i.jsx(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`bg-white dark:bg-slate-800/50 p-4 rounded-lg border-2 shadow-sm hover:shadow-md transition-all duration-200 ${q.tipo==="entrada"?"border-green-200 dark:border-green-700 bg-green-50/30 dark:bg-green-900/10":"border-red-200 dark:border-red-700 bg-red-50/30 dark:bg-red-900/10"}`,children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:`p-2 rounded-full ${q.tipo==="entrada"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:q.tipo==="entrada"?i.jsx(Yn,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):i.jsx(go,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:q.produtoNome}),i.jsxs("p",{className:`text-sm font-medium ${q.tipo==="entrada"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:[q.tipo==="entrada"?"Entrada":"Sada"," de ",q.quantidade," unidades"]})]})]}),q.observacao&&i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2 bg-slate-100 dark:bg-slate-700/50 p-2 rounded border-l-2 border-slate-300 dark:border-slate-600",children:[i.jsx("span",{className:"font-medium",children:"Obs:"})," ",q.observacao]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[i.jsx(lr,{className:"h-3 w-3"}),new Date((Z=q.createdAt)!=null&&Z.toDate?q.createdAt.toDate():q.createdAt).toLocaleString("pt-BR")]})]})})},q.id)})]})]})]}),i.jsx(Tn,{open:k,onOpenChange:j,children:i.jsxs(gn,{className:`sm:max-w-4xl max-w-[90vw] bg-white dark:bg-slate-900 border-0 p-0 overflow-hidden ${o?"":"shadow-2xl"}`,children:[i.jsx(vn,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:i.jsxs(xn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(oz,{className:"h-7 w-7"}),F]})}),i.jsx("div",{className:"relative bg-slate-50 dark:bg-slate-800 min-h-[60vh] flex items-center justify-center p-8",children:I&&i.jsxs("div",{className:"relative group",children:[i.jsxs(_e.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"relative overflow-hidden rounded-2xl shadow-2xl",children:[i.jsx("img",{src:I,alt:F,className:"max-w-full max-h-[60vh] object-contain rounded-2xl transition-transform duration-300 group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 rounded-2xl"}),i.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:i.jsxs(X,{size:"sm",variant:"secondary",onClick:()=>{const q=document.createElement("a");q.href=I,q.download=`${F}.jpg`,q.click()},className:"bg-white/90 hover:bg-white text-slate-900 shadow-lg",children:[i.jsx(ic,{className:"h-4 w-4 mr-2"}),"Download"]})})]}),i.jsx(_e.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.1},className:"mt-6 text-center",children:i.jsx("div",{className:"bg-white dark:bg-slate-700 rounded-xl p-4 shadow-lg",children:i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:F})})})]})}),i.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx(Ea,{className:"h-4 w-4"}),"Clique fora da imagem ou use ESC para fechar"]}),i.jsx(X,{variant:"outline",onClick:()=>j(!1),className:"bg-white dark:bg-slate-700",children:"Fechar"})]})]})}),i.jsx(Tn,{open:lt,onOpenChange:bt,children:i.jsxs(gn,{className:`sm:max-w-3xl bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 ${o?"shadow-2xl shadow-slate-900/50":"shadow-2xl border-slate-200"}`,children:[i.jsx(vn,{children:i.jsxs(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[i.jsxs(xn,{className:"flex items-center gap-3 text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[i.jsx(_e.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:i.jsx(An,{className:"h-6 w-6 text-blue-500"})}),"Reordenar Categorias"]}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Organize suas categorias da forma que preferir"})]})}),i.jsxs(_e.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.3},children:[i.jsxs(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.3},className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[i.jsxs(ne,{className:"text-sm font-semibold flex items-center gap-2 mb-3",children:[i.jsx(Yn,{className:"h-4 w-4 text-blue-500"}),"Tipo de Ordenao:"]}),i.jsxs(ut,{value:Lt,onValueChange:q=>{xt(q),kn(q)},children:[i.jsx(it,{className:"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 hover:border-blue-400 transition-colors",children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"personalizada",children:" Personalizada (Arrastar e Soltar)"}),i.jsx(ae,{value:"alfabetica",children:" Ordem Alfabtica"}),i.jsx(ae,{value:"mais_produtos",children:" Mais Produtos"}),i.jsx(ae,{value:"menos_produtos",children:" Menos Produtos"})]})]})]}),i.jsx(_e.div,{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:gt.map((q,Z)=>{const ke=f.filter(Ct=>Ct.categoriaId===q.id);return i.jsxs(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*Z,duration:.3},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},draggable:Lt==="personalizada",onDragStart:()=>B(Z),onDragOver:Ct=>ie(Ct,Z),onDrop:le,className:`group relative p-4 rounded-xl cursor-move transition-all duration-300 ${fr===Z?"border-2 border-blue-400 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 shadow-lg shadow-blue-500/20 scale-105":"border border-slate-200 dark:border-slate-700 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm hover:border-slate-300 dark:hover:border-slate-600 hover:shadow-lg hover:shadow-slate-500/10"} ${o?"":"bg-white/70"}`,style:{borderLeftColor:q.cor,borderLeftWidth:"4px",boxShadow:fr===Z?`0 10px 25px -5px ${q.cor}20`:void 0},children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(_e.div,{className:"w-6 h-6 rounded-full shadow-lg",style:{backgroundColor:q.cor},whileHover:{scale:1.2},transition:{type:"spring",stiffness:300}}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:q.nome}),i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[ke.length," produto",ke.length!==1?"s":""]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(_e.div,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400},children:["#",Z+1]}),Lt==="personalizada"&&i.jsxs(_e.div,{className:"flex flex-col gap-1",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:[i.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),i.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"})]})]})]}),i.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},q.id)})}),i.jsxs(_e.div,{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},children:[i.jsx(X,{variant:"outline",onClick:()=>bt(!1),className:"hover:bg-slate-100 dark:hover:bg-slate-700 transition-all duration-200",children:"Cancelar"}),i.jsx(_e.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:i.jsxs(X,{onClick:we,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[i.jsx(An,{className:"h-4 w-4 mr-2"}),"Salvar Ordem"]})})]})]})]})}),i.jsx(Tn,{open:$,onOpenChange:M,children:i.jsxs(gn,{className:`sm:max-w-2xl bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[i.jsx(vn,{children:i.jsxs(xn,{className:"flex items-center gap-2",children:[i.jsx(Hs,{className:"h-5 w-5 text-yellow-500"}),"Estoque Crtico"]})}),i.jsx("div",{className:"space-y-3",children:Ye.map(q=>{const Z=l.find(ke=>ke.id===q.categoriaId);return i.jsx(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:q.nome}),i.jsxs("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:["Categoria: ",(Z==null?void 0:Z.nome)||"Sem categoria"," | Estoque: ",i.jsx("span",{className:"font-bold",children:q.quantidade})," unidades"]})]}),i.jsx(X,{size:"sm",onClick:()=>nr(q),className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Repor Estoque"})]})},q.id)})})]})})]})},Ls=Le.forwardRef(({className:t,checked:e,onCheckedChange:n,...r},s)=>i.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>n==null?void 0:n(!e),className:Ke("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e?"bg-primary":"bg-input",t),ref:s,...r,children:i.jsx("span",{className:Ke("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",e?"translate-x-5":"translate-x-0")})}));Ls.displayName="Switch";const fZ=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=v.useContext(Nr),{toast:r}=Tr(),{data:s,loading:o,save:a,remove:l}=oh(),[c,u]=v.useState(""),[d,f]=v.useState(!1),[p,m]=v.useState(!1),[y,w]=v.useState(!1),[_,S]=v.useState(null),[g,b]=v.useState({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),[N,R]=v.useState({dataInicio:"",dataFim:"",tipo:"todos",status:"todos"});v.useEffect(()=>{t.lancamento&&(S(null),b({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),f(!0),n("lancamento"))},[t,n]),console.log("[Financeiro] ===== DADOS CARREGADOS ====="),console.log("[Financeiro] Lanamentos:",s),console.log("[Financeiro] Loading:",o);const L=async G=>{if(G.preventDefault(),!g.descricao||!g.valor||!g.dataVencimento){r({title:"Erro",description:"Todos os campos obrigatrios devem ser preenchidos!",variant:"destructive"});return}try{const ce=parseFloat(g.valor),oe=g.parcelado?parseInt(g.numeroParcelas):1,be=ce/oe,Ae=[];for(let U=0;U<oe;U++){const re=new Date(g.dataVencimento);if(g.parcelado&&U>0)switch(g.intervaloParcelas){case"mensal":re.setMonth(re.getMonth()+U);break;case"quinzenal":re.setDate(re.getDate()+U*15);break;case"semanal":re.setDate(re.getDate()+U*7);break;default:re.setMonth(re.getMonth()+U)}const te=re.getFullYear(),Ie=String(re.getMonth()+1).padStart(2,"0"),Ce=String(re.getDate()).padStart(2,"0"),Fe=`${te}-${Ie}-${Ce}`,tt={descricao:g.parcelado?`${g.descricao} - Parcela ${U+1}/${oe}`:g.descricao,valor:be,dataVencimento:Fe,tipo:g.tipo,status:g.status,parcelado:g.parcelado,numeroParcela:g.parcelado?U+1:null,totalParcelas:g.parcelado?oe:null,valorTotal:g.parcelado?ce:null,createdAt:_?_.createdAt:new Date().toISOString()};Ae.push(tt)}for(const U of Ae)await a(U,_==null?void 0:_.id);r(_?{title:"Sucesso!",description:"Lanamento atualizado com sucesso!"}:{title:"Sucesso!",description:g.parcelado?`${oe} parcelas criadas com sucesso!`:"Lanamento criado com sucesso!"}),b({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),S(null),f(!1)}catch(ce){console.error("[Financeiro]  Erro ao salvar lanamento:",ce),r({title:"Erro",description:"Erro ao salvar lanamento. Tente novamente.",variant:"destructive"})}},C=G=>{S(G),b({descricao:G.descricao,valor:G.valor.toString(),dataVencimento:G.dataVencimento,tipo:G.tipo,status:G.status,parcelado:G.parcelado||!1,numeroParcelas:G.totalParcelas||1,intervaloParcelas:"mensal"}),f(!0)},T=async G=>{try{await l(G),r({title:"Sucesso!",description:"Lanamento removido com sucesso!"})}catch(ce){console.error("[Financeiro]  Erro ao remover lanamento:",ce),r({title:"Erro",description:"Erro ao remover lanamento. Tente novamente.",variant:"destructive"})}},P=async G=>{try{const ce=s.find(Ae=>Ae.id===G);if(!ce)return;const oe=ce.status==="Pendente"?ce.tipo==="receber"?"Recebido":"Pago":"Pendente",be={...ce,status:oe};await a(be,G),r({title:"Sucesso!",description:"Status atualizado com sucesso!"})}catch(ce){console.error("[Financeiro]  Erro ao atualizar status:",ce),r({title:"Erro",description:"Erro ao atualizar status. Tente novamente.",variant:"destructive"})}},A=()=>{const G=F.map(U=>({Descrio:U.descricao,Valor:U.valor,Tipo:U.tipo==="receber"?"A Receber":"A Pagar",Status:U.status,"Data Vencimento":new Date(U.dataVencimento).toLocaleDateString("pt-BR"),"Data Criao":new Date(U.createdAt).toLocaleDateString("pt-BR")})),ce=[Object.keys(G[0]).join(","),...G.map(U=>Object.values(U).map(re=>`"${re}"`).join(","))].join(`
`),oe=new Blob([ce],{type:"text/csv;charset=utf-8;"}),be=document.createElement("a"),Ae=URL.createObjectURL(oe);be.setAttribute("href",Ae),be.setAttribute("download",`financeiro_${new Date().toISOString().slice(0,10)}.csv`),be.style.visibility="hidden",document.body.appendChild(be),be.click(),document.body.removeChild(be),r({title:"Sucesso!",description:"Arquivo CSV exportado com sucesso!"})},k=()=>{r({title:"Em desenvolvimento",description:"Funcionalidade de exportao PDF ser implementada em breve!",variant:"default"})},j=()=>{window.print(),r({title:"Sucesso!",description:"Relatrio enviado para impresso!"})},I=()=>{const G=new Date,ce=G.getMonth(),oe=G.getFullYear(),be=s.filter(Ce=>{const Fe=new Date(Ce.createdAt);return Fe.getMonth()===ce&&Fe.getFullYear()===oe}),Ae={totalReceber:be.filter(Ce=>Ce.tipo==="receber").reduce((Ce,Fe)=>Ce+Fe.valor,0),totalPagar:be.filter(Ce=>Ce.tipo==="pagar").reduce((Ce,Fe)=>Ce+Fe.valor,0),totalRecebido:be.filter(Ce=>Ce.tipo==="receber"&&Ce.status==="Recebido").reduce((Ce,Fe)=>Ce+Fe.valor,0),totalPago:be.filter(Ce=>Ce.tipo==="pagar"&&Ce.status==="Pago").reduce((Ce,Fe)=>Ce+Fe.valor,0),contasVencidas:s.filter(Ce=>de(Ce.dataVencimento,Ce.status)).length},U=`
RELATRIO FINANCEIRO - ${G.toLocaleDateString("pt-BR")}

RESUMO DO MS:
 Total a Receber: R$ ${Ae.totalReceber.toFixed(2)}
 Total a Pagar: R$ ${Ae.totalPagar.toFixed(2)}
 Total Recebido: R$ ${Ae.totalRecebido.toFixed(2)}
 Total Pago: R$ ${Ae.totalPago.toFixed(2)}
 Contas Vencidas: ${Ae.contasVencidas}

SALDO LQUIDO: R$ ${(Ae.totalReceber-Ae.totalPagar).toFixed(2)}
    `,re=new Blob([U],{type:"text/plain;charset=utf-8;"}),te=document.createElement("a"),Ie=URL.createObjectURL(re);te.setAttribute("href",Ie),te.setAttribute("download",`relatorio_financeiro_${G.toISOString().slice(0,10)}.txt`),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te),r({title:"Sucesso!",description:"Relatrio gerado e baixado com sucesso!"})},V=()=>{const G=s.filter(U=>{let re=!0;return N.dataInicio&&(re=re&&new Date(U.dataVencimento)>=new Date(N.dataInicio)),N.dataFim&&(re=re&&new Date(U.dataVencimento)<=new Date(N.dataFim)),N.tipo!=="todos"&&(re=re&&U.tipo===N.tipo),N.status!=="todos"&&(re=re&&U.status===N.status),re}),ce=`
RELATRIO DETALHADO - ${new Date().toLocaleDateString("pt-BR")}

FILTROS APLICADOS:
 Perodo: ${N.dataInicio||"Incio"} at ${N.dataFim||"Fim"}
 Tipo: ${N.tipo==="todos"?"Todos":N.tipo}
 Status: ${N.status==="todos"?"Todos":N.status}

LANAMENTOS ENCONTRADOS: ${G.length}

${G.map((U,re)=>`
${re+1}. ${U.descricao}
   Valor: R$ ${U.valor.toFixed(2)}
   Tipo: ${U.tipo==="receber"?"A Receber":"A Pagar"}
   Status: ${U.status}
   Vencimento: ${new Date(U.dataVencimento).toLocaleDateString("pt-BR")}
   ${de(U.dataVencimento,U.status)?" VENCIDO":""}
`).join("")}

TOTAL GERAL: R$ ${G.reduce((U,re)=>U+re.valor,0).toFixed(2)}
    `,oe=new Blob([ce],{type:"text/plain;charset=utf-8;"}),be=document.createElement("a"),Ae=URL.createObjectURL(oe);be.setAttribute("href",Ae),be.setAttribute("download",`relatorio_detalhado_${new Date().toISOString().slice(0,10)}.txt`),be.style.visibility="hidden",document.body.appendChild(be),be.click(),document.body.removeChild(be),r({title:"Sucesso!",description:"Relatrio detalhado gerado com sucesso!"})},F=s.filter(G=>G.descricao.toLowerCase().includes(c.toLowerCase())),W=F.filter(G=>G.tipo==="receber"),$=F.filter(G=>G.tipo==="pagar"),M=W.filter(G=>G.status==="Pendente").reduce((G,ce)=>G+ce.valor,0),z=$.filter(G=>G.status==="Pendente").reduce((G,ce)=>G+ce.valor,0),Y=W.filter(G=>G.status==="Recebido").reduce((G,ce)=>G+ce.valor,0),Q=$.filter(G=>G.status==="Pago").reduce((G,ce)=>G+ce.valor,0),he=(G,ce)=>G==="Pendente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":G==="Recebido"&&ce==="receber"||G==="Pago"&&ce==="pagar"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300",de=(G,ce)=>{if(ce!=="Pendente")return!1;const oe=new Date;return oe.setHours(0,0,0,0),new Date(G)<oe},xe=({conta:G,index:ce})=>i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ce*.05},className:`bg-white dark:bg-slate-800 rounded-xl shadow-lg border transition-all duration-300 hover:shadow-xl ${de(G.dataVencimento,G.status)?"border-red-400 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-700"}`,children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center flex-wrap gap-x-3 gap-y-2 mb-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:G.descricao}),i.jsx(es,{className:`text-xs ${he(G.status,G.tipo)}`,children:G.status}),de(G.dataVencimento,G.status)&&i.jsx(es,{variant:"destructive",className:"text-xs",children:"Vencido"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:i.jsx(Rn,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor"}),i.jsx("p",{className:`font-semibold ${G.tipo==="receber"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(G.valor)})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:i.jsx(oi,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Vencimento"}),i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:new Date(G.dataVencimento).toLocaleDateString("pt-BR",{timeZone:"UTC"})})]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(X,{variant:"outline",size:"sm",onClick:()=>P(G.id),className:G.status==="Pendente"?"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-400 dark:hover:text-yellow-300",children:G.status==="Pendente"?`Marcar como ${G.tipo==="receber"?"Recebido":"Pago"}`:"Marcar como Pendente"}),i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>C(G),children:[i.jsx(bs,{className:"h-4 w-4 mr-2"}),"Editar"]}),i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T(G.id),className:"text-red-500 hover:text-red-700 dark:hover:text-red-400",children:[i.jsx(ns,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})},G.id);return i.jsxs("div",{className:"space-y-8",children:[i.jsx(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[i.jsx(Rn,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Financeiro"]}),i.jsx("p",{className:"text-emerald-100 text-base lg:text-lg",children:"Controle suas contas a pagar e receber"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-emerald-100",children:"Total a Receber"}),i.jsx("p",{className:"text-xl font-bold text-green-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(M)})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-emerald-100",children:"Total a Pagar"}),i.jsx("p",{className:"text-xl font-bold text-red-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z)})]})]})]})}),i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-lg",children:i.jsx(Xn,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Aes Rpidas"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Gerencie seus lanamentos financeiros"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs(Tn,{open:d,onOpenChange:f,children:[i.jsx(kf,{asChild:!0,children:i.jsxs(X,{className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white",children:[i.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Novo Lanamento"]})}),i.jsxs(gn,{className:"sm:max-w-2xl bg-white dark:bg-slate-900",children:[i.jsx(vn,{children:i.jsxs(xn,{className:"flex items-center gap-2 text-xl",children:[i.jsx(Rn,{className:"h-5 w-5"}),_?"Editar Lanamento":"Novo Lanamento"]})}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(Fr,{className:"h-4 w-4"}),"Informaes Bsicas"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"descricao",children:"Descrio *"}),i.jsx(me,{id:"descricao",value:g.descricao,onChange:G=>b({...g,descricao:G.target.value}),placeholder:"Ex: Venda de produto, Pagamento de fornecedor...",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"valor",children:"Valor Total *"}),i.jsx(me,{id:"valor",type:"number",step:"0.01",value:g.valor,onChange:G=>b({...g,valor:G.target.value}),placeholder:"0.00",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Tipo"}),i.jsxs(ut,{value:g.tipo,onValueChange:G=>b({...g,tipo:G}),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"receber",children:" Conta a Receber"}),i.jsx(ae,{value:"pagar",children:" Conta a Pagar"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Status"}),i.jsxs(ut,{value:g.status,onValueChange:G=>b({...g,status:G}),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"Pendente",children:" Pendente"}),i.jsxs(ae,{value:g.tipo==="receber"?"Recebido":"Pago",children:[" ",g.tipo==="receber"?"Recebido":"Pago"]})]})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(hP,{className:"h-4 w-4"}),"Parcelamento"]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(ne,{htmlFor:"parcelado",children:"Lanamento Parcelado"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Dividir o valor em mltiplas parcelas"})]}),i.jsx(Ls,{id:"parcelado",checked:g.parcelado,onCheckedChange:G=>b({...g,parcelado:G})})]}),g.parcelado&&i.jsxs(_e.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"numeroParcelas",children:"Nmero de Parcelas"}),i.jsxs(ut,{value:g.numeroParcelas.toString(),onValueChange:G=>b({...g,numeroParcelas:parseInt(G)}),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsx(at,{children:[2,3,4,5,6,8,10,12,15,18,24,30,36].map(G=>i.jsxs(ae,{value:G.toString(),children:[G," parcelas"]},G))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"intervaloParcelas",children:"Intervalo"}),i.jsxs(ut,{value:g.intervaloParcelas,onValueChange:G=>b({...g,intervaloParcelas:G}),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"semanal",children:" Semanal"}),i.jsx(ae,{value:"quinzenal",children:" Quinzenal"}),i.jsx(ae,{value:"mensal",children:" Mensal"})]})]})]})]}),g.valor&&g.dataVencimento&&i.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 border border-slate-200 dark:border-slate-600",children:[i.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white mb-3",children:" Preview das Parcelas"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Array.from({length:g.numeroParcelas},(G,ce)=>{const oe=new Date(g.dataVencimento),be=parseFloat(g.valor)/g.numeroParcelas;if(ce>0)switch(g.intervaloParcelas){case"mensal":oe.setMonth(oe.getMonth()+ce);break;case"quinzenal":oe.setDate(oe.getDate()+ce*15);break;case"semanal":oe.setDate(oe.getDate()+ce*7);break}return i.jsxs("div",{className:"flex items-center justify-between text-sm bg-slate-50 dark:bg-slate-600 rounded px-3 py-2",children:[i.jsxs("span",{className:"font-medium",children:["Parcela ",ce+1,"/",g.numeroParcelas]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:oe.toLocaleDateString("pt-BR")}),i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",be.toFixed(2)]})]})]},ce)})})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(oi,{className:"h-4 w-4"}),"Data de Vencimento"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"dataVencimento",children:g.parcelado?"Data da Primeira Parcela *":"Data de Vencimento *"}),i.jsx(me,{id:"dataVencimento",type:"date",value:g.dataVencimento,onChange:G=>b({...g,dataVencimento:G.target.value}),required:!0}),g.parcelado&&i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"As demais parcelas sero calculadas automaticamente baseadas no intervalo selecionado."})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsx(X,{type:"button",variant:"outline",onClick:()=>{f(!1),S(null),b({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"})},className:"flex-1",children:"Cancelar"}),i.jsx(X,{type:"submit",className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700",children:_?"Atualizar":"Criar Lanamento"})]})]})]})]}),i.jsxs(X,{variant:"outline",className:"flex items-center gap-2",onClick:()=>w(!0),children:[i.jsx(ic,{className:"h-4 w-4"}),"Exportar"]}),i.jsxs(X,{variant:"outline",className:"flex items-center gap-2",onClick:()=>m(!0),children:[i.jsx(An,{className:"h-4 w-4"}),"Relatrios"]})]})})]}),i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"A Receber"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(M)}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[W.filter(G=>G.status==="Pendente").length," contas"]})]}),i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:i.jsx(Yn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})}),i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"A Pagar"}),i.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z)}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[$.filter(G=>G.status==="Pendente").length," contas"]})]}),i.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-xl",children:i.jsx(go,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]})})}),i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Recebido"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Y)}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[W.filter(G=>G.status==="Recebido").length," contas"]})]}),i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:i.jsx(oc,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})}),i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Pago"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Q)}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[$.filter(G=>G.status==="Pago").length," contas"]})]}),i.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:i.jsx(nz,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})})]}),i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs(Ba,{defaultValue:"receber",className:"w-full",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-600",children:i.jsxs(Mi,{className:"grid w-full grid-cols-2 h-auto p-1",children:[i.jsxs(fn,{value:"receber",className:"flex items-center gap-2 p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white",children:[i.jsx(Yn,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Contas a Receber"}),i.jsx(es,{variant:"secondary",className:"ml-2",children:W.length})]}),i.jsxs(fn,{value:"pagar",className:"flex items-center gap-2 p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-red-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[i.jsx(go,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Contas a Pagar"}),i.jsx(es,{variant:"secondary",className:"ml-2",children:$.length})]})]})}),i.jsxs(pn,{value:"receber",className:"p-6 space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:i.jsx(Yn,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Contas a Receber"}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[W.length," contas encontradas"]})]})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar por descrio...",value:c,onChange:G=>u(G.target.value),className:"max-w-sm pl-10"})]}),i.jsx("div",{className:"space-y-4",children:i.jsx(bp,{children:W.map((G,ce)=>i.jsx(xe,{conta:G,index:ce},G.id))})}),W.length===0&&i.jsxs(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx("div",{className:"p-4 bg-green-100 dark:bg-green-900/30 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:i.jsx(Yn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a receber"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Suas contas a receber aparecero aqui"}),i.jsxs(X,{onClick:()=>f(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[i.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Adicionar Conta a Receber"]})]})]}),i.jsxs(pn,{value:"pagar",className:"p-6 space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-lg",children:i.jsx(go,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Contas a Pagar"}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[$.length," contas encontradas"]})]})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar por descrio...",value:c,onChange:G=>u(G.target.value),className:"max-w-sm pl-10"})]}),i.jsx("div",{className:"space-y-4",children:i.jsx(bp,{children:$.map((G,ce)=>i.jsx(xe,{conta:G,index:ce},G.id))})}),$.length===0&&i.jsxs(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:i.jsx(go,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a pagar"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Suas contas a pagar aparecero aqui"}),i.jsxs(X,{onClick:()=>f(!0),className:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white",children:[i.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Adicionar Conta a Pagar"]})]})]})]})}),i.jsx(Tn,{open:y,onOpenChange:w,children:i.jsxs(gn,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[i.jsx(vn,{children:i.jsxs(xn,{className:"flex items-center gap-2",children:[i.jsx(ic,{className:"h-5 w-5"}),"Exportar Dados"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Escolha o formato para exportar os dados financeiros:"}),i.jsxs("div",{className:"grid gap-3",children:[i.jsxs(X,{onClick:A,className:"flex items-center gap-2 justify-start",variant:"outline",children:[i.jsx(q9,{className:"h-4 w-4"}),"Exportar como CSV"]}),i.jsxs(X,{onClick:k,className:"flex items-center gap-2 justify-start",variant:"outline",children:[i.jsx(Fr,{className:"h-4 w-4"}),"Exportar como PDF"]}),i.jsxs(X,{onClick:j,className:"flex items-center gap-2 justify-start",variant:"outline",children:[i.jsx(pd,{className:"h-4 w-4"}),"Imprimir Relatrio"]})]}),i.jsx("div",{className:"flex gap-2 pt-4",children:i.jsx(X,{variant:"outline",onClick:()=>w(!1),className:"flex-1",children:"Fechar"})})]})]})}),i.jsx(Tn,{open:p,onOpenChange:m,children:i.jsxs(gn,{className:"sm:max-w-lg bg-white dark:bg-slate-900",children:[i.jsx(vn,{children:i.jsxs(xn,{className:"flex items-center gap-2",children:[i.jsx(An,{className:"h-5 w-5"}),"Relatrios Financeiros"]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Relatrio Resumo"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Gera um resumo financeiro do ms atual com totais e saldo lquido."}),i.jsxs(X,{onClick:I,className:"w-full",children:[i.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Gerar Relatrio Resumo"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Relatrio Detalhado"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Gera um relatrio detalhado com filtros personalizados."}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"dataInicio",children:"Data Incio"}),i.jsx(me,{id:"dataInicio",type:"date",value:N.dataInicio,onChange:G=>R({...N,dataInicio:G.target.value})})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"dataFim",children:"Data Fim"}),i.jsx(me,{id:"dataFim",type:"date",value:N.dataFim,onChange:G=>R({...N,dataFim:G.target.value})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(ne,{children:"Tipo"}),i.jsxs(ut,{value:N.tipo,onValueChange:G=>R({...N,tipo:G}),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"todos",children:"Todos"}),i.jsx(ae,{value:"receber",children:"A Receber"}),i.jsx(ae,{value:"pagar",children:"A Pagar"})]})]})]}),i.jsxs("div",{children:[i.jsx(ne,{children:"Status"}),i.jsxs(ut,{value:N.status,onValueChange:G=>R({...N,status:G}),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"todos",children:"Todos"}),i.jsx(ae,{value:"Pendente",children:"Pendente"}),i.jsx(ae,{value:"Recebido",children:"Recebido"}),i.jsx(ae,{value:"Pago",children:"Pago"})]})]})]})]}),i.jsxs(X,{onClick:V,className:"w-full",children:[i.jsx(An,{className:"h-4 w-4 mr-2"}),"Gerar Relatrio Detalhado"]})]}),i.jsx("div",{className:"flex gap-2 pt-4",children:i.jsx(X,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Fechar"})})]})]})})]})};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function on(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Me(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Xe(t){Me(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||yc(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function mn(t,e){Me(2,arguments);var n=Xe(t),r=on(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function as(t,e){Me(2,arguments);var n=Xe(t),r=on(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var a=o.getDate();return s>=a?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function pZ(t,e){Me(2,arguments);var n=Xe(t).getTime(),r=on(e);return new Date(n+r)}var mZ={};function Ji(){return mZ}function ro(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Ji(),f=on((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Xe(t),m=p.getDay(),y=(m<f?7:0)+m-f;return p.setDate(p.getDate()-y),p.setHours(0,0,0,0),p}function Ka(t){return Me(1,arguments),ro(t,{weekStartsOn:1})}function gZ(t){Me(1,arguments);var e=Xe(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=Ka(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var a=Ka(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function vZ(t){Me(1,arguments);var e=gZ(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Ka(n);return r}function kd(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function wc(t){Me(1,arguments);var e=Xe(t);return e.setHours(0,0,0,0),e}var xZ=864e5;function yo(t,e){Me(2,arguments);var n=wc(t),r=wc(e),s=n.getTime()-kd(n),o=r.getTime()-kd(r);return Math.round((s-o)/xZ)}function fy(t,e){Me(2,arguments);var n=on(e),r=n*7;return mn(t,r)}function XM(t,e){Me(2,arguments);var n=on(e);return as(t,n*12)}function yZ(t){Me(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(yc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=Xe(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function wZ(t){Me(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(yc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=Xe(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function wr(t,e){Me(2,arguments);var n=wc(t),r=wc(e);return n.getTime()===r.getTime()}function f1(t){return Me(1,arguments),t instanceof Date||yc(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bZ(t){if(Me(1,arguments),!f1(t)&&typeof t!="number")return!1;var e=Xe(t);return!isNaN(Number(e))}function Id(t,e){Me(2,arguments);var n=Xe(t),r=Xe(e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}var _Z=6048e5;function SZ(t,e,n){Me(2,arguments);var r=ro(t,n),s=ro(e,n),o=r.getTime()-kd(r),a=s.getTime()-kd(s);return Math.round((o-a)/_Z)}function Pd(t){Me(1,arguments);var e=Xe(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Zn(t){Me(1,arguments);var e=Xe(t);return e.setDate(1),e.setHours(0,0,0,0),e}function oN(t){Me(1,arguments);var e=Xe(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function py(t){Me(1,arguments);var e=Xe(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function p1(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Ji(),f=on((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Xe(t),m=p.getDay(),y=(m<f?-7:0)+6-(m-f);return p.setDate(p.getDate()+y),p.setHours(23,59,59,999),p}function ZM(t){return Me(1,arguments),p1(t,{weekStartsOn:1})}function CZ(t,e){Me(2,arguments);var n=on(e);return pZ(t,-n)}var EZ=864e5;function TZ(t){Me(1,arguments);var e=Xe(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/EZ)+1}function Jp(t){Me(1,arguments);var e=1,n=Xe(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function JM(t){Me(1,arguments);var e=Xe(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Jp(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=Jp(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function NZ(t){Me(1,arguments);var e=JM(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Jp(n);return r}var jZ=6048e5;function kZ(t){Me(1,arguments);var e=Xe(t),n=Jp(e).getTime()-NZ(e).getTime();return Math.round(n/jZ)+1}function em(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Ji(),f=on((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Xe(t),m=p.getUTCDay(),y=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-y),p.setUTCHours(0,0,0,0),p}function e4(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Xe(t),f=d.getUTCFullYear(),p=Ji(),m=on((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,m),y.setUTCHours(0,0,0,0);var w=em(y,e),_=new Date(0);_.setUTCFullYear(f,0,m),_.setUTCHours(0,0,0,0);var S=em(_,e);return d.getTime()>=w.getTime()?f+1:d.getTime()>=S.getTime()?f:f-1}function IZ(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Ji(),f=on((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=e4(t,e),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var y=em(m,e);return y}var PZ=6048e5;function AZ(t,e){Me(1,arguments);var n=Xe(t),r=em(n,e).getTime()-IZ(n,e).getTime();return Math.round(r/PZ)+1}function yt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var RZ={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return yt(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):yt(r+1,2)},d:function(e,n){return yt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return yt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return yt(e.getUTCHours(),n.length)},m:function(e,n){return yt(e.getUTCMinutes(),n.length)},s:function(e,n){return yt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return yt(o,n.length)}};const Qo=RZ;var fl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DZ={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Qo.y(e,n)},Y:function(e,n,r,s){var o=e4(e,s),a=o>0?o:1-o;if(n==="YY"){var l=a%100;return yt(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):yt(a,n.length)},R:function(e,n){var r=JM(e);return yt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return yt(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return yt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return yt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Qo.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return yt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var o=AZ(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):yt(o,n.length)},I:function(e,n,r){var s=kZ(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):yt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Qo.d(e,n)},D:function(e,n,r){var s=TZ(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):yt(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var o=e.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return yt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var o=e.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return yt(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return yt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),o;switch(s===12?o=fl.noon:s===0?o=fl.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),o;switch(s>=17?o=fl.evening:s>=12?o=fl.afternoon:s>=4?o=fl.morning:o=fl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Qo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Qo.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):yt(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):yt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Qo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Qo.s(e,n)},S:function(e,n){return Qo.S(e,n)},X:function(e,n,r,s){var o=s._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return aN(a);case"XXXX":case"XX":return fa(a);case"XXXXX":case"XXX":default:return fa(a,":")}},x:function(e,n,r,s){var o=s._originalDate||e,a=o.getTimezoneOffset();switch(n){case"x":return aN(a);case"xxxx":case"xx":return fa(a);case"xxxxx":case"xxx":default:return fa(a,":")}},O:function(e,n,r,s){var o=s._originalDate||e,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+iN(a,":");case"OOOO":default:return"GMT"+fa(a,":")}},z:function(e,n,r,s){var o=s._originalDate||e,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+iN(a,":");case"zzzz":default:return"GMT"+fa(a,":")}},t:function(e,n,r,s){var o=s._originalDate||e,a=Math.floor(o.getTime()/1e3);return yt(a,n.length)},T:function(e,n,r,s){var o=s._originalDate||e,a=o.getTime();return yt(a,n.length)}};function iN(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var a=e||"";return n+String(s)+a+yt(o,2)}function aN(t,e){if(t%60===0){var n=t>0?"-":"+";return n+yt(Math.abs(t)/60,2)}return fa(t,e)}function fa(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),o=yt(Math.floor(s/60),2),a=yt(s%60,2);return r+o+n+a}const MZ=DZ;var lN=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},t4=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},OZ=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return lN(e,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",lN(s,n)).replace("{{time}}",t4(o,n))},LZ={p:t4,P:OZ};const FZ=LZ;var VZ=["D","DD"],zZ=["YY","YYYY"];function UZ(t){return VZ.indexOf(t)!==-1}function BZ(t){return zZ.indexOf(t)!==-1}function cN(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var $Z={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qZ=function(e,n,r){var s,o=$Z[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const WZ=qZ;function Jv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var HZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YZ={date:Jv({formats:HZ,defaultWidth:"full"}),time:Jv({formats:GZ,defaultWidth:"full"}),dateTime:Jv({formats:KZ,defaultWidth:"full"})};const QZ=YZ;var XZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZZ=function(e,n,r,s){return XZ[e]};const JZ=ZZ;function fu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var eJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iJ=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},aJ={ordinalNumber:iJ,era:fu({values:eJ,defaultWidth:"wide"}),quarter:fu({values:tJ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:fu({values:nJ,defaultWidth:"wide"}),day:fu({values:rJ,defaultWidth:"wide"}),dayPeriod:fu({values:sJ,defaultWidth:"wide",formattingValues:oJ,defaultFormattingWidth:"wide"})};const lJ=aJ;function pu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;var a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?uJ(l,function(f){return f.test(a)}):cJ(l,function(f){return f.test(a)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(a.length);return{value:u,rest:d}}}function cJ(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function uJ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function dJ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var l=e.slice(s.length);return{value:a,rest:l}}}var hJ=/^(\d+)(th|st|nd|rd)?/i,fJ=/\d+/i,pJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mJ={any:[/^b/i,/^(a|c)/i]},gJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vJ={any:[/1/i,/2/i,/3/i,/4/i]},xJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_J={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CJ={ordinalNumber:dJ({matchPattern:hJ,parsePattern:fJ,valueCallback:function(e){return parseInt(e,10)}}),era:pu({matchPatterns:pJ,defaultMatchWidth:"wide",parsePatterns:mJ,defaultParseWidth:"any"}),quarter:pu({matchPatterns:gJ,defaultMatchWidth:"wide",parsePatterns:vJ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:pu({matchPatterns:xJ,defaultMatchWidth:"wide",parsePatterns:yJ,defaultParseWidth:"any"}),day:pu({matchPatterns:wJ,defaultMatchWidth:"wide",parsePatterns:bJ,defaultParseWidth:"any"}),dayPeriod:pu({matchPatterns:_J,defaultMatchWidth:"any",parsePatterns:SJ,defaultParseWidth:"any"})};const EJ=CJ;var TJ={code:"en-US",formatDistance:WZ,formatLong:QZ,formatRelative:JZ,localize:lJ,match:EJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};const n4=TJ;var NJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kJ=/^'([^]*?)'?$/,IJ=/''/g,PJ=/[a-zA-Z]/;function eo(t,e,n){var r,s,o,a,l,c,u,d,f,p,m,y,w,_,S,g,b,N;Me(2,arguments);var R=String(e),L=Ji(),C=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:L.locale)!==null&&r!==void 0?r:n4,T=on((o=(a=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:L.firstWeekContainsDate)!==null&&a!==void 0?a:(f=L.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=on((m=(y=(w=(_=n==null?void 0:n.weekStartsOn)!==null&&_!==void 0?_:n==null||(S=n.locale)===null||S===void 0||(g=S.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&w!==void 0?w:L.weekStartsOn)!==null&&y!==void 0?y:(b=L.locale)===null||b===void 0||(N=b.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&m!==void 0?m:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var A=Xe(t);if(!bZ(A))throw new RangeError("Invalid time value");var k=kd(A),j=CZ(A,k),I={firstWeekContainsDate:T,weekStartsOn:P,locale:C,_originalDate:A},V=R.match(jJ).map(function(F){var W=F[0];if(W==="p"||W==="P"){var $=FZ[W];return $(F,C.formatLong)}return F}).join("").match(NJ).map(function(F){if(F==="''")return"'";var W=F[0];if(W==="'")return AJ(F);var $=MZ[W];if($)return!(n!=null&&n.useAdditionalWeekYearTokens)&&BZ(F)&&cN(F,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&UZ(F)&&cN(F,e,String(t)),$(j,F,C.localize,I);if(W.match(PJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return F}).join("");return V}function AJ(t){var e=t.match(kJ);return e?e[1].replace(IJ,"'"):t}function RJ(t){Me(1,arguments);var e=Xe(t),n=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var DJ=6048e5;function MJ(t){Me(1,arguments);var e=Xe(t),n=Ka(e).getTime()-vZ(e).getTime();return Math.round(n/DJ)+1}function OJ(t){Me(1,arguments);var e=Xe(t),n=e.getTime();return n}function LJ(t){return Me(1,arguments),Math.floor(OJ(t)/1e3)}function FJ(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Xe(t),f=d.getFullYear(),p=Ji(),m=on((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setFullYear(f+1,0,m),y.setHours(0,0,0,0);var w=ro(y,e),_=new Date(0);_.setFullYear(f,0,m),_.setHours(0,0,0,0);var S=ro(_,e);return d.getTime()>=w.getTime()?f+1:d.getTime()>=S.getTime()?f:f-1}function VJ(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Ji(),f=on((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=FJ(t,e),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var y=ro(m,e);return y}var zJ=6048e5;function UJ(t,e){Me(1,arguments);var n=Xe(t),r=ro(n,e).getTime()-VJ(n,e).getTime();return Math.round(r/zJ)+1}function BJ(t){Me(1,arguments);var e=Xe(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function $J(t,e){return Me(1,arguments),SZ(BJ(t),Zn(t),e)+1}function my(t,e){Me(2,arguments);var n=Xe(t),r=Xe(e);return n.getTime()>r.getTime()}function r4(t,e){Me(2,arguments);var n=Xe(t),r=Xe(e);return n.getTime()<r.getTime()}function m1(t,e){Me(2,arguments);var n=Xe(t),r=Xe(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function qJ(t,e){Me(2,arguments);var n=Xe(t),r=Xe(e);return n.getFullYear()===r.getFullYear()}function e0(t,e){Me(2,arguments);var n=on(e);return mn(t,-n)}function t0(t,e){Me(2,arguments);var n=Xe(t),r=on(e),s=n.getFullYear(),o=n.getDate(),a=new Date(0);a.setFullYear(s,r,15),a.setHours(0,0,0,0);var l=RJ(a);return n.setMonth(r,Math.min(o,l)),n}function uN(t,e){Me(2,arguments);var n=Xe(t),r=on(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function dN(t,e){Me(2,arguments);var n=on(e);return as(t,-n)}function hN(t,e){Me(2,arguments);var n=on(e);return XM(t,-n)}var Ue=function(){return Ue=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ue.apply(this,arguments)};function WJ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function s4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function ih(t){return t.mode==="multiple"}function ah(t){return t.mode==="range"}function gg(t){return t.mode==="single"}var HJ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function GJ(t,e){return eo(t,"LLLL y",e)}function KJ(t,e){return eo(t,"d",e)}function YJ(t,e){return eo(t,"LLLL",e)}function QJ(t){return"".concat(t)}function XJ(t,e){return eo(t,"cccccc",e)}function ZJ(t,e){return eo(t,"yyyy",e)}var JJ=Object.freeze({__proto__:null,formatCaption:GJ,formatDay:KJ,formatMonthCaption:YJ,formatWeekNumber:QJ,formatWeekdayName:XJ,formatYearCaption:ZJ}),eee=function(t,e,n){return eo(t,"do MMMM (EEEE)",n)},tee=function(){return"Month: "},nee=function(){return"Go to next month"},ree=function(){return"Go to previous month"},see=function(t,e){return eo(t,"cccc",e)},oee=function(t){return"Week n. ".concat(t)},iee=function(){return"Year: "},aee=Object.freeze({__proto__:null,labelDay:eee,labelMonthDropdown:tee,labelNext:nee,labelPrevious:ree,labelWeekNumber:oee,labelWeekday:see,labelYearDropdown:iee});function lee(){var t="buttons",e=HJ,n=n4,r={},s={},o=1,a={},l=new Date;return{captionLayout:t,classNames:e,formatters:JJ,labels:aee,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:a,today:l,mode:"default"}}function cee(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,o=t.fromDate,a=t.toDate;return r?o=Zn(r):e&&(o=new Date(e,0,1)),s?a=Pd(s):n&&(a=new Date(n,11,31)),{fromDate:o?wc(o):void 0,toDate:a?wc(a):void 0}}var o4=v.createContext(void 0);function uee(t){var e,n=t.initialProps,r=lee(),s=cee(n),o=s.fromDate,a=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!o||!a)&&(l="buttons");var c;(gg(n)||ih(n)||ah(n))&&(c=n.onSelect);var u=Ue(Ue(Ue({},r),n),{captionLayout:l,classNames:Ue(Ue({},r.classNames),n.classNames),components:Ue({},n.components),formatters:Ue(Ue({},r.formatters),n.formatters),fromDate:o,labels:Ue(Ue({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ue(Ue({},r.modifiers),n.modifiers),modifiersClassNames:Ue(Ue({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ue(Ue({},r.styles),n.styles),toDate:a});return i.jsx(o4.Provider,{value:u,children:t.children})}function kt(){var t=v.useContext(o4);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function i4(t){var e=kt(),n=e.locale,r=e.classNames,s=e.styles,o=e.formatters.formatCaption;return i.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function dee(t){return i.jsx("svg",Ue({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function a4(t){var e,n,r=t.onChange,s=t.value,o=t.children,a=t.caption,l=t.className,c=t.style,u=kt(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:dee;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),i.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function hee(t){var e,n=kt(),r=n.fromDate,s=n.toDate,o=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var f=[];if(qJ(r,s))for(var p=Zn(r),m=r.getMonth();m<=s.getMonth();m++)f.push(t0(p,m));else for(var p=Zn(new Date),m=0;m<=11;m++)f.push(t0(p,m));var y=function(_){var S=Number(_.target.value),g=t0(Zn(t.displayMonth),S);t.onChange(g)},w=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:a4;return i.jsx(w,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:a}),children:f.map(function(_){return i.jsx("option",{value:_.getMonth(),children:l(_,{locale:a})},_.getMonth())})})}function fee(t){var e,n=t.displayMonth,r=kt(),s=r.fromDate,o=r.toDate,a=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!s)return i.jsx(i.Fragment,{});if(!o)return i.jsx(i.Fragment,{});for(var m=s.getFullYear(),y=o.getFullYear(),w=m;w<=y;w++)p.push(uN(py(new Date),w));var _=function(g){var b=uN(Zn(n),Number(g.target.value));t.onChange(b)},S=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:a4;return i.jsx(S,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:_,value:n.getFullYear(),caption:d(n,{locale:a}),children:p.map(function(g){return i.jsx("option",{value:g.getFullYear(),children:d(g,{locale:a})},g.getFullYear())})})}function pee(t,e){var n=v.useState(t),r=n[0],s=n[1],o=e===void 0?r:e;return[o,s]}function mee(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,o=t.toDate,a=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(o&&Id(o,s)<0){var u=-1*(c-1);s=as(o,u)}return a&&Id(s,a)<0&&(s=a),Zn(s)}function gee(){var t=kt(),e=mee(t),n=pee(e,t.month),r=n[0],s=n[1],o=function(a){var l;if(!t.disableNavigation){var c=Zn(a);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,o]}function vee(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Zn(t),o=Zn(as(s,r)),a=Id(o,s),l=[],c=0;c<a;c++){var u=as(s,c);l.push(u)}return n&&(l=l.reverse()),l}function xee(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,a=r?o:1,l=Zn(t);if(!n)return as(l,a);var c=Id(n,t);if(!(c<o))return as(l,a)}}function yee(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,a=r?o:1,l=Zn(t);if(!n)return as(l,-a);var c=Id(l,n);if(!(c<=0))return as(l,-a)}}var l4=v.createContext(void 0);function wee(t){var e=kt(),n=gee(),r=n[0],s=n[1],o=vee(r,e),a=xee(r,e),l=yee(r,e),c=function(f){return o.some(function(p){return m1(f,p)})},u=function(f,p){c(f)||(p&&r4(f,p)?s(as(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return i.jsx(l4.Provider,{value:d,children:t.children})}function lh(){var t=v.useContext(l4);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function fN(t){var e,n=kt(),r=n.classNames,s=n.styles,o=n.components,a=lh().goToMonth,l=function(d){a(as(d,t.displayIndex?-t.displayIndex:0))},c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:i4,u=i.jsx(c,{id:t.id,displayMonth:t.displayMonth});return i.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:r.vhidden,children:u}),i.jsx(hee,{onChange:l,displayMonth:t.displayMonth}),i.jsx(fee,{onChange:l,displayMonth:t.displayMonth})]})}function bee(t){return i.jsx("svg",Ue({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _ee(t){return i.jsx("svg",Ue({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var tm=v.forwardRef(function(t,e){var n=kt(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var a=o.join(" "),l=Ue(Ue({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),i.jsx("button",Ue({},t,{ref:e,type:"button",className:a,style:l}))});function See(t){var e,n,r=kt(),s=r.dir,o=r.locale,a=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return i.jsx(i.Fragment,{});var p=u(t.previousMonth,{locale:o}),m=[a.nav_button,a.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:o}),w=[a.nav_button,a.nav_button_next].join(" "),_=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:_ee,S=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:bee;return i.jsxs("div",{className:a.nav,style:l.nav,children:[!t.hidePrevious&&i.jsx(tm,{name:"previous-month","aria-label":p,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?i.jsx(_,{className:a.nav_icon,style:l.nav_icon}):i.jsx(S,{className:a.nav_icon,style:l.nav_icon})}),!t.hideNext&&i.jsx(tm,{name:"next-month","aria-label":y,className:w,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?i.jsx(S,{className:a.nav_icon,style:l.nav_icon}):i.jsx(_,{className:a.nav_icon,style:l.nav_icon})})]})}function pN(t){var e=kt().numberOfMonths,n=lh(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(y){return m1(t.displayMonth,y)}),c=l===0,u=l===a.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){r&&o(r)},m=function(){s&&o(s)};return i.jsx(See,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:m})}function Cee(t){var e,n=kt(),r=n.classNames,s=n.disableNavigation,o=n.styles,a=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:i4,u;return s?u=i.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=i.jsx(fN,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(fN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),i.jsx(pN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(pN,{displayMonth:t.displayMonth,id:t.id})]}),i.jsx("div",{className:r.caption,style:o.caption,children:u})}function Eee(t){var e=kt(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?i.jsx("tfoot",{className:s,style:r.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:n})})}):i.jsx(i.Fragment,{})}function Tee(t,e,n){for(var r=n?Ka(new Date):ro(new Date,{locale:t,weekStartsOn:e}),s=[],o=0;o<7;o++){var a=mn(r,o);s.push(a)}return s}function Nee(){var t=kt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,o=t.weekStartsOn,a=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=Tee(s,o,a);return i.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&i.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function jee(){var t,e=kt(),n=e.classNames,r=e.styles,s=e.components,o=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:Nee;return i.jsx("thead",{style:r.head,className:n.head,children:i.jsx(o,{})})}function kee(t){var e=kt(),n=e.locale,r=e.formatters.formatDay;return i.jsx(i.Fragment,{children:r(t.date,{locale:n})})}var g1=v.createContext(void 0);function Iee(t){if(!ih(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return i.jsx(g1.Provider,{value:e,children:t.children})}return i.jsx(Pee,{initialProps:t.initialProps,children:t.children})}function Pee(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,o=e.max,a=function(u,d,f){var p,m;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var w=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!w){var _=r?s4([],r,!0):[];if(d.selected){var S=_.findIndex(function(g){return wr(u,g)});_.splice(S,1)}else _.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,_,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,f=r.some(function(p){return wr(p,u)});return!!(d&&!f)});var c={selected:r,onDayClick:a,modifiers:l};return i.jsx(g1.Provider,{value:c,children:n})}function v1(){var t=v.useContext(g1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Aee(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?wr(s,t)&&wr(r,t)?void 0:wr(s,t)?{from:s,to:void 0}:wr(r,t)?void 0:my(r,t)?{from:t,to:s}:{from:r,to:t}:s?my(t,s)?{from:s,to:t}:{from:t,to:s}:r?r4(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var x1=v.createContext(void 0);function Ree(t){if(!ah(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(x1.Provider,{value:e,children:t.children})}return i.jsx(Dee,{initialProps:t.initialProps,children:t.children})}function Dee(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},o=s.from,a=s.to,l=e.min,c=e.max,u=function(m,y,w){var _,S;(_=e.onDayClick)===null||_===void 0||_.call(e,m,y,w);var g=Aee(m,r);(S=e.onSelect)===null||S===void 0||S.call(e,g,m,y,w)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],a?(d.range_end=[a],wr(o,a)||(d.range_middle=[{after:o,before:a}])):d.range_end=[o]):a&&(d.range_start=[a],d.range_end=[a]),l&&(o&&!a&&d.disabled.push({after:e0(o,l-1),before:mn(o,l-1)}),o&&a&&d.disabled.push({after:o,before:mn(o,l-1)}),!o&&a&&d.disabled.push({after:e0(a,l-1),before:mn(a,l-1)})),c){if(o&&!a&&(d.disabled.push({before:mn(o,-c+1)}),d.disabled.push({after:mn(o,c-1)})),o&&a){var f=yo(a,o)+1,p=c-f;d.disabled.push({before:e0(o,p)}),d.disabled.push({after:mn(a,p)})}!o&&a&&(d.disabled.push({before:mn(a,-c+1)}),d.disabled.push({after:mn(a,c-1)}))}return i.jsx(x1.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function y1(){var t=v.useContext(x1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Uf(t){return Array.isArray(t)?s4([],t,!0):t!==void 0?[t]:[]}function Mee(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Uf(s)}),e}var js;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(js||(js={}));var Oee=js.Selected,co=js.Disabled,Lee=js.Hidden,Fee=js.Today,n0=js.RangeEnd,r0=js.RangeMiddle,s0=js.RangeStart,Vee=js.Outside;function zee(t,e,n){var r,s=(r={},r[Oee]=Uf(t.selected),r[co]=Uf(t.disabled),r[Lee]=Uf(t.hidden),r[Fee]=[t.today],r[n0]=[],r[r0]=[],r[s0]=[],r[Vee]=[],r);return t.fromDate&&s[co].push({before:t.fromDate}),t.toDate&&s[co].push({after:t.toDate}),ih(t)?s[co]=s[co].concat(e.modifiers[co]):ah(t)&&(s[co]=s[co].concat(n.modifiers[co]),s[s0]=n.modifiers[s0],s[r0]=n.modifiers[r0],s[n0]=n.modifiers[n0]),s}var c4=v.createContext(void 0);function Uee(t){var e=kt(),n=v1(),r=y1(),s=zee(e,n,r),o=Mee(e.modifiers),a=Ue(Ue({},s),o);return i.jsx(c4.Provider,{value:a,children:t.children})}function u4(){var t=v.useContext(c4);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Bee(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function $ee(t){return!!(t&&typeof t=="object"&&"from"in t)}function qee(t){return!!(t&&typeof t=="object"&&"after"in t)}function Wee(t){return!!(t&&typeof t=="object"&&"before"in t)}function Hee(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Gee(t,e){var n,r=e.from,s=e.to;if(r&&s){var o=yo(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var a=yo(t,r)>=0&&yo(s,t)>=0;return a}return s?wr(s,t):r?wr(r,t):!1}function Kee(t){return f1(t)}function Yee(t){return Array.isArray(t)&&t.every(f1)}function Qee(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Kee(n))return wr(t,n);if(Yee(n))return n.includes(t);if($ee(n))return Gee(t,n);if(Hee(n))return n.dayOfWeek.includes(t.getDay());if(Bee(n)){var r=yo(n.before,t),s=yo(n.after,t),o=r>0,a=s<0,l=my(n.before,n.after);return l?a&&o:o||a}return qee(n)?yo(t,n.after)>0:Wee(n)?yo(n.before,t)>0:typeof n=="function"?n(t):!1})}function w1(t,e,n){var r=Object.keys(e).reduce(function(o,a){var l=e[a];return Qee(t,l)&&o.push(a),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!m1(t,n)&&(s.outside=!0),s}function Xee(t,e){for(var n=Zn(t[0]),r=Pd(t[t.length-1]),s,o,a=n;a<=r;){var l=w1(a,e),c=!l.disabled&&!l.hidden;if(!c){a=mn(a,1);continue}if(l.selected)return a;l.today&&!o&&(o=a),s||(s=a),a=mn(a,1)}return o||s}var Zee=365;function d4(t,e){var n=e.moveBy,r=e.direction,s=e.context,o=e.modifiers,a=e.retry,l=a===void 0?{count:0,lastFocused:t}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,p={day:mn,week:fy,month:as,year:XM,startOfWeek:function(_){return s.ISOWeek?Ka(_):ro(_,{locale:f,weekStartsOn:c})},endOfWeek:function(_){return s.ISOWeek?ZM(_):p1(_,{locale:f,weekStartsOn:c})}},m=p[n](t,r==="after"?1:-1);r==="before"&&u?m=yZ([u,m]):r==="after"&&d&&(m=wZ([d,m]));var y=!0;if(o){var w=w1(m,o);y=!w.disabled&&!w.hidden}return y?m:l.count>Zee?l.lastFocused:d4(m,{moveBy:n,direction:r,context:s,modifiers:o,retry:Ue(Ue({},l),{count:l.count+1})})}var h4=v.createContext(void 0);function Jee(t){var e=lh(),n=u4(),r=v.useState(),s=r[0],o=r[1],a=v.useState(),l=a[0],c=a[1],u=Xee(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),o(void 0)},p=function(_){o(_)},m=kt(),y=function(_,S){if(s){var g=d4(s,{moveBy:_,direction:S,context:m,modifiers:n});wr(s,g)||(e.goToDate(g,s),p(g))}},w={focusedDay:s,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return i.jsx(h4.Provider,{value:w,children:t.children})}function b1(){var t=v.useContext(h4);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function ete(t,e){var n=u4(),r=w1(t,n,e);return r}var _1=v.createContext(void 0);function tte(t){if(!gg(t.initialProps)){var e={selected:void 0};return i.jsx(_1.Provider,{value:e,children:t.children})}return i.jsx(nte,{initialProps:t.initialProps,children:t.children})}function nte(t){var e=t.initialProps,n=t.children,r=function(o,a,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,o,a,l),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,o,a,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,o,o,a,l)},s={selected:e.selected,onDayClick:r};return i.jsx(_1.Provider,{value:s,children:n})}function f4(){var t=v.useContext(_1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function rte(t,e){var n=kt(),r=f4(),s=v1(),o=y1(),a=b1(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,p=a.focus,m=a.focusMonthBefore,y=a.focusMonthAfter,w=a.focusYearBefore,_=a.focusYearAfter,S=a.focusStartOfWeek,g=a.focusEndOfWeek,b=function($){var M,z,Y,Q;gg(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,t,e,$):ih(n)?(z=s.onDayClick)===null||z===void 0||z.call(s,t,e,$):ah(n)?(Y=o.onDayClick)===null||Y===void 0||Y.call(o,t,e,$):(Q=n.onDayClick)===null||Q===void 0||Q.call(n,t,e,$)},N=function($){var M;p(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,$)},R=function($){var M;f(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,$)},L=function($){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,$)},C=function($){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,$)},T=function($){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,$)},P=function($){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,$)},A=function($){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,$)},k=function($){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,$)},j=function($){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,$)},I=function($){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,$)},V=function($){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,$)},F=function($){var M;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?w():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?_():y();break;case"Home":$.preventDefault(),$.stopPropagation(),S();break;case"End":$.preventDefault(),$.stopPropagation(),g();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,$)},W={onClick:b,onFocus:N,onBlur:R,onKeyDown:F,onKeyUp:V,onMouseEnter:L,onMouseLeave:C,onPointerEnter:T,onPointerLeave:P,onTouchCancel:A,onTouchEnd:k,onTouchMove:j,onTouchStart:I};return W}function ste(){var t=kt(),e=f4(),n=v1(),r=y1(),s=gg(t)?e.selected:ih(t)?n.selected:ah(t)?r.selected:void 0;return s}function ote(t){return Object.values(js).includes(t)}function ite(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(ote(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function ate(t,e){var n=Ue({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Ue(Ue({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function lte(t,e,n){var r,s,o,a=kt(),l=b1(),c=ete(t,e),u=rte(t,c),d=ste(),f=!!(a.onDayClick||a.mode!=="default");v.useEffect(function(){var L;c.outside||l.focusedDay&&f&&wr(l.focusedDay,t)&&((L=n.current)===null||L===void 0||L.focus())},[l.focusedDay,t,n,f,c.outside]);var p=ite(a,c).join(" "),m=ate(a,c),y=!!(c.outside&&!a.showOutsideDays||c.hidden),w=(o=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:kee,_=i.jsx(w,{date:t,displayMonth:e,activeModifiers:c}),S={style:m,className:p,children:_,role:"gridcell"},g=l.focusTarget&&wr(l.focusTarget,t)&&!c.outside,b=l.focusedDay&&wr(l.focusedDay,t),N=Ue(Ue(Ue({},S),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||g?0:-1,r)),u),R={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:N,divProps:S};return R}function cte(t){var e=v.useRef(null),n=lte(t.date,t.displayMonth,e);return n.isHidden?i.jsx("div",{role:"gridcell"}):n.isButton?i.jsx(tm,Ue({name:"day",ref:e},n.buttonProps)):i.jsx("div",Ue({},n.divProps))}function ute(t){var e=t.number,n=t.dates,r=kt(),s=r.onWeekNumberClick,o=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return i.jsx("span",{className:a.weeknumber,style:o.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(m){s(e,n,m)};return i.jsx(tm,{name:"week-number","aria-label":f,className:a.weeknumber,style:o.weeknumber,onClick:p,children:d})}function dte(t){var e,n,r=kt(),s=r.styles,o=r.classNames,a=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:cte,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:ute,d;return a&&(d=i.jsx("td",{className:o.cell,style:s.cell,children:i.jsx(u,{number:t.weekNumber,dates:t.dates})})),i.jsxs("tr",{className:o.row,style:s.row,children:[d,t.dates.map(function(f){return i.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:i.jsx(c,{displayMonth:t.displayMonth,date:f})},LJ(f))})]})}function mN(t,e,n){for(var r=n!=null&&n.ISOWeek?ZM(e):p1(e,n),s=n!=null&&n.ISOWeek?Ka(t):ro(t,n),o=yo(r,s),a=[],l=0;l<=o;l++)a.push(mn(s,l));var c=a.reduce(function(u,d){var f=n!=null&&n.ISOWeek?MJ(d):UJ(d,n),p=u.find(function(m){return m.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function hte(t,e){var n=mN(Zn(t),Pd(t),e);if(e!=null&&e.useFixedWeeks){var r=$J(t,e);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],a=fy(o,6-r),l=mN(fy(o,1),a,e);n.push.apply(n,l)}}return n}function fte(t){var e,n,r,s=kt(),o=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,m=s.ISOWeek,y=hte(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:o,weekStartsOn:f,firstWeekContainsDate:p}),w=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:jee,_=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:dte,S=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:Eee;return i.jsxs("table",{id:t.id,className:a.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&i.jsx(w,{}),i.jsx("tbody",{className:a.tbody,style:l.tbody,children:y.map(function(g){return i.jsx(_,{displayMonth:t.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),i.jsx(S,{displayMonth:t.displayMonth})]})}function pte(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var mte=pte()?v.useLayoutEffect:v.useEffect,o0=!1,gte=0;function gN(){return"react-day-picker-".concat(++gte)}function vte(t){var e,n=t??(o0?gN():null),r=v.useState(n),s=r[0],o=r[1];return mte(function(){s===null&&o(gN())},[]),v.useEffect(function(){o0===!1&&(o0=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function xte(t){var e,n,r=kt(),s=r.dir,o=r.classNames,a=r.styles,l=r.components,c=lh().displayMonths,u=vte(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],p=a.month,m=t.displayIndex===0,y=t.displayIndex===c.length-1,w=!m&&!y;s==="rtl"&&(e=[m,y],y=e[0],m=e[1]),m&&(f.push(o.caption_start),p=Ue(Ue({},p),a.caption_start)),y&&(f.push(o.caption_end),p=Ue(Ue({},p),a.caption_end)),w&&(f.push(o.caption_between),p=Ue(Ue({},p),a.caption_between));var _=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:Cee;return i.jsxs("div",{className:f.join(" "),style:p,children:[i.jsx(_,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(fte,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function yte(t){var e=kt(),n=e.classNames,r=e.styles;return i.jsx("div",{className:n.months,style:r.months,children:t.children})}function wte(t){var e,n,r=t.initialProps,s=kt(),o=b1(),a=lh(),l=v.useState(!1),c=l[0],u=l[1];v.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Ue(Ue({},s.styles.root),s.style),p=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,w){var _;return Ue(Ue({},y),(_={},_[w]=r[w],_))},{}),m=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:yte;return i.jsx("div",Ue({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:i.jsx(m,{children:a.displayMonths.map(function(y,w){return i.jsx(xte,{displayIndex:w,displayMonth:y},w)})})}))}function bte(t){var e=t.children,n=WJ(t,["children"]);return i.jsx(uee,{initialProps:n,children:i.jsx(wee,{children:i.jsx(tte,{initialProps:n,children:i.jsx(Iee,{initialProps:n,children:i.jsx(Ree,{initialProps:n,children:i.jsx(Uee,{children:i.jsx(Jee,{children:e})})})})})})})}function _te(t){return i.jsx(bte,Ue({},t,{children:i.jsx(wte,{initialProps:t})}))}function p4({className:t,classNames:e,showOutsideDays:n=!0,...r}){return i.jsx(_te,{showOutsideDays:n,className:Ke("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ke("h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ke("h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>i.jsx(dP,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(B9,{className:"h-4 w-4"})},...r})}p4.displayName="Calendar";var vg="Popover",[m4,mne]=so(vg,[jc]),ch=jc(),[Ste,ea]=m4(vg),g4=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!1}=t,l=ch(e),c=v.useRef(null),[u,d]=v.useState(!1),[f,p]=La({prop:r,defaultProp:s??!1,onChange:o,caller:vg});return i.jsx(_A,{...l,children:i.jsx(Ste,{scope:e,contentId:So(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:a,children:n})})};g4.displayName=vg;var v4="PopoverAnchor",Cte=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ea(v4,n),o=ch(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return v.useEffect(()=>(a(),()=>l()),[a,l]),i.jsx(Dm,{...o,...r,ref:e})});Cte.displayName=v4;var x4="PopoverTrigger",y4=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ea(x4,n),o=ch(n),a=_t(e,s.triggerRef),l=i.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":C4(s.open),...r,ref:a,onClick:Re(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Dm,{asChild:!0,...o,children:l})});y4.displayName=x4;var S1="PopoverPortal",[Ete,Tte]=m4(S1,{forceMount:void 0}),w4=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=ea(S1,e);return i.jsx(Ete,{scope:e,forceMount:n,children:i.jsx(Fo,{present:n||o.open,children:i.jsx(Ud,{asChild:!0,container:s,children:r})})})};w4.displayName=S1;var bc="PopoverContent",b4=v.forwardRef((t,e)=>{const n=Tte(bc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=ea(bc,t.__scopePopover);return i.jsx(Fo,{present:r||o.open,children:o.modal?i.jsx(jte,{...s,ref:e}):i.jsx(kte,{...s,ref:e})})});b4.displayName=bc;var Nte=Oa("PopoverContent.RemoveScroll"),jte=v.forwardRef((t,e)=>{const n=ea(bc,t.__scopePopover),r=v.useRef(null),s=_t(e,r),o=v.useRef(!1);return v.useEffect(()=>{const a=r.current;if(a)return Jw(a)},[]),i.jsx(Zw,{as:Nte,allowPinchZoom:!0,children:i.jsx(_4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Re(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),kte=v.forwardRef((t,e)=>{const n=ea(bc,t.__scopePopover),r=v.useRef(!1),s=v.useRef(!1);return i.jsx(_4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),_4=v.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=ea(bc,n),m=ch(n);return Xw(),i.jsx(Lm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Ec,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:i.jsx(Kw,{"data-state":C4(p.open),role:"dialog",id:p.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),S4="PopoverClose",Ite=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ea(S4,n);return i.jsx(He.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,()=>s.onOpenChange(!1))})});Ite.displayName=S4;var Pte="PopoverArrow",Ate=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ch(n);return i.jsx(Yw,{...s,...r,ref:e})});Ate.displayName=Pte;function C4(t){return t?"open":"closed"}var Rte=g4,Dte=y4,Mte=w4,E4=b4;const Ote=Rte,Lte=Dte,T4=Le.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>i.jsx(Mte,{children:i.jsx(E4,{ref:s,align:e,sideOffset:n,className:Ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));T4.displayName=E4.displayName;const Fte=Le.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>i.jsx("div",{ref:s,role:n?"none":"separator","aria-orientation":e,className:Ke("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Fte.displayName="Separator";const Vte=()=>{v.useContext(Nr);const{toast:t}=Tr();Fc();const{ordens:e=[]}=dg(),{ordens:n=[]}=nh();rh(),sh();const{financeiro:r=[]}=oh(),[s,o]=v.useState("graficos"),[a,l]=v.useState({from:mn(new Date,-30),to:new Date}),[c,u]=v.useState(null),[d,f]=v.useState(""),[p,m]=v.useState("all"),[y,w]=v.useState("grid"),[_,S]=v.useState(!1),g=[{label:"ltimos 7 dias",value:"7d",from:mn(new Date,-7),to:new Date},{label:"ltimos 30 dias",value:"30d",from:mn(new Date,-30),to:new Date},{label:"ltimos 90 dias",value:"90d",from:mn(new Date,-90),to:new Date},{label:"Este ms",value:"month",from:Zn(new Date),to:Pd(new Date)},{label:"Ms passado",value:"lastMonth",from:Zn(dN(new Date,1)),to:Pd(dN(new Date,1))},{label:"Este ano",value:"year",from:py(new Date),to:oN(new Date)},{label:"Ano passado",value:"lastYear",from:py(hN(new Date,1)),to:oN(hN(new Date,1))}];n.filter(A=>{const k=new Date(A.createdAt);return k>=a.from&&k<=a.to}),e.filter(A=>{const k=new Date(A.createdAt);return k>=a.from&&k<=a.to}),r.filter(A=>{const k=new Date(A.createdAt);return k>=a.from&&k<=a.to});const b=[{id:"vendas-diarias",title:"Vendas Dirias",description:"Evoluo das vendas por dia",icon:An,color:"bg-blue-500",type:"bar"},{id:"fluxo-caixa",title:"Fluxo de Caixa",description:"Entradas e sadas de dinheiro",icon:Yn,color:"bg-green-500",type:"line"},{id:"produtos-vendidos",title:"Produtos Mais Vendidos",description:"Ranking dos produtos por quantidade",icon:lr,color:"bg-purple-500",type:"horizontalBar"},{id:"categorias-vendas",title:"Vendas por Categoria",description:"Distribuio de vendas por categoria",icon:yv,color:"bg-orange-500",type:"pie"},{id:"clientes-top",title:"Top Clientes",description:"Clientes que mais compraram",icon:_s,color:"bg-indigo-500",type:"bar"},{id:"receitas-despesas",title:"Receitas vs Despesas",description:"Comparativo mensal de receitas e despesas",icon:Rn,color:"bg-emerald-500",type:"composed"},{id:"ticket-medio",title:"Ticket Mdio",description:"Valor mdio por venda ao longo do tempo",icon:zh,color:"bg-cyan-500",type:"line"},{id:"conversao-vendas",title:"Taxa de Converso",description:"Percentual de converso de propostas em vendas",icon:wu,color:"bg-pink-500",type:"area"}],N=[{id:"vendas-por-periodo",title:"Vendas por Perodo",category:"Vendas",icon:oi,color:"bg-blue-500"},{id:"vendas-por-cliente",title:"Vendas por Cliente",category:"Vendas",icon:_s,color:"bg-indigo-500"},{id:"vendas-por-produto",title:"Vendas por Produto",category:"Vendas",icon:lr,color:"bg-purple-500"},{id:"vendas-por-categoria",title:"Vendas por Categoria",category:"Vendas",icon:zu,color:"bg-orange-500"},{id:"vendas-por-vendedor",title:"Vendas por Vendedor",category:"Vendas",icon:Jr,color:"bg-green-500"},{id:"vendas-por-regiao",title:"Vendas por Regio",category:"Vendas",icon:Sp,color:"bg-red-500"},{id:"vendas-por-canal",title:"Vendas por Canal",category:"Vendas",icon:fP,color:"bg-cyan-500"},{id:"vendas-por-forma-pagamento",title:"Vendas por Forma de Pagamento",category:"Vendas",icon:hP,color:"bg-yellow-500"},{id:"ticket-medio-cliente",title:"Ticket Mdio por Cliente",category:"Vendas",icon:zh,color:"bg-pink-500"},{id:"frequencia-compra",title:"Frequncia de Compra",category:"Vendas",icon:ni,color:"bg-teal-500"},{id:"receitas-periodo",title:"Receitas por Perodo",category:"Financeiro",icon:Yn,color:"bg-emerald-500"},{id:"despesas-periodo",title:"Despesas por Perodo",category:"Financeiro",icon:go,color:"bg-red-500"},{id:"fluxo-caixa-detalhado",title:"Fluxo de Caixa Detalhado",category:"Financeiro",icon:Rn,color:"bg-green-500"},{id:"contas-receber",title:"Contas a Receber",category:"Financeiro",icon:ni,color:"bg-yellow-500"},{id:"contas-pagar",title:"Contas a Pagar",category:"Financeiro",icon:Hs,color:"bg-orange-500"},{id:"margem-lucro",title:"Margem de Lucro",category:"Financeiro",icon:wu,color:"bg-purple-500"},{id:"roi-produtos",title:"ROI por Produto",category:"Financeiro",icon:An,color:"bg-indigo-500"},{id:"custo-venda",title:"Custo por Venda",category:"Financeiro",icon:zh,color:"bg-cyan-500"},{id:"lucratividade-categoria",title:"Lucratividade por Categoria",category:"Financeiro",icon:yv,color:"bg-pink-500"},{id:"projecao-receitas",title:"Projeo de Receitas",category:"Financeiro",icon:Yn,color:"bg-teal-500"},{id:"estoque-atual",title:"Estoque Atual",category:"Estoque",icon:lr,color:"bg-blue-500"},{id:"produtos-baixo-estoque",title:"Produtos com Baixo Estoque",category:"Estoque",icon:Hs,color:"bg-red-500"},{id:"produtos-sem-estoque",title:"Produtos sem Estoque",category:"Estoque",icon:Cr,color:"bg-red-600"},{id:"movimentacao-estoque",title:"Movimentao de Estoque",category:"Estoque",icon:gx,color:"bg-green-500"},{id:"giro-estoque",title:"Giro de Estoque",category:"Estoque",icon:Bh,color:"bg-purple-500"},{id:"valor-estoque",title:"Valor do Estoque",category:"Estoque",icon:Rn,color:"bg-yellow-500"},{id:"produtos-vencidos",title:"Produtos Vencidos",category:"Estoque",icon:oi,color:"bg-orange-500"},{id:"produtos-proximo-vencimento",title:"Produtos Prximos ao Vencimento",category:"Estoque",icon:ni,color:"bg-yellow-600"},{id:"entradas-estoque",title:"Entradas de Estoque",category:"Estoque",icon:L9,color:"bg-green-600"},{id:"saidas-estoque",title:"Sadas de Estoque",category:"Estoque",icon:V9,color:"bg-red-600"},{id:"clientes-cadastrados",title:"Clientes Cadastrados",category:"Clientes",icon:_s,color:"bg-indigo-500"},{id:"clientes-ativos",title:"Clientes Ativos",category:"Clientes",icon:oc,color:"bg-green-500"},{id:"clientes-inativos",title:"Clientes Inativos",category:"Clientes",icon:Cr,color:"bg-red-500"},{id:"novos-clientes",title:"Novos Clientes",category:"Clientes",icon:Xn,color:"bg-blue-500"},{id:"clientes-fidelidade",title:"Clientes Fidelidade",category:"Clientes",icon:Ef,color:"bg-yellow-500"},{id:"segmentacao-clientes",title:"Segmentao de Clientes",category:"Clientes",icon:kC,color:"bg-purple-500"},{id:"satisfacao-clientes",title:"Satisfao dos Clientes",category:"Clientes",icon:jC,color:"bg-pink-500"},{id:"clientes-potenciais",title:"Clientes Potenciais",category:"Clientes",icon:wu,color:"bg-cyan-500"},{id:"historico-cliente",title:"Histrico por Cliente",category:"Clientes",icon:Fr,color:"bg-teal-500"},{id:"geolocalizacao-clientes",title:"Geolocalizao de Clientes",category:"Clientes",icon:Sp,color:"bg-orange-500"},{id:"catalogo-produtos",title:"Catlogo de Produtos",category:"Produtos",icon:lr,color:"bg-blue-500"},{id:"produtos-mais-vendidos",title:"Produtos Mais Vendidos",category:"Produtos",icon:Yn,color:"bg-green-500"},{id:"produtos-menos-vendidos",title:"Produtos Menos Vendidos",category:"Produtos",icon:go,color:"bg-red-500"},{id:"produtos-lucrativos",title:"Produtos Mais Lucrativos",category:"Produtos",icon:Rn,color:"bg-yellow-500"},{id:"produtos-sazonalidade",title:"Sazonalidade de Produtos",category:"Produtos",icon:oi,color:"bg-purple-500"},{id:"preco-produtos",title:"Anlise de Preos",category:"Produtos",icon:zu,color:"bg-indigo-500"},{id:"margem-produtos",title:"Margem por Produto",category:"Produtos",icon:zh,color:"bg-cyan-500"},{id:"produtos-categoria",title:"Produtos por Categoria",category:"Produtos",icon:kC,color:"bg-orange-500"},{id:"produtos-fornecedor",title:"Produtos por Fornecedor",category:"Produtos",icon:J9,color:"bg-teal-500"},{id:"produtos-promocao",title:"Produtos em Promoo",category:"Produtos",icon:md,color:"bg-pink-500"},{id:"ordens-servico",title:"Ordens de Servio",category:"Servios",icon:Fr,color:"bg-blue-500"},{id:"servicos-concluidos",title:"Servios Concludos",category:"Servios",icon:oc,color:"bg-green-500"},{id:"servicos-pendentes",title:"Servios Pendentes",category:"Servios",icon:ni,color:"bg-yellow-500"},{id:"servicos-atrasados",title:"Servios Atrasados",category:"Servios",icon:Hs,color:"bg-red-500"},{id:"tempo-medio-servico",title:"Tempo Mdio de Servio",category:"Servios",icon:ni,color:"bg-purple-500"},{id:"servicos-tecnico",title:"Servios por Tcnico",category:"Servios",icon:Jr,color:"bg-indigo-500"},{id:"servicos-tipo",title:"Servios por Tipo",category:"Servios",icon:zu,color:"bg-orange-500"},{id:"satisfacao-servicos",title:"Satisfao dos Servios",category:"Servios",icon:Ef,color:"bg-yellow-500"},{id:"custos-servicos",title:"Custos dos Servios",category:"Servios",icon:Rn,color:"bg-green-500"},{id:"agendamentos",title:"Agendamentos",category:"Servios",icon:oi,color:"bg-cyan-500"},{id:"performance-vendedores",title:"Performance dos Vendedores",category:"Performance",icon:z9,color:"bg-yellow-600"},{id:"metas-vendas",title:"Metas de Vendas",category:"Performance",icon:wu,color:"bg-purple-500"},{id:"conversao-leads",title:"Converso de Leads",category:"Performance",icon:Yn,color:"bg-green-500"},{id:"tempo-resposta",title:"Tempo de Resposta",category:"Performance",icon:ni,color:"bg-blue-500"},{id:"produtividade-equipe",title:"Produtividade da Equipe",category:"Performance",icon:gx,color:"bg-indigo-500"},{id:"eficiencia-processos",title:"Eficincia dos Processos",category:"Performance",icon:md,color:"bg-yellow-500"},{id:"qualidade-atendimento",title:"Qualidade do Atendimento",category:"Performance",icon:Ef,color:"bg-pink-500"},{id:"retencao-clientes",title:"Reteno de Clientes",category:"Performance",icon:jC,color:"bg-red-500"},{id:"crescimento-receita",title:"Crescimento da Receita",category:"Performance",icon:Yn,color:"bg-emerald-500"},{id:"market-share",title:"Market Share",category:"Performance",icon:yv,color:"bg-cyan-500"}],R=A=>{l({from:A.from,to:A.to})},L=async A=>{S(!0);try{await new Promise(k=>setTimeout(k,1e3)),t({title:"Relatrio gerado!",description:"O relatrio foi processado com sucesso."}),u(A)}catch{t({title:"Erro",description:"Erro ao gerar o relatrio.",variant:"destructive"})}finally{S(!1)}},C=A=>{t({title:"Exportando...",description:`Relatrio sendo exportado em formato ${A}`})},T=N.filter(A=>{const k=p==="all"||A.category===p,j=A.title.toLowerCase().includes(d.toLowerCase());return k&&j}),P=["all",...new Set(N.map(A=>A.category))];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatrios"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Anlise completa e detalhada do seu negcio"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs(Ote,{children:[i.jsx(Lte,{asChild:!0,children:i.jsxs(X,{variant:"outline",className:"w-full sm:w-[280px] justify-start",children:[i.jsx(oi,{className:"mr-2 h-4 w-4"}),a!=null&&a.from?a.to?i.jsxs(i.Fragment,{children:[eo(a.from,"dd/MM/yyyy")," - ",eo(a.to,"dd/MM/yyyy")]}):eo(a.from,"dd/MM/yyyy"):i.jsx("span",{children:"Selecione um perodo"})]})}),i.jsx(T4,{className:"w-auto p-0",align:"end",children:i.jsx(p4,{initialFocus:!0,mode:"range",defaultMonth:a==null?void 0:a.from,selected:a,onSelect:l,numberOfMonths:2})})]}),i.jsxs(ut,{onValueChange:A=>{const k=g.find(j=>j.value===A);k&&R(k)},children:[i.jsx(it,{className:"w-full sm:w-[180px]",children:i.jsx(dt,{placeholder:"Perodo rpido"})}),i.jsx(at,{children:g.map(A=>i.jsx(ae,{value:A.value,children:A.label},A.value))})]})]})]}),i.jsxs(Ba,{value:s,onValueChange:o,className:"w-full",children:[i.jsxs(Mi,{className:"grid w-full grid-cols-2",children:[i.jsxs(fn,{value:"graficos",className:"flex items-center gap-2",children:[i.jsx(An,{className:"h-4 w-4"}),"Relatrios Grficos"]}),i.jsxs(fn,{value:"lista",className:"flex items-center gap-2",children:[i.jsx(IC,{className:"h-4 w-4"}),"Relatrios em Lista"]})]}),i.jsx(pn,{value:"graficos",className:"space-y-6 pt-6",children:i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(A=>i.jsxs(un,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:[i.jsxs(_n,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:`p-2 rounded-lg ${A.color}`,children:i.jsx(A.icon,{className:"h-5 w-5 text-white"})}),i.jsx(es,{variant:"secondary",className:"text-xs",children:A.type})]}),i.jsx(Sn,{className:"text-lg",children:A.title}),i.jsx(wa,{className:"text-sm",children:A.description})]}),i.jsx(dn,{className:"pt-0",children:i.jsxs(X,{onClick:()=>L(A.id),className:"w-full",disabled:_,children:[_?i.jsx(Bh,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx($l,{className:"h-4 w-4 mr-2"}),"Visualizar"]})})]},A.id))})}),i.jsxs(pn,{value:"lista",className:"space-y-6 pt-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar relatrios...",value:d,onChange:A=>f(A.target.value),className:"pl-10"})]}),i.jsxs(ut,{value:p,onValueChange:m,children:[i.jsx(it,{className:"w-full sm:w-[200px]",children:i.jsx(dt,{placeholder:"Categoria"})}),i.jsx(at,{children:P.map(A=>i.jsx(ae,{value:A,children:A==="all"?"Todas as Categorias":A},A))})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:y==="grid"?"default":"outline",size:"sm",onClick:()=>w("grid"),children:i.jsx(W9,{className:"h-4 w-4"})}),i.jsx(X,{variant:y==="list"?"default":"outline",size:"sm",onClick:()=>w("list"),children:i.jsx(IC,{className:"h-4 w-4"})})]})]}),i.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:Ke("gap-4",y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"space-y-3"),children:i.jsx(bp,{children:T.map((A,k)=>i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:k*.05},children:y==="grid"?i.jsxs(un,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer h-full",children:[i.jsxs(_n,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:`p-2 rounded-lg ${A.color}`,children:i.jsx(A.icon,{className:"h-5 w-5 text-white"})}),i.jsx(es,{variant:"outline",className:"text-xs",children:A.category})]}),i.jsx(Sn,{className:"text-base",children:A.title})]}),i.jsx(dn,{className:"pt-0",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(X,{size:"sm",onClick:()=>L(A.id),className:"flex-1",disabled:_,children:[_?i.jsx(Bh,{className:"h-3 w-3 animate-spin mr-1"}):i.jsx($l,{className:"h-3 w-3 mr-1"}),"Ver"]}),i.jsx(X,{size:"sm",variant:"outline",onClick:()=>C("PDF"),children:i.jsx(ic,{className:"h-3 w-3"})})]})})]}):i.jsx(un,{className:"group hover:shadow-md transition-all duration-300 cursor-pointer",children:i.jsx(dn,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${A.color}`,children:i.jsx(A.icon,{className:"h-4 w-4 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:A.title}),i.jsx("p",{className:"text-sm text-slate-500",children:A.category})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(X,{size:"sm",onClick:()=>L(A.id),disabled:_,children:[_?i.jsx(Bh,{className:"h-3 w-3 animate-spin mr-1"}):i.jsx($l,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),i.jsx(X,{size:"sm",variant:"outline",onClick:()=>C("PDF"),children:i.jsx(ic,{className:"h-3 w-3"})}),i.jsx(X,{size:"sm",variant:"outline",onClick:()=>C("Excel"),children:i.jsx(Fr,{className:"h-3 w-3"})})]})]})})})},A.id))})}),i.jsx("div",{className:"mt-8 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("span",{children:["Total de relatrios: ",T.length]}),i.jsxs("span",{children:["Categoria: ",p==="all"?"Todas":p]})]})})]})]})]})},vN={"pt-BR":{"nav.dashboard":"Dashboard","nav.clientes":"Clientes","nav.os":"Ordens de Servio","nav.ov":"Ordens de Venda","nav.estoque":"Estoque","nav.financeiro":"Financeiro","nav.relatorios":"Relatrios","nav.configuracoes":"Configuraes","config.titulo":"Configuraes","config.descricao":"Gerencie todas as configuraes do sistema","config.salvar":"Salvar Configuraes","config.restaurarPadroes":"Restaurar Padres","config.tabs.personalizacao":"Personalizao","config.tabs.usuarios":"Usurios","config.tabs.seguranca":"Segurana","config.tabs.impressao":"Impresso","config.tabs.sistema":"Sistema","config.tabs.loja":"Loja","config.personalizacao.titulo":"Personalizao do Sistema","config.personalizacao.descricao":"Configure a aparncia e identidade visual do sistema","config.tema":"Tema","config.tema.descricao":"Escolha entre tema claro, escuro ou automtico do sistema","config.tema.light":"Claro","config.tema.dark":"Escuro","config.tema.system":"Sistema","config.corPrimaria":"Cor Primria","config.corPrimaria.descricao":"Cor principal usada em botes, links e elementos destacados","config.corSecundaria":"Cor Secundria","config.corSecundaria.descricao":"Cor complementar usada em gradientes e elementos secundrios","config.nomeEmpresa":"Nome da Empresa","config.nomeEmpresa.descricao":"Nome que aparecer no cabealho e ttulo do sistema","config.logoEmpresa":"Logo da Empresa","config.logoEmpresa.descricao":"Imagem que aparecer no cabealho do sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal da interface do usurio","config.idioma.pt-BR":"Portugus (Brasil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Espaol","config.idioma.zh-CN":" ()","config.idioma ja-JP":"","config.usuarios.titulo":"Configuraes de Usurios","config.usuarios.descricao":"Gerencie configuraes relacionadas aos usurios do sistema","config.permitirCadastro":"Permitir Cadastro","config.permitirCadastro.descricao":"Permite que novos usurios se cadastrem no sistema","config.requerAprovacao":"Requer Aprovao","config.requerAprovacao.descricao":"Novos cadastros precisam ser aprovados por um administrador","config.limiteUsuarios":"Limite de Usurios","config.limiteUsuarios.descricao":"Nmero mximo de usurios permitidos no sistema","config.notificacaoNovosUsuarios":"Notificar Novos Usurios","config.notificacaoNovosUsuarios.descricao":"Enviar notificaes quando novos usurios se cadastrarem","usuarios.tipos.admin":"Administrador","usuarios.tipos.financeiro":"Financeiro","usuarios.tipos.comum":"Comum","usuarios.status.ativo":"Ativo","usuarios.status.inativo":"Inativo","usuarios.erros.nomeObrigatorio":"Nome  obrigatrio","usuarios.erros.nomeMinimo":"Nome deve ter pelo menos 2 caracteres","usuarios.erros.emailObrigatorio":"Email  obrigatrio","usuarios.erros.emailInvalido":"Email invlido","usuarios.erros.telefoneInvalido":"Telefone invlido","usuarios.edicao.titulo":"Editar Usurio","usuarios.edicao.descricao":"Edite as informaes do usurio","usuarios.edicao.cancelar":"Cancelar","usuarios.edicao.salvar":"Salvar","usuarios.edicao.salvando":"Salvando...","usuarios.edicao.erro":"Erro ao salvar","usuarios.edicao.erroDescricao":"No foi possvel salvar as alteraes","usuarios.remocao.titulo":"Remover Usurio","usuarios.remocao.descricao":"Tem certeza que deseja remover este usurio?","usuarios.remocao.cancelar":"Cancelar","usuarios.remocao.confirmar":"Remover","usuarios.remocao.removendo":"Removendo...","usuarios.remocao.erro":"Erro ao remover","usuarios.remocao.erroDescricao":"No foi possvel remover o usurio","usuarios.remocao.erroConfirmacao":"Confirmao necessria","usuarios.remocao.erroConfirmacaoDescricao":'Digite "CONFIRMAR" para remover o usurio',"usuarios.remocao.aviso.titulo":"Ateno!","usuarios.remocao.aviso.descricao":"Esta ao no pode ser desfeita.","usuarios.remocao.aviso.item1":"O usurio perder acesso ao sistema","usuarios.remocao.aviso.item2":"Todos os dados do usurio sero removidos","usuarios.remocao.aviso.item3":"Esta ao no pode ser desfeita","usuarios.remocao.confirmacao.label":"Confirmao","usuarios.remocao.confirmacao.descricao":'Digite "CONFIRMAR" para confirmar a remoo',"usuarios.remocao.confirmacao.placeholder":"CONFIRMAR","usuarios.cadastro.form.nome":"Nome","usuarios.cadastro.form.nomePlaceholder":"Digite o nome completo","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Digite o email","usuarios.cadastro.form.telefone":"Telefone","usuarios.cadastro.form.telefonePlaceholder":"Digite o telefone","usuarios.cadastro.form.tipo":"Tipo de Usurio","usuarios.cadastro.form.senha":"Senha","usuarios.cadastro.form.senhaPlaceholder":"Digite a senha","usuarios.cadastro.form.confirmarSenha":"Confirmar Senha","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirme a senha","usuarios.listagem.titulo":"Usurios","usuarios.listagem.descricao":"Gerencie os usurios do sistema","usuarios.filtros.titulo":"Filtros","usuarios.busca":"Buscar","usuarios.busca.placeholder":"Buscar por nome ou email...","usuarios.filtros.tipo":"Tipo","usuarios.filtros.status":"Status","usuarios.filtros.todos":"Todos","usuarios.lista.titulo":"Lista de Usurios","usuarios.lista.descricao":"Usurios encontrados","usuarios.adicionar":"Adicionar Usurio","usuarios.tabela.nome":"Nome","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Tipo","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"ltimo Acesso","usuarios.tabela.acoes":"Aes","usuarios.lista.vazia":"Nenhum usurio encontrado","config.seguranca.titulo":"Configuraes de Segurana","config.seguranca.descricao":"Configure as polticas de segurana e autenticao","config.autenticacaoDoisFatores":"Autenticao 2 Fatores","config.autenticacaoDoisFatores.descricao":"Requer segundo fator de autenticao para login","config.tempoSessao":"Tempo da Sesso (min)","config.tempoSessao.descricao":"Tempo em minutos antes da sesso expirar automaticamente","config.tentativasLogin":"Tentativas de Login","config.tentativasLogin.descricao":"Nmero de tentativas de login antes do bloqueio","config.bloqueioAutomatico":"Bloqueio Automtico","config.bloqueioAutomatico.descricao":"Bloqueia automaticamente aps tentativas falhas","config.auditoriaAtivada":"Auditoria Ativada","config.auditoriaAtivada.descricao":"Registra todas as aes dos usurios no sistema","config.impressao.titulo":"Configuraes de Impresso","config.impressao.descricao":"Configure as opes padro para impresso de documentos","config.formatoPadrao":"Formato Padro","config.formatoPadrao.descricao":"Formato de papel padro para impresses","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientao","config.orientacao.descricao":"Orientao padro da pgina para impresses","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisagem","config.margens":"Margens","config.margens.descricao":"Configurao das margens padro para impresses","config.margens.normal":"Normal","config.margens.estreita":"Estreita","config.margens.larga":"Larga","config.cabecalhoPersonalizado":"Cabealho Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir cabealho personalizado nas impresses","config.rodapePersonalizado":"Rodap Personalizado","config.rodapePersonalizado.descricao":"Incluir rodap personalizado nas impresses","config.sistema.titulo":"Configuraes do Sistema","config.sistema.descricao":"Configuraes tcnicas e de performance do sistema","config.backupAutomatico":"Backup Automtico","config.backupAutomatico.descricao":"Realizar backups automticos dos dados","config.frequenciaBackup":"Frequncia Backup","config.frequenciaBackup.descricao":"Com que frequncia os backups devem ser realizados","config.frequencia.diario":"Dirio","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensal","config.notificacoesEmail":"Notificaes Email","config.notificacoesEmail.descricao":"Enviar notificaes importantes por email","config.cacheAtivo":"Cache Ativo","config.cacheAtivo.descricao":"Ativar sistema de cache para melhorar performance","config.logsAtivo":"Logs Ativo","config.logsAtivo.descricao":"Manter registros detalhados das atividades do sistema","msg.configuracoesSalvas":"Configuraes salvas com sucesso!","msg.configuracoesRestauradas":"Configuraes restauradas para os padres!","msg.descricaoRestaurada":"Todas as configuraes foram restauradas para os valores padro.","msg.arquivoInvalido":"Arquivo invlido! Por favor, selecione uma imagem.","msg.logoRemovido":"Logo removido com sucesso!","msg.erroUpload":"Erro no upload da imagem. Tente novamente.","common.salvar":"Salvar","common.cancelar":"Cancelar","config.logoDescricao":"Arraste uma imagem ou clique para selecionar","config.logoTipos":"PNG, JPG ou GIF (mx. 5MB)","config.removerLogo":"Remover Logo","config.selecionarArquivo":"clique para selecionar"},"en-US":{"nav.dashboard":"Dashboard","nav.clientes":"Clients","nav.os":"Service Orders","nav.ov":"Sales Orders","nav.estoque":"Inventory","nav.financeiro":"Financial","nav.relatorios":"Reports","nav.configuracoes":"Settings","config.titulo":"Settings","config.descricao":"Manage all system settings","config.salvar":"Save Settings","config.restaurarPadroes":"Restore Defaults","config.personalizacao.titulo":"System Personalization","config.personalizacao.descricao":"Configure system appearance and visual identity","config.tema":"Theme","config.tema.descricao":"Choose between light, dark or system automatic theme","config.tema.light":"Light","config.tema.dark":"Dark","config.tema.system":"System","config.corPrimaria":"Primary Color","config.corPrimaria.descricao":"Main color used in buttons, links and highlighted elements","config.corSecundaria":"Secondary Color","config.corSecundaria.descricao":"Complementary color used in gradients and secondary elements","config.nomeEmpresa":"Company Name","config.nomeEmpresa.descricao":"Name that will appear in the header and system title","config.logoEmpresa":"Company Logo","config.logoEmpresa.descricao":"Image that will appear in the system header","config.idioma":"Language","config.idioma.descricao":"Main language of the user interface","config.idioma.pt-BR":"Portuguese (Brazil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Spanish","config.idioma.zh-CN":"Chinese (Simplified)","config.idioma ja-JP":"Japanese","config.usuarios.titulo":"User Settings","config.usuarios.descricao":"Manage user-related system settings","config.permitirCadastro":"Allow Registration","config.permitirCadastro.descricao":"Allows new users to register in the system","config.requerAprovacao":"Require Approval","config.requerAprovacao.descricao":"New registrations need to be approved by an administrator","config.limiteUsuarios":"User Limit","config.limiteUsuarios.descricao":"Maximum number of users allowed in the system","config.notificacaoNovosUsuarios":"Notify New Users","config.notificacaoNovosUsuarios.descricao":"Send notifications when new users register","usuarios.tipos.admin":"Administrator","usuarios.tipos.financeiro":"Financial","usuarios.tipos.comum":"Common","usuarios.status.ativo":"Active","usuarios.status.inativo":"Inactive","usuarios.erros.nomeObrigatorio":"Name is required","usuarios.erros.nomeMinimo":"Name must have at least 2 characters","usuarios.erros.emailObrigatorio":"Email is required","usuarios.erros.emailInvalido":"Invalid email","usuarios.erros.telefoneInvalido":"Invalid phone","usuarios.edicao.titulo":"Edit User","usuarios.edicao.descricao":"Edit user information","usuarios.edicao.cancelar":"Cancel","usuarios.edicao.salvar":"Save","usuarios.edicao.salvando":"Saving...","usuarios.edicao.erro":"Error saving","usuarios.edicao.erroDescricao":"Could not save changes","usuarios.remocao.titulo":"Remove User","usuarios.remocao.descricao":"Are you sure you want to remove this user?","usuarios.remocao.cancelar":"Cancel","usuarios.remocao.confirmar":"Remove","usuarios.remocao.removendo":"Removing...","usuarios.remocao.erro":"Error removing","usuarios.remocao.erroDescricao":"Could not remove user","usuarios.remocao.erroConfirmacao":"Confirmation required","usuarios.remocao.erroConfirmacaoDescricao":'Type "CONFIRM" to remove the user',"usuarios.remocao.aviso.titulo":"Warning!","usuarios.remocao.aviso.descricao":"This action cannot be undone.","usuarios.remocao.aviso.item1":"The user will lose access to the system","usuarios.remocao.aviso.item2":"All user data will be removed","usuarios.remocao.aviso.item3":"This action cannot be undone","usuarios.remocao.confirmacao.label":"Confirmation","usuarios.remocao.confirmacao.descricao":'Type "CONFIRM" to confirm removal',"usuarios.remocao.confirmacao.placeholder":"CONFIRM","usuarios.cadastro.form.nome":"Name","usuarios.cadastro.form.nomePlaceholder":"Enter full name","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Enter email","usuarios.cadastro.form.telefone":"Phone","usuarios.cadastro.form.telefonePlaceholder":"Enter phone","usuarios.cadastro.form.tipo":"User Type","usuarios.cadastro.form.senha":"Password","usuarios.cadastro.form.senhaPlaceholder":"Enter password","usuarios.cadastro.form.confirmarSenha":"Confirm Password","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirm password","usuarios.listagem.titulo":"Users","usuarios.listagem.descricao":"Manage system users","usuarios.filtros.titulo":"Filters","usuarios.busca":"Search","usuarios.busca.placeholder":"Search by name or email...","usuarios.filtros.tipo":"Type","usuarios.filtros.status":"Status","usuarios.filtros.todos":"All","usuarios.lista.titulo":"User List","usuarios.lista.descricao":"Users found","usuarios.adicionar":"Add User","usuarios.tabela.nome":"Name","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Type","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Last Access","usuarios.tabela.acoes":"Actions","usuarios.lista.vazia":"No users found","config.seguranca.titulo":"Security Settings","config.seguranca.descricao":"Configure security and authentication policies","config.autenticacaoDoisFatores":"Two-Factor Authentication","config.autenticacaoDoisFatores.descricao":"Requires second authentication factor for login","config.tempoSessao":"Session Time (min)","config.tempoSessao.descricao":"Time in minutes before session expires automatically","config.tentativasLogin":"Login Attempts","config.tentativasLogin.descricao":"Number of login attempts before blocking","config.bloqueioAutomatico":"Automatic Lock","config.bloqueioAutomatico.descricao":"Automatically blocks after failed attempts","config.auditoriaAtivada":"Audit Enabled","config.auditoriaAtivada.descricao":"Records all user actions in the system","config.impressao.titulo":"Print Settings","config.impressao.descricao":"Configure default options for document printing","config.formatoPadrao":"Default Format","config.formatoPadrao.descricao":"Default paper format for printing","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Letter","config.orientacao":"Orientation","config.orientacao.descricao":"Default page orientation for printing","config.orientacao.retrato":"Portrait","config.orientacao.paisagem":"Landscape","config.margens":"Margins","config.margens.descricao":"Default margin configuration for printing","config.margens.normal":"Normal","config.margens.estreita":"Narrow","config.margens.larga":"Wide","config.cabecalhoPersonalizado":"Custom Header","config.cabecalhoPersonalizado.descricao":"Include custom header in prints","config.rodapePersonalizado":"Custom Footer","config.rodapePersonalizado.descricao":"Include custom footer in prints","config.sistema.titulo":"System Settings","config.sistema.descricao":"Technical and performance system settings","config.backupAutomatico":"Automatic Backup","config.backupAutomatico.descricao":"Perform automatic data backups","config.frequenciaBackup":"Backup Frequency","config.frequenciaBackup.descricao":"How often backups should be performed","config.frequencia.diario":"Daily","config.frequencia.semanal":"Weekly","config.frequencia.mensal":"Monthly","config.notificacoesEmail":"Email Notifications","config.notificacoesEmail.descricao":"Send important notifications by email","config.cacheAtivo":"Cache Active","config.cacheAtivo.descricao":"Enable cache system to improve performance","config.logsAtivo":"Logs Active","config.logsAtivo.descricao":"Keep detailed records of system activities","msg.configuracoesSalvas":"Settings saved successfully!","msg.configuracoesRestauradas":"Settings restored to defaults!","msg.descricaoRestaurada":"All settings have been restored to default values.","msg.arquivoInvalido":"Invalid file! Please select an image.","msg.logoRemovido":"Logo removed successfully!","msg.erroUpload":"Upload error. Please try again.","common.salvar":"Save","common.cancelar":"Cancel","config.logoDescricao":"Drag an image or click to select","config.logoTipos":"PNG, JPG or GIF (max. 5MB)","config.removerLogo":"Remove Logo","config.selecionarArquivo":"click to select"},"es-ES":{"nav.dashboard":"Panel","nav.clientes":"Clientes","nav.os":"rdenes de Servicio","nav.ov":"rdenes de Venta","nav.estoque":"Inventario","nav.financeiro":"Financiero","nav.relatorios":"Reportes","nav.configuracoes":"Configuraciones","config.titulo":"Configuraciones","config.descricao":"Gestionar todas las configuraciones del sistema","config.salvar":"Guardar Configuraciones","config.restaurarPadroes":"Restaurar Predeterminados","config.personalizacao.titulo":"Personalizacin del Sistema","config.personalizacao.descricao":"Configurar apariencia e identidad visual del sistema","config.tema":"Tema","config.tema.descricao":"Elegir entre tema claro, oscuro o automtico del sistema","config.tema.light":"Claro","config.tema.dark":"Oscuro","config.tema.system":"Sistema","config.corPrimaria":"Color Primario","config.corPrimaria.descricao":"Color principal usado en botones, enlaces y elementos destacados","config.corSecundaria":"Color Secundario","config.corSecundaria.descricao":"Color complementario usado en gradientes y elementos secundarios","config.nomeEmpresa":"Nombre de la Empresa","config.nomeEmpresa.descricao":"Nombre que aparecer en el encabezado y ttulo del sistema","config.logoEmpresa":"Logo de la Empresa","config.logoEmpresa.descricao":"Imagen que aparecer en el encabezado del sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal de la interfaz de usuario","config.idioma.pt-BR":"Portugus (Brasil)","config.idioma.en-US":"Ingls (EE.UU.)","config.idioma.es-ES":"Espaol","config.idioma.zh-CN":"Chino (Simplificado)","config.idioma ja-JP":"Japons","config.usuarios.titulo":"Configuraciones de Usuarios","config.usuarios.descricao":"Gestionar configuraciones relacionadas con usuarios del sistema","config.permitirCadastro":"Permitir Registro","config.permitirCadastro.descricao":"Permite que nuevos usuarios se registren en el sistema","config.requerAprovacao":"Requiere Aprobacin","config.requerAprovacao.descricao":"Nuevos registros necesitan ser aprobados por un administrador","config.limiteUsuarios":"Lmite de Usurios","config.limiteUsuarios.descricao":"Nmero mximo de usuarios permitidos en el sistema","config.notificacaoNovosUsuarios":"Notificar Nuevos Usuarios","config.notificacaoNovosUsuarios.descricao":"Enviar notificaciones cuando nuevos usuarios se registren","config.seguranca.titulo":"Configuraciones de Seguridad","config.seguranca.descricao":"Configurar polticas de seguridad y autenticacin","config.autenticacaoDoisFatores":"Autenticacin de Dos Factores","config.autenticacaoDoisFatores.descricao":"Requiere segundo factor de autenticacin para inicio de sesin","config.tempoSessao":"Tiempo de Sesin (min)","config.tempoSessao.descricao":"Tiempo en minutos antes de que la sesin expire automticamente","config.tentativasLogin":"Intentos de Inicio de Sesin","config.tentativasLogin.descricao":"Nmero de intentos de inicio de sesin antes del bloqueo","config.bloqueioAutomatico":"Bloqueo Automtico","config.bloqueioAutomatico.descricao":"Bloquea automticamente despus de intentos fallidos","config.auditoriaAtivada":"Auditora Activada","config.auditoriaAtivada.descricao":"Registra todas las acciones de los usuarios en el sistema","config.impressao.titulo":"Configuraciones de Impresin","config.impressao.descricao":"Configurar opciones predeterminadas para impresin de documentos","config.formatoPadrao":"Formato Predeterminado","config.formatoPadrao.descricao":"Formato de papel predeterminado para impresiones","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientacin","config.orientacao.descricao":"Orientacin predeterminada de la pgina para impresiones","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisaje","config.margens":"Mrgenes","config.margens.descricao":"Configuracin de los mrgenes predeterminados para impresiones","config.margens.normal":"Normal","config.margens.estreita":"Estrecha","config.margens.larga":"Ancha","config.cabecalhoPersonalizado":"Encabezado Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir encabezado personalizado en las impresiones","config.rodapePersonalizado":"Pie de Pgina Personalizado","config.rodapePersonalizado.descricao":"Incluir pie de pgina personalizado en las impresiones","config.sistema.titulo":"Configuraciones del Sistema","config.sistema.descricao":"Configuraciones tcnicas y de rendimiento del sistema","config.backupAutomatico":"Copia de Seguridad Automtica","config.backupAutomatico.descricao":"Realizar copias de seguridad automticas de los datos","config.frequenciaBackup":"Frecuencia de Copia de Seguridad","config.frequenciaBackup.descricao":"Con qu frecuencia deben realizarse las copias de seguridad","config.frequencia.diario":"Diario","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensual","config.notificacoesEmail":"Notificaciones por Correo","config.notificacoesEmail.descricao":"Enviar notificaciones importantes por correo electrnico","config.cacheAtivo":"Cach Activo","config.cacheAtivo.descricao":"Activar sistema de cach para mejorar el rendimiento","config.logsAtivo":"Registros Activos","config.logsAtivo.descricao":"Mantener registros detallados de las actividades del sistema","msg.configuracoesSalvas":"Configuraciones guardadas exitosamente!","msg.configuracoesRestauradas":"Configuraciones restauradas a los valores predeterminados!","msg.descricaoRestaurada":"Todas las configuraciones han sido restauradas a los valores predeterminados.","msg.arquivoInvalido":"Archivo invlido! Por favor selecciona una imagen.","msg.logoRemovido":"Logo eliminado exitosamente!","msg.erroUpload":"Error en la carga. Intntalo de nuevo.","common.salvar":"Guardar","common.cancelar":"Cancelar","config.logoDescricao":"Arrastra una imagen o haz clic para seleccionar","config.logoTipos":"PNG, JPG o GIF (mx. 5MB)","config.removerLogo":"Eliminar Logo","config.selecionarArquivo":"haz clic para seleccionar"},"zh-CN":{"nav.dashboard":"","nav.clientes":"","nav.os":"","nav.ov":"","nav.estoque":"","nav.financeiro":"","nav.relatorios":"","nav.configuracoes":"","config.titulo":"","config.descricao":"","config.salvar":"","config.restaurarPadroes":"","config.personalizacao.titulo":"","config.personalizacao.descricao":"","config.tema":"","config.tema.descricao":"","config.tema.light":"","config.tema.dark":"","config.tema.system":"","config.corPrimaria":"","config.corPrimaria.descricao":"","config.corSecundaria":"","config.corSecundaria.descricao":"","config.nomeEmpresa":"","config.nomeEmpresa.descricao":"","config.logoEmpresa":"","config.logoEmpresa.descricao":"","config.idioma":"","config.idioma.descricao":"","config.idioma.pt-BR":"","config.idioma.en-US":"","config.idioma.es-ES":"","config.idioma.zh-CN":"","config.idioma ja-JP":"","config.usuarios.titulo":"","config.usuarios.descricao":"","config.permitirCadastro":"","config.permitirCadastro.descricao":"","config.requerAprovacao":"","config.requerAprovacao.descricao":"","config.limiteUsuarios":"","config.limiteUsuarios.descricao":"","config.notificacaoNovosUsuarios":"","config.notificacaoNovosUsuarios.descricao":"","config.seguranca.titulo":"","config.seguranca.descricao":"","config.autenticacaoDoisFatores":"","config.autenticacaoDoisFatores.descricao":"","config.tempoSessao":"","config.tempoSessao.descricao":"","config.tentativasLogin":"","config.tentativasLogin.descricao":"","config.bloqueioAutomatico":"","config.bloqueioAutomatico.descricao":"","config.auditoriaAtivada":"","config.auditoriaAtivada.descricao":"","config.impressao.titulo":"","config.impressao.descricao":"","config.formatoPadrao":"","config.formatoPadrao.descricao":"","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"","config.orientacao":"","config.orientacao.descricao":"","config.orientacao.retrato":"","config.orientacao.paisagem":"","config.margens":"","config.margens.descricao":"","config.margens.normal":"","config.margens.estreita":"","config.margens.larga":"","config.cabecalhoPersonalizado":"","config.cabecalhoPersonalizado.descricao":"","config.rodapePersonalizado":"","config.rodapePersonalizado.descricao":"","config.sistema.titulo":"","config.sistema.descricao":"","config.backupAutomatico":"","config.backupAutomatico.descricao":"","config.frequenciaBackup":"","config.frequenciaBackup.descricao":"","config.frequencia.diario":"","config.frequencia.semanal":"","config.frequencia.mensal":"","config.notificacoesEmail":"","config.notificacoesEmail.descricao":"","config.cacheAtivo":"","config.cacheAtivo.descricao":"","config.logsAtivo":"","config.logsAtivo.descricao":"","msg.configuracoesSalvas":"","msg.configuracoesRestauradas":"","msg.descricaoRestaurada":"","msg.arquivoInvalido":"","msg.logoRemovido":"","msg.erroUpload":"","common.salvar":"","common.cancelar":"","config.logoDescricao":"","config.logoTipos":"PNGJPG  GIF 5MB","config.removerLogo":"","config.selecionarArquivo":""},"ja-JP":{"nav.dashboard":"","nav.clientes":"","nav.os":"","nav.ov":"","nav.estoque":"","nav.financeiro":"","nav.relatorios":"","nav.configuracoes":"","config.titulo":"","config.descricao":"","config.salvar":"","config.restaurarPadroes":"","config.personalizacao.titulo":"","config.personalizacao.descricao":"","config.tema":"","config.tema.descricao":"","config.tema.light":"","config.tema.dark":"","config.tema.system":"","config.corPrimaria":"","config.corPrimaria.descricao":"","config.corSecundaria":"","config.corSecundaria.descricao":"","config.nomeEmpresa":"","config.nomeEmpresa.descricao":"","config.logoEmpresa":"","config.logoEmpresa.descricao":"","config.idioma":"","config.idioma.descricao":"","config.idioma.pt-BR":"","config.idioma.en-US":"","config.idioma.es-ES":"","config.idioma.zh-CN":"","config.idioma ja-JP":"","config.usuarios.titulo":"","config.usuarios.descricao":"","config.permitirCadastro":"","config.permitirCadastro.descricao":"","config.requerAprovacao":"","config.requerAprovacao.descricao":"","config.limiteUsuarios":"","config.limiteUsuarios.descricao":"","config.notificacaoNovosUsuarios":"","config.notificacaoNovosUsuarios.descricao":"","config.seguranca.titulo":"","config.seguranca.descricao":"","config.autenticacaoDoisFatores":"","config.autenticacaoDoisFatores.descricao":"","config.tempoSessao":"","config.tempoSessao.descricao":"","config.tentativasLogin":"","config.tentativasLogin.descricao":"","config.bloqueioAutomatico":"","config.bloqueioAutomatico.descricao":"","config.auditoriaAtivada":"","config.auditoriaAtivada.descricao":"","config.impressao.titulo":"","config.impressao.descricao":"","config.formatoPadrao":"","config.formatoPadrao.descricao":"","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"","config.orientacao":"","config.orientacao.descricao":"","config.orientacao.retrato":"","config.orientacao.paisagem":"","config.margens":"","config.margens.descricao":"","config.margens.normal":"","config.margens.estreita":"","config.margens.larga":"","config.cabecalhoPersonalizado":"","config.cabecalhoPersonalizado.descricao":"","config.rodapePersonalizado":"","config.rodapePersonalizado.descricao":"","config.sistema.titulo":"","config.sistema.descricao":"","config.backupAutomatico":"","config.backupAutomatico.descricao":"","config.frequenciaBackup":"","config.frequenciaBackup.descricao":"","config.frequencia.diario":"","config.frequencia.semanal":"","config.frequencia.mensal":"","config.notificacoesEmail":"","config.notificacoesEmail.descricao":"","config.cacheAtivo":"","config.cacheAtivo.descricao":"","config.logsAtivo":"","config.logsAtivo.descricao":"","msg.configuracoesSalvas":"","msg.configuracoesRestauradas":"","msg.descricaoRestaurada":"","msg.arquivoInvalido":"","msg.logoRemovido":"","msg.erroUpload":"","common.salvar":"","common.cancelar":"","config.logoDescricao":"","config.logoTipos":"PNGJPG GIF 5MB","config.removerLogo":"","config.selecionarArquivo":""}},Te=(t,e="pt-BR")=>(vN[e]||vN["pt-BR"])[t]||t,zte=()=>{v.useContext(Nr);const{toast:t}=Tr(),{usuarios:e,saveUsuario:n}=Vc(),[r,s]=v.useState({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),[o,a]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(""),f=v.useRef(null),p=(R,L)=>{s(C=>({...C,[R]:L}))},m=R=>{R.preventDefault(),R.stopPropagation(),R.type==="dragenter"||R.type==="dragover"?c(!0):R.type==="dragleave"&&c(!1)},y=R=>{R.preventDefault(),R.stopPropagation(),c(!1),R.dataTransfer.files&&R.dataTransfer.files[0]&&w(R.dataTransfer.files[0])},w=R=>{if(R.type.startsWith("image/")){if(R.size>1048576){t({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const L=new FileReader;L.onload=C=>{_(C.target.result,T=>{d(T),s(P=>({...P,foto:T}))})},L.readAsDataURL(R)}else t({title:"Arquivo invlido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},_=(R,L)=>{const C=document.createElement("canvas"),T=C.getContext("2d"),P=new Image;P.onload=()=>{let{width:k,height:j}=P;k>j?k>200&&(j=j*200/k,k=200):j>200&&(k=k*200/j,j=200),C.width=k,C.height=j,T.drawImage(P,0,0,k,j);const I=C.toDataURL("image/jpeg",.7);L(I)},P.src=R},S=R=>{R.target.files&&R.target.files[0]&&w(R.target.files[0])},g=()=>{d(""),s(R=>({...R,foto:""})),f.current&&(f.current.value="")},b=()=>r.nome.trim()?r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?r.senha?r.senha.length<6?(t({title:"Erro de validao",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),!1):r.senha!==r.confirmarSenha?(t({title:"Erro de validao",description:"As senhas no coincidem.",variant:"destructive"}),!1):!0:(t({title:"Erro de validao",description:"A senha  obrigatria.",variant:"destructive"}),!1):(t({title:"Erro de validao",description:"Por favor, insira um email vlido.",variant:"destructive"}),!1):(t({title:"Erro de validao",description:"O email  obrigatrio.",variant:"destructive"}),!1):(t({title:"Erro de validao",description:"O nome  obrigatrio.",variant:"destructive"}),!1),N=async R=>{if(R.preventDefault(),!!b()){a(!0);try{if(e.some(C=>C.email===r.email)){t({title:"Erro de validao",description:"Este email j est cadastrado.",variant:"destructive"}),a(!1);return}const L={nome:r.nome,email:r.email,senha:r.senha,telefone:r.telefone,endereco:r.endereco,tipo:r.tipoUsuario,foto:r.foto,status:"ativo",dataCriacao:new Date().toISOString(),ultimoAcesso:null};await n(L),t({title:"Usurio cadastrado!",description:`${r.nome} foi cadastrado com sucesso.`,variant:"default"}),s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")}catch(L){console.error("Erro ao cadastrar usurio:",L),t({title:"Erro ao cadastrar",description:"Ocorreu um erro ao cadastrar o usurio. Tente novamente.",variant:"destructive"})}finally{a(!1)}}};return i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(Jr,{className:"h-5 w-5"}),"Informaes Pessoais"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"nome",children:"Nome Completo *"}),i.jsx(me,{id:"nome",type:"text",value:r.nome,onChange:R=>p("nome",R.target.value),placeholder:"Digite o nome completo",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"email",children:"Email *"}),i.jsx(me,{id:"email",type:"email",value:r.email,onChange:R=>p("email",R.target.value),placeholder:"usuario@exemplo.com",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"telefone",children:"Telefone"}),i.jsx(me,{id:"telefone",type:"tel",value:r.telefone,onChange:R=>p("telefone",R.target.value),placeholder:"(11) 99999-9999"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"endereco",children:"Endereo"}),i.jsx(me,{id:"endereco",type:"text",value:r.endereco,onChange:R=>p("endereco",R.target.value),placeholder:"Rua, nmero, bairro, cidade"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(pP,{className:"h-5 w-5"}),"Foto do Usurio"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${l?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:y,children:u?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:u,alt:"Preview da foto",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),i.jsx(X,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:g,children:i.jsx(Cr,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),i.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>{var R;return(R=f.current)==null?void 0:R.click()},className:"mt-2",children:"Trocar imagem"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dw,{className:"h-8 w-8 mx-auto text-slate-400"}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),i.jsx("p",{children:"ou"}),i.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>{var R;return(R=f.current)==null?void 0:R.click()},className:"mt-2",children:"Selecione uma imagem"})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF at 1MB"})]})}),i.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(vx,{className:"h-5 w-5"}),"Informaes de Acesso"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"senha",children:"Senha *"}),i.jsx(me,{id:"senha",type:"password",value:r.senha,onChange:R=>p("senha",R.target.value),placeholder:"Mnimo 6 caracteres",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"confirmarSenha",children:"Confirmar Senha *"}),i.jsx(me,{id:"confirmarSenha",type:"password",value:r.confirmarSenha,onChange:R=>p("confirmarSenha",R.target.value),placeholder:"Digite a senha novamente",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"tipoUsuario",children:"Tipo de Usurio"}),i.jsxs(ut,{value:r.tipoUsuario,onValueChange:R=>p("tipoUsuario",R),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"comum",children:"Usurio Comum"}),i.jsx(ae,{value:"financeiro",children:"Usurio Financeiro"}),i.jsx(ae,{value:"administrador",children:"Administrador"})]})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[i.jsx(X,{type:"button",variant:"outline",onClick:()=>{s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")},disabled:o,children:"Limpar"}),i.jsx(X,{type:"submit",disabled:o,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cadastrando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(bu,{className:"h-4 w-4 mr-2"}),"Cadastrar Usurio"]})})]})]})},Ute=({usuario:t,isOpen:e,onClose:n,onSave:r})=>{const{currentLanguage:s}=v.useContext(Nr),{toast:o}=Tr(),{saveUsuario:a}=Vc(),[l,c]=v.useState({nome:"",email:"",telefone:"",tipo:"comum",foto:""}),[u,d]=v.useState(!1),[f,p]=v.useState({}),[m,y]=v.useState(!1),[w,_]=v.useState(""),S=v.useRef(null);v.useEffect(()=>{t&&(console.log("[EditarUsuarioModal] Inicializando com usurio:",t),c({nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}),_(t.foto||""),p({}),console.log("[EditarUsuarioModal] FormData inicializado:",{nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}))},[t]);const g=(V,F)=>{c(W=>({...W,[V]:F})),f[V]&&p(W=>({...W,[V]:""}))},b=V=>{V.preventDefault(),V.stopPropagation(),V.type==="dragenter"||V.type==="dragover"?y(!0):V.type==="dragleave"&&y(!1)},N=V=>{V.preventDefault(),V.stopPropagation(),y(!1),V.dataTransfer.files&&V.dataTransfer.files[0]&&R(V.dataTransfer.files[0])},R=V=>{if(V.type.startsWith("image/")){if(V.size>1048576){o({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const F=new FileReader;F.onload=W=>{L(W.target.result,$=>{_($),c(M=>({...M,foto:$}))})},F.readAsDataURL(V)}else o({title:"Arquivo invlido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},L=(V,F)=>{const W=document.createElement("canvas"),$=W.getContext("2d"),M=new Image;M.onload=()=>{let{width:Y,height:Q}=M;Y>Q?Y>200&&(Q=Q*200/Y,Y=200):Q>200&&(Y=Y*200/Q,Q=200),W.width=Y,W.height=Q,$.drawImage(M,0,0,Y,Q);const he=W.toDataURL("image/jpeg",.7);F(he)},M.src=V},C=V=>{V.target.files&&V.target.files[0]&&R(V.target.files[0])},T=()=>{_(""),c(V=>({...V,foto:""})),S.current&&(S.current.value="")},P=V=>{const F=V.replace(/\D/g,"");return F.length<=11?F.replace(/(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3"):V},A=V=>{const F=P(V.target.value);g("telefone",F)},k=()=>{const V={};return l.nome.trim()?l.nome.trim().length<2&&(V.nome=Te("usuarios.erros.nomeMinimo",s)):V.nome=Te("usuarios.erros.nomeObrigatorio",s),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(V.email=Te("usuarios.erros.emailInvalido",s)):V.email=Te("usuarios.erros.emailObrigatorio",s),l.telefone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(l.telefone)&&(V.telefone=Te("usuarios.erros.telefoneInvalido",s)),p(V),Object.keys(V).length===0},j=async V=>{if(V.preventDefault(),!!k()){d(!0);try{const F={...t,nome:l.nome.trim(),email:l.email.trim().toLowerCase(),telefone:l.telefone,tipo:l.tipo,foto:l.foto};console.log("[EditarUsuarioModal] Salvando usurio atualizado:",F),console.log("[EditarUsuarioModal] Foto atual:",l.foto),await a(F,t.id),o({title:Te("usuarios.edicao.sucesso",s),description:Te("usuarios.edicao.sucessoDescricao",s),variant:"default"}),r(F),n()}catch{o({title:Te("usuarios.edicao.erro",s),description:Te("usuarios.edicao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{d(!1)}}},I=()=>{u||n()};return t?i.jsx(Tn,{open:e,onOpenChange:I,children:i.jsxs(gn,{className:"sm:max-w-md",children:[i.jsxs(vn,{children:[i.jsxs(xn,{className:"flex items-center gap-2",children:[i.jsx(bs,{className:"h-5 w-5"}),Te("usuarios.edicao.titulo",s)]}),i.jsx(zm,{children:Te("usuarios.edicao.descricao",s)})]}),i.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ne,{htmlFor:"edit-nome",className:"flex items-center gap-2",children:[i.jsx(Jr,{className:"h-4 w-4"}),Te("usuarios.cadastro.form.nome",s)]}),i.jsx(me,{id:"edit-nome",type:"text",value:l.nome,onChange:V=>g("nome",V.target.value),placeholder:Te("usuarios.cadastro.form.nomePlaceholder",s),className:f.nome?"border-red-500":""}),f.nome&&i.jsx("p",{className:"text-sm text-red-500",children:f.nome})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ne,{htmlFor:"edit-email",className:"flex items-center gap-2",children:[i.jsx(Ta,{className:"h-4 w-4"}),Te("usuarios.cadastro.form.email",s)]}),i.jsx(me,{id:"edit-email",type:"email",value:l.email,onChange:V=>g("email",V.target.value),placeholder:Te("usuarios.cadastro.form.emailPlaceholder",s),className:f.email?"border-red-500":""}),f.email&&i.jsx("p",{className:"text-sm text-red-500",children:f.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ne,{htmlFor:"edit-telefone",className:"flex items-center gap-2",children:[i.jsx(Na,{className:"h-4 w-4"}),Te("usuarios.cadastro.form.telefone",s)]}),i.jsx(me,{id:"edit-telefone",type:"tel",value:l.telefone,onChange:A,placeholder:Te("usuarios.cadastro.form.telefonePlaceholder",s),className:f.telefone?"border-red-500":""}),f.telefone&&i.jsx("p",{className:"text-sm text-red-500",children:f.telefone})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ne,{htmlFor:"edit-tipo",className:"flex items-center gap-2",children:[i.jsx(ac,{className:"h-4 w-4"}),Te("usuarios.cadastro.form.tipo",s)]}),i.jsxs(ut,{value:l.tipo,onValueChange:V=>g("tipo",V),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"comum",children:Te("usuarios.tipos.comum",s)}),i.jsx(ae,{value:"financeiro",children:Te("usuarios.tipos.financeiro",s)}),i.jsx(ae,{value:"admin",children:Te("usuarios.tipos.admin",s)})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(pP,{className:"h-4 w-4"}),"Foto do Usurio"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${m?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:b,onDragLeave:b,onDragOver:b,onDrop:N,children:w?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:w,alt:"Preview da foto",className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),i.jsx(X,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0",onClick:T,children:i.jsx(Cr,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),i.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>{var V;return(V=S.current)==null?void 0:V.click()},className:"mt-1",children:"Trocar imagem"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Dw,{className:"h-6 w-6 mx-auto text-slate-400"}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),i.jsx("p",{children:"ou"}),i.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>{var V;return(V=S.current)==null?void 0:V.click()},className:"mt-1",children:"Selecione uma imagem"})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF at 1MB"})]})}),i.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:C,className:"hidden"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsxs(X,{type:"button",variant:"outline",onClick:I,disabled:u,children:[i.jsx(Cr,{className:"h-4 w-4 mr-2"}),Te("usuarios.edicao.cancelar",s)]}),i.jsx(X,{type:"submit",disabled:u,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),Te("usuarios.edicao.salvando",s)]}):i.jsxs(i.Fragment,{children:[i.jsx(gP,{className:"h-4 w-4 mr-2"}),Te("usuarios.edicao.salvar",s)]})})]})]})]})}):null},Bte=({usuario:t,isOpen:e,onClose:n,onConfirm:r})=>{const{currentLanguage:s}=v.useContext(Nr),{toast:o}=Tr(),[a,l]=v.useState(!1),[c,u]=v.useState(""),d=async()=>{if(c!=="CONFIRMAR"){o({title:Te("usuarios.remocao.erroConfirmacao",s),description:Te("usuarios.remocao.erroConfirmacaoDescricao",s),variant:"destructive",duration:4e3});return}l(!0);try{await new Promise(m=>setTimeout(m,1500)),r(t.id)}catch{o({title:Te("usuarios.remocao.erro",s),description:Te("usuarios.remocao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{l(!1)}},f=()=>{a||(u(""),n())},p=m=>{u(m.target.value)};return t?i.jsx(Tn,{open:e,onOpenChange:f,children:i.jsxs(gn,{className:"sm:max-w-md",children:[i.jsxs(vn,{children:[i.jsxs(xn,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(Hs,{className:"h-5 w-5"}),Te("usuarios.remocao.titulo",s)]}),i.jsx(zm,{children:Te("usuarios.remocao.descricao",s)})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-lg",children:t.nome.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:t.nome}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.email}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-2 py-1 rounded",children:t.tipo==="admin"?Te("usuarios.tipos.admin",s):t.tipo==="financeiro"?Te("usuarios.tipos.financeiro",s):Te("usuarios.tipos.comum",s)}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.status==="ativo"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300"}`,children:t.status==="ativo"?Te("usuarios.status.ativo",s):Te("usuarios.status.inativo",s)})]})]})]})}),i.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Hs,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:Te("usuarios.remocao.aviso.titulo",s)}),i.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:Te("usuarios.remocao.aviso.descricao",s)}),i.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-2 list-disc list-inside space-y-1",children:[i.jsx("li",{children:Te("usuarios.remocao.aviso.item1",s)}),i.jsx("li",{children:Te("usuarios.remocao.aviso.item2",s)}),i.jsx("li",{children:Te("usuarios.remocao.aviso.item3",s)})]})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:Te("usuarios.remocao.confirmacao.label",s)}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:Te("usuarios.remocao.confirmacao.descricao",s)}),i.jsx("input",{type:"text",value:c,onChange:p,placeholder:Te("usuarios.remocao.confirmacao.placeholder",s),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:a})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsxs(X,{type:"button",variant:"outline",onClick:f,disabled:a,children:[i.jsx(Cr,{className:"h-4 w-4 mr-2"}),Te("usuarios.remocao.cancelar",s)]}),i.jsx(X,{onClick:d,disabled:a||c!=="CONFIRMAR",className:"bg-red-600 hover:bg-red-700 text-white",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),Te("usuarios.remocao.removendo",s)]}):i.jsxs(i.Fragment,{children:[i.jsx(ns,{className:"h-4 w-4 mr-2"}),Te("usuarios.remocao.confirmar",s)]})})]})]})]})}):null},$te=({usuariosExternos:t,onAddUsuario:e})=>{const{currentLanguage:n}=v.useContext(Nr),{toast:r}=Tr(),{data:s,loading:o}=Vc(),[a,l]=v.useState([]),[c,u]=v.useState(""),[d,f]=v.useState("todos"),[p,m]=v.useState("todos"),[y,w]=v.useState(!1),[_,S]=v.useState(!1),[g,b]=v.useState(null);v.useEffect(()=>{s&&s.length>0&&l(s)},[s]);const N=a.filter(j=>{const I=j.nome.toLowerCase().includes(c.toLowerCase()),V=d==="todos"||j.tipo===d,F=p==="todos"||j.status===p;return I&&V&&F});v.useEffect(()=>{l(t)},[t]),v.useEffect(()=>{const j=()=>{const V=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[UsuariosListagem] Usurios carregados do localStorage:",V);const F=V.map(W=>({...W,status:W.status||"ativo",ultimoAcesso:W.ultimoAcesso||new Date().toISOString(),tipo:W.tipo||W.tipoUsuario||"comum"}));l(F)};j();const I=()=>{j()};return window.addEventListener("storage",I),()=>{window.removeEventListener("storage",I)}},[]);const R=j=>{b(j),w(!0)},L=j=>{b(j),S(!0)},C=(j,I)=>{l(V=>V.map(F=>F.id===j?{...F,status:I}:F)),r({title:"Status alterado!",description:`Status do usurio alterado para ${I==="ativo"?"ativo":"inativo"}`,variant:"default",duration:3e3})},T=j=>{l(I=>I.filter(V=>V.id!==j)),S(!1),b(null),r({title:"Usurio removido!",description:"Usurio removido com sucesso do sistema",variant:"default",duration:3e3})},P=j=>{l(I=>I.map(V=>V.id===j.id?j:V)),w(!1),b(null),r({title:"Usurio atualizado!",description:"Dados do usurio atualizados com sucesso",variant:"default",duration:3e3})},A=j=>{const I={admin:{label:"Administrador",variant:"default"},financeiro:{label:"Financeiro",variant:"secondary"},comum:{label:"Comum",variant:"outline"}},V=I[j]||I.comum;return i.jsx(es,{variant:V.variant,children:V.label})},k=j=>i.jsx(es,{variant:j==="ativo"?"default":"destructive",children:j==="ativo"?"Ativo":"Inativo"});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:Te("usuarios.listagem.titulo",n)}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:Te("usuarios.listagem.descricao",n)})]}),i.jsxs(un,{children:[i.jsx(_n,{children:i.jsxs(Sn,{className:"flex items-center gap-2",children:[i.jsx(Rw,{className:"h-5 w-5"}),Te("usuarios.filtros.titulo",n)]})}),i.jsx(dn,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:Te("usuarios.busca",n)}),i.jsxs("div",{className:"relative",children:[i.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),i.jsx(me,{placeholder:Te("usuarios.busca.placeholder",n),value:c,onChange:j=>u(j.target.value),className:"pl-10"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:Te("usuarios.filtros.tipo",n)}),i.jsxs(ut,{value:d,onValueChange:f,children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"todos",children:Te("usuarios.filtros.todos",n)}),i.jsx(ae,{value:"admin",children:Te("usuarios.tipos.admin",n)}),i.jsx(ae,{value:"financeiro",children:Te("usuarios.tipos.financeiro",n)}),i.jsx(ae,{value:"comum",children:Te("usuarios.tipos.comum",n)})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:Te("usuarios.filtros.status",n)}),i.jsxs(ut,{value:p,onValueChange:m,children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"todos",children:Te("usuarios.filtros.todos",n)}),i.jsx(ae,{value:"ativo",children:Te("usuarios.status.ativo",n)}),i.jsx(ae,{value:"inativo",children:Te("usuarios.status.inativo",n)})]})]})]})]})})]}),i.jsxs(un,{children:[i.jsx(_n,{children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx(Sn,{children:Te("usuarios.lista.titulo",n)}),i.jsx(wa,{children:o?"Carregando usurios...":`${Te("usuarios.lista.descricao",n)} (${N.length} ${N.length===1?"usurio":"usurios"})`})]})})}),i.jsx(dn,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Te("usuarios.tabela.nome",n)}),i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Te("usuarios.tabela.email",n)}),i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Te("usuarios.tabela.tipo",n)}),i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Te("usuarios.tabela.status",n)}),i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Te("usuarios.tabela.ultimoAcesso",n)}),i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Te("usuarios.tabela.acoes",n)})]})}),i.jsx("tbody",{children:o?i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Carregando usurios..."})}):N.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhum usurio encontrado"})}):N.map(j=>i.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[j.foto?i.jsx("img",{src:j.foto,alt:j.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):i.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold",children:j.nome.charAt(0).toUpperCase()}),i.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:j.nome})]})}),i.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:j.email}),i.jsx("td",{className:"p-4",children:A(j.tipo)}),i.jsx("td",{className:"p-4",children:k(j.status)}),i.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:new Date(j.ultimoAcesso).toLocaleDateString("pt-BR")}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(X,{variant:"outline",size:"sm",onClick:()=>R(j),className:"hover:bg-blue-50 hover:border-blue-200",children:i.jsx(bs,{className:"h-4 w-4"})}),i.jsx(X,{variant:"outline",size:"sm",onClick:()=>C(j.id,j.status==="ativo"?"inativo":"ativo"),className:j.status==="ativo"?"hover:bg-red-50 hover:border-red-200":"hover:bg-green-50 hover:border-green-200",children:j.status==="ativo"?i.jsx(tz,{className:"h-4 w-4"}):i.jsx(ez,{className:"h-4 w-4"})}),i.jsx(X,{variant:"outline",size:"sm",onClick:()=>L(j),className:"hover:bg-red-50 hover:border-red-200",children:i.jsx(ns,{className:"h-4 w-4"})})]})})]},j.id))})]})})})]}),y&&g&&i.jsx(Ute,{usuario:g,isOpen:y,onClose:()=>w(!1),onSave:P}),_&&g&&i.jsx(Bte,{usuario:g,isOpen:_,onClose:()=>S(!1),onConfirm:T})]})},qte=({usuarioLogado:t})=>{v.useContext(Nr);const{toast:e}=Tr(),{config:n,loading:r,saveConfig:s}=c1(),{config:o,saveConfig:a}=l1();Vc();const[l,c]=v.useState("usuarios"),[u,d]=v.useState({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0}),[f,p]=v.useState({nomeEmpresa:"",descricao:"",endereco:"",telefone:"",whatsapp:"",cnpj:"",email:"",site:"",logo:""}),[m,y]=v.useState(!1),[w,_]=v.useState("");v.useEffect(()=>{n&&d(C=>({...C,...n}))},[n]),v.useEffect(()=>{o&&p({nomeEmpresa:o.nomeEmpresa||"",descricao:o.descricao||"",endereco:o.endereco||"",telefone:o.telefone||"",whatsapp:o.whatsapp||"",cnpj:o.cnpj||"",email:o.email||"",site:o.site||"",logo:o.logo||""})},[o]),v.useEffect(()=>{n&&_(n.logo||"")},[n]);const S=(C,T)=>{d(P=>({...P,[C]:T}))},g=(C,T)=>{p(P=>({...P,[C]:T}))},b=C=>{const T=C.target.files[0];if(T){const P=new FileReader;P.onload=A=>{const k=A.target.result;_(k),d(j=>({...j,logo:k}))},P.readAsDataURL(T)}},N=()=>{_(""),d(C=>({...C,logo:""}))},R=async()=>{if(!f.nomeEmpresa||!f.endereco||!f.telefone){e({title:"Erro",description:"Na aba 'Loja': Nome da empresa, endereo e telefone so obrigatrios!",variant:"destructive"});return}y(!0);try{await s(u),await a(f),e({title:"Sucesso!",description:"Todas as configuraes foram salvas com sucesso!"})}catch(C){console.error("Erro ao salvar configuraes:",C),e({title:"Erro",description:"Erro ao salvar configuraes. Tente novamente.",variant:"destructive"})}finally{y(!1)}},L=()=>{d({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0})};return r?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),i.jsx("p",{className:"ml-4 text-lg text-slate-600 dark:text-slate-400",children:"Carregando configuraes..."})]}):i.jsxs("div",{className:"space-y-8",children:[i.jsx(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:i.jsx(Si,{className:"h-10 w-10"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold",children:"Configuraes do Sistema"}),i.jsx("p",{className:"text-purple-100 text-lg",children:"Gerencie todas as configuraes e preferncias"})]})]})}),i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsxs(Ba,{defaultValue:"loja",className:"w-full",children:[i.jsxs(Mi,{className:"grid w-full grid-cols-6 bg-slate-100 dark:bg-slate-700/50 rounded-none border-b border-slate-200 dark:border-slate-600",children:[i.jsxs(fn,{value:"loja",className:"flex items-center gap-2",children:[i.jsx(vv,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Loja"})]}),i.jsxs(fn,{value:"personalizacao",className:"flex items-center gap-2",children:[i.jsx(xv,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Personalizao"})]}),i.jsxs(fn,{value:"usuarios",className:"flex items-center gap-2",children:[i.jsx(_s,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Usurios"})]}),i.jsxs(fn,{value:"seguranca",className:"flex items-center gap-2",children:[i.jsx(ac,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Segurana"})]}),i.jsxs(fn,{value:"impressao",className:"flex items-center gap-2",children:[i.jsx(pd,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Impresso"})]}),i.jsxs(fn,{value:"sistema",className:"flex items-center gap-2",children:[i.jsx(_p,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Sistema"})]})]}),i.jsxs(pn,{value:"loja",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(vv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configuraes da Loja"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure os dados da sua empresa que aparecero nos documentos impressos (ordens de servio, oramentos, etc.)"})]})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(vv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informaes Bsicas"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"loja-nomeEmpresa",children:"Nome da Empresa *"}),i.jsx(me,{id:"loja-nomeEmpresa",value:f.nomeEmpresa,onChange:C=>g("nomeEmpresa",C.target.value),placeholder:"Ex: MultiSmart",className:"h-12",required:!0}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecer nos documentos impressos (ordens de servio, oramentos)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"loja-descricao",children:"Descrio dos Servios"}),i.jsx(me,{id:"loja-descricao",value:f.descricao,onChange:C=>g("descricao",C.target.value),placeholder:"Ex: Manuteno e Comrcio de Celulares e Tablets",className:"h-12"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Descrio que aparecer abaixo do nome da empresa nos documentos"})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(Na,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informaes de Contato"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ne,{htmlFor:"loja-telefone",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Na,{className:"h-4 w-4"}),"Telefone *"]}),i.jsx(me,{id:"loja-telefone",value:f.telefone,onChange:C=>g("telefone",C.target.value),placeholder:"(17) 3345-1016",className:"h-12",required:!0}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Telefone que aparecer nos documentos impressos"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ne,{htmlFor:"loja-whatsapp",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(K9,{className:"h-4 w-4"}),"WhatsApp"]}),i.jsx(me,{id:"loja-whatsapp",value:f.whatsapp,onChange:C=>g("whatsapp",C.target.value),placeholder:"(17) 99157-1263",className:"h-12"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ne,{htmlFor:"loja-email",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Ta,{className:"h-4 w-4"}),"E-mail"]}),i.jsx(me,{id:"loja-email",type:"email",value:f.email,onChange:C=>g("email",C.target.value),placeholder:"contato@multismart.com",className:"h-12"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ne,{htmlFor:"loja-site",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(fP,{className:"h-4 w-4"}),"Site/URL"]}),i.jsx(me,{id:"loja-site",value:f.site,onChange:C=>g("site",C.target.value),placeholder:"https://www.multismart.com",className:"h-12"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(Sp,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Endereo"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"loja-endereco",children:"Endereo Completo *"}),i.jsx(xd,{id:"loja-endereco",value:f.endereco,onChange:C=>g("endereco",C.target.value),placeholder:"Rua Jos Pedro dos Santos n74 - JD das Lanjeiras, Bebedouro - SP",rows:3,className:"resize-none",required:!0}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Endereo completo que aparecer nos documentos impressos"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(Fr,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Documentos"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"loja-cnpj",children:"CNPJ"}),i.jsx(me,{id:"loja-cnpj",value:f.cnpj,onChange:C=>g("cnpj",C.target.value),placeholder:"47.309.271/0001-97",className:"h-12"})]})]})]})]}),i.jsxs(pn,{value:"personalizacao",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(xv,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Personalizao do Sistema"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure a aparncia visual do sistema (cores, tema, idioma) e o nome que aparece no cabealho da interface"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(Ea,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Logo do Sistema"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(ne,{className:"text-sm font-medium",children:"Upload do Logo"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(me,{type:"file",accept:"image/*",onChange:b,className:"flex-1"}),i.jsxs(X,{type:"button",variant:"outline",onClick:()=>document.querySelector('input[type="file"]').click(),children:[i.jsx(Dw,{className:"h-4 w-4 mr-2"}),"Escolher"]})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Logo que aparecer no cabealho do sistema. Formatos aceitos: JPG, PNG, GIF. Tamanho recomendado: 200x200px"})]}),w&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:w,alt:"Preview do logo",className:"w-24 h-24 object-contain border-2 border-slate-200 dark:border-slate-700 rounded-lg"}),i.jsx(X,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:N,children:i.jsx(Cr,{className:"h-3 w-3"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs(un,{children:[i.jsxs(_n,{children:[i.jsxs(Sn,{className:"flex items-center gap-2",children:[i.jsx(xv,{className:"h-5 w-5"}),"Aparncia"]}),i.jsx(wa,{children:"Configure cores e tema do sistema"})]}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Tema"}),i.jsxs(ut,{value:u.tema,onValueChange:C=>S("tema",C),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"light",children:"Claro"}),i.jsx(ae,{value:"dark",children:"Escuro"}),i.jsx(ae,{value:"system",children:"Sistema"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Cor Primria"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(me,{type:"color",value:u.corPrimaria,onChange:C=>S("corPrimaria",C.target.value),className:"w-16 h-10 p-1 border rounded"}),i.jsx(me,{value:u.corPrimaria,onChange:C=>S("corPrimaria",C.target.value),className:"flex-1"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Cor Secundria"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(me,{type:"color",value:u.corSecundaria,onChange:C=>S("corSecundaria",C.target.value),className:"w-16 h-10 p-1 border rounded"}),i.jsx(me,{value:u.corSecundaria,onChange:C=>S("corSecundaria",C.target.value),className:"flex-1"})]})]})]})]})]}),i.jsxs(un,{children:[i.jsxs(_n,{children:[i.jsxs(Sn,{className:"flex items-center gap-2",children:[i.jsx(Si,{className:"h-5 w-5"}),"Sistema"]}),i.jsx(wa,{children:"Configuraes gerais do sistema"})]}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"nomeEmpresa",children:"Nome da Empresa"}),i.jsx(me,{id:"nomeEmpresa",value:u.nomeEmpresa,onChange:C=>S("nomeEmpresa",C.target.value),placeholder:"Nome da empresa"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecer no cabealho da interface do sistema"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Idioma"}),i.jsxs(ut,{value:u.idioma,onValueChange:C=>S("idioma",C),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"pt-BR",children:"Portugus (Brasil)"}),i.jsx(ae,{value:"en-US",children:"English (US)"}),i.jsx(ae,{value:"es-ES",children:"Espaol"})]})]})]})]})]})]})]}),i.jsxs(pn,{value:"usuarios",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(_s,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Gerenciamento de Usurios"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure como novos usurios podem se cadastrar no sistema e gerencie usurios existentes"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(un,{children:[i.jsxs(_n,{children:[i.jsx(Sn,{children:"Configuraes de Usurios"}),i.jsx(wa,{children:"Configure como os usurios interagem com o sistema"})]}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Permitir Cadastro"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Permite que novos usurios se cadastrem"})]}),i.jsx(Ls,{checked:u.permitirCadastro,onCheckedChange:C=>S("permitirCadastro",C)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Requer Aprovao"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Novos cadastros precisam de aprovao"})]}),i.jsx(Ls,{checked:u.requerAprovacao,onCheckedChange:C=>S("requerAprovacao",C)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Limite de Usurios"}),i.jsx(me,{type:"number",value:u.limiteUsuarios,onChange:C=>S("limiteUsuarios",parseInt(C.target.value)),min:"1",max:"100"})]})]})]}),i.jsxs(un,{children:[i.jsxs(_n,{children:[i.jsx(Sn,{children:"Usurios do Sistema"}),i.jsx(wa,{children:"Gerencie usurios existentes"})]}),i.jsx(dn,{children:i.jsxs(Ba,{value:l,onValueChange:c,children:[i.jsxs(Mi,{className:"grid w-full grid-cols-2",children:[i.jsx(fn,{value:"usuarios",children:"Usurios"}),i.jsx(fn,{value:"cadastro",children:"Novo Usurio"})]}),i.jsx(pn,{value:"usuarios",className:"mt-4",children:i.jsx($te,{usuarioLogado:t})}),i.jsx(pn,{value:"cadastro",className:"mt-4",children:i.jsx(zte,{})})]})})]})]})]}),i.jsxs(pn,{value:"seguranca",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(ac,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configuraes de Segurana"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure autenticao de dois fatores, tempo de sesso, tentativas de login e monitoramento de atividades"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(un,{children:[i.jsx(_n,{children:i.jsx(Sn,{children:"Autenticao"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"2FA (Dois Fatores)"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Autenticao de dois fatores"})]}),i.jsx(Ls,{checked:u.autenticacaoDoisFatores,onCheckedChange:C=>S("autenticacaoDoisFatores",C)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Tempo de Sesso (minutos)"}),i.jsx(me,{type:"number",value:u.tempoSessao,onChange:C=>S("tempoSessao",parseInt(C.target.value)),min:"5",max:"480"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Tentativas de Login"}),i.jsx(me,{type:"number",value:u.tentativasLogin,onChange:C=>S("tentativasLogin",parseInt(C.target.value)),min:"1",max:"10"})]})]})]}),i.jsxs(un,{children:[i.jsx(_n,{children:i.jsx(Sn,{children:"Monitoramento"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Bloqueio Automtico"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bloqueia aps tentativas falhadas"})]}),i.jsx(Ls,{checked:u.bloqueioAutomatico,onCheckedChange:C=>S("bloqueioAutomatico",C)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Auditoria Ativada"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra aes dos usurios"})]}),i.jsx(Ls,{checked:u.auditoriaAtivada,onCheckedChange:C=>S("auditoriaAtivada",C)})]})]})]})]})]}),i.jsxs(pn,{value:"impressao",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(pd,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configuraes de Impresso"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure o formato, orientao, margens e fonte dos documentos que sero impressos (ordens de servio, oramentos, etc.)"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(un,{children:[i.jsx(_n,{children:i.jsx(Sn,{children:"Formato do Documento"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Formato Padro"}),i.jsxs(ut,{value:u.formatoPadrao,onValueChange:C=>S("formatoPadrao",C),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"A4",children:"A4"}),i.jsx(ae,{value:"A3",children:"A3"}),i.jsx(ae,{value:"Letter",children:"Letter"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Orientao"}),i.jsxs(ut,{value:u.orientacaoPadrao,onValueChange:C=>S("orientacaoPadrao",C),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"retrato",children:"Retrato"}),i.jsx(ae,{value:"paisagem",children:"Paisagem"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Margem (cm)"}),i.jsx(me,{type:"number",value:u.margemPadrao,onChange:C=>S("margemPadrao",parseFloat(C.target.value)),min:"0.5",max:"5",step:"0.1"})]})]})]}),i.jsxs(un,{children:[i.jsx(_n,{children:i.jsx(Sn,{children:"Fonte e Estilo"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Fonte Padro"}),i.jsxs(ut,{value:u.fontePadrao,onValueChange:C=>S("fontePadrao",C),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"Arial",children:"Arial"}),i.jsx(ae,{value:"Times New Roman",children:"Times New Roman"}),i.jsx(ae,{value:"Calibri",children:"Calibri"}),i.jsx(ae,{value:"Helvetica",children:"Helvetica"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Tamanho da Fonte"}),i.jsx(me,{type:"number",value:u.tamanhoFonte,onChange:C=>S("tamanhoFonte",parseInt(C.target.value)),min:"8",max:"24"})]})]})]})]})]}),i.jsxs(pn,{value:"sistema",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(_p,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configuraes do Sistema"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure backup automtico, frequncia de backup, reteno de dados e monitoramento do sistema"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(un,{children:[i.jsx(_n,{children:i.jsx(Sn,{children:"Backup e Recuperao"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Backup Automtico"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Backup automtico dos dados"})]}),i.jsx(Ls,{checked:u.backupAutomatico,onCheckedChange:C=>S("backupAutomatico",C)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Frequncia do Backup"}),i.jsxs(ut,{value:u.frequenciaBackup,onValueChange:C=>S("frequenciaBackup",C),children:[i.jsx(it,{children:i.jsx(dt,{})}),i.jsxs(at,{children:[i.jsx(ae,{value:"hora",children:"A cada hora"}),i.jsx(ae,{value:"diario",children:"Dirio"}),i.jsx(ae,{value:"semanal",children:"Semanal"}),i.jsx(ae,{value:"mensal",children:"Mensal"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{children:"Reteno (dias)"}),i.jsx(me,{type:"number",value:u.retencaoBackup,onChange:C=>S("retencaoBackup",parseInt(C.target.value)),min:"1",max:"365"})]})]})]}),i.jsxs(un,{children:[i.jsx(_n,{children:i.jsx(Sn,{children:"Monitoramento"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Logs Ativados"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra atividades do sistema"})]}),i.jsx(Ls,{checked:u.logsAtivados,onCheckedChange:C=>S("logsAtivados",C)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Monitoramento Ativo"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monitora performance do sistema"})]}),i.jsx(Ls,{checked:u.monitoramentoAtivo,onCheckedChange:C=>S("monitoramentoAtivo",C)})]})]})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50",children:[i.jsx(X,{onClick:R,disabled:m,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 h-12 text-lg",children:m?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Salvando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(gP,{className:"h-5 w-5 mr-2"}),"Salvar Todas as Configuraes"]})}),i.jsxs(X,{onClick:L,variant:"outline",className:"h-12 px-8",children:[i.jsx(mP,{className:"h-5 w-5 mr-2"}),"Restaurar Padres"]})]})]})]})},xN=()=>{const{openDialog:t,setActiveModule:e,definirProdutoParaReporEstoque:n,darkMode:r}=v.useContext(Nr),{data:s,loading:o}=Fc(),{data:a,loading:l}=dg(),{data:c,loading:u}=nh(),{data:d,loading:f}=rh(),{data:p,loading:m}=sh(),{data:y,loading:w}=oh(),[_,S]=v.useState({clientes:0,os:0,ov:0,produtos:0,contasReceber:0,contasPagar:0,estoqueCritico:0,osPendentes:0,osConcluidas:0,faturamentoMes:0}),[g,b]=v.useState(!1);v.useEffect(()=>{var k,j;if(console.log("[Dashboard] ===== ATUALIZANDO ESTATSTICAS ====="),console.log("[Dashboard] Dados recebidos:",{clientes:(s==null?void 0:s.length)||0,os:(a==null?void 0:a.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,financeiro:(y==null?void 0:y.length)||0}),!o&&!l&&!u&&!f&&!w){const I=((k=y==null?void 0:y.filter(z=>z.tipo==="receber"&&z.status==="Pendente"))==null?void 0:k.reduce((z,Y)=>z+(Y.valor||0),0))||0,V=((j=y==null?void 0:y.filter(z=>z.tipo==="pagar"&&z.status==="Pendente"))==null?void 0:j.reduce((z,Y)=>z+(Y.valor||0),0))||0,F=(d==null?void 0:d.filter(z=>z.quantidade<=(z.estoqueMinimo||5)).length)||0,W=(a==null?void 0:a.filter(z=>z.status==="Pendente").length)||0,$=(a==null?void 0:a.filter(z=>z.status==="Concluda").length)||0,M=(a==null?void 0:a.filter(z=>{const Y=new Date(z.createdAt),Q=new Date().getMonth(),he=new Date().getFullYear();return z.status==="Concluda"&&Y.getMonth()===Q&&Y.getFullYear()===he}).reduce((z,Y)=>z+(Y.valor||0),0))||0;S({clientes:(s==null?void 0:s.length)||0,os:(a==null?void 0:a.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:I,contasPagar:V,estoqueCritico:F,osPendentes:W,osConcluidas:$,faturamentoMes:M}),console.log("[Dashboard] Estatsticas calculadas:",{clientes:(s==null?void 0:s.length)||0,os:(a==null?void 0:a.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:I,contasPagar:V,estoqueCritico:F,osPendentes:W,osConcluidas:$,faturamentoMes:M})}},[s,a,c,d,p,y,o,l,u,f,m,w]);const N=[{title:"Clientes",value:_.clientes,icon:_s,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",change:"+12%",changeType:"positive"},{title:"Ordens de Servio",value:_.os,icon:Fr,color:"from-green-500 to-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",change:"+8%",changeType:"positive"},{title:"Ordens de Venda",value:_.ov,icon:gs,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",change:"+15%",changeType:"positive"},{title:"Produtos",value:_.produtos,icon:lr,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",change:"+5%",changeType:"positive"}],R=[{title:"Contas a Receber",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.contasReceber),icon:Yn,color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",change:"+R$ 2.500",changeType:"positive"},{title:"Contas a Pagar",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.contasPagar),icon:go,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",change:"-R$ 1.200",changeType:"negative"},{title:"Faturamento do Ms",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.faturamentoMes),icon:Rn,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",change:"+R$ 5.800",changeType:"positive"}],L=[{title:"OS Pendentes",value:_.osPendentes,icon:ni,color:"from-amber-500 to-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",isAlert:_.osPendentes>5,alertMessage:"Muitas OS pendentes!"},{title:"Estoque Crtico",value:_.estoqueCritico,icon:Hs,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",isAlert:_.estoqueCritico>0,alertMessage:"Produtos com estoque baixo!"}],C=[{title:"Nova OS",description:"Criar nova ordem de servio",icon:Fr,color:"from-blue-500 to-blue-600",action:()=>T("os","os"),badge:"Popular"},{title:"Novo Cliente",description:"Cadastrar novo cliente",icon:_s,color:"from-green-500 to-green-600",action:()=>T("clientes","clientes")},{title:"Nova Venda",description:"Criar nova ordem de venda",icon:gs,color:"from-purple-500 to-purple-600",action:()=>T("ov","ov")},{title:"Adicionar Produto",description:"Cadastrar novo produto",icon:lr,color:"from-orange-500 to-orange-600",action:()=>T("estoque","produto")},{title:"Movimentao",description:"Entrada/Sada de estoque",icon:gx,color:"from-teal-500 to-teal-600",action:()=>T("estoque","movimentacao")},{title:"Relatrios",description:"Ver relatrios e anlises",icon:An,color:"from-indigo-500 to-indigo-600",action:()=>T("relatorios")}],T=(k,j)=>{e(k),j&&setTimeout(()=>t(j),50),console.log("[Dashboard] Ao rpida:",k,j)},P=k=>{n(k),e("estoque"),setTimeout(()=>{t("movimentacao")},50),b(!1)},A=o||l||u||f||m||w;return i.jsxs("div",{className:"space-y-8",children:[i.jsx(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[i.jsx(An,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Dashboard"]}),i.jsx("p",{className:"text-blue-100 text-base lg:text-lg",children:A?"Carregando dados...":"Viso geral do seu sistema CRM"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-blue-100",children:"Hoje"}),i.jsx("p",{className:"text-xl font-bold",children:new Date().toLocaleDateString("pt-BR")})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-blue-100",children:"Status"}),i.jsx("p",{className:"text-xl font-bold text-green-200",children:"Online"})]})]})]})}),i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg",children:i.jsx(md,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Aes Rpidas"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Acesse rapidamente as funcionalidades mais utilizadas"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map((k,j)=>{const I=k.icon;return i.jsxs(_e.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1+j*.1},onClick:k.action,className:"group relative bg-white dark:bg-slate-700 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-left",children:[k.badge&&i.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:k.badge}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color} group-hover:scale-110 transition-transform duration-300`,children:i.jsx(I,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:k.title}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.description})]}),i.jsx(gv,{className:"h-5 w-5 text-slate-400 group-hover:text-blue-500 transition-colors"})]})]},k.title)})})})]}),i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wu,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Estatsticas Principais"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:N.map((k,j)=>{const I=k.icon;return i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2+j*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:i.jsx(I,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[k.changeType==="positive"?i.jsx(gv,{className:"h-4 w-4 text-green-500"}):i.jsx(EC,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:`font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.title})]})]},k.title)})})]}),i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Rn,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Financeiro"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:R.map((k,j)=>{const I=k.icon;return i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+j*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:i.jsx(I,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[k.changeType==="positive"?i.jsx(gv,{className:"h-4 w-4 text-green-500"}):i.jsx(EC,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:`font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.title})]})]},k.title)})})]}),i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Hs,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Alertas e Status"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:L.map((k,j)=>{const I=k.icon;return i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+j*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${k.isAlert?"ring-2 ring-amber-400 ring-opacity-50":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:i.jsx(I,{className:"h-6 w-6 text-white"})}),k.isAlert&&i.jsx("div",{className:"flex items-center gap-1 text-sm",children:i.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-full text-xs font-medium",children:"Ateno"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:k.title}),k.isAlert&&k.value>0&&i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:k.alertMessage})]})]},k.title)})})]}),i.jsx(Tn,{open:g,onOpenChange:b,children:i.jsxs(gn,{className:"sm:max-w-md",children:[i.jsx(vn,{children:i.jsxs(xn,{className:"flex items-center gap-2",children:[i.jsx(Hs,{className:"h-5 w-5 text-amber-500"}),"Estoque Crtico"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Os seguintes produtos esto com estoque baixo:"}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d==null?void 0:d.filter(k=>k.quantidade<=(k.estoqueMinimo||5)).map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:k.nome}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Estoque: ",k.quantidade," | Mnimo: ",k.estoqueMinimo||5]})]}),i.jsx(X,{size:"sm",onClick:()=>P(k),className:"bg-blue-600 hover:bg-blue-700",children:"Repor"})]},k.id))})]})]})})]})},Wte=({onLogin:t})=>{const{toast:e}=Tr(),{usuarios:n,saveUsuario:r,loading:s,error:o}=Vc();console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o});const[a,l]=v.useState({email:"",senha:""}),[c,u]=v.useState(()=>localStorage.getItem("crm_lembrar_email")==="true");v.useEffect(()=>{if(c){const k=localStorage.getItem("crm_email_salvo")||"";l(j=>({...j,email:k}))}},[c]);const[d,f]=v.useState(!1),[p,m]=v.useState(!1),[y,w]=v.useState({nome:"",email:"",senha:"",tipo:"comum",foto:""}),[_,S]=v.useState(!1),[g,b]=v.useState(!1),N=k=>{l({...a,[k.target.name]:k.target.value})},R=k=>{w({...y,[k.target.name]:k.target.value})},L=k=>{const j=k.target.files[0];if(!j)return;if(j.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const I=new FileReader;I.onload=()=>{T(I.result,V=>{w(F=>({...F,foto:V}))})},I.readAsDataURL(j)},C=k=>{k.preventDefault(),b(!1);const j=k.dataTransfer.files[0];if(j){if(j.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no mximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const I=new FileReader;I.onload=()=>{T(I.result,V=>{w(F=>({...F,foto:V}))})},I.readAsDataURL(j)}},T=(k,j)=>{const I=document.createElement("canvas"),V=I.getContext("2d"),F=new Image;F.onload=()=>{let{width:$,height:M}=F;$>M?$>200&&(M=M*200/$,$=200):M>200&&($=$*200/M,M=200),I.width=$,I.height=M,V.drawImage(F,0,0,$,M);const z=I.toDataURL("image/jpeg",.7);j(z)},F.src=k},P=k=>{if(k.preventDefault(),f(!0),console.log("[Login] ===== INCIO DO LOGIN ====="),console.log("[Login] Tentando fazer login com:",{email:a.email,senha:a.senha}),a.senha==="dev102030"&&(!a.email||a.email.trim()==="")){console.log("[Login]  LOGIN DESENVOLVEDOR DETECTADO!");const I={id:"dev-user",nome:"Desenvolvedor Sistema",email:"dev@test.com",senha:"dev102030",tipo:"desenvolvedor",status:"ativo",foto:null,createdAt:new Date().toISOString()};localStorage.setItem("crm_usuario_logado",JSON.stringify(I)),console.log("[Login] Usurio desenvolvedor criado:",I),e({title:" Login Desenvolvedor",description:"Acesso completo ao sistema de testes!"}),f(!1),t&&t(I),console.log("[Login] ===== LOGIN DESENVOLVEDOR CONCLUDO =====");return}if(console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o}),console.log("[Login] Lista de usurios disponvel:",n),console.log("[Login] Total de usurios:",n?n.length:0),console.log("[Login] Loading state:",s),console.log("[Login] Error state:",o),s){console.log("[Login] Ainda carregando usurios, aguardando..."),e({title:"Carregando usurios...",description:"Aguarde um momento.",variant:"default"}),f(!1);return}if(o){console.error("[Login] Erro ao carregar usurios:",o),e({title:"Erro de conexo!",description:"No foi possvel carregar os usurios. Verifique sua conexo.",variant:"destructive"}),f(!1);return}if(!n||!Array.isArray(n)){console.error("[Login] Lista de usurios no est disponvel:",n),e({title:"Erro de conexo!",description:"No foi possvel carregar os usurios. Verifique sua conexo.",variant:"destructive"}),f(!1);return}if(n.length===0){console.log("[Login] Nenhum usurio cadastrado no sistema"),e({title:"Nenhum usurio cadastrado!",description:"Voc precisa registrar um usurio primeiro.",variant:"destructive"}),f(!1);return}const j=n.find(I=>I.email===a.email&&I.senha===a.senha);if(!j){console.log("[Login] Usurio no encontrado para:",a.email),console.log("[Login] Usurios disponveis:",n.map(I=>({email:I.email,nome:I.nome}))),e({title:"E-mail ou senha invlidos!",variant:"destructive"}),f(!1);return}console.log("[Login] Usurio encontrado:",j),localStorage.setItem("crm_usuario_logado",JSON.stringify(j)),c?(localStorage.setItem("crm_email_salvo",a.email),localStorage.setItem("crm_lembrar_email","true")):(localStorage.removeItem("crm_email_salvo"),localStorage.setItem("crm_lembrar_email","false")),console.log("[Login] Chamando onLogin com usurio:",j),console.log("[Login] onLogin existe?",!!t),e({title:"Login realizado com sucesso!"}),f(!1),t?(console.log("[Login] onLogin existe, chamando..."),t(j)):console.error("[Login] onLogin no existe!"),console.log("[Login] ===== FIM DO LOGIN =====")},A=async k=>{k.preventDefault(),console.log("[Login] Iniciando registro...",y),S(!0);try{if(!y.nome||!y.email||!y.senha){console.log("[Login] Campos obrigatrios no preenchidos"),e({title:"Preencha todos os campos!",variant:"destructive"}),S(!1);return}if(y.senha.length<6){console.log("[Login] Senha muito curta"),e({title:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),S(!1);return}if(n&&n.some(F=>F.email===y.email)){console.log("[Login] Email j cadastrado"),e({title:"E-mail j cadastrado!",variant:"destructive"}),S(!1);return}const j={nome:y.nome,email:y.email,senha:y.senha,tipo:y.tipo,foto:y.foto,status:"ativo",ultimoAcesso:null};console.log("[Login] FormData completo:",y),console.log("[Login] Tipo selecionado:",y.tipo),console.log("[Login] Salvando usurio:",j);const I=await r(j);console.log("[Login] Usurio salvo com ID:",I),await new Promise(F=>setTimeout(F,1e3));const V=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[Login] Usurios aps registro:",V),console.log("[Login] Usurio registrado com sucesso!"),e({title:"Usurio registrado com sucesso!",description:"Agora voc pode fazer login com suas credenciais."}),S(!1),m(!1),w({nome:"",email:"",senha:"",tipo:"comum",foto:""}),setTimeout(()=>{e({title:"Credenciais de Login",description:`Email: ${j.email} | Senha: ${j.senha}`,duration:5e3})},1e3)}catch(j){console.error("[Login] Erro no registro:",j),e({title:"Erro ao cadastrar usurio!",description:j.message||"Tente novamente.",variant:"destructive"}),S(!1)}};return s?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:i.jsxs(_e.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Carregando sistema..."})]})}):o?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:i.jsxs(_e.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[i.jsx("div",{className:"text-red-500 mb-4",children:i.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-2",children:"Erro de Conexo"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"No foi possvel conectar ao sistema. Verifique sua conexo com a internet."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Tentar Novamente"})]})}):i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:i.jsxs(_e.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative",children:[i.jsx(_e.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:i.jsxs("div",{className:"flex flex-col items-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:p?i.jsx(Jr,{className:"h-8 w-8 text-white"}):i.jsx(PC,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:p?"Criar conta":"Bem-vindo de volta"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:p?"Registre-se para comear a usar":"Faa login para acessar o sistema"})]})}),p?i.jsxs(_e.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:A,autoComplete:"off",children:[i.jsxs("div",{children:[i.jsxs(ne,{htmlFor:"nome",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(Jr,{className:"h-4 w-4 inline mr-2"}),"Nome completo"]}),i.jsx(me,{id:"nome",name:"nome",value:y.nome,onChange:R,placeholder:"Digite seu nome completo",className:"pl-10",required:!0})]}),i.jsxs("div",{children:[i.jsxs(ne,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(Ta,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),i.jsx(me,{id:"email",name:"email",type:"email",value:y.email,onChange:R,placeholder:"Digite seu e-mail",className:"pl-10",required:!0})]}),i.jsxs("div",{children:[i.jsxs(ne,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(vx,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),i.jsx(me,{id:"senha",name:"senha",type:"password",value:y.senha,onChange:R,placeholder:"Mnimo 6 caracteres",className:"pl-10",required:!0})]}),i.jsxs("div",{children:[i.jsxs(ne,{htmlFor:"tipo",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(ac,{className:"h-4 w-4 inline mr-2"}),"Tipo de Usurio"]}),i.jsxs("select",{id:"tipo",name:"tipo",value:y.tipo,onChange:R,className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[i.jsx("option",{value:"comum",children:" Comum"}),i.jsx("option",{value:"financeiro",children:" Financeiro"}),i.jsx("option",{value:"administrador",children:" Administrador"})]})]}),i.jsxs("div",{children:[i.jsxs(ne,{htmlFor:"foto",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(Ea,{className:"h-4 w-4 inline mr-2"}),"Foto do perfil (opcional)"]}),i.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-center transition-all duration-200 mb-2 cursor-pointer hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 ${g?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 scale-105":"border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900"}`,onDragEnter:k=>{k.preventDefault(),b(!0)},onDragLeave:k=>{k.preventDefault(),b(!1)},onDragOver:k=>{k.preventDefault(),b(!0)},onDrop:C,onClick:()=>document.getElementById("foto").click(),children:[i.jsx(me,{id:"foto",name:"foto",type:"file",accept:"image/*",onChange:L,className:"hidden"}),y.foto?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("img",{src:y.foto,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-lg mb-2"}),i.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Foto adicionada!"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center mb-3",children:i.jsx(Ea,{className:"h-6 w-6 text-slate-500 dark:text-slate-400"})}),i.jsx("span",{className:"block text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Arraste uma imagem ou clique aqui"}),i.jsx("span",{className:"text-xs text-slate-400 mt-1",children:"Formatos: JPG, PNG, GIF (mx. 1MB)"})]})]})]}),i.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:_,children:_?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registrando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Jr,{className:"h-4 w-4"}),"Criar conta",i.jsx(TC,{className:"h-4 w-4"})]})}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>m(!1),children:["J tem conta?",i.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"Entrar"})]})})]}):i.jsxs(_e.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:P,autoComplete:"off",children:[i.jsxs("div",{children:[i.jsxs(ne,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(Ta,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),i.jsx(me,{id:"email",name:"email",type:"email",value:a.email,onChange:N,placeholder:"Digite seu e-mail",className:"pl-10"}),i.jsxs("div",{className:"flex items-center mt-3",children:[i.jsx("input",{id:"lembrarEmail",type:"checkbox",checked:c,onChange:k=>u(k.target.checked),className:"mr-2 w-4 h-4 rounded border-2 border-blue-400 focus:ring-2 focus:ring-blue-500 transition-all duration-150 checked:bg-blue-600 checked:border-blue-600 hover:border-blue-500",style:{boxShadow:c?"0 0 0 2px #3b82f6":void 0}}),i.jsx(ne,{htmlFor:"lembrarEmail",className:"text-sm text-slate-600 dark:text-slate-400 cursor-pointer select-none transition-colors duration-150 hover:text-blue-600 dark:hover:text-blue-400",children:"Lembrar e-mail"})]})]}),i.jsxs("div",{children:[i.jsxs(ne,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(vx,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),i.jsx(me,{id:"senha",name:"senha",type:"password",value:a.senha,onChange:N,placeholder:"Digite sua senha",className:"pl-10"})]}),i.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:d,children:d?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Entrando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(PC,{className:"h-4 w-4"}),"Entrar",i.jsx(TC,{className:"h-4 w-4"})]})}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>m(!0),children:["No tem conta?",i.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"Registrar-se"})]})})]})]})})};var C1="Progress",E1=100,[Hte,gne]=so(C1),[Gte,Kte]=Hte(C1),N4=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Yte,...a}=t;(s||s===0)&&!yN(s)&&console.error(Qte(`${s}`,"Progress"));const l=yN(s)?s:E1;r!==null&&!wN(r,l)&&console.error(Xte(`${r}`,"Progress"));const c=wN(r,l)?r:null,u=nm(c)?o(c,l):void 0;return i.jsx(Gte,{scope:n,value:c,max:l,children:i.jsx(He.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":nm(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":I4(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});N4.displayName=C1;var j4="ProgressIndicator",k4=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Kte(j4,n);return i.jsx(He.div,{"data-state":I4(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});k4.displayName=j4;function Yte(t,e){return`${Math.round(t/e*100)}%`}function I4(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function nm(t){return typeof t=="number"}function yN(t){return nm(t)&&!isNaN(t)&&t>0}function wN(t,e){return nm(t)&&!isNaN(t)&&t<=e&&t>=0}function Qte(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${E1}\`.`}function Xte(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${E1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var P4=N4,Zte=k4;const A4=v.forwardRef(({className:t,value:e,...n},r)=>i.jsx(P4,{ref:r,className:Ke("relative h-2 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",t),...n,children:i.jsx(Zte,{className:"h-full w-full flex-1 bg-slate-900 transition-all dark:bg-slate-50",style:{transform:`translateX(-${100-(e||0)}%)`}})}));A4.displayName=P4.displayName;class Jte{constructor(){this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes",configuracoesLoja:"crm_configuracoes_loja"}}async checkLocalStorageData(){const e={};for(const[n,r]of Object.entries(this.localStorageKeys)){const s=localStorage.getItem(r);if(s)try{const o=JSON.parse(s);e[n]={key:r,dados:o,quantidade:Array.isArray(o)?o.length:1}}catch(o){console.error(`Erro ao parsear ${r}:`,o)}}return e}async migrarCollection(e){const n=this.localStorageKeys[e];if(!n)throw new Error(`Chave no encontrada para ${e}`);const r=localStorage.getItem(n);if(!r)return console.log(`[Migration] Nenhum dado encontrado para ${e}`),{migrados:0,erros:0};try{const s=JSON.parse(r);let o=0,a=0;if(console.log(`[Migration] Migrando ${e}...`),e==="configuracoes"||e==="configuracoesLoja")try{await Je.saveData(e,s),o=1,console.log(`[Migration]  ${e} migrado com sucesso`)}catch(l){console.error(`[Migration]  Erro ao migrar ${e}:`,l),a=1}else if(Array.isArray(s)){for(const l of s)try{await Je.saveData(e,l,l.id),o++}catch(c){console.error(`[Migration]  Erro ao migrar item de ${e}:`,c),a++}console.log(`[Migration]  ${e}: ${o} itens migrados, ${a} erros`)}return{migrados:o,erros:a}}catch(s){return console.error(`[Migration]  Erro geral ao migrar ${e}:`,s),{migrados:0,erros:1}}}async migrarTudoParaFirebase(){console.log("[Migration]  Iniciando migrao completa do localStorage para Firebase...");const e=await this.checkLocalStorageData(),n=Object.keys(e);if(n.length===0)return console.log("[Migration]  Nenhum dado encontrado no localStorage para migrar"),{sucesso:!0,resumo:{}};console.log(`[Migration]  Dados encontrados em ${n.length} colees:`,e);const r={};let s=0,o=0;for(const a of n){const l=await this.migrarCollection(a);r[a]=l,s+=l.migrados,o+=l.erros}return console.log("[Migration]  Resumo da migrao:",r),console.log(`[Migration]  Migrao concluda: ${s} itens migrados, ${o} erros`),{sucesso:o===0,resumo:r,totalMigrados:s,totalErros:o}}async limparLocalStorageAposMigracao(){console.log("[Migration]  Limpando dados do localStorage aps migrao...");let e=0;for(const[r,s]of Object.entries(this.localStorageKeys))localStorage.getItem(s)&&(localStorage.removeItem(s),e++,console.log(`[Migration]  Removido ${s}`));const n=["crm_usuario_logado","crm_email_salvo","crm_lembrar_email","crm_config_cache"];for(const r of n)localStorage.getItem(r)&&(localStorage.removeItem(r),e++,console.log(`[Migration]  Removido ${r}`));return console.log(`[Migration]  ${e} chaves removidas do localStorage`),e}async executarMigracaoCompleta(){try{console.log("[Migration]  Iniciando migrao completa...");const e=await this.checkLocalStorageData();if(Object.keys(e).length===0)return console.log("[Migration]  Nenhum dado para migrar"),{sucesso:!0,mensagem:"Nenhum dado encontrado para migrar"};const n=await this.migrarTudoParaFirebase();if(!n.sucesso)return console.log("[Migration]  Migrao concluda com erros"),{sucesso:!1,mensagem:`Migrao concluda com ${n.totalErros} erros`,detalhes:n.resumo};const r=await this.limparLocalStorageAposMigracao();return console.log("[Migration]  Migrao completa bem-sucedida!"),{sucesso:!0,mensagem:`Migrao completa! ${n.totalMigrados} itens migrados, ${r} chaves removidas do localStorage`,detalhes:{migrados:n.totalMigrados,removidos:r,resumo:n.resumo}}}catch(e){return console.error("[Migration]  Erro durante migrao completa:",e),{sucesso:!1,mensagem:`Erro durante migrao: ${e.message}`,erro:e}}}async verificarStatusMigracao(){const e=await this.checkLocalStorageData(),n=Object.keys(e).length>0;return{temDadosLocalStorage:n,dadosEncontrados:e,precisaMigrar:n}}}const ene=new Jte,tne=()=>{v.useContext(Nr);const{toast:t}=Tr(),[e,n]=v.useState(!1),[r,s]=v.useState({}),[o,a]=v.useState(0),[l,c]=v.useState("configuracoes"),[u,d]=v.useState(null);v.useState(!1);const{config:f,loading:p,saveConfig:m}=c1(),{config:y,loading:w,saveConfig:_}=l1(),{data:S,loading:g,saveUsuario:b,remove:N}=Vc(),{data:R,loading:L,save:C,remove:T}=dg(),{data:P,loading:A,save:k,remove:j}=Fc(),{data:I,loading:V,save:F,remove:W}=nh(),{data:$,loading:M,save:z,remove:Y}=rh(),{data:Q,loading:he,save:de,remove:xe}=sh(),{data:G,loading:ce,save:oe,remove:be}=oh(),{data:Ae,loading:U,save:re,remove:te}=a1();v.useEffect(()=>{(async()=>{try{const ye=await ene.verificarStatusMigracao();d(ye)}catch(ye){console.error("[TestesDev] Erro ao verificar status da migrao:",ye)}})()},[]);const Ie={configuracoes:{titulo:"Configuraes",icone:Si,cor:"blue",testes:[{id:"config-sistema",nome:"Configuraes do Sistema",descricao:"Testa carregamento e salvamento das configuraes principais",funcao:Ce},{id:"config-loja",nome:"Configuraes da Loja",descricao:"Testa configuraes da empresa para documentos impressos",funcao:Fe},{id:"config-persistencia",nome:"Persistncia de Dados",descricao:"Testa se as configuraes so salvas e carregadas corretamente",funcao:tt}]},firebase:{titulo:"Firebase",icone:_p,cor:"orange",testes:[{id:"firebase-conexao",nome:"Conexo Firebase",descricao:"Testa conectividade com o Firebase",funcao:lt},{id:"firebase-collections",nome:"Collections",descricao:"Testa acesso a todas as collections",funcao:bt},{id:"firebase-operacoes",nome:"Operaes CRUD",descricao:"Testa criao, leitura, atualizao e excluso",funcao:Lt}]},modulos:{titulo:"Mdulos",icone:lr,cor:"green",testes:[{id:"modulo-os",nome:"Ordens de Servio",descricao:"Testa funcionalidades do mdulo OS",funcao:xt},{id:"modulo-clientes",nome:"Clientes",descricao:"Testa funcionalidades do mdulo Clientes",funcao:gt},{id:"modulo-ov",nome:"Ordens de Venda",descricao:"Testa funcionalidades do mdulo OV",funcao:hr},{id:"modulo-estoque",nome:"Estoque",descricao:"Testa funcionalidades do mdulo Estoque",funcao:fr}]},responsividade:{titulo:"Responsividade",icone:Q9,cor:"purple",testes:[{id:"responsividade-layout",nome:"Layout Responsivo",descricao:"Testa adaptao em diferentes tamanhos de tela",funcao:ge},{id:"responsividade-componentes",nome:"Componentes",descricao:"Testa responsividade de componentes individuais",funcao:Pe}]},performance:{titulo:"Performance",icone:md,cor:"yellow",testes:[{id:"performance-carregamento",nome:"Tempo de Carregamento",descricao:"Mede tempo de carregamento das pginas",funcao:ht},{id:"performance-memoria",nome:"Uso de Memria",descricao:"Monitora uso de memria do sistema",funcao:St}]},integridade:{titulo:"Integridade",icone:ac,cor:"red",testes:[{id:"integridade-dados",nome:"Integridade dos Dados",descricao:"Verifica consistncia dos dados",funcao:qt},{id:"integridade-relacoes",nome:"Relaes entre Tabelas",descricao:"Testa relacionamentos entre entidades",funcao:Vn}]},dadosTeste:{titulo:"Dados de Teste",icone:RC,cor:"indigo",testes:[{id:"criar-todos-dados-teste",nome:"Criar TODOS os Dados de Teste",descricao:"Cadastra clientes, produtos, categorias, OS, OV, financeiro e movimentaes",funcao:zn},{id:"criar-produtos-categorias",nome:"Criar Produtos e Categorias",descricao:"Cadastra apenas produtos e categorias para o estoque",funcao:nr},{id:"forcar-atualizacao-hooks",nome:"Forar Atualizao dos Hooks",descricao:"Fora os hooks a recarregarem dados do Firebase",funcao:Wr},{id:"verificar-dados-firebase",nome:"Verificar Dados no Firebase",descricao:"Verifica se os dados esto realmente salvos no Firebase",funcao:jr},{id:"limpar-dados-teste",nome:"Limpar Dados de Teste",descricao:"Remove apenas os dados marcados como teste",funcao:jn}]}};async function Ce(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando configuraes do sistema..."),f?(O.detalhes.push(" Configuraes carregadas com sucesso"),O.detalhes.push(` Nome da empresa: ${f.nomeEmpresa||"N/A"}`),O.detalhes.push(` Tema: ${f.tema||"N/A"}`),O.detalhes.push(` Idioma: ${f.idioma||"N/A"}`)):(O.detalhes.push(" Configuraes no carregadas"),O.sucesso=!1)}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function Fe(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando configuraes da loja..."),y?(O.detalhes.push(" Configuraes da loja carregadas"),O.detalhes.push(` Nome: ${y.nomeEmpresa||"N/A"}`),O.detalhes.push(` Endereo: ${y.endereco||"N/A"}`),O.detalhes.push(` Telefone: ${y.telefone||"N/A"}`)):(O.detalhes.push(" Configuraes da loja no carregadas"),O.sucesso=!1)}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function tt(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando persistncia de configuraes..."),await m({nomeEmpresa:"Teste MultiSmart",tema:"dark",idioma:"pt-BR",testeDev:!0}),O.detalhes.push(" Configurao de teste salva"),f&&(await m(f),O.detalhes.push(" Configurao original restaurada"))}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function lt(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando conexo com Firebase...");const J={nome:"Teste Conexo",timestamp:new Date().toISOString(),isTeste:!0},Ee=await Je.saveData("test_connection",J);O.detalhes.push(` Documento de teste salvo (ID: ${Ee})`),await Je.deleteDocument("test_connection",Ee),O.detalhes.push(" Documento de teste removido")}catch(J){O.detalhes.push(` Erro de conexo: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function bt(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando acesso s collections...");const J=["clientes","produtos","categorias","ordens_servico","ordens_venda","financeiro"];for(const Ee of J)try{const pe=await Je.getData(Ee);O.detalhes.push(` ${Ee}: ${(pe==null?void 0:pe.length)||0} documentos`)}catch(pe){O.detalhes.push(` ${Ee}: ${pe.message}`),O.sucesso=!1}}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function Lt(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando operaes CRUD...");const J={nome:"Teste CRUD",descricao:"Documento de teste para operaes CRUD",isTeste:!0,createdAt:new Date().toISOString()},Ee=await Je.saveData("test_crud",J);O.detalhes.push(` CREATE: Documento criado (ID: ${Ee})`),(await Je.getData("test_crud")).find(B=>B.id===Ee)?O.detalhes.push(" READ: Documento encontrado"):(O.detalhes.push(" READ: Documento no encontrado"),O.sucesso=!1);const Ye={...J,nome:"Teste CRUD Atualizado"};await Je.saveData("test_crud",Ye,Ee),O.detalhes.push(" UPDATE: Documento atualizado"),await Je.deleteDocument("test_crud",Ee),O.detalhes.push(" DELETE: Documento removido")}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function xt(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando mdulo OS..."),R?O.detalhes.push(` Mdulo OS carregado: ${R.length} ordens`):(O.detalhes.push(" Mdulo OS no carregado"),O.sucesso=!1)}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function gt(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando mdulo Clientes..."),P?O.detalhes.push(` Mdulo Clientes carregado: ${P.length} clientes`):(O.detalhes.push(" Mdulo Clientes no carregado"),O.sucesso=!1)}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function hr(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando mdulo OV..."),I?O.detalhes.push(` Mdulo OV carregado: ${I.length} ordens`):(O.detalhes.push(" Mdulo OV no carregado"),O.sucesso=!1)}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function fr(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando mdulo Estoque..."),$&&Q?O.detalhes.push(` Mdulo Estoque carregado: ${$.length} produtos, ${Q.length} categorias`):(O.detalhes.push(" Mdulo Estoque no carregado"),O.sucesso=!1)}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function ge(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando responsividade do layout...");const J=window.innerWidth,Ee=window.innerHeight;O.detalhes.push(` Largura: ${J}px`),O.detalhes.push(` Altura: ${Ee}px`),J<768?O.detalhes.push(" Modo mobile detectado"):J<1024?O.detalhes.push(" Modo tablet detectado"):O.detalhes.push(" Modo desktop detectado")}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function Pe(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando responsividade dos componentes...");const J=document.querySelectorAll('[class*="sm:"], [class*="md:"], [class*="lg:"]');O.detalhes.push(` ${J.length} elementos responsivos encontrados`)}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function ht(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" Testando performance de carregamento...");const J=window.performance;if(J){const Ee=J.getEntriesByType("navigation")[0];Ee&&(O.detalhes.push(` Tempo de carregamento: ${Math.round(Ee.loadEventEnd-Ee.loadEventStart)}ms`),O.detalhes.push(` Tempo de DOM: ${Math.round(Ee.domContentLoadedEventEnd-Ee.domContentLoadedEventStart)}ms`))}}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function St(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{if(O.detalhes.push(" Testando uso de memria..."),performance.memory){const J=performance.memory;O.detalhes.push(` Memria usada: ${Math.round(J.usedJSHeapSize/1024/1024)}MB`),O.detalhes.push(` Memria total: ${Math.round(J.totalJSHeapSize/1024/1024)}MB`),O.detalhes.push(` Limite de memria: ${Math.round(J.jsHeapSizeLimit/1024/1024)}MB`)}else O.detalhes.push(" API de memria no disponvel")}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function qt(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{if(O.detalhes.push(" Testando integridade dos dados..."),$&&Q){const J=$.filter(Ee=>!Q.find(pe=>pe.nome===Ee.categoria));J.length>0?O.detalhes.push(` ${J.length} produtos sem categoria vlida`):O.detalhes.push(" Todos os produtos tm categorias vlidas")}}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function Vn(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{if(O.detalhes.push(" Testando integridade das relaes..."),I&&P&&$){const J=I.filter(pe=>!P.find(pt=>pt.id===pe.clienteId)),Ee=I.filter(pe=>!$.find(pt=>pt.id===pe.produtoId));J.length>0&&O.detalhes.push(` ${J.length} ordens sem cliente vlido`),Ee.length>0&&O.detalhes.push(` ${Ee.length} ordens sem produto vlido`),J.length===0&&Ee.length===0&&O.detalhes.push(" Todas as relaes esto ntegras")}}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function zn(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" CRIANDO TODOS OS DADOS DE TESTE..."),O.detalhes.push("====================================="),O.detalhes.push(" 1. Criando categorias...");const J=[{nome:"Smartphones",descricao:"Telefones celulares",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos",cor:"#10B981"},{nome:"Acessrios",descricao:"Acessrios mveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peas para reparo",cor:"#EF4444"}];let Ee=0;const pe={};for(const Ze of J)try{const qe={...Ze,isTeste:!0,createdAt:new Date().toISOString()},mt=await Je.saveData("categorias",qe);pe[Ze.nome]=mt,Ee++,O.detalhes.push(`   ${Ze.nome} (ID: ${mt})`)}catch(qe){O.detalhes.push(`   Erro ${Ze.nome}: ${qe.message}`)}O.detalhes.push(" 2. Criando produtos...");const pt=[{nome:"iPhone 14 Pro",categoriaId:pe.Smartphones,preco:8999.9,custo:6500,quantidade:15,estoqueMinimo:5,descricao:"iPhone 14 Pro 128GB",codigo:"IPH14P",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBob25lIDE0IFBybzwvdGV4dD4KPC9zdmc+Cjwvc3ZnPgo="},{nome:"Samsung Galaxy S23",categoriaId:pe.Smartphones,preco:3999.9,custo:2800,quantidade:20,estoqueMinimo:8,descricao:"Galaxy S23 256GB",codigo:"SGS23",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+U2Ftc3VuZyBHMjM8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"iPhone 13",categoriaId:pe.Smartphones,preco:5999.9,custo:4200,quantidade:12,estoqueMinimo:4,descricao:"iPhone 13 128GB",codigo:"IPH13",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBob25lIDEzPC90ZXh0Pgo8L3N2Zz4KPC9zdmc+Cg=="},{nome:"iPad Air",categoriaId:pe.Tablets,preco:4999.9,custo:3500,quantidade:10,estoqueMinimo:3,descricao:"iPad Air 64GB",codigo:"IPADAIR",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBhZCBBaXI8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Samsung Galaxy Tab S8",categoriaId:pe.Tablets,preco:3999.9,custo:2800,quantidade:8,estoqueMinimo:3,descricao:"Galaxy Tab S8 128GB",codigo:"SGTAB8",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSIzMCIgeT0iNTAiIHdpZHRoPSIxNDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSIzMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+U2Ftc3VuZyBUYWIgUzg8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Capa iPhone 14",categoriaId:pe.Acessrios,preco:199.9,custo:80,quantidade:50,estoqueMinimo:20,descricao:"Capa protetora iPhone 14",codigo:"CAPIPH14",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiM4MDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+Q2FwYSBpUGhvbmU8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Carregador USB-C",categoriaId:pe.Acessrios,preco:89.9,custo:35,quantidade:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CARUSB",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiM4MDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+Q2FycmVnYWRvciBVU0I8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Tela iPhone 13",categoriaId:pe.Reparos,preco:599.9,custo:200,quantidade:25,estoqueMinimo:10,descricao:"Tela iPhone 13",codigo:"TELIPH13",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiNGRjAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+VGVsYSBpUGhvbmU8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Bateria Samsung S22",categoriaId:pe.Reparos,preco:299.9,custo:120,quantidade:30,estoqueMinimo:15,descricao:"Bateria Galaxy S22",codigo:"BATSGS22",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiNGRjAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSIzMCIgeT0iNTAiIHdpZHRoPSIxNDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSIzMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+QmF0ZXJpYSBTYW1zdW5nPC90ZXh0Pgo8L3N2Zz4KPC9zdmc+Cg=="}];let Ye=0;for(const Ze of pt)try{const qe={...Ze,isTeste:!0,createdAt:new Date().toISOString()},mt=await Je.saveData("produtos",qe);Ye++,O.detalhes.push(`   ${Ze.nome} (ID: ${mt})`)}catch(qe){O.detalhes.push(`   Erro ${Ze.nome}: ${qe.message}`)}O.detalhes.push(" 3. Criando clientes...");const B=[{nome:"Joo Silva",email:"joao@email.com",telefone:"(11)99999-9999",endereco:"Rua A, 123"},{nome:"Maria Santos",email:"maria@email.com",telefone:"(11)88888-8888",endereco:"Rua B, 456"},{nome:"Pedro Costa",email:"pedro@email.com",telefone:"(11)77777-7777",endereco:"Rua C, 789"}];let ie=0;for(const Ze of B)try{const qe={...Ze,isTeste:!0,createdAt:new Date().toISOString()},mt=await Je.saveData("clientes",qe);ie++,O.detalhes.push(`   ${Ze.nome} (ID: ${mt})`)}catch(qe){O.detalhes.push(`   Erro ${Ze.nome}: ${qe.message}`)}O.detalhes.push(" 4. Criando Ordens de Servio...");const le=[{clienteNome:"Joo Silva",clienteTelefone:"(11)99999-9999",titulo:"Troca de tela iPhone 13",senha:"OS001",valor:599.9,status:"Pendente",observacoes:"Cliente relatou tela trincada"},{clienteNome:"Maria Santos",clienteTelefone:"(11)88888-8888",titulo:"Troca de bateria Samsung S22",senha:"OS002",valor:299.9,status:"Concluda",observacoes:"Bateria com baixa durao"},{clienteNome:"Pedro Costa",clienteTelefone:"(11)77777-7777",titulo:"Reparo de carregador",senha:"OS003",valor:89.9,status:"Em Andamento",observacoes:"Carregador no carrega"}];let we=0;for(const Ze of le)try{const qe={...Ze,isTeste:!0,createdAt:new Date().toISOString()},mt=await Je.saveData("ordens_servico",qe);we++,O.detalhes.push(`   ${Ze.titulo} (ID: ${mt})`)}catch(qe){O.detalhes.push(`   Erro OS: ${qe.message}`)}O.detalhes.push(" 5. Criando Ordens de Venda...");const kn=[{clienteNome:"Joo Silva",numero:"OV0001",produtos:[{nome:"iPhone 14 Pro",quantidade:1,precoUnitario:8999.9,total:8999.9}],total:8999.9,status:"Concluda",observacoes:"Venda de iPhone 14 Pro"},{clienteNome:"Maria Santos",numero:"OV0002",produtos:[{nome:"Capa iPhone 14",quantidade:2,precoUnitario:199.9,total:399.8}],total:399.8,status:"Pendente",observacoes:"Venda de capas iPhone 14"}];let q=0;for(const Ze of kn)try{const qe={...Ze,isTeste:!0,createdAt:new Date().toISOString()},mt=await Je.saveData("ordens_venda",qe);q++,O.detalhes.push(`   ${Ze.numero} - ${Ze.clienteNome} (ID: ${mt})`)}catch(qe){O.detalhes.push(`   Erro OV: ${qe.message}`)}O.detalhes.push(" 6. Criando Movimentaes Financeiras...");const Z=[{tipo:"receber",descricao:"Pagamento OS - Troca de tela",valor:599.9,status:"Pendente",dataVencimento:new Date(Date.now()+7*24*60*60*1e3).toISOString()},{tipo:"pagar",descricao:"Compra de peas",valor:1200,status:"Pendente",dataVencimento:new Date(Date.now()+15*24*60*60*1e3).toISOString()},{tipo:"receber",descricao:"Venda iPhone 14 Pro",valor:8999.9,status:"Concluda",dataVencimento:new Date().toISOString()}];let ke=0;for(const Ze of Z)try{const qe={...Ze,isTeste:!0,createdAt:new Date().toISOString()},mt=await Je.saveData("financeiro",qe);ke++,O.detalhes.push(`   ${Ze.descricao} (ID: ${mt})`)}catch(qe){O.detalhes.push(`   Erro Financeiro: ${qe.message}`)}O.detalhes.push(" 7. Criando Movimentaes de Estoque...");const Ct=[{produtoId:"produto1",produtoNome:"iPhone 14 Pro",tipo:"entrada",quantidade:5,observacao:"Entrada de estoque inicial"},{produtoId:"produto2",produtoNome:"Samsung Galaxy S23",tipo:"saida",quantidade:2,observacao:"Venda para cliente"},{produtoId:"produto3",produtoNome:"iPhone 13",tipo:"entrada",quantidade:3,observacao:"Reposio de estoque"}];let an=0;for(const Ze of Ct)try{const qe={...Ze,isTeste:!0,createdAt:new Date().toISOString()},mt=await Je.saveData("movimentacoes",qe);an++,O.detalhes.push(`   ${Ze.tipo} ${Ze.quantidade} ${Ze.produtoNome} (ID: ${mt})`)}catch(qe){O.detalhes.push(`   Erro Movimentao: ${qe.message}`)}O.detalhes.push("====================================="),O.detalhes.push(" RESUMO COMPLETO:"),O.detalhes.push(`   ${Ee} categorias`),O.detalhes.push(`   ${Ye} produtos`),O.detalhes.push(`   ${ie} clientes`),O.detalhes.push(`   ${we} ordens de servio`),O.detalhes.push(`   ${q} ordens de venda`),O.detalhes.push(`   ${ke} movimentaes financeiras`),O.detalhes.push(`   ${an} movimentaes de estoque`),O.detalhes.push(" Todos os dados marcados como teste")}catch(J){O.detalhes.push(` Erro geral: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function nr(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" CRIANDO APENAS PRODUTOS E CATEGORIAS..."),O.detalhes.push("=========================================="),O.detalhes.push(" Criando categorias...");const J=[{nome:"Smartphones",descricao:"Telefones celulares inteligentes",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos portteis",cor:"#10B981"},{nome:"Acessrios",descricao:"Acessrios para dispositivos mveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peas para reparo de dispositivos",cor:"#EF4444"}];let Ee=0;for(const Ye of J)try{const B={...Ye,isTeste:!0,createdAt:new Date().toISOString()},ie=await Je.saveData("categorias",B);Ee++,O.detalhes.push(`   ${Ye.nome} (ID: ${ie})`)}catch(B){O.detalhes.push(`   Erro ${Ye.nome}: ${B.message}`)}O.detalhes.push(" Criando produtos...");const pe=[{nome:"iPhone 14 Pro",categoria:"Smartphones",preco:8999.9,custo:6500,estoque:15,estoqueMinimo:5,descricao:"Smartphone Apple iPhone 14 Pro 128GB",codigo:"IPH14P-128"},{nome:"Samsung Galaxy S23",categoria:"Smartphones",preco:3999.9,custo:2800,estoque:20,estoqueMinimo:8,descricao:"Smartphone Samsung Galaxy S23 256GB",codigo:"SGS23-256"},{nome:"iPhone 13",categoria:"Smartphones",preco:5999.9,custo:4200,estoque:12,estoqueMinimo:4,descricao:"Smartphone Apple iPhone 13 128GB",codigo:"IPH13-128"},{nome:"Samsung Galaxy A54",categoria:"Smartphones",preco:1999.9,custo:1400,estoque:25,estoqueMinimo:10,descricao:"Smartphone Samsung Galaxy A54 128GB",codigo:"SGA54-128"},{nome:"Xiaomi Redmi Note 12",categoria:"Smartphones",preco:1299.9,custo:900,estoque:18,estoqueMinimo:6,descricao:"Smartphone Xiaomi Redmi Note 12 128GB",codigo:"XRN12-128"},{nome:"Motorola Edge 40",categoria:"Smartphones",preco:2499.9,custo:1750,estoque:8,estoqueMinimo:3,descricao:"Smartphone Motorola Edge 40 256GB",codigo:"ME40-256"},{nome:"iPad Air",categoria:"Tablets",preco:4999.9,custo:3500,estoque:10,estoqueMinimo:3,descricao:"Tablet Apple iPad Air 64GB",codigo:"IPAD-AIR-64"},{nome:'iPad Pro 11"',categoria:"Tablets",preco:6999.9,custo:4900,estoque:6,estoqueMinimo:2,descricao:'Tablet Apple iPad Pro 11" 128GB',codigo:"IPAD-PRO11-128"},{nome:"Samsung Galaxy Tab S8",categoria:"Tablets",preco:3999.9,custo:2800,estoque:8,estoqueMinimo:3,descricao:"Tablet Samsung Galaxy Tab S8 128GB",codigo:"SGT-S8-128"},{nome:'iPad 10.9"',categoria:"Tablets",preco:3999.9,custo:2800,estoque:12,estoqueMinimo:4,descricao:'Tablet Apple iPad 10.9" 64GB',codigo:"IPAD-109-64"},{nome:"Samsung Galaxy Tab A8",categoria:"Tablets",preco:1299.9,custo:900,estoque:15,estoqueMinimo:5,descricao:"Tablet Samsung Galaxy Tab A8 32GB",codigo:"SGT-A8-32"},{nome:"Lenovo Tab P11",categoria:"Tablets",preco:1999.9,custo:1400,estoque:9,estoqueMinimo:3,descricao:"Tablet Lenovo Tab P11 128GB",codigo:"LT-P11-128"},{nome:"Capa iPhone 14",categoria:"Acessrios",preco:199.9,custo:80,estoque:50,estoqueMinimo:20,descricao:"Capa protetora para iPhone 14",codigo:"CAP-IPH14"},{nome:"Carregador USB-C",categoria:"Acessrios",preco:89.9,custo:35,estoque:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CAR-USB20W"},{nome:"Fone Bluetooth AirPods",categoria:"Acessrios",preco:1299.9,custo:650,estoque:25,estoqueMinimo:8,descricao:"Fone Bluetooth Apple AirPods 3 gerao",codigo:"FB-AP3"},{nome:"Pelcula Vidro iPhone",categoria:"Acessrios",preco:49.9,custo:15,estoque:80,estoqueMinimo:25,descricao:"Pelcula de vidro temperado para iPhone",codigo:"PEL-IPH"},{nome:"Cabo Lightning",categoria:"Acessrios",preco:79.9,custo:25,estoque:60,estoqueMinimo:20,descricao:"Cabo Lightning 1m Apple",codigo:"CAB-LIGHT"},{nome:"Power Bank 10000mAh",categoria:"Acessrios",preco:199.9,custo:80,estoque:30,estoqueMinimo:10,descricao:"Power Bank 10000mAh com entrada USB-C",codigo:"PB-10K"},{nome:"Tela iPhone 13",categoria:"Reparos",preco:599.9,custo:200,estoque:25,estoqueMinimo:10,descricao:"Tela de reposio iPhone 13",codigo:"TEL-IPH13"},{nome:"Bateria Samsung S22",categoria:"Reparos",preco:299.9,custo:120,estoque:30,estoqueMinimo:15,descricao:"Bateria de reposio Galaxy S22",codigo:"BAT-SGS22"},{nome:"Tela Samsung A54",categoria:"Reparos",preco:399.9,custo:150,estoque:20,estoqueMinimo:8,descricao:"Tela de reposio Samsung Galaxy A54",codigo:"TEL-SGA54"},{nome:"Conector iPhone 14",categoria:"Reparos",preco:149.9,custo:60,estoque:35,estoqueMinimo:12,descricao:"Conector de carregamento iPhone 14",codigo:"CON-IPH14"},{nome:"Bateria iPhone 13",categoria:"Reparos",preco:249.9,custo:100,estoque:28,estoqueMinimo:10,descricao:"Bateria de reposio iPhone 13",codigo:"BAT-IPH13"},{nome:"Cmera Traseira Samsung",categoria:"Reparos",preco:199.9,custo:80,estoque:15,estoqueMinimo:5,descricao:"Cmera traseira Samsung Galaxy S23",codigo:"CAM-SGS23"}];let pt=0;for(const Ye of pe)try{const B={...Ye,isTeste:!0,createdAt:new Date().toISOString()},ie=await Je.saveData("produtos",B);pt++,O.detalhes.push(`   ${Ye.nome} (ID: ${ie})`)}catch(B){O.detalhes.push(`   Erro ${Ye.nome}: ${B.message}`)}O.detalhes.push("=========================================="),O.detalhes.push(` RESUMO: ${Ee} categorias, ${pt} produtos`),O.detalhes.push(" Todos os dados marcados como teste")}catch(J){O.detalhes.push(` Erro geral: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function Wr(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" FORANDO ATUALIZAO DOS HOOKS..."),O.detalhes.push("====================================="),O.detalhes.push(" Dados atuais dos hooks:"),O.detalhes.push(`   Categorias: ${(Q==null?void 0:Q.length)||0}`),O.detalhes.push(`   Produtos: ${($==null?void 0:$.length)||0}`),O.detalhes.push(`   Clientes: ${(P==null?void 0:P.length)||0}`),O.detalhes.push(`   OS: ${(R==null?void 0:R.length)||0}`),O.detalhes.push(`   OV: ${(I==null?void 0:I.length)||0}`),O.detalhes.push(`   Financeiro: ${(G==null?void 0:G.length)||0}`),O.detalhes.push(`   Movimentaes: ${(Ae==null?void 0:Ae.length)||0}`),O.detalhes.push(" Verificando dados direto do Firebase...");const J=await Je.getData("categorias"),Ee=await Je.getData("produtos"),pe=await Je.getData("clientes");O.detalhes.push(" Dados direto do Firebase:"),O.detalhes.push(`   Categorias: ${(J==null?void 0:J.length)||0}`),O.detalhes.push(`   Produtos: ${(Ee==null?void 0:Ee.length)||0}`),O.detalhes.push(`   Clientes: ${(pe==null?void 0:pe.length)||0}`),(Q==null?void 0:Q.length)!==(J==null?void 0:J.length)&&(O.detalhes.push(" DIFERENA: Categorias - Hook vs Firebase"),O.detalhes.push(`  Hook: ${(Q==null?void 0:Q.length)||0}, Firebase: ${(J==null?void 0:J.length)||0}`)),($==null?void 0:$.length)!==(Ee==null?void 0:Ee.length)&&(O.detalhes.push(" DIFERENA: Produtos - Hook vs Firebase"),O.detalhes.push(`  Hook: ${($==null?void 0:$.length)||0}, Firebase: ${(Ee==null?void 0:Ee.length)||0}`)),(P==null?void 0:P.length)!==(pe==null?void 0:pe.length)&&(O.detalhes.push(" DIFERENA: Clientes - Hook vs Firebase"),O.detalhes.push(`  Hook: ${(P==null?void 0:P.length)||0}, Firebase: ${(pe==null?void 0:pe.length)||0}`)),O.detalhes.push(" Verificao concluda")}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function jr(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" VERIFICANDO DADOS NO FIREBASE..."),O.detalhes.push("=====================================");const J=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const Ee of J)try{const pe=await Je.getData(Ee),pt=(pe==null?void 0:pe.filter(Ye=>Ye.isTeste))||[];O.detalhes.push(` ${Ee.toUpperCase()}:`),O.detalhes.push(`  Total: ${(pe==null?void 0:pe.length)||0}`),O.detalhes.push(`  Teste: ${pt.length}`),pt.length>0&&(O.detalhes.push("  Exemplos:"),pt.slice(0,3).forEach((Ye,B)=>{O.detalhes.push(`    ${B+1}. ${Ye.nome||Ye.tipo||"Item"} (ID: ${Ye.id})`)}))}catch(pe){O.detalhes.push(` Erro ao verificar ${Ee}: ${pe.message}`)}O.detalhes.push(" Verificao concluda")}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}async function jn(){const O={sucesso:!0,detalhes:[],tempo:0},ye=Date.now();try{O.detalhes.push(" LIMPANDO DADOS DE TESTE..."),O.detalhes.push("=====================================");const J=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const Ee of J)try{const pe=await Je.getData(Ee),pt=(pe==null?void 0:pe.filter(Ye=>Ye.isTeste))||[];O.detalhes.push(` ${Ee.toUpperCase()}: ${pt.length} itens de teste`);for(const Ye of pt)try{await Je.deleteDocument(Ee,Ye.id),O.detalhes.push(`   Removido: ${Ye.nome||Ye.tipo||"Item"} (ID: ${Ye.id})`)}catch(B){O.detalhes.push(`   Erro ao remover ${Ye.id}: ${B.message}`)}}catch(pe){O.detalhes.push(` Erro ao limpar ${Ee}: ${pe.message}`)}O.detalhes.push(" Limpeza concluda")}catch(J){O.detalhes.push(` Erro: ${J.message}`),O.sucesso=!1}return O.tempo=Date.now()-ye,O}const kr=async O=>{n(!0),a(0);const ye=Ie[O];if(!ye)return;const J=ye.testes,Ee=J.length;for(let pe=0;pe<Ee;pe++){const pt=J[pe];a(pe/Ee*100);try{const Ye=await pt.funcao();s(B=>({...B,[pt.id]:Ye}))}catch(Ye){s(B=>({...B,[pt.id]:{sucesso:!1,detalhes:[` Erro: ${Ye.message}`],tempo:0}}))}}a(100),n(!1)},rr=async O=>{n(!0);try{const ye=await O.funcao();s(J=>({...J,[O.id]:ye}))}catch(ye){s(J=>({...J,[O.id]:{sucesso:!1,detalhes:[` Erro: ${ye.message}`],tempo:0}}))}n(!1)},Yt=()=>{s({}),a(0)},Un=()=>{const O={timestamp:new Date().toISOString(),sistema:{nome:"CRM MultiSmart",versao:"1.0.0",ambiente:"desenvolvimento"},resumo:{totalTestes:Object.keys(r).length,testesPassaram:Object.values(r).filter(pe=>pe.sucesso).length,testesFalharam:Object.values(r).filter(pe=>!pe.sucesso).length,tempoTotal:Object.values(r).reduce((pe,pt)=>pe+(pt.tempo||0),0)},categorias:Ie,resultados:r,configuracaoSistema:{configuracoesFirebase:f,configLoja:y,usuarios:(S==null?void 0:S.length)||0,ordensServico:(R==null?void 0:R.length)||0,clientes:(P==null?void 0:P.length)||0,ordensVenda:(I==null?void 0:I.length)||0,produtos:($==null?void 0:$.length)||0,categorias:(Q==null?void 0:Q.length)||0},statusCarregamento:{configLoading:p,configLojaLoading:w,usuariosLoading:g,osLoading:L,clientesLoading:A,ovLoading:V,produtosLoading:M,categoriasLoading:he}},ye=new Blob([JSON.stringify(O,null,2)],{type:"application/json"}),J=URL.createObjectURL(ye),Ee=document.createElement("a");Ee.href=J,Ee.download=`testes-dev-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(J),t({title:"Logs exportados",description:"Arquivo de logs baixado com sucesso"})};return i.jsxs("div",{className:"space-y-8",children:[i.jsx(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[i.jsx(RC,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Testes DEV"]}),i.jsx("p",{className:"text-purple-100 text-base lg:text-lg",children:"Ferramentas de desenvolvimento e teste do sistema"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-purple-100",children:"Status"}),i.jsx("p",{className:"text-xl font-bold text-green-200",children:e?"Executando...":"Pronto"})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-purple-100",children:"Testes"}),i.jsx("p",{className:"text-xl font-bold",children:Object.keys(r).length})]})]})]})}),i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-pink-500 rounded-lg",children:i.jsx(md,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Aes Rpidas"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Execute testes e gerencie resultados"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs(X,{variant:"outline",onClick:Yt,disabled:e,className:"flex items-center gap-2",children:[i.jsx(mP,{className:"h-4 w-4"}),"Limpar Resultados"]}),i.jsxs(X,{variant:"outline",onClick:Un,disabled:e,className:"flex items-center gap-2",children:[i.jsx(_p,{className:"h-4 w-4"}),"Exportar Logs"]})]})})]}),i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs(Ba,{value:l,onValueChange:c,className:"w-full",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-600",children:i.jsx(Mi,{className:"grid w-full grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-2 h-auto p-1",children:Object.entries(Ie).map(([O,ye])=>{const J=ye.icone;return i.jsxs(fn,{value:O,className:"flex flex-col items-center gap-2 p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[i.jsx(J,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:ye.titulo})]},O)})})}),Object.entries(Ie).map(([O,ye])=>i.jsxs(pn,{value:O,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg",children:i.jsx(ye.icone,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:ye.titulo}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[ye.testes.length," testes disponveis"]})]})]}),i.jsxs(X,{onClick:()=>kr(O),disabled:e,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[i.jsx(AC,{className:"h-4 w-4 mr-2"}),"Executar Todos"]})]}),i.jsx("div",{className:"grid gap-4",children:ye.testes.map((J,Ee)=>i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ee*.1},className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:J.nome}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:J.descricao}),r[J.id]&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(es,{variant:r[J.id].sucesso?"default":"destructive",className:"text-xs",children:r[J.id].sucesso?" PASSOU":" FALHOU"}),i.jsxs("span",{className:"text-xs text-slate-500",children:[r[J.id].tempo,"ms"]})]})]}),i.jsxs(X,{size:"sm",variant:"outline",onClick:()=>rr(J),disabled:e,className:"ml-4",children:[i.jsx(AC,{className:"h-4 w-4 mr-2"}),"Executar"]})]})},J.id))})]},O))]})}),e&&i.jsx(_e.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Executando Testes..."}),i.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[Math.round(o),"%"]})]}),i.jsx(A4,{value:o,className:"w-full h-3"})]})}),Object.keys(r).length>0&&i.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:i.jsx(oc,{className:"h-6 w-6 text-white"})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Resultados dos Testes"})]}),i.jsx("div",{className:"grid gap-4",children:Object.entries(r).map(([O,ye])=>i.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[ye.sucesso?i.jsx(oc,{className:"h-6 w-6 text-green-500"}):i.jsx(sz,{className:"h-6 w-6 text-red-500"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:O})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(es,{variant:ye.sucesso?"default":"destructive",children:ye.sucesso?" PASSOU":" FALHOU"}),i.jsxs("span",{className:"text-sm text-slate-500",children:[ye.tempo,"ms"]})]})]}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4",children:i.jsx("div",{className:"space-y-2",children:ye.detalhes.map((J,Ee)=>i.jsx("div",{className:"text-sm font-mono text-slate-700 dark:text-slate-300",children:J},Ee))})})]})},O))})]})]})},Nr=v.createContext();function nne(){var $;const[t,e]=v.useState("dashboard"),[n,r]=v.useState(!0),[s,o]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState("pt-BR"),[d,f]=v.useState({clientes:!1,os:!1,ov:!1}),[p,m]=v.useState(null),[y,w]=v.useState(null),{config:_,loading:S,saveConfig:g}=c1(),b=_||{nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"},N=M=>f(z=>({...z,[M]:!0})),R=M=>f(z=>({...z,[M]:!1})),L=M=>{w(M)},C=()=>{w(null)};v.useEffect(()=>{console.log("[App] Carregando configuraes iniciais...");const M=localStorage.getItem("crm_usuario_logado");M&&(m(JSON.parse(M)),console.log("[App] Usurio logado carregado:",JSON.parse(M)))},[]),v.useEffect(()=>{b&&!S&&(console.log("[App] Configuraes carregadas do Firebase:",b),u(b.idioma||"pt-BR"),A(b))},[b,S]);const T=M=>{console.log("[App] handleLogin chamado com usurio:",M),m(M),localStorage.setItem("crm_usuario_logado",JSON.stringify(M)),console.log("[App] Login realizado e estado atualizado:",M)},P=()=>{console.log("[App] Logout realizado:",p),m(null),localStorage.removeItem("crm_usuario_logado"),e("dashboard")};v.useEffect(()=>{const M=z=>{const Y=z.detail;console.log("[App]  Evento configuracoesAtualizadas recebido:",Y),Y.idioma&&(u(Y.idioma),console.log("[App]  Idioma atualizado:",Y.idioma)),A(Y)};return window.addEventListener("configuracoesAtualizadas",M),console.log("[App]  Listener configuracoesAtualizadas registrado"),()=>{window.removeEventListener("configuracoesAtualizadas",M),console.log("[App]  Listener configuracoesAtualizadas removido")}},[]);const A=M=>{if(console.log("[App] Aplicando configuraes:",M),M.tema){const z=M.tema==="dark";r(z),document.documentElement.className=M.tema==="dark"?"dark":M.tema==="light"?"":"system",console.log("[App] Tema aplicado:",M.tema)}if(M.corPrimaria&&(document.documentElement.style.setProperty("--primary-color",M.corPrimaria),document.documentElement.style.setProperty("--primary-500",M.corPrimaria),document.documentElement.style.setProperty("--primary-600",k(M.corPrimaria,-20)),console.log("[App] Cor primria aplicada:",M.corPrimaria)),M.corSecundaria&&(document.documentElement.style.setProperty("--secondary-color",M.corSecundaria),document.documentElement.style.setProperty("--secondary-500",M.corSecundaria),document.documentElement.style.setProperty("--secondary-600",k(M.corSecundaria,-20)),console.log("[App] Cor secundria aplicada:",M.corSecundaria)),M.logoUrl){const z=document.querySelector('img[alt="Logo da empresa"]');z?z.src=M.logoUrl:console.warn("[App] Elemento de logo no encontrado no DOM.")}if(M.nomeEmpresa){document.title=M.nomeEmpresa;const z=document.querySelector("h1.text-xl");z?z.textContent=M.nomeEmpresa:console.warn("[App] Elemento de nome da empresa no encontrado no DOM.")}},k=(M,z)=>{const Y=parseInt(M.replace("#",""),16),Q=Math.round(2.55*z),he=(Y>>16)+Q,de=(Y>>8&255)+Q,xe=(Y&255)+Q;return"#"+(16777216+(he<255?he<1?0:he:255)*65536+(de<255?de<1?0:de:255)*256+(xe<255?xe<1?0:xe:255)).toString(16).slice(1)};v.useEffect(()=>{const M=()=>{window.innerWidth<1024?(l(!0),o(!1),console.log("[App] Sidebar recolhida por responsividade (window < 1024px)")):(o(!0),console.log("[App] Sidebar expandida por responsividade (window >= 1024px)"))};return M(),window.addEventListener("resize",M),console.log("[App] Listener de resize registrado"),()=>window.removeEventListener("resize",M)},[]);const I=(M=>{console.log("[App] ===== DETERMINANDO MDULOS ====="),console.log("[App] Tipo do usurio recebido:",M);const z=[{id:"dashboard",name:"nav.dashboard",icon:H9},{id:"clientes",name:"nav.clientes",icon:_s},{id:"os",name:"nav.os",icon:Fr},{id:"ov",name:"nav.ov",icon:gs},{id:"estoque",name:"nav.estoque",icon:lr},{id:"financeiro",name:"nav.financeiro",icon:Rn},{id:"relatorios",name:"nav.relatorios",icon:M9},{id:"configuracoes",name:"nav.configuracoes",icon:Si}];M==="desenvolvedor"&&(console.log("[App]  USURIO DESENVOLVEDOR DETECTADO - Adicionando Testes DEV"),z.push({id:"testes-dev",name:" Testes DEV",icon:Si}));const Y=M==="administrador"?"admin":M||"comum";console.log("[App] Tipo de usurio processado:",Y);const Q=Y==="admin"||Y==="desenvolvedor"?z:Y==="financeiro"?z.filter(he=>["dashboard","clientes","os","ov","estoque","financeiro","configuracoes"].includes(he.id)):Y==="comum"?z.filter(he=>["dashboard","clientes","os","ov","estoque","configuracoes"].includes(he.id)):z.filter(he=>he.id==="dashboard");return console.log("[App] Mdulos permitidos para tipo",Y,":",Q.map(he=>he.id)),console.log("[App] ===== FIM DETERMINAO MDULOS ====="),Q})(p==null?void 0:p.tipo),V=()=>{switch(console.log("[App] Renderizando mdulo ativo:",t),t){case"dashboard":return i.jsx(xN,{usuarioLogado:p});case"clientes":return i.jsx(uX,{usuarioLogado:p});case"os":return i.jsx(dX,{usuarioLogado:p});case"ov":return i.jsx(hX,{usuarioLogado:p});case"estoque":return i.jsx(hZ,{usuarioLogado:p});case"financeiro":return i.jsx(fZ,{usuarioLogado:p});case"relatorios":return i.jsx(Vte,{usuarioLogado:p});case"configuracoes":return i.jsx(qte,{usuarioLogado:p});case"testes-dev":return i.jsx(tne,{});default:return i.jsx(xN,{usuarioLogado:p})}},F=()=>{const M=b.nomeEmpresa||"Sistema",z=b.logoUrl;return i.jsxs("div",{className:"flex items-center gap-3",children:[z?i.jsx("img",{src:z,alt:"Logo da empresa",className:"h-14 w-14 rounded object-contain shadow-lg"}):i.jsx("div",{className:"h-14 w-14 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-white font-bold text-2xl",children:M.charAt(0).toUpperCase()})}),i.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:M})]})},W=()=>{const M=b.nomeEmpresa||"Sistema",z=b.logoUrl;return i.jsx("div",{className:"flex flex-col items-center gap-2",children:z?i.jsx("img",{src:z,alt:"Logo da empresa",className:"h-8 w-8 rounded object-contain"}):i.jsx("div",{className:"h-8 w-8 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-sm",children:M.charAt(0).toUpperCase()})})})};return p?(console.log("[App] Usurio logado, mostrando dashboard:",p),console.log("[App] Tipo do usurio:",p==null?void 0:p.tipo),console.log("[App] Mdulos disponveis:",I),S&&!b?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Carregando..."})]})}):i.jsxs(Nr.Provider,{value:{activeModule:t,setActiveModule:e,darkMode:n,setDarkMode:r,sidebarOpen:s,setSidebarOpen:o,sidebarCollapsed:a,setSidebarCollapsed:l,configuracoes:b,currentLanguage:c,setCurrentLanguage:u,dialogs:d,openDialog:N,closeDialog:R,usuarioLogado:p,produtoParaReporEstoque:y,definirProdutoParaReporEstoque:L,limparProdutoParaReporEstoque:C},children:[i.jsxs(i.Fragment,{children:[i.jsx(nx,{children:i.jsx("title",{children:b.nomeEmpresa||"CRM Multismart"})}),i.jsxs("div",{className:"min-h-screen flex bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-50 transition-colors duration-300",children:[i.jsx("button",{onClick:()=>o(!s),className:"fixed top-4 left-4 z-50 lg:hidden p-2 rounded-md bg-white dark:bg-slate-800 shadow-lg border border-slate-200 dark:border-slate-700",children:i.jsx(G9,{className:"h-6 w-6"})}),s&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>o(!1)}),i.jsx("aside",{className:`fixed left-0 top-0 h-full bg-white/90 dark:bg-slate-950/90 backdrop-blur-lg border-r border-slate-200 dark:border-slate-800 z-40 ${a?"w-20":"w-72"} transition-all duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:`p-6 flex items-center mb-8 ${a?"justify-center":"justify-between"}`,children:a?W():F()}),i.jsx("nav",{className:"flex-1 space-y-2 px-4",children:I.map(M=>{const z=M.icon;return i.jsxs("button",{onClick:()=>{e(M.id),window.innerWidth<1024&&o(!1)},className:`w-full flex items-center space-x-3 py-3 rounded-lg text-left transition-all duration-200 ${a?"justify-center px-0":"px-4"} ${t===M.id?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[i.jsx(z,{className:"h-5 w-5 flex-shrink-0"}),!a&&i.jsx("span",{className:"font-medium whitespace-nowrap overflow-hidden",children:Te(M.name,c)})]},M.id)})}),p&&i.jsxs("div",{className:`flex items-center gap-3 mb-4 px-4 w-full ${a?"justify-center":""}`,style:{minHeight:"56px"},children:[p.foto?i.jsx("img",{src:p.foto,alt:p.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-md"}):i.jsx("span",{className:"inline-block h-10 w-10 rounded-full bg-slate-300 dark:bg-slate-700 text-slate-700 dark:text-slate-200 flex items-center justify-center font-bold",children:($=p.nome)==null?void 0:$.charAt(0).toUpperCase()}),!a&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm",children:p.nome}),i.jsx(X,{variant:"ghost",size:"icon",onClick:async()=>{const M=n?"light":"dark";r(!n);const z={...b,tema:M};A(z),console.log("[App] Tema alterado via boto:",M)},className:"hover:bg-slate-100 dark:hover:bg-slate-800 ml-1",children:n?i.jsx(Z9,{className:"h-5 w-5"}):i.jsx(X9,{className:"h-5 w-5"})}),i.jsx(X,{size:"sm",variant:"outline",className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-3 py-1 rounded-lg shadow-md transition-colors ml-auto",onClick:P,children:"Sair"})]})]}),i.jsx("div",{className:"hidden lg:flex p-4 border-t border-slate-200 dark:border-slate-800",children:i.jsx(X,{variant:"ghost",onClick:()=>l(!a),className:"w-full",children:i.jsx(dP,{className:"h-5 w-5",style:{transform:a?"rotate(180deg)":"none",transition:"transform 0.3s"}})})})]})}),i.jsx("main",{className:`flex-1 transition-all duration-300 ${a?"ml-20":"ml-72"} p-4 lg:p-6 pt-16 lg:pt-12`,children:V()})]})]}),i.jsx(AU,{})]})):(console.log("[App] Usurio no logado, mostrando tela de login"),i.jsx(Wte,{onLogin:T}))}i0.createRoot(document.getElementById("root")).render(i.jsx(Le.StrictMode,{children:i.jsx(nne,{})}));
