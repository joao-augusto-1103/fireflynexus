function YM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ka(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function QM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var wN={exports:{}},em={},bN={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=Symbol.for("react.element"),XM=Symbol.for("react.portal"),JM=Symbol.for("react.fragment"),ZM=Symbol.for("react.strict_mode"),e4=Symbol.for("react.profiler"),t4=Symbol.for("react.provider"),n4=Symbol.for("react.context"),r4=Symbol.for("react.forward_ref"),s4=Symbol.for("react.suspense"),o4=Symbol.for("react.memo"),i4=Symbol.for("react.lazy"),i_=Symbol.iterator;function a4(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var _N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SN=Object.assign,EN={};function xc(t,e,n){this.props=t,this.context=e,this.refs=EN,this.updater=n||_N}xc.prototype.isReactComponent={};xc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CN(){}CN.prototype=xc.prototype;function mx(t,e,n){this.props=t,this.context=e,this.refs=EN,this.updater=n||_N}var gx=mx.prototype=new CN;gx.constructor=mx;SN(gx,xc.prototype);gx.isPureReactComponent=!0;var a_=Array.isArray,TN=Object.prototype.hasOwnProperty,vx={current:null},NN={key:!0,ref:!0,__self:!0,__source:!0};function kN(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)TN.call(e,r)&&!NN.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:kd,type:t,key:o,ref:i,props:s,_owner:vx.current}}function l4(t,e){return{$$typeof:kd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yx(t){return typeof t=="object"&&t!==null&&t.$$typeof===kd}function c4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var l_=/\/+/g;function Ng(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c4(""+t.key):e.toString(36)}function of(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case kd:case XM:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+Ng(i,0):r,a_(s)?(n="",t!=null&&(n=t.replace(l_,"$&/")+"/"),of(s,e,n,"",function(u){return u})):s!=null&&(yx(s)&&(s=l4(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(l_,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",a_(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+Ng(o,l);i+=of(o,e,n,c,s)}else if(c=a4(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+Ng(o,l++),i+=of(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function mh(t,e,n){if(t==null)return t;var r=[],s=0;return of(t,r,"","",function(o){return e.call(n,o,s++)}),r}function u4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},af={transition:null},d4={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:af,ReactCurrentOwner:vx};function jN(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:mh,forEach:function(t,e,n){mh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mh(t,function(){e++}),e},toArray:function(t){return mh(t,function(e){return e})||[]},only:function(t){if(!yx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qe.Component=xc;Qe.Fragment=JM;Qe.Profiler=e4;Qe.PureComponent=mx;Qe.StrictMode=ZM;Qe.Suspense=s4;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d4;Qe.act=jN;Qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SN({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=vx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)TN.call(e,c)&&!NN.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:kd,type:t.type,key:s,ref:o,props:r,_owner:i}};Qe.createContext=function(t){return t={$$typeof:n4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t4,_context:t},t.Consumer=t};Qe.createElement=kN;Qe.createFactory=function(t){var e=kN.bind(null,t);return e.type=t,e};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(t){return{$$typeof:r4,render:t}};Qe.isValidElement=yx;Qe.lazy=function(t){return{$$typeof:i4,_payload:{_status:-1,_result:t},_init:u4}};Qe.memo=function(t,e){return{$$typeof:o4,type:t,compare:e===void 0?null:e}};Qe.startTransition=function(t){var e=af.transition;af.transition={};try{t()}finally{af.transition=e}};Qe.unstable_act=jN;Qe.useCallback=function(t,e){return er.current.useCallback(t,e)};Qe.useContext=function(t){return er.current.useContext(t)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(t){return er.current.useDeferredValue(t)};Qe.useEffect=function(t,e){return er.current.useEffect(t,e)};Qe.useId=function(){return er.current.useId()};Qe.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};Qe.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};Qe.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};Qe.useMemo=function(t,e){return er.current.useMemo(t,e)};Qe.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};Qe.useRef=function(t){return er.current.useRef(t)};Qe.useState=function(t){return er.current.useState(t)};Qe.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};Qe.useTransition=function(){return er.current.useTransition()};Qe.version="18.3.1";bN.exports=Qe;var g=bN.exports;const Pe=Ka(g),PN=YM({__proto__:null,default:Pe},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h4=g,f4=Symbol.for("react.element"),p4=Symbol.for("react.fragment"),m4=Object.prototype.hasOwnProperty,g4=h4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v4={key:!0,ref:!0,__self:!0,__source:!0};function AN(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)m4.call(e,r)&&!v4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:f4,type:t,key:o,ref:i,props:s,_owner:g4.current}}em.Fragment=p4;em.jsx=AN;em.jsxs=AN;wN.exports=em;var a=wN.exports,r0={},IN={exports:{}},Or={},RN={exports:{}},DN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var G=M.length;M.push(V);e:for(;0<G;){var K=G-1>>>1,le=M[K];if(0<s(le,V))M[K]=V,M[G]=le,G=K;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var V=M[0],G=M.pop();if(G!==V){M[0]=G;e:for(var K=0,le=M.length,ce=le>>>1;K<ce;){var me=2*(K+1)-1,Ue=M[me],Ae=me+1,ue=M[Ae];if(0>s(Ue,G))Ae<le&&0>s(ue,Ue)?(M[K]=ue,M[Ae]=G,K=Ae):(M[K]=Ue,M[me]=G,K=me);else if(Ae<le&&0>s(ue,G))M[K]=ue,M[Ae]=G,K=Ae;else break e}}return V}function s(M,V){var G=M.sortIndex-V.sortIndex;return G!==0?G:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,m=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=M)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function j(M){if(x=!1,b(M),!y)if(n(c)!==null)y=!0,B(R);else{var V=n(u);V!==null&&$(j,V.startTime-M)}}function R(M,V){y=!1,x&&(x=!1,_(T),T=-1),m=!0;var G=p;try{for(b(V),f=n(c);f!==null&&(!(f.expirationTime>V)||M&&!k());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var le=K(f.expirationTime<=V);V=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(c)&&r(c),b(V)}else r(c);f=n(c)}if(f!==null)var ce=!0;else{var me=n(u);me!==null&&$(j,me.startTime-V),ce=!1}return ce}finally{f=null,p=G,m=!1}}var F=!1,E=null,T=-1,A=5,I=-1;function k(){return!(t.unstable_now()-I<A)}function N(){if(E!==null){var M=t.unstable_now();I=M;var V=!0;try{V=E(!0,M)}finally{V?P():(F=!1,E=null)}}else F=!1}var P;if(typeof v=="function")P=function(){v(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,L=D.port2;D.port1.onmessage=N,P=function(){L.postMessage(null)}}else P=function(){S(N,0)};function B(M){E=M,F||(F=!0,P())}function $(M,V){T=S(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,B(R))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return M()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=p;p=M;try{return V()}finally{p=G}},t.unstable_scheduleCallback=function(M,V,G){var K=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,M){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=G+le,M={id:d++,callback:V,priorityLevel:M,startTime:G,expirationTime:le,sortIndex:-1},G>K?(M.sortIndex=G,e(u,M),n(c)===null&&M===n(u)&&(x?(_(T),T=-1):x=!0,$(j,G-K))):(M.sortIndex=le,e(c,M),y||m||(y=!0,B(R))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var V=p;return function(){var G=p;p=V;try{return M.apply(this,arguments)}finally{p=G}}}})(DN);RN.exports=DN;var y4=RN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4=g,Rr=y4;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ON=new Set,qu={};function Ya(t,e){Ql(t,e),Ql(t+"Capture",e)}function Ql(t,e){for(qu[t]=e,t=0;t<e.length;t++)ON.add(e[t])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s0=Object.prototype.hasOwnProperty,w4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c_={},u_={};function b4(t){return s0.call(u_,t)?!0:s0.call(c_,t)?!1:w4.test(t)?u_[t]=!0:(c_[t]=!0,!1)}function _4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S4(t,e,n,r){if(e===null||typeof e>"u"||_4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jn[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var xx=/[\-:]([a-z])/g;function wx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xx,wx);jn[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xx,wx);jn[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xx,wx);jn[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function bx(t,e,n,r){var s=jn.hasOwnProperty(e)?jn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S4(e,n,s,r)&&(n=null),r||s===null?b4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oo=x4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gh=Symbol.for("react.element"),yl=Symbol.for("react.portal"),xl=Symbol.for("react.fragment"),_x=Symbol.for("react.strict_mode"),o0=Symbol.for("react.profiler"),MN=Symbol.for("react.provider"),LN=Symbol.for("react.context"),Sx=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),a0=Symbol.for("react.suspense_list"),Ex=Symbol.for("react.memo"),Xo=Symbol.for("react.lazy"),FN=Symbol.for("react.offscreen"),d_=Symbol.iterator;function Yc(t){return t===null||typeof t!="object"?null:(t=d_&&t[d_]||t["@@iterator"],typeof t=="function"?t:null)}var Lt=Object.assign,kg;function hu(t){if(kg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kg=e&&e[1]||""}return`
`+kg+t}var jg=!1;function Pg(t,e){if(!t||jg)return"";jg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{jg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hu(t):""}function E4(t){switch(t.tag){case 5:return hu(t.type);case 16:return hu("Lazy");case 13:return hu("Suspense");case 19:return hu("SuspenseList");case 0:case 2:case 15:return t=Pg(t.type,!1),t;case 11:return t=Pg(t.type.render,!1),t;case 1:return t=Pg(t.type,!0),t;default:return""}}function l0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xl:return"Fragment";case yl:return"Portal";case o0:return"Profiler";case _x:return"StrictMode";case i0:return"Suspense";case a0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LN:return(t.displayName||"Context")+".Consumer";case MN:return(t._context.displayName||"Context")+".Provider";case Sx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ex:return e=t.displayName||null,e!==null?e:l0(t.type)||"Memo";case Xo:e=t._payload,t=t._init;try{return l0(t(e))}catch{}}return null}function C4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l0(e);case 8:return e===_x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T4(t){var e=VN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=T4(t))}function zN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function c0(t,e){var n=e.checked;return Lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function h_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UN(t,e){e=e.checked,e!=null&&bx(t,"checked",e,!1)}function u0(t,e){UN(t,e);var n=Ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?d0(t,e.type,n):e.hasOwnProperty("defaultValue")&&d0(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function d0(t,e,n){(e!=="number"||Ff(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fu=Array.isArray;function Ml(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function h0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function p_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(fu(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function BN(t,e){var n=Ci(e.value),r=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $N(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function f0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$N(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yh,qN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yh=yh||document.createElement("div"),yh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N4=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(t){N4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eu[e]=Eu[t]})});function WN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Eu.hasOwnProperty(t)&&Eu[t]?(""+e).trim():e+"px"}function HN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=WN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var k4=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function p0(t,e){if(e){if(k4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function m0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g0=null;function Cx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var v0=null,Ll=null,Fl=null;function g_(t){if(t=Ad(t)){if(typeof v0!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=om(e),v0(t.stateNode,t.type,e))}}function GN(t){Ll?Fl?Fl.push(t):Fl=[t]:Ll=t}function KN(){if(Ll){var t=Ll,e=Fl;if(Fl=Ll=null,g_(t),e)for(t=0;t<e.length;t++)g_(e[t])}}function YN(t,e){return t(e)}function QN(){}var Ag=!1;function XN(t,e,n){if(Ag)return t(e,n);Ag=!0;try{return YN(t,e,n)}finally{Ag=!1,(Ll!==null||Fl!==null)&&(QN(),KN())}}function Hu(t,e){var n=t.stateNode;if(n===null)return null;var r=om(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var y0=!1;if(So)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){y0=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{y0=!1}function j4(t,e,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Cu=!1,Vf=null,zf=!1,x0=null,P4={onError:function(t){Cu=!0,Vf=t}};function A4(t,e,n,r,s,o,i,l,c){Cu=!1,Vf=null,j4.apply(P4,arguments)}function I4(t,e,n,r,s,o,i,l,c){if(A4.apply(this,arguments),Cu){if(Cu){var u=Vf;Cu=!1,Vf=null}else throw Error(ie(198));zf||(zf=!0,x0=u)}}function Qa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function JN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v_(t){if(Qa(t)!==t)throw Error(ie(188))}function R4(t){var e=t.alternate;if(!e){if(e=Qa(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return v_(s),t;if(o===r)return v_(s),e;o=o.sibling}throw Error(ie(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function ZN(t){return t=R4(t),t!==null?ek(t):null}function ek(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ek(t);if(e!==null)return e;t=t.sibling}return null}var tk=Rr.unstable_scheduleCallback,y_=Rr.unstable_cancelCallback,D4=Rr.unstable_shouldYield,O4=Rr.unstable_requestPaint,Kt=Rr.unstable_now,M4=Rr.unstable_getCurrentPriorityLevel,Tx=Rr.unstable_ImmediatePriority,nk=Rr.unstable_UserBlockingPriority,Uf=Rr.unstable_NormalPriority,L4=Rr.unstable_LowPriority,rk=Rr.unstable_IdlePriority,tm=null,Ls=null;function F4(t){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(tm,t,void 0,(t.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:U4,V4=Math.log,z4=Math.LN2;function U4(t){return t>>>=0,t===0?32:31-(V4(t)/z4|0)|0}var xh=64,wh=4194304;function pu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=pu(l):(o&=i,o!==0&&(r=pu(o)))}else i=n&~s,i!==0?r=pu(i):o!==0&&(r=pu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hs(e),s=1<<n,r|=t[n],e&=~s;return r}function B4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-hs(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=B4(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function w0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sk(){var t=xh;return xh<<=1,!(xh&4194240)&&(xh=64),t}function Ig(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hs(e),t[e]=n}function q4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hs(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Nx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var mt=0;function ok(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ik,kx,ak,lk,ck,b0=!1,bh=[],ui=null,di=null,hi=null,Gu=new Map,Ku=new Map,ti=[],W4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x_(t,e){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Gu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(e.pointerId)}}function Xc(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Ad(e),e!==null&&kx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function H4(t,e,n,r,s){switch(e){case"focusin":return ui=Xc(ui,t,e,n,r,s),!0;case"dragenter":return di=Xc(di,t,e,n,r,s),!0;case"mouseover":return hi=Xc(hi,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Gu.set(o,Xc(Gu.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ku.set(o,Xc(Ku.get(o)||null,t,e,n,r,s)),!0}return!1}function uk(t){var e=fa(t.target);if(e!==null){var n=Qa(e);if(n!==null){if(e=n.tag,e===13){if(e=JN(n),e!==null){t.blockedOn=e,ck(t.priority,function(){ak(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);g0=r,n.target.dispatchEvent(r),g0=null}else return e=Ad(n),e!==null&&kx(e),t.blockedOn=n,!1;e.shift()}return!0}function w_(t,e,n){lf(t)&&n.delete(e)}function G4(){b0=!1,ui!==null&&lf(ui)&&(ui=null),di!==null&&lf(di)&&(di=null),hi!==null&&lf(hi)&&(hi=null),Gu.forEach(w_),Ku.forEach(w_)}function Jc(t,e){t.blockedOn===e&&(t.blockedOn=null,b0||(b0=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,G4)))}function Yu(t){function e(s){return Jc(s,t)}if(0<bh.length){Jc(bh[0],t);for(var n=1;n<bh.length;n++){var r=bh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ui!==null&&Jc(ui,t),di!==null&&Jc(di,t),hi!==null&&Jc(hi,t),Gu.forEach(e),Ku.forEach(e),n=0;n<ti.length;n++)r=ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)uk(n),n.blockedOn===null&&ti.shift()}var Vl=Oo.ReactCurrentBatchConfig,$f=!0;function K4(t,e,n,r){var s=mt,o=Vl.transition;Vl.transition=null;try{mt=1,jx(t,e,n,r)}finally{mt=s,Vl.transition=o}}function Y4(t,e,n,r){var s=mt,o=Vl.transition;Vl.transition=null;try{mt=4,jx(t,e,n,r)}finally{mt=s,Vl.transition=o}}function jx(t,e,n,r){if($f){var s=_0(t,e,n,r);if(s===null)Bg(t,e,r,qf,n),x_(t,r);else if(H4(s,t,e,n,r))r.stopPropagation();else if(x_(t,r),e&4&&-1<W4.indexOf(t)){for(;s!==null;){var o=Ad(s);if(o!==null&&ik(o),o=_0(t,e,n,r),o===null&&Bg(t,e,r,qf,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Bg(t,e,r,null,n)}}var qf=null;function _0(t,e,n,r){if(qf=null,t=Cx(r),t=fa(t),t!==null)if(e=Qa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=JN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qf=t,null}function dk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M4()){case Tx:return 1;case nk:return 4;case Uf:case L4:return 16;case rk:return 536870912;default:return 16}default:return 16}}var ai=null,Px=null,cf=null;function hk(){if(cf)return cf;var t,e=Px,n=e.length,r,s="value"in ai?ai.value:ai.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return cf=s.slice(t,1<r?1-r:void 0)}function uf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _h(){return!0}function b_(){return!1}function Mr(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_h:b_,this.isPropagationStopped=b_,this}return Lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),e}var wc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ax=Mr(wc),Pd=Lt({},wc,{view:0,detail:0}),Q4=Mr(Pd),Rg,Dg,Zc,nm=Lt({},Pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ix,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zc&&(Zc&&t.type==="mousemove"?(Rg=t.screenX-Zc.screenX,Dg=t.screenY-Zc.screenY):Dg=Rg=0,Zc=t),Rg)},movementY:function(t){return"movementY"in t?t.movementY:Dg}}),__=Mr(nm),X4=Lt({},nm,{dataTransfer:0}),J4=Mr(X4),Z4=Lt({},Pd,{relatedTarget:0}),Og=Mr(Z4),eL=Lt({},wc,{animationName:0,elapsedTime:0,pseudoElement:0}),tL=Mr(eL),nL=Lt({},wc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rL=Mr(nL),sL=Lt({},wc,{data:0}),S_=Mr(sL),oL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aL[t])?!!e[t]:!1}function Ix(){return lL}var cL=Lt({},Pd,{key:function(t){if(t.key){var e=oL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ix,charCode:function(t){return t.type==="keypress"?uf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uL=Mr(cL),dL=Lt({},nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E_=Mr(dL),hL=Lt({},Pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ix}),fL=Mr(hL),pL=Lt({},wc,{propertyName:0,elapsedTime:0,pseudoElement:0}),mL=Mr(pL),gL=Lt({},nm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vL=Mr(gL),yL=[9,13,27,32],Rx=So&&"CompositionEvent"in window,Tu=null;So&&"documentMode"in document&&(Tu=document.documentMode);var xL=So&&"TextEvent"in window&&!Tu,fk=So&&(!Rx||Tu&&8<Tu&&11>=Tu),C_=String.fromCharCode(32),T_=!1;function pk(t,e){switch(t){case"keyup":return yL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wl=!1;function wL(t,e){switch(t){case"compositionend":return mk(e);case"keypress":return e.which!==32?null:(T_=!0,C_);case"textInput":return t=e.data,t===C_&&T_?null:t;default:return null}}function bL(t,e){if(wl)return t==="compositionend"||!Rx&&pk(t,e)?(t=hk(),cf=Px=ai=null,wl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fk&&e.locale!=="ko"?null:e.data;default:return null}}var _L={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_L[t.type]:e==="textarea"}function gk(t,e,n,r){GN(r),e=Wf(e,"onChange"),0<e.length&&(n=new Ax("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nu=null,Qu=null;function SL(t){Nk(t,0)}function rm(t){var e=Sl(t);if(zN(e))return t}function EL(t,e){if(t==="change")return e}var vk=!1;if(So){var Mg;if(So){var Lg="oninput"in document;if(!Lg){var k_=document.createElement("div");k_.setAttribute("oninput","return;"),Lg=typeof k_.oninput=="function"}Mg=Lg}else Mg=!1;vk=Mg&&(!document.documentMode||9<document.documentMode)}function j_(){Nu&&(Nu.detachEvent("onpropertychange",yk),Qu=Nu=null)}function yk(t){if(t.propertyName==="value"&&rm(Qu)){var e=[];gk(e,Qu,t,Cx(t)),XN(SL,e)}}function CL(t,e,n){t==="focusin"?(j_(),Nu=e,Qu=n,Nu.attachEvent("onpropertychange",yk)):t==="focusout"&&j_()}function TL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rm(Qu)}function NL(t,e){if(t==="click")return rm(e)}function kL(t,e){if(t==="input"||t==="change")return rm(e)}function jL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vs=typeof Object.is=="function"?Object.is:jL;function Xu(t,e){if(vs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!s0.call(e,s)||!vs(t[s],e[s]))return!1}return!0}function P_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A_(t,e){var n=P_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P_(n)}}function xk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wk(){for(var t=window,e=Ff();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ff(t.document)}return e}function Dx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PL(t){var e=wk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xk(n.ownerDocument.documentElement,n)){if(r!==null&&Dx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=A_(n,o);var i=A_(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AL=So&&"documentMode"in document&&11>=document.documentMode,bl=null,S0=null,ku=null,E0=!1;function I_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;E0||bl==null||bl!==Ff(r)||(r=bl,"selectionStart"in r&&Dx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ku&&Xu(ku,r)||(ku=r,r=Wf(S0,"onSelect"),0<r.length&&(e=new Ax("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bl)))}function Sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _l={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Fg={},bk={};So&&(bk=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function sm(t){if(Fg[t])return Fg[t];if(!_l[t])return t;var e=_l[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bk)return Fg[t]=e[n];return t}var _k=sm("animationend"),Sk=sm("animationiteration"),Ek=sm("animationstart"),Ck=sm("transitionend"),Tk=new Map,R_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){Tk.set(t,e),Ya(e,[t])}for(var Vg=0;Vg<R_.length;Vg++){var zg=R_[Vg],IL=zg.toLowerCase(),RL=zg[0].toUpperCase()+zg.slice(1);zi(IL,"on"+RL)}zi(_k,"onAnimationEnd");zi(Sk,"onAnimationIteration");zi(Ek,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(Ck,"onTransitionEnd");Ql("onMouseEnter",["mouseout","mouseover"]);Ql("onMouseLeave",["mouseout","mouseover"]);Ql("onPointerEnter",["pointerout","pointerover"]);Ql("onPointerLeave",["pointerout","pointerover"]);Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DL=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function D_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I4(r,e,void 0,t),t.currentTarget=null}function Nk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;D_(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;D_(s,l,u),o=c}}}if(zf)throw t=x0,zf=!1,x0=null,t}function Nt(t,e){var n=e[j0];n===void 0&&(n=e[j0]=new Set);var r=t+"__bubble";n.has(r)||(kk(e,t,2,!1),n.add(r))}function Ug(t,e,n){var r=0;e&&(r|=4),kk(n,t,r,e)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Ju(t){if(!t[Eh]){t[Eh]=!0,ON.forEach(function(n){n!=="selectionchange"&&(DL.has(n)||Ug(n,!1,t),Ug(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eh]||(e[Eh]=!0,Ug("selectionchange",!1,e))}}function kk(t,e,n,r){switch(dk(e)){case 1:var s=K4;break;case 4:s=Y4;break;default:s=jx}n=s.bind(null,e,n,t),s=void 0,!y0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bg(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=fa(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}XN(function(){var u=o,d=Cx(n),f=[];e:{var p=Tk.get(t);if(p!==void 0){var m=Ax,y=t;switch(t){case"keypress":if(uf(n)===0)break e;case"keydown":case"keyup":m=uL;break;case"focusin":y="focus",m=Og;break;case"focusout":y="blur",m=Og;break;case"beforeblur":case"afterblur":m=Og;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=__;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=J4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=fL;break;case _k:case Sk:case Ek:m=tL;break;case Ck:m=mL;break;case"scroll":m=Q4;break;case"wheel":m=vL;break;case"copy":case"cut":case"paste":m=rL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=E_}var x=(e&4)!==0,S=!x&&t==="scroll",_=x?p!==null?p+"Capture":null:p;x=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,_!==null&&(j=Hu(v,_),j!=null&&x.push(Zu(v,j,b)))),S)break;v=v.return}0<x.length&&(p=new m(p,y,null,n,d),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==g0&&(y=n.relatedTarget||n.fromElement)&&(fa(y)||y[Eo]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?fa(y):null,y!==null&&(S=Qa(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=__,j="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=E_,j="onPointerLeave",_="onPointerEnter",v="pointer"),S=m==null?p:Sl(m),b=y==null?p:Sl(y),p=new x(j,v+"leave",m,n,d),p.target=S,p.relatedTarget=b,j=null,fa(d)===u&&(x=new x(_,v+"enter",y,n,d),x.target=b,x.relatedTarget=S,j=x),S=j,m&&y)t:{for(x=m,_=y,v=0,b=x;b;b=al(b))v++;for(b=0,j=_;j;j=al(j))b++;for(;0<v-b;)x=al(x),v--;for(;0<b-v;)_=al(_),b--;for(;v--;){if(x===_||_!==null&&x===_.alternate)break t;x=al(x),_=al(_)}x=null}else x=null;m!==null&&O_(f,p,m,x,!1),y!==null&&S!==null&&O_(f,S,y,x,!0)}}e:{if(p=u?Sl(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=EL;else if(N_(p))if(vk)R=kL;else{R=TL;var F=CL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=NL);if(R&&(R=R(t,u))){gk(f,R,n,d);break e}F&&F(t,p,u),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&d0(p,"number",p.value)}switch(F=u?Sl(u):window,t){case"focusin":(N_(F)||F.contentEditable==="true")&&(bl=F,S0=u,ku=null);break;case"focusout":ku=S0=bl=null;break;case"mousedown":E0=!0;break;case"contextmenu":case"mouseup":case"dragend":E0=!1,I_(f,n,d);break;case"selectionchange":if(AL)break;case"keydown":case"keyup":I_(f,n,d)}var E;if(Rx)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else wl?pk(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(fk&&n.locale!=="ko"&&(wl||T!=="onCompositionStart"?T==="onCompositionEnd"&&wl&&(E=hk()):(ai=d,Px="value"in ai?ai.value:ai.textContent,wl=!0)),F=Wf(u,T),0<F.length&&(T=new S_(T,t,null,n,d),f.push({event:T,listeners:F}),E?T.data=E:(E=mk(n),E!==null&&(T.data=E)))),(E=xL?wL(t,n):bL(t,n))&&(u=Wf(u,"onBeforeInput"),0<u.length&&(d=new S_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}Nk(f,e)})}function Zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Hu(t,n),o!=null&&r.unshift(Zu(t,o,s)),o=Hu(t,e),o!=null&&r.push(Zu(t,o,s))),t=t.return}return r}function al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O_(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Hu(n,o),c!=null&&i.unshift(Zu(n,c,l))):s||(c=Hu(n,o),c!=null&&i.push(Zu(n,c,l)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var OL=/\r\n?/g,ML=/\u0000|\uFFFD/g;function M_(t){return(typeof t=="string"?t:""+t).replace(OL,`
`).replace(ML,"")}function Ch(t,e,n){if(e=M_(e),M_(t)!==e&&n)throw Error(ie(425))}function Hf(){}var C0=null,T0=null;function N0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k0=typeof setTimeout=="function"?setTimeout:void 0,LL=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,FL=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(VL)}:k0;function VL(t){setTimeout(function(){throw t})}function $g(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yu(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bc=Math.random().toString(36).slice(2),Rs="__reactFiber$"+bc,ed="__reactProps$"+bc,Eo="__reactContainer$"+bc,j0="__reactEvents$"+bc,zL="__reactListeners$"+bc,UL="__reactHandles$"+bc;function fa(t){var e=t[Rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Eo]||n[Rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F_(t);t!==null;){if(n=t[Rs])return n;t=F_(t)}return e}t=n,n=t.parentNode}return null}function Ad(t){return t=t[Rs]||t[Eo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function om(t){return t[ed]||null}var P0=[],El=-1;function Ui(t){return{current:t}}function jt(t){0>El||(t.current=P0[El],P0[El]=null,El--)}function bt(t,e){El++,P0[El]=t.current,t.current=e}var Ti={},qn=Ui(Ti),pr=Ui(!1),ja=Ti;function Xl(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mr(t){return t=t.childContextTypes,t!=null}function Gf(){jt(pr),jt(qn)}function V_(t,e,n){if(qn.current!==Ti)throw Error(ie(168));bt(qn,e),bt(pr,n)}function jk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ie(108,C4(t)||"Unknown",s));return Lt({},n,r)}function Kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,ja=qn.current,bt(qn,t),bt(pr,pr.current),!0}function z_(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=jk(t,e,ja),r.__reactInternalMemoizedMergedChildContext=t,jt(pr),jt(qn),bt(qn,t)):jt(pr),bt(pr,n)}var co=null,im=!1,qg=!1;function Pk(t){co===null?co=[t]:co.push(t)}function BL(t){im=!0,Pk(t)}function Bi(){if(!qg&&co!==null){qg=!0;var t=0,e=mt;try{var n=co;for(mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}co=null,im=!1}catch(s){throw co!==null&&(co=co.slice(t+1)),tk(Tx,Bi),s}finally{mt=e,qg=!1}}return null}var Cl=[],Tl=0,Yf=null,Qf=0,zr=[],Ur=0,Pa=null,uo=1,ho="";function sa(t,e){Cl[Tl++]=Qf,Cl[Tl++]=Yf,Yf=t,Qf=e}function Ak(t,e,n){zr[Ur++]=uo,zr[Ur++]=ho,zr[Ur++]=Pa,Pa=t;var r=uo;t=ho;var s=32-hs(r)-1;r&=~(1<<s),n+=1;var o=32-hs(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,uo=1<<32-hs(e)+s|n<<s|r,ho=o+t}else uo=1<<o|n<<s|r,ho=t}function Ox(t){t.return!==null&&(sa(t,1),Ak(t,1,0))}function Mx(t){for(;t===Yf;)Yf=Cl[--Tl],Cl[Tl]=null,Qf=Cl[--Tl],Cl[Tl]=null;for(;t===Pa;)Pa=zr[--Ur],zr[Ur]=null,ho=zr[--Ur],zr[Ur]=null,uo=zr[--Ur],zr[Ur]=null}var Pr=null,kr=null,At=!1,ls=null;function Ik(t,e){var n=$r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function U_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,kr=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,kr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pa!==null?{id:uo,overflow:ho}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pr=t,kr=null,!0):!1;default:return!1}}function A0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function I0(t){if(At){var e=kr;if(e){var n=e;if(!U_(t,e)){if(A0(t))throw Error(ie(418));e=fi(n.nextSibling);var r=Pr;e&&U_(t,e)?Ik(r,n):(t.flags=t.flags&-4097|2,At=!1,Pr=t)}}else{if(A0(t))throw Error(ie(418));t.flags=t.flags&-4097|2,At=!1,Pr=t}}}function B_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function Th(t){if(t!==Pr)return!1;if(!At)return B_(t),At=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!N0(t.type,t.memoizedProps)),e&&(e=kr)){if(A0(t))throw Rk(),Error(ie(418));for(;e;)Ik(t,e),e=fi(e.nextSibling)}if(B_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kr=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kr=null}}else kr=Pr?fi(t.stateNode.nextSibling):null;return!0}function Rk(){for(var t=kr;t;)t=fi(t.nextSibling)}function Jl(){kr=Pr=null,At=!1}function Lx(t){ls===null?ls=[t]:ls.push(t)}var $L=Oo.ReactCurrentBatchConfig;function eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function Nh(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $_(t){var e=t._init;return e(t._payload)}function Dk(t){function e(_,v){if(t){var b=_.deletions;b===null?(_.deletions=[v],_.flags|=16):b.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=vi(_,v),_.index=0,_.sibling=null,_}function o(_,v,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<v?(_.flags|=2,v):b):(_.flags|=2,v)):(_.flags|=1048576,v)}function i(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,v,b,j){return v===null||v.tag!==6?(v=Xg(b,_.mode,j),v.return=_,v):(v=s(v,b),v.return=_,v)}function c(_,v,b,j){var R=b.type;return R===xl?d(_,v,b.props.children,j,b.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Xo&&$_(R)===v.type)?(j=s(v,b.props),j.ref=eu(_,v,b),j.return=_,j):(j=vf(b.type,b.key,b.props,null,_.mode,j),j.ref=eu(_,v,b),j.return=_,j)}function u(_,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Jg(b,_.mode,j),v.return=_,v):(v=s(v,b.children||[]),v.return=_,v)}function d(_,v,b,j,R){return v===null||v.tag!==7?(v=wa(b,_.mode,j,R),v.return=_,v):(v=s(v,b),v.return=_,v)}function f(_,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Xg(""+v,_.mode,b),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gh:return b=vf(v.type,v.key,v.props,null,_.mode,b),b.ref=eu(_,null,v),b.return=_,b;case yl:return v=Jg(v,_.mode,b),v.return=_,v;case Xo:var j=v._init;return f(_,j(v._payload),b)}if(fu(v)||Yc(v))return v=wa(v,_.mode,b,null),v.return=_,v;Nh(_,v)}return null}function p(_,v,b,j){var R=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:l(_,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gh:return b.key===R?c(_,v,b,j):null;case yl:return b.key===R?u(_,v,b,j):null;case Xo:return R=b._init,p(_,v,R(b._payload),j)}if(fu(b)||Yc(b))return R!==null?null:d(_,v,b,j,null);Nh(_,b)}return null}function m(_,v,b,j,R){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(b)||null,l(v,_,""+j,R);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gh:return _=_.get(j.key===null?b:j.key)||null,c(v,_,j,R);case yl:return _=_.get(j.key===null?b:j.key)||null,u(v,_,j,R);case Xo:var F=j._init;return m(_,v,b,F(j._payload),R)}if(fu(j)||Yc(j))return _=_.get(b)||null,d(v,_,j,R,null);Nh(v,j)}return null}function y(_,v,b,j){for(var R=null,F=null,E=v,T=v=0,A=null;E!==null&&T<b.length;T++){E.index>T?(A=E,E=null):A=E.sibling;var I=p(_,E,b[T],j);if(I===null){E===null&&(E=A);break}t&&E&&I.alternate===null&&e(_,E),v=o(I,v,T),F===null?R=I:F.sibling=I,F=I,E=A}if(T===b.length)return n(_,E),At&&sa(_,T),R;if(E===null){for(;T<b.length;T++)E=f(_,b[T],j),E!==null&&(v=o(E,v,T),F===null?R=E:F.sibling=E,F=E);return At&&sa(_,T),R}for(E=r(_,E);T<b.length;T++)A=m(E,_,T,b[T],j),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?T:A.key),v=o(A,v,T),F===null?R=A:F.sibling=A,F=A);return t&&E.forEach(function(k){return e(_,k)}),At&&sa(_,T),R}function x(_,v,b,j){var R=Yc(b);if(typeof R!="function")throw Error(ie(150));if(b=R.call(b),b==null)throw Error(ie(151));for(var F=R=null,E=v,T=v=0,A=null,I=b.next();E!==null&&!I.done;T++,I=b.next()){E.index>T?(A=E,E=null):A=E.sibling;var k=p(_,E,I.value,j);if(k===null){E===null&&(E=A);break}t&&E&&k.alternate===null&&e(_,E),v=o(k,v,T),F===null?R=k:F.sibling=k,F=k,E=A}if(I.done)return n(_,E),At&&sa(_,T),R;if(E===null){for(;!I.done;T++,I=b.next())I=f(_,I.value,j),I!==null&&(v=o(I,v,T),F===null?R=I:F.sibling=I,F=I);return At&&sa(_,T),R}for(E=r(_,E);!I.done;T++,I=b.next())I=m(E,_,T,I.value,j),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?T:I.key),v=o(I,v,T),F===null?R=I:F.sibling=I,F=I);return t&&E.forEach(function(N){return e(_,N)}),At&&sa(_,T),R}function S(_,v,b,j){if(typeof b=="object"&&b!==null&&b.type===xl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gh:e:{for(var R=b.key,F=v;F!==null;){if(F.key===R){if(R=b.type,R===xl){if(F.tag===7){n(_,F.sibling),v=s(F,b.props.children),v.return=_,_=v;break e}}else if(F.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Xo&&$_(R)===F.type){n(_,F.sibling),v=s(F,b.props),v.ref=eu(_,F,b),v.return=_,_=v;break e}n(_,F);break}else e(_,F);F=F.sibling}b.type===xl?(v=wa(b.props.children,_.mode,j,b.key),v.return=_,_=v):(j=vf(b.type,b.key,b.props,null,_.mode,j),j.ref=eu(_,v,b),j.return=_,_=j)}return i(_);case yl:e:{for(F=b.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(_,v.sibling),v=s(v,b.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Jg(b,_.mode,j),v.return=_,_=v}return i(_);case Xo:return F=b._init,S(_,v,F(b._payload),j)}if(fu(b))return y(_,v,b,j);if(Yc(b))return x(_,v,b,j);Nh(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,b),v.return=_,_=v):(n(_,v),v=Xg(b,_.mode,j),v.return=_,_=v),i(_)):n(_,v)}return S}var Zl=Dk(!0),Ok=Dk(!1),Xf=Ui(null),Jf=null,Nl=null,Fx=null;function Vx(){Fx=Nl=Jf=null}function zx(t){var e=Xf.current;jt(Xf),t._currentValue=e}function R0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zl(t,e){Jf=t,Fx=Nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function Kr(t){var e=t._currentValue;if(Fx!==t)if(t={context:t,memoizedValue:e,next:null},Nl===null){if(Jf===null)throw Error(ie(308));Nl=t,Jf.dependencies={lanes:0,firstContext:t}}else Nl=Nl.next=t;return e}var pa=null;function Ux(t){pa===null?pa=[t]:pa.push(t)}function Mk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ux(e)):(n.next=s.next,s.next=n),e.interleaved=n,Co(t,r)}function Co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Jo=!1;function Bx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Co(t,n)}return s=r.interleaved,s===null?(e.next=e,Ux(r)):(e.next=s.next,s.next=e),r.interleaved=e,Co(t,n)}function df(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nx(t,n)}}function q_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zf(t,e,n,r){var s=t.updateQueue;Jo=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var p=l.lane,m=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,x=l;switch(p=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=Lt({},f,p);break e;case 2:Jo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ia|=i,t.lanes=i,t.memoizedState=f}}function W_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ie(191,s));s.call(r)}}}var Id={},Fs=Ui(Id),td=Ui(Id),nd=Ui(Id);function ma(t){if(t===Id)throw Error(ie(174));return t}function $x(t,e){switch(bt(nd,e),bt(td,t),bt(Fs,Id),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:f0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=f0(e,t)}jt(Fs),bt(Fs,e)}function ec(){jt(Fs),jt(td),jt(nd)}function Fk(t){ma(nd.current);var e=ma(Fs.current),n=f0(e,t.type);e!==n&&(bt(td,t),bt(Fs,n))}function qx(t){td.current===t&&(jt(Fs),jt(td))}var Dt=Ui(0);function ep(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wg=[];function Wx(){for(var t=0;t<Wg.length;t++)Wg[t]._workInProgressVersionPrimary=null;Wg.length=0}var hf=Oo.ReactCurrentDispatcher,Hg=Oo.ReactCurrentBatchConfig,Aa=0,Mt=null,cn=null,vn=null,tp=!1,ju=!1,rd=0,qL=0;function Dn(){throw Error(ie(321))}function Hx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vs(t[n],e[n]))return!1;return!0}function Gx(t,e,n,r,s,o){if(Aa=o,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hf.current=t===null||t.memoizedState===null?KL:YL,t=n(r,s),ju){o=0;do{if(ju=!1,rd=0,25<=o)throw Error(ie(301));o+=1,vn=cn=null,e.updateQueue=null,hf.current=QL,t=n(r,s)}while(ju)}if(hf.current=np,e=cn!==null&&cn.next!==null,Aa=0,vn=cn=Mt=null,tp=!1,e)throw Error(ie(300));return t}function Kx(){var t=rd!==0;return rd=0,t}function Ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Mt.memoizedState=vn=t:vn=vn.next=t,vn}function Yr(){if(cn===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=cn.next;var e=vn===null?Mt.memoizedState:vn.next;if(e!==null)vn=e,cn=t;else{if(t===null)throw Error(ie(310));cn=t,t={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},vn===null?Mt.memoizedState=vn=t:vn=vn.next=t}return vn}function sd(t,e){return typeof e=="function"?e(t):e}function Gg(t){var e=Yr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=cn,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Aa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Mt.lanes|=d,Ia|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,vs(r,e.memoizedState)||(dr=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Mt.lanes|=o,Ia|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kg(t){var e=Yr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);vs(o,e.memoizedState)||(dr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Vk(){}function zk(t,e){var n=Mt,r=Yr(),s=e(),o=!vs(r.memoizedState,s);if(o&&(r.memoizedState=s,dr=!0),r=r.queue,Yx($k.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||vn!==null&&vn.memoizedState.tag&1){if(n.flags|=2048,od(9,Bk.bind(null,n,r,s,e),void 0,null),yn===null)throw Error(ie(349));Aa&30||Uk(n,e,s)}return s}function Uk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bk(t,e,n,r){e.value=n,e.getSnapshot=r,qk(e)&&Wk(t)}function $k(t,e,n){return n(function(){qk(e)&&Wk(t)})}function qk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vs(t,n)}catch{return!0}}function Wk(t){var e=Co(t,1);e!==null&&fs(e,t,1,-1)}function H_(t){var e=Ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sd,lastRenderedState:t},e.queue=t,t=t.dispatch=GL.bind(null,Mt,t),[e.memoizedState,t]}function od(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Hk(){return Yr().memoizedState}function ff(t,e,n,r){var s=Ps();Mt.flags|=t,s.memoizedState=od(1|e,n,void 0,r===void 0?null:r)}function am(t,e,n,r){var s=Yr();r=r===void 0?null:r;var o=void 0;if(cn!==null){var i=cn.memoizedState;if(o=i.destroy,r!==null&&Hx(r,i.deps)){s.memoizedState=od(e,n,o,r);return}}Mt.flags|=t,s.memoizedState=od(1|e,n,o,r)}function G_(t,e){return ff(8390656,8,t,e)}function Yx(t,e){return am(2048,8,t,e)}function Gk(t,e){return am(4,2,t,e)}function Kk(t,e){return am(4,4,t,e)}function Yk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qk(t,e,n){return n=n!=null?n.concat([t]):null,am(4,4,Yk.bind(null,e,t),n)}function Qx(){}function Xk(t,e){var n=Yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jk(t,e){var n=Yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zk(t,e,n){return Aa&21?(vs(n,e)||(n=sk(),Mt.lanes|=n,Ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=n)}function WL(t,e){var n=mt;mt=n!==0&&4>n?n:4,t(!0);var r=Hg.transition;Hg.transition={};try{t(!1),e()}finally{mt=n,Hg.transition=r}}function ej(){return Yr().memoizedState}function HL(t,e,n){var r=gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tj(t))nj(e,n);else if(n=Mk(t,e,n,r),n!==null){var s=Zn();fs(n,t,r,s),rj(n,e,r)}}function GL(t,e,n){var r=gi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tj(t))nj(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,vs(l,i)){var c=e.interleaved;c===null?(s.next=s,Ux(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Mk(t,e,s,r),n!==null&&(s=Zn(),fs(n,t,r,s),rj(n,e,r))}}function tj(t){var e=t.alternate;return t===Mt||e!==null&&e===Mt}function nj(t,e){ju=tp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nx(t,n)}}var np={readContext:Kr,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},KL={readContext:Kr,useCallback:function(t,e){return Ps().memoizedState=[t,e===void 0?null:e],t},useContext:Kr,useEffect:G_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ff(4194308,4,Yk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ff(4194308,4,t,e)},useInsertionEffect:function(t,e){return ff(4,2,t,e)},useMemo:function(t,e){var n=Ps();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ps();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HL.bind(null,Mt,t),[r.memoizedState,t]},useRef:function(t){var e=Ps();return t={current:t},e.memoizedState=t},useState:H_,useDebugValue:Qx,useDeferredValue:function(t){return Ps().memoizedState=t},useTransition:function(){var t=H_(!1),e=t[0];return t=WL.bind(null,t[1]),Ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mt,s=Ps();if(At){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),yn===null)throw Error(ie(349));Aa&30||Uk(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,G_($k.bind(null,r,o,t),[t]),r.flags|=2048,od(9,Bk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ps(),e=yn.identifierPrefix;if(At){var n=ho,r=uo;n=(r&~(1<<32-hs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YL={readContext:Kr,useCallback:Xk,useContext:Kr,useEffect:Yx,useImperativeHandle:Qk,useInsertionEffect:Gk,useLayoutEffect:Kk,useMemo:Jk,useReducer:Gg,useRef:Hk,useState:function(){return Gg(sd)},useDebugValue:Qx,useDeferredValue:function(t){var e=Yr();return Zk(e,cn.memoizedState,t)},useTransition:function(){var t=Gg(sd)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:Vk,useSyncExternalStore:zk,useId:ej,unstable_isNewReconciler:!1},QL={readContext:Kr,useCallback:Xk,useContext:Kr,useEffect:Yx,useImperativeHandle:Qk,useInsertionEffect:Gk,useLayoutEffect:Kk,useMemo:Jk,useReducer:Kg,useRef:Hk,useState:function(){return Kg(sd)},useDebugValue:Qx,useDeferredValue:function(t){var e=Yr();return cn===null?e.memoizedState=t:Zk(e,cn.memoizedState,t)},useTransition:function(){var t=Kg(sd)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:Vk,useSyncExternalStore:zk,useId:ej,unstable_isNewReconciler:!1};function is(t,e){if(t&&t.defaultProps){e=Lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function D0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lm={isMounted:function(t){return(t=t._reactInternals)?Qa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=gi(t),o=yo(r,s);o.payload=e,n!=null&&(o.callback=n),e=pi(t,o,s),e!==null&&(fs(e,t,s,r),df(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=gi(t),o=yo(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=pi(t,o,s),e!==null&&(fs(e,t,s,r),df(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zn(),r=gi(t),s=yo(n,r);s.tag=2,e!=null&&(s.callback=e),e=pi(t,s,r),e!==null&&(fs(e,t,r,n),df(e,t,r))}};function K_(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!Xu(n,r)||!Xu(s,o):!0}function sj(t,e,n){var r=!1,s=Ti,o=e.contextType;return typeof o=="object"&&o!==null?o=Kr(o):(s=mr(e)?ja:qn.current,r=e.contextTypes,o=(r=r!=null)?Xl(t,s):Ti),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Y_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lm.enqueueReplaceState(e,e.state,null)}function O0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Bx(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Kr(o):(o=mr(e)?ja:qn.current,s.context=Xl(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(D0(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&lm.enqueueReplaceState(s,s.state,null),Zf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tc(t,e){try{var n="",r=e;do n+=E4(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Yg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function M0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XL=typeof WeakMap=="function"?WeakMap:Map;function oj(t,e,n){n=yo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sp||(sp=!0,H0=r),M0(t,e)},n}function ij(t,e,n){n=yo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){M0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){M0(t,e),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Q_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=dF.bind(null,t,e,n),e.then(t,t))}function X_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yo(-1,1),e.tag=2,pi(n,e,1))),n.lanes|=1),t)}var JL=Oo.ReactCurrentOwner,dr=!1;function Jn(t,e,n,r){e.child=t===null?Ok(e,null,n,r):Zl(e,t.child,n,r)}function Z_(t,e,n,r,s){n=n.render;var o=e.ref;return zl(e,s),r=Gx(t,e,n,r,o,s),n=Kx(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,To(t,e,s)):(At&&n&&Ox(e),e.flags|=1,Jn(t,e,r,s),e.child)}function eS(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!sw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,aj(t,e,o,r,s)):(t=vf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xu,n(i,r)&&t.ref===e.ref)return To(t,e,s)}return e.flags|=1,t=vi(o,r),t.ref=e.ref,t.return=e,e.child=t}function aj(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Xu(o,r)&&t.ref===e.ref)if(dr=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,To(t,e,s)}return L0(t,e,n,r,s)}function lj(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(jl,Er),Er|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bt(jl,Er),Er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,bt(jl,Er),Er|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,bt(jl,Er),Er|=r;return Jn(t,e,s,n),e.child}function cj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function L0(t,e,n,r,s){var o=mr(n)?ja:qn.current;return o=Xl(e,o),zl(e,s),n=Gx(t,e,n,r,o,s),r=Kx(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,To(t,e,s)):(At&&r&&Ox(e),e.flags|=1,Jn(t,e,n,s),e.child)}function tS(t,e,n,r,s){if(mr(n)){var o=!0;Kf(e)}else o=!1;if(zl(e,s),e.stateNode===null)pf(t,e),sj(e,n,r),O0(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kr(u):(u=mr(n)?ja:qn.current,u=Xl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Y_(e,i,r,u),Jo=!1;var p=e.memoizedState;i.state=p,Zf(e,r,i,s),c=e.memoizedState,l!==r||p!==c||pr.current||Jo?(typeof d=="function"&&(D0(e,n,d,r),c=e.memoizedState),(l=Jo||K_(e,n,l,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,Lk(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:is(e.type,l),i.props=u,f=e.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Kr(c):(c=mr(n)?ja:qn.current,c=Xl(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Y_(e,i,r,c),Jo=!1,p=e.memoizedState,i.state=p,Zf(e,r,i,s);var y=e.memoizedState;l!==f||p!==y||pr.current||Jo?(typeof m=="function"&&(D0(e,n,m,r),y=e.memoizedState),(u=Jo||K_(e,n,u,r,p,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return F0(t,e,n,r,o,s)}function F0(t,e,n,r,s,o){cj(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&z_(e,n,!1),To(t,e,o);r=e.stateNode,JL.current=e;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Zl(e,t.child,null,o),e.child=Zl(e,null,l,o)):Jn(t,e,l,o),e.memoizedState=r.state,s&&z_(e,n,!0),e.child}function uj(t){var e=t.stateNode;e.pendingContext?V_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V_(t,e.context,!1),$x(t,e.containerInfo)}function nS(t,e,n,r,s){return Jl(),Lx(s),e.flags|=256,Jn(t,e,n,r),e.child}var V0={dehydrated:null,treeContext:null,retryLane:0};function z0(t){return{baseLanes:t,cachePool:null,transitions:null}}function dj(t,e,n){var r=e.pendingProps,s=Dt.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),bt(Dt,s&1),t===null)return I0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=dm(i,r,0,null),t=wa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=z0(n),e.memoizedState=V0,t):Xx(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ZL(t,e,i,r,l,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=vi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=vi(l,o):(o=wa(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?z0(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=V0,r}return o=t.child,t=o.sibling,r=vi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xx(t,e){return e=dm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kh(t,e,n,r){return r!==null&&Lx(r),Zl(e,t.child,null,n),t=Xx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZL(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Yg(Error(ie(422))),kh(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=dm({mode:"visible",children:r.children},s,0,null),o=wa(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Zl(e,t.child,null,i),e.child.memoizedState=z0(i),e.memoizedState=V0,o);if(!(e.mode&1))return kh(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ie(419)),r=Yg(o,r,void 0),kh(t,e,i,r)}if(l=(i&t.childLanes)!==0,dr||l){if(r=yn,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Co(t,s),fs(r,t,s,-1))}return rw(),r=Yg(Error(ie(421))),kh(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=hF.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,kr=fi(s.nextSibling),Pr=e,At=!0,ls=null,t!==null&&(zr[Ur++]=uo,zr[Ur++]=ho,zr[Ur++]=Pa,uo=t.id,ho=t.overflow,Pa=e),e=Xx(e,r.children),e.flags|=4096,e)}function rS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),R0(t.return,e,n)}function Qg(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function hj(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Jn(t,e,r.children,n),r=Dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rS(t,n,e);else if(t.tag===19)rS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bt(Dt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ep(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qg(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ep(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qg(e,!0,n,null,o);break;case"together":Qg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function To(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eF(t,e,n){switch(e.tag){case 3:uj(e),Jl();break;case 5:Fk(e);break;case 1:mr(e.type)&&Kf(e);break;case 4:$x(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;bt(Xf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bt(Dt,Dt.current&1),e.flags|=128,null):n&e.child.childLanes?dj(t,e,n):(bt(Dt,Dt.current&1),t=To(t,e,n),t!==null?t.sibling:null);bt(Dt,Dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hj(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),bt(Dt,Dt.current),r)break;return null;case 22:case 23:return e.lanes=0,lj(t,e,n)}return To(t,e,n)}var fj,U0,pj,mj;fj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};U0=function(){};pj=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ma(Fs.current);var o=null;switch(n){case"input":s=c0(t,s),r=c0(t,r),o=[];break;case"select":s=Lt({},s,{value:void 0}),r=Lt({},r,{value:void 0}),o=[];break;case"textarea":s=h0(t,s),r=h0(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hf)}p0(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nt("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};mj=function(t,e,n,r){n!==r&&(e.flags|=4)};function tu(t,e){if(!At)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function On(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tF(t,e,n){var r=e.pendingProps;switch(Mx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(e),null;case 1:return mr(e.type)&&Gf(),On(e),null;case 3:return r=e.stateNode,ec(),jt(pr),jt(qn),Wx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ls!==null&&(Y0(ls),ls=null))),U0(t,e),On(e),null;case 5:qx(e);var s=ma(nd.current);if(n=e.type,t!==null&&e.stateNode!=null)pj(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return On(e),null}if(t=ma(Fs.current),Th(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Rs]=e,r[ed]=o,t=(e.mode&1)!==0,n){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(s=0;s<mu.length;s++)Nt(mu[s],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":h_(r,o),Nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Nt("invalid",r);break;case"textarea":p_(r,o),Nt("invalid",r)}p0(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ch(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ch(r.textContent,l,t),s=["children",""+l]):qu.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Nt("scroll",r)}switch(n){case"input":vh(r),f_(r,o,!0);break;case"textarea":vh(r),m_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$N(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Rs]=e,t[ed]=r,fj(t,e,!1,!1),e.stateNode=t;e:{switch(i=m0(n,r),n){case"dialog":Nt("cancel",t),Nt("close",t),s=r;break;case"iframe":case"object":case"embed":Nt("load",t),s=r;break;case"video":case"audio":for(s=0;s<mu.length;s++)Nt(mu[s],t);s=r;break;case"source":Nt("error",t),s=r;break;case"img":case"image":case"link":Nt("error",t),Nt("load",t),s=r;break;case"details":Nt("toggle",t),s=r;break;case"input":h_(t,r),s=c0(t,r),Nt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Lt({},r,{value:void 0}),Nt("invalid",t);break;case"textarea":p_(t,r),s=h0(t,r),Nt("invalid",t);break;default:s=r}p0(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?HN(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qN(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wu(t,c):typeof c=="number"&&Wu(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qu.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Nt("scroll",t):c!=null&&bx(t,o,c,i))}switch(n){case"input":vh(t),f_(t,r,!1);break;case"textarea":vh(t),m_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ci(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ml(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ml(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return On(e),null;case 6:if(t&&e.stateNode!=null)mj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=ma(nd.current),ma(Fs.current),Th(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rs]=e,(o=r.nodeValue!==n)&&(t=Pr,t!==null))switch(t.tag){case 3:Ch(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ch(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rs]=e,e.stateNode=r}return On(e),null;case 13:if(jt(Dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(At&&kr!==null&&e.mode&1&&!(e.flags&128))Rk(),Jl(),e.flags|=98560,o=!1;else if(o=Th(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ie(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[Rs]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;On(e),o=!1}else ls!==null&&(Y0(ls),ls=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?fn===0&&(fn=3):rw())),e.updateQueue!==null&&(e.flags|=4),On(e),null);case 4:return ec(),U0(t,e),t===null&&Ju(e.stateNode.containerInfo),On(e),null;case 10:return zx(e.type._context),On(e),null;case 17:return mr(e.type)&&Gf(),On(e),null;case 19:if(jt(Dt),o=e.memoizedState,o===null)return On(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)tu(o,!1);else{if(fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ep(t),i!==null){for(e.flags|=128,tu(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bt(Dt,Dt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Kt()>nc&&(e.flags|=128,r=!0,tu(o,!1),e.lanes=4194304)}else{if(!r)if(t=ep(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!At)return On(e),null}else 2*Kt()-o.renderingStartTime>nc&&n!==1073741824&&(e.flags|=128,r=!0,tu(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Kt(),e.sibling=null,n=Dt.current,bt(Dt,r?n&1|2:n&1),e):(On(e),null);case 22:case 23:return nw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Er&1073741824&&(On(e),e.subtreeFlags&6&&(e.flags|=8192)):On(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function nF(t,e){switch(Mx(e),e.tag){case 1:return mr(e.type)&&Gf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ec(),jt(pr),jt(qn),Wx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qx(e),null;case 13:if(jt(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Dt),null;case 4:return ec(),null;case 10:return zx(e.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var jh=!1,zn=!1,rF=typeof WeakSet=="function"?WeakSet:Set,be=null;function kl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function B0(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var sS=!1;function sF(t,e){if(C0=$f,t=wk(),Dx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===s&&(l=i),p===o&&++d===r&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(T0={focusedElem:t,selectionRange:n},$f=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:is(e.type,x),S);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(j){Ut(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return y=sS,sS=!1,y}function Pu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&B0(e,n,o)}s=s.next}while(s!==r)}}function cm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gj(t){var e=t.alternate;e!==null&&(t.alternate=null,gj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rs],delete e[ed],delete e[j0],delete e[zL],delete e[UL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vj(t){return t.tag===5||t.tag===3||t.tag===4}function oS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function q0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hf));else if(r!==4&&(t=t.child,t!==null))for(q0(t,e,n),t=t.sibling;t!==null;)q0(t,e,n),t=t.sibling}function W0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(W0(t,e,n),t=t.sibling;t!==null;)W0(t,e,n),t=t.sibling}var bn=null,as=!1;function $o(t,e,n){for(n=n.child;n!==null;)yj(t,e,n),n=n.sibling}function yj(t,e,n){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(tm,n)}catch{}switch(n.tag){case 5:zn||kl(n,e);case 6:var r=bn,s=as;bn=null,$o(t,e,n),bn=r,as=s,bn!==null&&(as?(t=bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bn.removeChild(n.stateNode));break;case 18:bn!==null&&(as?(t=bn,n=n.stateNode,t.nodeType===8?$g(t.parentNode,n):t.nodeType===1&&$g(t,n),Yu(t)):$g(bn,n.stateNode));break;case 4:r=bn,s=as,bn=n.stateNode.containerInfo,as=!0,$o(t,e,n),bn=r,as=s;break;case 0:case 11:case 14:case 15:if(!zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&B0(n,e,i),s=s.next}while(s!==r)}$o(t,e,n);break;case 1:if(!zn&&(kl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ut(n,e,l)}$o(t,e,n);break;case 21:$o(t,e,n);break;case 22:n.mode&1?(zn=(r=zn)||n.memoizedState!==null,$o(t,e,n),zn=r):$o(t,e,n);break;default:$o(t,e,n)}}function iS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rF),e.forEach(function(r){var s=fF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ns(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:bn=l.stateNode,as=!1;break e;case 3:bn=l.stateNode.containerInfo,as=!0;break e;case 4:bn=l.stateNode.containerInfo,as=!0;break e}l=l.return}if(bn===null)throw Error(ie(160));yj(o,i,s),bn=null,as=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ut(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xj(e,t),e=e.sibling}function xj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ns(e,t),ks(t),r&4){try{Pu(3,t,t.return),cm(3,t)}catch(x){Ut(t,t.return,x)}try{Pu(5,t,t.return)}catch(x){Ut(t,t.return,x)}}break;case 1:ns(e,t),ks(t),r&512&&n!==null&&kl(n,n.return);break;case 5:if(ns(e,t),ks(t),r&512&&n!==null&&kl(n,n.return),t.flags&32){var s=t.stateNode;try{Wu(s,"")}catch(x){Ut(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&UN(s,o),m0(l,i);var u=m0(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?HN(s,f):d==="dangerouslySetInnerHTML"?qN(s,f):d==="children"?Wu(s,f):bx(s,d,f,u)}switch(l){case"input":u0(s,o);break;case"textarea":BN(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ml(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ml(s,!!o.multiple,o.defaultValue,!0):Ml(s,!!o.multiple,o.multiple?[]:"",!1))}s[ed]=o}catch(x){Ut(t,t.return,x)}}break;case 6:if(ns(e,t),ks(t),r&4){if(t.stateNode===null)throw Error(ie(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(x){Ut(t,t.return,x)}}break;case 3:if(ns(e,t),ks(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yu(e.containerInfo)}catch(x){Ut(t,t.return,x)}break;case 4:ns(e,t),ks(t);break;case 13:ns(e,t),ks(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(ew=Kt())),r&4&&iS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zn=(u=zn)||d,ns(e,t),zn=u):ns(e,t),ks(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(be=t,d=t.child;d!==null;){for(f=be=d;be!==null;){switch(p=be,m=p.child,p.tag){case 0:case 11:case 14:case 15:Pu(4,p,p.return);break;case 1:kl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Ut(r,n,x)}}break;case 5:kl(p,p.return);break;case 22:if(p.memoizedState!==null){lS(f);continue}}m!==null?(m.return=p,be=m):lS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=WN("display",i))}catch(x){Ut(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ut(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ns(e,t),ks(t),r&4&&iS(t);break;case 21:break;default:ns(e,t),ks(t)}}function ks(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vj(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wu(s,""),r.flags&=-33);var o=oS(t);W0(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=oS(t);q0(t,l,i);break;default:throw Error(ie(161))}}catch(c){Ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oF(t,e,n){be=t,wj(t)}function wj(t,e,n){for(var r=(t.mode&1)!==0;be!==null;){var s=be,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||jh;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||zn;l=jh;var u=zn;if(jh=i,(zn=c)&&!u)for(be=s;be!==null;)i=be,c=i.child,i.tag===22&&i.memoizedState!==null?cS(s):c!==null?(c.return=i,be=c):cS(s);for(;o!==null;)be=o,wj(o),o=o.sibling;be=s,jh=l,zn=u}aS(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,be=o):aS(t)}}function aS(t){for(;be!==null;){var e=be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zn||cm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:is(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&W_(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}W_(e,i,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}zn||e.flags&512&&$0(e)}catch(p){Ut(e,e.return,p)}}if(e===t){be=null;break}if(n=e.sibling,n!==null){n.return=e.return,be=n;break}be=e.return}}function lS(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,be=n;break}be=e.return}}function cS(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cm(4,e)}catch(c){Ut(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ut(e,s,c)}}var o=e.return;try{$0(e)}catch(c){Ut(e,o,c)}break;case 5:var i=e.return;try{$0(e)}catch(c){Ut(e,i,c)}}}catch(c){Ut(e,e.return,c)}if(e===t){be=null;break}var l=e.sibling;if(l!==null){l.return=e.return,be=l;break}be=e.return}}var iF=Math.ceil,rp=Oo.ReactCurrentDispatcher,Jx=Oo.ReactCurrentOwner,Wr=Oo.ReactCurrentBatchConfig,ot=0,yn=null,tn=null,kn=0,Er=0,jl=Ui(0),fn=0,id=null,Ia=0,um=0,Zx=0,Au=null,lr=null,ew=0,nc=1/0,lo=null,sp=!1,H0=null,mi=null,Ph=!1,li=null,op=0,Iu=0,G0=null,mf=-1,gf=0;function Zn(){return ot&6?Kt():mf!==-1?mf:mf=Kt()}function gi(t){return t.mode&1?ot&2&&kn!==0?kn&-kn:$L.transition!==null?(gf===0&&(gf=sk()),gf):(t=mt,t!==0||(t=window.event,t=t===void 0?16:dk(t.type)),t):1}function fs(t,e,n,r){if(50<Iu)throw Iu=0,G0=null,Error(ie(185));jd(t,n,r),(!(ot&2)||t!==yn)&&(t===yn&&(!(ot&2)&&(um|=n),fn===4&&ni(t,kn)),gr(t,r),n===1&&ot===0&&!(e.mode&1)&&(nc=Kt()+500,im&&Bi()))}function gr(t,e){var n=t.callbackNode;$4(t,e);var r=Bf(t,t===yn?kn:0);if(r===0)n!==null&&y_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&y_(n),e===1)t.tag===0?BL(uS.bind(null,t)):Pk(uS.bind(null,t)),FL(function(){!(ot&6)&&Bi()}),n=null;else{switch(ok(r)){case 1:n=Tx;break;case 4:n=nk;break;case 16:n=Uf;break;case 536870912:n=rk;break;default:n=Uf}n=kj(n,bj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bj(t,e){if(mf=-1,gf=0,ot&6)throw Error(ie(327));var n=t.callbackNode;if(Ul()&&t.callbackNode!==n)return null;var r=Bf(t,t===yn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ip(t,r);else{e=r;var s=ot;ot|=2;var o=Sj();(yn!==t||kn!==e)&&(lo=null,nc=Kt()+500,xa(t,e));do try{cF();break}catch(l){_j(t,l)}while(1);Vx(),rp.current=o,ot=s,tn!==null?e=0:(yn=null,kn=0,e=fn)}if(e!==0){if(e===2&&(s=w0(t),s!==0&&(r=s,e=K0(t,s))),e===1)throw n=id,xa(t,0),ni(t,r),gr(t,Kt()),n;if(e===6)ni(t,r);else{if(s=t.current.alternate,!(r&30)&&!aF(s)&&(e=ip(t,r),e===2&&(o=w0(t),o!==0&&(r=o,e=K0(t,o))),e===1))throw n=id,xa(t,0),ni(t,r),gr(t,Kt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:oa(t,lr,lo);break;case 3:if(ni(t,r),(r&130023424)===r&&(e=ew+500-Kt(),10<e)){if(Bf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=k0(oa.bind(null,t,lr,lo),e);break}oa(t,lr,lo);break;case 4:if(ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-hs(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=Kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iF(r/1960))-r,10<r){t.timeoutHandle=k0(oa.bind(null,t,lr,lo),r);break}oa(t,lr,lo);break;case 5:oa(t,lr,lo);break;default:throw Error(ie(329))}}}return gr(t,Kt()),t.callbackNode===n?bj.bind(null,t):null}function K0(t,e){var n=Au;return t.current.memoizedState.isDehydrated&&(xa(t,e).flags|=256),t=ip(t,e),t!==2&&(e=lr,lr=n,e!==null&&Y0(e)),t}function Y0(t){lr===null?lr=t:lr.push.apply(lr,t)}function aF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!vs(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ni(t,e){for(e&=~Zx,e&=~um,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hs(e),r=1<<n;t[n]=-1,e&=~r}}function uS(t){if(ot&6)throw Error(ie(327));Ul();var e=Bf(t,0);if(!(e&1))return gr(t,Kt()),null;var n=ip(t,e);if(t.tag!==0&&n===2){var r=w0(t);r!==0&&(e=r,n=K0(t,r))}if(n===1)throw n=id,xa(t,0),ni(t,e),gr(t,Kt()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oa(t,lr,lo),gr(t,Kt()),null}function tw(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(nc=Kt()+500,im&&Bi())}}function Ra(t){li!==null&&li.tag===0&&!(ot&6)&&Ul();var e=ot;ot|=1;var n=Wr.transition,r=mt;try{if(Wr.transition=null,mt=1,t)return t()}finally{mt=r,Wr.transition=n,ot=e,!(ot&6)&&Bi()}}function nw(){Er=jl.current,jt(jl)}function xa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LL(n)),tn!==null)for(n=tn.return;n!==null;){var r=n;switch(Mx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gf();break;case 3:ec(),jt(pr),jt(qn),Wx();break;case 5:qx(r);break;case 4:ec();break;case 13:jt(Dt);break;case 19:jt(Dt);break;case 10:zx(r.type._context);break;case 22:case 23:nw()}n=n.return}if(yn=t,tn=t=vi(t.current,null),kn=Er=e,fn=0,id=null,Zx=um=Ia=0,lr=Au=null,pa!==null){for(e=0;e<pa.length;e++)if(n=pa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}pa=null}return t}function _j(t,e){do{var n=tn;try{if(Vx(),hf.current=np,tp){for(var r=Mt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tp=!1}if(Aa=0,vn=cn=Mt=null,ju=!1,rd=0,Jx.current=null,n===null||n.return===null){fn=1,id=e,tn=null;break}e:{var o=t,i=n.return,l=n,c=e;if(e=kn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=X_(i);if(m!==null){m.flags&=-257,J_(m,i,l,o,e),m.mode&1&&Q_(o,u,e),e=m,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){Q_(o,u,e),rw();break e}c=Error(ie(426))}}else if(At&&l.mode&1){var S=X_(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),J_(S,i,l,o,e),Lx(tc(c,l));break e}}o=c=tc(c,l),fn!==4&&(fn=2),Au===null?Au=[o]:Au.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=oj(o,c,e);q_(o,_);break e;case 1:l=c;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(mi===null||!mi.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var j=ij(o,l,e);q_(o,j);break e}}o=o.return}while(o!==null)}Cj(n)}catch(R){e=R,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(1)}function Sj(){var t=rp.current;return rp.current=np,t===null?np:t}function rw(){(fn===0||fn===3||fn===2)&&(fn=4),yn===null||!(Ia&268435455)&&!(um&268435455)||ni(yn,kn)}function ip(t,e){var n=ot;ot|=2;var r=Sj();(yn!==t||kn!==e)&&(lo=null,xa(t,e));do try{lF();break}catch(s){_j(t,s)}while(1);if(Vx(),ot=n,rp.current=r,tn!==null)throw Error(ie(261));return yn=null,kn=0,fn}function lF(){for(;tn!==null;)Ej(tn)}function cF(){for(;tn!==null&&!D4();)Ej(tn)}function Ej(t){var e=Nj(t.alternate,t,Er);t.memoizedProps=t.pendingProps,e===null?Cj(t):tn=e,Jx.current=null}function Cj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nF(n,e),n!==null){n.flags&=32767,tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fn=6,tn=null;return}}else if(n=tF(n,e,Er),n!==null){tn=n;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);fn===0&&(fn=5)}function oa(t,e,n){var r=mt,s=Wr.transition;try{Wr.transition=null,mt=1,uF(t,e,n,r)}finally{Wr.transition=s,mt=r}return null}function uF(t,e,n,r){do Ul();while(li!==null);if(ot&6)throw Error(ie(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(q4(t,o),t===yn&&(tn=yn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ph||(Ph=!0,kj(Uf,function(){return Ul(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wr.transition,Wr.transition=null;var i=mt;mt=1;var l=ot;ot|=4,Jx.current=null,sF(t,n),xj(n,t),PL(T0),$f=!!C0,T0=C0=null,t.current=n,oF(n),O4(),ot=l,mt=i,Wr.transition=o}else t.current=n;if(Ph&&(Ph=!1,li=t,op=s),o=t.pendingLanes,o===0&&(mi=null),F4(n.stateNode),gr(t,Kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sp)throw sp=!1,t=H0,H0=null,t;return op&1&&t.tag!==0&&Ul(),o=t.pendingLanes,o&1?t===G0?Iu++:(Iu=0,G0=t):Iu=0,Bi(),null}function Ul(){if(li!==null){var t=ok(op),e=Wr.transition,n=mt;try{if(Wr.transition=null,mt=16>t?16:t,li===null)var r=!1;else{if(t=li,li=null,op=0,ot&6)throw Error(ie(331));var s=ot;for(ot|=4,be=t.current;be!==null;){var o=be,i=o.child;if(be.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(be=u;be!==null;){var d=be;switch(d.tag){case 0:case 11:case 15:Pu(8,d,o)}var f=d.child;if(f!==null)f.return=d,be=f;else for(;be!==null;){d=be;var p=d.sibling,m=d.return;if(gj(d),d===u){be=null;break}if(p!==null){p.return=m,be=p;break}be=m}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}be=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,be=i;else e:for(;be!==null;){if(o=be,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pu(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,be=_;break e}be=o.return}}var v=t.current;for(be=v;be!==null;){i=be;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,be=b;else e:for(i=v;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cm(9,l)}}catch(R){Ut(l,l.return,R)}if(l===i){be=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,be=j;break e}be=l.return}}if(ot=s,Bi(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(tm,t)}catch{}r=!0}return r}finally{mt=n,Wr.transition=e}}return!1}function dS(t,e,n){e=tc(n,e),e=oj(t,e,1),t=pi(t,e,1),e=Zn(),t!==null&&(jd(t,1,e),gr(t,e))}function Ut(t,e,n){if(t.tag===3)dS(t,t,n);else for(;e!==null;){if(e.tag===3){dS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){t=tc(n,t),t=ij(e,t,1),e=pi(e,t,1),t=Zn(),e!==null&&(jd(e,1,t),gr(e,t));break}}e=e.return}}function dF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zn(),t.pingedLanes|=t.suspendedLanes&n,yn===t&&(kn&n)===n&&(fn===4||fn===3&&(kn&130023424)===kn&&500>Kt()-ew?xa(t,0):Zx|=n),gr(t,e)}function Tj(t,e){e===0&&(t.mode&1?(e=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):e=1);var n=Zn();t=Co(t,e),t!==null&&(jd(t,e,n),gr(t,n))}function hF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Tj(t,n)}function fF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),Tj(t,n)}var Nj;Nj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pr.current)dr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dr=!1,eF(t,e,n);dr=!!(t.flags&131072)}else dr=!1,At&&e.flags&1048576&&Ak(e,Qf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pf(t,e),t=e.pendingProps;var s=Xl(e,qn.current);zl(e,n),s=Gx(null,e,r,t,s,n);var o=Kx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(r)?(o=!0,Kf(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bx(e),s.updater=lm,e.stateNode=s,s._reactInternals=e,O0(e,r,t,n),e=F0(null,e,r,!0,o,n)):(e.tag=0,At&&o&&Ox(e),Jn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=mF(r),t=is(r,t),s){case 0:e=L0(null,e,r,t,n);break e;case 1:e=tS(null,e,r,t,n);break e;case 11:e=Z_(null,e,r,t,n);break e;case 14:e=eS(null,e,r,is(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:is(r,s),L0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:is(r,s),tS(t,e,r,s,n);case 3:e:{if(uj(e),t===null)throw Error(ie(387));r=e.pendingProps,o=e.memoizedState,s=o.element,Lk(t,e),Zf(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=tc(Error(ie(423)),e),e=nS(t,e,r,n,s);break e}else if(r!==s){s=tc(Error(ie(424)),e),e=nS(t,e,r,n,s);break e}else for(kr=fi(e.stateNode.containerInfo.firstChild),Pr=e,At=!0,ls=null,n=Ok(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jl(),r===s){e=To(t,e,n);break e}Jn(t,e,r,n)}e=e.child}return e;case 5:return Fk(e),t===null&&I0(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,N0(r,s)?i=null:o!==null&&N0(r,o)&&(e.flags|=32),cj(t,e),Jn(t,e,i,n),e.child;case 6:return t===null&&I0(e),null;case 13:return dj(t,e,n);case 4:return $x(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zl(e,null,r,n):Jn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:is(r,s),Z_(t,e,r,s,n);case 7:return Jn(t,e,e.pendingProps,n),e.child;case 8:return Jn(t,e,e.pendingProps.children,n),e.child;case 12:return Jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,bt(Xf,r._currentValue),r._currentValue=i,o!==null)if(vs(o.value,i)){if(o.children===s.children&&!pr.current){e=To(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=yo(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),R0(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ie(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),R0(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Jn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,zl(e,n),s=Kr(s),r=r(s),e.flags|=1,Jn(t,e,r,n),e.child;case 14:return r=e.type,s=is(r,e.pendingProps),s=is(r.type,s),eS(t,e,r,s,n);case 15:return aj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:is(r,s),pf(t,e),e.tag=1,mr(r)?(t=!0,Kf(e)):t=!1,zl(e,n),sj(e,r,s),O0(e,r,s,n),F0(null,e,r,!0,t,n);case 19:return hj(t,e,n);case 22:return lj(t,e,n)}throw Error(ie(156,e.tag))};function kj(t,e){return tk(t,e)}function pF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(t,e,n,r){return new pF(t,e,n,r)}function sw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mF(t){if(typeof t=="function")return sw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sx)return 11;if(t===Ex)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=$r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vf(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")sw(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case xl:return wa(n.children,s,o,e);case _x:i=8,s|=8;break;case o0:return t=$r(12,n,e,s|2),t.elementType=o0,t.lanes=o,t;case i0:return t=$r(13,n,e,s),t.elementType=i0,t.lanes=o,t;case a0:return t=$r(19,n,e,s),t.elementType=a0,t.lanes=o,t;case FN:return dm(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MN:i=10;break e;case LN:i=9;break e;case Sx:i=11;break e;case Ex:i=14;break e;case Xo:i=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=$r(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function wa(t,e,n,r){return t=$r(7,t,r,e),t.lanes=n,t}function dm(t,e,n,r){return t=$r(22,t,r,e),t.elementType=FN,t.lanes=n,t.stateNode={isHidden:!1},t}function Xg(t,e,n){return t=$r(6,t,null,e),t.lanes=n,t}function Jg(t,e,n){return e=$r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ig(0),this.expirationTimes=Ig(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ig(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ow(t,e,n,r,s,o,i,l,c){return t=new gF(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=$r(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bx(o),t}function vF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jj(t){if(!t)return Ti;t=t._reactInternals;e:{if(Qa(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(mr(n))return jk(t,n,e)}return e}function Pj(t,e,n,r,s,o,i,l,c){return t=ow(n,r,!0,t,s,o,i,l,c),t.context=jj(null),n=t.current,r=Zn(),s=gi(n),o=yo(r,s),o.callback=e??null,pi(n,o,s),t.current.lanes=s,jd(t,s,r),gr(t,r),t}function hm(t,e,n,r){var s=e.current,o=Zn(),i=gi(s);return n=jj(n),e.context===null?e.context=n:e.pendingContext=n,e=yo(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pi(s,e,i),t!==null&&(fs(t,s,i,o),df(t,s,i)),i}function ap(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iw(t,e){hS(t,e),(t=t.alternate)&&hS(t,e)}function yF(){return null}var Aj=typeof reportError=="function"?reportError:function(t){console.error(t)};function aw(t){this._internalRoot=t}fm.prototype.render=aw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));hm(t,e,null,null)};fm.prototype.unmount=aw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ra(function(){hm(null,t,null,null)}),e[Eo]=null}};function fm(t){this._internalRoot=t}fm.prototype.unstable_scheduleHydration=function(t){if(t){var e=lk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ti.length&&e!==0&&e<ti[n].priority;n++);ti.splice(n,0,t),n===0&&uk(t)}};function lw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fS(){}function xF(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ap(i);o.call(u)}}var i=Pj(e,r,t,0,null,!1,!1,"",fS);return t._reactRootContainer=i,t[Eo]=i.current,Ju(t.nodeType===8?t.parentNode:t),Ra(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ap(c);l.call(u)}}var c=ow(t,0,!1,null,null,!1,!1,"",fS);return t._reactRootContainer=c,t[Eo]=c.current,Ju(t.nodeType===8?t.parentNode:t),Ra(function(){hm(e,c,n,r)}),c}function mm(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=ap(i);l.call(c)}}hm(e,i,t,s)}else i=xF(n,e,t,s,r);return ap(i)}ik=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pu(e.pendingLanes);n!==0&&(Nx(e,n|1),gr(e,Kt()),!(ot&6)&&(nc=Kt()+500,Bi()))}break;case 13:Ra(function(){var r=Co(t,1);if(r!==null){var s=Zn();fs(r,t,1,s)}}),iw(t,1)}};kx=function(t){if(t.tag===13){var e=Co(t,134217728);if(e!==null){var n=Zn();fs(e,t,134217728,n)}iw(t,134217728)}};ak=function(t){if(t.tag===13){var e=gi(t),n=Co(t,e);if(n!==null){var r=Zn();fs(n,t,e,r)}iw(t,e)}};lk=function(){return mt};ck=function(t,e){var n=mt;try{return mt=t,e()}finally{mt=n}};v0=function(t,e,n){switch(e){case"input":if(u0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=om(r);if(!s)throw Error(ie(90));zN(r),u0(r,s)}}}break;case"textarea":BN(t,n);break;case"select":e=n.value,e!=null&&Ml(t,!!n.multiple,e,!1)}};YN=tw;QN=Ra;var wF={usingClientEntryPoint:!1,Events:[Ad,Sl,om,GN,KN,tw]},nu={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bF={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZN(t),t===null?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||yF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{tm=Ah.inject(bF),Ls=Ah}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wF;Or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lw(e))throw Error(ie(200));return vF(t,e,null,n)};Or.createRoot=function(t,e){if(!lw(t))throw Error(ie(299));var n=!1,r="",s=Aj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ow(t,1,!1,null,null,n,!1,r,s),t[Eo]=e.current,Ju(t.nodeType===8?t.parentNode:t),new aw(e)};Or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=ZN(e),t=t===null?null:t.stateNode,t};Or.flushSync=function(t){return Ra(t)};Or.hydrate=function(t,e,n){if(!pm(e))throw Error(ie(200));return mm(null,t,e,!0,n)};Or.hydrateRoot=function(t,e,n){if(!lw(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Aj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=Pj(e,null,t,1,n??null,s,!1,o,i),t[Eo]=e.current,Ju(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new fm(e)};Or.render=function(t,e,n){if(!pm(e))throw Error(ie(200));return mm(null,t,e,!1,n)};Or.unmountComponentAtNode=function(t){if(!pm(t))throw Error(ie(40));return t._reactRootContainer?(Ra(function(){mm(null,null,t,!1,function(){t._reactRootContainer=null,t[Eo]=null})}),!0):!1};Or.unstable_batchedUpdates=tw;Or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pm(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return mm(t,e,n,!1,r)};Or.version="18.3.1-next-f1338f8080-20240426";function Ij(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ij)}catch(t){console.error(t)}}Ij(),IN.exports=Or;var _s=IN.exports;const _F=Ka(_s);var pS=_s;r0.createRoot=pS.createRoot,r0.hydrateRoot=pS.hydrateRoot;var Rj={exports:{}},SF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EF=SF,CF=EF;function Dj(){}function Oj(){}Oj.resetWarningCache=Dj;var TF=function(){function t(r,s,o,i,l,c){if(c!==CF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Oj,resetWarningCache:Dj};return n.PropTypes=n,n};Rj.exports=TF();var cw=Rj.exports;const je=Ka(cw);function NF(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Mj=g,kF=NF(Mj);function mS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var PF=!!(typeof window<"u"&&window.document&&window.document.createElement);function AF(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],l;function c(){l=t(i.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){jF(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=l;return l=void 0,i=[],y};var p=f.prototype;return p.UNSAFE_componentWillMount=function(){i.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var y=i.indexOf(this);i.splice(y,1),c()},p.render=function(){return kF.createElement(o,this.props)},f}(Mj.PureComponent);return mS(u,"displayName","SideEffect("+r(o)+")"),mS(u,"canUseDOM",PF),u}}var IF=AF;const RF=Ka(IF);var DF=typeof Element<"u",OF=typeof Map=="function",MF=typeof Set=="function",LF=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function yf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!yf(t[r],e[r]))return!1;return!0}var o;if(OF&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!yf(r.value[1],e.get(r.value[0])))return!1;return!0}if(MF&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(LF&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(DF&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!yf(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var FF=function(e,n){try{return yf(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const VF=Ka(FF);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var gS=Object.getOwnPropertySymbols,zF=Object.prototype.hasOwnProperty,UF=Object.prototype.propertyIsEnumerable;function BF(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function $F(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var qF=$F()?Object.assign:function(t,e){for(var n,r=BF(t),s,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var i in n)zF.call(n,i)&&(r[i]=n[i]);if(gS){s=gS(n);for(var l=0;l<s.length;l++)UF.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const WF=Ka(qF);var ba={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Be={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Be).map(function(t){return Be[t]});var Pt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},lp={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ad={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},HF=Object.keys(lp).reduce(function(t,e){return t[lp[e]]=e,t},{}),GF=[Be.NOSCRIPT,Be.SCRIPT,Be.STYLE],us="data-react-helmet",KF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YF=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},QF=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),or=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XF=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},vS=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},JF=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Q0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},ZF=function(e){var n=Bl(e,Be.TITLE),r=Bl(e,ad.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Bl(e,ad.DEFAULT_TITLE);return n||s||void 0},eV=function(e){return Bl(e,ad.ON_CHANGE_CLIENT_STATE)||function(){}},Zg=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return or({},r,s)},{})},tV=function(e,n){return n.filter(function(r){return typeof r[Be.BASE]<"u"}).map(function(r){return r[Be.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var o=Object.keys(s),i=0;i<o.length;i++){var l=o[i],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},ru=function(e,n,r){var s={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&oV("Helmet: "+e+' should be of type "Array". Instead found type "'+KF(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,i){var l={};i.filter(function(p){for(var m=void 0,y=Object.keys(p),x=0;x<y.length;x++){var S=y[x],_=S.toLowerCase();n.indexOf(_)!==-1&&!(m===Pt.REL&&p[m].toLowerCase()==="canonical")&&!(_===Pt.REL&&p[_].toLowerCase()==="stylesheet")&&(m=_),n.indexOf(S)!==-1&&(S===Pt.INNER_HTML||S===Pt.CSS_TEXT||S===Pt.ITEM_PROP)&&(m=S)}if(!m||!p[m])return!1;var v=p[m].toLowerCase();return s[m]||(s[m]={}),l[m]||(l[m]={}),s[m][v]?!1:(l[m][v]=!0,!0)}).reverse().forEach(function(p){return o.push(p)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=WF({},s[d],l[d]);s[d]=f}return o},[]).reverse()},Bl=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},nV=function(e){return{baseTag:tV([Pt.HREF,Pt.TARGET],e),bodyAttributes:Zg(ba.BODY,e),defer:Bl(e,ad.DEFER),encode:Bl(e,ad.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Zg(ba.HTML,e),linkTags:ru(Be.LINK,[Pt.REL,Pt.HREF],e),metaTags:ru(Be.META,[Pt.NAME,Pt.CHARSET,Pt.HTTPEQUIV,Pt.PROPERTY,Pt.ITEM_PROP],e),noscriptTags:ru(Be.NOSCRIPT,[Pt.INNER_HTML],e),onChangeClientState:eV(e),scriptTags:ru(Be.SCRIPT,[Pt.SRC,Pt.INNER_HTML],e),styleTags:ru(Be.STYLE,[Pt.CSS_TEXT],e),title:ZF(e),titleAttributes:Zg(ba.TITLE,e)}},X0=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){X0(e)},0)}}(),yS=function(e){return clearTimeout(e)},rV=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||X0:global.requestAnimationFrame||X0,sV=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||yS:global.cancelAnimationFrame||yS,oV=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},su=null,iV=function(e){su&&sV(su),e.defer?su=rV(function(){xS(e,function(){su=null})}):(xS(e),su=null)},xS=function(e,n){var r=e.baseTag,s=e.bodyAttributes,o=e.htmlAttributes,i=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,p=e.title,m=e.titleAttributes;J0(Be.BODY,s),J0(Be.HTML,o),aV(p,m);var y={baseTag:ll(Be.BASE,r),linkTags:ll(Be.LINK,i),metaTags:ll(Be.META,l),noscriptTags:ll(Be.NOSCRIPT,c),scriptTags:ll(Be.SCRIPT,d),styleTags:ll(Be.STYLE,f)},x={},S={};Object.keys(y).forEach(function(_){var v=y[_],b=v.newTags,j=v.oldTags;b.length&&(x[_]=b),j.length&&(S[_]=y[_].oldTags)}),n&&n(),u(e,x,S)},Lj=function(e){return Array.isArray(e)?e.join(""):e},aV=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=Lj(e)),J0(Be.TITLE,n)},J0=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(us),o=s?s.split(","):[],i=[].concat(o),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),o.indexOf(u)===-1&&o.push(u);var f=i.indexOf(u);f!==-1&&i.splice(f,1)}for(var p=i.length-1;p>=0;p--)r.removeAttribute(i[p]);o.length===i.length?r.removeAttribute(us):r.getAttribute(us)!==l.join(",")&&r.setAttribute(us,l.join(","))}},ll=function(e,n){var r=document.head||document.querySelector(Be.HEAD),s=r.querySelectorAll(e+"["+us+"]"),o=Array.prototype.slice.call(s),i=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Pt.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Pt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(us,"true"),o.some(function(p,m){return l=m,u.isEqualNode(p)})?o.splice(l,1):i.push(u)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return r.appendChild(c)}),{oldTags:o,newTags:i}},Fj=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},lV=function(e,n,r,s){var o=Fj(r),i=Lj(n);return o?"<"+e+" "+us+'="true" '+o+">"+Q0(i,s)+"</"+e+">":"<"+e+" "+us+'="true">'+Q0(i,s)+"</"+e+">"},cV=function(e,n,r){return n.reduce(function(s,o){var i=Object.keys(o).filter(function(u){return!(u===Pt.INNER_HTML||u===Pt.CSS_TEXT)}).reduce(function(u,d){var f=typeof o[d]>"u"?d:d+'="'+Q0(o[d],r)+'"';return u?u+" "+f:f},""),l=o.innerHTML||o.cssText||"",c=GF.indexOf(e)===-1;return s+"<"+e+" "+us+'="true" '+i+(c?"/>":">"+l+"</"+e+">")},"")},Vj=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[lp[s]||s]=e[s],r},n)},uV=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[HF[s]||s]=e[s],r},n)},dV=function(e,n,r){var s,o=(s={key:n},s[us]=!0,s),i=Vj(r,o);return[Pe.createElement(Be.TITLE,i,n)]},hV=function(e,n){return n.map(function(r,s){var o,i=(o={key:s},o[us]=!0,o);return Object.keys(r).forEach(function(l){var c=lp[l]||l;if(c===Pt.INNER_HTML||c===Pt.CSS_TEXT){var u=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[c]=r[l]}),Pe.createElement(e,i)})},oo=function(e,n,r){switch(e){case Be.TITLE:return{toComponent:function(){return dV(e,n.title,n.titleAttributes)},toString:function(){return lV(e,n.title,n.titleAttributes,r)}};case ba.BODY:case ba.HTML:return{toComponent:function(){return Vj(n)},toString:function(){return Fj(n)}};default:return{toComponent:function(){return hV(e,n)},toString:function(){return cV(e,n,r)}}}},zj=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,o=e.htmlAttributes,i=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,f=e.title,p=f===void 0?"":f,m=e.titleAttributes;return{base:oo(Be.BASE,n,s),bodyAttributes:oo(ba.BODY,r,s),htmlAttributes:oo(ba.HTML,o,s),link:oo(Be.LINK,i,s),meta:oo(Be.META,l,s),noscript:oo(Be.NOSCRIPT,c,s),script:oo(Be.SCRIPT,u,s),style:oo(Be.STYLE,d,s),title:oo(Be.TITLE,{title:p,titleAttributes:m},s)}},fV=function(e){var n,r;return r=n=function(s){XF(o,s);function o(){return YF(this,o),JF(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!VF(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Be.SCRIPT:case Be.NOSCRIPT:return{innerHTML:c};case Be.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,p=l.nestedChildren;return or({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[or({},f,this.mapNestedChildrenToProps(u,p))]),c))},o.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,p=l.newChildProps,m=l.nestedChildren;switch(d.type){case Be.TITLE:return or({},f,(c={},c[d.type]=m,c.titleAttributes=or({},p),c));case Be.BODY:return or({},f,{bodyAttributes:or({},p)});case Be.HTML:return or({},f,{htmlAttributes:or({},p)})}return or({},f,(u={},u[d.type]=or({},p),u))},o.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=or({},c);return Object.keys(l).forEach(function(d){var f;u=or({},u,(f={},f[d]=l[d],f))}),u},o.prototype.warnOnInvalidChildren=function(l,c){return!0},o.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Pe.Children.forEach(l,function(f){if(!(!f||!f.props)){var p=f.props,m=p.children,y=vS(p,["children"]),x=uV(y);switch(u.warnOnInvalidChildren(f,m),f.type){case Be.LINK:case Be.META:case Be.NOSCRIPT:case Be.SCRIPT:case Be.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:x,nestedChildren:m});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:x,nestedChildren:m});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},o.prototype.render=function(){var l=this.props,c=l.children,u=vS(l,["children"]),d=or({},u);return c&&(d=this.mapChildrenToProps(c,d)),Pe.createElement(e,d)},QF(o,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),o}(Pe.Component),n.propTypes={base:je.object,bodyAttributes:je.object,children:je.oneOfType([je.arrayOf(je.node),je.node]),defaultTitle:je.string,defer:je.bool,encodeSpecialCharacters:je.bool,htmlAttributes:je.object,link:je.arrayOf(je.object),meta:je.arrayOf(je.object),noscript:je.arrayOf(je.object),onChangeClientState:je.func,script:je.arrayOf(je.object),style:je.arrayOf(je.object),title:je.string,titleAttributes:je.object,titleTemplate:je.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=zj({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},pV=function(){return null},mV=RF(nV,iV,zj)(pV),Z0=fV(mV);Z0.renderStatic=Z0.rewind;const Uj=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),gm=g.createContext({}),vm=g.createContext(null),ym=typeof document<"u",uw=ym?g.useLayoutEffect:g.useEffect,Bj=g.createContext({strict:!1}),dw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),gV="framerAppearId",$j="data-"+dw(gV);function vV(t,e,n,r){const{visualElement:s}=g.useContext(gm),o=g.useContext(Bj),i=g.useContext(vm),l=g.useContext(Uj).reducedMotion,c=g.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;g.useInsertionEffect(()=>{u&&u.update(n,i)});const d=g.useRef(!!(n[$j]&&!window.HandoffComplete));return uw(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Pl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yV(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Pl(n)&&(n.current=r))},[e])}function ld(t){return typeof t=="string"||Array.isArray(t)}function xm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const hw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fw=["initial",...hw];function wm(t){return xm(t.animate)||fw.some(e=>ld(t[e]))}function qj(t){return!!(wm(t)||t.variants)}function xV(t,e){if(wm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ld(n)?n:void 0,animate:ld(r)?r:void 0}}return t.inherit!==!1?e:{}}function wV(t){const{initial:e,animate:n}=xV(t,g.useContext(gm));return g.useMemo(()=>({initial:e,animate:n}),[wS(e),wS(n)])}function wS(t){return Array.isArray(t)?t.join(" "):t}const bS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cd={};for(const t in bS)cd[t]={isEnabled:e=>bS[t].some(n=>!!e[n])};function bV(t){for(const e in t)cd[e]={...cd[e],...t[e]}}const pw=g.createContext({}),Wj=g.createContext({}),_V=Symbol.for("motionComponentSymbol");function SV({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&bV(t);function o(l,c){let u;const d={...g.useContext(Uj),...l,layoutId:EV(l)},{isStatic:f}=d,p=wV(l),m=r(l,f);if(!f&&ym){p.visualElement=vV(s,m,d,e);const y=g.useContext(Wj),x=g.useContext(Bj).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,x,t,y))}return g.createElement(gm.Provider,{value:p},u&&p.visualElement?g.createElement(u,{visualElement:p.visualElement,...d}):null,n(s,l,yV(m,p.visualElement,c),m,f,p.visualElement))}const i=g.forwardRef(o);return i[_V]=s,i}function EV({layoutId:t}){const e=g.useContext(pw).id;return e&&t!==void 0?e+"-"+t:t}function CV(t){function e(r,s={}){return SV(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const TV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mw(t){return typeof t!="string"||t.includes("-")?!1:!!(TV.indexOf(t)>-1||/[A-Z]/.test(t))}const cp={};function NV(t){Object.assign(cp,t)}const Rd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xa=new Set(Rd);function Hj(t,{layout:e,layoutId:n}){return Xa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cp[t]||t==="opacity")}const yr=t=>!!(t&&t.getVelocity),kV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jV=Rd.length;function PV(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<jV;i++){const l=Rd[i];if(t[l]!==void 0){const c=kV[l]||l;o+=`${c}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const Gj=t=>e=>typeof e=="string"&&e.startsWith(t),Kj=Gj("--"),ey=Gj("var(--"),AV=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,IV=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ni=(t,e,n)=>Math.min(Math.max(n,t),e),Ja={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ru={...Ja,transform:t=>Ni(0,1,t)},Ih={...Ja,default:1},Du=t=>Math.round(t*1e5)/1e5,bm=/(-)?([\d]*\.?[\d])+/g,Yj=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,RV=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Dd(t){return typeof t=="string"}const Od=t=>({test:e=>Dd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yo=Od("deg"),Vs=Od("%"),Re=Od("px"),DV=Od("vh"),OV=Od("vw"),_S={...Vs,parse:t=>Vs.parse(t)/100,transform:t=>Vs.transform(t*100)},SS={...Ja,transform:Math.round},Qj={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,size:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,rotate:Yo,rotateX:Yo,rotateY:Yo,rotateZ:Yo,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:Yo,skewX:Yo,skewY:Yo,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Ru,originX:_S,originY:_S,originZ:Re,zIndex:SS,fillOpacity:Ru,strokeOpacity:Ru,numOctaves:SS};function gw(t,e,n,r){const{style:s,vars:o,transform:i,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const f in e){const p=e[f];if(Kj(f)){o[f]=p;continue}const m=Qj[f],y=IV(p,m);if(Xa.has(f)){if(c=!0,i[f]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=y):s[f]=y}if(e.transform||(c||r?s.transform=PV(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${p} ${m}`}}const vw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xj(t,e,n){for(const r in e)!yr(e[r])&&!Hj(r,n)&&(t[r]=e[r])}function MV({transformTemplate:t},e,n){return g.useMemo(()=>{const r=vw();return gw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function LV(t,e,n){const r=t.style||{},s={};return Xj(s,r,t),Object.assign(s,MV(t,e,n)),t.transformValues?t.transformValues(s):s}function FV(t,e,n){const r={},s=LV(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const VV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function up(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VV.has(t)}let Jj=t=>!up(t);function zV(t){t&&(Jj=e=>e.startsWith("on")?!up(e):t(e))}try{zV(require("@emotion/is-prop-valid").default)}catch{}function UV(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Jj(s)||n===!0&&up(s)||!e&&!up(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function ES(t,e,n){return typeof t=="string"?t:Re.transform(e+n*t)}function BV(t,e,n){const r=ES(e,t.x,t.width),s=ES(n,t.y,t.height);return`${r} ${s}`}const $V={offset:"stroke-dashoffset",array:"stroke-dasharray"},qV={offset:"strokeDashoffset",array:"strokeDasharray"};function WV(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?$V:qV;t[o.offset]=Re.transform(-r);const i=Re.transform(e),l=Re.transform(n);t[o.array]=`${i} ${l}`}function yw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,p){if(gw(t,u,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:x}=t;m.transform&&(x&&(y.transform=m.transform),delete m.transform),x&&(s!==void 0||o!==void 0||y.transform)&&(y.transformOrigin=BV(x,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&WV(m,i,l,c,!1)}const Zj=()=>({...vw(),attrs:{}}),xw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function HV(t,e,n,r){const s=g.useMemo(()=>{const o=Zj();return yw(o,e,{enableHardwareAcceleration:!1},xw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Xj(o,t.style,t),s.style={...o,...s.style}}return s}function GV(t=!1){return(n,r,s,{latestValues:o},i)=>{const c=(mw(n)?HV:FV)(r,o,i,n),d={...UV(r,typeof n=="string",t),...c,ref:s},{children:f}=r,p=g.useMemo(()=>yr(f)?f.get():f,[f]);return g.createElement(n,{...d,children:p})}}function eP(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const tP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nP(t,e,n,r){eP(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(tP.has(s)?s:dw(s),e.attrs[s])}function ww(t,e){const{style:n}=t,r={};for(const s in n)(yr(n[s])||e.style&&yr(e.style[s])||Hj(s,t))&&(r[s]=n[s]);return r}function rP(t,e){const n=ww(t,e);for(const r in t)if(yr(t[r])||yr(e[r])){const s=Rd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function bw(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function sP(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const dp=t=>Array.isArray(t),KV=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),YV=t=>dp(t)?t[t.length-1]||0:t;function xf(t){const e=yr(t)?t.get():t;return KV(e)?e.toValue():e}function QV({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const i={latestValues:XV(r,s,o,t),renderState:e()};return n&&(i.mount=l=>n(r,l,i)),i}const oP=t=>(e,n)=>{const r=g.useContext(gm),s=g.useContext(vm),o=()=>QV(t,e,r,s);return n?o():sP(o)};function XV(t,e,n,r){const s={},o=r(t,{});for(const p in o)s[p]=xf(o[p]);let{initial:i,animate:l}=t;const c=wm(t),u=qj(t);e&&u&&!c&&t.inherit!==!1&&(i===void 0&&(i=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!xm(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=bw(t,m);if(!y)return;const{transitionEnd:x,transition:S,..._}=y;for(const v in _){let b=_[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(s[v]=b)}for(const v in x)s[v]=x[v]}),s}const Bt=t=>t;class CS{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function JV(t){let e=new CS,n=new CS,r=0,s=!1,o=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,p=f?e:n;return u&&i.add(c),p.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(c),i.has(d)&&(l.schedule(d),t())}s=!1,o&&(o=!1,l.process(c))}};return l}const Rh=["prepare","read","update","preRender","render","postRender"],ZV=40;function e3(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Rh.reduce((f,p)=>(f[p]=JV(()=>n=!0),f),{}),i=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,ZV),1),s.timestamp=f,s.isProcessing=!0,Rh.forEach(i),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:Rh.reduce((f,p)=>{const m=o[p];return f[p]=(y,x=!1,S=!1)=>(n||c(),m.schedule(y,x,S)),f},{}),cancel:f=>Rh.forEach(p=>o[p].cancel(f)),state:s,steps:o}}const{schedule:_t,cancel:No,state:Fn,steps:ev}=e3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bt,!0),t3={useVisualState:oP({scrapeMotionValuesFromProps:rP,createRenderState:Zj,onMount:(t,e,{renderState:n,latestValues:r})=>{_t.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),_t.render(()=>{yw(n,r,{enableHardwareAcceleration:!1},xw(e.tagName),t.transformTemplate),nP(e,n)})}})},n3={useVisualState:oP({scrapeMotionValuesFromProps:ww,createRenderState:vw})};function r3(t,{forwardMotionProps:e=!1},n,r){return{...mw(t)?t3:n3,preloadedFeatures:n,useRender:GV(e),createVisualElement:r,Component:t}}function fo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const iP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function _m(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const s3=t=>e=>iP(e)&&t(e,_m(e));function xo(t,e,n,r){return fo(t,e,s3(n),r)}const o3=(t,e)=>n=>e(t(n)),yi=(...t)=>t.reduce(o3);function aP(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const TS=aP("dragHorizontal"),NS=aP("dragVertical");function lP(t){let e=!1;if(t==="y")e=NS();else if(t==="x")e=TS();else{const n=TS(),r=NS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function cP(){const t=lP(!0);return t?(t(),!1):!0}class $i{constructor(e){this.isMounted=!1,this.node=e}update(){}}function kS(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(o,i)=>{if(o.pointerType==="touch"||cP())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&_t.update(()=>l[r](o,i))};return xo(t.current,n,s,{passive:!t.getProps()[r]})}class i3 extends $i{mount(){this.unmount=yi(kS(this.node,!0),kS(this.node,!1))}unmount(){}}class a3 extends $i{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yi(fo(this.node.current,"focus",()=>this.onFocus()),fo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const uP=(t,e)=>e?t===e?!0:uP(t,e.parentElement):!1;function tv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,_m(n))}class l3 extends $i{constructor(){super(...arguments),this.removeStartListeners=Bt,this.removeEndListeners=Bt,this.removeAccessibleListeners=Bt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=xo(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();_t.update(()=>{!f&&!uP(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=xo(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=yi(o,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||tv("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&_t.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=fo(this.node.current,"keyup",i),tv("down",(l,c)=>{this.startPress(l,c)})},n=fo(this.node.current,"keydown",e),r=()=>{this.isPressing&&tv("cancel",(o,i)=>this.cancelPress(o,i))},s=fo(this.node.current,"blur",r);this.removeAccessibleListeners=yi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&_t.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!cP()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&_t.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=xo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=fo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ty=new WeakMap,nv=new WeakMap,c3=t=>{const e=ty.get(t.target);e&&e(t)},u3=t=>{t.forEach(c3)};function d3({root:t,...e}){const n=t||document;nv.has(n)||nv.set(n,{});const r=nv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(u3,{root:t,...e})),r[s]}function h3(t,e,n){const r=d3(e);return ty.set(t,n),r.observe(t),()=>{ty.delete(t),r.unobserve(t)}}const f3={some:0,all:1};class p3 extends $i{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:f3[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return h3(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(m3(e,n))&&this.startObserver()}unmount(){}}function m3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const g3={inView:{Feature:p3},tap:{Feature:l3},focus:{Feature:a3},hover:{Feature:i3}};function dP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function v3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function y3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Sm(t,e,n){const r=t.getProps();return bw(r,e,n!==void 0?n:r.custom,v3(t),y3(t))}let x3=Bt,_w=Bt;const xi=t=>t*1e3,wo=t=>t/1e3,w3={current:!1},hP=t=>Array.isArray(t)&&typeof t[0]=="number";function fP(t){return!!(!t||typeof t=="string"&&pP[t]||hP(t)||Array.isArray(t)&&t.every(fP))}const gu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function mP(t){if(t)return hP(t)?gu(t):Array.isArray(t)?t.map(mP):pP[t]}function b3(t,e,n,{delay:r=0,duration:s,repeat:o=0,repeatType:i="loop",ease:l,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=mP(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}function _3(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const gP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,S3=1e-7,E3=12;function C3(t,e,n,r,s){let o,i,l=0;do i=e+(n-e)/2,o=gP(i,r,s)-t,o>0?n=i:e=i;while(Math.abs(o)>S3&&++l<E3);return i}function Md(t,e,n,r){if(t===e&&n===r)return Bt;const s=o=>C3(o,0,1,t,n);return o=>o===0||o===1?o:gP(s(o),e,r)}const T3=Md(.42,0,1,1),N3=Md(0,0,.58,1),vP=Md(.42,0,.58,1),k3=t=>Array.isArray(t)&&typeof t[0]!="number",yP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xP=t=>e=>1-t(1-e),Sw=t=>1-Math.sin(Math.acos(t)),wP=xP(Sw),j3=yP(Sw),bP=Md(.33,1.53,.69,.99),Ew=xP(bP),P3=yP(Ew),A3=t=>(t*=2)<1?.5*Ew(t):.5*(2-Math.pow(2,-10*(t-1))),I3={linear:Bt,easeIn:T3,easeInOut:vP,easeOut:N3,circIn:Sw,circInOut:j3,circOut:wP,backIn:Ew,backInOut:P3,backOut:bP,anticipate:A3},jS=t=>{if(Array.isArray(t)){_w(t.length===4);const[e,n,r,s]=t;return Md(e,n,r,s)}else if(typeof t=="string")return I3[t];return t},Cw=(t,e)=>n=>!!(Dd(n)&&RV.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),_P=(t,e,n)=>r=>{if(!Dd(r))return r;const[s,o,i,l]=r.match(bm);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},R3=t=>Ni(0,255,t),rv={...Ja,transform:t=>Math.round(R3(t))},ga={test:Cw("rgb","red"),parse:_P("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+rv.transform(t)+", "+rv.transform(e)+", "+rv.transform(n)+", "+Du(Ru.transform(r))+")"};function D3(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ny={test:Cw("#"),parse:D3,transform:ga.transform},Al={test:Cw("hsl","hue"),parse:_P("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vs.transform(Du(e))+", "+Vs.transform(Du(n))+", "+Du(Ru.transform(r))+")"},Qn={test:t=>ga.test(t)||ny.test(t)||Al.test(t),parse:t=>ga.test(t)?ga.parse(t):Al.test(t)?Al.parse(t):ny.parse(t),transform:t=>Dd(t)?t:t.hasOwnProperty("red")?ga.transform(t):Al.transform(t)},Ot=(t,e,n)=>-n*t+n*e+t;function sv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function O3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,i=0;if(!e)s=o=i=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=sv(c,l,t+1/3),o=sv(c,l,t),i=sv(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const ov=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},M3=[ny,ga,Al],L3=t=>M3.find(e=>e.test(t));function PS(t){const e=L3(t);let n=e.parse(t);return e===Al&&(n=O3(n)),n}const SP=(t,e)=>{const n=PS(t),r=PS(e),s={...n};return o=>(s.red=ov(n.red,r.red,o),s.green=ov(n.green,r.green,o),s.blue=ov(n.blue,r.blue,o),s.alpha=Ot(n.alpha,r.alpha,o),ga.transform(s))};function F3(t){var e,n;return isNaN(t)&&Dd(t)&&(((e=t.match(bm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Yj))===null||n===void 0?void 0:n.length)||0)>0}const EP={regex:AV,countKey:"Vars",token:"${v}",parse:Bt},CP={regex:Yj,countKey:"Colors",token:"${c}",parse:Qn.parse},TP={regex:bm,countKey:"Numbers",token:"${n}",parse:Ja.parse};function iv(t,{regex:e,countKey:n,token:r,parse:s}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(s)))}function hp(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&iv(n,EP),iv(n,CP),iv(n,TP),n}function NP(t){return hp(t).values}function kP(t){const{values:e,numColors:n,numVars:r,tokenised:s}=hp(t),o=e.length;return i=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(EP.token,i[c]):c<r+n?l=l.replace(CP.token,Qn.transform(i[c])):l=l.replace(TP.token,Du(i[c]));return l}}const V3=t=>typeof t=="number"?0:t;function z3(t){const e=NP(t);return kP(t)(e.map(V3))}const ki={test:F3,parse:NP,createTransformer:kP,getAnimatableNone:z3},jP=(t,e)=>n=>`${n>0?e:t}`;function PP(t,e){return typeof t=="number"?n=>Ot(t,e,n):Qn.test(t)?SP(t,e):t.startsWith("var(")?jP(t,e):IP(t,e)}const AP=(t,e)=>{const n=[...t],r=n.length,s=t.map((o,i)=>PP(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}},U3=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=PP(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},IP=(t,e)=>{const n=ki.createTransformer(e),r=hp(t),s=hp(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?yi(AP(r.values,s.values),n):jP(t,e)},ud=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},AS=(t,e)=>n=>Ot(t,e,n);function B3(t){return typeof t=="number"?AS:typeof t=="string"?Qn.test(t)?SP:IP:Array.isArray(t)?AP:typeof t=="object"?U3:AS}function $3(t,e,n){const r=[],s=n||B3(t[0]),o=t.length-1;for(let i=0;i<o;i++){let l=s(t[i],t[i+1]);if(e){const c=Array.isArray(e)?e[i]||Bt:e;l=yi(c,l)}r.push(l)}return r}function RP(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(_w(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=$3(e,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=ud(t[d],t[d+1],u);return i[d](f)};return n?u=>c(Ni(t[0],t[o-1],u)):c}function q3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ud(0,e,r);t.push(Ot(n,1,s))}}function W3(t){const e=[0];return q3(e,t.length-1),e}function H3(t,e){return t.map(n=>n*e)}function G3(t,e){return t.map(()=>e||vP).splice(0,t.length-1)}function fp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=k3(r)?r.map(jS):jS(r),o={done:!1,value:e[0]},i=H3(n&&n.length===e.length?n:W3(e),t),l=RP(i,e,{ease:Array.isArray(s)?s:G3(e,s)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}function DP(t,e){return e?t*(1e3/e):0}const K3=5;function OP(t,e,n){const r=Math.max(e-K3,0);return DP(n-t(r),e-r)}const av=.001,Y3=.01,IS=10,Q3=.05,X3=1;function J3({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o;x3(t<=xi(IS));let i=1-e;i=Ni(Q3,X3,i),t=Ni(Y3,IS,wo(t)),i<1?(s=u=>{const d=u*i,f=d*t,p=d-n,m=ry(u,i),y=Math.exp(-f);return av-p/m*y},o=u=>{const f=u*i*t,p=f*n+n,m=Math.pow(i,2)*Math.pow(u,2)*t,y=Math.exp(-f),x=ry(Math.pow(u,2),i);return(-s(u)+av>0?-1:1)*((p-m)*y)/x}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-av+d*f},o=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=e5(s,o,l);if(t=xi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const Z3=12;function e5(t,e,n){let r=n;for(let s=1;s<Z3;s++)r=r-t(r)/e(r);return r}function ry(t,e){return t*Math.sqrt(1-e*e)}const t5=["duration","bounce"],n5=["stiffness","damping","mass"];function RS(t,e){return e.some(n=>t[n]!==void 0)}function r5(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!RS(t,n5)&&RS(t,t5)){const n=J3(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function MP({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=r5({...r,velocity:-wo(r.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(l*u)),x=o-s,S=wo(Math.sqrt(l/u)),_=Math.abs(x)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let v;if(y<1){const b=ry(S,y);v=j=>{const R=Math.exp(-y*S*j);return o-R*((m+y*S*x)/b*Math.sin(b*j)+x*Math.cos(b*j))}}else if(y===1)v=b=>o-Math.exp(-S*b)*(x+(m+S*x)*b);else{const b=S*Math.sqrt(y*y-1);v=j=>{const R=Math.exp(-y*S*j),F=Math.min(b*j,300);return o-R*((m+y*S*x)*Math.sinh(F)+b*x*Math.cosh(F))/b}}return{calculatedDuration:p&&d||null,next:b=>{const j=v(b);if(p)i.done=b>=d;else{let R=m;b!==0&&(y<1?R=OP(v,b,j):R=0);const F=Math.abs(R)<=n,E=Math.abs(o-j)<=e;i.done=F&&E}return i.value=i.done?o:j,i}}}function DS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=T=>l!==void 0&&T<l||c!==void 0&&T>c,y=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let x=n*e;const S=f+x,_=i===void 0?S:i(S);_!==S&&(x=_-f);const v=T=>-x*Math.exp(-T/r),b=T=>_+v(T),j=T=>{const A=v(T),I=b(T);p.done=Math.abs(A)<=u,p.value=p.done?_:I};let R,F;const E=T=>{m(p.value)&&(R=T,F=MP({keyframes:[p.value,y(p.value)],velocity:OP(b,T,p.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:T=>{let A=!1;return!F&&R===void 0&&(A=!0,j(T),E(T)),R!==void 0&&T>R?F.next(T-R):(!A&&j(T),p)}}}const s5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_t.update(e,!0),stop:()=>No(e),now:()=>Fn.isProcessing?Fn.timestamp:performance.now()}},OS=2e4;function MS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<OS;)e+=n,r=t.next(e);return e>=OS?1/0:e}const o5={decay:DS,inertia:DS,tween:fp,keyframes:fp,spring:MP};function pp({autoplay:t=!0,delay:e=0,driver:n=s5,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,y=!1,x,S;const _=()=>{S=new Promise(K=>{x=K})};_();let v;const b=o5[s]||fp;let j;b!==fp&&typeof r[0]!="number"&&(j=RP([0,100],r,{clamp:!1}),r=[0,100]);const R=b({...p,keyframes:r});let F;l==="mirror"&&(F=b({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",T=null,A=null,I=null;R.calculatedDuration===null&&o&&(R.calculatedDuration=MS(R));const{calculatedDuration:k}=R;let N=1/0,P=1/0;k!==null&&(N=k+i,P=N*(o+1)-i);let D=0;const L=K=>{if(A===null)return;m>0&&(A=Math.min(A,K)),m<0&&(A=Math.min(K-P/m,A)),T!==null?D=T:D=Math.round(K-A)*m;const le=D-e*(m>=0?1:-1),ce=m>=0?le<0:le>P;D=Math.max(le,0),E==="finished"&&T===null&&(D=P);let me=D,Ue=R;if(o){const Ge=Math.min(D,P)/N;let q=Math.floor(Ge),de=Ge%1;!de&&Ge>=1&&(de=1),de===1&&q--,q=Math.min(q,o+1),!!(q%2)&&(l==="reverse"?(de=1-de,i&&(de-=i/N)):l==="mirror"&&(Ue=F)),me=Ni(0,1,de)*N}const Ae=ce?{done:!1,value:r[0]}:Ue.next(me);j&&(Ae.value=j(Ae.value));let{done:ue}=Ae;!ce&&k!==null&&(ue=m>=0?D>=P:D<=0);const Ie=T===null&&(E==="finished"||E==="running"&&ue);return f&&f(Ae.value),Ie&&M(),Ae},B=()=>{v&&v.stop(),v=void 0},$=()=>{E="idle",B(),x(),_(),A=I=null},M=()=>{E="finished",d&&d(),B(),x()},V=()=>{if(y)return;v||(v=n(L));const K=v.now();c&&c(),T!==null?A=K-T:(!A||E==="finished")&&(A=K),E==="finished"&&_(),I=A,T=null,E="running",v.start()};t&&V();const G={then(K,le){return S.then(K,le)},get time(){return wo(D)},set time(K){K=xi(K),D=K,T!==null||!v||m===0?T=K:A=v.now()-K/m},get duration(){const K=R.calculatedDuration===null?MS(R):R.calculatedDuration;return wo(K)},get speed(){return m},set speed(K){K===m||!v||(m=K,G.time=wo(D))},get state(){return E},play:V,pause:()=>{E="paused",T=D},stop:()=>{y=!0,E!=="idle"&&(E="idle",u&&u(),$())},cancel:()=>{I!==null&&L(I),$()},complete:()=>{E="finished"},sample:K=>(A=0,L(K))};return G}function i5(t){let e;return()=>(e===void 0&&(e=t()),e)}const a5=i5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),l5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Dh=10,c5=2e4,u5=(t,e)=>e.type==="spring"||t==="backgroundColor"||!fP(e.ease);function d5(t,e,{onUpdate:n,onComplete:r,...s}){if(!(a5()&&l5.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:f,duration:p=300,ease:m,times:y}=s;if(u5(e,s)){const b=pp({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const R=[];let F=0;for(;!j.done&&F<c5;)j=b.sample(F),R.push(j.value),F+=Dh;y=void 0,f=R,p=F-Dh,m="linear"}const x=b3(t.owner.current,e,f,{...s,duration:p,ease:m,times:y}),S=()=>{u=!1,x.cancel()},_=()=>{u=!0,_t.update(S),l(),d()};return x.onfinish=()=>{u||(t.set(_3(f,s)),r&&r(),_())},{then(b,j){return c.then(b,j)},attachTimeline(b){return x.timeline=b,x.onfinish=null,Bt},get time(){return wo(x.currentTime||0)},set time(b){x.currentTime=xi(b)},get speed(){return x.playbackRate},set speed(b){x.playbackRate=b},get duration(){return wo(p)},play:()=>{i||(x.play(),No(S))},pause:()=>x.pause(),stop:()=>{if(i=!0,x.playState==="idle")return;const{currentTime:b}=x;if(b){const j=pp({...s,autoplay:!1});t.setWithVelocity(j.sample(b-Dh).value,j.sample(b).value,Dh)}_()},complete:()=>{u||x.finish()},cancel:_}}function h5({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Bt,pause:Bt,stop:Bt,then:o=>(o(),Promise.resolve()),cancel:Bt,complete:Bt});return e?pp({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const f5={type:"spring",stiffness:500,damping:25,restSpeed:10},p5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),m5={type:"keyframes",duration:.8},g5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},v5=(t,{keyframes:e})=>e.length>2?m5:Xa.has(t)?t.startsWith("scale")?p5(e[1]):f5:g5,sy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ki.test(e)||e==="0")&&!e.startsWith("url(")),y5=new Set(["brightness","contrast","saturate","opacity"]);function x5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bm)||[];if(!r)return t;const s=n.replace(r,"");let o=y5.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const w5=/([a-z-]*)\(.*?\)/g,oy={...ki,getAnimatableNone:t=>{const e=t.match(w5);return e?e.map(x5).join(" "):t}},b5={...Qj,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:oy,WebkitFilter:oy},Tw=t=>b5[t];function LP(t,e){let n=Tw(t);return n!==oy&&(n=ki),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FP=t=>/^0[^.\s]+$/.test(t);function _5(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||FP(t)}function S5(t,e,n,r){const s=sy(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const i=r.from!==void 0?r.from:t.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?i:o[u-1]),_5(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=LP(e,l)}return o}function E5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Nw(t,e){return t[e]||t.default||t}const C5={skipAnimations:!1},kw=(t,e,n,r={})=>s=>{const o=Nw(r,t)||{},i=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-xi(i);const c=S5(e,t,n,o),u=c[0],d=c[c.length-1],f=sy(t,u),p=sy(t,d);let m={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:y=>{e.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(E5(o)||(m={...m,...v5(t,m)}),m.duration&&(m.duration=xi(m.duration)),m.repeatDelay&&(m.repeatDelay=xi(m.repeatDelay)),!f||!p||w3.current||o.type===!1||C5.skipAnimations)return h5(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=d5(e,t,m);if(y)return y}return pp(m)};function mp(t){return!!(yr(t)&&t.add)}const VP=t=>/^\-?\d*\.?\d+$/.test(t);function jw(t,e){t.indexOf(e)===-1&&t.push(e)}function Pw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Aw{constructor(){this.subscriptions=[]}add(e){return jw(this.subscriptions,e),()=>Pw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const T5=t=>!isNaN(parseFloat(t));class N5{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:i}=Fn;this.lastUpdated!==i&&(this.timeDelta=o,this.lastUpdated=i,_t.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>_t.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=T5(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Aw);const r=this.events[e].add(n);return e==="change"?()=>{r(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?DP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rc(t,e){return new N5(t,e)}const zP=t=>e=>e.test(t),k5={test:t=>t==="auto",parse:t=>t},UP=[Ja,Re,Vs,Yo,OV,DV,k5],ou=t=>UP.find(zP(t)),j5=[...UP,Qn,ki],P5=t=>j5.find(zP(t));function A5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,rc(n))}function I5(t,e){const n=Sm(t,e);let{transitionEnd:r={},transition:s={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const i in o){const l=YV(o[i]);A5(t,i,l)}}function R5(t,e,n){var r,s;const o=Object.keys(e).filter(l=>!t.hasValue(l)),i=o.length;if(i)for(let l=0;l<i;l++){const c=o[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),d!=null&&(typeof d=="string"&&(VP(d)||FP(d))?d=parseFloat(d):!P5(d)&&ki.test(u)&&(d=LP(c,u)),t.addValue(c,rc(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function D5(t,e){return e?(e[t]||e.default||e).from:void 0}function O5(t,e,n){const r={};for(const s in t){const o=D5(s,e);if(o!==void 0)r[s]=o;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function M5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function L5(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function BP(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const p=t.getValue(f),m=l[f];if(!p||m===void 0||d&&M5(d,f))continue;const y={delay:n,elapsed:0,...Nw(o||{},f)};if(window.HandoffAppearAnimations){const _=t.getProps()[$j];if(_){const v=window.HandoffAppearAnimations(_,f,p,_t);v!==null&&(y.elapsed=v,y.isHandoff=!0)}}let x=!y.isHandoff&&!L5(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(x=!1),p.animation&&(x=!1),x)continue;p.start(kw(f,p,m,t.shouldReduceMotion&&Xa.has(f)?{type:!1}:y));const S=p.animation;mp(c)&&(c.add(f),S.then(()=>c.remove(f))),u.push(S)}return i&&Promise.all(u).then(()=>{i&&I5(t,i)}),u}function iy(t,e,n={}){const r=Sm(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(BP(t,r,n)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return F5(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function F5(t,e,n=0,r=0,s=1,o){const i=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(V5).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(iy(u,e,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function V5(t,e){return t.sortNodePosition(e)}function z5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>iy(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=iy(t,e,n);else{const s=typeof e=="function"?Sm(t,e,n.custom):e;r=Promise.all(BP(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const U5=[...hw].reverse(),B5=hw.length;function $5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>z5(t,n,r)))}function q5(t){let e=$5(t);const n=H5();let r=!0;const s=(c,u)=>{const d=Sm(t,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function o(c){e=c(t)}function i(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},p=[],m=new Set;let y={},x=1/0;for(let _=0;_<B5;_++){const v=U5[_],b=n[v],j=d[v]!==void 0?d[v]:f[v],R=ld(j),F=v===u?b.isActive:null;F===!1&&(x=_);let E=j===f[v]&&j!==d[v]&&R;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...y},!b.isActive&&F===null||!j&&!b.prevProp||xm(j)||typeof j=="boolean")continue;let A=W5(b.prevProp,j)||v===u&&b.isActive&&!E&&R||_>x&&R,I=!1;const k=Array.isArray(j)?j:[j];let N=k.reduce(s,{});F===!1&&(N={});const{prevResolvedValues:P={}}=b,D={...P,...N},L=B=>{A=!0,m.has(B)&&(I=!0,m.delete(B)),b.needsAnimating[B]=!0};for(const B in D){const $=N[B],M=P[B];if(y.hasOwnProperty(B))continue;let V=!1;dp($)&&dp(M)?V=!dP($,M):V=$!==M,V?$!==void 0?L(B):m.add(B):$!==void 0&&m.has(B)?L(B):b.protectedKeys[B]=!0}b.prevProp=j,b.prevResolvedValues=N,b.isActive&&(y={...y,...N}),r&&t.blockInitialAnimation&&(A=!1),A&&(!E||I)&&p.push(...k.map(B=>({animation:B,options:{type:v,...c}})))}if(m.size){const _={};m.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(_[v]=b)}),p.push({animation:_})}let S=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const p=i(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n}}function W5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dP(e,t):!1}function na(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H5(){return{animate:na(!0),whileInView:na(),whileHover:na(),whileTap:na(),whileDrag:na(),whileFocus:na(),exit:na()}}class G5 extends $i{constructor(e){super(e),e.animationState||(e.animationState=q5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),xm(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let K5=0;class Y5 extends $i{constructor(){super(...arguments),this.id=K5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Q5={animation:{Feature:G5},exit:{Feature:Y5}},LS=(t,e)=>Math.abs(t-e);function X5(t,e){const n=LS(t.x,e.x),r=LS(t.y,e.y);return Math.sqrt(n**2+r**2)}class $P{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=cv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=X5(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=f,{timestamp:x}=Fn;this.history.push({...y,timestamp:x});const{onStart:S,onMove:_}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=lv(p,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=cv(f.type==="pointercancel"?this.lastMoveEventInfo:lv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,S),y&&y(f,S)},!iP(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=_m(e),l=lv(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Fn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,cv(l,this.history)),this.removeListeners=yi(xo(this.contextWindow,"pointermove",this.handlePointerMove),xo(this.contextWindow,"pointerup",this.handlePointerUp),xo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),No(this.updatePoint)}}function lv(t,e){return e?{point:e(t.point)}:t}function FS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cv({point:t},e){return{point:t,delta:FS(t,qP(e)),offset:FS(t,J5(e)),velocity:Z5(e,.1)}}function J5(t){return t[0]}function qP(t){return t[t.length-1]}function Z5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=qP(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>xi(e)));)n--;if(!r)return{x:0,y:0};const o=wo(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Dr(t){return t.max-t.min}function ay(t,e=0,n=.01){return Math.abs(t-e)<=n}function VS(t,e,n,r=.5){t.origin=r,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=Dr(n)/Dr(e),(ay(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ot(n.min,n.max,t.origin)-t.originPoint,(ay(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ou(t,e,n,r){VS(t.x,e.x,n.x,r?r.originX:void 0),VS(t.y,e.y,n.y,r?r.originY:void 0)}function zS(t,e,n){t.min=n.min+e.min,t.max=t.min+Dr(e)}function e6(t,e,n){zS(t.x,e.x,n.x),zS(t.y,e.y,n.y)}function US(t,e,n){t.min=e.min-n.min,t.max=t.min+Dr(e)}function Mu(t,e,n){US(t.x,e.x,n.x),US(t.y,e.y,n.y)}function t6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ot(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ot(n,t,r.max):Math.min(t,n)),t}function BS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function n6(t,{top:e,left:n,bottom:r,right:s}){return{x:BS(t.x,n,s),y:BS(t.y,e,r)}}function $S(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function r6(t,e){return{x:$S(t.x,e.x),y:$S(t.y,e.y)}}function s6(t,e){let n=.5;const r=Dr(t),s=Dr(e);return s>r?n=ud(e.min,e.max-r,t.min):r>s&&(n=ud(t.min,t.max-s,e.min)),Ni(0,1,n)}function o6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ly=.35;function i6(t=ly){return t===!1?t=0:t===!0&&(t=ly),{x:qS(t,"left","right"),y:qS(t,"top","bottom")}}function qS(t,e,n){return{min:WS(t,e),max:WS(t,n)}}function WS(t,e){return typeof t=="number"?t:t[e]||0}const HS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Il=()=>({x:HS(),y:HS()}),GS=()=>({min:0,max:0}),Jt=()=>({x:GS(),y:GS()});function Vr(t){return[t("x"),t("y")]}function WP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function a6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function l6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function uv(t){return t===void 0||t===1}function cy({scale:t,scaleX:e,scaleY:n}){return!uv(t)||!uv(e)||!uv(n)}function ia(t){return cy(t)||HP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function HP(t){return KS(t.x)||KS(t.y)}function KS(t){return t&&t!=="0%"}function gp(t,e,n){const r=t-n,s=e*r;return n+s}function YS(t,e,n,r,s){return s!==void 0&&(t=gp(t,s,r)),gp(t,n,r)+e}function uy(t,e=0,n=1,r,s){t.min=YS(t.min,e,n,r,s),t.max=YS(t.max,e,n,r,s)}function GP(t,{x:e,y:n}){uy(t.x,e.translate,e.scale,e.originPoint),uy(t.y,n.translate,n.scale,n.originPoint)}function c6(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,i;for(let l=0;l<s;l++){o=n[l],i=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Rl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,GP(t,i)),r&&ia(o.latestValues)&&Rl(t,o.latestValues))}e.x=QS(e.x),e.y=QS(e.y)}function QS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Zo(t,e){t.min=t.min+e,t.max=t.max+e}function XS(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,i=Ot(t.min,t.max,o);uy(t,e[n],e[r],i,e.scale)}const u6=["x","scaleX","originX"],d6=["y","scaleY","originY"];function Rl(t,e){XS(t.x,e,u6),XS(t.y,e,d6)}function KP(t,e){return WP(l6(t.getBoundingClientRect(),e))}function h6(t,e,n){const r=KP(t,n),{scroll:s}=e;return s&&(Zo(r.x,s.offset.x),Zo(r.y,s.offset.y)),r}const YP=({current:t})=>t?t.ownerDocument.defaultView:null,f6=new WeakMap;class p6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_m(d,"page").point)},o=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=lP(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vr(S=>{let _=this.getAxisMotionValue(S).get()||0;if(Vs.test(_)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[S];b&&(_=Dr(b)*(parseFloat(_)/100))}}this.originPoint[S]=_}),y&&_t.update(()=>y(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=f;if(m&&this.currentDirection===null){this.currentDirection=m6(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Vr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $P(e,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:YP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&_t.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Oh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=t6(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Pl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=n6(s.layoutBox,n):this.constraints=!1,this.elastic=i6(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vr(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=o6(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Pl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=h6(r,s.root,this.visualElement.getTransformPagePoint());let i=r6(s.layout.layoutBox,o);if(n){const l=n(a6(i));this.hasMutatedConstraints=!!l,l&&(i=WP(l))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Vr(d=>{if(!Oh(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(kw(e,r,0,n))}stopAnimation(){Vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vr(n=>{const{drag:r}=this.getProps();if(!Oh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];o.set(e[n]-Ot(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Pl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vr(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=s6({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vr(i=>{if(!Oh(i,e,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Ot(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;f6.set(this.visualElement,this);const e=this.visualElement.current,n=xo(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Pl(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=fo(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Vr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=ly,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Oh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function m6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class g6 extends $i{constructor(e){super(e),this.removeGroupControls=Bt,this.removeListeners=Bt,this.controls=new p6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const JS=t=>(e,n)=>{t&&_t.update(()=>t(e,n))};class v6 extends $i{constructor(){super(...arguments),this.removePointerDownListener=Bt}onPointerDown(e){this.session=new $P(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:JS(e),onStart:JS(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&_t.update(()=>s(o,i))}}}mount(){this.removePointerDownListener=xo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function y6(){const t=g.useContext(vm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=g.useId();return g.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=ZS(t,e.target.x),r=ZS(t,e.target.y);return`${n}% ${r}%`}},x6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ki.parse(t);if(s.length>5)return r;const o=ki.createTransformer(t),i=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+i]/=l,s[1+i]/=c;const u=Ot(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class w6 extends Pe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;NV(b6),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||_t.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QP(t){const[e,n]=y6(),r=g.useContext(pw);return Pe.createElement(w6,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(Wj),isPresent:e,safeToRemove:n})}const b6={borderRadius:{...iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iu,borderTopRightRadius:iu,borderBottomLeftRadius:iu,borderBottomRightRadius:iu,boxShadow:x6},XP=["TopLeft","TopRight","BottomLeft","BottomRight"],_6=XP.length,eE=t=>typeof t=="string"?parseFloat(t):t,tE=t=>typeof t=="number"||Re.test(t);function S6(t,e,n,r,s,o){s?(t.opacity=Ot(0,n.opacity!==void 0?n.opacity:1,E6(r)),t.opacityExit=Ot(e.opacity!==void 0?e.opacity:1,0,C6(r))):o&&(t.opacity=Ot(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<_6;i++){const l=`border${XP[i]}Radius`;let c=nE(e,l),u=nE(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||tE(c)===tE(u)?(t[l]=Math.max(Ot(eE(c),eE(u),r),0),(Vs.test(u)||Vs.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Ot(e.rotate||0,n.rotate||0,r))}function nE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const E6=JP(0,.5,wP),C6=JP(.5,.95,Bt);function JP(t,e,n){return r=>r<t?0:r>e?1:n(ud(t,e,r))}function rE(t,e){t.min=e.min,t.max=e.max}function Lr(t,e){rE(t.x,e.x),rE(t.y,e.y)}function sE(t,e,n,r,s){return t-=e,t=gp(t,1/n,r),s!==void 0&&(t=gp(t,1/s,r)),t}function T6(t,e=0,n=1,r=.5,s,o=t,i=t){if(Vs.test(e)&&(e=parseFloat(e),e=Ot(i.min,i.max,e/100)-i.min),typeof e!="number")return;let l=Ot(o.min,o.max,r);t===o&&(l-=e),t.min=sE(t.min,e,n,l,s),t.max=sE(t.max,e,n,l,s)}function oE(t,e,[n,r,s],o,i){T6(t,e[n],e[r],e[s],e.scale,o,i)}const N6=["x","scaleX","originX"],k6=["y","scaleY","originY"];function iE(t,e,n,r){oE(t.x,e,N6,n?n.x:void 0,r?r.x:void 0),oE(t.y,e,k6,n?n.y:void 0,r?r.y:void 0)}function aE(t){return t.translate===0&&t.scale===1}function ZP(t){return aE(t.x)&&aE(t.y)}function j6(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function eA(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function lE(t){return Dr(t.x)/Dr(t.y)}class P6{constructor(){this.members=[]}add(e){jw(this.members,e),e.scheduleRender()}remove(e){if(Pw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cE(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=t.x.scale*e.x,l=t.y.scale*e.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const A6=(t,e)=>t.depth-e.depth;class I6{constructor(){this.children=[],this.isDirty=!1}add(e){jw(this.children,e),this.isDirty=!0}remove(e){Pw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A6),this.isDirty=!1,this.children.forEach(e)}}function R6(t,e){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(No(r),t(o-e))};return _t.read(r,!0),()=>No(r)}function D6(t){window.MotionDebug&&window.MotionDebug.record(t)}function O6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function M6(t,e,n){const r=yr(t)?t:rc(t);return r.start(kw("",r,e,n)),r.animation}const uE=["","X","Y","Z"],L6={visibility:"hidden"},dE=1e3;let F6=0;const aa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function tA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=e==null?void 0:e()){this.id=F6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,aa.totalNodes=aa.resolvedTargetDeltas=aa.recalculatedProjection=0,this.nodes.forEach(U6),this.nodes.forEach(H6),this.nodes.forEach(G6),this.nodes.forEach(B6),D6(aa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new I6)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Aw),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=O6(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=R6(p,250),wf.hasAnimatedSinceResize&&(wf.hasAnimatedSinceResize=!1,this.nodes.forEach(fE))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||J6,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=d.getProps(),v=!this.targetLayout||!eA(this.targetLayout,y)||m,b=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...Nw(x,"layout"),onPlay:S,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else p||fE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,No(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K6),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hE);return}this.isUpdating||this.nodes.forEach(q6),this.isUpdating=!1,this.nodes.forEach(W6),this.nodes.forEach(V6),this.nodes.forEach(z6),this.clearAllSnapshots();const l=performance.now();Fn.delta=Ni(0,1e3/60,l-Fn.timestamp),Fn.timestamp=l,Fn.isProcessing=!0,ev.update.process(Fn),ev.preRender.process(Fn),ev.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($6),this.sharedNodes.forEach(Y6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!ZP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||ia(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),Z6(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Jt();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(Zo(l.x,c.offset.x),Zo(l.y,c.offset.y)),l}removeElementScroll(i){const l=Jt();Lr(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Lr(l,i);const{scroll:p}=this.root;p&&(Zo(l.x,-p.offset.x),Zo(l.y,-p.offset.y))}Zo(l.x,d.offset.x),Zo(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=Jt();Lr(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ia(d.latestValues)&&Rl(c,d.latestValues)}return ia(this.latestValues)&&Rl(c,this.latestValues),c}removeTransform(i){const l=Jt();Lr(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ia(u.latestValues))continue;cy(u.latestValues)&&u.updateSnapshot();const d=Jt(),f=u.measurePageBox();Lr(d,f),iE(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ia(this.latestValues)&&iE(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Mu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jt(),this.targetWithTransforms=Jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),GP(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Mu(this.relativeTargetOrigin,this.target,m.target),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}aa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cy(this.parent.latestValues)||HP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Lr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;c6(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=Il(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Il(),this.projectionDeltaWithTransform=Il());const x=this.projectionTransform;Ou(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=cE(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),aa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Jt(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,S=this.getStack(),_=!S||S.members.length<=1,v=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(X6));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const R=j/1e3;pE(f.x,i.x,R),pE(f.y,i.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q6(this.relativeTarget,this.relativeTargetOrigin,p,R),b&&j6(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Jt()),Lr(b,this.relativeTarget)),x&&(this.animationValues=d,S6(d,u,this.latestValues,R,v,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(No(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{wf.hasAnimatedSinceResize=!0,this.currentAnimation=M6(0,dE,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&nA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Jt();const f=Dr(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const p=Dr(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+p}Lr(l,c),Rl(l,d),Ou(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new P6),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<uE.length;d++){const f="rotate"+uE[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return L6;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=xf(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=xf(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!ia(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=cE(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in cp){if(p[x]===void 0)continue;const{correct:S,applyTo:_}=cp[x],v=u.transform==="none"?p[x]:S(p[x],f);if(_){const b=_.length;for(let j=0;j<b;j++)u[_[j]]=v}else u[x]=v}return this.options.layoutId&&(u.pointerEvents=f===this?xf(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(hE),this.root.sharedNodes.clear()}}}function V6(t){t.updateLayout()}function z6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,i=n.source!==t.layout.source;o==="size"?Vr(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],m=Dr(p);p.min=r[f].min,p.max=p.min+m}):nA(o,n.layoutBox,r)&&Vr(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],m=Dr(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const l=Il();Ou(l,r,n.layoutBox);const c=Il();i?Ou(c,t.applyTransform(s,!0),n.measuredBox):Ou(c,r,n.layoutBox);const u=!ZP(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=Jt();Mu(y,n.layoutBox,p.layoutBox);const x=Jt();Mu(x,r,m.layoutBox),eA(y,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function U6(t){aa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function B6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $6(t){t.clearSnapshot()}function hE(t){t.clearMeasurements()}function q6(t){t.isLayoutDirty=!1}function W6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H6(t){t.resolveTargetDelta()}function G6(t){t.calcProjection()}function K6(t){t.resetRotation()}function Y6(t){t.removeLeadSnapshot()}function pE(t,e,n){t.translate=Ot(e.translate,0,n),t.scale=Ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mE(t,e,n,r){t.min=Ot(e.min,n.min,r),t.max=Ot(e.max,n.max,r)}function Q6(t,e,n,r){mE(t.x,e.x,n.x,r),mE(t.y,e.y,n.y,r)}function X6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const J6={duration:.45,ease:[.4,0,.1,1]},gE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),vE=gE("applewebkit/")&&!gE("chrome/")?Math.round:Bt;function yE(t){t.min=vE(t.min),t.max=vE(t.max)}function Z6(t){yE(t.x),yE(t.y)}function nA(t,e,n){return t==="position"||t==="preserve-aspect"&&!ay(lE(e),lE(n),.2)}const e9=tA({attachResizeListener:(t,e)=>fo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dv={current:void 0},rA=tA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dv.current){const t=new e9({});t.mount(window),t.setOptions({layoutScroll:!0}),dv.current=t}return dv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),t9={pan:{Feature:v6},drag:{Feature:g6,ProjectionNode:rA,MeasureLayout:QP}},n9=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function r9(t){const e=n9.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function dy(t,e,n=1){const[r,s]=r9(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return VP(i)?parseFloat(i):i}else return ey(s)?dy(s,e,n+1):s}function s9(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const o=s.get();if(!ey(o))return;const i=dy(o,r);i&&s.set(i)});for(const s in e){const o=e[s];if(!ey(o))continue;const i=dy(o,r);i&&(e[s]=i,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:e,transitionEnd:n}}const o9=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),sA=t=>o9.has(t),i9=t=>Object.keys(t).some(sA),xE=t=>t===Ja||t===Re,wE=(t,e)=>parseFloat(t.split(", ")[e]),bE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return wE(s[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?wE(o[1],t):0}},a9=new Set(["x","y","z"]),l9=Rd.filter(t=>!a9.has(t));function c9(t){const e=[];return l9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const sc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bE(4,13),y:bE(5,14)};sc.translateX=sc.x;sc.translateY=sc.y;const u9=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,o=getComputedStyle(s),{display:i}=o,l={};i==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=sc[u](r,o)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=sc[u](c,o)}),t},d9=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(sA);let o=[],i=!1;const l=[];if(s.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],f=ou(d);const p=e[c];let m;if(dp(p)){const y=p.length,x=p[0]===null?1:0;d=p[x],f=ou(d);for(let S=x;S<y&&p[S]!==null;S++)m?_w(ou(p[S])===m):m=ou(p[S])}else m=ou(p);if(f!==m)if(xE(f)&&xE(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&m===Re&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):e[c]=f.transform(p):(i||(o=c9(t),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=u9(e,t,l);return o.length&&o.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),ym&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function h9(t,e,n,r){return i9(e)?d9(t,e,n,r):{target:e,transitionEnd:r}}const f9=(t,e,n,r)=>{const s=s9(t,e,r);return e=s.target,r=s.transitionEnd,h9(t,e,n,r)},hy={current:null},oA={current:!1};function p9(){if(oA.current=!0,!!ym)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hy.current=t.matches;t.addListener(e),e()}else hy.current=!1}function m9(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],i=n[s];if(yr(o))t.addValue(s,o),mp(r)&&r.add(s);else if(yr(i))t.addValue(s,rc(o,{owner:t})),mp(r)&&r.remove(s);else if(i!==o)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(s);t.addValue(s,rc(l!==void 0?l:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const _E=new WeakMap,iA=Object.keys(cd),g9=iA.length,SE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],v9=fw.length;class y9{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>_t.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=wm(n),this.isVariantNode=qj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];l[f]!==void 0&&yr(p)&&(p.set(l[f],!1),mp(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,_E.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oA.current||p9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_E.delete(this.current),this.projection&&this.projection.unmount(),No(this.notifyUpdate),No(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Xa.has(e),s=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&_t.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,o){let i,l;for(let c=0;c<g9;c++){const u=iA[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=cd[u];p&&(i=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Pl(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:p,layoutRoot:m})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SE.length;r++){const s=SE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=e["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=m9(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<v9;r++){const s=fw[r],o=this.props[s];(ld(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=rc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=bw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!yr(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Aw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class aA extends y9{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},o){let i=O5(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),o){R5(this,r,i);const l=f9(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function x9(t){return window.getComputedStyle(t)}class w9 extends aA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Xa.has(n)){const r=Tw(n);return r&&r.default||0}else{const r=x9(e),s=(Kj(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return KP(e,n)}build(e,n,r,s){gw(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ww(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){eP(e,n,r,s)}}class b9 extends aA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xa.has(n)){const r=Tw(n);return r&&r.default||0}return n=tP.has(n)?n:dw(n),e.getAttribute(n)}measureInstanceViewportBox(){return Jt()}scrapeMotionValuesFromProps(e,n){return rP(e,n)}build(e,n,r,s){yw(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){nP(e,n,r,s)}mount(e){this.isSVGTag=xw(e.tagName),super.mount(e)}}const _9=(t,e)=>mw(t)?new b9(e,{enableHardwareAcceleration:!1}):new w9(e,{enableHardwareAcceleration:!0}),S9={layout:{ProjectionNode:rA,MeasureLayout:QP}},E9={...Q5,...g3,...t9,...S9},Se=CV((t,e)=>r3(t,e,E9,_9));function lA(){const t=g.useRef(!1);return uw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function C9(){const t=lA(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>_t.postRender(r),[r]),e]}class T9 extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function N9({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:o,height:i,top:l,left:c}=s.current;if(e||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),g.createElement(T9,{isPresent:e,childRef:r,sizeRef:s},g.cloneElement(t,{ref:r}))}const hv=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const l=sP(k9),c=g.useId(),u=g.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return g.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(t=g.createElement(N9,{isPresent:n},t)),g.createElement(vm.Provider,{value:u},t)};function k9(){return new Map}function j9(t){return g.useEffect(()=>()=>t(),[])}const la=t=>t.key||"";function P9(t,e){t.forEach(n=>{const r=la(n);e.set(r,n)})}function A9(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const cA=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const l=g.useContext(pw).forceRender||C9()[0],c=lA(),u=A9(t);let d=u;const f=g.useRef(new Map).current,p=g.useRef(d),m=g.useRef(new Map).current,y=g.useRef(!0);if(uw(()=>{y.current=!1,P9(u,m),p.current=d}),j9(()=>{y.current=!0,m.clear(),f.clear()}),y.current)return g.createElement(g.Fragment,null,d.map(v=>g.createElement(hv,{key:la(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},v)));d=[...d];const x=p.current.map(la),S=u.map(la),_=x.length;for(let v=0;v<_;v++){const b=x[v];S.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((v,b)=>{if(S.indexOf(b)!==-1)return;const j=m.get(b);if(!j)return;const R=x.indexOf(b);let F=v;if(!F){const E=()=>{f.delete(b);const T=Array.from(m.keys()).filter(A=>!S.includes(A));if(T.forEach(A=>m.delete(A)),p.current=u.filter(A=>{const I=la(A);return I===b||T.includes(I)}),!f.size){if(c.current===!1)return;l(),r&&r()}};F=g.createElement(hv,{key:la(j),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:o,mode:i},j),f.set(b,F)}d.splice(R,0,F)}),d=d.map(v=>{const b=v.key;return f.has(b)?v:g.createElement(hv,{key:la(v),isPresent:!0,presenceAffectsLayout:o,mode:i},v)}),g.createElement(g.Fragment,null,f.size?d:d.map(v=>g.cloneElement(v)))};var I9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const R9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),he=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...c},u)=>g.createElement("svg",{ref:u,...I9,width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:`lucide lucide-${R9(t)}`,...c},[...e.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},fy=he("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),zs=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),D9=he("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),EE=he("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),O9=he("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),M9=he("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),CE=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),L9=he("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),fv=he("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),F9=he("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),V9=he("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),ar=he("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),pv=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Mh=he("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),da=he("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),_a=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),vp=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),z9=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),uA=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),dA=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),U9=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),B9=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ei=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Lh=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),$9=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),py=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Tn=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),yp=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$l=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Us=he("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Iw=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),TE=he("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),hA=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),q9=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),NE=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),fA=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),kE=he("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),W9=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),jE=he("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),my=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),PE=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Sa=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),xp=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),H9=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),G9=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),K9=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Y9=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),hr=he("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),mv=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),ps=he("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Ea=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),gv=he("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),AE=he("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Tr=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),wp=he("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Fh=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),pA=he("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),mA=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Nr=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ca=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dd=he("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),cs=he("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),bf=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Q9=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Lu=he("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),vu=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),IE=he("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Hr=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Da=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),cr=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),X9=he("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Rw=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),J9=he("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),yu=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Z9=he("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),qr=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ms=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ez=he("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),tz=he("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),vr=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gy=he("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),nz=he("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function gA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=gA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=gA(t))&&(r&&(r+=" "),r+=e);return r}function rz(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=yA(e))&&(r&&(r+=" "),r+=n);return r}function yA(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=yA(t[r]))&&(n&&(n+=" "),n+=e);return n}var Dw="-";function sz(t){var e=iz(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(Dw);return c[0]===""&&c.length!==1&&c.shift(),xA(c,e)||oz(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function xA(t,e){var i;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?xA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var o=t.join(Dw);return(i=e.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var RE=/^\[(.+)\]$/;function oz(t){if(RE.test(t)){var e=RE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function iz(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=lz(Object.entries(t.classGroups),n);return s.forEach(function(o){var i=o[0],l=o[1];vy(l,r,i,e)}),r}function vy(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var o=s===""?e:DE(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(az(s)){vy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];vy(c,DE(e,l),n,r)})})}function DE(t,e){var n=t;return e.split(Dw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function az(t){return t.isThemeGetter}function lz(t,e){return e?t.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[e+c,u]})):i});return[r,o]}):t}function cz(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var wA="!";function uz(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(i){for(var l=[],c=0,u=0,d,f=0;f<i.length;f++){var p=i[f];if(c===0){if(p===r&&(n||i.slice(f,f+s)===e)){l.push(i.slice(u,f)),u=f+s;continue}if(p==="/"){d=f;continue}}p==="["?c++:p==="]"&&c--}var m=l.length===0?i:i.substring(u),y=m.startsWith(wA),x=y?m.substring(1):m,S=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:S}}}function dz(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function hz(t){return{cache:cz(t.cacheSize),splitModifiers:uz(t),...sz(t)}}var fz=/\s+/;function pz(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(fz).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,p=r(f?d.substring(0,f):d),m=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:i};if(p=r(d),!p)return{isTailwindClass:!1,originalClassName:i};m=!1}var y=dz(c).join(":"),x=u?y+wA:y;return{isTailwindClass:!0,modifierId:x,classGroupId:p,originalClassName:i,hasPostfixModifier:m}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function mz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,o,i=l;function l(u){var d=e[0],f=e.slice(1),p=f.reduce(function(m,y){return y(m)},d());return r=hz(p),s=r.cache.get,o=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=pz(u,r);return o(u,f),f}return function(){return i(rz.apply(null,arguments))}}function Tt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var bA=/^\[(?:([a-z-]+):)?(.+)\]$/i,gz=/^\d+\/\d+$/,vz=new Set(["px","full","screen"]),yz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wz=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function rs(t){return va(t)||vz.has(t)||gz.test(t)||yy(t)}function yy(t){return Za(t,"length",Tz)}function bz(t){return Za(t,"size",_A)}function _z(t){return Za(t,"position",_A)}function Sz(t){return Za(t,"url",Nz)}function Vh(t){return Za(t,"number",va)}function va(t){return!Number.isNaN(Number(t))}function Ez(t){return t.endsWith("%")&&va(t.slice(0,-1))}function au(t){return OE(t)||Za(t,"number",OE)}function Xe(t){return bA.test(t)}function lu(){return!0}function qo(t){return yz.test(t)}function Cz(t){return Za(t,"",kz)}function Za(t,e,n){var r=bA.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function Tz(t){return xz.test(t)}function _A(){return!1}function Nz(t){return t.startsWith("url(")}function OE(t){return Number.isInteger(Number(t))}function kz(t){return wz.test(t)}function jz(){var t=Tt("colors"),e=Tt("spacing"),n=Tt("blur"),r=Tt("brightness"),s=Tt("borderColor"),o=Tt("borderRadius"),i=Tt("borderSpacing"),l=Tt("borderWidth"),c=Tt("contrast"),u=Tt("grayscale"),d=Tt("hueRotate"),f=Tt("invert"),p=Tt("gap"),m=Tt("gradientColorStops"),y=Tt("gradientColorStopPositions"),x=Tt("inset"),S=Tt("margin"),_=Tt("opacity"),v=Tt("padding"),b=Tt("saturate"),j=Tt("scale"),R=Tt("sepia"),F=Tt("skew"),E=Tt("space"),T=Tt("translate"),A=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",Xe,e]},N=function(){return[Xe,e]},P=function(){return["",rs]},D=function(){return["auto",va,Xe]},L=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},B=function(){return["solid","dashed","dotted","double","none"]},$=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},M=function(){return["start","end","center","between","around","evenly","stretch"]},V=function(){return["","0",Xe]},G=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},K=function(){return[va,Vh]},le=function(){return[va,Xe]};return{cacheSize:500,theme:{colors:[lu],spacing:[rs],blur:["none","",qo,Xe],brightness:K(),borderColor:[t],borderRadius:["none","","full",qo,Xe],borderSpacing:N(),borderWidth:P(),contrast:K(),grayscale:V(),hueRotate:le(),invert:V(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Ez,yy],inset:k(),margin:k(),opacity:K(),padding:N(),saturate:K(),scale:K(),sepia:V(),skew:le(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[qo]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(L(),[Xe])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",au]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",au]}],"grid-cols":[{"grid-cols":[lu]}],"col-start-end":[{col:["auto",{span:["full",au]},Xe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[lu]}],"row-start-end":[{row:["auto",{span:[au]},Xe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(M())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(M(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(M(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Xe,e]}],"min-w":[{"min-w":["min","max","fit",Xe,rs]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[qo]},qo,Xe]}],h:[{h:[Xe,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Xe,rs]}],"max-h":[{"max-h":[Xe,e,"min","max","fit"]}],"font-size":[{text:["base",qo,yy]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vh]}],"font-family":[{font:[lu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",va,Vh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xe,rs]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(B(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",rs]}],"underline-offset":[{"underline-offset":["auto",Xe,rs]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(L(),[_z])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat(B(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(B())}],"outline-offset":[{"outline-offset":[Xe,rs]}],"outline-w":[{outline:[rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",qo,Cz]}],"shadow-color":[{shadow:[lu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":$()}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qo,Xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[au,Xe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[rs,Vh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Pz=mz(jz);function $e(...t){return Pz(vA(t))}function ME(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function SA(...t){return e=>{let n=!1;const r=t.map(s=>{const o=ME(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():ME(t[s],null)}}}}function vt(...t){return g.useCallback(SA(...t),t)}function Oa(t){const e=Iz(t),n=g.forwardRef((r,s)=>{const{children:o,...i}=r,l=g.Children.toArray(o),c=l.find(Dz);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...i,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var Az=Oa("Slot");function Iz(t){const e=g.forwardRef((n,r)=>{const{children:s,...o}=n;if(g.isValidElement(s)){const i=Mz(s),l=Oz(o,s.props);return s.type!==g.Fragment&&(l.ref=r?SA(r,i):i),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var EA=Symbol("radix.slottable");function Rz(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=EA,e}function Dz(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EA}function Oz(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function Mz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const LE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FE=vA,Em=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return FE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const p=LE(d)||LE(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(y=>{let[x,S]=y;return Array.isArray(S)?S.includes({...o,...l}[x]):{...o,...l}[x]===S})?[...u,f,p]:u},[]);return FE(t,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Lz=Em("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=Pe.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?Az:"button";return a.jsx(i,{className:$e(Lz({variant:e,size:n,className:t})),ref:o,...s})});Q.displayName="Button";function Ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Fz(t,e){const n=g.createContext(e),r=o=>{const{children:i,...l}=o,c=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=t+"Provider";function s(o){const i=g.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Zs(t,e=[]){let n=[];function r(o,i){const l=g.createContext(i),c=n.length;n=[...n,i];const u=f=>{var _;const{scope:p,children:m,...y}=f,x=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,S=g.useMemo(()=>y,Object.values(y));return a.jsx(x.Provider,{value:S,children:m})};u.displayName=o+"Provider";function d(f,p){var x;const m=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,y=g.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(l){const c=(l==null?void 0:l[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,Vz(s,...e)]}function Vz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Ow(t){const e=t+"CollectionProvider",[n,r]=Zs(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:S,children:_}=x,v=Pe.useRef(null),b=Pe.useRef(new Map).current;return a.jsx(s,{scope:S,itemMap:b,collectionRef:v,children:_})};i.displayName=e;const l=t+"CollectionSlot",c=Oa(l),u=Pe.forwardRef((x,S)=>{const{scope:_,children:v}=x,b=o(l,_),j=vt(S,b.collectionRef);return a.jsx(c,{ref:j,children:v})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Oa(d),m=Pe.forwardRef((x,S)=>{const{scope:_,children:v,...b}=x,j=Pe.useRef(null),R=vt(S,j),F=o(d,_);return Pe.useEffect(()=>(F.itemMap.set(j,{ref:j,...b}),()=>void F.itemMap.delete(j))),a.jsx(p,{[f]:"",ref:R,children:v})});m.displayName=d;function y(x){const S=o(t+"CollectionConsumer",x);return Pe.useCallback(()=>{const v=S.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((F,E)=>b.indexOf(F.ref.current)-b.indexOf(E.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},y,r]}var zz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=zz.reduce((t,e)=>{const n=Oa(`Primitive.${e}`),r=g.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function CA(t,e){t&&_s.flushSync(()=>t.dispatchEvent(e))}function Qr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Uz(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Bz="DismissableLayer",xy="dismissableLayer.update",$z="dismissableLayer.pointerDownOutside",qz="dismissableLayer.focusOutside",VE,TA=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_c=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=t,u=g.useContext(TA),[d,f]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),y=vt(e,E=>f(E)),x=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(S),v=d?x.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=_,R=Hz(E=>{const T=E.target,A=[...u.branches].some(I=>I.contains(T));!j||A||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},p),F=Gz(E=>{const T=E.target;[...u.branches].some(I=>I.contains(T))||(o==null||o(E),i==null||i(E),E.defaultPrevented||l==null||l())},p);return Uz(E=>{v===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),zE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=VE)}},[d,p,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),zE())},[d,u]),g.useEffect(()=>{const E=()=>m({});return document.addEventListener(xy,E),()=>document.removeEventListener(xy,E)},[]),a.jsx(ze.div,{...c,ref:y,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,R.onPointerDownCapture)})});_c.displayName=Bz;var Wz="DismissableLayerBranch",NA=g.forwardRef((t,e)=>{const n=g.useContext(TA),r=g.useRef(null),s=vt(e,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(ze.div,{...t,ref:s})});NA.displayName=Wz;function Hz(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){kA($z,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Gz(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t),r=g.useRef(!1);return g.useEffect(()=>{const s=o=>{o.target&&!r.current&&kA(qz,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zE(){const t=new CustomEvent(xy);document.dispatchEvent(t)}function kA(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?CA(s,o):s.dispatchEvent(o)}var Kz=_c,Yz=NA,Pn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Qz="Portal",Ld=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,o]=g.useState(!1);Pn(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?_F.createPortal(a.jsx(ze.div,{...r,ref:e}),i):null});Ld.displayName=Qz;function Xz(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Mo=t=>{const{present:e,children:n}=t,r=Jz(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=vt(r.ref,Zz(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};Mo.displayName="Presence";function Jz(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),o=g.useRef("none"),i=t?"mounted":"unmounted",[l,c]=Xz(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=zh(r.current);o.current=l==="mounted"?u:"none"},[l]),Pn(()=>{const u=r.current,d=s.current;if(d!==t){const p=o.current,m=zh(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Pn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const x=zh(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&x&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=m=>{m.target===e&&(o.current=zh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function zh(t){return(t==null?void 0:t.animationName)||"none"}function Zz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eU=PN[" useInsertionEffect ".trim().toString()]||Pn;function Ma({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=tU({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=g.useCallback(d=>{var f;if(l){const p=nU(d)?d(t):d;p!==t&&((f=i.current)==null||f.call(i,p))}else o(d)},[l,t,o,i]);return[c,u]}function tU({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),o=g.useRef(e);return eU(()=>{o.current=e},[e]),g.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function nU(t){return typeof t=="function"}var jA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rU="VisuallyHidden",Cm=g.forwardRef((t,e)=>a.jsx(ze.span,{...t,ref:e,style:{...jA,...t.style}}));Cm.displayName=rU;var sU=Cm,Mw="ToastProvider",[Lw,oU,iU]=Ow("Toast"),[PA,tne]=Zs("Toast",[iU]),[aU,Tm]=PA(Mw),AA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mw}\`. Expected non-empty \`string\`.`),a.jsx(Lw.Provider,{scope:e,children:a.jsx(aU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};AA.displayName=Mw;var IA="ToastViewport",lU=["F8"],wy="toast.viewportPause",by="toast.viewportResume",RA=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=lU,label:s="Notifications ({hotkey})",...o}=t,i=Tm(IA,n),l=oU(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),p=vt(e,f,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;g.useEffect(()=>{const S=_=>{var b;r.length!==0&&r.every(j=>_[j]||_.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=c.current,_=f.current;if(y&&S&&_){const v=()=>{if(!i.isClosePausedRef.current){const F=new CustomEvent(wy);_.dispatchEvent(F),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const F=new CustomEvent(by);_.dispatchEvent(F),i.isClosePausedRef.current=!1}},j=F=>{!S.contains(F.relatedTarget)&&b()},R=()=>{S.contains(document.activeElement)||b()};return S.addEventListener("focusin",v),S.addEventListener("focusout",j),S.addEventListener("pointermove",v),S.addEventListener("pointerleave",R),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{S.removeEventListener("focusin",v),S.removeEventListener("focusout",j),S.removeEventListener("pointermove",v),S.removeEventListener("pointerleave",R),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[y,i.isClosePausedRef]);const x=g.useCallback(({tabbingDirection:S})=>{const v=l().map(b=>{const j=b.ref.current,R=[j,...bU(j)];return S==="forwards"?R:R.reverse()});return(S==="forwards"?v.reverse():v).flat()},[l]);return g.useEffect(()=>{const S=f.current;if(S){const _=v=>{var R,F,E;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const T=document.activeElement,A=v.shiftKey;if(v.target===S&&A){(R=u.current)==null||R.focus();return}const N=x({tabbingDirection:A?"backwards":"forwards"}),P=N.findIndex(D=>D===T);vv(N.slice(P+1))?v.preventDefault():A?(F=u.current)==null||F.focus():(E=d.current)==null||E.focus()}};return S.addEventListener("keydown",_),()=>S.removeEventListener("keydown",_)}},[l,x]),a.jsxs(Yz,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(_y,{ref:u,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});vv(S)}}),a.jsx(Lw.Slot,{scope:n,children:a.jsx(ze.ol,{tabIndex:-1,...o,ref:p})}),y&&a.jsx(_y,{ref:d,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});vv(S)}})]})});RA.displayName=IA;var DA="ToastFocusProxy",_y=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=Tm(DA,n);return a.jsx(Cm,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});_y.displayName=DA;var Fd="Toast",cU="toast.swipeStart",uU="toast.swipeMove",dU="toast.swipeCancel",hU="toast.swipeEnd",OA=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[l,c]=Ma({prop:r,defaultProp:s??!0,onChange:o,caller:Fd});return a.jsx(Mo,{present:n||l,children:a.jsx(mU,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:Qr(t.onPause),onResume:Qr(t.onResume),onSwipeStart:Ce(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});OA.displayName=Fd;var[fU,pU]=PA(Fd,{onClose(){}}),mU=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...y}=t,x=Tm(Fd,n),[S,_]=g.useState(null),v=vt(e,D=>_(D)),b=g.useRef(null),j=g.useRef(null),R=s||x.duration,F=g.useRef(0),E=g.useRef(R),T=g.useRef(0),{onToastAdd:A,onToastRemove:I}=x,k=Qr(()=>{var L;(S==null?void 0:S.contains(document.activeElement))&&((L=x.viewport)==null||L.focus()),i()}),N=g.useCallback(D=>{!D||D===1/0||(window.clearTimeout(T.current),F.current=new Date().getTime(),T.current=window.setTimeout(k,D))},[k]);g.useEffect(()=>{const D=x.viewport;if(D){const L=()=>{N(E.current),u==null||u()},B=()=>{const $=new Date().getTime()-F.current;E.current=E.current-$,window.clearTimeout(T.current),c==null||c()};return D.addEventListener(wy,B),D.addEventListener(by,L),()=>{D.removeEventListener(wy,B),D.removeEventListener(by,L)}}},[x.viewport,R,c,u,N]),g.useEffect(()=>{o&&!x.isClosePausedRef.current&&N(R)},[o,R,x.isClosePausedRef,N]),g.useEffect(()=>(A(),()=>I()),[A,I]);const P=g.useMemo(()=>S?BA(S):null,[S]);return x.viewport?a.jsxs(a.Fragment,{children:[P&&a.jsx(gU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:P}),a.jsx(fU,{scope:n,onClose:k,children:_s.createPortal(a.jsx(Lw.ItemSlot,{scope:n,children:a.jsx(Kz,{asChild:!0,onEscapeKeyDown:Ce(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ze.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ce(t.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:Ce(t.onPointerMove,D=>{if(!b.current)return;const L=D.clientX-b.current.x,B=D.clientY-b.current.y,$=!!j.current,M=["left","right"].includes(x.swipeDirection),V=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,G=M?V(0,L):0,K=M?0:V(0,B),le=D.pointerType==="touch"?10:2,ce={x:G,y:K},me={originalEvent:D,delta:ce};$?(j.current=ce,Uh(uU,f,me,{discrete:!1})):UE(ce,x.swipeDirection,le)?(j.current=ce,Uh(cU,d,me,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(L)>le||Math.abs(B)>le)&&(b.current=null)}),onPointerUp:Ce(t.onPointerUp,D=>{const L=j.current,B=D.target;if(B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),j.current=null,b.current=null,L){const $=D.currentTarget,M={originalEvent:D,delta:L};UE(L,x.swipeDirection,x.swipeThreshold)?Uh(hU,m,M,{discrete:!0}):Uh(dU,p,M,{discrete:!0}),$.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),gU=t=>{const{__scopeToast:e,children:n,...r}=t,s=Tm(Fd,e),[o,i]=g.useState(!1),[l,c]=g.useState(!1);return xU(()=>i(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Ld,{asChild:!0,children:a.jsx(Cm,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},vU="ToastTitle",MA=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(ze.div,{...r,ref:e})});MA.displayName=vU;var yU="ToastDescription",LA=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(ze.div,{...r,ref:e})});LA.displayName=yU;var FA="ToastAction",VA=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(UA,{altText:n,asChild:!0,children:a.jsx(Fw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${FA}\`. Expected non-empty \`string\`.`),null)});VA.displayName=FA;var zA="ToastClose",Fw=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=pU(zA,n);return a.jsx(UA,{asChild:!0,children:a.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,s.onClose)})})});Fw.displayName=zA;var UA=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function BA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),wU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...BA(r))}}),e}function Uh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?CA(s,o):s.dispatchEvent(o)}var UE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function xU(t=()=>{}){const e=Qr(t);Pn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function wU(t){return t.nodeType===t.ELEMENT_NODE}function bU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _U=AA,$A=RA,qA=OA,WA=MA,HA=LA,GA=VA,KA=Fw;const SU=_U,YA=Pe.forwardRef(({className:t,...e},n)=>a.jsx($A,{ref:n,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));YA.displayName=$A.displayName;const EU=Em("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QA=Pe.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(qA,{ref:r,className:$e(EU({variant:e}),t),...n}));QA.displayName=qA.displayName;const CU=Pe.forwardRef(({className:t,...e},n)=>a.jsx(GA,{ref:n,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));CU.displayName=GA.displayName;const XA=Pe.forwardRef(({className:t,...e},n)=>a.jsx(KA,{ref:n,className:$e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(vr,{className:"h-4 w-4"})}));XA.displayName=KA.displayName;const JA=Pe.forwardRef(({className:t,...e},n)=>a.jsx(WA,{ref:n,className:$e("text-sm font-semibold",t),...e}));JA.displayName=WA.displayName;const ZA=Pe.forwardRef(({className:t,...e},n)=>a.jsx(HA,{ref:n,className:$e("text-sm opacity-90",t),...e}));ZA.displayName=HA.displayName;const TU=5;let yv=0;function NU(){return yv=(yv+1)%Number.MAX_VALUE,yv.toString()}const Xn={state:{toasts:[]},listeners:[],getState:()=>Xn.state,setState:t=>{typeof t=="function"?Xn.state=t(Xn.state):Xn.state={...Xn.state,...t},Xn.listeners.forEach(e=>e(Xn.state))},subscribe:t=>(Xn.listeners.push(t),()=>{Xn.listeners=Xn.listeners.filter(e=>e!==t)})},kU=({...t})=>{const e=NU(),n=s=>Xn.setState(o=>({...o,toasts:o.toasts.map(i=>i.id===e?{...i,...s}:i)})),r=()=>Xn.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==e)}));return Xn.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,TU)})),{id:e,dismiss:r,update:n}};function xr(){const[t,e]=g.useState(Xn.getState());return g.useEffect(()=>Xn.subscribe(r=>{e(r)}),[]),g.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:kU,toasts:t.toasts}}function jU(){const{toasts:t}=xr();return a.jsxs(SU,{children:[t.map(({id:e,title:n,description:r,action:s,...o})=>a.jsxs(QA,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(JA,{children:n}),r&&a.jsx(ZA,{children:r})]}),s,a.jsx(XA,{})]},e)),a.jsx(YA,{})]})}var PU=PN[" useId ".trim().toString()]||(()=>{}),AU=0;function bo(t){const[e,n]=g.useState(PU());return Pn(()=>{t||n(r=>r??String(AU++))},[t]),t||(e?`radix-${e}`:"")}const IU=["top","right","bottom","left"],ji=Math.min,Cr=Math.max,bp=Math.round,Bh=Math.floor,Bs=t=>({x:t,y:t}),RU={left:"right",right:"left",bottom:"top",top:"bottom"},DU={start:"end",end:"start"};function Sy(t,e,n){return Cr(t,ji(e,n))}function ko(t,e){return typeof t=="function"?t(e):t}function jo(t){return t.split("-")[0]}function Sc(t){return t.split("-")[1]}function Vw(t){return t==="x"?"y":"x"}function zw(t){return t==="y"?"height":"width"}const OU=new Set(["top","bottom"]);function Ms(t){return OU.has(jo(t))?"y":"x"}function Uw(t){return Vw(Ms(t))}function MU(t,e,n){n===void 0&&(n=!1);const r=Sc(t),s=Uw(t),o=zw(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=_p(i)),[i,_p(i)]}function LU(t){const e=_p(t);return[Ey(t),e,Ey(e)]}function Ey(t){return t.replace(/start|end/g,e=>DU[e])}const BE=["left","right"],$E=["right","left"],FU=["top","bottom"],VU=["bottom","top"];function zU(t,e,n){switch(t){case"top":case"bottom":return n?e?$E:BE:e?BE:$E;case"left":case"right":return e?FU:VU;default:return[]}}function UU(t,e,n,r){const s=Sc(t);let o=zU(jo(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Ey)))),o}function _p(t){return t.replace(/left|right|bottom|top/g,e=>RU[e])}function BU(t){return{top:0,right:0,bottom:0,left:0,...t}}function e2(t){return typeof t!="number"?BU(t):{top:t,right:t,bottom:t,left:t}}function Sp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function qE(t,e,n){let{reference:r,floating:s}=t;const o=Ms(e),i=Uw(e),l=zw(i),c=jo(e),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Sc(e)){case"start":m[i]-=p*(n&&u?-1:1);break;case"end":m[i]+=p*(n&&u?-1:1);break}return m}const $U=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=qE(u,r,c),p=r,m={},y=0;for(let x=0;x<l.length;x++){const{name:S,fn:_}=l[x],{x:v,y:b,data:j,reset:R}=await _({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:t,floating:e}});d=v??d,f=b??f,m={...m,[S]:{...m[S],...j}},R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(u=R.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:d,y:f}=qE(u,p,c)),x=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function hd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=ko(e,t),y=e2(m),S=l[p?f==="floating"?"reference":"floating":f],_=Sp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},R=Sp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(_.top-R.top+y.top)/j.y,bottom:(R.bottom-_.bottom+y.bottom)/j.y,left:(_.left-R.left+y.left)/j.x,right:(R.right-_.right+y.right)/j.x}}const qU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ko(t,e)||{};if(u==null)return{};const f=e2(d),p={x:n,y:r},m=Uw(s),y=zw(m),x=await i.getDimensions(u),S=m==="y",_=S?"top":"left",v=S?"bottom":"right",b=S?"clientHeight":"clientWidth",j=o.reference[y]+o.reference[m]-p[m]-o.floating[y],R=p[m]-o.reference[m],F=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let E=F?F[b]:0;(!E||!await(i.isElement==null?void 0:i.isElement(F)))&&(E=l.floating[b]||o.floating[y]);const T=j/2-R/2,A=E/2-x[y]/2-1,I=ji(f[_],A),k=ji(f[v],A),N=I,P=E-x[y]-k,D=E/2-x[y]/2+T,L=Sy(N,D,P),B=!c.arrow&&Sc(s)!=null&&D!==L&&o.reference[y]/2-(D<N?I:k)-x[y]/2<0,$=B?D<N?D-N:D-P:0;return{[m]:p[m]+$,data:{[m]:L,centerOffset:D-L-$,...B&&{alignmentOffset:$}},reset:B}}}),WU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...S}=ko(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=jo(s),v=Ms(l),b=jo(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),R=p||(b||!x?[_p(l)]:LU(l)),F=y!=="none";!p&&F&&R.push(...UU(l,x,y,j));const E=[l,...R],T=await hd(e,S),A=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[_]),f){const D=MU(s,i,j);A.push(T[D[0]],T[D[1]])}if(I=[...I,{placement:s,overflows:A}],!A.every(D=>D<=0)){var k,N;const D=(((k=o.flip)==null?void 0:k.index)||0)+1,L=E[D];if(L&&(!(f==="alignment"?v!==Ms(L):!1)||I.every(M=>Ms(M.placement)===v?M.overflows[0]>0:!0)))return{data:{index:D,overflows:I},reset:{placement:L}};let B=(N=I.filter($=>$.overflows[0]<=0).sort(($,M)=>$.overflows[1]-M.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(m){case"bestFit":{var P;const $=(P=I.filter(M=>{if(F){const V=Ms(M.placement);return V===v||V==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(V=>V>0).reduce((V,G)=>V+G,0)]).sort((M,V)=>M[1]-V[1])[0])==null?void 0:P[0];$&&(B=$);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function WE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function HE(t){return IU.some(e=>t[e]>=0)}const HU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ko(t,e);switch(r){case"referenceHidden":{const o=await hd(e,{...s,elementContext:"reference"}),i=WE(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:HE(i)}}}case"escaped":{const o=await hd(e,{...s,altBoundary:!0}),i=WE(o,n.floating);return{data:{escapedOffsets:i,escaped:HE(i)}}}default:return{}}}}},t2=new Set(["left","top"]);async function GU(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=jo(n),l=Sc(n),c=Ms(n)==="y",u=t2.has(i)?-1:1,d=o&&c?-1:1,f=ko(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const KU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=e,c=await GU(e,t);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},YU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:S=>{let{x:_,y:v}=S;return{x:_,y:v}}},...c}=ko(t,e),u={x:n,y:r},d=await hd(e,c),f=Ms(jo(s)),p=Vw(f);let m=u[p],y=u[f];if(o){const S=p==="y"?"top":"left",_=p==="y"?"bottom":"right",v=m+d[S],b=m-d[_];m=Sy(v,m,b)}if(i){const S=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=y+d[S],b=y-d[_];y=Sy(v,y,b)}const x=l.fn({...e,[p]:m,[f]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:o,[f]:i}}}}}},QU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ko(t,e),d={x:n,y:r},f=Ms(s),p=Vw(f);let m=d[p],y=d[f];const x=ko(l,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=p==="y"?"height":"width",j=o.reference[p]-o.floating[b]+S.mainAxis,R=o.reference[p]+o.reference[b]-S.mainAxis;m<j?m=j:m>R&&(m=R)}if(u){var _,v;const b=p==="y"?"width":"height",j=t2.has(jo(s)),R=o.reference[f]-o.floating[b]+(j&&((_=i.offset)==null?void 0:_[f])||0)+(j?0:S.crossAxis),F=o.reference[f]+o.reference[b]+(j?0:((v=i.offset)==null?void 0:v[f])||0)-(j?S.crossAxis:0);y<R?y=R:y>F&&(y=F)}return{[p]:m,[f]:y}}}},XU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:l}=e,{apply:c=()=>{},...u}=ko(t,e),d=await hd(e,u),f=jo(s),p=Sc(s),m=Ms(s)==="y",{width:y,height:x}=o.floating;let S,_;f==="top"||f==="bottom"?(S=f,_=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,S=p==="end"?"top":"bottom");const v=x-d.top-d.bottom,b=y-d.left-d.right,j=ji(x-d[S],v),R=ji(y-d[_],b),F=!e.middlewareData.shift;let E=j,T=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=v),F&&!p){const I=Cr(d.left,0),k=Cr(d.right,0),N=Cr(d.top,0),P=Cr(d.bottom,0);m?T=y-2*(I!==0||k!==0?I+k:Cr(d.left,d.right)):E=x-2*(N!==0||P!==0?N+P:Cr(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:E});const A=await i.getDimensions(l.floating);return y!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Nm(){return typeof window<"u"}function Ec(t){return n2(t)?(t.nodeName||"").toLowerCase():"#document"}function Ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function eo(t){var e;return(e=(n2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function n2(t){return Nm()?t instanceof Node||t instanceof Ar(t).Node:!1}function ys(t){return Nm()?t instanceof Element||t instanceof Ar(t).Element:!1}function Qs(t){return Nm()?t instanceof HTMLElement||t instanceof Ar(t).HTMLElement:!1}function GE(t){return!Nm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ar(t).ShadowRoot}const JU=new Set(["inline","contents"]);function Vd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=xs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!JU.has(s)}const ZU=new Set(["table","td","th"]);function eB(t){return ZU.has(Ec(t))}const tB=[":popover-open",":modal"];function km(t){return tB.some(e=>{try{return t.matches(e)}catch{return!1}})}const nB=["transform","translate","scale","rotate","perspective"],rB=["transform","translate","scale","rotate","perspective","filter"],sB=["paint","layout","strict","content"];function Bw(t){const e=$w(),n=ys(t)?xs(t):t;return nB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||rB.some(r=>(n.willChange||"").includes(r))||sB.some(r=>(n.contain||"").includes(r))}function oB(t){let e=Pi(t);for(;Qs(e)&&!oc(e);){if(Bw(e))return e;if(km(e))return null;e=Pi(e)}return null}function $w(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iB=new Set(["html","body","#document"]);function oc(t){return iB.has(Ec(t))}function xs(t){return Ar(t).getComputedStyle(t)}function jm(t){return ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pi(t){if(Ec(t)==="html")return t;const e=t.assignedSlot||t.parentNode||GE(t)&&t.host||eo(t);return GE(e)?e.host:e}function r2(t){const e=Pi(t);return oc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qs(e)&&Vd(e)?e:r2(e)}function fd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=r2(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Ar(s);if(o){const l=Cy(i);return e.concat(i,i.visualViewport||[],Vd(s)?s:[],l&&n?fd(l):[])}return e.concat(s,fd(s,[],n))}function Cy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function s2(t){const e=xs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qs(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,l=bp(n)!==o||bp(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function qw(t){return ys(t)?t:t.contextElement}function ql(t){const e=qw(t);if(!Qs(e))return Bs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=s2(e);let i=(o?bp(n.width):n.width)/r,l=(o?bp(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const aB=Bs(0);function o2(t){const e=Ar(t);return!$w()||!e.visualViewport?aB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ar(t)?!1:e}function La(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=qw(t);let i=Bs(1);e&&(r?ys(r)&&(i=ql(r)):i=ql(t));const l=lB(o,n,r)?o2(o):Bs(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=Ar(o),m=r&&ys(r)?Ar(r):r;let y=p,x=Cy(y);for(;x&&r&&m!==y;){const S=ql(x),_=x.getBoundingClientRect(),v=xs(x),b=_.left+(x.clientLeft+parseFloat(v.paddingLeft))*S.x,j=_.top+(x.clientTop+parseFloat(v.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,f*=S.y,c+=b,u+=j,y=Ar(x),x=Cy(y)}}return Sp({width:d,height:f,x:c,y:u})}function Pm(t,e){const n=jm(t).scrollLeft;return e?e.left+n:La(eo(t)).left+n}function i2(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Pm(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function cB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=eo(r),l=e?km(e.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Bs(1);const d=Bs(0),f=Qs(r);if((f||!f&&!o)&&((Ec(r)!=="body"||Vd(i))&&(c=jm(r)),Qs(r))){const m=La(r);u=ql(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=i&&!f&&!o?i2(i,c):Bs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function uB(t){return Array.from(t.getClientRects())}function dB(t){const e=eo(t),n=jm(t),r=t.ownerDocument.body,s=Cr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Cr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Pm(t);const l=-n.scrollTop;return xs(r).direction==="rtl"&&(i+=Cr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}const KE=25;function hB(t,e){const n=Ar(t),r=eo(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const d=$w();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Pm(r);if(u<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-m);y<=KE&&(o-=y)}else u<=KE&&(o+=u);return{width:o,height:i,x:l,y:c}}const fB=new Set(["absolute","fixed"]);function pB(t,e){const n=La(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Qs(t)?ql(t):Bs(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function YE(t,e,n){let r;if(e==="viewport")r=hB(t,n);else if(e==="document")r=dB(eo(t));else if(ys(e))r=pB(e,n);else{const s=o2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Sp(r)}function a2(t,e){const n=Pi(t);return n===e||!ys(n)||oc(n)?!1:xs(n).position==="fixed"||a2(n,e)}function mB(t,e){const n=e.get(t);if(n)return n;let r=fd(t,[],!1).filter(l=>ys(l)&&Ec(l)!=="body"),s=null;const o=xs(t).position==="fixed";let i=o?Pi(t):t;for(;ys(i)&&!oc(i);){const l=xs(i),c=Bw(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&fB.has(s.position)||Vd(i)&&!c&&a2(t,i))?r=r.filter(d=>d!==i):s=l,i=Pi(i)}return e.set(t,r),r}function gB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?km(e)?[]:mB(e,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=YE(e,d,s);return u.top=Cr(f.top,u.top),u.right=ji(f.right,u.right),u.bottom=ji(f.bottom,u.bottom),u.left=Cr(f.left,u.left),u},YE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function vB(t){const{width:e,height:n}=s2(t);return{width:e,height:n}}function yB(t,e,n){const r=Qs(e),s=eo(e),o=n==="fixed",i=La(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Bs(0);function u(){c.x=Pm(s)}if(r||!r&&!o)if((Ec(e)!=="body"||Vd(s))&&(l=jm(e)),r){const m=La(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?i2(s,l):Bs(0),f=i.left+l.scrollLeft-c.x-d.x,p=i.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function xv(t){return xs(t).position==="static"}function QE(t,e){if(!Qs(t)||xs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return eo(t)===n&&(n=n.ownerDocument.body),n}function l2(t,e){const n=Ar(t);if(km(t))return n;if(!Qs(t)){let s=Pi(t);for(;s&&!oc(s);){if(ys(s)&&!xv(s))return s;s=Pi(s)}return n}let r=QE(t,e);for(;r&&eB(r)&&xv(r);)r=QE(r,e);return r&&oc(r)&&xv(r)&&!Bw(r)?n:r||oB(t)||n}const xB=async function(t){const e=this.getOffsetParent||l2,n=this.getDimensions,r=await n(t.floating);return{reference:yB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wB(t){return xs(t).direction==="rtl"}const bB={convertOffsetParentRelativeRectToViewportRelativeRect:cB,getDocumentElement:eo,getClippingRect:gB,getOffsetParent:l2,getElementRects:xB,getClientRects:uB,getDimensions:vB,getScale:ql,isElement:ys,isRTL:wB};function c2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _B(t,e){let n=null,r;const s=eo(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=u;if(l||e(),!p||!m)return;const y=Bh(f),x=Bh(s.clientWidth-(d+p)),S=Bh(s.clientHeight-(f+m)),_=Bh(d),b={rootMargin:-y+"px "+-x+"px "+-S+"px "+-_+"px",threshold:Cr(0,ji(1,c))||1};let j=!0;function R(F){const E=F[0].intersectionRatio;if(E!==c){if(!j)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!c2(u,t.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(R,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,b)}n.observe(t)}return i(!0),o}function SB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qw(t),d=s||o?[...u?fd(u):[],...fd(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const f=u&&l?_B(u,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let y,x=c?La(t):null;c&&S();function S(){const _=La(t);x&&!c2(x,_)&&n(),x=_,y=requestAnimationFrame(S)}return n(),()=>{var _;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const EB=KU,CB=YU,TB=WU,NB=XU,kB=HU,XE=qU,jB=QU,PB=(t,e,n)=>{const r=new Map,s={platform:bB,...n},o={...s.platform,_c:r};return $U(t,e,{...s,platform:o})};var AB=typeof document<"u",IB=function(){},_f=AB?g.useLayoutEffect:IB;function Ep(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ep(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Ep(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function u2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function JE(t,e){const n=u2(t);return Math.round(e*n)/n}function wv(t){const e=g.useRef(t);return _f(()=>{e.current=t}),e}function RB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=g.useState(r);Ep(p,r)||m(r);const[y,x]=g.useState(null),[S,_]=g.useState(null),v=g.useCallback(M=>{M!==F.current&&(F.current=M,x(M))},[]),b=g.useCallback(M=>{M!==E.current&&(E.current=M,_(M))},[]),j=o||y,R=i||S,F=g.useRef(null),E=g.useRef(null),T=g.useRef(d),A=c!=null,I=wv(c),k=wv(s),N=wv(u),P=g.useCallback(()=>{if(!F.current||!E.current)return;const M={placement:e,strategy:n,middleware:p};k.current&&(M.platform=k.current),PB(F.current,E.current,M).then(V=>{const G={...V,isPositioned:N.current!==!1};D.current&&!Ep(T.current,G)&&(T.current=G,_s.flushSync(()=>{f(G)}))})},[p,e,n,k,N]);_f(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const D=g.useRef(!1);_f(()=>(D.current=!0,()=>{D.current=!1}),[]),_f(()=>{if(j&&(F.current=j),R&&(E.current=R),j&&R){if(I.current)return I.current(j,R,P);P()}},[j,R,P,I,A]);const L=g.useMemo(()=>({reference:F,floating:E,setReference:v,setFloating:b}),[v,b]),B=g.useMemo(()=>({reference:j,floating:R}),[j,R]),$=g.useMemo(()=>{const M={position:n,left:0,top:0};if(!B.floating)return M;const V=JE(B.floating,d.x),G=JE(B.floating,d.y);return l?{...M,transform:"translate("+V+"px, "+G+"px)",...u2(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:G}},[n,l,B.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:P,refs:L,elements:B,floatingStyles:$}),[d,P,L,B,$])}const DB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?XE({element:r.current,padding:s}).fn(n):{}:r?XE({element:r,padding:s}).fn(n):{}}}},OB=(t,e)=>({...EB(t),options:[t,e]}),MB=(t,e)=>({...CB(t),options:[t,e]}),LB=(t,e)=>({...jB(t),options:[t,e]}),FB=(t,e)=>({...TB(t),options:[t,e]}),VB=(t,e)=>({...NB(t),options:[t,e]}),zB=(t,e)=>({...kB(t),options:[t,e]}),UB=(t,e)=>({...DB(t),options:[t,e]});var BB="Arrow",d2=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return a.jsx(ze.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});d2.displayName=BB;var $B=d2;function qB(t){const[e,n]=g.useState(void 0);return Pn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ww="Popper",[h2,Cc]=Zs(Ww),[WB,f2]=h2(Ww),p2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return a.jsx(WB,{scope:e,anchor:r,onAnchorChange:s,children:n})};p2.displayName=Ww;var m2="PopperAnchor",g2=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=f2(m2,n),i=g.useRef(null),l=vt(e,i),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:a.jsx(ze.div,{...s,ref:l})});g2.displayName=m2;var Hw="PopperContent",[HB,GB]=h2(Hw),v2=g.forwardRef((t,e)=>{var ue,Ie,Ge,q,de,ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:y,...x}=t,S=f2(Hw,n),[_,v]=g.useState(null),b=vt(e,ke=>v(ke)),[j,R]=g.useState(null),F=qB(j),E=(F==null?void 0:F.width)??0,T=(F==null?void 0:F.height)??0,A=r+(o!=="center"?"-"+o:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],N=k.length>0,P={padding:I,boundary:k.filter(YB),altBoundary:N},{refs:D,floatingStyles:L,placement:B,isPositioned:$,middlewareData:M}=RB({strategy:"fixed",placement:A,whileElementsMounted:(...ke)=>SB(...ke,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[OB({mainAxis:s+T,alignmentAxis:i}),c&&MB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?LB():void 0,...P}),c&&FB({...P}),VB({...P,apply:({elements:ke,rects:Le,availableWidth:Ye,availableHeight:tt})=>{const{width:nt,height:gt}=Le.reference,It=ke.floating.style;It.setProperty("--radix-popper-available-width",`${Ye}px`),It.setProperty("--radix-popper-available-height",`${tt}px`),It.setProperty("--radix-popper-anchor-width",`${nt}px`),It.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),j&&UB({element:j,padding:l}),QB({arrowWidth:E,arrowHeight:T}),p&&zB({strategy:"referenceHidden",...P})]}),[V,G]=w2(B),K=Qr(y);Pn(()=>{$&&(K==null||K())},[$,K]);const le=(ue=M.arrow)==null?void 0:ue.x,ce=(Ie=M.arrow)==null?void 0:Ie.y,me=((Ge=M.arrow)==null?void 0:Ge.centerOffset)!==0,[Ue,Ae]=g.useState();return Pn(()=>{_&&Ae(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:$?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(q=M.transformOrigin)==null?void 0:q.x,(de=M.transformOrigin)==null?void 0:de.y].join(" "),...((ne=M.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(HB,{scope:n,placedSide:V,onArrowChange:R,arrowX:le,arrowY:ce,shouldHideArrow:me,children:a.jsx(ze.div,{"data-side":V,"data-align":G,...x,ref:b,style:{...x.style,animation:$?void 0:"none"}})})})});v2.displayName=Hw;var y2="PopperArrow",KB={top:"bottom",right:"left",bottom:"top",left:"right"},x2=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=GB(y2,r),i=KB[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx($B,{...s,ref:n,style:{...s.style,display:"block"}})})});x2.displayName=y2;function YB(t){return t!==null}var QB=t=>({name:"transformOrigin",options:t,fn(e){var S,_,v;const{placement:n,rects:r,middlewareData:s}=e,i=((S=s.arrow)==null?void 0:S.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=w2(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=i?f:`${p}px`,x=`${-c}px`):u==="top"?(y=i?f:`${p}px`,x=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=i?f:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,x=i?f:`${m}px`),{data:{x:y,y:x}}}});function w2(t){const[e,n="center"]=t.split("-");return[e,n]}var b2=p2,Am=g2,Gw=v2,Kw=x2,[Im,nne]=Zs("Tooltip",[Cc]),Yw=Cc(),XB="TooltipProvider",ZE="tooltip.open",[rne,_2]=Im(XB),S2="Tooltip",[sne,Rm]=Im(S2),Ty="TooltipTrigger",JB=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Rm(Ty,n),o=_2(Ty,n),i=Yw(n),l=g.useRef(null),c=vt(e,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Am,{asChild:!0,...i,children:a.jsx(ze.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ce(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ce(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ce(t.onBlur,s.onClose),onClick:Ce(t.onClick,s.onClose)})})});JB.displayName=Ty;var ZB="TooltipPortal",[one,e$]=Im(ZB,{forceMount:void 0}),ic="TooltipContent",E2=g.forwardRef((t,e)=>{const n=e$(ic,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=Rm(ic,t.__scopeTooltip);return a.jsx(Mo,{present:r||i.open,children:i.disableHoverableContent?a.jsx(C2,{side:s,...o,ref:e}):a.jsx(t$,{side:s,...o,ref:e})})}),t$=g.forwardRef((t,e)=>{const n=Rm(ic,t.__scopeTooltip),r=_2(ic,t.__scopeTooltip),s=g.useRef(null),o=vt(e,s),[i,l]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=g.useCallback(()=>{l(null),f(!1)},[f]),m=g.useCallback((y,x)=>{const S=y.currentTarget,_={x:y.clientX,y:y.clientY},v=i$(_,S.getBoundingClientRect()),b=a$(_,v),j=l$(x.getBoundingClientRect()),R=u$([...b,...j]);l(R),f(!0)},[f]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(c&&d){const y=S=>m(S,d),x=S=>m(S,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,m,p]),g.useEffect(()=>{if(i){const y=x=>{const S=x.target,_={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(S))||(d==null?void 0:d.contains(S)),b=!c$(_,i);v?p():b&&(p(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,i,u,p]),a.jsx(C2,{...t,ref:o})}),[n$,r$]=Im(S2,{isInside:!1}),s$=Rz("TooltipContent"),C2=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,c=Rm(ic,n),u=Yw(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(ZE,d),()=>document.removeEventListener(ZE,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(_c,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Gw,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(s$,{children:r}),a.jsx(n$,{scope:n,isInside:!0,children:a.jsx(sU,{id:c.contentId,role:"tooltip",children:s||r})})]})})});E2.displayName=ic;var T2="TooltipArrow",o$=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Yw(n);return r$(T2,n).isInside?null:a.jsx(Kw,{...s,...r,ref:e})});o$.displayName=T2;function i$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function a$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function l$(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function c$(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const l=e[o],c=e[i],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function u$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),d$(e)}function d$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var N2=E2;const h$=Pe.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(N2,{ref:r,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));h$.displayName=N2.displayName;var bv="focusScope.autoFocusOnMount",_v="focusScope.autoFocusOnUnmount",eC={bubbles:!1,cancelable:!0},f$="FocusScope",Dm=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[l,c]=g.useState(null),u=Qr(s),d=Qr(o),f=g.useRef(null),p=vt(e,x=>c(x)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let x=function(b){if(m.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:Qo(f.current,{select:!0})},S=function(b){if(m.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Qo(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const R of b)R.removedNodes.length>0&&Qo(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const v=new MutationObserver(_);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),v.disconnect()}}},[r,l,m.paused]),g.useEffect(()=>{if(l){nC.add(m);const x=document.activeElement;if(!l.contains(x)){const _=new CustomEvent(bv,eC);l.addEventListener(bv,u),l.dispatchEvent(_),_.defaultPrevented||(p$(x$(k2(l)),{select:!0}),document.activeElement===x&&Qo(l))}return()=>{l.removeEventListener(bv,u),setTimeout(()=>{const _=new CustomEvent(_v,eC);l.addEventListener(_v,d),l.dispatchEvent(_),_.defaultPrevented||Qo(x??document.body,{select:!0}),l.removeEventListener(_v,d),nC.remove(m)},0)}}},[l,u,d,m]);const y=g.useCallback(x=>{if(!n&&!r||m.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(S&&_){const v=x.currentTarget,[b,j]=m$(v);b&&j?!x.shiftKey&&_===j?(x.preventDefault(),n&&Qo(b,{select:!0})):x.shiftKey&&_===b&&(x.preventDefault(),n&&Qo(j,{select:!0})):_===v&&x.preventDefault()}},[n,r,m.paused]);return a.jsx(ze.div,{tabIndex:-1,...i,ref:p,onKeyDown:y})});Dm.displayName=f$;function p$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Qo(r,{select:e}),document.activeElement!==n)return}function m$(t){const e=k2(t),n=tC(e,t),r=tC(e.reverse(),t);return[n,r]}function k2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tC(t,e){for(const n of t)if(!g$(n,{upTo:e}))return n}function g$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function v$(t){return t instanceof HTMLInputElement&&"select"in t}function Qo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&v$(t)&&e&&t.select()}}var nC=y$();function y$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=rC(t,e),t.unshift(e)},remove(e){var n;t=rC(t,e),(n=t[0])==null||n.resume()}}}function rC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function x$(t){return t.filter(e=>e.tagName!=="A")}var Sv=0;function Qw(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sC()),document.body.insertAdjacentElement("beforeend",t[1]??sC()),Sv++,()=>{Sv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Sv--}},[])}function sC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ds=function(){return Ds=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ds.apply(this,arguments)};function j2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function el(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function w$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Sf="right-scroll-bar-position",Ef="width-before-scroll-bar",b$="with-scroll-bars-hidden",_$="--removed-body-scroll-bar-size";function Ev(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function S$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var E$=typeof window<"u"?g.useLayoutEffect:g.useEffect,oC=new WeakMap;function C$(t,e){var n=S$(e||null,function(r){return t.forEach(function(s){return Ev(s,r)})});return E$(function(){var r=oC.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(l){o.has(l)||Ev(l,null)}),o.forEach(function(l){s.has(l)||Ev(l,i)})}oC.set(n,t)},[t]),n}function T$(t){return t}function N$(t,e){e===void 0&&(e=T$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function k$(t){t===void 0&&(t={});var e=N$(null);return e.options=Ds({async:!0,ssr:!1},t),e}var P2=function(t){var e=t.sideCar,n=j2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Ds({},n))};P2.isSideCarExport=!0;function j$(t,e){return t.useMedium(e),P2}var A2=k$(),Cv=function(){},Om=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Cv,onWheelCapture:Cv,onTouchMoveCapture:Cv}),s=r[0],o=r[1],i=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,y=t.noIsolation,x=t.inert,S=t.allowPinchZoom,_=t.as,v=_===void 0?"div":_,b=t.gapMode,j=j2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,F=C$([n,e]),E=Ds(Ds({},j),s);return g.createElement(g.Fragment,null,d&&g.createElement(R,{sideCar:A2,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:b}),i?g.cloneElement(g.Children.only(l),Ds(Ds({},E),{ref:F})):g.createElement(v,Ds({},E,{className:c,ref:F}),l))});Om.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Om.classNames={fullWidth:Ef,zeroRight:Sf};var iC,P$=function(){if(iC)return iC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=P$();return e&&t.setAttribute("nonce",e),t}function I$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function R$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var D$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=A$())&&(I$(e,n),R$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},O$=function(){var t=D$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},I2=function(){var t=O$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},M$={left:0,top:0,right:0,gap:0},Tv=function(t){return parseInt(t||"",10)||0},L$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Tv(n),Tv(r),Tv(s)]},F$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return M$;var e=L$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},V$=I2(),Wl="data-scroll-locked",z$=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(b$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ef,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Sf," .").concat(Sf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ef," .").concat(Ef,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(_$,": ").concat(l,`px;
  }
`)},aC=function(){var t=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(t)?t:0},U$=function(){g.useEffect(function(){return document.body.setAttribute(Wl,(aC()+1).toString()),function(){var t=aC()-1;t<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,t.toString())}},[])},B$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;U$();var o=g.useMemo(function(){return F$(s)},[s]);return g.createElement(V$,{styles:z$(o,!e,s,n?"":"!important")})},Ny=!1;if(typeof window<"u")try{var $h=Object.defineProperty({},"passive",{get:function(){return Ny=!0,!0}});window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{Ny=!1}var cl=Ny?{passive:!1}:!1,$$=function(t){return t.tagName==="TEXTAREA"},R2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$$(t)&&n[e]==="visible")},q$=function(t){return R2(t,"overflowY")},W$=function(t){return R2(t,"overflowX")},lC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=D2(t,r);if(s){var o=O2(t,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},H$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},G$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},D2=function(t,e){return t==="v"?q$(e):W$(e)},O2=function(t,e){return t==="v"?H$(e):G$(e)},K$=function(t,e){return t==="h"&&e==="rtl"?-1:1},Y$=function(t,e,n,r,s){var o=K$(t,window.getComputedStyle(e).direction),i=o*r,l=n.target,c=e.contains(l),u=!1,d=i>0,f=0,p=0;do{if(!l)break;var m=O2(t,l),y=m[0],x=m[1],S=m[2],_=x-S-o*y;(y||_)&&D2(t,l)&&(f+=_,p+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(p)<1||!s&&-i>p))&&(u=!0),u},qh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},cC=function(t){return[t.deltaX,t.deltaY]},uC=function(t){return t&&"current"in t?t.current:t},Q$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},X$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J$=0,ul=[];function Z$(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(J$++)[0],o=g.useState(I2)[0],i=g.useRef(t);g.useEffect(function(){i.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=w$([t.lockRef.current],(t.shards||[]).map(uC),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var _=qh(x),v=n.current,b="deltaX"in x?x.deltaX:v[0]-_[0],j="deltaY"in x?x.deltaY:v[1]-_[1],R,F=x.target,E=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in x&&E==="h"&&F.type==="range")return!1;var T=lC(E,F);if(!T)return!0;if(T?R=E:(R=E==="v"?"h":"v",T=lC(E,F)),!T)return!1;if(!r.current&&"changedTouches"in x&&(b||j)&&(r.current=R),!R)return!0;var A=r.current||R;return Y$(A,S,x,A==="h"?b:j,!0)},[]),c=g.useCallback(function(x){var S=x;if(!(!ul.length||ul[ul.length-1]!==o)){var _="deltaY"in S?cC(S):qh(S),v=e.current.filter(function(R){return R.name===S.type&&(R.target===S.target||S.target===R.shadowParent)&&Q$(R.delta,_)})[0];if(v&&v.should){S.cancelable&&S.preventDefault();return}if(!v){var b=(i.current.shards||[]).map(uC).filter(Boolean).filter(function(R){return R.contains(S.target)}),j=b.length>0?l(S,b[0]):!i.current.noIsolation;j&&S.cancelable&&S.preventDefault()}}},[]),u=g.useCallback(function(x,S,_,v){var b={name:x,delta:S,target:_,should:v,shadowParent:e8(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(j){return j!==b})},1)},[]),d=g.useCallback(function(x){n.current=qh(x),r.current=void 0},[]),f=g.useCallback(function(x){u(x.type,cC(x),x.target,l(x,t.lockRef.current))},[]),p=g.useCallback(function(x){u(x.type,qh(x),x.target,l(x,t.lockRef.current))},[]);g.useEffect(function(){return ul.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,cl),document.addEventListener("touchmove",c,cl),document.addEventListener("touchstart",d,cl),function(){ul=ul.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,cl),document.removeEventListener("touchmove",c,cl),document.removeEventListener("touchstart",d,cl)}},[]);var m=t.removeScrollBar,y=t.inert;return g.createElement(g.Fragment,null,y?g.createElement(o,{styles:X$(s)}):null,m?g.createElement(B$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function e8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const t8=j$(A2,Z$);var M2=g.forwardRef(function(t,e){return g.createElement(Om,Ds({},t,{ref:e,sideCar:t8}))});M2.classNames=Om.classNames;const Xw=M2;var n8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},dl=new WeakMap,Wh=new WeakMap,Hh={},Nv=0,L2=function(t){return t&&(t.host||L2(t.parentNode))},r8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=L2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},s8=function(t,e,n,r){var s=r8(e,Array.isArray(t)?t:[t]);Hh[n]||(Hh[n]=new WeakMap);var o=Hh[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var m=p.getAttribute(r),y=m!==null&&m!=="false",x=(dl.get(p)||0)+1,S=(o.get(p)||0)+1;dl.set(p,x),o.set(p,S),i.push(p),x===1&&y&&Wh.set(p,!0),S===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),l.clear(),Nv++,function(){i.forEach(function(f){var p=dl.get(f)-1,m=o.get(f)-1;dl.set(f,p),o.set(f,m),p||(Wh.has(f)||f.removeAttribute(r),Wh.delete(f)),m||f.removeAttribute(n)}),Nv--,Nv||(dl=new WeakMap,dl=new WeakMap,Wh=new WeakMap,Hh={})}},Jw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||n8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),s8(r,s,n,"aria-hidden")):function(){return null}},Mm="Dialog",[F2,ine]=Zs(Mm),[o8,Ss]=F2(Mm),V2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,l=g.useRef(null),c=g.useRef(null),[u,d]=Ma({prop:r,defaultProp:s??!1,onChange:o,caller:Mm});return a.jsx(o8,{scope:e,triggerRef:l,contentRef:c,contentId:bo(),titleId:bo(),descriptionId:bo(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};V2.displayName=Mm;var z2="DialogTrigger",U2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ss(z2,n),o=vt(e,s.triggerRef);return a.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tb(s.open),...r,ref:o,onClick:Ce(t.onClick,s.onOpenToggle)})});U2.displayName=z2;var Zw="DialogPortal",[i8,B2]=F2(Zw,{forceMount:void 0}),$2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Ss(Zw,e);return a.jsx(i8,{scope:e,forceMount:n,children:g.Children.map(r,i=>a.jsx(Mo,{present:n||o.open,children:a.jsx(Ld,{asChild:!0,container:s,children:i})}))})};$2.displayName=Zw;var Cp="DialogOverlay",q2=g.forwardRef((t,e)=>{const n=B2(Cp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ss(Cp,t.__scopeDialog);return o.modal?a.jsx(Mo,{present:r||o.open,children:a.jsx(l8,{...s,ref:e})}):null});q2.displayName=Cp;var a8=Oa("DialogOverlay.RemoveScroll"),l8=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ss(Cp,n);return a.jsx(Xw,{as:a8,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ze.div,{"data-state":tb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Fa="DialogContent",W2=g.forwardRef((t,e)=>{const n=B2(Fa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ss(Fa,t.__scopeDialog);return a.jsx(Mo,{present:r||o.open,children:o.modal?a.jsx(c8,{...s,ref:e}):a.jsx(u8,{...s,ref:e})})});W2.displayName=Fa;var c8=g.forwardRef((t,e)=>{const n=Ss(Fa,t.__scopeDialog),r=g.useRef(null),s=vt(e,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return Jw(o)},[]),a.jsx(H2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,o=>o.preventDefault())})}),u8=g.forwardRef((t,e)=>{const n=Ss(Fa,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(H2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),H2=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,l=Ss(Fa,n),c=g.useRef(null),u=vt(e,c);return Qw(),a.jsxs(a.Fragment,{children:[a.jsx(Dm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(_c,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tb(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(d8,{titleId:l.titleId}),a.jsx(f8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),eb="DialogTitle",G2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ss(eb,n);return a.jsx(ze.h2,{id:s.titleId,...r,ref:e})});G2.displayName=eb;var K2="DialogDescription",Y2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ss(K2,n);return a.jsx(ze.p,{id:s.descriptionId,...r,ref:e})});Y2.displayName=K2;var Q2="DialogClose",X2=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ss(Q2,n);return a.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});X2.displayName=Q2;function tb(t){return t?"open":"closed"}var J2="DialogTitleWarning",[ane,Z2]=Fz(J2,{contentName:Fa,titleName:eb,docsSlug:"dialog"}),d8=({titleId:t})=>{const e=Z2(J2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},h8="DialogDescriptionWarning",f8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Z2(h8).contentName}}.`;return g.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},p8=V2,m8=U2,g8=$2,eI=q2,tI=W2,nI=G2,rI=Y2,v8=X2;const Un=p8,Cf=m8,y8=g8,sI=Pe.forwardRef(({className:t,...e},n)=>a.jsx(eI,{ref:n,className:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));sI.displayName=eI.displayName;const Sn=Pe.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(y8,{children:[a.jsx(sI,{}),a.jsxs(tI,{ref:r,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(v8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(vr,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sn.displayName=tI.displayName;const En=({className:t,...e})=>a.jsx("div",{className:$e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});En.displayName="DialogHeader";const Cn=Pe.forwardRef(({className:t,...e},n)=>a.jsx(nI,{ref:n,className:$e("text-lg font-semibold leading-none tracking-tight",t),...e}));Cn.displayName=nI.displayName;const Lm=Pe.forwardRef(({className:t,...e},n)=>a.jsx(rI,{ref:n,className:$e("text-sm text-muted-foreground",t),...e}));Lm.displayName=rI.displayName;const pe=Pe.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));pe.displayName="Input";var x8="Label",oI=g.forwardRef((t,e)=>a.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));oI.displayName=x8;var iI=oI;const w8=Em("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),te=Pe.forwardRef(({className:t,...e},n)=>a.jsx(iI,{ref:n,className:$e(w8(),t),...e}));te.displayName=iI.displayName;const pd=Pe.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));pd.displayName="Textarea";function dC(t,[e,n]){return Math.min(n,Math.max(e,t))}var b8=g.createContext(void 0);function nb(t){const e=g.useContext(b8);return t||e||"ltr"}function _8(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var S8=[" ","Enter","ArrowUp","ArrowDown"],E8=[" ","Enter"],Va="Select",[Fm,Vm,C8]=Ow(Va),[Tc,lne]=Zs(Va,[C8,Cc]),zm=Cc(),[T8,qi]=Tc(Va),[N8,k8]=Tc(Va),aI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:m,form:y}=t,x=zm(e),[S,_]=g.useState(null),[v,b]=g.useState(null),[j,R]=g.useState(!1),F=nb(u),[E,T]=Ma({prop:r,defaultProp:s??!1,onChange:o,caller:Va}),[A,I]=Ma({prop:i,defaultProp:l,onChange:c,caller:Va}),k=g.useRef(null),N=S?y||!!S.closest("form"):!0,[P,D]=g.useState(new Set),L=Array.from(P).map(B=>B.props.value).join(";");return a.jsx(b2,{...x,children:a.jsxs(T8,{required:m,scope:e,trigger:S,onTriggerChange:_,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:R,contentId:bo(),value:A,onValueChange:I,open:E,onOpenChange:T,dir:F,triggerPointerDownPosRef:k,disabled:p,children:[a.jsx(Fm.Provider,{scope:e,children:a.jsx(N8,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(B=>{D($=>new Set($).add(B))},[]),onNativeOptionRemove:g.useCallback(B=>{D($=>{const M=new Set($);return M.delete(B),M})},[]),children:n})}),N?a.jsxs(AI,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:B=>I(B.target.value),disabled:p,form:y,children:[A===void 0?a.jsx("option",{value:""}):null,Array.from(P)]},L):null]})})};aI.displayName=Va;var lI="SelectTrigger",cI=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=zm(n),i=qi(lI,n),l=i.disabled||r,c=vt(e,i.onTriggerChange),u=Vm(n),d=g.useRef("touch"),[f,p,m]=RI(x=>{const S=u().filter(b=>!b.disabled),_=S.find(b=>b.value===i.value),v=DI(S,x,_);v!==void 0&&i.onValueChange(v.value)}),y=x=>{l||(i.onOpenChange(!0),m()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(Am,{asChild:!0,...o,children:a.jsx(ze.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":II(i.value)?"":void 0,...s,ref:c,onClick:Ce(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:Ce(s.onPointerDown,x=>{d.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Ce(s.onKeyDown,x=>{const S=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(S&&x.key===" ")&&S8.includes(x.key)&&(y(),x.preventDefault())})})})});cI.displayName=lI;var uI="SelectValue",dI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=t,c=qi(uI,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=vt(e,c.onValueNodeChange);return Pn(()=>{u(d)},[u,d]),a.jsx(ze.span,{...l,ref:f,style:{pointerEvents:"none"},children:II(c.value)?a.jsx(a.Fragment,{children:i}):o})});dI.displayName=uI;var j8="SelectIcon",hI=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(ze.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});hI.displayName=j8;var P8="SelectPortal",fI=t=>a.jsx(Ld,{asChild:!0,...t});fI.displayName=P8;var za="SelectContent",pI=g.forwardRef((t,e)=>{const n=qi(za,t.__scopeSelect),[r,s]=g.useState();if(Pn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?_s.createPortal(a.jsx(mI,{scope:t.__scopeSelect,children:a.jsx(Fm.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),o):null}return a.jsx(gI,{...t,ref:e})});pI.displayName=za;var os=10,[mI,Wi]=Tc(za),A8="SelectContentImpl",I8=Oa("SelectContent.RemoveScroll"),gI=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:S,..._}=t,v=qi(za,n),[b,j]=g.useState(null),[R,F]=g.useState(null),E=vt(e,ue=>j(ue)),[T,A]=g.useState(null),[I,k]=g.useState(null),N=Vm(n),[P,D]=g.useState(!1),L=g.useRef(!1);g.useEffect(()=>{if(b)return Jw(b)},[b]),Qw();const B=g.useCallback(ue=>{const[Ie,...Ge]=N().map(ne=>ne.ref.current),[q]=Ge.slice(-1),de=document.activeElement;for(const ne of ue)if(ne===de||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===Ie&&R&&(R.scrollTop=0),ne===q&&R&&(R.scrollTop=R.scrollHeight),ne==null||ne.focus(),document.activeElement!==de))return},[N,R]),$=g.useCallback(()=>B([T,b]),[B,T,b]);g.useEffect(()=>{P&&$()},[P,$]);const{onOpenChange:M,triggerPointerDownPosRef:V}=v;g.useEffect(()=>{if(b){let ue={x:0,y:0};const Ie=q=>{var de,ne;ue={x:Math.abs(Math.round(q.pageX)-(((de=V.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(q.pageY)-(((ne=V.current)==null?void 0:ne.y)??0))}},Ge=q=>{ue.x<=10&&ue.y<=10?q.preventDefault():b.contains(q.target)||M(!1),document.removeEventListener("pointermove",Ie),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",Ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",Ge,{capture:!0})}}},[b,M,V]),g.useEffect(()=>{const ue=()=>M(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[M]);const[G,K]=RI(ue=>{const Ie=N().filter(de=>!de.disabled),Ge=Ie.find(de=>de.ref.current===document.activeElement),q=DI(Ie,ue,Ge);q&&setTimeout(()=>q.ref.current.focus())}),le=g.useCallback((ue,Ie,Ge)=>{const q=!L.current&&!Ge;(v.value!==void 0&&v.value===Ie||q)&&(A(ue),q&&(L.current=!0))},[v.value]),ce=g.useCallback(()=>b==null?void 0:b.focus(),[b]),me=g.useCallback((ue,Ie,Ge)=>{const q=!L.current&&!Ge;(v.value!==void 0&&v.value===Ie||q)&&k(ue)},[v.value]),Ue=r==="popper"?ky:vI,Ae=Ue===ky?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:S}:{};return a.jsx(mI,{scope:n,content:b,viewport:R,onViewportChange:F,itemRefCallback:le,selectedItem:T,onItemLeave:ce,itemTextRefCallback:me,focusSelectedItem:$,selectedItemText:I,position:r,isPositioned:P,searchRef:G,children:a.jsx(Xw,{as:I8,allowPinchZoom:!0,children:a.jsx(Dm,{asChild:!0,trapped:v.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Ce(s,ue=>{var Ie;(Ie=v.trigger)==null||Ie.focus({preventScroll:!0}),ue.preventDefault()}),children:a.jsx(_c,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Ue,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ue=>ue.preventDefault(),..._,...Ae,onPlaced:()=>D(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ce(_.onKeyDown,ue=>{const Ie=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Ie&&ue.key.length===1&&K(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let q=N().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const de=ue.target,ne=q.indexOf(de);q=q.slice(ne+1)}setTimeout(()=>B(q)),ue.preventDefault()}})})})})})})});gI.displayName=A8;var R8="SelectItemAlignedPosition",vI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=qi(za,n),i=Wi(za,n),[l,c]=g.useState(null),[u,d]=g.useState(null),f=vt(e,E=>d(E)),p=Vm(n),m=g.useRef(!1),y=g.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:_,focusSelectedItem:v}=i,b=g.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&S&&_){const E=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),I=_.getBoundingClientRect();if(o.dir!=="rtl"){const de=I.left-T.left,ne=A.left-de,ke=E.left-ne,Le=E.width+ke,Ye=Math.max(Le,T.width),tt=window.innerWidth-os,nt=dC(ne,[os,Math.max(os,tt-Ye)]);l.style.minWidth=Le+"px",l.style.left=nt+"px"}else{const de=T.right-I.right,ne=window.innerWidth-A.right-de,ke=window.innerWidth-E.right-ne,Le=E.width+ke,Ye=Math.max(Le,T.width),tt=window.innerWidth-os,nt=dC(ne,[os,Math.max(os,tt-Ye)]);l.style.minWidth=Le+"px",l.style.right=nt+"px"}const k=p(),N=window.innerHeight-os*2,P=x.scrollHeight,D=window.getComputedStyle(u),L=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),$=parseInt(D.borderBottomWidth,10),M=parseInt(D.paddingBottom,10),V=L+B+P+M+$,G=Math.min(S.offsetHeight*5,V),K=window.getComputedStyle(x),le=parseInt(K.paddingTop,10),ce=parseInt(K.paddingBottom,10),me=E.top+E.height/2-os,Ue=N-me,Ae=S.offsetHeight/2,ue=S.offsetTop+Ae,Ie=L+B+ue,Ge=V-Ie;if(Ie<=me){const de=k.length>0&&S===k[k.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-x.offsetTop-x.offsetHeight,ke=Math.max(Ue,Ae+(de?ce:0)+ne+$),Le=Ie+ke;l.style.height=Le+"px"}else{const de=k.length>0&&S===k[0].ref.current;l.style.top="0px";const ke=Math.max(me,L+x.offsetTop+(de?le:0)+Ae)+Ge;l.style.height=ke+"px",x.scrollTop=Ie-me+x.offsetTop}l.style.margin=`${os}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,l,u,x,S,_,o.dir,r]);Pn(()=>b(),[b]);const[j,R]=g.useState();Pn(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const F=g.useCallback(E=>{E&&y.current===!0&&(b(),v==null||v(),y.current=!1)},[b,v]);return a.jsx(O8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:F,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(ze.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vI.displayName=R8;var D8="SelectPopperPosition",ky=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=os,...o}=t,i=zm(n);return a.jsx(Gw,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ky.displayName=D8;var[O8,rb]=Tc(za,{}),jy="SelectViewport",yI=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Wi(jy,n),i=rb(jy,n),l=vt(e,o.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Fm.Slot,{scope:n,children:a.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ce(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-os*2,x=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),_=Math.max(x,S);if(_<y){const v=_+m,b=Math.min(y,v),j=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});yI.displayName=jy;var xI="SelectGroup",[M8,L8]=Tc(xI),F8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=bo();return a.jsx(M8,{scope:n,id:s,children:a.jsx(ze.div,{role:"group","aria-labelledby":s,...r,ref:e})})});F8.displayName=xI;var wI="SelectLabel",bI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=L8(wI,n);return a.jsx(ze.div,{id:s.id,...r,ref:e})});bI.displayName=wI;var Tp="SelectItem",[V8,_I]=Tc(Tp),SI=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,l=qi(Tp,n),c=Wi(Tp,n),u=l.value===r,[d,f]=g.useState(o??""),[p,m]=g.useState(!1),y=vt(e,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),x=bo(),S=g.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(V8,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:g.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Fm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(ze.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:Ce(i.onFocus,()=>m(!0)),onBlur:Ce(i.onBlur,()=>m(!1)),onClick:Ce(i.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:Ce(i.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:Ce(i.onPointerDown,v=>{S.current=v.pointerType}),onPointerMove:Ce(i.onPointerMove,v=>{var b;S.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):S.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(i.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ce(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(E8.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});SI.displayName=Tp;var xu="SelectItemText",EI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=qi(xu,n),l=Wi(xu,n),c=_I(xu,n),u=k8(xu,n),[d,f]=g.useState(null),p=vt(e,_=>f(_),c.onItemTextChange,_=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,_,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=u;return Pn(()=>(x(y),()=>S(y)),[x,S,y]),a.jsxs(a.Fragment,{children:[a.jsx(ze.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?_s.createPortal(o.children,i.valueNode):null]})});EI.displayName=xu;var CI="SelectItemIndicator",TI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _I(CI,n).isSelected?a.jsx(ze.span,{"aria-hidden":!0,...r,ref:e}):null});TI.displayName=CI;var Py="SelectScrollUpButton",NI=g.forwardRef((t,e)=>{const n=Wi(Py,t.__scopeSelect),r=rb(Py,t.__scopeSelect),[s,o]=g.useState(!1),i=vt(e,r.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(jI,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});NI.displayName=Py;var Ay="SelectScrollDownButton",kI=g.forwardRef((t,e)=>{const n=Wi(Ay,t.__scopeSelect),r=rb(Ay,t.__scopeSelect),[s,o]=g.useState(!1),i=vt(e,r.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(jI,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});kI.displayName=Ay;var jI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Wi("SelectScrollButton",n),i=g.useRef(null),l=Vm(n),c=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Pn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(ze.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ce(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ce(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ce(s.onPointerLeave,()=>{c()})})}),z8="SelectSeparator",PI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(ze.div,{"aria-hidden":!0,...r,ref:e})});PI.displayName=z8;var Iy="SelectArrow",U8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zm(n),o=qi(Iy,n),i=Wi(Iy,n);return o.open&&i.position==="popper"?a.jsx(Kw,{...s,...r,ref:e}):null});U8.displayName=Iy;var B8="SelectBubbleInput",AI=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),o=vt(r,s),i=_8(e);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[i,e]),a.jsx(ze.select,{...n,style:{...jA,...n.style},ref:o,defaultValue:e})});AI.displayName=B8;function II(t){return t===""||t===void 0}function RI(t){const e=Qr(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(i=>{const l=n.current+i;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function DI(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=$8(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function $8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var q8=aI,OI=cI,W8=dI,H8=hI,G8=fI,MI=pI,K8=yI,LI=bI,FI=SI,Y8=EI,Q8=TI,VI=NI,zI=kI,UI=PI;const ct=q8,ut=W8,it=Pe.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(OI,{ref:r,className:$e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(H8,{asChild:!0,children:a.jsx(uA,{className:"h-4 w-4 opacity-50"})})]}));it.displayName=OI.displayName;const BI=Pe.forwardRef(({className:t,...e},n)=>a.jsx(VI,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(B9,{className:"h-4 w-4"})}));BI.displayName=VI.displayName;const $I=Pe.forwardRef(({className:t,...e},n)=>a.jsx(zI,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(uA,{className:"h-4 w-4"})}));$I.displayName=zI.displayName;const at=Pe.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(G8,{children:a.jsxs(MI,{ref:s,className:$e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(BI,{}),a.jsx(K8,{className:$e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx($I,{})]})}));at.displayName=MI.displayName;const X8=Pe.forwardRef(({className:t,...e},n)=>a.jsx(LI,{ref:n,className:$e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));X8.displayName=LI.displayName;const ae=Pe.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(FI,{ref:r,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Q8,{children:a.jsx(z9,{className:"h-4 w-4"})})}),a.jsx(Y8,{children:e})]}));ae.displayName=FI.displayName;const J8=Pe.forwardRef(({className:t,...e},n)=>a.jsx(UI,{ref:n,className:$e("-mx-1 my-1 h-px bg-muted",t),...e}));J8.displayName=UI.displayName;const Z8=Em("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ai({className:t,variant:e,...n}){return a.jsx("div",{className:$e(Z8({variant:e}),t),...n})}const Wt=Pe.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:$e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Wt.displayName="Card";const Zt=Pe.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:$e("flex flex-col space-y-1.5 p-6",t),...e}));Zt.displayName="CardHeader";const en=Pe.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:$e("text-2xl font-semibold leading-none tracking-tight",t),...e}));en.displayName="CardTitle";const po=Pe.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:$e("text-sm text-muted-foreground",t),...e}));po.displayName="CardDescription";const Ht=Pe.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:$e("p-6 pt-0",t),...e}));Ht.displayName="CardContent";const e7=Pe.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:$e("flex items-center p-6 pt-0",t),...e}));e7.displayName="CardFooter";var kv="rovingFocusGroup.onEntryFocus",t7={bubbles:!1,cancelable:!0},zd="RovingFocusGroup",[Ry,qI,n7]=Ow(zd),[r7,WI]=Zs(zd,[n7]),[s7,o7]=r7(zd),HI=g.forwardRef((t,e)=>a.jsx(Ry.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Ry.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(i7,{...t,ref:e})})}));HI.displayName=zd;var i7=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=g.useRef(null),m=vt(e,p),y=nb(o),[x,S]=Ma({prop:i,defaultProp:l??null,onChange:c,caller:zd}),[_,v]=g.useState(!1),b=Qr(u),j=qI(n),R=g.useRef(!1),[F,E]=g.useState(0);return g.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(kv,b),()=>T.removeEventListener(kv,b)},[b]),a.jsx(s7,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:x,onItemFocus:g.useCallback(T=>S(T),[S]),onItemShiftTab:g.useCallback(()=>v(!0),[]),onFocusableItemAdd:g.useCallback(()=>E(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>E(T=>T-1),[]),children:a.jsx(ze.div,{tabIndex:_||F===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{R.current=!0}),onFocus:Ce(t.onFocus,T=>{const A=!R.current;if(T.target===T.currentTarget&&A&&!_){const I=new CustomEvent(kv,t7);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const k=j().filter(B=>B.focusable),N=k.find(B=>B.active),P=k.find(B=>B.id===x),L=[N,P,...k].filter(Boolean).map(B=>B.ref.current);YI(L,d)}}R.current=!1}),onBlur:Ce(t.onBlur,()=>v(!1))})})}),GI="RovingFocusGroupItem",KI=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=t,c=bo(),u=o||c,d=o7(GI,n),f=d.currentTabStopId===u,p=qI(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:x}=d;return g.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),a.jsx(Ry.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(ze.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ce(t.onMouseDown,S=>{r?d.onItemFocus(u):S.preventDefault()}),onFocus:Ce(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ce(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=c7(S,d.orientation,d.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let b=p().filter(j=>j.focusable).map(j=>j.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const j=b.indexOf(S.currentTarget);b=d.loop?u7(b,j+1):b.slice(j+1)}setTimeout(()=>YI(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});KI.displayName=GI;var a7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function l7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function c7(t,e,n){const r=l7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return a7[r]}function YI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function u7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var d7=HI,h7=KI,Um="Tabs",[f7,cne]=Zs(Um,[WI]),QI=WI(),[p7,sb]=f7(Um),XI=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=nb(l),[f,p]=Ma({prop:r,onChange:s,defaultProp:o??"",caller:Um});return a.jsx(p7,{scope:n,baseId:bo(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:c,children:a.jsx(ze.div,{dir:d,"data-orientation":i,...u,ref:e})})});XI.displayName=Um;var JI="TabsList",ZI=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=sb(JI,n),i=QI(n);return a.jsx(d7,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(ze.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});ZI.displayName=JI;var eR="TabsTrigger",tR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=sb(eR,n),l=QI(n),c=sR(i.baseId,r),u=oR(i.baseId,r),d=r===i.value;return a.jsx(h7,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(ze.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:Ce(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Ce(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Ce(t.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});tR.displayName=eR;var nR="TabsContent",rR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,l=sb(nR,n),c=sR(l.baseId,r),u=oR(l.baseId,r),d=r===l.value,f=g.useRef(d);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(Mo,{present:s||d,children:({present:p})=>a.jsx(ze.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});rR.displayName=nR;function sR(t,e){return`${t}-trigger-${e}`}function oR(t,e){return`${t}-content-${e}`}var m7=XI,iR=ZI,aR=tR,lR=rR;const Ua=m7,Ii=Pe.forwardRef(({className:t,...e},n)=>a.jsx(iR,{ref:n,className:$e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ii.displayName=iR.displayName;const un=Pe.forwardRef(({className:t,...e},n)=>a.jsx(aR,{ref:n,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));un.displayName=aR.displayName;const dn=Pe.forwardRef(({className:t,...e},n)=>a.jsx(lR,{ref:n,className:$e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));dn.displayName=lR.displayName;const g7=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function ac(t,e,n){const r=v7(t),{webkitRelativePath:s}=t,o=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof r.path!="string"&&hC(r,"path",o),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),hC(r,"relativePath",o),r}function v7(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),s=g7.get(r);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function hC(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const y7=[".DS_Store","Thumbs.db"];function x7(t){return el(this,void 0,void 0,function*(){return Np(t)&&w7(t.dataTransfer)?E7(t.dataTransfer,t.type):b7(t)?_7(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?S7(t):[]})}function w7(t){return Np(t)}function b7(t){return Np(t)&&Np(t.target)}function Np(t){return typeof t=="object"&&t!==null}function _7(t){return Dy(t.target.files).map(e=>ac(e))}function S7(t){return el(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>ac(n))})}function E7(t,e){return el(this,void 0,void 0,function*(){if(t.items){const n=Dy(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(C7));return fC(cR(r))}return fC(Dy(t.files).map(n=>ac(n)))})}function fC(t){return t.filter(e=>y7.indexOf(e.name)===-1)}function Dy(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function C7(t){if(typeof t.webkitGetAsEntry!="function")return pC(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?uR(e):pC(t,e)}function cR(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?cR(n):[n]],[])}function pC(t,e){return el(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const i=yield o.getFile();return i.handle=o,ac(i)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return ac(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function T7(t){return el(this,void 0,void 0,function*(){return t.isDirectory?uR(t):N7(t)})}function uR(t){const e=t.createReader();return new Promise((n,r)=>{const s=[];function o(){e.readEntries(i=>el(this,void 0,void 0,function*(){if(i.length){const l=Promise.all(i.map(T7));s.push(l),o()}else try{const l=yield Promise.all(s);n(l)}catch(l){r(l)}}),i=>{r(i)})}o()})}function N7(t){return el(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const s=ac(r,t.fullPath);e(s)},r=>{n(r)})})})}var jv=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return n.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):s===l})}return!0};function mC(t){return P7(t)||j7(t)||hR(t)||k7()}function k7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P7(t){if(Array.isArray(t))return Oy(t)}function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){dR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function md(t,e){return R7(t)||I7(t,e)||hR(t,e)||A7()}function A7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hR(t,e){if(t){if(typeof t=="string")return Oy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oy(t,e)}}function Oy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function R7(t){if(Array.isArray(t))return t}var D7=typeof jv=="function"?jv:jv.default,O7="file-invalid-type",M7="file-too-large",L7="file-too-small",F7="too-many-files",V7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:O7,message:"File type must be ".concat(r)}},yC=function(e){return{code:M7,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},xC=function(e){return{code:L7,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},z7={code:F7,message:"Too many files"};function fR(t,e){var n=t.type==="application/x-moz-file"||D7(t,e);return[n,n?null:V7(e)]}function pR(t,e,n){if(ha(t.size))if(ha(e)&&ha(n)){if(t.size>n)return[!1,yC(n)];if(t.size<e)return[!1,xC(e)]}else{if(ha(e)&&t.size<e)return[!1,xC(e)];if(ha(n)&&t.size>n)return[!1,yC(n)]}return[!0,null]}function ha(t){return t!=null}function U7(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,o=t.multiple,i=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&i>=1&&e.length>i?!1:e.every(function(c){var u=fR(c,n),d=md(u,1),f=d[0],p=pR(c,r,s),m=md(p,1),y=m[0],x=l?l(c):null;return f&&y&&!x})}function kp(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Gh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function wC(t){t.preventDefault()}function B7(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function $7(t){return t.indexOf("Edge/")!==-1}function q7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return B7(t)||$7(t)}function js(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),i=1;i<s;i++)o[i-1]=arguments[i];return e.some(function(l){return!kp(r)&&l&&l.apply(void 0,[r].concat(o)),kp(r)})}}function W7(){return"showOpenFilePicker"in window}function H7(t){if(ha(t)){var e=Object.entries(t).filter(function(n){var r=md(n,2),s=r[0],o=r[1],i=!0;return mR(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(o)||!o.every(gR))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(n,r){var s=md(r,2),o=s[0],i=s[1];return vC(vC({},n),{},dR({},o,i))},{});return[{description:"Files",accept:e}]}return t}function G7(t){if(ha(t))return Object.entries(t).reduce(function(e,n){var r=md(n,2),s=r[0],o=r[1];return[].concat(mC(e),[s],mC(o))},[]).filter(function(e){return mR(e)||gR(e)}).join(",")}function K7(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Y7(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function mR(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function gR(t){return/^.*\.[\w]+$/.test(t)}var Q7=["children"],X7=["open"],J7=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Z7=["refKey","onChange","onClick"];function eq(t){return rq(t)||nq(t)||vR(t)||tq()}function tq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rq(t){if(Array.isArray(t))return My(t)}function Pv(t,e){return iq(t)||oq(t,e)||vR(t,e)||sq()}function sq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vR(t,e){if(t){if(typeof t=="string")return My(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(t,e)}}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function iq(t){if(Array.isArray(t))return t}function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){Ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ly(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jp(t,e){if(t==null)return{};var n=aq(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var ob=g.forwardRef(function(t,e){var n=t.children,r=jp(t,Q7),s=ib(r),o=s.open,i=jp(s,X7);return g.useImperativeHandle(e,function(){return{open:o}},[o]),Pe.createElement(g.Fragment,null,n(Rt(Rt({},i),{},{open:o})))});ob.displayName="Dropzone";var yR={disabled:!1,getFilesFromEvent:x7,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ob.defaultProps=yR;ob.propTypes={children:je.func,accept:je.objectOf(je.arrayOf(je.string)),multiple:je.bool,preventDropOnDocument:je.bool,noClick:je.bool,noKeyboard:je.bool,noDrag:je.bool,noDragEventsBubbling:je.bool,minSize:je.number,maxSize:je.number,maxFiles:je.number,disabled:je.bool,getFilesFromEvent:je.func,onFileDialogCancel:je.func,onFileDialogOpen:je.func,useFsAccessApi:je.bool,autoFocus:je.bool,onDragEnter:je.func,onDragLeave:je.func,onDragOver:je.func,onDrop:je.func,onDropAccepted:je.func,onDropRejected:je.func,onError:je.func,validator:je.func};var Fy={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ib(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Rt(Rt({},yR),t),n=e.accept,r=e.disabled,s=e.getFilesFromEvent,o=e.maxSize,i=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,y=e.onDropRejected,x=e.onFileDialogCancel,S=e.onFileDialogOpen,_=e.useFsAccessApi,v=e.autoFocus,b=e.preventDropOnDocument,j=e.noClick,R=e.noKeyboard,F=e.noDrag,E=e.noDragEventsBubbling,T=e.onError,A=e.validator,I=g.useMemo(function(){return G7(n)},[n]),k=g.useMemo(function(){return H7(n)},[n]),N=g.useMemo(function(){return typeof S=="function"?S:_C},[S]),P=g.useMemo(function(){return typeof x=="function"?x:_C},[x]),D=g.useRef(null),L=g.useRef(null),B=g.useReducer(lq,Fy),$=Pv(B,2),M=$[0],V=$[1],G=M.isFocused,K=M.isFileDialogActive,le=g.useRef(typeof window<"u"&&window.isSecureContext&&_&&W7()),ce=function(){!le.current&&K&&setTimeout(function(){if(L.current){var re=L.current.files;re.length||(V({type:"closeDialog"}),P())}},300)};g.useEffect(function(){return window.addEventListener("focus",ce,!1),function(){window.removeEventListener("focus",ce,!1)}},[L,K,P,le]);var me=g.useRef([]),Ue=function(re){D.current&&D.current.contains(re.target)||(re.preventDefault(),me.current=[])};g.useEffect(function(){return b&&(document.addEventListener("dragover",wC,!1),document.addEventListener("drop",Ue,!1)),function(){b&&(document.removeEventListener("dragover",wC),document.removeEventListener("drop",Ue))}},[D,b]),g.useEffect(function(){return!r&&v&&D.current&&D.current.focus(),function(){}},[D,v,r]);var Ae=g.useCallback(function(Z){T?T(Z):console.error(Z)},[T]),ue=g.useCallback(function(Z){Z.preventDefault(),Z.persist(),ht(Z),me.current=[].concat(eq(me.current),[Z.target]),Gh(Z)&&Promise.resolve(s(Z)).then(function(re){if(!(kp(Z)&&!E)){var we=re.length,_e=we>0&&U7({files:re,accept:I,minSize:i,maxSize:o,multiple:l,maxFiles:c,validator:A}),Ke=we>0&&!_e;V({isDragAccept:_e,isDragReject:Ke,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Z)}}).catch(function(re){return Ae(re)})},[s,u,Ae,E,I,i,o,l,c,A]),Ie=g.useCallback(function(Z){Z.preventDefault(),Z.persist(),ht(Z);var re=Gh(Z);if(re&&Z.dataTransfer)try{Z.dataTransfer.dropEffect="copy"}catch{}return re&&f&&f(Z),!1},[f,E]),Ge=g.useCallback(function(Z){Z.preventDefault(),Z.persist(),ht(Z);var re=me.current.filter(function(_e){return D.current&&D.current.contains(_e)}),we=re.indexOf(Z.target);we!==-1&&re.splice(we,1),me.current=re,!(re.length>0)&&(V({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Gh(Z)&&d&&d(Z))},[D,d,E]),q=g.useCallback(function(Z,re){var we=[],_e=[];Z.forEach(function(Ke){var qe=fR(Ke,I),st=Pv(qe,2),ft=st[0],Vt=st[1],xn=pR(Ke,i,o),Gn=Pv(xn,2),Jr=Gn[0],br=Gn[1],on=A?A(Ke):null;if(ft&&Jr&&!on)we.push(Ke);else{var rr=[Vt,br];on&&(rr=rr.concat(on)),_e.push({file:Ke,errors:rr.filter(function(Zr){return Zr})})}}),(!l&&we.length>1||l&&c>=1&&we.length>c)&&(we.forEach(function(Ke){_e.push({file:Ke,errors:[z7]})}),we.splice(0)),V({acceptedFiles:we,fileRejections:_e,isDragReject:_e.length>0,type:"setFiles"}),p&&p(we,_e,re),_e.length>0&&y&&y(_e,re),we.length>0&&m&&m(we,re)},[V,l,I,i,o,c,p,m,y,A]),de=g.useCallback(function(Z){Z.preventDefault(),Z.persist(),ht(Z),me.current=[],Gh(Z)&&Promise.resolve(s(Z)).then(function(re){kp(Z)&&!E||q(re,Z)}).catch(function(re){return Ae(re)}),V({type:"reset"})},[s,q,Ae,E]),ne=g.useCallback(function(){if(le.current){V({type:"openDialog"}),N();var Z={multiple:l,types:k};window.showOpenFilePicker(Z).then(function(re){return s(re)}).then(function(re){q(re,null),V({type:"closeDialog"})}).catch(function(re){K7(re)?(P(re),V({type:"closeDialog"})):Y7(re)?(le.current=!1,L.current?(L.current.value=null,L.current.click()):Ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ae(re)});return}L.current&&(V({type:"openDialog"}),N(),L.current.value=null,L.current.click())},[V,N,P,_,q,Ae,k,l]),ke=g.useCallback(function(Z){!D.current||!D.current.isEqualNode(Z.target)||(Z.key===" "||Z.key==="Enter"||Z.keyCode===32||Z.keyCode===13)&&(Z.preventDefault(),ne())},[D,ne]),Le=g.useCallback(function(){V({type:"focus"})},[]),Ye=g.useCallback(function(){V({type:"blur"})},[]),tt=g.useCallback(function(){j||(q7()?setTimeout(ne,0):ne())},[j,ne]),nt=function(re){return r?null:re},gt=function(re){return R?null:nt(re)},It=function(re){return F?null:nt(re)},ht=function(re){E&&re.stopPropagation()},lt=g.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=Z.refKey,we=re===void 0?"ref":re,_e=Z.role,Ke=Z.onKeyDown,qe=Z.onFocus,st=Z.onBlur,ft=Z.onClick,Vt=Z.onDragEnter,xn=Z.onDragOver,Gn=Z.onDragLeave,Jr=Z.onDrop,br=jp(Z,J7);return Rt(Rt(Ly({onKeyDown:gt(js(Ke,ke)),onFocus:gt(js(qe,Le)),onBlur:gt(js(st,Ye)),onClick:nt(js(ft,tt)),onDragEnter:It(js(Vt,ue)),onDragOver:It(js(xn,Ie)),onDragLeave:It(js(Gn,Ge)),onDrop:It(js(Jr,de)),role:typeof _e=="string"&&_e!==""?_e:"presentation"},we,D),!r&&!R?{tabIndex:0}:{}),br)}},[D,ke,Le,Ye,tt,ue,Ie,Ge,de,R,F,r]),nr=g.useCallback(function(Z){Z.stopPropagation()},[]),J=g.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=Z.refKey,we=re===void 0?"ref":re,_e=Z.onChange,Ke=Z.onClick,qe=jp(Z,Z7),st=Ly({accept:I,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:nt(js(_e,de)),onClick:nt(js(Ke,nr)),tabIndex:-1},we,L);return Rt(Rt({},st),qe)}},[L,n,l,de,r]);return Rt(Rt({},M),{},{isFocused:G&&!r,getRootProps:lt,getInputProps:J,rootRef:D,inputRef:L,open:nt(ne)})}function lq(t,e){switch(e.type){case"focus":return Rt(Rt({},t),{},{isFocused:!0});case"blur":return Rt(Rt({},t),{},{isFocused:!1});case"openDialog":return Rt(Rt({},Fy),{},{isFileDialogActive:!0});case"closeDialog":return Rt(Rt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Rt(Rt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Rt(Rt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Rt({},Fy);default:return t}}function _C(){}const cq=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},uq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(i&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},wR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,l=i?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let p=(l&15)<<2|u>>6,m=u&63;c||(m=64,i||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||u==null||f==null)throw new dq;const p=o<<2|l>>4;if(r.push(p),u!==64){const m=l<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hq=function(t){const e=xR(t);return wR.encodeByteArray(e,!0)},Pp=function(t){return hq(t).replace(/\./g,"")},bR=function(t){try{return wR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=()=>fq().__FIREBASE_DEFAULTS__,mq=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bR(t[1]);return e&&JSON.parse(e)},Bm=()=>{try{return cq()||pq()||mq()||gq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_R=t=>{var e,n;return(n=(e=Bm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},vq=t=>{const e=_R(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SR=()=>{var t;return(t=Bm())==null?void 0:t.config},ER=t=>{var e;return(e=Bm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[Pp(JSON.stringify(n)),Pp(JSON.stringify(i)),l].join(".")}const Fu={};function wq(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?t.emulator.push(e):t.prod.push(e);return t}function bq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SC=!1;function TR(t,e){if(typeof window>"u"||typeof document>"u"||!Nc(window.location.host)||Fu[t]===e||Fu[t]||SC)return;Fu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=wq().prod.length>0;function i(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{SC=!0,i()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=bq(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),x=n("learnmore"),S=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),d(S,x);const j=u();c(v,_),b.append(v,y,S,j),document.body.appendChild(b)}o?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function Sq(){var e;const t=(e=Bm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Eq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Tq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nq(){const t=Wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kq(){return!Sq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jq(){try{return typeof indexedDB=="object"}catch{return!1}}function Pq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq="FirebaseError";class Lo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Aq,Object.setPrototypeOf(this,Lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ud.prototype.create)}}class Ud{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?Iq(o,r):"Error",l=`${this.serviceName}: ${i} (${s}).`;return new Lo(s,l,r)}}function Iq(t,e){return t.replace(Rq,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Rq=/\{\$([^}]+)}/g;function Dq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ba(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(EC(o)&&EC(i)){if(!Ba(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function EC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Oq(t,e){const n=new Mq(t,e);return n.subscribe.bind(n)}class Mq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Lq(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Av),s.error===void 0&&(s.error=Av),s.complete===void 0&&(s.complete=Av);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){return t&&t._delegate?t._delegate:t}class $a{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zq(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&i.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Vq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vq(t){return t===ca?void 0:t}function zq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Fq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const Bq={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},$q=Je.INFO,qq={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},Wq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=qq[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ab{constructor(e){this.name=e,this._logLevel=$q,this._logHandler=Wq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const Hq=(t,e)=>e.some(n=>t instanceof n);let CC,TC;function Gq(){return CC||(CC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kq(){return TC||(TC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NR=new WeakMap,Vy=new WeakMap,kR=new WeakMap,Iv=new WeakMap,lb=new WeakMap;function Yq(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(wi(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&NR.set(n,t)}).catch(()=>{}),lb.set(e,t),e}function Qq(t){if(Vy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Vy.set(t,e)}let zy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xq(t){zy=t(zy)}function Jq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rv(this),e,...n);return kR.set(r,e.sort?e.sort():[e]),wi(r)}:Kq().includes(t)?function(...e){return t.apply(Rv(this),e),wi(NR.get(this))}:function(...e){return wi(t.apply(Rv(this),e))}}function Zq(t){return typeof t=="function"?Jq(t):(t instanceof IDBTransaction&&Qq(t),Hq(t,Gq())?new Proxy(t,zy):t)}function wi(t){if(t instanceof IDBRequest)return Yq(t);if(Iv.has(t))return Iv.get(t);const e=Zq(t);return e!==t&&(Iv.set(t,e),lb.set(e,t)),e}const Rv=t=>lb.get(t);function eW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),l=wi(i);return r&&i.addEventListener("upgradeneeded",c=>{r(wi(i.result),c.oldVersion,c.newVersion,wi(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const tW=["get","getKey","getAll","getAllKeys","count"],nW=["put","add","delete","clear"],Dv=new Map;function NC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dv.get(e))return Dv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tW.includes(n)))return;const o=async function(i,...l){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Dv.set(e,o),o}Xq(t=>({...t,get:(e,n,r)=>NC(e,n)||t.get(e,n,r),has:(e,n)=>!!NC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uy="@firebase/app",kC="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new ab("@firebase/app"),oW="@firebase/app-compat",iW="@firebase/analytics-compat",aW="@firebase/analytics",lW="@firebase/app-check-compat",cW="@firebase/app-check",uW="@firebase/auth",dW="@firebase/auth-compat",hW="@firebase/database",fW="@firebase/data-connect",pW="@firebase/database-compat",mW="@firebase/functions",gW="@firebase/functions-compat",vW="@firebase/installations",yW="@firebase/installations-compat",xW="@firebase/messaging",wW="@firebase/messaging-compat",bW="@firebase/performance",_W="@firebase/performance-compat",SW="@firebase/remote-config",EW="@firebase/remote-config-compat",CW="@firebase/storage",TW="@firebase/storage-compat",NW="@firebase/firestore",kW="@firebase/ai",jW="@firebase/firestore-compat",PW="firebase",AW="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="[DEFAULT]",IW={[Uy]:"fire-core",[oW]:"fire-core-compat",[aW]:"fire-analytics",[iW]:"fire-analytics-compat",[cW]:"fire-app-check",[lW]:"fire-app-check-compat",[uW]:"fire-auth",[dW]:"fire-auth-compat",[hW]:"fire-rtdb",[fW]:"fire-data-connect",[pW]:"fire-rtdb-compat",[mW]:"fire-fn",[gW]:"fire-fn-compat",[vW]:"fire-iid",[yW]:"fire-iid-compat",[xW]:"fire-fcm",[wW]:"fire-fcm-compat",[bW]:"fire-perf",[_W]:"fire-perf-compat",[SW]:"fire-rc",[EW]:"fire-rc-compat",[CW]:"fire-gcs",[TW]:"fire-gcs-compat",[NW]:"fire-fst",[jW]:"fire-fst-compat",[kW]:"fire-vertex","fire-js":"fire-js",[PW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Map,RW=new Map,$y=new Map;function jC(t,e){try{t.container.addComponent(e)}catch(n){Po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lc(t){const e=t.name;if($y.has(e))return Po.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,t);for(const n of Ap.values())jC(n,t);for(const n of RW.values())jC(n,t);return!0}function cb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Os(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new Ud("app","Firebase",DW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=AW;function jR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:By,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw bi.create("bad-app-name",{appName:String(s)});if(n||(n=SR()),!n)throw bi.create("no-options");const o=Ap.get(s);if(o){if(Ba(n,o.options)&&Ba(r,o.config))return o;throw bi.create("duplicate-app",{appName:s})}const i=new Uq(s);for(const c of $y.values())i.addComponent(c);const l=new OW(n,r,i);return Ap.set(s,l),l}function PR(t=By){const e=Ap.get(t);if(!e&&t===By&&SR())return jR();if(!e)throw bi.create("no-app",{appName:t});return e}function _i(t,e,n){let r=IW[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const i=[`Unable to register library "${r}" with version "${e}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&i.push("and"),o&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Po.warn(i.join(" "));return}lc(new $a(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW="firebase-heartbeat-database",LW=1,gd="firebase-heartbeat-store";let Ov=null;function AR(){return Ov||(Ov=eW(MW,LW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw bi.create("idb-open",{originalErrorMessage:t.message})})),Ov}async function FW(t){try{const n=(await AR()).transaction(gd),r=await n.objectStore(gd).get(IR(t));return await n.done,r}catch(e){if(e instanceof Lo)Po.warn(e.message);else{const n=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Po.warn(n.message)}}}async function PC(t,e){try{const r=(await AR()).transaction(gd,"readwrite");await r.objectStore(gd).put(e,IR(t)),await r.done}catch(n){if(n instanceof Lo)Po.warn(n.message);else{const r=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Po.warn(r.message)}}}function IR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW=1024,zW=30;class UW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $W(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>zW){const i=qW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Po.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AC(),{heartbeatsToSend:r,unsentEntries:s}=BW(this._heartbeatsCache.heartbeats),o=Pp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Po.warn(n),""}}}function AC(){return new Date().toISOString().substring(0,10)}function BW(t,e=VW){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),IC(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),IC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $W{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jq()?Pq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function IC(t){return Pp(JSON.stringify({version:2,heartbeats:t})).length}function qW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(t){lc(new $a("platform-logger",e=>new rW(e),"PRIVATE")),lc(new $a("heartbeat",e=>new UW(e),"PRIVATE")),_i(Uy,kC,t),_i(Uy,kC,"esm2020"),_i("fire-js","")}WW("");var RC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Si,RR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function A(){}A.prototype=T.prototype,E.F=T.prototype,E.prototype=new A,E.prototype.constructor=E,E.D=function(I,k,N){for(var P=Array(arguments.length-2),D=2;D<arguments.length;D++)P[D-2]=arguments[D];return T.prototype[k].apply(I,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,T,A){A||(A=0);const I=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)I[k]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(k=0;k<16;++k)I[k]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=E.g[0],A=E.g[1],k=E.g[2];let N=E.g[3],P;P=T+(N^A&(k^N))+I[0]+3614090360&4294967295,T=A+(P<<7&4294967295|P>>>25),P=N+(k^T&(A^k))+I[1]+3905402710&4294967295,N=T+(P<<12&4294967295|P>>>20),P=k+(A^N&(T^A))+I[2]+606105819&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(T^k&(N^T))+I[3]+3250441966&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(N^A&(k^N))+I[4]+4118548399&4294967295,T=A+(P<<7&4294967295|P>>>25),P=N+(k^T&(A^k))+I[5]+1200080426&4294967295,N=T+(P<<12&4294967295|P>>>20),P=k+(A^N&(T^A))+I[6]+2821735955&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(T^k&(N^T))+I[7]+4249261313&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(N^A&(k^N))+I[8]+1770035416&4294967295,T=A+(P<<7&4294967295|P>>>25),P=N+(k^T&(A^k))+I[9]+2336552879&4294967295,N=T+(P<<12&4294967295|P>>>20),P=k+(A^N&(T^A))+I[10]+4294925233&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(T^k&(N^T))+I[11]+2304563134&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(N^A&(k^N))+I[12]+1804603682&4294967295,T=A+(P<<7&4294967295|P>>>25),P=N+(k^T&(A^k))+I[13]+4254626195&4294967295,N=T+(P<<12&4294967295|P>>>20),P=k+(A^N&(T^A))+I[14]+2792965006&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(T^k&(N^T))+I[15]+1236535329&4294967295,A=k+(P<<22&4294967295|P>>>10),P=T+(k^N&(A^k))+I[1]+4129170786&4294967295,T=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(T^A))+I[6]+3225465664&4294967295,N=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(N^T))+I[11]+643717713&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^T&(k^N))+I[0]+3921069994&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(k^N&(A^k))+I[5]+3593408605&4294967295,T=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(T^A))+I[10]+38016083&4294967295,N=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(N^T))+I[15]+3634488961&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^T&(k^N))+I[4]+3889429448&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(k^N&(A^k))+I[9]+568446438&4294967295,T=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(T^A))+I[14]+3275163606&4294967295,N=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(N^T))+I[3]+4107603335&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^T&(k^N))+I[8]+1163531501&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(k^N&(A^k))+I[13]+2850285829&4294967295,T=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(T^A))+I[2]+4243563512&4294967295,N=T+(P<<9&4294967295|P>>>23),P=k+(T^A&(N^T))+I[7]+1735328473&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^T&(k^N))+I[12]+2368359562&4294967295,A=k+(P<<20&4294967295|P>>>12),P=T+(A^k^N)+I[5]+4294588738&4294967295,T=A+(P<<4&4294967295|P>>>28),P=N+(T^A^k)+I[8]+2272392833&4294967295,N=T+(P<<11&4294967295|P>>>21),P=k+(N^T^A)+I[11]+1839030562&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^T)+I[14]+4259657740&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(A^k^N)+I[1]+2763975236&4294967295,T=A+(P<<4&4294967295|P>>>28),P=N+(T^A^k)+I[4]+1272893353&4294967295,N=T+(P<<11&4294967295|P>>>21),P=k+(N^T^A)+I[7]+4139469664&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^T)+I[10]+3200236656&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(A^k^N)+I[13]+681279174&4294967295,T=A+(P<<4&4294967295|P>>>28),P=N+(T^A^k)+I[0]+3936430074&4294967295,N=T+(P<<11&4294967295|P>>>21),P=k+(N^T^A)+I[3]+3572445317&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^T)+I[6]+76029189&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(A^k^N)+I[9]+3654602809&4294967295,T=A+(P<<4&4294967295|P>>>28),P=N+(T^A^k)+I[12]+3873151461&4294967295,N=T+(P<<11&4294967295|P>>>21),P=k+(N^T^A)+I[15]+530742520&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^T)+I[2]+3299628645&4294967295,A=k+(P<<23&4294967295|P>>>9),P=T+(k^(A|~N))+I[0]+4096336452&4294967295,T=A+(P<<6&4294967295|P>>>26),P=N+(A^(T|~k))+I[7]+1126891415&4294967295,N=T+(P<<10&4294967295|P>>>22),P=k+(T^(N|~A))+I[14]+2878612391&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~T))+I[5]+4237533241&4294967295,A=k+(P<<21&4294967295|P>>>11),P=T+(k^(A|~N))+I[12]+1700485571&4294967295,T=A+(P<<6&4294967295|P>>>26),P=N+(A^(T|~k))+I[3]+2399980690&4294967295,N=T+(P<<10&4294967295|P>>>22),P=k+(T^(N|~A))+I[10]+4293915773&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~T))+I[1]+2240044497&4294967295,A=k+(P<<21&4294967295|P>>>11),P=T+(k^(A|~N))+I[8]+1873313359&4294967295,T=A+(P<<6&4294967295|P>>>26),P=N+(A^(T|~k))+I[15]+4264355552&4294967295,N=T+(P<<10&4294967295|P>>>22),P=k+(T^(N|~A))+I[6]+2734768916&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~T))+I[13]+1309151649&4294967295,A=k+(P<<21&4294967295|P>>>11),P=T+(k^(A|~N))+I[4]+4149444226&4294967295,T=A+(P<<6&4294967295|P>>>26),P=N+(A^(T|~k))+I[11]+3174756917&4294967295,N=T+(P<<10&4294967295|P>>>22),P=k+(T^(N|~A))+I[2]+718787259&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~T))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+N&4294967295}r.prototype.v=function(E,T){T===void 0&&(T=E.length);const A=T-this.blockSize,I=this.C;let k=this.h,N=0;for(;N<T;){if(k==0)for(;N<=A;)s(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<T;)if(I[k++]=E.charCodeAt(N++),k==this.blockSize){s(this,I),k=0;break}}else for(;N<T;)if(I[k++]=E[N++],k==this.blockSize){s(this,I),k=0;break}}this.h=k,this.o+=T},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;T=this.o*8;for(var A=E.length-8;A<E.length;++A)E[A]=T&255,T/=256;for(this.v(E),E=Array(16),T=0,A=0;A<4;++A)for(let I=0;I<32;I+=8)E[T++]=this.g[A]>>>I&255;return E};function o(E,T){var A=l;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=T(E)}function i(E,T){this.h=T;const A=[];let I=!0;for(let k=E.length-1;k>=0;k--){const N=E[k]|0;I&&N==T||(A[k]=N,I=!1)}this.g=A}var l={};function c(E){return-128<=E&&E<128?o(E,function(T){return new i([T|0],T<0?-1:0)}):new i([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return S(u(-E));const T=[];let A=1;for(let I=0;E>=A;I++)T[I]=E/A|0,A*=4294967296;return new i(T,0)}function d(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return S(d(E.substring(1),T));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(T,8));let I=f;for(let N=0;N<E.length;N+=8){var k=Math.min(8,E.length-N);const P=parseInt(E.substring(N,N+k),T);k<8?(k=u(Math.pow(T,k)),I=I.j(k).add(u(P))):(I=I.j(A),I=I.add(u(P)))}return I}var f=c(0),p=c(1),m=c(16777216);t=i.prototype,t.m=function(){if(x(this))return-S(this).m();let E=0,T=1;for(let A=0;A<this.g.length;A++){const I=this.i(A);E+=(I>=0?I:4294967296+I)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(x(this))return"-"+S(this).toString(E);const T=u(Math.pow(E,6));var A=this;let I="";for(;;){const k=j(A,T).g;A=_(A,k.j(T));let N=((A.g.length>0?A.g[0]:A.h)>>>0).toString(E);if(A=k,y(A))return N+I;for(;N.length<6;)N="0"+N;I=N+I}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(let T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=_(this,E),x(E)?-1:y(E)?0:1};function S(E){const T=E.g.length,A=[];for(let I=0;I<T;I++)A[I]=~E.g[I];return new i(A,~E.h).add(p)}t.abs=function(){return x(this)?S(this):this},t.add=function(E){const T=Math.max(this.g.length,E.g.length),A=[];let I=0;for(let k=0;k<=T;k++){let N=I+(this.i(k)&65535)+(E.i(k)&65535),P=(N>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);I=P>>>16,N&=65535,P&=65535,A[k]=P<<16|N}return new i(A,A[A.length-1]&-2147483648?-1:0)};function _(E,T){return E.add(S(T))}t.j=function(E){if(y(this)||y(E))return f;if(x(this))return x(E)?S(this).j(S(E)):S(S(this).j(E));if(x(E))return S(this.j(S(E)));if(this.l(m)<0&&E.l(m)<0)return u(this.m()*E.m());const T=this.g.length+E.g.length,A=[];for(var I=0;I<2*T;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(let k=0;k<E.g.length;k++){const N=this.i(I)>>>16,P=this.i(I)&65535,D=E.i(k)>>>16,L=E.i(k)&65535;A[2*I+2*k]+=P*L,v(A,2*I+2*k),A[2*I+2*k+1]+=N*L,v(A,2*I+2*k+1),A[2*I+2*k+1]+=P*D,v(A,2*I+2*k+1),A[2*I+2*k+2]+=N*D,v(A,2*I+2*k+2)}for(E=0;E<T;E++)A[E]=A[2*E+1]<<16|A[2*E];for(E=T;E<2*T;E++)A[E]=0;return new i(A,0)};function v(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function b(E,T){this.g=E,this.h=T}function j(E,T){if(y(T))throw Error("division by zero");if(y(E))return new b(f,f);if(x(E))return T=j(S(E),T),new b(S(T.g),S(T.h));if(x(T))return T=j(E,S(T)),new b(S(T.g),T.h);if(E.g.length>30){if(x(E)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var A=p,I=T;I.l(E)<=0;)A=R(A),I=R(I);var k=F(A,1),N=F(I,1);for(I=F(I,2),A=F(A,2);!y(I);){var P=N.add(I);P.l(E)<=0&&(k=k.add(A),N=P),I=F(I,1),A=F(A,1)}return T=_(E,k.j(T)),new b(k,T)}for(k=f;E.l(T)>=0;){for(A=Math.max(1,Math.floor(E.m()/T.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),N=u(A),P=N.j(T);x(P)||P.l(E)>0;)A-=I,N=u(A),P=N.j(T);y(N)&&(N=p),k=k.add(N),E=_(E,P)}return new b(k,E)}t.B=function(E){return j(this,E).h},t.and=function(E){const T=Math.max(this.g.length,E.g.length),A=[];for(let I=0;I<T;I++)A[I]=this.i(I)&E.i(I);return new i(A,this.h&E.h)},t.or=function(E){const T=Math.max(this.g.length,E.g.length),A=[];for(let I=0;I<T;I++)A[I]=this.i(I)|E.i(I);return new i(A,this.h|E.h)},t.xor=function(E){const T=Math.max(this.g.length,E.g.length),A=[];for(let I=0;I<T;I++)A[I]=this.i(I)^E.i(I);return new i(A,this.h^E.h)};function R(E){const T=E.g.length+1,A=[];for(let I=0;I<T;I++)A[I]=E.i(I)<<1|E.i(I-1)>>>31;return new i(A,E.h)}function F(E,T){const A=T>>5;T%=32;const I=E.g.length-A,k=[];for(let N=0;N<I;N++)k[N]=T>0?E.i(N+A)>>>T|E.i(N+A+1)<<32-T:E.i(N+A);return new i(k,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RR=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,Si=i}).apply(typeof RC<"u"?RC:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DR,wu,OR,Tf,qy,MR,LR,FR;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var w=0;w<h.length;++w){var C=h[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(h,w){if(w)e:{var C=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var W=h[O];if(!(W in C))break e;C=C[W]}h=h[h.length-1],O=C[h],w=w(O),w!=O&&w!=null&&e(C,h,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(w){var C=[],O;for(O in w)Object.prototype.hasOwnProperty.call(w,O)&&C.push([O,w[O]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},i=this||self;function l(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function c(h,w,C){return h.call.apply(h.bind,arguments)}function u(h,w,C){return u=c,u.apply(null,arguments)}function d(h,w){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function f(h,w){function C(){}C.prototype=w.prototype,h.Z=w.prototype,h.prototype=new C,h.prototype.constructor=h,h.Ob=function(O,W,H){for(var fe=Array(arguments.length-2),We=2;We<arguments.length;We++)fe[We-2]=arguments[We];return w.prototype[W].apply(O,fe)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function m(h){const w=h.length;if(w>0){const C=Array(w);for(let O=0;O<w;O++)C[O]=h[O];return C}return[]}function y(h,w){for(let O=1;O<arguments.length;O++){const W=arguments[O];var C=typeof W;if(C=C!="object"?C:W?Array.isArray(W)?"array":C:"null",C=="array"||C=="object"&&typeof W.length=="number"){C=h.length||0;const H=W.length||0;h.length=C+H;for(let fe=0;fe<H;fe++)h[C+fe]=W[fe]}else h.push(W)}}class x{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function S(h){i.setTimeout(()=>{throw h},0)}function _(){var h=E;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class v{constructor(){this.h=this.g=null}add(w,C){const O=b.get();O.set(w,C),this.h?this.h.next=O:this.g=O,this.h=O}}var b=new x(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let R,F=!1,E=new v,T=()=>{const h=Promise.resolve(void 0);R=()=>{h.then(A)}};function A(){for(var h;h=_();){try{h.h.call(h.g)}catch(C){S(C)}var w=b;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}F=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const C=()=>{};i.addEventListener("test",C,w),i.removeEventListener("test",C,w)}catch{}return h}();function P(h){return/^[\s\xa0]*$/.test(h)}function D(h,w){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}f(D,k),D.prototype.init=function(h,w){const C=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(C=="mouseover"?w=h.fromElement:C=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var L="closure_listenable_"+(Math.random()*1e6|0),B=0;function $(h,w,C,O,W){this.listener=h,this.proxy=null,this.src=w,this.type=C,this.capture=!!O,this.ha=W,this.key=++B,this.da=this.fa=!1}function M(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function V(h,w,C){for(const O in h)w.call(C,h[O],O,h)}function G(h,w){for(const C in h)w.call(void 0,h[C],C,h)}function K(h){const w={};for(const C in h)w[C]=h[C];return w}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,w){let C,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(C in O)h[C]=O[C];for(let H=0;H<le.length;H++)C=le[H],Object.prototype.hasOwnProperty.call(O,C)&&(h[C]=O[C])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,w,C,O,W){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const fe=Ae(h,w,O,W);return fe>-1?(w=h[fe],C||(w.fa=!1)):(w=new $(w,this.src,H,!!O,W),w.fa=C,h.push(w)),w};function Ue(h,w){const C=w.type;if(C in h.g){var O=h.g[C],W=Array.prototype.indexOf.call(O,w,void 0),H;(H=W>=0)&&Array.prototype.splice.call(O,W,1),H&&(M(w),h.g[C].length==0&&(delete h.g[C],h.h--))}}function Ae(h,w,C,O){for(let W=0;W<h.length;++W){const H=h[W];if(!H.da&&H.listener==w&&H.capture==!!C&&H.ha==O)return W}return-1}var ue="closure_lm_"+(Math.random()*1e6|0),Ie={};function Ge(h,w,C,O,W){if(O&&O.once)return ne(h,w,C,O,W);if(Array.isArray(w)){for(let H=0;H<w.length;H++)Ge(h,w[H],C,O,W);return null}return C=It(C),h&&h[L]?h.J(w,C,l(O)?!!O.capture:!!O,W):q(h,w,C,!1,O,W)}function q(h,w,C,O,W,H){if(!w)throw Error("Invalid event type");const fe=l(W)?!!W.capture:!!W;let We=nt(h);if(We||(h[ue]=We=new me(h)),C=We.add(w,C,O,fe,H),C.proxy)return C;if(O=de(),C.proxy=O,O.src=h,O.listener=C,h.addEventListener)N||(W=fe),W===void 0&&(W=!1),h.addEventListener(w.toString(),O,W);else if(h.attachEvent)h.attachEvent(Ye(w.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function de(){function h(C){return w.call(h.src,h.listener,C)}const w=tt;return h}function ne(h,w,C,O,W){if(Array.isArray(w)){for(let H=0;H<w.length;H++)ne(h,w[H],C,O,W);return null}return C=It(C),h&&h[L]?h.K(w,C,l(O)?!!O.capture:!!O,W):q(h,w,C,!0,O,W)}function ke(h,w,C,O,W){if(Array.isArray(w))for(var H=0;H<w.length;H++)ke(h,w[H],C,O,W);else O=l(O)?!!O.capture:!!O,C=It(C),h&&h[L]?(h=h.i,H=String(w).toString(),H in h.g&&(w=h.g[H],C=Ae(w,C,O,W),C>-1&&(M(w[C]),Array.prototype.splice.call(w,C,1),w.length==0&&(delete h.g[H],h.h--)))):h&&(h=nt(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ae(w,C,O,W)),(C=h>-1?w[h]:null)&&Le(C))}function Le(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[L])Ue(w.i,h);else{var C=h.type,O=h.proxy;w.removeEventListener?w.removeEventListener(C,O,h.capture):w.detachEvent?w.detachEvent(Ye(C),O):w.addListener&&w.removeListener&&w.removeListener(O),(C=nt(w))?(Ue(C,h),C.h==0&&(C.src=null,w[ue]=null)):M(h)}}}function Ye(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function tt(h,w){if(h.da)h=!0;else{w=new D(w,this);const C=h.listener,O=h.ha||h.src;h.fa&&Le(h),h=C.call(O,w)}return h}function nt(h){return h=h[ue],h instanceof me?h:null}var gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function It(h){return typeof h=="function"?h:(h[gt]||(h[gt]=function(w){return h.handleEvent(w)}),h[gt])}function ht(){I.call(this),this.i=new me(this),this.M=this,this.G=null}f(ht,I),ht.prototype[L]=!0,ht.prototype.removeEventListener=function(h,w,C,O){ke(this,h,w,C,O)};function lt(h,w){var C,O=h.G;if(O)for(C=[];O;O=O.G)C.push(O);if(h=h.M,O=w.type||w,typeof w=="string")w=new k(w,h);else if(w instanceof k)w.target=w.target||h;else{var W=w;w=new k(O,h),ce(w,W)}W=!0;let H,fe;if(C)for(fe=C.length-1;fe>=0;fe--)H=w.g=C[fe],W=nr(H,O,!0,w)&&W;if(H=w.g=h,W=nr(H,O,!0,w)&&W,W=nr(H,O,!1,w)&&W,C)for(fe=0;fe<C.length;fe++)H=w.g=C[fe],W=nr(H,O,!1,w)&&W}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const C=h.g[w];for(let O=0;O<C.length;O++)M(C[O]);delete h.g[w],h.h--}}this.G=null},ht.prototype.J=function(h,w,C,O){return this.i.add(String(h),w,!1,C,O)},ht.prototype.K=function(h,w,C,O){return this.i.add(String(h),w,!0,C,O)};function nr(h,w,C,O){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let H=0;H<w.length;++H){const fe=w[H];if(fe&&!fe.da&&fe.capture==C){const We=fe.listener,an=fe.ha||fe.src;fe.fa&&Ue(h.i,fe),W=We.call(an,O)!==!1&&W}}return W&&!O.defaultPrevented}function J(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:i.setTimeout(h,w||0)}function Z(h){h.g=J(()=>{h.g=null,h.i&&(h.i=!1,Z(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class re extends I{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Z(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(h){I.call(this),this.h=h,this.g={}}f(we,I);var _e=[];function Ke(h){V(h.g,function(w,C){this.g.hasOwnProperty(C)&&Le(w)},h),h.g={}}we.prototype.N=function(){we.Z.N.call(this),Ke(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=i.JSON.stringify,st=i.JSON.parse,ft=class{stringify(h){return i.JSON.stringify(h,void 0)}parse(h){return i.JSON.parse(h,void 0)}};function Vt(){}function xn(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jr(){k.call(this,"d")}f(Jr,k);function br(){k.call(this,"c")}f(br,k);var on={},rr=null;function Zr(){return rr=rr||new ht}on.Ia="serverreachability";function ro(h){k.call(this,on.Ia,h)}f(ro,k);function Es(h){const w=Zr();lt(w,new ro(w))}on.STAT_EVENT="statevent";function sl(h,w){k.call(this,on.STAT_EVENT,h),this.stat=w}f(sl,k);function qt(h){const w=Zr();lt(w,new sl(w,h))}on.Ja="timingevent";function so(h,w){k.call(this,on.Ja,h),this.size=w}f(so,k);function es(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){h()},w)}function z(){this.g=!0}z.prototype.ua=function(){this.g=!1};function se(h,w,C,O,W,H){h.info(function(){if(h.g)if(H){var fe="",We=H.split("&");for(let yt=0;yt<We.length;yt++){var an=We[yt].split("=");if(an.length>1){const mn=an[0];an=an[1];const Ns=mn.split("_");fe=Ns.length>=2&&Ns[1]=="type"?fe+(mn+"="+an+"&"):fe+(mn+"=redacted&")}}}else fe=null;else fe=H;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+w+`
`+C+`
`+fe})}function oe(h,w,C,O,W,H,fe){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+w+`
`+C+`
`+H+" "+fe})}function ge(h,w,C,O){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+U(h,C)+(O?" "+O:"")})}function Kn(h,w){h.info(function(){return"TIMEOUT: "+w})}z.prototype.info=function(){};function U(h,w){if(!h.g)return w;if(!w)return null;try{const H=JSON.parse(w);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var C=H[h];if(!(C.length<2)){var O=C[1];if(Array.isArray(O)&&!(O.length<1)){var W=O[0];if(W!="noop"&&W!="stop"&&W!="close")for(let fe=1;fe<O.length;fe++)O[fe]=""}}}}return qe(H)}catch{return w}}var Y={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ee={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Et;function In(){}f(In,Vt),In.prototype.g=function(){return new XMLHttpRequest},Et=new In;function Cs(h){return encodeURIComponent(String(h))}function Rn(h){var w=1;h=h.split(":");const C=[];for(;w>0&&h.length;)C.push(h.shift()),w--;return h.length&&C.push(h.join(":")),C}function wn(h,w,C,O){this.j=h,this.i=w,this.l=C,this.S=O||1,this.V=new we(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ts}function ts(){this.i=null,this.g="",this.h=!1}var Lc={},Fc={};function mg(h,w,C){h.M=1,h.A=ah(Ts(w)),h.u=C,h.R=!0,C1(h,null)}function C1(h,w){h.F=Date.now(),ih(h),h.B=Ts(h.A);var C=h.B,O=h.S;Array.isArray(O)||(O=[String(O)]),F1(C.i,"t",O),h.C=0,C=h.j.L,h.h=new ts,h.g=n_(h.j,C?w:null,!h.u),h.P>0&&(h.O=new re(u(h.Y,h,h.g),h.P)),w=h.V,C=h.g,O=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(_e[0]=W.toString()),W=_e);for(let H=0;H<W.length;H++){const fe=Ge(C,W[H],O||w.handleEvent,!1,w.h||w);if(!fe)break;w.g[fe.key]=fe}w=h.J?K(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),Es(),se(h.i,h.v,h.B,h.l,h.S,h.u)}wn.prototype.ba=function(h){h=h.target;const w=this.O;w&&zo(h)==3?w.j():this.Y(h)},wn.prototype.Y=function(h){try{if(h==this.g)e:{const We=zo(this.g),an=this.g.ya(),yt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||W1(this.g)))){this.K||We!=4||an==7||(an==8||yt<=0?Es(3):Es(2)),gg(this);var w=this.g.ca();this.X=w;var C=IM(this);if(this.o=w==200,oe(this.i,this.v,this.B,this.l,this.S,We,w),this.o){if(this.U&&!this.L){t:{if(this.g){var O,W=this.g;if((O=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(O)){var H=O;break t}}H=null}if(h=H)ge(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vg(this,h);else{this.o=!1,this.m=3,qt(12),Ji(this),Vc(this);break e}}if(this.R){h=!0;let mn;for(;!this.K&&this.C<C.length;)if(mn=RM(this,C),mn==Fc){We==4&&(this.m=4,qt(14),h=!1),ge(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Lc){this.m=4,qt(15),ge(this.i,this.l,C,"[Invalid Chunk]"),h=!1;break}else ge(this.i,this.l,mn,null),vg(this,mn);if(T1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||C.length!=0||this.h.h||(this.m=1,qt(16),h=!1),this.o=this.o&&h,!h)ge(this.i,this.l,C,"[Invalid Chunked Response]"),Ji(this),Vc(this);else if(C.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Cg(fe),fe.P=!0,qt(11))}}else ge(this.i,this.l,C,null),vg(this,C);We==4&&Ji(this),this.o&&!this.K&&(We==4?J1(this.j,this):(this.o=!1,ih(this)))}else GM(this.g),w==400&&C.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Ji(this),Vc(this)}}}catch{}finally{}};function IM(h){if(!T1(h))return h.g.la();const w=W1(h.g);if(w==="")return"";let C="";const O=w.length,W=zo(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ji(h),Vc(h),"";h.h.i=new i.TextDecoder}for(let H=0;H<O;H++)h.h.h=!0,C+=h.h.i.decode(w[H],{stream:!(W&&H==O-1)});return w.length=0,h.h.g+=C,h.C=0,h.h.g}function T1(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function RM(h,w){var C=h.C,O=w.indexOf(`
`,C);return O==-1?Fc:(C=Number(w.substring(C,O)),isNaN(C)?Lc:(O+=1,O+C>w.length?Fc:(w=w.slice(O,O+C),h.C=O+C,w)))}wn.prototype.cancel=function(){this.K=!0,Ji(this)};function ih(h){h.T=Date.now()+h.H,N1(h,h.H)}function N1(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=es(u(h.aa,h),w)}function gg(h){h.D&&(i.clearTimeout(h.D),h.D=null)}wn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Kn(this.i,this.B),this.M!=2&&(Es(),qt(17)),Ji(this),this.m=2,Vc(this)):N1(this,this.T-h)};function Vc(h){h.j.I==0||h.K||J1(h.j,h)}function Ji(h){gg(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,Ke(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function vg(h,w){try{var C=h.j;if(C.I!=0&&(C.g==h||yg(C.h,h))){if(!h.L&&yg(C.h,h)&&C.I==3){try{var O=C.Ba.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<h.F)hh(C),uh(C);else break e;Eg(C),qt(18)}}else C.xa=W[1],0<C.xa-C.K&&W[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=es(u(C.Va,C),6e3));P1(C.h)<=1&&C.ta&&(C.ta=void 0)}else ea(C,11)}else if((h.L||C.g==h)&&hh(C),!P(w))for(W=C.Ba.g.parse(w),w=0;w<W.length;w++){let yt=W[w];const mn=yt[0];if(!(mn<=C.K))if(C.K=mn,yt=yt[1],C.I==2)if(yt[0]=="c"){C.M=yt[1],C.ba=yt[2];const Ns=yt[3];Ns!=null&&(C.ka=Ns,C.j.info("VER="+C.ka));const ta=yt[4];ta!=null&&(C.za=ta,C.j.info("SVER="+C.za));const Uo=yt[5];Uo!=null&&typeof Uo=="number"&&Uo>0&&(O=1.5*Uo,C.O=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;const Bo=h.g;if(Bo){const ph=Bo.g?Bo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ph){var H=O.h;H.g||ph.indexOf("spdy")==-1&&ph.indexOf("quic")==-1&&ph.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(xg(H,H.h),H.h=null))}if(O.G){const Tg=Bo.g?Bo.g.getResponseHeader("X-HTTP-Session-Id"):null;Tg&&(O.wa=Tg,Ct(O.J,O.G,Tg))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-h.F,C.j.info("Handshake RTT: "+C.T+"ms")),O=C;var fe=h;if(O.na=t_(O,O.L?O.ba:null,O.W),fe.L){A1(O.h,fe);var We=fe,an=O.O;an&&(We.H=an),We.D&&(gg(We),ih(We)),O.g=fe}else Q1(O);C.i.length>0&&dh(C)}else yt[0]!="stop"&&yt[0]!="close"||ea(C,7);else C.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?ea(C,7):Sg(C):yt[0]!="noop"&&C.l&&C.l.qa(yt),C.A=0)}}Es(4)}catch{}}var DM=class{constructor(h,w){this.g=h,this.map=w}};function k1(h){this.l=h||10,i.PerformanceNavigationTiming?(h=i.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function j1(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function P1(h){return h.h?1:h.g?h.g.size:0}function yg(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function xg(h,w){h.g?h.g.add(w):h.h=w}function A1(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}k1.prototype.cancel=function(){if(this.i=I1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function I1(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const C of h.g.values())w=w.concat(C.G);return w}return m(h.i)}var R1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OM(h,w){if(h){h=h.split("&");for(let C=0;C<h.length;C++){const O=h[C].indexOf("=");let W,H=null;O>=0?(W=h[C].substring(0,O),H=h[C].substring(O+1)):W=h[C],w(W,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Fo(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof Fo?(this.l=h.l,zc(this,h.j),this.o=h.o,this.g=h.g,Uc(this,h.u),this.h=h.h,wg(this,V1(h.i)),this.m=h.m):h&&(w=String(h).match(R1))?(this.l=!1,zc(this,w[1]||"",!0),this.o=Bc(w[2]||""),this.g=Bc(w[3]||"",!0),Uc(this,w[4]),this.h=Bc(w[5]||"",!0),wg(this,w[6]||"",!0),this.m=Bc(w[7]||"")):(this.l=!1,this.i=new qc(null,this.l))}Fo.prototype.toString=function(){const h=[];var w=this.j;w&&h.push($c(w,D1,!0),":");var C=this.g;return(C||w=="file")&&(h.push("//"),(w=this.o)&&h.push($c(w,D1,!0),"@"),h.push(Cs(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&h.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&h.push("/"),h.push($c(C,C.charAt(0)=="/"?FM:LM,!0))),(C=this.i.toString())&&h.push("?",C),(C=this.m)&&h.push("#",$c(C,zM)),h.join("")},Fo.prototype.resolve=function(h){const w=Ts(this);let C=!!h.j;C?zc(w,h.j):C=!!h.o,C?w.o=h.o:C=!!h.g,C?w.g=h.g:C=h.u!=null;var O=h.h;if(C)Uc(w,h.u);else if(C=!!h.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var W=w.h.lastIndexOf("/");W!=-1&&(O=w.h.slice(0,W+1)+O)}if(W=O,W==".."||W==".")O="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){O=W.lastIndexOf("/",0)==0,W=W.split("/");const H=[];for(let fe=0;fe<W.length;){const We=W[fe++];We=="."?O&&fe==W.length&&H.push(""):We==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),O&&fe==W.length&&H.push("")):(H.push(We),O=!0)}O=H.join("/")}else O=W}return C?w.h=O:C=h.i.toString()!=="",C?wg(w,V1(h.i)):C=!!h.m,C&&(w.m=h.m),w};function Ts(h){return new Fo(h)}function zc(h,w,C){h.j=C?Bc(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Uc(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function wg(h,w,C){w instanceof qc?(h.i=w,UM(h.i,h.l)):(C||(w=$c(w,VM)),h.i=new qc(w,h.l))}function Ct(h,w,C){h.i.set(w,C)}function ah(h){return Ct(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bc(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function $c(h,w,C){return typeof h=="string"?(h=encodeURI(h).replace(w,MM),C&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function MM(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var D1=/[#\/\?@]/g,LM=/[#\?:]/g,FM=/[#\?]/g,VM=/[#\?@]/g,zM=/#/g;function qc(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Zi(h){h.g||(h.g=new Map,h.h=0,h.i&&OM(h.i,function(w,C){h.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}t=qc.prototype,t.add=function(h,w){Zi(this),this.i=null,h=ol(this,h);let C=this.g.get(h);return C||this.g.set(h,C=[]),C.push(w),this.h+=1,this};function O1(h,w){Zi(h),w=ol(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function M1(h,w){return Zi(h),w=ol(h,w),h.g.has(w)}t.forEach=function(h,w){Zi(this),this.g.forEach(function(C,O){C.forEach(function(W){h.call(w,W,O,this)},this)},this)};function L1(h,w){Zi(h);let C=[];if(typeof w=="string")M1(h,w)&&(C=C.concat(h.g.get(ol(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)C=C.concat(h[w]);return C}t.set=function(h,w){return Zi(this),this.i=null,h=ol(this,h),M1(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=L1(this,h),h.length>0?String(h[0]):w):w};function F1(h,w,C){O1(h,w),C.length>0&&(h.i=null,h.g.set(ol(h,w),m(C)),h.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let O=0;O<w.length;O++){var C=w[O];const W=Cs(C);C=L1(this,C);for(let H=0;H<C.length;H++){let fe=W;C[H]!==""&&(fe+="="+Cs(C[H])),h.push(fe)}}return this.i=h.join("&")};function V1(h){const w=new qc;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function ol(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function UM(h,w){w&&!h.j&&(Zi(h),h.i=null,h.g.forEach(function(C,O){const W=O.toLowerCase();O!=W&&(O1(this,O),F1(this,W,C))},h)),h.j=w}function BM(h,w){const C=new z;if(i.Image){const O=new Image;O.onload=d(Vo,C,"TestLoadImage: loaded",!0,w,O),O.onerror=d(Vo,C,"TestLoadImage: error",!1,w,O),O.onabort=d(Vo,C,"TestLoadImage: abort",!1,w,O),O.ontimeout=d(Vo,C,"TestLoadImage: timeout",!1,w,O),i.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else w(!1)}function $M(h,w){const C=new z,O=new AbortController,W=setTimeout(()=>{O.abort(),Vo(C,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:O.signal}).then(H=>{clearTimeout(W),H.ok?Vo(C,"TestPingServer: ok",!0,w):Vo(C,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),Vo(C,"TestPingServer: error",!1,w)})}function Vo(h,w,C,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(C)}catch{}}function qM(){this.g=new ft}function bg(h){this.i=h.Sb||null,this.h=h.ab||!1}f(bg,Vt),bg.prototype.g=function(){return new lh(this.i,this.h)};function lh(h,w){ht.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(lh,ht),t=lh.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,Hc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||i).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wc(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Hc(this)),this.g&&(this.readyState=3,Hc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof i.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;z1(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function z1(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Wc(this):Hc(this),this.readyState==3&&z1(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Wc(this))},t.Na=function(h){this.g&&(this.response=h,Wc(this))},t.ga=function(){this.g&&Wc(this)};function Wc(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Hc(h)}t.setRequestHeader=function(h,w){this.A.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var C=w.next();!C.done;)C=C.value,h.push(C[0]+": "+C[1]),C=w.next();return h.join(`\r
`)};function Hc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function U1(h){let w="";return V(h,function(C,O){w+=O,w+=":",w+=C,w+=`\r
`}),w}function _g(h,w,C){e:{for(O in C){var O=!1;break e}O=!0}O||(C=U1(C),typeof h=="string"?C!=null&&Cs(C):Ct(h,w,C))}function zt(h){ht.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(zt,ht);var WM=/^https?$/i,HM=["POST","PUT"];t=zt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,w,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Et.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(H){B1(this,H);return}if(h=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)C.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const H of O.keys())C.set(H,O.get(H));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(H=>H.toLowerCase()=="content-type"),W=i.FormData&&h instanceof i.FormData,!(Array.prototype.indexOf.call(HM,w,void 0)>=0)||O||W||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,fe]of C)this.g.setRequestHeader(H,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){B1(this,H)}};function B1(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,$1(h),ch(h)}function $1(h){h.A||(h.A=!0,lt(h,"complete"),lt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,lt(this,"complete"),lt(this,"abort"),ch(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ch(this,!0)),zt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?q1(this):this.Xa())},t.Xa=function(){q1(this)};function q1(h){if(h.h&&typeof o<"u"){if(h.v&&zo(h)==4)setTimeout(h.Ca.bind(h),0);else if(lt(h,"readystatechange"),zo(h)==4){h.h=!1;try{const H=h.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var C;if(!(C=w)){var O;if(O=H===0){let fe=String(h.D).match(R1)[1]||null;!fe&&i.self&&i.self.location&&(fe=i.self.location.protocol.slice(0,-1)),O=!WM.test(fe?fe.toLowerCase():"")}C=O}if(C)lt(h,"complete"),lt(h,"success");else{h.o=6;try{var W=zo(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",$1(h)}}finally{ch(h)}}}}function ch(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const C=h.g;h.g=null,w||lt(h,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function zo(h){return h.g?h.g.readyState:0}t.ca=function(){try{return zo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),st(w)}};function W1(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function GM(h){const w={};h=(h.g&&zo(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(P(h[O]))continue;var C=Rn(h[O]);const W=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const H=w[W]||[];w[W]=H,H.push(C)}G(w,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gc(h,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[h]||w}function H1(h){this.za=0,this.i=[],this.j=new z,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gc("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gc("baseRetryDelayMs",5e3,h),this.Za=Gc("retryDelaySeedMs",1e4,h),this.Ta=Gc("forwardChannelMaxRetries",2,h),this.va=Gc("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new k1(h&&h.concurrentRequestLimit),this.Ba=new qM,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=H1.prototype,t.ka=8,t.I=1,t.connect=function(h,w,C,O){qt(0),this.W=h,this.H=w||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.J=t_(this,null,this.W),dh(this)};function Sg(h){if(G1(h),h.I==3){var w=h.V++,C=Ts(h.J);if(Ct(C,"SID",h.M),Ct(C,"RID",w),Ct(C,"TYPE","terminate"),Kc(h,C),w=new wn(h,h.j,w),w.M=2,w.A=ah(Ts(C)),C=!1,i.navigator&&i.navigator.sendBeacon)try{C=i.navigator.sendBeacon(w.A.toString(),"")}catch{}!C&&i.Image&&(new Image().src=w.A,C=!0),C||(w.g=n_(w.j,null),w.g.ea(w.A)),w.F=Date.now(),ih(w)}e_(h)}function uh(h){h.g&&(Cg(h),h.g.cancel(),h.g=null)}function G1(h){uh(h),h.v&&(i.clearTimeout(h.v),h.v=null),hh(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&i.clearTimeout(h.m),h.m=null)}function dh(h){if(!j1(h.h)&&!h.m){h.m=!0;var w=h.Ea;R||T(),F||(R(),F=!0),E.add(w,h),h.D=0}}function KM(h,w){return P1(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=es(u(h.Ea,h,w),Z1(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new wn(this,this.j,h);let H=this.o;if(this.U&&(H?(H=K(H),ce(H,this.U)):H=this.U),this.u!==null||this.R||(W.J=H,H=null),this.S)e:{for(var w=0,C=0;C<this.i.length;C++){t:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,w>4096){w=C;break e}if(w===4096||C===this.i.length-1){w=C+1;break e}}w=1e3}else w=1e3;w=Y1(this,W,w),C=Ts(this.J),Ct(C,"RID",h),Ct(C,"CVER",22),this.G&&Ct(C,"X-HTTP-Session-Id",this.G),Kc(this,C),H&&(this.R?w="headers="+Cs(U1(H))+"&"+w:this.u&&_g(C,this.u,H)),xg(this.h,W),this.Ra&&Ct(C,"TYPE","init"),this.S?(Ct(C,"$req",w),Ct(C,"SID","null"),W.U=!0,mg(W,C,null)):mg(W,C,w),this.I=2}}else this.I==3&&(h?K1(this,h):this.i.length==0||j1(this.h)||K1(this))};function K1(h,w){var C;w?C=w.l:C=h.V++;const O=Ts(h.J);Ct(O,"SID",h.M),Ct(O,"RID",C),Ct(O,"AID",h.K),Kc(h,O),h.u&&h.o&&_g(O,h.u,h.o),C=new wn(h,h.j,C,h.D+1),h.u===null&&(C.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Y1(h,C,1e3),C.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),xg(h.h,C),mg(C,O,w)}function Kc(h,w){h.H&&V(h.H,function(C,O){Ct(w,O,C)}),h.l&&V({},function(C,O){Ct(w,O,C)})}function Y1(h,w,C){C=Math.min(h.i.length,C);const O=h.l?u(h.l.Ka,h.l,h):null;e:{var W=h.i;let We=-1;for(;;){const an=["count="+C];We==-1?C>0?(We=W[0].g,an.push("ofs="+We)):We=0:an.push("ofs="+We);let yt=!0;for(let mn=0;mn<C;mn++){var H=W[mn].g;const Ns=W[mn].map;if(H-=We,H<0)We=Math.max(0,W[mn].g-100),yt=!1;else try{H="req"+H+"_"||"";try{var fe=Ns instanceof Map?Ns:Object.entries(Ns);for(const[ta,Uo]of fe){let Bo=Uo;l(Uo)&&(Bo=qe(Uo)),an.push(H+ta+"="+encodeURIComponent(Bo))}}catch(ta){throw an.push(H+"type="+encodeURIComponent("_badmap")),ta}}catch{O&&O(Ns)}}if(yt){fe=an.join("&");break e}}fe=void 0}return h=h.i.splice(0,C),w.G=h,fe}function Q1(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;R||T(),F||(R(),F=!0),E.add(w,h),h.A=0}}function Eg(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=es(u(h.Da,h),Z1(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,X1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=es(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),uh(this),X1(this))};function Cg(h){h.B!=null&&(i.clearTimeout(h.B),h.B=null)}function X1(h){h.g=new wn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=Ts(h.na);Ct(w,"RID","rpc"),Ct(w,"SID",h.M),Ct(w,"AID",h.K),Ct(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ct(w,"TO",h.ia),Ct(w,"TYPE","xmlhttp"),Kc(h,w),h.u&&h.o&&_g(w,h.u,h.o),h.O&&(h.g.H=h.O);var C=h.g;h=h.ba,C.M=1,C.A=ah(Ts(w)),C.u=null,C.R=!0,C1(C,h)}t.Va=function(){this.C!=null&&(this.C=null,uh(this),Eg(this),qt(19))};function hh(h){h.C!=null&&(i.clearTimeout(h.C),h.C=null)}function J1(h,w){var C=null;if(h.g==w){hh(h),Cg(h),h.g=null;var O=2}else if(yg(h.h,w))C=w.G,A1(h.h,w),O=1;else return;if(h.I!=0){if(w.o)if(O==1){C=w.u?w.u.length:0,w=Date.now()-w.F;var W=h.D;O=Zr(),lt(O,new so(O,C)),dh(h)}else Q1(h);else if(W=w.m,W==3||W==0&&w.X>0||!(O==1&&KM(h,w)||O==2&&Eg(h)))switch(C&&C.length>0&&(w=h.h,w.i=w.i.concat(C)),W){case 1:ea(h,5);break;case 4:ea(h,10);break;case 3:ea(h,6);break;default:ea(h,2)}}}function Z1(h,w){let C=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(C*=2),C*w}function ea(h,w){if(h.j.info("Error code "+w),w==2){var C=u(h.bb,h),O=h.Ua;const W=!O;O=new Fo(O||"//www.google.com/images/cleardot.gif"),i.location&&i.location.protocol=="http"||zc(O,"https"),ah(O),W?BM(O.toString(),C):$M(O.toString(),C)}else qt(2);h.I=0,h.l&&h.l.pa(w),e_(h),G1(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function e_(h){if(h.I=0,h.ja=[],h.l){const w=I1(h.h);(w.length!=0||h.i.length!=0)&&(y(h.ja,w),y(h.ja,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.oa()}}function t_(h,w,C){var O=C instanceof Fo?Ts(C):new Fo(C);if(O.g!="")w&&(O.g=w+"."+O.g),Uc(O,O.u);else{var W=i.location;O=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const H=new Fo(null);O&&zc(H,O),w&&(H.g=w),W&&Uc(H,W),C&&(H.h=C),O=H}return C=h.G,w=h.wa,C&&w&&Ct(O,C,w),Ct(O,"VER",h.ka),Kc(h,O),O}function n_(h,w,C){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new zt(new bg({ab:C})):new zt(h.ma),w.Fa(h.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function r_(){}t=r_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fh(){}fh.prototype.g=function(h,w){return new _r(h,w)};function _r(h,w){ht.call(this),this.g=new H1(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!P(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new il(this)}f(_r,ht),_r.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){Sg(this.g)},_r.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var C={};C.__data__=h,h=C}else this.v&&(C={},C.__data__=qe(h),h=C);w.i.push(new DM(w.Ya++,h)),w.I==3&&dh(w)},_r.prototype.N=function(){this.g.l=null,delete this.j,Sg(this.g),delete this.g,_r.Z.N.call(this)};function s_(h){Jr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const C in w){h=C;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}f(s_,Jr);function o_(){br.call(this),this.status=1}f(o_,br);function il(h){this.g=h}f(il,r_),il.prototype.ra=function(){lt(this.g,"a")},il.prototype.qa=function(h){lt(this.g,new s_(h))},il.prototype.pa=function(h){lt(this.g,new o_)},il.prototype.oa=function(){lt(this.g,"b")},fh.prototype.createWebChannel=fh.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,FR=function(){return new fh},LR=function(){return Zr()},MR=on,qy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Y.NO_ERROR=0,Y.TIMEOUT=8,Y.HTTP_ERROR=6,Tf=Y,Ee.COMPLETE="complete",OR=Ee,xn.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ht.prototype.listen=ht.prototype.J,wu=xn,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa,DR=zt}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});const DC="@firebase/firestore",OC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new ab("@firebase/firestore");function pl(){return qa.logLevel}function xe(t,...e){if(qa.logLevel<=Je.DEBUG){const n=e.map(ub);qa.debug(`Firestore (${jc}): ${t}`,...n)}}function Ao(t,...e){if(qa.logLevel<=Je.ERROR){const n=e.map(ub);qa.error(`Firestore (${jc}): ${t}`,...n)}}function cc(t,...e){if(qa.logLevel<=Je.WARN){const n=e.map(ub);qa.warn(`Firestore (${jc}): ${t}`,...n)}}function ub(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,VR(t,r,n)}function VR(t,e,n){let r=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ao(r),new Error(r)}function dt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||VR(e,s,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Lo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class GW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KW{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _o,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _o)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new zR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class YW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new YW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Os(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=o=>{o.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.m;return this.m=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=JW(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function Wy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Mv(s)===Mv(o)?Ze(s,o):Mv(s)?1:-1}return Ze(t.length,e.length)}const ZW=55296,eH=57343;function Mv(t){const e=t.charCodeAt(0);return e>=ZW&&e<=eH}function uc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__name__";class Is{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Is.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Is?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Is.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ze(e.length,n.length)}static compareSegments(e,n){const r=Is.isNumericId(e),s=Is.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Is.extractNumericId(e).compare(Is.extractNumericId(n)):Wy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Si.fromString(e.substring(4,e.length-2))}}class wt extends Is{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const tH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Is{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return tH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LC}static keyField(){return new Nn([LC])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ve(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ve(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ve(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(i=!i,s++):l!=="."||i?(r+=l,s++):(o(),s++)}if(o(),i)throw new ve(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(wt.fromString(e))}static fromName(e){return new Te(wt.fromString(e).popFirst(5))}static empty(){return new Te(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t,e,n){if(!n)throw new ve(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nH(t,e,n,r){if(e===!0&&r===!0)throw new ve(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FC(t){if(!Te.isDocumentKey(t))throw new ve(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VC(t){if(Te.isDocumentKey(t))throw new ve(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function Gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$m(t);throw new ve(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function $d(t,e){if(!BR(t))throw new ve(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ve(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=-62135596800,UC=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*UC);return new kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zC)throw new ve(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UC}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($d(e,kt._jsonSchema))return new kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:rn("string",kt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new kt(0,0))}static max(){return new Fe(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=-1;function rH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new Ri(s,Te.empty(),e)}function sH(t){return new Ri(t.readTime,t.key,vd)}class Ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ri(Fe.min(),Te.empty(),vd)}static max(){return new Ri(Fe.max(),Te.empty(),vd)}}function oH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==iH)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let s=0,o=0,i=!1;e.forEach(l=>{++s,l.next(()=>{++o,i&&o===s&&n()},c=>r(c))}),i=!0,o===s&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(s=>s?ee.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,s)=>{const o=e.length,i=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{i[u]=d,++l,l===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new ee((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function lH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ac(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=-1;function Wm(t){return t==null}function Ip(t){return t===0&&1/t==-1/0}function cH(t){return typeof t=="number"&&Number.isInteger(t)&&!Ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="";function uH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=BC(e)),e=dH(t.get(n),e);return BC(e)}function dH(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case $R:n+="";break;default:n+=o}}return n}function BC(t){return t+$R+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qC(this.data.getIterator())}getIteratorFrom(e){return new qC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class qC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new jr([])}unionWith(e){let n=new pn(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WR("Invalid base64 string: "+o):o}}(e);return new An(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const hH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=hH.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="server_timestamp",GR="__type__",KR="__previous_value__",YR="__local_write_time__";function fb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GR])==null?void 0:r.stringValue)===HR}function Hm(t){const e=t.mapValue.fields[KR];return fb(e)?Hm(e):e}function yd(t){const e=Di(t.mapValue.fields[YR].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,n,r,s,o,i,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Rp="(default)";class xd{constructor(e,n){this.projectId=e,this.database=n||Rp}static empty(){return new xd("","")}get isDefaultDatabase(){return this.database===Rp}isEqual(e){return e instanceof xd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="__type__",XR="__max__",Qh={mapValue:{fields:{__type__:{stringValue:XR}}}},JR="__vector__",Dp="value";function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fb(t)?4:mH(t)?9007199254740991:pH(t)?10:11:De(28295,{value:t})}function Xs(t,e){if(t===e)return!0;const n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yd(t).isEqual(yd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=Di(s.timestampValue),l=Di(o.timestampValue);return i.seconds===l.seconds&&i.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Oi(s.bytesValue).isEqual(Oi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Gt(s.geoPointValue.latitude)===Gt(o.geoPointValue.latitude)&&Gt(s.geoPointValue.longitude)===Gt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Gt(s.integerValue)===Gt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=Gt(s.doubleValue),l=Gt(o.doubleValue);return i===l?Ip(i)===Ip(l):isNaN(i)&&isNaN(l)}return!1}(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},l=o.mapValue.fields||{};if($C(i)!==$C(l))return!1;for(const c in i)if(i.hasOwnProperty(c)&&(l[c]===void 0||!Xs(i[c],l[c])))return!1;return!0}(t,e);default:return De(52216,{left:t})}}function wd(t,e){return(t.values||[]).find(n=>Xs(n,e))!==void 0}function dc(t,e){if(t===e)return 0;const n=Mi(t),r=Mi(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(o,i){const l=Gt(o.integerValue||o.doubleValue),c=Gt(i.integerValue||i.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return WC(t.timestampValue,e.timestampValue);case 4:return WC(yd(t),yd(e));case 5:return Wy(t.stringValue,e.stringValue);case 6:return function(o,i){const l=Oi(o),c=Oi(i);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const l=o.split("/"),c=i.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ze(l[u],c[u]);if(d!==0)return d}return Ze(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const l=Ze(Gt(o.latitude),Gt(i.latitude));return l!==0?l:Ze(Gt(o.longitude),Gt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HC(t.arrayValue,e.arrayValue);case 10:return function(o,i){var p,m,y,x;const l=o.fields||{},c=i.fields||{},u=(p=l[Dp])==null?void 0:p.arrayValue,d=(m=c[Dp])==null?void 0:m.arrayValue,f=Ze(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return f!==0?f:HC(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===Qh.mapValue&&i===Qh.mapValue)return 0;if(o===Qh.mapValue)return 1;if(i===Qh.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=i.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=Wy(c[f],d[f]);if(p!==0)return p;const m=dc(l[c[f]],u[d[f]]);if(m!==0)return m}return Ze(c.length,d.length)}(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function WC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=Di(t),r=Di(e),s=Ze(n.seconds,r.seconds);return s!==0?s:Ze(n.nanos,r.nanos)}function HC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=dc(n[s],r[s]);if(o)return o}return Ze(n.length,r.length)}function hc(t){return Hy(t)}function Hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Hy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${Hy(n.fields[i])}`;return s+"}"}(t.mapValue):De(61005,{value:t})}function Nf(t){switch(Mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hm(t);return e?16+Nf(e):16;case 5:return 2*t.stringValue.length;case 6:return Oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Nf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Hi(r.fields,(o,i)=>{s+=o.length+Nf(i)}),s}(t.mapValue);default:throw De(13486,{value:t})}}function GC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gy(t){return!!t&&"integerValue"in t}function pb(t){return!!t&&"arrayValue"in t}function KC(t){return!!t&&"nullValue"in t}function YC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kf(t){return!!t&&"mapValue"in t}function pH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[QR])==null?void 0:r.stringValue)===JR}function Vu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vu(t.arrayValue.values[n]);return e}return{...t}}function mH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===XR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(n)}setAll(e){let n=Nn.emptyPath(),r={},s=[];e.forEach((i,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}i?r[l.lastSegment()]=Vu(i):s.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];kf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Hi(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new ur(Vu(this.value))}}function ZR(t){const e=[];return Hi(t.fields,(n,r)=>{const s=new Nn([n]);if(kf(r)){const o=ZR(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,s,o,i,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=l}static newInvalidDocument(e){return new Bn(e,0,Fe.min(),Fe.min(),Fe.min(),ur.empty(),0)}static newFoundDocument(e,n,r,s){return new Bn(e,1,n,Fe.min(),r,s,0)}static newNoDocument(e,n){return new Bn(e,2,n,Fe.min(),Fe.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,Fe.min(),Fe.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.position=e,this.inclusive=n}}function QC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=Te.comparator(Te.fromName(i.referenceValue),n.key):r=dc(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function XC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function gH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{}class nn extends eD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yH(e,n,r):n==="array-contains"?new bH(e,r):n==="in"?new _H(e,r):n==="not-in"?new SH(e,r):n==="array-contains-any"?new EH(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xH(e,r):new wH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dc(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends eD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ws(e,n)}matches(e){return tD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tD(t){return t.op==="and"}function nD(t){return vH(t)&&tD(t)}function vH(t){for(const e of t.filters)if(e instanceof ws)return!1;return!0}function Ky(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+hc(t.value);if(nD(t))return t.filters.map(e=>Ky(e)).join(",");{const e=t.filters.map(n=>Ky(n)).join(",");return`${t.op}(${e})`}}function rD(t,e){return t instanceof nn?function(r,s){return s instanceof nn&&r.op===s.op&&r.field.isEqual(s.field)&&Xs(r.value,s.value)}(t,e):t instanceof ws?function(r,s){return s instanceof ws&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,l)=>o&&rD(i,s.filters[l]),!0):!1}(t,e):void De(19439)}function sD(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${hc(n.value)}`}(t):t instanceof ws?function(n){return n.op.toString()+" {"+n.getFilters().map(sD).join(" ,")+"}"}(t):"Filter"}class yH extends nn{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class xH extends nn{constructor(e,n){super(e,"in",n),this.keys=oD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wH extends nn{constructor(e,n){super(e,"not-in",n),this.keys=oD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class bH extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pb(n)&&wd(n.arrayValue,this.value)}}class _H extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wd(this.value.arrayValue,n)}}class SH extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wd(this.value.arrayValue,n)}}class EH extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n=null,r=[],s=[],o=null,i=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=l,this.Te=null}}function JC(t,e=null,n=[],r=[],s=null,o=null,i=null){return new CH(t,e,n,r,s,o,i)}function mb(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ky(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hc(r)).join(",")),e.Te=n}return e.Te}function gb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XC(t.startAt,e.startAt)&&XC(t.endAt,e.endAt)}function Yy(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n=null,r=[],s=[],o=null,i="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TH(t,e,n,r,s,o,i,l){return new Ic(t,e,n,r,s,o,i,l)}function Gm(t){return new Ic(t)}function ZC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iD(t){return t.collectionGroup!==null}function zu(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let l=new pn(Nn.comparator);return i.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new bd(o,r))}),n.has(Nn.keyField().canonicalString())||e.Ie.push(new bd(Nn.keyField(),r))}return e.Ie}function $s(t){const e=Ve(t);return e.Ee||(e.Ee=NH(e,zu(t))),e.Ee}function NH(t,e){if(t.limitType==="F")return JC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new bd(s.field,o)});const n=t.endAt?new Op(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Op(t.startAt.position,t.startAt.inclusive):null;return JC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qy(t,e){const n=t.filters.concat([e]);return new Ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xy(t,e,n){return new Ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Km(t,e){return gb($s(t),$s(e))&&t.limitType===e.limitType}function aD(t){return`${mb($s(t))}|lt:${t.limitType}`}function ml(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>sD(s)).join(", ")}]`),Wm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>hc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>hc(s)).join(",")),`Target(${r})`}($s(t))}; limitType=${t.limitType})`}function Ym(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of zu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,l,c){const u=QC(i,l,c);return i.inclusive?u<=0:u<0}(r.startAt,zu(r),s)||r.endAt&&!function(i,l,c){const u=QC(i,l,c);return i.inclusive?u>=0:u>0}(r.endAt,zu(r),s))}(t,e)}function kH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lD(t){return(e,n)=>{let r=!1;for(const s of zu(t)){const o=jH(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function jH(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(o,i,l){const c=i.data.field(o),u=l.data.field(o);return c!==null&&u!==null?dc(c,u):De(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return qR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=new Ft(Te.comparator);function Io(){return PH}const cD=new Ft(Te.comparator);function bu(...t){let e=cD;for(const n of t)e=e.insert(n.key,n);return e}function uD(t){let e=cD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ya(){return Uu()}function dD(){return Uu()}function Uu(){return new tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const AH=new Ft(Te.comparator),IH=new pn(Te.comparator);function et(...t){let e=IH;for(const n of t)e=e.add(n);return e}const RH=new pn(Ze);function DH(){return RH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ip(e)?"-0":e}}function hD(t){return{integerValue:""+t}}function OH(t,e){return cH(e)?hD(e):vb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this._=void 0}}function MH(t,e,n){return t instanceof Mp?function(s,o){const i={fields:{[GR]:{stringValue:HR},[YR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&fb(o)&&(o=Hm(o)),o&&(i.fields[KR]=o),{mapValue:i}}(n,e):t instanceof _d?pD(t,e):t instanceof Sd?mD(t,e):function(s,o){const i=fD(s,o),l=eT(i)+eT(s.Ae);return Gy(i)&&Gy(s.Ae)?hD(l):vb(s.serializer,l)}(t,e)}function LH(t,e,n){return t instanceof _d?pD(t,e):t instanceof Sd?mD(t,e):n}function fD(t,e){return t instanceof Lp?function(r){return Gy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Mp extends Qm{}class _d extends Qm{constructor(e){super(),this.elements=e}}function pD(t,e){const n=gD(e);for(const r of t.elements)n.some(s=>Xs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Sd extends Qm{constructor(e){super(),this.elements=e}}function mD(t,e){let n=gD(e);for(const r of t.elements)n=n.filter(s=>!Xs(s,r));return{arrayValue:{values:n}}}class Lp extends Qm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eT(t){return Gt(t.integerValue||t.doubleValue)}function gD(t){return pb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function FH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof _d&&s instanceof _d||r instanceof Sd&&s instanceof Sd?uc(r.elements,s.elements,Xs):r instanceof Lp&&s instanceof Lp?Xs(r.Ae,s.Ae):r instanceof Mp&&s instanceof Mp}(t.transform,e.transform)}class VH{constructor(e,n){this.version=e,this.transformResults=n}}class gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xm{}function vD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yb(t.key,gs.none()):new qd(t.key,t.data,gs.none());{const n=t.data,r=ur.empty();let s=new pn(Nn.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new Gi(t.key,r,new jr(s.toArray()),gs.none())}}function zH(t,e,n){t instanceof qd?function(s,o,i){const l=s.value.clone(),c=nT(s.fieldTransforms,o,i.transformResults);l.setAll(c),o.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Gi?function(s,o,i){if(!jf(s.precondition,o))return void o.convertToUnknownDocument(i.version);const l=nT(s.fieldTransforms,o,i.transformResults),c=o.data;c.setAll(yD(s)),c.setAll(l),o.convertToFoundDocument(i.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Bu(t,e,n,r){return t instanceof qd?function(o,i,l,c){if(!jf(o.precondition,i))return l;const u=o.value.clone(),d=rT(o.fieldTransforms,c,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gi?function(o,i,l,c){if(!jf(o.precondition,i))return l;const u=rT(o.fieldTransforms,c,i),d=i.data;return d.setAll(yD(o)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,i,l){return jf(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):l}(t,e,n)}function UH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=fD(r.transform,s||null);o!=null&&(n===null&&(n=ur.empty()),n.set(r.field,o))}return n||null}function tT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&uc(r,s,(o,i)=>FH(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qd extends Xm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gi extends Xm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nT(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,l=e.data.field(o.field);r.set(o.field,LH(i,l,n[s]))}return r}function rT(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,MH(o,i,e))}return r}class yb extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BH extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&zH(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dD();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let l=this.applyToLocalView(i,o.mutatedFields);l=n.has(s.key)?null:l;const c=vD(i,l);c!==null&&r.set(s.key,c),i.isValidDocument()||i.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,(n,r)=>tT(n,r))&&uc(this.baseMutations,e.baseMutations,(n,r)=>tT(n,r))}}class xb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){dt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return AH}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new xb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,rt;function HH(t){switch(t){case X.OK:return De(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function xD(t){if(t===void 0)return Ao("GRPC error has no .code"),X.UNKNOWN;switch(t){case Qt.OK:return X.OK;case Qt.CANCELLED:return X.CANCELLED;case Qt.UNKNOWN:return X.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return X.INTERNAL;case Qt.UNAVAILABLE:return X.UNAVAILABLE;case Qt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Qt.NOT_FOUND:return X.NOT_FOUND;case Qt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Qt.ABORTED:return X.ABORTED;case Qt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Qt.DATA_LOSS:return X.DATA_LOSS;default:return De(39323,{code:t})}}(rt=Qt||(Qt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH=new Si([4294967295,4294967295],0);function sT(t){const e=GH().encode(t),n=new RR;return n.update(e),new Uint8Array(n.digest())}function oT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Si([n,r],0),new Si([s,o],0)]}class wb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _u(`Invalid padding: ${n}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _u(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Si.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Si.fromNumber(r)));return s.compare(KH)===1&&(s=new Si([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sT(e),[r,s]=oT(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);if(!this.we(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new wb(o,s,n);return r.forEach(l=>i.insert(l)),i}insert(e){if(this.ge===0)return;const n=sT(e),[r,s]=oT(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);this.Se(i)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jm(Fe.min(),s,new Ft(Ze),Io(),et())}}class Wd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wd(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class wD{constructor(e,n){this.targetId=e,this.Ce=n}}class bD{constructor(e,n,r=An.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class iT{constructor(){this.ve=0,this.Fe=aT(),this.Me=An.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),r=et();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:De(38017,{changeType:o})}}),new Wd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=aT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Io(),this.Je=Xh(),this.He=Xh(),this.Ye=new Ft(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Yy(o))if(r===0){const i=new Te(o.path);this.et(n,i,Bn.newNoDocument(i,Fe.min()))}else dt(r===1,20013,{expectedCount:r});else{const i=this._t(n);if(i!==r){const l=this.ut(e),c=l?this.ct(l,e,i):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,l;try{i=Oi(r).toUint8Array()}catch(c){if(c instanceof WR)return cc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new wb(i,s,o)}catch(c){return cc(c instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Ge.ht(),l=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,i)=>{const l=this.ot(i);if(l){if(o.current&&Yy(l.target)){const c=new Te(l.target.path);this.It(c).has(i)||this.Et(i,c)||this.et(i,c,Bn.newNoDocument(c,e))}o.Be&&(n.set(i,o.ke()),o.qe())}});let r=et();this.He.forEach((o,i)=>{let l=!0;i.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.je.forEach((o,i)=>i.setReadTime(e));const s=new Jm(e,n,this.Ye,this.je,r);return this.je=Io(),this.Je=Xh(),this.He=Xh(),this.Ye=new Ft(Ze),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pn(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pn(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xh(){return new Ft(Te.comparator)}function aT(){return new Ft(Te.comparator)}const QH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),XH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),JH=(()=>({and:"AND",or:"OR"}))();class ZH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jy(t,e){return t.useProto3Json||Wm(e)?e:{value:e}}function Fp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _D(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eG(t,e){return Fp(t,e.toTimestamp())}function qs(t){return dt(!!t,49232),Fe.fromTimestamp(function(n){const r=Di(n);return new kt(r.seconds,r.nanos)}(t))}function bb(t,e){return Zy(t,e).canonicalString()}function Zy(t,e){const n=function(s){return new wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SD(t){const e=wt.fromString(t);return dt(kD(e),10190,{key:e.toString()}),e}function ex(t,e){return bb(t.databaseId,e.path)}function Lv(t,e){const n=SD(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(CD(n))}function ED(t,e){return bb(t.databaseId,e)}function tG(t){const e=SD(t);return e.length===4?wt.emptyPath():CD(e)}function tx(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CD(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lT(t,e,n){return{name:ex(t,e),fields:n.value.mapValue.fields}}function nG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:De(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(dt(d===void 0||typeof d=="string",58123),An.fromBase64String(d||"")):(dt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),An.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,l=i&&function(u){const d=u.code===void 0?X.UNKNOWN:xD(u.code);return new ve(d,u.message||"")}(i);n=new bD(r,s,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Lv(t,r.document.name),o=qs(r.document.updateTime),i=r.document.createTime?qs(r.document.createTime):Fe.min(),l=new ur({mapValue:{fields:r.document.fields}}),c=Bn.newFoundDocument(s,o,i,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Pf(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Lv(t,r.document),o=r.readTime?qs(r.readTime):Fe.min(),i=Bn.newNoDocument(s,o),l=r.removedTargetIds||[];n=new Pf([],l,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Lv(t,r.document),o=r.removedTargetIds||[];n=new Pf([],o,s,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new WH(s,o),l=r.targetId;n=new wD(l,i)}}return n}function rG(t,e){let n;if(e instanceof qd)n={update:lT(t,e.key,e.value)};else if(e instanceof yb)n={delete:ex(t,e.key)};else if(e instanceof Gi)n={update:lT(t,e.key,e.data),updateMask:hG(e.fieldMask)};else{if(!(e instanceof BH))return De(16599,{Vt:e.type});n={verify:ex(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const l=i.transform;if(l instanceof Mp)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _d)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Sd)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Lp)return{fieldPath:i.field.canonicalString(),increment:l.Ae};throw De(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:eG(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:De(27497)}(t,e.precondition)),n}function sG(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(s,o){let i=s.updateTime?qs(s.updateTime):qs(o);return i.isEqual(Fe.min())&&(i=qs(o)),new VH(i,s.transformResults||[])}(n,e))):[]}function oG(t,e){return{documents:[ED(t,e.path)]}}function iG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ED(t,s);const o=function(u){if(u.length!==0)return ND(ws.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:gl(p.field),direction:cG(p.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const l=Jy(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function aG(t){let e=tG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){dt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const p=TD(f);return p instanceof ws&&nD(p)?p.getFilters():[p]}(n.where));let i=[];n.orderBy&&(i=function(f){return f.map(p=>function(y){return new bd(vl(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Wm(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,m=f.values||[];return new Op(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new Op(m,p)}(n.endAt)),TH(e,s,i,o,l,"F",c,u)}function lG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vl(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=vl(n.unaryFilter.field);return nn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vl(n.unaryFilter.field);return nn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vl(n.unaryFilter.field);return nn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(vl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ws.create(n.compositeFilter.filters.map(r=>TD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}}(n.compositeFilter.op))}(t):De(30097,{filter:t})}function cG(t){return QH[t]}function uG(t){return XH[t]}function dG(t){return JH[t]}function gl(t){return{fieldPath:t.canonicalString()}}function vl(t){return Nn.fromServerFormat(t.fieldPath)}function ND(t){return t instanceof nn?function(n){if(n.op==="=="){if(YC(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NAN"}};if(KC(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YC(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NAN"}};if(KC(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(n.field),op:uG(n.op),value:n.value}}}(t):t instanceof ws?function(n){const r=n.getFilters().map(s=>ND(s));return r.length===1?r[0]:{compositeFilter:{op:dG(n.op),filters:r}}}(t):De(54877,{filter:t})}function hG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r,s,o=Fe.min(),i=Fe.min(),l=An.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e){this.yt=e}}function pG(t){const e=aG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(){this.Cn=new gG}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ri.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class gG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pn(wt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jD=41943040;class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(jD,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fc(0)}static cr(){return new fc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="LruGarbageCollector",vG=1048576;function dT([t,e],[n,r]){const s=Ze(t,n);return s===0?Ze(e,r):s}class yG{constructor(e){this.Ir=e,this.buffer=new pn(dT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(uT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ac(n)?xe(uT,"Ignoring IndexedDB error during garbage collection: ",n):await Pc(n)}await this.Vr(3e5)})}}class wG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(qm.ce);const r=new yG(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(cT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,i,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,i=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),pl()<=Je.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${s} in `+(l-i)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:f})))}}function bG(t,e){return new wG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(){this.changes=new tl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Bu(r.mutation,s,jr.empty(),kt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const s=ya();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=bu();return o.forEach((l,c)=>{i=i.insert(l,c.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=ya();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,l)=>{n.set(i,l)})})}computeViews(e,n,r,s){let o=Io();const i=Uu(),l=function(){return Uu()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Gi)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),Bu(d.mutation,u,d.mutation.getFieldMask(),kt.now())):i.set(u.key,jr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>l.set(u,new SG(d,i.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Uu();let s=new Ft((i,l)=>i-l),o=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const l of i)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||jr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||et()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const i=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=dD();d.forEach(p=>{if(!o.has(p)){const m=vD(n.get(p),r.get(p));m!==null&&f.set(p,m),o=o.add(p)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ee.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ee.resolve(ya());let l=vd,c=o;return i.next(u=>ee.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,et())).next(d=>({batchId:l,changes:uD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let s=bu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=bu();return this.indexManager.getCollectionParents(e,o).next(l=>ee.forEach(l,c=>{const u=function(f,p){return new Ic(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{i=i.insert(f,p)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((c,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,Bn.newInvalidDocument(d)))});let l=bu();return i.forEach((c,u)=>{const d=o.get(c);d!==void 0&&Bu(d.mutation,u,jr.empty(),kt.now()),Ym(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qs(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:pG(s.bundledQuery),readTime:qs(s.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this.overlays=new Ft(Te.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ya();return ee.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const s=ya(),o=n.length+1,i=new Te(n.child("")),l=this.overlays.getIteratorFrom(i);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Ft((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=ya(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=ya(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return ee.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new qH(n,r));let o=this.qr.get(n);o===void 0&&(o=et(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.Qr=new pn(gn.$r),this.Ur=new pn(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new gn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Te(new wt([])),r=new gn(n,e),s=new gn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],i=>{this.Gr(i),o.push(i.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new wt([])),r=new gn(n,e),s=new gn(n,e+1);let o=et();return this.Ur.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pn(gn.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new $H(o,n,r,s);this.mutationQueue.push(i);for(const l of s)this.Zr=this.Zr.add(new gn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(i)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?hb:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),s=new gn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],i=>{const l=this.Xr(i.Yr);o.push(l)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(Ze);return n.forEach(s=>{const o=new gn(s,0),i=new gn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,i],l=>{r=r.add(l.Yr)})}),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Te.isDocumentKey(o)||(o=o.child(""));const i=new gn(new Te(o),0);let l=new pn(Ze);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},i),ee.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,s=>{const o=new gn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new gn(n,0),s=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.ri=e,this.docs=function(){return new Ft(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=Io();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Bn.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Io();const i=n.path,l=new Te(i.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||oH(sH(d),r)<=0||(s.has(d.key)||Ym(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,s){De(9500)}ii(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new PG(this)}getSize(e){return ee.resolve(this.size)}}class PG extends _G{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e){this.persistence=e,this.si=new tl(n=>mb(n),gb),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new _b,this.targetCount=0,this.ai=fc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((i,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),ee.waitFor(o).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.ui={},this.overlays={},this.ci=new qm(0),this.li=!1,this.li=!0,this.hi=new NG,this.referenceDelegate=e(this),this.Pi=new AG(this),this.indexManager=new mG,this.remoteDocumentCache=function(s){return new jG(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new fG(n),this.Ii=new CG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new kG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const s=new IG(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return ee.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class IG extends aH{constructor(e){super(),this.currentSequenceNumber=e}}class Sb{constructor(e){this.persistence=e,this.Ri=new _b,this.Vi=null}static mi(e){return new Sb(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,r=>{const s=Te.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vp{constructor(e,n){this.persistence=e,this.pi=new tl(r=>uH(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=bG(this,n)}static mi(e,n){return new Vp(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ee.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?ee.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,i=>this.br(e,i,n).next(l=>{l||(r++,o.removeEntry(i,Fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nf(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=et(),s=et();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Eb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return kq()?8:lH(Wn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new RG;return this.Ss(e,n,i).next(l=>{if(o.result=l,this.Vs)return this.bs(e,n,i,l.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(pl()<=Je.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(pl()<=Je.DEBUG&&xe("QueryEngine","Query:",ml(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(pl()<=Je.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$s(n))):ee.resolve())}ys(e,n){if(ZC(n))return ee.resolve(null);let r=$s(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xy(n,null,"F"),r=$s(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=et(...o);return this.ps.getDocuments(e,i).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,i,c.readTime)?this.ys(e,Xy(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return ZC(n)||s.isEqual(Fe.min())?ee.resolve(null):this.ps.getDocuments(e,r).next(o=>{const i=this.Ds(n,o);return this.Cs(n,i,r,s)?ee.resolve(null):(pl()<=Je.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ml(n)),this.vs(e,i,n,rH(s,vd)).next(l=>l))})}Ds(e,n){let r=new pn(lD(e));return n.forEach((s,o)=>{Ym(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return pl()<=Je.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",ml(n)),this.ps.getDocumentsMatchingQuery(e,n,Ri.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="LocalStore",OG=3e8;class MG{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ft(Ze),this.xs=new tl(o=>mb(o),gb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function LG(t,e,n,r){return new MG(t,e,n,r)}async function AD(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],l=[];let c=et();for(const u of s){i.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:i,addedBatchIds:l}))})})}function FG(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,p=f.keys();let m=ee.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(c,y)).next(x=>{const S=u.docVersions.get(y);dt(S!==null,48541),x.version.compareTo(S)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=et();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ID(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function VG(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(An.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(x,S,_){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=OG?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,d)&&l.push(n.Pi.updateTargetData(o,m))});let c=Io(),u=et();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(zG(o,i,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(Fe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return ee.waitFor(l).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=s,o))}function zG(t,e,n){let r=et(),s=et();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=Io();return n.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(l,c.readTime),i=i.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),i=i.insert(l,c)):xe(Cb,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:i,qs:s}})}function UG(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BG(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,ee.resolve(s)):n.Pi.allocateTargetId(r).next(i=>(s=new ci(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function nx(t,e,n){const r=Ve(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Ac(i))throw i;xe(Cb,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function hT(t,e,n){const r=Ve(t);let s=Fe.min(),o=et();return r.persistence.runTransaction("Execute query","readwrite",i=>function(c,u,d){const f=Ve(c),p=f.xs.get(d);return p!==void 0?ee.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,i,$s(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(i,l.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(i,e,n?s:Fe.min(),n?o:et())).next(l=>($G(r,kH(e),l),{documents:l,Qs:o})))}function $G(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class fT{constructor(){this.activeTargetIds=DH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qG{constructor(){this.Mo=new fT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="ConnectivityMonitor";class mT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(pT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(pT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function rx(){return Jh===null?Jh=function(){return 268435456+Math.round(2147483648*Math.random())}():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="RestConnection",HG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Rp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const i=rx(),l=this.zo(e,n.toUriEncodedString());xe(Fv,`Sending RPC '${e}' ${i}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,o);const{host:u}=new URL(l),d=Nc(u);return this.Jo(e,l,c,r,d).then(f=>(xe(Fv,`Received RPC '${e}' ${i}: `,f),f),f=>{throw cc(Fv,`RPC '${e}' ${i} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,o,i){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=HG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class YG extends GG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const i=rx();return new Promise((l,c)=>{const u=new DR;u.setWithCredentials(!0),u.listenOnce(OR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tf.NO_ERROR:const f=u.getResponseJson();xe(Mn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),l(f);break;case Tf.TIMEOUT:xe(Mn,`RPC '${e}' ${i} timed out`),c(new ve(X.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const p=u.getStatus();if(xe(Mn,`RPC '${e}' ${i} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const x=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(v)>=0?v:X.UNKNOWN}(y.status);c(new ve(x,y.message))}else c(new ve(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ve(X.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:i,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{xe(Mn,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);xe(Mn,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=rx(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=FR(),l=LR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");xe(Mn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=i.createWebChannel(d,c);this.I_(f);let p=!1,m=!1;const y=new KG({Yo:S=>{m?xe(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(xe(Mn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),xe(Mn,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),x=(S,_,v)=>{S.listen(_,b=>{try{v(b)}catch(j){setTimeout(()=>{throw j},0)}})};return x(f,wu.EventType.OPEN,()=>{m||(xe(Mn,`RPC '${e}' stream ${s} transport opened.`),y.o_())}),x(f,wu.EventType.CLOSE,()=>{m||(m=!0,xe(Mn,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(f))}),x(f,wu.EventType.ERROR,S=>{m||(m=!0,cc(Mn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),y.a_(new ve(X.UNAVAILABLE,"The operation could not be completed")))}),x(f,wu.EventType.MESSAGE,S=>{var _;if(!m){const v=S.data[0];dt(!!v,16349);const b=v,j=(b==null?void 0:b.error)||((_=b[0])==null?void 0:_.error);if(j){xe(Mn,`RPC '${e}' stream ${s} received error:`,j);const R=j.status;let F=function(A){const I=Qt[A];if(I!==void 0)return xD(I)}(R),E=j.message;F===void 0&&(F=X.INTERNAL,E="Unknown error status: "+R+" with message "+j.message),m=!0,y.a_(new ve(F,E)),f.close()}else xe(Mn,`RPC '${e}' stream ${s} received:`,v),y.u_(v)}}),x(l,MR.STAT_EVENT,S=>{S.stat===qy.PROXY?xe(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===qy.NOPROXY&&xe(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Vv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){return new ZH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="PersistentStream";class DD{constructor(e,n,r,s,o,i,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ao(n.toString()),Ao("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ve(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return xe(gT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(xe(gT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QG extends DD{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nG(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?Fe.min():i.readTime?qs(i.readTime):Fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=tx(this.serializer),n.addTarget=function(o,i){let l;const c=i.target;if(l=Yy(c)?{documents:oG(o,c)}:{query:iG(o,c).ft},l.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){l.resumeToken=_D(o,i.resumeToken);const u=Jy(o,i.expectedCount);u!==null&&(l.expectedCount=u)}else if(i.snapshotVersion.compareTo(Fe.min())>0){l.readTime=Fp(o,i.snapshotVersion.toTimestamp());const u=Jy(o,i.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=lG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=tx(this.serializer),n.removeTarget=e,this.q_(n)}}class XG extends DD{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sG(e.writeResults,e.commitTime),r=qs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=tx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rG(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{}class ZG extends JG{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ve(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Go(e,Zy(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(X.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Ho(e,Zy(n,r),s,i,l,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(X.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class eK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ao(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="RemoteStore";class tK{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(i=>{r.enqueueAndForget(async()=>{nl(this)&&(xe(Wa,"Restarting streams for network reachability change."),await async function(c){const u=Ve(c);u.Ea.add(4),await Hd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await eg(u)}(this))})}),this.Ra=new eK(r,s)}}async function eg(t){if(nl(t))for(const e of t.da)await e(!0)}async function Hd(t){for(const e of t.da)await e(!1)}function OD(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jb(n)?kb(n):Rc(n).O_()&&Nb(n,e))}function Tb(t,e){const n=Ve(t),r=Rc(n);n.Ia.delete(e),r.O_()&&MD(n,e),n.Ia.size===0&&(r.O_()?r.L_():nl(n)&&n.Ra.set("Unknown"))}function Nb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rc(t).Y_(e)}function MD(t,e){t.Va.Ue(e),Rc(t).Z_(e)}function kb(t){t.Va=new YH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.Ra.ua()}function jb(t){return nl(t)&&!Rc(t).x_()&&t.Ia.size>0}function nl(t){return Ve(t).Ea.size===0}function LD(t){t.Va=void 0}async function nK(t){t.Ra.set("Online")}async function rK(t){t.Ia.forEach((e,n)=>{Nb(t,e)})}async function sK(t,e){LD(t),jb(t)?(t.Ra.ha(e),kb(t)):t.Ra.set("Unknown")}async function oK(t,e,n){if(t.Ra.set("Online"),e instanceof bD&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const l of o.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,i),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){xe(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zp(t,r)}else if(e instanceof Pf?t.Va.Ze(e):e instanceof wD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await ID(t.localStore);n.compareTo(r)>=0&&await function(o,i){const l=o.Va.Tt(i);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(c.resumeToken,i))}}),l.targetMismatches.forEach((c,u)=>{const d=o.Ia.get(c);if(!d)return;o.Ia.set(c,d.withResumeToken(An.EMPTY_BYTE_STRING,d.snapshotVersion)),MD(o,c);const f=new ci(d.target,c,u,d.sequenceNumber);Nb(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){xe(Wa,"Failed to raise snapshot:",r),await zp(t,r)}}async function zp(t,e,n){if(!Ac(e))throw e;t.Ea.add(1),await Hd(t),t.Ra.set("Offline"),n||(n=()=>ID(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe(Wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await eg(t)})}function FD(t,e){return e().catch(n=>zp(t,n,e))}async function tg(t){const e=Ve(t),n=Li(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hb;for(;iK(e);)try{const s=await UG(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,aK(e,s)}catch(s){await zp(e,s)}VD(e)&&zD(e)}function iK(t){return nl(t)&&t.Ta.length<10}function aK(t,e){t.Ta.push(e);const n=Li(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VD(t){return nl(t)&&!Li(t).x_()&&t.Ta.length>0}function zD(t){Li(t).start()}async function lK(t){Li(t).ra()}async function cK(t){const e=Li(t);for(const n of t.Ta)e.ea(n.mutations)}async function uK(t,e,n){const r=t.Ta.shift(),s=xb.from(r,e,n);await FD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await tg(t)}async function dK(t,e){e&&Li(t).X_&&await async function(r,s){if(function(i){return HH(i)&&i!==X.ABORTED}(s.code)){const o=r.Ta.shift();Li(r).B_(),await FD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await tg(r)}}(t,e),VD(t)&&zD(t)}async function vT(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),xe(Wa,"RemoteStore received new credentials");const r=nl(n);n.Ea.add(3),await Hd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await eg(n)}async function hK(t,e){const n=Ve(t);e?(n.Ea.delete(2),await eg(n)):e||(n.Ea.add(2),await Hd(n),n.Ra.set("Unknown"))}function Rc(t){return t.ma||(t.ma=function(n,r,s){const o=Ve(n);return o.sa(),new QG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:nK.bind(null,t),t_:rK.bind(null,t),r_:sK.bind(null,t),H_:oK.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),jb(t)?kb(t):t.Ra.set("Unknown")):(await t.ma.stop(),LD(t))})),t.ma}function Li(t){return t.fa||(t.fa=function(n,r,s){const o=Ve(n);return o.sa(),new XG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:lK.bind(null,t),r_:dK.bind(null,t),ta:cK.bind(null,t),na:uK.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await tg(t)):(await t.fa.stop(),t.Ta.length>0&&(xe(Wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,l=new Pb(e,n,i,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ab(t,e){if(Ao("AsyncQueue",`${e}: ${t}`),Ac(t))return new ve(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static emptySet(e){return new Hl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=bu(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.ga=new Ft(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class pc{constructor(e,n,r,s,o,i,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(l=>{i.push({type:0,doc:l})}),new pc(e,n,Hl.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class pK{constructor(){this.queries=xT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ve(n),o=s.queries;s.queries=xT(),o.forEach((i,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ve(X.ABORTED,"Firestore shutting down"))}}function xT(){return new tl(t=>aD(t),Km)}async function Ib(t,e){const n=Ve(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new fK,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const l=Ab(i,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Db(n)}async function Rb(t,e){const n=Ve(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.Sa.indexOf(e);i>=0&&(o.Sa.splice(i,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mK(t,e){const n=Ve(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const l of i.Sa)l.Fa(s)&&(r=!0);i.wa=s}}r&&Db(n)}function gK(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Db(t){t.Ca.forEach(e=>{e.next()})}var sx,wT;(wT=sx||(sx={})).Ma="default",wT.Cache="cache";class Ob{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.key=e}}class BD{constructor(e){this.key=e}}class vK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=lD(e),this.tu=new Hl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yT,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=Ym(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?y!==x&&(r.track({type:3,doc:m}),S=!0):this.su(p,m)||(r.track({type:2,doc:m}),S=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),S=!0):p&&!m&&(r.track({type:1,doc:p}),S=!0,(c||u)&&(l=!0)),S&&(m?(i=i.add(m),o=x?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:i,iu:r,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,f)=>function(m,y){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:S})}};return x(m)-x(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,i.length!==0||u?{snapshot:new pc(this.query,e.tu,o,i,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new BD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new UD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return pc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mb="SyncEngine";class yK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xK{constructor(e){this.key=e,this.hu=!1}}class wK{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new tl(l=>aD(l),Km),this.Iu=new Map,this.Eu=new Set,this.du=new Ft(Te.comparator),this.Au=new Map,this.Ru=new _b,this.Vu={},this.mu=new Map,this.fu=fc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bK(t,e,n=!0){const r=KD(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await $D(r,e,n,!0),s}async function _K(t,e){const n=KD(t);await $D(n,e,!0,!1)}async function $D(t,e,n,r){const s=await BG(t.localStore,$s(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await SK(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&OD(t.remoteStore,s),l}async function SK(t,e,n,r,s){t.pu=(f,p,m)=>async function(x,S,_,v){let b=S.view.ru(_);b.Cs&&(b=await hT(x.localStore,S.query,!1).then(({documents:E})=>S.view.ru(E,b)));const j=v&&v.targetChanges.get(S.targetId),R=v&&v.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(b,x.isPrimaryClient,j,R);return _T(x,S.targetId,F.au),F.snapshot}(t,f,p,m);const o=await hT(t.localStore,e,!0),i=new vK(e,o.Qs),l=i.ru(o.documents),c=Wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(l,t.isPrimaryClient,c);_T(t,n,u.au);const d=new yK(e,n,i);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function EK(t,e,n){const r=Ve(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(i=>!Km(i,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await nx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Tb(r.remoteStore,s.targetId),ox(r,s.targetId)}).catch(Pc)):(ox(r,s.targetId),await nx(r.localStore,s.targetId,!0))}async function CK(t,e){const n=Ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tb(n.remoteStore,r.targetId))}async function TK(t,e,n){const r=RK(t);try{const s=await function(i,l){const c=Ve(i),u=kt.now(),d=l.reduce((m,y)=>m.add(y.key),et());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Io(),x=et();return c.Ns.getEntries(m,d).next(S=>{y=S,y.forEach((_,v)=>{v.isValidDocument()||(x=x.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(S=>{f=S;const _=[];for(const v of l){const b=UH(v,f.get(v.key).overlayedDocument);b!=null&&_.push(new Gi(v.key,b,ZR(b.value.mapValue),gs.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,_,l)}).next(S=>{p=S;const _=S.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(m,S.batchId,_)})}).then(()=>({batchId:p.batchId,changes:uD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,l,c){let u=i.Vu[i.currentUser.toKey()];u||(u=new Ft(Ze)),u=u.insert(l,c),i.Vu[i.currentUser.toKey()]=u}(r,s.batchId,n),await Gd(r,s.changes),await tg(r.remoteStore)}catch(s){const o=Ab(s,"Failed to persist write");n.reject(o)}}async function qD(t,e){const n=Ve(t);try{const r=await VG(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Au.get(o);i&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.hu=!0:s.modifiedDocuments.size>0?dt(i.hu,14607):s.removedDocuments.size>0&&(dt(i.hu,42227),i.hu=!1))}),await Gd(n,r,e)}catch(r){await Pc(r)}}function bT(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,i)=>{const l=i.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(i,l){const c=Ve(i);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(l)&&(u=!0)}),u&&Db(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NK(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let i=new Ft(Te.comparator);i=i.insert(o,Bn.newNoDocument(o,Fe.min()));const l=et().add(o),c=new Jm(Fe.min(),new Map,new Ft(Ze),i,l);await qD(r,c),r.du=r.du.remove(o),r.Au.delete(e),Lb(r)}else await nx(r.localStore,e,!1).then(()=>ox(r,e,n)).catch(Pc)}async function kK(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await FG(n.localStore,e);HD(n,r,null),WD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gd(n,s)}catch(s){await Pc(s)}}async function jK(t,e,n){const r=Ve(t);try{const s=await function(i,l){const c=Ve(i);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(dt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);HD(r,e,n),WD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gd(r,s)}catch(s){await Pc(s)}}function WD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function HD(t,e,n){const r=Ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ox(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||GD(t,r)})}function GD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Tb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Lb(t))}function _T(t,e,n){for(const r of n)r instanceof UD?(t.Ru.addReference(r.key,e),PK(t,r)):r instanceof BD?(xe(Mb,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||GD(t,r.key)):De(19791,{wu:r})}function PK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(xe(Mb,"New document in limbo: "+n),t.Eu.add(r),Lb(t))}function Lb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(wt.fromString(e)),r=t.fu.next();t.Au.set(r,new xK(n)),t.du=t.du.insert(n,r),OD(t.remoteStore,new ci($s(Gm(n.path)),r,"TargetPurposeLimboResolution",qm.ce))}}async function Gd(t,e,n){const r=Ve(t),s=[],o=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{i.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Eb.As(c.targetId,u);o.push(f)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(c,u){const d=Ve(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(u,p=>ee.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>ee.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Ac(f))throw f;xe(Cb,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=d.Ms.get(p),y=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(p,x)}}}(r.localStore,o))}async function AK(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){xe(Mb,"User change. New user:",e.toKey());const r=await AD(n.localStore,e);n.currentUser=e,function(o,i){o.mu.forEach(l=>{l.forEach(c=>{c.reject(new ve(X.CANCELLED,i))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gd(n,r.Ls)}}function IK(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return et().add(r.key);{let s=et();const o=n.Iu.get(e);if(!o)return s;for(const i of o){const l=n.Tu.get(i);s=s.unionWith(l.view.nu)}return s}}function KD(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NK.bind(null,e),e.Pu.H_=mK.bind(null,e.eventManager),e.Pu.yu=gK.bind(null,e.eventManager),e}function RK(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jK.bind(null,e),e}class Up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LG(this.persistence,new DG,e.initialUser,this.serializer)}Cu(e){return new PD(Sb.mi,this.serializer)}Du(e){return new qG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Up.provider={build:()=>new Up};class DK extends Up{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof Vp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new PD(r=>Vp.mi(r,n),this.serializer)}}class ix{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AK.bind(null,this.syncEngine),await hK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pK}()}createDatastore(e){const n=Zm(e.databaseInfo.databaseId),r=function(o){return new YG(o)}(e.databaseInfo);return function(o,i,l,c){return new ZG(o,i,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,l){return new tK(r,s,o,i,l)}(this.localStore,this.datastore,e.asyncQueue,n=>bT(this.syncEngine,n,0),function(){return mT.v()?new mT:new WG}())}createSyncEngine(e,n){return function(s,o,i,l,c,u,d){const f=new wK(s,o,i,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ve(s);xe(Wa,"RemoteStore shutting down."),o.Ea.add(5),await Hd(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ix.provider={build:()=>new ix};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ao("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="FirestoreClient";class OK{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vn.UNAUTHENTICATED,this.clientId=db.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{xe(Fi,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(xe(Fi,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ab(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zv(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Fi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await AD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ST(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MK(t);xe(Fi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>vT(e.remoteStore,s)),t._onlineComponents=e}async function MK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Fi,"Using user provided OfflineComponentProvider");try{await zv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;cc("Error using user provided cache. Falling back to memory cache: "+n),await zv(t,new Up)}}else xe(Fi,"Using default OfflineComponentProvider"),await zv(t,new DK(void 0));return t._offlineComponents}async function YD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Fi,"Using user provided OnlineComponentProvider"),await ST(t,t._uninitializedComponentsProvider._online)):(xe(Fi,"Using default OnlineComponentProvider"),await ST(t,new ix))),t._onlineComponents}function LK(t){return YD(t).then(e=>e.syncEngine)}async function Bp(t){const e=await YD(t),n=e.eventManager;return n.onListen=bK.bind(null,e.syncEngine),n.onUnlisten=EK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_K.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CK.bind(null,e.syncEngine),n}function FK(t,e,n={}){const r=new _o;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,l,c,u){const d=new Fb({next:p=>{d.Nu(),i.enqueueAndForget(()=>Rb(o,f));const m=p.docs.has(l);!m&&p.fromCache?u.reject(new ve(X.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?u.reject(new ve(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Ob(Gm(l.path),d,{includeMetadataChanges:!0,qa:!0});return Ib(o,f)}(await Bp(t),t.asyncQueue,e,n,r)),r.promise}function VK(t,e,n={}){const r=new _o;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,l,c,u){const d=new Fb({next:p=>{d.Nu(),i.enqueueAndForget(()=>Rb(o,f)),p.fromCache&&c.source==="server"?u.reject(new ve(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Ob(l,d,{includeMetadataChanges:!0,qa:!0});return Ib(o,f)}(await Bp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="firestore.googleapis.com",CT=!0;class TT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XD,this.ssl=CT}else this.host=e.host,this.ssl=e.ssl??CT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vG)throw new ve(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ng{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HW;switch(r.type){case"firstParty":return new QW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ET.get(n);r&&(xe("ComponentProvider","Removing Datastore"),ET.delete(n),r.terminate())}(this),Promise.resolve()}}function zK(t,e,n,r={}){var u;t=Gr(t,ng);const s=Nc(e),o=t._getSettings(),i={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(CR(`https://${l}`),TR("Firestore",!0)),o.host!==XD&&o.host!==l&&cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:s,emulatorOptions:r};if(!Ba(c,i)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Vn.MOCK_USER;else{d=xq(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ve(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vn(p)}t._authCredentials=new GW(new zR(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($d(n,Yt._jsonSchema))return new Yt(e,r||null,new Te(wt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:rn("string",Yt._jsonSchemaVersion),referencePath:rn("string")};class Ei extends Ki{constructor(e,n,r){super(e,n,Gm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Te(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function ra(t,e,...n){if(t=Hn(t),UR("collection","path",e),t instanceof ng){const r=wt.fromString(e,...n);return VC(r),new Ei(t,null,r)}{if(!(t instanceof Yt||t instanceof Ei))throw new ve(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return VC(r),new Ei(t.firestore,null,r)}}function Af(t,e,...n){if(t=Hn(t),arguments.length===1&&(e=db.newId()),UR("doc","path",e),t instanceof ng){const r=wt.fromString(e,...n);return FC(r),new Yt(t,null,new Te(r))}{if(!(t instanceof Yt||t instanceof Ei))throw new ve(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return FC(r),new Yt(t.firestore,t instanceof Ei?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RD(this,"async_queue_retry"),this._c=()=>{const r=Vv();r&&xe(NT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new _o;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ac(e))throw e;xe(NT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ao("INTERNAL UNHANDLED ERROR: ",jT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Pb.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&De(47125,{Pc:jT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Vi extends ng{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new kT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function UK(t,e){const n=typeof t=="object"?t:PR(),r=typeof t=="string"?t:e||Rp,s=cb(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=vq("firestore");o&&zK(s,...o)}return s}function rg(t){if(t._terminated)throw new ve(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BK(t),t._firestoreClient}function BK(t){var r,s,o;const e=t._freezeSettings(),n=function(l,c,u,d){return new fH(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,QD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new OK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Br(An.fromBase64String(e))}catch(n){throw new ve(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Br(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($d(e,Br._jsonSchema))return Br.fromBase64String(e.bytes)}}Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:rn("string",Br._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ws._jsonSchemaVersion}}static fromJSON(e){if($d(e,Ws._jsonSchema))return new Ws(e.latitude,e.longitude)}}Ws._jsonSchemaVersion="firestore/geoPoint/1.0",Ws._jsonSchema={type:rn("string",Ws._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($d(e,Hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hs(e.vectorValues);throw new ve(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hs._jsonSchemaVersion="firestore/vectorValue/1.0",Hs._jsonSchema={type:rn("string",Hs._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=/^__.*__$/;class qK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new qd(e,this.data,n,this.fieldTransforms)}}class JD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class zb{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $p(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZD(this.Ac)&&$K.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zm(e)}Cc(e,n,r,s=!1){return new zb({Ac:e,methodName:n,Dc:r,path:Nn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ub(t){const e=t._freezeSettings(),n=Zm(t._databaseId);return new WK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HK(t,e,n,r,s,o={}){const i=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);Bb("Data must be an object, but it was:",i,r);const l=eO(r,i);let c,u;if(o.merge)c=new jr(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const p=ax(e,f,n);if(!i.contains(p))throw new ve(X.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);nO(d,p)||d.push(p)}c=new jr(d),u=i.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=i.fieldTransforms;return new qK(new ur(l),c,u)}class og extends Vb{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof og}}function GK(t,e,n,r){const s=t.Cc(1,e,n);Bb("Data must be an object, but it was:",s,r);const o=[],i=ur.empty();Hi(r,(c,u)=>{const d=$b(e,c,n);u=Hn(u);const f=s.yc(d);if(u instanceof og)o.push(d);else{const p=Kd(u,f);p!=null&&(o.push(d),i.set(d,p))}});const l=new jr(o);return new JD(i,l,s.fieldTransforms)}function KK(t,e,n,r,s,o){const i=t.Cc(1,e,n),l=[ax(e,r,n)],c=[s];if(o.length%2!=0)throw new ve(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)l.push(ax(e,o[p])),c.push(o[p+1]);const u=[],d=ur.empty();for(let p=l.length-1;p>=0;--p)if(!nO(u,l[p])){const m=l[p];let y=c[p];y=Hn(y);const x=i.yc(m);if(y instanceof og)u.push(m);else{const S=Kd(y,x);S!=null&&(u.push(m),d.set(m,S))}}const f=new jr(u);return new JD(d,f,i.fieldTransforms)}function YK(t,e,n,r=!1){return Kd(n,t.Cc(r?4:3,e))}function Kd(t,e){if(tO(t=Hn(t)))return Bb("Unsupported field value:",e,t),eO(t,e);if(t instanceof Vb)return function(r,s){if(!ZD(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const l of r){let c=Kd(l,s.wc(i));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=kt.fromDate(r);return{timestampValue:Fp(s.serializer,o)}}if(r instanceof kt){const o=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fp(s.serializer,o)}}if(r instanceof Ws)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Br)return{bytesValue:_D(s.serializer,r._byteString)};if(r instanceof Yt){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Hs)return function(i,l){return{mapValue:{fields:{[QR]:{stringValue:JR},[Dp]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return vb(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${$m(r)}`)}(t,e)}function eO(t,e){const n={};return qR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(t,(r,s)=>{const o=Kd(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function tO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof Ws||t instanceof Br||t instanceof Yt||t instanceof Vb||t instanceof Hs)}function Bb(t,e,n){if(!tO(n)||!BR(n)){const r=$m(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ax(t,e,n){if((e=Hn(e))instanceof sg)return e._internalPath;if(typeof e=="string")return $b(t,e);throw $p("Field path arguments must be of type string or ",t,!1,void 0,n)}const QK=new RegExp("[~\\*/\\[\\]]");function $b(t,e,n){if(e.search(QK)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sg(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $p(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||i)&&(c+=" (found",o&&(c+=` in field ${r}`),i&&(c+=` in document ${s}`),c+=")"),new ve(X.INVALID_ARGUMENT,l+t+c)}function nO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XK extends rO{data(){return super.data()}}function qb(t,e){return typeof e=="string"?$b(t,e):e instanceof sg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wb{}class oO extends Wb{}function Uv(t,e,...n){let r=[];e instanceof Wb&&r.push(e),r=r.concat(n),function(o){const i=o.filter(c=>c instanceof Gb).length,l=o.filter(c=>c instanceof Hb).length;if(i>1||i>0&&l>0)throw new ve(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Hb extends oO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hb(e,n,r)}_apply(e){const n=this._parse(e);return iO(e._query,n),new Ki(e.firestore,e.converter,Qy(e._query,n))}_parse(e){const n=Ub(e.firestore);return function(o,i,l,c,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ve(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){RT(f,d);const y=[];for(const x of f)y.push(IT(c,o,x));p={arrayValue:{values:y}}}else p=IT(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||RT(f,d),p=YK(l,i,f,d==="in"||d==="not-in");return nn.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Gb extends Wb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let i=s;const l=o.getFlattenedFilters();for(const c of l)iO(i,c),i=Qy(i,c)}(e._query,n),new Ki(e.firestore,e.converter,Qy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kb extends oO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kb(e,n)}_apply(e){const n=function(s,o,i){if(s.startAt!==null)throw new ve(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(o,i)}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(s,o){const i=s.explicitOrderBy.concat([o]);return new Ic(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function AT(t,e="asc"){const n=e,r=qb("orderBy",t);return Kb._create(r,n)}function IT(t,e,n){if(typeof(n=Hn(n))=="string"){if(n==="")throw new ve(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iD(e)&&n.indexOf("/")!==-1)throw new ve(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wt.fromString(n));if(!Te.isDocumentKey(r))throw new ve(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GC(t,new Te(r))}if(n instanceof Yt)return GC(t,n._key);throw new ve(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$m(n)}.`)}function RT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iO(t,e){const n=function(s,o){for(const i of s)for(const l of i.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JK{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hi(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Dp].arrayValue)==null?void 0:s.values)==null?void 0:o.map(i=>Gt(i.doubleValue));return new Hs(n)}convertGeoPoint(e){return new Ws(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yd(e));default:return null}}convertTimestamp(e){const n=Di(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);dt(kD(r),9688,{name:e});const s=new xd(r.get(1),r.get(3)),o=new Te(r.popFirst(5));return s.isEqual(n)||Ao(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ta extends rO{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ta._jsonSchema={type:rn("string",Ta._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class If extends Ta{data(e={}){return super.data(e)}}class Na{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Su(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new If(this._firestore,this._userDataWriter,r.key,r,new Su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(l=>{const c=new If(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Su(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new If(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Su(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=i.indexOf(l.doc.key),i=i.delete(l.doc.key)),l.type!==1&&(i=i.add(l.doc),d=i.indexOf(l.doc.key)),{type:eY(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=db.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t){t=Gr(t,Yt);const e=Gr(t.firestore,Vi);return FK(rg(e),t._key).then(n=>aO(e,t,n))}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:rn("string",Na._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class Yb extends JK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function Bv(t){t=Gr(t,Ki);const e=Gr(t.firestore,Vi),n=rg(e),r=new Yb(e);return sO(t._query),VK(n,t._query).then(s=>new Na(e,r,t,s))}function nY(t,e,n,...r){t=Gr(t,Yt);const s=Gr(t.firestore,Vi),o=Ub(s);let i;return i=typeof(e=Hn(e))=="string"||e instanceof sg?KK(o,"updateDoc",t._key,e,n,r):GK(o,"updateDoc",t._key,e),Qb(s,[i.toMutation(t._key,gs.exists(!0))])}function rY(t){return Qb(Gr(t.firestore,Vi),[new yb(t._key,gs.none())])}function sY(t,e){const n=Gr(t.firestore,Vi),r=Af(t),s=ZK(t.converter,e);return Qb(n,[HK(Ub(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,gs.exists(!1))]).then(()=>r)}function $v(t,...e){var c,u,d;t=Hn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||PT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PT(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let o,i,l;if(t instanceof Yt)i=Gr(t.firestore,Vi),l=Gm(t._key.path),o={next:f=>{e[r]&&e[r](aO(i,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Gr(t,Ki);i=Gr(f.firestore,Vi),l=f._query;const p=new Yb(i);o={next:m=>{e[r]&&e[r](new Na(i,p,f,m))},error:e[r+1],complete:e[r+2]},sO(t._query)}return function(p,m,y,x){const S=new Fb(x),_=new Ob(m,S,y);return p.asyncQueue.enqueueAndForget(async()=>Ib(await Bp(p),_)),()=>{S.Nu(),p.asyncQueue.enqueueAndForget(async()=>Rb(await Bp(p),_))}}(rg(i),l,s,o)}function Qb(t,e){return function(r,s){const o=new _o;return r.asyncQueue.enqueueAndForget(async()=>TK(await LK(r),s,o)),o.promise}(rg(t),e)}function aO(t,e,n){const r=n.docs.get(e._key),s=new Yb(t);return new Ta(t,s,e._key,r,new Su(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){jc=s})(kc),lc(new $a("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),l=new Vi(new KW(r.getProvider("auth-internal")),new XW(i,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ve(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xd(u.options.projectId,d)}(i,s),i);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),_i(DC,OC,e),_i(DC,OC,"esm2020")})();var oY="firebase",iY="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(oY,iY,"app");function lO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aY=lO,cO=new Ud("auth","Firebase",lO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=new ab("@firebase/auth");function lY(t,...e){qp.logLevel<=Je.WARN&&qp.warn(`Auth (${kc}): ${t}`,...e)}function Rf(t,...e){qp.logLevel<=Je.ERROR&&qp.error(`Auth (${kc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,...e){throw Xb(t,...e)}function Gs(t,...e){return Xb(t,...e)}function uO(t,e,n){const r={...aY(),[e]:n};return new Ud("auth","Firebase",r).create(e,{appName:t.name})}function ka(t){return uO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cO.create(t,...e)}function Me(t,e,...n){if(!t)throw Xb(e,...n)}function mo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rf(e),new Error(e)}function Do(t,e){t||mo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function cY(){return DT()==="http:"||DT()==="https:"}function DT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cY()||Cq()||"connection"in navigator)?navigator.onLine:!0}function dY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Do(n>e,"Short delay should be less than long delay!"),this.isMobile=_q()||Tq()}get(){return uY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e){Do(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pY=new Yd(3e4,6e4);function Zb(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Dc(t,e,n,r,s={}){return hO(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const l=Bd({key:t.config.apiKey,...i}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...o};return Eq()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Nc(t.emulatorConfig.host)&&(u.credentials="include"),dO.fetch()(await fO(t,t.config.apiHost,n,l),u)})}async function hO(t,e,n){t._canInitEmulator=!1;const r={...hY,...e};try{const s=new gY(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Zh(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const l=o.ok?i.errorMessage:i.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(t,"credential-already-in-use",i);if(c==="EMAIL_EXISTS")throw Zh(t,"email-already-in-use",i);if(c==="USER_DISABLED")throw Zh(t,"user-disabled",i);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uO(t,d,u);Ro(t,d)}}catch(s){if(s instanceof Lo)throw s;Ro(t,"network-request-failed",{message:String(s)})}}async function mY(t,e,n,r,s={}){const o=await Dc(t,e,n,r,s);return"mfaPendingCredential"in o&&Ro(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function fO(t,e,n,r){const s=`${e}${n}?${r}`,o=t,i=o.config.emulator?Jb(t.config,s):`${t.config.apiScheme}://${s}`;return fY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(i).toString():i}class gY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gs(this.auth,"network-request-failed")),pY.get())})}}function Zh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vY(t,e){return Dc(t,"POST","/v1/accounts:delete",e)}async function Wp(t,e){return Dc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yY(t,e=!1){const n=Hn(t),r=await n.getIdToken(e),s=e1(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:$u(qv(s.auth_time)),issuedAtTime:$u(qv(s.iat)),expirationTime:$u(qv(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function qv(t){return Number(t)*1e3}function e1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const s=bR(n);return s?JSON.parse(s):(Rf("Failed to decode base64 JWT payload"),null)}catch(s){return Rf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function OT(t){const e=e1(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lo&&xY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ed(t,Wp(e,{idToken:n}));Me(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(f=s.providerUserInfo)!=null&&f.length?pO(s.providerUserInfo):[],i=_Y(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(i!=null&&i.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new cx(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function bY(t){const e=Hn(t);await Hp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _Y(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function pO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SY(t,e){const n=await hO(t,{},async()=>{const r=Bd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=await fO(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Nc(t.emulatorConfig.host)&&(c.credentials="include"),dO.fetch()(i,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EY(t,e){return Dc(t,"POST","/v2/accounts:revokeToken",Zb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=OT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await SY(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new Gl;return r&&(Me(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(Me(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new wY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ed(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yY(this,e)}reload(){return bY(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Os(this.auth.app))return Promise.reject(ka(this.auth));const e=await this.getIdToken();return await Ed(this,vY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,i=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:y,stsTokenManager:x}=n;Me(f&&x,e,"internal-error");const S=Gl.fromJSON(this.name,x);Me(typeof f=="string",e,"internal-error"),Wo(r,e.name),Wo(s,e.name),Me(typeof p=="boolean",e,"internal-error"),Me(typeof m=="boolean",e,"internal-error"),Wo(o,e.name),Wo(i,e.name),Wo(l,e.name),Wo(c,e.name),Wo(u,e.name),Wo(d,e.name);const _=new ds({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:i,phoneNumber:o,tenantId:l,stsTokenManager:S,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(_.providerData=y.map(v=>({...v}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Gl;s.updateFromServerResponse(n);const o=new ds({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Hp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?pO(s.providerUserInfo):[],i=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),l=new Gl;l.updateFromIdToken(r);const c=new ds({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:i}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new cx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;function go(t){Do(t instanceof Function,"Expected a class definition");let e=MT.get(t);return e?(Do(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mO.type="NONE";const LT=mO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t,e,n){return`firebase:${t}:${e}:${n}`}class Kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Df(this.userKey,s.apiKey,o),this.fullPersistenceKey=Df("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wp(this.auth,{idToken:e}).catch(()=>{});return n?ds._fromGetAccountInfoResponse(this.auth,n,e):null}return ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kl(go(LT),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||go(LT);const i=Df(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(i);if(d){let f;if(typeof d=="string"){const p=await Wp(e,{idToken:d}).catch(()=>{});if(!p)break;f=await ds._fromGetAccountInfoResponse(e,p,d)}else f=ds._fromJSON(e,d);u!==o&&(l=f),o=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Kl(o,e,r):(o=c[0],l&&await o._set(i,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new Kl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bO(e))return"Blackberry";if(_O(e))return"Webos";if(vO(e))return"Safari";if((e.includes("chrome/")||yO(e))&&!e.includes("edge/"))return"Chrome";if(wO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gO(t=Wn()){return/firefox\//i.test(t)}function vO(t=Wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yO(t=Wn()){return/crios\//i.test(t)}function xO(t=Wn()){return/iemobile/i.test(t)}function wO(t=Wn()){return/android/i.test(t)}function bO(t=Wn()){return/blackberry/i.test(t)}function _O(t=Wn()){return/webos/i.test(t)}function t1(t=Wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CY(t=Wn()){var e;return t1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function TY(){return Nq()&&document.documentMode===10}function SO(t=Wn()){return t1(t)||wO(t)||_O(t)||bO(t)||/windows phone/i.test(t)||xO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t,e=[]){let n;switch(t){case"Browser":n=FT(Wn());break;case"Worker":n=`${FT(Wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,l)=>{try{const c=e(o);i(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kY(t,e={}){return Dc(t,"GET","/v2/passwordPolicy",Zb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jY=6;class PY{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VT(this),this.idTokenSubscription=new VT(this),this.beforeStateQueue=new NY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=go(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wp(this,{idToken:e}),r=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Os(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Os(this.app))return Promise.reject(ka(this));const n=e?Hn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Os(this.app)?Promise.reject(ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Os(this.app)?Promise.reject(ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kY(this),n=new PY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ud("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&go(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[go(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let i=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(l,this,"internal-error"),l.then(()=>{i||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{i=!0,c()}}else{const c=e.addObserver(n);return()=>{i=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&lY(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function n1(t){return Hn(t)}class VT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Oq(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IY(t){r1=t}function RY(t){return r1.loadJS(t)}function DY(){return r1.gapiScript}function OY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MY(t,e){const n=cb(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ba(o,e??{}))return s;Ro(s,"already-initialized")}return n.initialize({options:e})}function LY(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(go);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FY(t,e,n){const r=n1(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=CO(e),{host:i,port:l}=VY(e),c=l===null?"":`:${l}`,u={url:`${o}//${i}${c}/`},d=Object.freeze({host:i,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Ba(u,r.config.emulator)&&Ba(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Nc(i)?(CR(`${o}//${i}${c}`),TR("Auth",!0)):s||zY()}function CO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VY(t){const e=CO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:zT(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:zT(i)}}}function zT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mo("not implemented")}_getIdTokenResponse(e){return mo("not implemented")}_linkToIdToken(e,n){return mo("not implemented")}_getReauthenticationResolver(e){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e){return mY(t,"POST","/v1/accounts:signInWithIdp",Zb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY="http://localhost";class Ha extends TO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ro("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const i=new Ha(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yl(e,n)}buildRequest(){const e={requestUri:UY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends NO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Qd{constructor(){super("facebook.com")}static credential(e){return Ha._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ha._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Qd{constructor(){super("github.com")}static credential(e){return Ha._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Qd{constructor(){super("twitter.com")}static credential(e,n){return Ha._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.TWITTER_SIGN_IN_METHOD="twitter.com";ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ds._fromIdTokenResponse(e,r,s),i=UT(r);return new mc({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=UT(r);return new mc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function UT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Lo{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Gp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Gp(e,n,r,s)}}function kO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(t,o,e,r):o})}async function BY(t,e,n=!1){const r=await Ed(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Y(t,e,n=!1){const{auth:r}=t;if(Os(r.app))return Promise.reject(ka(r));const s="reauthenticate";try{const o=await Ed(t,kO(r,s,e,t),n);Me(o.idToken,r,"internal-error");const i=e1(o.idToken);Me(i,r,"internal-error");const{sub:l}=i;return Me(t.uid===l,r,"user-mismatch"),mc._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ro(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qY(t,e,n=!1){if(Os(t.app))return Promise.reject(ka(t));const r="signIn",s=await kO(t,r,e),o=await mc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}function WY(t,e,n,r){return Hn(t).onIdTokenChanged(e,n,r)}function HY(t,e,n){return Hn(t).beforeAuthStateChanged(e,n)}const Kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kp,"1"),this.storage.removeItem(Kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY=1e3,KY=10;class PO extends jO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,l,c)=>{this.notifyListeners(i,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);TY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,KY):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PO.type="LOCAL";const YY=PO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO extends jO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AO.type="SESSION";const IO=AO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ig(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(i).map(async u=>u(n.origin,o)),c=await QY(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((l,c)=>{const u=s1("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(p.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(){return window}function JY(t){Ks().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){return typeof Ks().WorkerGlobalScope<"u"&&typeof Ks().importScripts=="function"}async function ZY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function tQ(){return RO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="firebaseLocalStorageDb",nQ=1,Yp="firebaseLocalStorage",OO="fbase_key";class Xd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ag(t,e){return t.transaction([Yp],e?"readwrite":"readonly").objectStore(Yp)}function rQ(){const t=indexedDB.deleteDatabase(DO);return new Xd(t).toPromise()}function ux(){const t=indexedDB.open(DO,nQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yp,{keyPath:OO})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yp)?e(r):(r.close(),await rQ(),e(await ux()))})})}async function BT(t,e,n){const r=ag(t,!0).put({[OO]:e,value:n});return new Xd(r).toPromise()}async function sQ(t,e){const n=ag(t,!1).get(e),r=await new Xd(n).toPromise();return r===void 0?null:r.value}function $T(t,e){const n=ag(t,!0).delete(e);return new Xd(n).toPromise()}const oQ=800,iQ=3;class MO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ux(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ig._getInstance(tQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await ZY(),!this.activeServiceWorker)return;this.sender=new XY(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ux();return await BT(e,Kp,"1"),await $T(e,Kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>BT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$T(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=ag(s,!1).getAll();return new Xd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MO.type="LOCAL";const aQ=MO;new Yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(t,e){return e?go(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends TO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cQ(t){return qY(t.auth,new o1(t),t.bypassAuthState)}function uQ(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),$Y(n,new o1(t),t.bypassAuthState)}async function dQ(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),BY(n,new o1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:l}=e;if(i){this.reject(i);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cQ;case"linkViaPopup":case"linkViaRedirect":return dQ;case"reauthViaPopup":case"reauthViaRedirect":return uQ;default:Ro(this.auth,"internal-error")}}resolve(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hQ=new Yd(2e3,1e4);class Dl extends LO{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Do(this.filter.length===1,"Popup operations only handle one event");const e=s1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hQ.get())};e()}}Dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ="pendingRedirect",Of=new Map;class pQ extends LO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const r=await mQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mQ(t,e){const n=yQ(e),r=vQ(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function gQ(t,e){Of.set(t._key(),e)}function vQ(t){return go(t._redirectPersistence)}function yQ(t){return Df(fQ,t.config.apiKey,t.name)}async function xQ(t,e,n=!1){if(Os(t.app))return Promise.reject(ka(t));const r=n1(t),s=lQ(r,e),i=await new pQ(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=10*60*1e3;class bQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_Q(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FO(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}}function qT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _Q(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SQ(t,e={}){return Dc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CQ=/^https?/;async function TQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SQ(t);for(const n of e)try{if(NQ(n))return}catch{}Ro(t,"unauthorized-domain")}function NQ(t){const e=lx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!CQ.test(n))return!1;if(EQ.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ=new Yd(3e4,6e4);function WT(){const t=Ks().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jQ(t){return new Promise((e,n)=>{var s,o,i;function r(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(Gs(t,"network-request-failed"))},timeout:kQ.get()})}if((o=(s=Ks().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((i=Ks().gapi)!=null&&i.load)r();else{const l=OY("iframefcb");return Ks()[l]=()=>{gapi.load?r():n(Gs(t,"network-request-failed"))},RY(`${DY()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function PQ(t){return Mf=Mf||jQ(t),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ=new Yd(5e3,15e3),IQ="__/auth/iframe",RQ="emulator/auth/iframe",DQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MQ(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jb(e,RQ):`https://${t.config.authDomain}/${IQ}`,r={apiKey:e.apiKey,appName:t.name,v:kc},s=OQ.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Bd(r).slice(1)}`}async function LQ(t){const e=await PQ(t),n=Ks().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:MQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DQ,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=Gs(t,"network-request-failed"),l=Ks().setTimeout(()=>{o(i)},AQ.get());function c(){Ks().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VQ=500,zQ=600,UQ="_blank",BQ="http://localhost";class HT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $Q(t,e,n,r=VQ,s=zQ){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...FQ,width:r.toString(),height:s.toString(),top:o,left:i},u=Wn().toLowerCase();n&&(l=yO(u)?UQ:n),gO(u)&&(e=e||BQ,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(CY(u)&&l!=="_self")return qQ(e||"",l),new HT(null);const f=window.open(e||"",l,d);Me(f,t,"popup-blocked");try{f.focus()}catch{}return new HT(f)}function qQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ="__/auth/handler",HQ="emulator/auth/handler",GQ=encodeURIComponent("fac");async function GT(t,e,n,r,s,o){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:kc,eventId:s};if(e instanceof NO){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",Dq(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))i[d]=f}if(e instanceof Qd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const l=i;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${GQ}=${encodeURIComponent(c)}`:"";return`${KQ(t)}?${Bd(l).slice(1)}${u}`}function KQ({config:t}){return t.emulator?Jb(t,HQ):`https://${t.authDomain}/${WQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="webStorageSupport";class YQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IO,this._completeRedirectFn=xQ,this._overrideRedirectResult=gQ}async _openPopup(e,n,r,s){var i;Do((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await GT(e,n,r,lx(),s);return $Q(e,o,s1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await GT(e,n,r,lx(),s);return JY(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Do(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LQ(e),r=new bQ(e);return n.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wv,{type:Wv},s=>{var i;const o=(i=s==null?void 0:s[0])==null?void 0:i[Wv];o!==void 0&&n(!!o),Ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SO()||vO()||t1()}}const QQ=YQ;var KT="@firebase/auth",YT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZQ(t){lc(new $a("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:l}=r.options;Me(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:i,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EO(t)},u=new AY(r,s,o,c);return LY(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lc(new $a("auth-internal",e=>{const n=n1(e.getProvider("auth").getImmediate());return(r=>new XQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(KT,YT,JQ(t)),_i(KT,YT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eX=5*60,tX=ER("authIdTokenMaxAge")||eX;let QT=null;const nX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tX)return;const s=n==null?void 0:n.token;QT!==s&&(QT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function rX(t=PR()){const e=cb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MY(t,{popupRedirectResolver:QQ,persistence:[aQ,YY,IO]}),r=ER("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const i=nX(o.toString());HY(n,i,()=>i(n.currentUser)),WY(n,l=>i(l))}}const s=_R("auth");return s&&FY(n,`http://${s}`),n}function sX(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}IY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Gs("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",sX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZQ("Browser");const oX={apiKey:"AIzaSyDZa2C8AZc902HNuRWS0jP2KxfFoX5npyA",authDomain:"firefly-nexus.firebaseapp.com",projectId:"firefly-nexus",storageBucket:"firefly-nexus.firebasestorage.app",messagingSenderId:"981611156212",appId:"1:981611156212:web:aa09e09bbc3995617704a1",measurementId:"G-BG7KGG32F2"},VO=jR(oX),Fr=UK(VO);rX(VO);class iX{constructor(){this.collections={clientes:"clientes",ordensServico:"ordens_servico",ordensVenda:"ordens_venda",produtos:"produtos",categorias:"categorias",movimentacoes:"movimentacoes",financeiro:"financeiro",usuarios:"usuarios",configuracoes:"configuracoes"},this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes"},this.isFirebaseAvailable=!1,this.initialized=!1,this.initPromise=this.init()}async init(){if(!this.initialized)try{await this.checkFirebaseAvailability(),this.initialized=!0,console.log("[FirebaseService] ✅ Inicialização concluída - APENAS FIREBASE")}catch(e){throw console.error("[FirebaseService] ❌ Erro na inicialização:",e),this.initialized=!1,new Error("Firebase não disponível - sistema requer Firebase")}}async checkFirebaseAvailability(){try{if(console.log("[FirebaseService] ===== VERIFICANDO FIREBASE ====="),console.log("[FirebaseService] Verificando disponibilidade do Firebase..."),console.log("[FirebaseService] db object:",Fr),!Fr)throw new Error("Firebase db não está disponível");console.log("[FirebaseService] Testando acesso à collection...");const e=ra(Fr,"test_connectivity");console.log("[FirebaseService] Collection criada:",e);const n=Uv(e),r=await Bv(n);console.log("[FirebaseService] Query executada com sucesso, docs encontrados:",r.size),this.isFirebaseAvailable=!0,console.log("[FirebaseService] ✅ Firebase disponível - APENAS FIREBASE"),console.log("[FirebaseService] ===== FIREBASE OK =====")}catch(e){throw console.log("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),console.log("[FirebaseService] Erro:",e.message),console.log("[FirebaseService] Stack:",e.stack),this.isFirebaseAvailable=!1,console.log("[FirebaseService] ===== FIREBASE FALHOU - SEM FALLBACK ====="),new Error(`Firebase não disponível: ${e.message}`)}}async saveData(e,n,r=null){if(console.log(`[FirebaseService] ===== SALVANDO EM ${e} - APENAS FIREBASE =====`),console.log("[FirebaseService] Dados:",n),this.initialized||(console.log("[FirebaseService] Aguardando inicialização..."),await this.initPromise),console.log("[FirebaseService] Firebase disponível:",this.isFirebaseAvailable),console.log("[FirebaseService] Inicializado:",this.initialized),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{if(r){const s=Af(Fr,e,r);return await nY(s,{...n,updatedAt:n.updatedAt||new Date().toISOString()}),console.log(`[FirebaseService] ✅ Documento ${r} atualizado com sucesso no Firebase`),r}else{const s=await sY(ra(Fr,e),{...n,createdAt:n.createdAt||new Date().toISOString(),updatedAt:n.updatedAt||new Date().toISOString()});return console.log(`[FirebaseService] ✅ Novo documento criado no Firebase com ID: ${s.id}`),console.log("[FirebaseService] ===== SALVAMENTO CONCLUÍDO ====="),s.id}}catch(s){throw console.error(`[FirebaseService] ❌ Erro ao salvar dados em ${e}:`,s),new Error(`Erro ao salvar no Firebase: ${s.message}`)}}saveToLocalStorage(e,n,r=null){try{console.log(`[FirebaseService] saveToLocalStorage chamado para ${e}:`,n);const s=this.localStorageKeys[e];if(!s)throw new Error(`Chave localStorage não encontrada para ${e}`);if(console.log(`[FirebaseService] Chave localStorage: ${s}`),e==="configuracoes"){const i={...n,id:r||"config",updatedAt:new Date().toISOString()};return localStorage.setItem(s,JSON.stringify(i)),window.dispatchEvent(new Event("storage")),r||"config"}const o=JSON.parse(localStorage.getItem(s)||"[]");if(console.log(`[FirebaseService] Dados existentes em ${s}:`,o),r){const i=o.findIndex(l=>l.id===r);i!==-1&&(o[i]={...n,id:r,updatedAt:new Date().toISOString()})}else{const i=r||Date.now().toString(),l={...n,id:i,createdAt:new Date().toISOString()};o.push(l),console.log("[FirebaseService] Novo item adicionado:",l)}return console.log(`[FirebaseService] Salvando dados finais em ${s}:`,o),localStorage.setItem(s,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:s,data:o}})),console.log(`[FirebaseService] Evento localStorageChange disparado para ${s}`),r||Date.now().toString()}catch(s){throw console.error("[FirebaseService] Erro ao salvar no localStorage:",s),s}}async getData(e){if(console.log(`[FirebaseService] getData chamado para ${e}`),this.initialized||(console.log(`[FirebaseService] Aguardando inicialização para ${e}`),await this.initPromise),console.log(`[FirebaseService] Firebase disponível para ${e}: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{const n=new Promise((o,i)=>setTimeout(()=>i(new Error("Timeout")),2e3)),r=(async()=>{try{const o=Uv(ra(Fr,e),AT("createdAt","desc")),i=await Bv(o),l=[];return i.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] Query com orderBy funcionou para ${e}: ${l.length} documentos`),l}catch(o){console.warn(`[FirebaseService] orderBy falhou para ${e}, tentando sem orderBy:`,o.message);const i=ra(Fr,e),l=await Bv(i),c=[];return l.forEach(u=>{c.push({id:u.id,...u.data()})}),console.log(`[FirebaseService] Query sem orderBy funcionou para ${e}: ${c.length} documentos`),c}})(),s=await Promise.race([r,n]);return console.log(`[FirebaseService] Dados carregados do Firebase para ${e}:`,s.length),s}catch(n){throw console.error(`[FirebaseService] ❌ Erro ao buscar dados de ${e}:`,n),new Error(`Erro ao buscar no Firebase: ${n.message}`)}}getFromLocalStorage(e){try{const n=this.localStorageKeys[e];if(!n)return console.warn(`Chave localStorage não encontrada para ${e}`),e==="configuracoes"?null:[];console.log(`[FirebaseService] getFromLocalStorage para ${e}, chave: ${n}`);const r=localStorage.getItem(n);console.log("[FirebaseService] Dados brutos do localStorage:",r);const s=JSON.parse(r||(e==="configuracoes"?"null":"[]"));if(console.log("[FirebaseService] Dados parseados:",s),e==="configuracoes")return s;const o=Array.isArray(s)?s:[];return console.log(`[FirebaseService] Retornando array para ${e}:`,o),o}catch(n){return console.error("[FirebaseService] Erro ao buscar do localStorage:",n),e==="configuracoes"?null:[]}}async getDocument(e,n){try{const r=Af(Fr,e,n),s=await tY(r);return s.exists()?{id:s.id,...s.data()}:null}catch(r){return console.error(`Erro ao buscar documento ${n} de ${e}:`,r),null}}async deleteDocument(e,n){if(console.log(`[FirebaseService] ===== DELETANDO DOCUMENTO ${n} DE ${e} - APENAS FIREBASE =====`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{return await rY(Af(Fr,e,n)),console.log(`[FirebaseService] ✅ Documento ${n} deletado com sucesso do Firebase`),!0}catch(r){throw console.error(`[FirebaseService] ❌ Erro ao deletar documento ${n} de ${e}:`,r),new Error(`Erro ao deletar no Firebase: ${r.message}`)}}deleteFromLocalStorage(e,n){try{const r=this.localStorageKeys[e];if(!r)return console.warn(`Chave localStorage não encontrada para ${e}`),!1;const o=JSON.parse(localStorage.getItem(r)||"[]").filter(i=>i.id!==n);return localStorage.setItem(r,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:r,data:o}})),!0}catch(r){return console.error("[FirebaseService] Erro ao deletar do localStorage:",r),!1}}async subscribeToCollection(e,n){if(console.log(`[FirebaseService] ===== SUBSCRIBE TO COLLECTION ${e} =====`),this.initialized||(console.log(`[FirebaseService] Aguardando inicialização para ${e}`),await this.initPromise),console.log(`[FirebaseService] subscribeToCollection para ${e}, Firebase disponível: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");console.log(`[FirebaseService] Firebase disponível, configurando onSnapshot para ${e}`);try{const r=Uv(ra(Fr,e),AT("createdAt","desc"));return $v(r,s=>{const o=[];s.forEach(i=>{o.push({id:i.id,...i.data()})}),console.log(`[FirebaseService] onSnapshot recebido para ${e}:`,o),n(o)},s=>{console.error(`[FirebaseService] Erro no onSnapshot com orderBy para ${e}:`,s),console.log(`[FirebaseService] Tentando sem orderBy para ${e}`);const o=ra(Fr,e);return $v(o,i=>{const l=[];i.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] onSnapshot sem orderBy recebido para ${e}:`,l),n(l)},i=>{throw console.error(`[FirebaseService] ❌ Erro no onSnapshot sem orderBy para ${e}:`,i),new Error(`Erro no onSnapshot: ${i.message}`)})})}catch(r){console.error(`[FirebaseService] Erro ao criar query com orderBy para ${e}:`,r);const s=ra(Fr,e);return $v(s,o=>{const i=[];o.forEach(l=>{i.push({id:l.id,...l.data()})}),console.log(`[FirebaseService] onSnapshot simples recebido para ${e}:`,i),n(i)},o=>{throw console.error(`[FirebaseService] ❌ Erro no onSnapshot simples para ${e}:`,o),new Error(`Erro no onSnapshot simples: ${o.message}`)})}}async saveCliente(e,n=null){return await this.saveData(this.collections.clientes,e,n)}async getClientes(){return await this.getData(this.collections.clientes)}async deleteCliente(e){return await this.deleteDocument(this.collections.clientes,e)}subscribeToClientes(e){return this.subscribeToCollection(this.collections.clientes,e)}async saveOS(e,n=null){return await this.saveData(this.collections.ordensServico,e,n)}async getOS(){return await this.getData(this.collections.ordensServico)}async deleteOS(e){return await this.deleteDocument(this.collections.ordensServico,e)}subscribeToOS(e){return this.subscribeToCollection(this.collections.ordensServico,e)}async saveOV(e,n=null){return await this.saveData(this.collections.ordensVenda,e,n)}async getOV(){return await this.getData(this.collections.ordensVenda)}async deleteOV(e){return await this.deleteDocument(this.collections.ordensVenda,e)}subscribeToOV(e){return this.subscribeToCollection(this.collections.ordensVenda,e)}async saveProduto(e,n=null){return await this.saveData(this.collections.produtos,e,n)}async getProdutos(){return await this.getData(this.collections.produtos)}async deleteProduto(e){return await this.deleteDocument(this.collections.produtos,e)}subscribeToProdutos(e){return this.subscribeToCollection(this.collections.produtos,e)}async saveCategoria(e,n=null){return await this.saveData(this.collections.categorias,e,n)}async getCategorias(){return await this.getData(this.collections.categorias)}async deleteCategoria(e){return await this.deleteDocument(this.collections.categorias,e)}subscribeToCategorias(e){return this.subscribeToCollection(this.collections.categorias,e)}async saveMovimentacao(e,n=null){return await this.saveData(this.collections.movimentacoes,e,n)}async getMovimentacoes(){return await this.getData(this.collections.movimentacoes)}async deleteMovimentacao(e){return await this.deleteDocument(this.collections.movimentacoes,e)}subscribeToMovimentacoes(e){return this.subscribeToCollection(this.collections.movimentacoes,e)}async saveFinanceiro(e,n=null){return await this.saveData(this.collections.financeiro,e,n)}async getFinanceiro(){return await this.getData(this.collections.financeiro)}async deleteFinanceiro(e){return await this.deleteDocument(this.collections.financeiro,e)}subscribeToFinanceiro(e){return this.subscribeToCollection(this.collections.financeiro,e)}async saveUsuario(e,n=null){return await this.saveData(this.collections.usuarios,e,n)}async getUsuarios(){return await this.getData(this.collections.usuarios)}async deleteUsuario(e){return await this.deleteDocument(this.collections.usuarios,e)}subscribeToUsuarios(e){return this.subscribeToCollection(this.collections.usuarios,e)}async saveConfiguracao(e,n=null){try{if(console.log("[FirebaseService] 🚀 Salvando configuração:",e),!n)try{const s=await this.getData(this.collections.configuracoes);s.length>0?(n=s[0].id,console.log("[FirebaseService] ✅ Configuração existente encontrada, ID:",n)):console.log("[FirebaseService] 📝 Criando nova configuração")}catch(s){console.warn("[FirebaseService] ⚠️ Erro ao buscar configuração existente:",s)}const r=await this.saveData(this.collections.configuracoes,e,n);return localStorage.removeItem("crm_config_cache"),console.log("[FirebaseService] ✅ Configuração salva com sucesso:",r),r}catch(r){console.error("[FirebaseService] ❌ Erro ao salvar configuração:",r);try{return localStorage.setItem("crm_configuracoes",JSON.stringify(e)),localStorage.setItem("crm_idioma",e.idioma||"pt-BR"),console.log("[FirebaseService] ✅ Fallback: Configuração salva no localStorage"),"localStorage"}catch(s){throw console.error("[FirebaseService] ❌ Erro no fallback localStorage:",s),r}}}async getConfiguracao(){const e=localStorage.getItem("crm_config_cache");if(e)try{const s=JSON.parse(e),o=s.timestamp;if(Date.now()-o<5*60*1e3)return console.log("[FirebaseService] Usando configuração do cache"),s.config}catch(s){console.warn("[FirebaseService] Erro ao ler cache de configuração:",s)}const n=await this.getData(this.collections.configuracoes),r=n.length>0?n[0]:null;return r&&localStorage.setItem("crm_config_cache",JSON.stringify({config:r,timestamp:Date.now()})),r}async migrateFromLocalStorage(){console.log("Iniciando migração do localStorage para Firebase...");const e=[{key:"crm_clientes",collection:this.collections.clientes},{key:"crm_os",collection:this.collections.ordensServico},{key:"crm_ov",collection:this.collections.ordensVenda},{key:"crm_produtos",collection:this.collections.produtos},{key:"crm_categorias",collection:this.collections.categorias},{key:"crm_movimentacoes",collection:this.collections.movimentacoes},{key:"crm_financeiro",collection:this.collections.financeiro},{key:"crm_usuarios",collection:this.collections.usuarios}];for(const n of e)try{const r=JSON.parse(localStorage.getItem(n.key)||"[]");if(Array.isArray(r)&&r.length>0){console.log(`Migrando ${r.length} itens de ${n.key}...`);for(const s of r){const{id:o,...i}=s;await this.saveData(n.collection,i)}console.log(`Migração de ${n.key} concluída!`)}}catch(r){console.error(`Erro ao migrar ${n.key}:`,r)}try{const n=localStorage.getItem("crm_configuracoes");if(n){const r=JSON.parse(n);await this.saveConfiguracao(r),console.log("Configurações migradas!")}}catch(n){console.error("Erro ao migrar configurações:",n)}console.log("Migração concluída!")}}const xt=new iX,Yi=(t,e={})=>{const[n,r]=g.useState([]),[s,o]=g.useState(!0),[i,l]=g.useState(null),{enableRealtime:c=!0,onError:u=null}=e;return g.useEffect(()=>{let p=null,m=0;const y=3,x=async()=>{try{if(o(!0),l(null),console.log(`[useFirebaseData] ===== INÍCIO CARREGAMENTO ${t} =====`),console.log(`[useFirebaseData] enableRealtime: ${c}`),console.log(`[useFirebaseData] Tentativa ${m+1}/${y+1}`),!xt.isFirebaseAvailable){console.log("[useFirebaseData] Firebase não disponível, tentando inicializar...");try{await xt.init(),console.log("[useFirebaseData] ✅ Firebase inicializado com sucesso")}catch(S){throw console.error("[useFirebaseData] ❌ Erro na inicialização do Firebase:",S),S}}if(c){console.log(`[useFirebaseData] Configurando escuta em tempo real para ${t}`);try{p=await xt.subscribeToCollection(t,S=>{console.log(`[useFirebaseData] ✅ Dados recebidos de ${t}:`,S),console.log("[useFirebaseData] Tipo dos dados:",typeof S,Array.isArray(S)),r(Array.isArray(S)?S:[]),o(!1)}),console.log(`[useFirebaseData] ✅ Escuta configurada com sucesso para ${t}`)}catch(S){console.error(`[useFirebaseData] ❌ Erro ao configurar escuta para ${t}:`,S),console.log("[useFirebaseData] Tentando carregamento único como fallback...");const _=await xt.getData(t);console.log(`[useFirebaseData] Dados carregados (fallback) de ${t}:`,_),r(Array.isArray(_)?_:[]),o(!1)}}else{console.log(`[useFirebaseData] Carregando dados uma única vez para ${t}`);const S=await xt.getData(t);console.log(`[useFirebaseData] Dados carregados de ${t}:`,S),console.log("[useFirebaseData] Tipo dos dados:",typeof S,Array.isArray(S)),r(Array.isArray(S)?S:[]),o(!1)}console.log(`[useFirebaseData] ===== FIM CARREGAMENTO ${t} =====`)}catch(S){if(console.error(`[useFirebaseData] ❌ ERRO CRÍTICO ao carregar dados de ${t}:`,S),console.error("[useFirebaseData] Stack trace:",S.stack),m<y){m++,console.log(`[useFirebaseData] Tentando novamente em 2 segundos... (${m}/${y})`),setTimeout(()=>{x()},2e3);return}l(S),o(!1),r([]),u&&u(S)}};return x(),()=>{p&&p()}},[t,c,u]),{data:n,loading:s,error:i,save:async(p,m=null)=>{try{console.log(`[useFirebaseData] Salvando item em ${t}:`,p);const y=await xt.saveData(t,p,m);return console.log(`[useFirebaseData] Item salvo com sucesso em ${t}:`,y),y}catch(y){throw console.error(`[useFirebaseData] Erro ao salvar em ${t}:`,y),l(y),y}},remove:async p=>{try{console.log(`[useFirebaseData] Removendo item ${p} de ${t}`);const m=await xt.deleteDocument(t,p);return console.log(`[useFirebaseData] Item removido com sucesso de ${t}`),m}catch(m){throw console.error(`[useFirebaseData] Erro ao deletar de ${t}:`,m),l(m),m}},refresh:()=>{o(!0),xt.getData(t).then(r).finally(()=>o(!1))}}},Oc=()=>Yi("clientes"),lg=()=>Yi("ordens_servico"),Jd=()=>Yi("ordens_venda"),Zd=()=>Yi("produtos"),eh=()=>Yi("categorias"),i1=()=>Yi("movimentacoes"),th=()=>Yi("financeiro"),a1=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0),console.log("[useConfiguracoesLoja] Carregando configurações da loja...");const c=await xt.getData("configuracoes_loja");console.log("[useConfiguracoesLoja] Configurações carregadas:",c),!c||c.length===0?e({nomeEmpresa:"MultiSmart",descricao:"Manutenção e Comércio de Celulares e Tablets",endereco:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""}):e(c[0]),r(!1)}catch(c){console.error("[useConfiguracoesLoja] Erro ao carregar configurações:",c),o(c),r(!1),e({nomeEmpresa:"MultiSmart",descricao:"Manutenção e Comércio de Celulares e Tablets",endereco:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""})}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{if(console.log("[useConfiguracoesLoja] Salvando configurações:",l),t&&t.id){const c=await xt.saveData("configuracoes_loja",l,t.id);return e({...l,id:t.id}),c}else{const c=await xt.saveData("configuracoes_loja",l);return e({...l,id:c.id}),c}}catch(c){throw console.error("[useConfiguracoesLoja] Erro ao salvar configurações:",c),o(c),c}}}},Mc=()=>{const t=Yi("usuarios");console.log("[useUsuarios] Hook result completo:",t),console.log("[useUsuarios] result.data:",t.data),console.log("[useUsuarios] result.loading:",t.loading),console.log("[useUsuarios] result.error:",t.error);const e=Array.isArray(t.data)?t.data:[];return console.log("[useUsuarios] usuarios finais:",e),{...t,usuarios:e,saveUsuario:t.save}},l1=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0);const c=new Promise((f,p)=>setTimeout(()=>p(new Error("Timeout")),500)),u=xt.getConfiguracao(),d=await Promise.race([u,c]);e(d),r(!1),console.log("[useConfiguracao] Configuração carregada:",d)}catch(c){console.warn("[useConfiguracao] Erro ao carregar configuração, usando padrão:",c.message),e({nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"}),o(c),r(!1)}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{const c=await xt.saveConfiguracao(l);return e(l),c}catch(c){throw console.error("Erro ao salvar configuração:",c),o(c),c}}}},aX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(wr),{data:r,loading:s,save:o,remove:i}=Oc(),{data:l}=Jd(),[c,u]=g.useState(""),[d,f]=g.useState(null),[p,m]=g.useState(null),[y,x]=g.useState("grid"),[S,_]=g.useState("nome"),[v,b]=g.useState("asc"),[j,R]=g.useState("todos"),[F,E]=g.useState(!0),[T,A]=g.useState(!1),[I,k]=g.useState("basico"),[N,P]=g.useState({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),{toast:D}=xr(),L=(q=null)=>{var de,ne,ke,Le,Ye,tt;q?(f(q),P({nome:q.nome||"",telefone:q.telefone||"",email:q.email||"",endereco:q.endereco||"",observacoes:q.observacoes||"",categoria:q.categoria||"cliente",dataNascimento:q.dataNascimento||"",cpf:q.cpf||"",empresa:q.empresa||"",website:q.website||"",foto:q.foto||null,redesSociais:{instagram:((de=q.redesSociais)==null?void 0:de.instagram)||"",facebook:((ne=q.redesSociais)==null?void 0:ne.facebook)||"",linkedin:((ke=q.redesSociais)==null?void 0:ke.linkedin)||""},preferencias:{formaContato:((Le=q.preferencias)==null?void 0:Le.formaContato)||"telefone",horarioContato:((Ye=q.preferencias)==null?void 0:Ye.horarioContato)||"comercial",newsletter:((tt=q.preferencias)==null?void 0:tt.newsletter)||!1}}),console.log("[Clientes] Editando cliente:",q)):(f(null),P({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),console.log("[Clientes] Novo cliente, formulário limpo")),e("clientes"),console.log("[Clientes] Dialog de cliente aberto")},B=()=>{n("clientes"),console.log("[Clientes] Dialog de cliente fechado")},$=async q=>{if(q.preventDefault(),console.log("[Clientes] Submissão do formulário de cliente:",N,d),!N.nome){D({title:"Campo obrigatório",description:"Nome é obrigatório!",variant:"destructive"});return}if(!N.telefone){D({title:"Campo obrigatório",description:"Telefone é obrigatório! Navegando para aba de contato...",variant:"destructive"}),k("contato");return}try{const de={...N,createdAt:d?d.createdAt:new Date().toISOString()};await o(de,d==null?void 0:d.id),d?(console.log("[Clientes] Cliente atualizado:",de),D({title:"Sucesso!",description:"Cliente atualizado com sucesso!"})):(console.log("[Clientes] Cliente cadastrado:",de),D({title:"Sucesso!",description:"Cliente cadastrado com sucesso!"})),B()}catch(de){console.error("[Clientes] Erro ao salvar cliente:",de),D({title:"Erro",description:"Erro ao salvar cliente. Tente novamente.",variant:"destructive"})}},M=async q=>{try{await i(q),console.log("[Clientes] Cliente removido:",q),D({title:"Sucesso!",description:"Cliente removido com sucesso!"})}catch(de){console.error("[Clientes] Erro ao remover cliente:",de),D({title:"Erro",description:"Erro ao remover cliente. Tente novamente.",variant:"destructive"})}},V=q=>{const de=l.filter(Ye=>Ye.clienteId===q.id),ne=de.length,ke=de.reduce((Ye,tt)=>Ye+(tt.total||0),0),Le=de.length>0?new Date(Math.max(...de.map(Ye=>new Date(Ye.createdAt)))):null;return{totalCompras:ne,totalGasto:ke,ultimaCompra:Le,ticketMedio:ne>0?ke/ne:0,status:ne===0?"novo":ke>1e3?"vip":Le&&Date.now()-Le.getTime()<30*24*60*60*1e3?"ativo":"inativo"}},G=()=>{const q=r.length,de=r.filter(Le=>l.some(Ye=>Ye.clienteId===Le.id)).length,ne=r.filter(Le=>{const Ye=new Date(Le.createdAt);return Date.now()-Ye.getTime()<30*24*60*60*1e3}).length,ke=r.filter(Le=>V(Le).status==="vip").length;return{total:q,comCompras:de,novos:ne,vip:ke}},K=r.filter(q=>{const de=q.nome.toLowerCase().includes(c.toLowerCase())||q.telefone.includes(c)||q.email&&q.email.toLowerCase().includes(c.toLowerCase()),ne=V(q),ke=j==="todos"||j==="vip"&&ne.status==="vip"||j==="novos"&&ne.totalCompras===0||j==="ativos"&&ne.status==="ativo"||j==="inativos"&&ne.status==="inativo";return de&&ke}).sort((q,de)=>{let ne=0;switch(S){case"nome":ne=q.nome.localeCompare(de.nome);break;case"data":ne=new Date(q.createdAt)-new Date(de.createdAt);break;case"compras":ne=V(q).totalCompras-V(de).totalCompras;break;case"gasto":ne=V(q).totalGasto-V(de).totalGasto;break;default:ne=q.nome.localeCompare(de.nome)}return v==="asc"?ne:-ne}),le=q=>{navigator.clipboard.writeText(q),D({title:"Copiado!",description:"Informação copiada para a área de transferência"})},ce=q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q),me=q=>{const de=q[0];if(!de)return;if(!de.type.startsWith("image/")){D({title:"Tipo de arquivo inválido!",description:"Por favor, selecione apenas imagens.",variant:"destructive"});return}if(de.size>2*1024*1024){D({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 2MB.",variant:"destructive"});return}const ne=new FileReader;ne.onload=()=>{const ke=new Image;ke.onload=()=>{const Le=document.createElement("canvas"),Ye=Le.getContext("2d");let{width:tt,height:nt}=ke;const gt=1e3;tt>nt?tt>gt&&(nt=nt*gt/tt,tt=gt):nt>gt&&(tt=tt*gt/nt,nt=gt),Le.width=tt,Le.height=nt,Ye.drawImage(ke,0,0,tt,nt);const It=Le.toDataURL("image/jpeg",.9);P(ht=>({...ht,foto:It})),D({title:"Foto adicionada!",description:"Foto do cliente carregada com sucesso."})},ke.src=ne.result},ne.onerror=()=>{D({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},ne.readAsDataURL(de)},{getRootProps:Ue,getInputProps:Ae,isDragActive:ue}=ib({onDrop:me,accept:{"image/*":[]},multiple:!1}),Ie=()=>{P(q=>({...q,foto:null})),D({title:"Foto removida!",description:"Foto do cliente removida com sucesso."})},Ge=G();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-6 text-white",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",children:"👥 Clientes"}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie sua base de clientes com inteligência"})]}),a.jsx(Se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(Un,{open:t.clientes,onOpenChange:B,children:[a.jsxs(Q,{onClick:()=>L(),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 text-white",size:"lg",children:[a.jsx(yu,{className:"h-5 w-5 mr-2"}),"Novo Cliente"]}),a.jsxs(Sn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(En,{children:[a.jsxs(Cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(yu,{className:"h-6 w-6 text-blue-500"}),d?"Editar Cliente":"Novo Cliente"]}),a.jsx(Lm,{children:"Preencha as informações do cliente. Campos obrigatórios marcados com *."})]}),a.jsxs("form",{onSubmit:$,className:"space-y-6",children:[a.jsxs(Ua,{value:I,onValueChange:k,className:"w-full",children:[a.jsxs(Ii,{className:"grid w-full grid-cols-3",children:[a.jsx(un,{value:"basico",children:"Básico"}),a.jsx(un,{value:"contato",children:"Contato"}),a.jsx(un,{value:"preferencias",children:"Preferências"})]}),a.jsxs(dn,{value:"basico",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx(te,{className:"text-sm font-medium",children:"Foto do Cliente"}),N.foto?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:N.foto,alt:"Foto do cliente",className:"w-32 h-32 rounded-full object-cover border-4 border-slate-200 dark:border-slate-700 shadow-lg"}),a.jsx(Q,{type:"button",variant:"destructive",size:"icon",onClick:Ie,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full",children:a.jsx(vr,{className:"h-3 w-3"})})]}):a.jsxs("div",{...Ue(),className:`w-32 h-32 border-2 border-dashed rounded-full flex flex-col items-center justify-center cursor-pointer transition-all duration-200 ${ue?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[a.jsx("input",{...Ae()}),a.jsx(_a,{className:"h-8 w-8 text-slate-400 mb-2"}),a.jsx("p",{className:"text-xs text-slate-500 text-center px-2",children:ue?"🎯 Solte a foto aqui":"📷 Arraste uma foto ou clique para selecionar"})]}),a.jsx("p",{className:"text-xs text-slate-500 text-center",children:"PNG, JPG até 2MB • Redimensionada para 1000x1000px"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"nome",children:"Nome Completo *"}),a.jsx(pe,{id:"nome",value:N.nome,onChange:q=>P({...N,nome:q.target.value}),placeholder:"João Silva",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"categoria",children:"Categoria"}),a.jsxs(ct,{value:N.categoria,onValueChange:q=>P({...N,categoria:q}),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"cliente",children:"Cliente"}),a.jsx(ae,{value:"fornecedor",children:"Fornecedor"}),a.jsx(ae,{value:"parceiro",children:"Parceiro"}),a.jsx(ae,{value:"vip",children:"VIP"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"cpf",children:"CPF"}),a.jsx(pe,{id:"cpf",value:N.cpf,onChange:q=>P({...N,cpf:q.target.value}),placeholder:"000.000.000-00"})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),a.jsx(pe,{id:"dataNascimento",type:"date",value:N.dataNascimento,onChange:q=>P({...N,dataNascimento:q.target.value})})]})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"empresa",children:"Empresa"}),a.jsx(pe,{id:"empresa",value:N.empresa,onChange:q=>P({...N,empresa:q.target.value}),placeholder:"Nome da empresa"})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"observacoes",children:"Observações"}),a.jsx(pd,{id:"observacoes",value:N.observacoes,onChange:q=>P({...N,observacoes:q.target.value}),placeholder:"Informações adicionais sobre o cliente",rows:3})]})]}),a.jsxs(dn,{value:"contato",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"telefone",children:"Telefone *"}),a.jsx(pe,{id:"telefone",value:N.telefone,onChange:q=>P({...N,telefone:q.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"email",children:"E-mail"}),a.jsx(pe,{id:"email",type:"email",value:N.email,onChange:q=>P({...N,email:q.target.value}),placeholder:"email@exemplo.com"})]})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"endereco",children:"Endereço"}),a.jsx(pd,{id:"endereco",value:N.endereco,onChange:q=>P({...N,endereco:q.target.value}),placeholder:"Endereço completo",rows:2})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"website",children:"Website"}),a.jsx(pe,{id:"website",value:N.website,onChange:q=>P({...N,website:q.target.value}),placeholder:"https://exemplo.com"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(te,{children:"Redes Sociais"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"instagram",className:"text-sm",children:"Instagram"}),a.jsx(pe,{id:"instagram",value:N.redesSociais.instagram,onChange:q=>P({...N,redesSociais:{...N.redesSociais,instagram:q.target.value}}),placeholder:"@usuario"})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"facebook",className:"text-sm",children:"Facebook"}),a.jsx(pe,{id:"facebook",value:N.redesSociais.facebook,onChange:q=>P({...N,redesSociais:{...N.redesSociais,facebook:q.target.value}}),placeholder:"facebook.com/usuario"})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"linkedin",className:"text-sm",children:"LinkedIn"}),a.jsx(pe,{id:"linkedin",value:N.redesSociais.linkedin,onChange:q=>P({...N,redesSociais:{...N.redesSociais,linkedin:q.target.value}}),placeholder:"linkedin.com/in/usuario"})]})]})]})]}),a.jsxs(dn,{value:"preferencias",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"formaContato",children:"Forma de Contato Preferida"}),a.jsxs(ct,{value:N.preferencias.formaContato,onValueChange:q=>P({...N,preferencias:{...N.preferencias,formaContato:q}}),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"telefone",children:"Telefone"}),a.jsx(ae,{value:"email",children:"E-mail"}),a.jsx(ae,{value:"whatsapp",children:"WhatsApp"}),a.jsx(ae,{value:"instagram",children:"Instagram"})]})]})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"horarioContato",children:"Horário de Contato"}),a.jsxs(ct,{value:N.preferencias.horarioContato,onValueChange:q=>P({...N,preferencias:{...N.preferencias,horarioContato:q}}),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"comercial",children:"Comercial (9h-18h)"}),a.jsx(ae,{value:"manha",children:"Manhã (6h-12h)"}),a.jsx(ae,{value:"tarde",children:"Tarde (12h-18h)"}),a.jsx(ae,{value:"noite",children:"Noite (18h-22h)"}),a.jsx(ae,{value:"livre",children:"Qualquer horário"})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"newsletter",checked:N.preferencias.newsletter,onChange:q=>P({...N,preferencias:{...N.preferencias,newsletter:q.target.checked}}),className:"rounded"}),a.jsx(te,{htmlFor:"newsletter",children:"Receber newsletter e promoções"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600",children:d?"Atualizar Cliente":"Cadastrar Cliente"}),a.jsx(Q,{type:"button",variant:"outline",onClick:B,children:"Cancelar"})]})]})]})]})})]}),F&&a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:a.jsx(ms,{className:"h-5 w-5 text-blue-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Total"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ge.total})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:a.jsx(cs,{className:"h-5 w-5 text-green-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Compraram"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ge.comCompras})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(bf,{className:"h-5 w-5 text-yellow-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"VIP"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ge.vip})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:a.jsx(yu,{className:"h-5 w-5 text-purple-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/80 text-sm",children:"Novos"}),a.jsx("p",{className:"text-white text-2xl font-bold",children:Ge.novos})]})]})})]})]}),a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(pe,{placeholder:"Buscar clientes...",value:c,onChange:q=>u(q.target.value),className:"pl-10"})]}),a.jsxs(ct,{value:j,onValueChange:R,children:[a.jsxs(it,{className:"w-full sm:w-40",children:[a.jsx(Iw,{className:"h-4 w-4 mr-2"}),a.jsx(ut,{})]}),a.jsxs(at,{children:[a.jsx(ae,{value:"todos",children:"Todos"}),a.jsx(ae,{value:"vip",children:"VIP"}),a.jsx(ae,{value:"novos",children:"Novos"}),a.jsx(ae,{value:"ativos",children:"Ativos"}),a.jsx(ae,{value:"inativos",children:"Inativos"})]})]}),a.jsxs(ct,{value:S,onValueChange:_,children:[a.jsxs(it,{className:"w-full sm:w-40",children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),a.jsx(ut,{})]}),a.jsxs(at,{children:[a.jsx(ae,{value:"nome",children:"Nome"}),a.jsx(ae,{value:"data",children:"Data"}),a.jsx(ae,{value:"compras",children:"Compras"}),a.jsx(ae,{value:"gasto",children:"Gasto"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q,{variant:v==="asc"?"default":"outline",size:"sm",onClick:()=>b(v==="asc"?"desc":"asc"),children:v==="asc"?a.jsx(L9,{className:"h-4 w-4"}):a.jsx(O9,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex border border-slate-200 dark:border-slate-700 rounded-lg",children:[a.jsx(Q,{variant:y==="grid"?"default":"ghost",size:"sm",onClick:()=>x("grid"),className:"rounded-r-none",children:a.jsx(ar,{className:"h-4 w-4"})}),a.jsx(Q,{variant:y==="list"?"default":"ghost",size:"sm",onClick:()=>x("list"),className:"rounded-l-none",children:a.jsx(ms,{className:"h-4 w-4"})})]})]})]})}),a.jsx(cA,{mode:"wait",children:s?a.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Carregando clientes..."})]}):a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:K.map((q,de)=>{const ne=V(q),ke={novo:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",vip:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"};return y==="grid"?a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:de*.05},whileHover:{y:-5},className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[q.foto?a.jsx("img",{src:q.foto,alt:q.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:q.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-lg group-hover:text-blue-600 transition-colors",children:q.nome}),a.jsx(Ai,{className:ke[ne.status],children:ne.status==="novo"?"Novo":ne.status==="vip"?"VIP":ne.status==="ativo"?"Ativo":"Inativo"})]})]}),a.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(q),A(!0)},className:"h-8 w-8",children:a.jsx($l,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>L(q),className:"h-8 w-8",children:a.jsx(ps,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>M(q.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Hr,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[a.jsx(Ea,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:q.telefone}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>le(q.telefone),className:"h-6 w-6 ml-auto",children:a.jsx(Lh,{className:"h-3 w-3"})})]}),q.email&&a.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[a.jsx(Sa,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm truncate",children:q.email}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>le(q.email),className:"h-6 w-6 ml-auto",children:a.jsx(Lh,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ne.totalCompras}),a.jsx("p",{className:"text-xs text-slate-500",children:"Compras"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:ce(ne.totalGasto)}),a.jsx("p",{className:"text-xs text-slate-500",children:"Total Gasto"})]})]})]})]},q.id):a.jsx(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:de*.05},className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[q.foto?a.jsx("img",{src:q.foto,alt:q.nome,className:"w-10 h-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:q.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:q.nome}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(Ea,{className:"h-3 w-3"}),q.telefone,q.email&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsx(Sa,{className:"h-3 w-3"}),q.email]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium",children:[ne.totalCompras," compras"]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:ce(ne.totalGasto)})]}),a.jsx(Ai,{className:ke[ne.status],children:ne.status==="novo"?"Novo":ne.status==="vip"?"VIP":ne.status==="ativo"?"Ativo":"Inativo"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(q),A(!0)},className:"h-8 w-8",children:a.jsx($l,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>L(q),className:"h-8 w-8",children:a.jsx(ps,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>M(q.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Hr,{className:"h-4 w-4"})})]})]})]})},q.id)})},y)}),!s&&K.length===0&&a.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ms,{className:"h-12 w-12 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:c?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:c?"Tente buscar com outros termos":"Comece cadastrando seu primeiro cliente"}),!c&&a.jsxs(Q,{onClick:()=>L(),className:"bg-gradient-to-r from-blue-600 to-purple-600",children:[a.jsx(yu,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Cliente"]})]}),a.jsx(Un,{open:T,onOpenChange:A,children:a.jsx(Sn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:p&&a.jsxs(a.Fragment,{children:[a.jsx(En,{children:a.jsxs(Cn,{className:"text-2xl font-bold flex items-center gap-3",children:[p.foto?a.jsx("img",{src:p.foto,alt:p.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:p.nome.charAt(0).toUpperCase()}),p.nome]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Wt,{children:[a.jsx(Zt,{className:"pb-3",children:a.jsxs(en,{className:"text-lg flex items-center gap-2",children:[a.jsx(cs,{className:"h-5 w-5 text-blue-500"}),"Compras"]})}),a.jsxs(Ht,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:V(p).totalCompras}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total de compras realizadas"})]})]}),a.jsxs(Wt,{children:[a.jsx(Zt,{className:"pb-3",children:a.jsxs(en,{className:"text-lg flex items-center gap-2",children:[a.jsx(cr,{className:"h-5 w-5 text-green-500"}),"Total Gasto"]})}),a.jsxs(Ht,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:ce(V(p).totalGasto)}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor total gasto"})]})]})]}),a.jsxs(Wt,{children:[a.jsx(Zt,{children:a.jsxs(en,{className:"text-lg flex items-center gap-2",children:[a.jsx(Us,{className:"h-5 w-5 text-purple-500"}),"Informações de Contato"]})}),a.jsxs(Ht,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ea,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:p.telefone}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>le(p.telefone),className:"h-6 w-6 ml-auto",children:a.jsx(Lh,{className:"h-3 w-3"})})]}),p.email&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sa,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:p.email}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>le(p.email),className:"h-6 w-6 ml-auto",children:a.jsx(Lh,{className:"h-3 w-3"})})]}),p.endereco&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(xp,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{children:p.endereco})]})]})]})]})]})})})]})},lX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(wr),{data:r,loading:s,save:o,remove:i}=lg(),{data:l}=Oc(),{save:c}=th(),{config:u}=a1(),[d,f]=g.useState(""),[p,m]=g.useState("Todos"),[y,x]=g.useState("grid"),[S,_]=g.useState(null),[v,b]=g.useState({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),{toast:j}=xr();console.log("[OS] ===== DADOS CARREGADOS ====="),console.log("[OS] Ordens:",r),console.log("[OS] Clientes:",l),console.log("[OS] Loading:",s);const R=(L=null)=>{L?(_(L),b({...L,valor:L.valor?L.valor.toString():""}),console.log("[OS] Editando OS:",L)):(_(null),b({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),console.log("[OS] Nova OS, formulário limpo")),e("os"),console.log("[OS] Dialog de OS aberto")},F=()=>{n("os"),console.log("[OS] Dialog de OS fechado")},E=async(L,B)=>{try{if(B==="add"){const $={descricao:`Recebimento da OS: ${L.numero}`,valor:parseFloat(L.valor),dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`os-${L.id}`};await c($),console.log("[OS] ✅ Entrada financeira criada:",$)}}catch($){console.error("[OS] ❌ Erro ao atualizar financeiro:",$)}},T=async L=>{if(L.preventDefault(),!v.clienteNome||!v.clienteTelefone||!v.titulo||!v.senha||!v.valor){j({title:"Erro",description:"Todos os campos obrigatórios devem ser preenchidos!",variant:"destructive"});return}try{const B={numero:S?S.numero:`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,...v,valor:parseFloat(v.valor),createdAt:S?S.createdAt:new Date().toISOString()};await o(B,S==null?void 0:S.id),j(S?{title:"Sucesso!",description:"OS atualizada com sucesso!"}:{title:"Sucesso!",description:"OS criada com sucesso!"}),B.status==="Concluída"?await E(B,"add"):await E(B,"remove"),b({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),_(null),F()}catch(B){console.error("[OS] ❌ Erro ao salvar OS:",B),j({title:"Erro",description:"Erro ao salvar ordem de serviço. Tente novamente.",variant:"destructive"})}},A=async L=>{try{const B=r==null?void 0:r.find($=>$.id===L);B&&await E(B,"remove"),await i(L),j({title:"Sucesso!",description:"OS removida com sucesso!"})}catch(B){console.error("[OS] ❌ Erro ao remover OS:",B),j({title:"Erro",description:"Erro ao remover ordem de serviço. Tente novamente.",variant:"destructive"})}},I=L=>{const B=new Date().toLocaleDateString("pt-BR"),$=L.numero||`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,M=u||{},V=M.nomeEmpresa||"MultiSmart",G=M.descricao||"Manutenção e Comércio de Celulares e Tablets",K=M.endereco||"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",le=M.cnpj||"47.309.271/0001-97",ce=M.telefone||"(17)3345-1016",me=M.whatsapp||"(17)99157-1263",Ue=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Ordem de Serviço - ${$}</title>
          <meta charset="UTF-8">
          <style>
            @page {
              size: A4;
              margin: 0.5cm;
            }
            
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 0;
              color: #000; 
              font-size: 12px;
              line-height: 1.3;
            }
            
            .page {
              width: 21cm;
              height: 29.7cm;
              page-break-after: always;
              position: relative;
              border: 1px solid #ccc;
              box-sizing: border-box;
            }
            
            .page:last-child {
              page-break-after: avoid;
            }
            
            .cut-line {
              border-top: 2px dashed #000;
              margin: 14.85cm 0;
              position: relative;
            }
            
            .cut-line::before {
              content: "CORTE AQUI";
              position: absolute;
              top: -8px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 0 10px;
              font-size: 10px;
              font-weight: bold;
            }
            
            .os-container {
              padding: 20px;
              height: 14.35cm;
              box-sizing: border-box;
              position: relative;
            }
            
            .header {
              text-align: center;
              margin-bottom: 25px;
              border-bottom: 2px solid #000;
              padding-bottom: 15px;
            }
            
            .company-name {
              font-size: 28px;
              font-weight: bold;
              color: #2E8B57;
              margin-bottom: 5px;
              text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            }
            
            .company-subtitle {
              font-size: 14px;
              color: #666;
              margin-bottom: 10px;
            }
            
            .company-info {
              font-size: 11px;
              line-height: 1.4;
            }
            
            .os-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin: 20px 0;
              padding: 10px;
              background: #f5f5f5;
              border-radius: 5px;
            }
            
            .os-number {
              font-size: 24px;
              font-weight: bold;
              color: #2E8B57;
            }
            
            .os-date {
              font-size: 14px;
              font-weight: bold;
            }
            
            .form-section {
              display: grid;
              grid-template-columns: 1fr 1fr 1fr;
              gap: 20px;
              margin-bottom: 20px;
            }
            
            .form-column {
              display: flex;
              flex-direction: column;
            }
            
            .form-field {
              margin-bottom: 15px;
            }
            
            .form-label {
              font-weight: bold;
              font-size: 11px;
              margin-bottom: 5px;
              display: block;
            }
            
            .form-input {
              border: none;
              border-bottom: 1px solid #000;
              padding: 5px 0;
              font-size: 12px;
              width: 100%;
              background: transparent;
            }
            
            .form-textarea {
              border: 1px solid #ccc;
              padding: 8px;
              font-size: 11px;
              width: 100%;
              min-height: 60px;
              resize: none;
              background: #fafafa;
            }
            
            .phone-input {
              font-family: monospace;
              letter-spacing: 1px;
            }
            
            .terms-section {
              margin-top: 20px;
              padding: 15px;
              border: 1px solid #000;
              border-radius: 5px;
            }
            
            .terms-title {
              text-align: center;
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 15px;
              border-bottom: 1px dashed #000;
              padding-bottom: 5px;
            }
            
            .terms-list {
              list-style: none;
              padding: 0;
              margin: 0;
            }
            
            .terms-list li {
              margin-bottom: 8px;
              font-size: 11px;
              line-height: 1.4;
            }
            
            .dots-grid {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 5px;
              margin-top: 10px;
            }
            
            .dot {
              width: 8px;
              height: 8px;
              background: #000;
              border-radius: 50%;
              margin: 0 auto;
            }
            
            .footer-section {
              display: grid;
              grid-template-columns: 1fr 1fr 2fr;
              gap: 20px;
              margin-top: 20px;
              padding-top: 15px;
              border-top: 1px solid #000; 
            }
            
            .signature-line {
              border-bottom: 1px solid #000;
              padding: 5px 0;
              text-align: center;
              font-size: 11px;
              font-weight: bold;
            }
            
            .print-info {
              font-size: 10px;
              color: #666;
              text-align: center; 
              margin-top: 10px;
            }
            
            @media print {
              .page {
                border: none;
              }
              .cut-line {
                border-top: 2px dashed #000;
              }
            }
          </style>
        </head>
        <body>
          <!-- Primeira OS -->
          <div class="page">
            <div class="os-container">
              <div class="header">
                <div class="company-name">${V}</div>
                <div class="company-subtitle">${G}</div>
                <div class="company-info">
                  ${K}<br>
                  CNPJ: ${le} | Fone: ${ce} | WhatsApp: ${me}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${B}</div>
                <div class="os-number">N°O.S.: ${$}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${L.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitação/Reclamação:</label>
                    <div class="form-textarea">${L.observacoes||""}</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${L.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Serviços executados/peças:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${L.clienteTelefone||"(  )     -    "}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                </div>
              </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorização para execução de serviço ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias será sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados após análise serão comunicados posteriormente.</li>
                  <li>4 - Não haverá garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                </div>
              </div>
              
              <div class="footer-section">
                <div class="signature-line">Pin: ${L.senha||""}</div>
                <div class="signature-line">Senha: ${L.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>
          
          <!-- Linha de corte -->
          <div class="cut-line"></div>
          
          <!-- Segunda OS (cópia) -->
          <div class="page">
            <div class="os-container">
          <div class="header">
                <div class="company-name">${V}</div>
                <div class="company-subtitle">${G}</div>
                <div class="company-info">
                  ${K}<br>
                  CNPJ: ${le} | Fone: ${ce} | WhatsApp: ${me}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${B}</div>
                <div class="os-number">N°O.S.: ${$}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${L.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitação/Reclamação:</label>
                    <div class="form-textarea">${L.observacoes||""}</div>
                  </div>
          </div>
          
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${L.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Serviços executados/peças:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
            </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${L.clienteTelefone||"(  )     -    "}</div>
            </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
            </div>
            </div>
            </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorização para execução de serviço ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias será sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados após análise serão comunicados posteriormente.</li>
                  <li>4 - Não haverá garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
          </div>

              <div class="footer-section">
                <div class="signature-line">Pin: ${L.senha||""}</div>
                <div class="signature-line">Senha: ${L.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>

          <div class="print-info">
            Impresso em: ${new Date().toLocaleString("pt-BR")} | MultiSmart CRM System
          </div>
        </body>
      </html>
    `,Ae=window.open("","_blank","width=800,height=600");Ae.document.write(Ue),Ae.document.close(),Ae.focus(),setTimeout(()=>{Ae.print()},500)},k=L=>{const B=l.find($=>$.id===parseInt(L));B&&b({...v,clienteNome:B.nome,clienteTelefone:B.telefone})},N=(r||[]).filter(L=>{var M,V,G,K;const B=((M=L.clienteNome)==null?void 0:M.toLowerCase().includes(d.toLowerCase()))||((V=L.numero)==null?void 0:V.toLowerCase().includes(d.toLowerCase()))||((G=L.titulo)==null?void 0:G.toLowerCase().includes(d.toLowerCase()))||((K=L.clienteTelefone)==null?void 0:K.toLowerCase().includes(d.toLowerCase())),$=p==="Todos"||L.status===p;return B&&$}),P=L=>{switch(L){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Em Andamento":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluída":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},D={total:(r==null?void 0:r.length)||0,pendentes:(r==null?void 0:r.filter(L=>L.status==="Pendente").length)||0,emAndamento:(r==null?void 0:r.filter(L=>L.status==="Em Andamento").length)||0,concluidas:(r==null?void 0:r.filter(L=>L.status==="Concluída").length)||0,valorTotal:(r==null?void 0:r.reduce((L,B)=>L+(B.valor||0),0))||0};return a.jsxs("div",{className:"space-y-8",children:[a.jsx(Se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[a.jsx(Ca,{className:"h-10 w-10"}),"Ordens de Serviço"]}),a.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie e acompanhe todos os seus serviços"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(Q,{onClick:()=>x(y==="grid"?"list":"grid"),variant:"secondary",className:"bg-white/20 hover:bg-white/30 border-white/30",children:[y==="grid"?a.jsx($l,{className:"h-4 w-4 mr-2"}):a.jsx(Ca,{className:"h-4 w-4 mr-2"}),y==="grid"?"Lista":"Cards"]}),a.jsxs(Un,{open:t.os,onOpenChange:F,children:[a.jsxs(Q,{onClick:()=>R(),className:"bg-white text-blue-600 hover:bg-blue-50 shadow-lg",children:[a.jsx(Tr,{className:"h-5 w-5 mr-2"}),"Nova OS"]}),a.jsxs(Sn,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[a.jsx(En,{children:a.jsx(Cn,{children:S?"Editar OS":"Nova Ordem de Serviço"})}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.length>0&&a.jsxs("div",{children:[a.jsx(te,{children:"Selecionar Cliente Existente"}),a.jsxs(ct,{onValueChange:k,children:[a.jsx(it,{children:a.jsx(ut,{placeholder:"Escolha um cliente..."})}),a.jsx(at,{children:l.map(L=>a.jsxs(ae,{value:L.id.toString(),children:[L.nome," - ",L.telefone]},L.id))})]})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"clienteNome",children:"Nome do Cliente *"}),a.jsx(pe,{id:"clienteNome",value:v.clienteNome,onChange:L=>b({...v,clienteNome:L.target.value}),placeholder:"Nome do cliente",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"clienteTelefone",children:"Telefone do Cliente *"}),a.jsx(pe,{id:"clienteTelefone",value:v.clienteTelefone,onChange:L=>b({...v,clienteTelefone:L.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"titulo",children:"Descrição/Título *"}),a.jsx(pe,{id:"titulo",value:v.titulo,onChange:L=>b({...v,titulo:L.target.value}),placeholder:"Ex: Troca de tela, reparo de bateria...",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"senha",children:"Senha do Dispositivo *"}),a.jsx(pe,{id:"senha",value:v.senha,onChange:L=>b({...v,senha:L.target.value}),placeholder:"Senha ou PIN",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"valor",children:"Valor do Serviço (R$) *"}),a.jsx(pe,{id:"valor",type:"number",step:"0.01",value:v.valor,onChange:L=>b({...v,valor:L.target.value}),placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"status",children:"Status"}),a.jsxs(ct,{value:v.status,onValueChange:L=>b({...v,status:L}),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"Pendente",children:"Pendente"}),a.jsx(ae,{value:"Em Andamento",children:"Em Andamento"}),a.jsx(ae,{value:"Concluída",children:"Concluída"})]})]})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"observacoes",children:"Observações"}),a.jsx(pd,{id:"observacoes",value:v.observacoes,onChange:L=>b({...v,observacoes:L.target.value}),placeholder:"Observações adicionais",rows:3})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{type:"submit",className:"flex-1",children:S?"Atualizar":"Criar OS"}),a.jsx(Q,{type:"button",variant:"outline",onClick:F,children:"Cancelar"})]})]})]})]})]})]})}),a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:D.total})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(Us,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Pendentes"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:D.pendentes})]}),a.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:a.jsx(ei,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Em Andamento"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:D.emAndamento})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(Ca,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Concluídas"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:D.concluidas})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(vp,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Valor Total"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D.valorTotal)})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Tn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})]}),a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx(pe,{placeholder:"Buscar por cliente, número, descrição ou telefone...",value:d,onChange:L=>f(L.target.value),className:"pl-12 h-12 text-lg"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ct,{value:p,onValueChange:m,children:[a.jsxs(it,{className:"w-48 h-12",children:[a.jsx(Iw,{className:"h-4 w-4 mr-2"}),a.jsx(ut,{})]}),a.jsxs(at,{children:[a.jsx(ae,{value:"Todos",children:"Todos os Status"}),a.jsx(ae,{value:"Pendente",children:"Pendentes"}),a.jsx(ae,{value:"Em Andamento",children:"Em Andamento"}),a.jsx(ae,{value:"Concluída",children:"Concluídas"})]})]}),a.jsxs(Q,{variant:"outline",className:"h-12",children:[a.jsx(yp,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})}),a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:s?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Carregando ordens de serviço..."})]}):a.jsx(a.Fragment,{children:y==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((L,B)=>a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:B*.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-xl",children:L.numero}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${P(L.status)}`,children:L.status})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>I(L),className:"h-10 w-10 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:a.jsx(wp,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>R(L),className:"h-10 w-10 hover:bg-green-100 dark:hover:bg-green-900/30",children:a.jsx(ps,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>A(L.id),className:"h-10 w-10 hover:bg-red-100 dark:hover:bg-red-900/30",children:a.jsx(Hr,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:a.jsx(qr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:L.clienteNome}),a.jsxs("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[a.jsx(Ea,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:L.clienteTelefone})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:a.jsx(ez,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsx("div",{children:a.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-sm",children:L.titulo})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:a.jsx(Tn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsx("div",{children:a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:L.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L.valor):"R$ 0,00"})})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:a.jsx(dd,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Senha: ",a.jsx("span",{className:"font-mono font-semibold",children:L.senha})]})})]}),L.observacoes&&a.jsx("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:L.observacoes})}),a.jsxs("div",{className:"flex items-center space-x-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(da,{className:"h-4 w-4 text-slate-400"}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Criada em: ",new Date(L.createdAt).toLocaleDateString("pt-BR")]})]})]})]},L.id))}):a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"OS"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Serviço"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Valor"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Data"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:N.map((L,B)=>a.jsxs(Se.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:B*.05},className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:L.numero})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:L.clienteNome}),a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:L.clienteTelefone})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-slate-900 dark:text-white max-w-xs truncate",children:L.titulo})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${P(L.status)}`,children:L.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:L.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L.valor):"R$ 0,00"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(L.createdAt).toLocaleDateString("pt-BR")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>I(L),className:"h-8 w-8",children:a.jsx(wp,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>R(L),className:"h-8 w-8",children:a.jsx(ps,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>A(L.id),className:"h-8 w-8 text-red-500 hover:text-red-700",children:a.jsx(Hr,{className:"h-4 w-4"})})]})})]},L.id))})]})})})})}),!s&&N.length===0&&a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700",children:[a.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:a.jsx(Us,{className:"h-10 w-10 text-slate-400"})}),a.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:d||p!=="Todos"?"Nenhuma OS encontrada":"Nenhuma OS cadastrada"}),a.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-6 max-w-md mx-auto",children:d||p!=="Todos"?"Tente ajustar os filtros ou buscar com outros termos":"Comece criando sua primeira ordem de serviço e organize seus atendimentos"}),!d&&p==="Todos"&&a.jsxs(Q,{onClick:()=>R(),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[a.jsx(Tr,{className:"h-5 w-5 mr-2"}),"Criar Primeira OS"]})]})]})},cX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(wr),{toast:r}=xr(),{data:s,save:o,remove:i}=Jd(),{data:l}=Oc(),{data:c,save:u}=Zd(),{data:d}=eh(),{save:f}=i1(),[p,m]=g.useState(""),[y,x]=g.useState("todas"),[S,_]=g.useState(""),[v,b]=g.useState([]),[j,R]=g.useState(null),[F,E]=g.useState("selecionar"),[T,A]=g.useState(""),[I,k]=g.useState([]),[N,P]=g.useState(!1);g.useState(""),g.useState([]),g.useState(!1);const[D,L]=g.useState({}),[B,$]=g.useState({}),[M,V]=g.useState({}),[G,K]=g.useState(!1),[le,ce]=g.useState([]),[me,Ue]=g.useState({tipo:"porcentagem",valor:0}),[Ae,ue]=g.useState(!1),[Ie,Ge]=g.useState("recentes");g.useState(!1);const[q,de]=g.useState(null),[ne,ke]=g.useState({clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0});g.useEffect(()=>{console.log("[OV] Clientes carregados:",l),console.log("[OV] Produtos carregados:",c),console.log("[OV] Categorias carregadas:",d),console.log("[OV] Ordens carregadas:",s)},[l,c,d,s]);const Le=async z=>{try{await o(z),r({title:"Sucesso!",description:"Ordem de Venda criada com sucesso!"})}catch(se){console.error("[OV] Erro ao salvar OV:",se),r({title:"Erro!",description:"Erro ao criar Ordem de Venda.",variant:"destructive"})}},Ye=(z=null)=>{de(z),ke(z?{clienteId:z.clienteId,clienteNome:z.clienteNome,produtos:z.produtos,status:z.status,total:z.total}:{clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0}),e("ov")},tt=()=>{de(null),n("ov"),console.log("[OV] Dialog de OV fechado")},nt=z=>z.reduce((se,oe)=>se+oe.preco*oe.quantidade,0),gt=(z,se,oe)=>{const ge=[...ne.produtos];if(se==="produtoId"){const U=c.find(Y=>Y.id===oe);U&&(ge[z]={...ge[z],produtoId:oe,nome:U.nome,preco:U.preco})}else ge[z][se]=se==="quantidade"||se==="preco"?parseFloat(oe)||0:oe;const Kn=nt(ge);ke({...ne,produtos:ge,total:Kn})},It=()=>{ke({...ne,produtos:[...ne.produtos,{produtoId:"",nome:"",preco:0,quantidade:1}]})},ht=z=>{const se=ne.produtos.filter((ge,Kn)=>Kn!==z),oe=nt(se);ke({...ne,produtos:se,total:oe})},lt=(z,se)=>{const oe=JSON.parse(localStorage.getItem("crm_financeiro")||"[]");let ge=oe;if(se==="add"){if(!oe.find(U=>U.origemId===`ov-${z.id}`)){const U={id:Date.now(),descricao:`Recebimento da OV: ${z.numero}`,valor:z.total,dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`ov-${z.id}`,createdAt:new Date().toISOString()};ge=[...oe,U]}}else se==="remove"&&(ge=oe.filter(Kn=>Kn.origemId!==`ov-${z.id}`));localStorage.setItem("crm_financeiro",JSON.stringify(ge)),window.dispatchEvent(new Event("storage"))},nr=async z=>{if(z.preventDefault(),!ne.clienteNome||ne.produtos.length===0||ne.produtos.some(oe=>!oe.nome)){r({title:"Erro",description:"Cliente e pelo menos um produto são obrigatórios!",variant:"destructive"});return}const se={numero:q?q.numero:`OV${String(s.length+1).padStart(4,"0")}`,...ne,createdAt:q?q.createdAt:new Date().toISOString()};try{q?(await o(se,q.id),r({title:"Sucesso!",description:"OV atualizada com sucesso!"})):(await o(se),r({title:"Sucesso!",description:"OV criada com sucesso!"})),se.status==="Concluída"?lt(se,"add"):lt(se,"remove"),tt()}catch(oe){console.error("[OV] Erro ao salvar OV:",oe),r({title:"Erro!",description:"Erro ao salvar OV.",variant:"destructive"})}},J=async z=>{try{const se=s.find(oe=>oe.id===z);if(!se){r({title:"Erro!",description:"OV não encontrada",variant:"destructive"});return}lt(se,"remove"),await i(z),r({title:"Sucesso!",description:"OV removida com sucesso!"}),console.log(`✅ OV ${se.numero} removida com sucesso`)}catch(se){console.error("❌ Erro ao excluir OV:",se),r({title:"Erro!",description:"Erro ao excluir a OV. Tente novamente.",variant:"destructive"})}},Z=z=>{if(A(z),z.length>0){const se=l.filter(oe=>{var ge;return oe.nome.toLowerCase().includes(z.toLowerCase())||oe.telefone.includes(z)||((ge=oe.email)==null?void 0:ge.toLowerCase().includes(z.toLowerCase()))});k(se),P(!0)}else k([]),P(!1)},re=z=>{R(z),A(z.nome),P(!1)},we=(z,se)=>{if(L(oe=>({...oe,[z]:se})),se.length>0){const oe=c.filter(ge=>ge.nome.toLowerCase().includes(se.toLowerCase())||ge.codigo.toLowerCase().includes(se.toLowerCase()));$(ge=>({...ge,[z]:oe})),V(ge=>({...ge,[z]:!0}))}else $(oe=>({...oe,[z]:[]})),V(oe=>({...oe,[z]:!1}))},_e=(z,se)=>{gt(z,"produtoId",se.id),L(oe=>({...oe,[z]:se.nome})),V(oe=>({...oe,[z]:!1}))};g.useEffect(()=>{F!=="selecionar"&&(A(""),k([]),P(!1))},[F]),g.useEffect(()=>{t.ov||(A(""),k([]),P(!1),L({}),$({}),V({}))},[t.ov]);const Ke=z=>{const se=v.find(oe=>oe.id===z.id);b(se?v.map(oe=>oe.id===z.id?{...oe,quantidade:oe.quantidade+1}:oe):[...v,{...z,quantidade:1}]),r({title:"Produto adicionado!",description:`${z.nome} foi adicionado ao carrinho`})},qe=z=>{b(v.filter(se=>se.id!==z)),r({title:"Produto removido!",description:"Produto removido do carrinho"})},st=(z,se)=>{if(se<=0){qe(z);return}b(v.map(oe=>oe.id===z?{...oe,quantidade:se}:oe))},ft=()=>v.reduce((z,se)=>z+se.preco*se.quantidade,0),Vt=()=>{if(v.length===0){r({title:"Carrinho vazio!",description:"Adicione produtos ao carrinho antes de finalizar",variant:"destructive"});return}if(!j){r({title:"Cliente não informado!",description:"Selecione um cliente antes de finalizar",variant:"destructive"});return}K(!0)},xn=()=>{b([]),R(null),setClienteDigitado(""),E("selecionar"),ce([]),Ue({tipo:"porcentagem",valor:0}),r({title:"Venda cancelada",description:"Carrinho limpo"})},Gn=()=>{ce([...le,{id:Date.now(),tipo:"dinheiro",valor:0,observacao:""}])},Jr=z=>{ce(le.filter(se=>se.id!==z))},br=(z,se,oe)=>{ce(le.map(ge=>ge.id===z?{...ge,[se]:oe}:ge))},on=()=>{const z=ft();return me.tipo==="porcentagem"?z*(1-me.valor/100):Math.max(0,z-me.valor)},rr=()=>le.reduce((z,se)=>z+se.valor,0),Zr=async z=>{try{for(const se of z){const oe=c.find(ge=>ge.id===se.produtoId);if(oe){const ge=oe.quantidade-se.quantidade;await u({...oe,quantidade:ge},oe.id),await f({produtoId:se.produtoId,produto:se.nome,tipo:"saida",quantidade:se.quantidade,observacao:`Venda - OV ${s.length+1}`,data:new Date().toISOString(),usuario:"Sistema",createdAt:new Date().toISOString()}),console.log(`✅ Baixa realizada: ${se.nome} - ${se.quantidade} unidades`)}}r({title:"Estoque atualizado!",description:"Baixa realizada com sucesso no estoque"})}catch(se){console.error("❌ Erro ao dar baixa no estoque:",se),r({title:"Erro no estoque!",description:"Erro ao atualizar o estoque. Verifique manualmente.",variant:"destructive"})}},ro=async()=>{const z=on(),se=rr();if(se<z){r({title:"Valor insuficiente!",description:`Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z)} | Pago: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(se)}`,variant:"destructive"});return}const oe={numero:`OV${String(s.length+1).padStart(4,"0")}`,clienteId:j.id||null,clienteNome:j.nome,produtos:v.map(ge=>({produtoId:ge.id,nome:ge.nome,preco:ge.preco,quantidade:ge.quantidade})),status:"Concluída",total:z,desconto:me,formasPagamento:le,troco:se-z,createdAt:new Date().toISOString()};try{await Le(oe),await Zr(v),lt(oe,"add"),b([]),R(null),setClienteDigitado(""),E("selecionar"),ce([]),Ue({tipo:"porcentagem",valor:0}),K(!1),r({title:"Venda finalizada!",description:`OV criada com sucesso. Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z)}. Estoque atualizado.`})}catch(ge){console.error("[OV] Erro ao finalizar pagamento:",ge),r({title:"Erro!",description:"Erro ao finalizar a venda.",variant:"destructive"})}},Es=c.filter(z=>{const se=z.nome.toLowerCase().includes(p.toLowerCase())||z.codigo.toLowerCase().includes(p.toLowerCase()),oe=y==="todas"||z.categoriaId===y;return se&&oe}),sl=new Date().toISOString().slice(0,10),qt=s.filter(z=>{var oe,ge;return((oe=z.createdAt)!=null&&oe.toDate?z.createdAt.toDate().toISOString().slice(0,10):(ge=z.createdAt)==null?void 0:ge.slice(0,10))===sl}).sort((z,se)=>{var Kn,U;const oe=(Kn=z.createdAt)!=null&&Kn.toDate?z.createdAt.toDate():new Date(z.createdAt),ge=(U=se.createdAt)!=null&&U.toDate?se.createdAt.toDate():new Date(se.createdAt);return Ie==="recentes"?ge-oe:oe-ge}),so=qt.filter(z=>z.clienteNome.toLowerCase().includes(S.toLowerCase())||z.numero.toLowerCase().includes(S.toLowerCase())),es=z=>{switch(z){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Processando":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluída":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelada":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Ordens de Venda"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Catálogo de produtos e carrinho de vendas"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Un,{open:t.ov,onOpenChange:tt,children:[a.jsxs(Q,{onClick:()=>Ye(),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Nova OV Manual"]}),a.jsxs(Sn,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(En,{children:a.jsxs(Cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(cs,{className:"h-6 w-6 text-blue-500"}),q?"Editar OV":"Nova Ordem de Venda"]})}),a.jsxs("form",{onSubmit:nr,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(qr,{className:"h-5 w-5 text-blue-500"}),"Informações do Cliente"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Cliente Cadastrado"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(pe,{value:T,onChange:z=>Z(z.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),a.jsx(Nr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),N&&I.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:I.map(z=>a.jsx("div",{onClick:()=>{ke({...ne,clienteId:z.id.toString(),clienteNome:z.nome}),A(z.nome),P(!1)},className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx(qr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:z.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:[z.telefone," ",z.email&&`• ${z.email}`]})]})]})},z.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome, telefone ou email do cliente para buscar"}),l.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Cadastre clientes no módulo Clientes primeiro"})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"clienteNome",className:"text-sm font-medium",children:"Nome do Cliente"}),a.jsx(pe,{id:"clienteNome",value:ne.clienteNome,onChange:z=>ke({...ne,clienteNome:z.target.value}),placeholder:"Digite o nome do cliente",className:"mt-1",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use este campo se o cliente não estiver cadastrado"})]})]}),ne.clienteNome&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["✅ Cliente: ",a.jsx("span",{className:"font-semibold",children:ne.clienteNome})]})})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(hr,{className:"h-5 w-5 text-green-500"}),"Produtos"]}),a.jsxs(Q,{type:"button",onClick:It,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[a.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Adicionar Produto"]})]}),a.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:ne.produtos.map((z,se)=>{var oe;return a.jsxs("div",{className:"bg-white dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white",children:["Produto ",se+1]}),ne.produtos.length>1&&a.jsx(Q,{type:"button",variant:"ghost",size:"icon",onClick:()=>ht(se),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Hr,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Produto Cadastrado"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx(pe,{value:D[se]||"",onChange:ge=>we(se,ge.target.value),placeholder:"Digite o nome ou código do produto...",className:"pr-10"}),a.jsx(Nr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),M[se]&&((oe=B[se])==null?void 0:oe.length)>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:B[se].map(ge=>a.jsx("div",{onClick:()=>_e(se,ge),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[ge.imagem&&a.jsx("img",{src:ge.imagem,alt:ge.nome,className:"w-8 h-8 object-cover rounded border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:ge.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Código: ",ge.codigo," | Estoque: ",ge.quantidade," | ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ge.preco)]})]})]})},ge.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome ou código do produto para buscar"}),c.length===0&&a.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Cadastre produtos no módulo Estoque primeiro"})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Nome do Produto"}),a.jsx(pe,{value:z.nome,onChange:ge=>gt(se,"nome",ge.target.value),placeholder:"Nome do produto",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Preço Unitário"}),a.jsx(pe,{type:"number",step:"0.01",value:z.preco,onChange:ge=>gt(se,"preco",ge.target.value),placeholder:"0.00",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Quantidade"}),a.jsx(pe,{type:"number",min:"1",value:z.quantidade,onChange:ge=>gt(se,"quantidade",ge.target.value),className:"mt-1"})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Subtotal:"}),a.jsx("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z.preco*z.quantidade)})]})})]},se)})})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"status",className:"text-sm font-medium",children:"Status da OV"}),a.jsxs(ct,{value:ne.status,onValueChange:z=>ke({...ne,status:z}),className:"mt-1",children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"Pendente",children:"Pendente"}),a.jsx(ae,{value:"Processando",children:"Processando"}),a.jsx(ae,{value:"Concluída",children:"Concluída"}),a.jsx(ae,{value:"Cancelada",children:"Cancelada"})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Total da OV"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ne.total)})]})})]})}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2",children:q?"Atualizar OV":"Criar OV"}),a.jsx(Q,{type:"button",variant:"outline",onClick:tt,className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(Q,{onClick:()=>ue(!0),variant:"outline",className:"border-blue-500 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:["Ver OVs do Dia (",qt.length,")"]})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(pe,{placeholder:"Buscar produtos...",value:p,onChange:z=>m(z.target.value),className:"pl-10"})]}),a.jsxs(ct,{value:y,onValueChange:x,children:[a.jsx(it,{className:"w-48",children:a.jsx(ut,{placeholder:"Categoria"})}),a.jsxs(at,{children:[a.jsx(ae,{value:"todas",children:"Todas as categorias"}),d.map(z=>a.jsx(ae,{value:z.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:z.cor}}),z.nome]})},z.id))]})]})]}),a.jsx("div",{className:"space-y-6",children:d.map(z=>{const se=Es.filter(oe=>oe.categoriaId===z.id);return se.length===0?null:a.jsxs("div",{children:[a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 border rounded-lg p-3 mb-4",style:{borderColor:z.cor},children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:z.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:z.nome}),a.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[se.length," produtos"]})]})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:se.map((oe,ge)=>a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ge*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"flex gap-3",children:[oe.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:oe.imagem,alt:oe.nome,className:"w-16 h-16 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:oe.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",oe.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Tn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(oe.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(hr,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${oe.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[oe.quantidade," ",oe.quantidade<=5&&"(Baixo)"]})]})]}),a.jsxs(Q,{size:"sm",onClick:()=>Ke(oe),className:"w-full mt-2 bg-green-500 hover:bg-green-600 text-white",disabled:oe.quantidade<=0,children:[a.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})]})},oe.id))})]},z.id)})}),Es.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(hr,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:p?"Nenhum produto encontrado":"Nenhum produto cadastrado"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:p?"Tente buscar com outros termos":"Cadastre produtos no módulo de Estoque"})]})]}),a.jsxs("div",{className:"w-80 bg-white dark:bg-slate-800 rounded-lg border p-4 h-fit sticky top-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(cs,{className:"h-5 w-5"}),"Carrinho"]}),v.length>0&&a.jsx(Q,{size:"sm",variant:"outline",onClick:xn,children:a.jsx(vr,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs(te,{className:"text-sm font-medium",children:["Cliente ",l.length>0&&`(${l.length} cadastrados)`]}),a.jsx("div",{className:"mb-2",children:a.jsx("span",{className:"text-xs text-slate-500",children:l.length===0?"Nenhum cliente encontrado":`${l.length} cliente(s) disponível(is)`})}),a.jsx("div",{className:"space-y-2 mb-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(pe,{value:T,onChange:z=>Z(z.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),a.jsx(Nr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),N&&I.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:I.map(z=>a.jsx("div",{onClick:()=>re(z),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:a.jsx(qr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:z.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:[z.telefone," ",z.email&&`• ${z.email}`]})]})]})},z.id))})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"💡 Digite o nome, telefone ou email do cliente para buscar"}),j&&a.jsxs("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:["✅ Cliente selecionado: ",j.nome]}),l.length===0&&a.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:"⚠️ Nenhum cliente cadastrado. Digite o nome do cliente abaixo."})]})})]}),a.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:v.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(cs,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Seu carrinho está vazio"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Adicione produtos do catálogo"})]}):v.map(z=>a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:z.nome}),a.jsx("p",{className:"text-xs text-slate-500",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z.preco)})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>st(z.id,z.quantidade-1),className:"h-6 w-6 p-0",children:a.jsx(K9,{className:"h-3 w-3"})}),a.jsx("span",{className:"text-sm w-6 text-center",children:z.quantidade}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>st(z.id,z.quantidade+1),className:"h-6 w-6 p-0",children:a.jsx(Tr,{className:"h-3 w-3"})})]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>qe(z.id),className:"h-6 w-6 p-0 text-red-500",children:a.jsx(vr,{className:"h-3 w-3"})})]},z.id))}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"font-semibold",children:"Total:"}),a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",ft().toFixed(2)]})]}),a.jsx(Q,{onClick:Vt,className:"w-full bg-green-600 hover:bg-green-700",disabled:v.length===0||!j,children:"Finalizar Venda"})]})]})]}),a.jsx(Un,{open:Ae,onOpenChange:ue,children:a.jsxs(Sn,{className:"max-w-7xl max-h-[95vh] flex flex-col bg-white dark:bg-slate-900",children:[a.jsxs(En,{className:"pb-4 flex-shrink-0",children:[a.jsxs(Cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(cs,{className:"h-6 w-6 text-blue-500"}),"Ordens de Venda do Dia",a.jsxs("span",{className:"text-lg font-normal text-slate-500",children:["(",qt.length," OVs)"]})]}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Todas as ordens de venda criadas hoje (",new Date().toLocaleDateString("pt-BR"),")"]})]}),a.jsxs("div",{className:"mb-6 space-y-4 flex-shrink-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(pe,{placeholder:"Buscar OVs por cliente ou número...",value:S,onChange:z=>_(z.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(te,{className:"text-sm font-medium",children:"Ordenar por:"}),a.jsxs(ct,{value:Ie,onValueChange:Ge,children:[a.jsx(it,{className:"w-48",children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"recentes",children:"Mais Recentes"}),a.jsx(ae,{value:"antigas",children:"Mais Antigas"})]})]})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[so.length," OV(s) encontrada(s)"]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",maxHeight:"calc(95vh - 200px)"},children:[a.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),so.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(cs,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-slate-900 dark:text-white mb-2",children:S?"Nenhuma OV encontrada":"Nenhuma OV criada hoje"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:S?"Tente buscar com outros termos":"As OVs criadas hoje aparecerão aqui"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:so.map((z,se)=>{var oe;return a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:se*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:z.numero}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${es(z.status)}`,children:z.status})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>Ye(z),className:"h-7 w-7 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/20",children:a.jsx(ps,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>J(z.id),className:"h-7 w-7 p-0 text-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20",children:a.jsx(Hr,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(qr,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:z.clienteNome})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[a.jsx(cs,{className:"h-4 w-4"}),a.jsxs("span",{children:[z.produtos.length," produto(s)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tn,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z.total)})]})]}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date((oe=z.createdAt)!=null&&oe.toDate?z.createdAt.toDate():z.createdAt).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})})]}),a.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:a.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:z.produtos.map((ge,Kn)=>a.jsxs("div",{className:"flex justify-between items-center text-xs bg-slate-50 dark:bg-slate-700/50 p-2 rounded",children:[a.jsx("span",{className:"font-medium truncate flex-1 mr-2",children:ge.nome}),a.jsxs("span",{className:"text-slate-500 whitespace-nowrap",children:[ge.quantidade,"x ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ge.preco)]})]},Kn))})})]})},z.id)})})]})]})}),a.jsx(Un,{open:G,onOpenChange:K,children:a.jsxs(Sn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[a.jsx(En,{children:a.jsx(Cn,{children:"Finalizar Venda - Formas de Pagamento"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Resumo da Venda"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cliente:"}),a.jsx("span",{className:"font-medium",children:j==null?void 0:j.nome})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Original:"}),a.jsxs("span",{children:["R$ ",ft().toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Desconto:"}),a.jsx("span",{className:"text-red-600",children:me.valor>0?me.tipo==="porcentagem"?`${me.valor}% (${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ft()*me.valor/100)})`:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(me.valor):a.jsx("span",{className:"text-slate-500",children:"Nenhum desconto"})})]}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[a.jsx("span",{children:"Total Final:"}),a.jsxs("span",{className:"text-green-600",children:["R$ ",on().toFixed(2)]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold",children:"Desconto"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ct,{value:me.tipo,onValueChange:z=>Ue({...me,tipo:z}),children:[a.jsx(it,{className:"w-32",children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"porcentagem",children:"%"}),a.jsx(ae,{value:"valor",children:"R$"})]})]}),a.jsx(pe,{type:"number",step:me.tipo==="porcentagem"?"1":"0.01",min:"0",max:me.tipo==="porcentagem"?"100":ft(),value:me.valor,onChange:z=>Ue({...me,valor:parseFloat(z.target.value)||0}),placeholder:"0",className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold",children:"Formas de Pagamento"}),a.jsxs(Q,{size:"sm",onClick:Gn,children:[a.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),a.jsx("div",{className:"space-y-3",children:le.map((z,se)=>a.jsxs("div",{className:"flex gap-3 items-center p-3 border rounded-lg",children:[a.jsxs(ct,{value:z.tipo,onValueChange:oe=>br(z.id,"tipo",oe),children:[a.jsx(it,{className:"w-32",children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"dinheiro",children:"Dinheiro"}),a.jsx(ae,{value:"cartao_debito",children:"Cartão Débito"}),a.jsx(ae,{value:"cartao_credito",children:"Cartão Crédito"}),a.jsx(ae,{value:"pix",children:"PIX"}),a.jsx(ae,{value:"cheque",children:"Cheque"}),a.jsx(ae,{value:"outros",children:"Outros"})]})]}),a.jsx(pe,{type:"number",step:"0.01",min:"0",value:z.valor,onChange:oe=>br(z.id,"valor",parseFloat(oe.target.value)||0),placeholder:"Valor",className:"flex-1"}),a.jsx(pe,{value:z.observacao,onChange:oe=>br(z.id,"observacao",oe.target.value),placeholder:"Observação",className:"flex-1"}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Jr(z.id),className:"text-red-500",children:a.jsx(vr,{className:"h-4 w-4"})})]},z.id))})]}),a.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Pago:"}),a.jsxs("span",{className:"font-semibold",children:["R$ ",rr().toFixed(2)]})]}),rr()>on()&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Troco:"}),a.jsxs("span",{className:"font-semibold",children:["R$ ",(rr()-on()).toFixed(2)]})]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Q,{onClick:ro,className:"flex-1 bg-green-600 hover:bg-green-700",disabled:le.length===0||rr()<on(),children:"Finalizar Pagamento"}),a.jsx(Q,{variant:"outline",onClick:()=>K(!1),className:"flex-1",children:"Cancelar"})]})]})]})})]})};var cg={exports:{}},zO={};function UO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=UO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function XT(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=UO(t))&&(r&&(r+=" "),r+=e);return r}const uX=Object.freeze(Object.defineProperty({__proto__:null,clsx:XT,default:XT},Symbol.toStringTag,{value:"Module"})),dX=QM(uX);var $t={},to={};Object.defineProperty(to,"__esModule",{value:!0});to.dontSetMe=gX;to.findInArray=hX;to.int=mX;to.isFunction=fX;to.isNum=pX;function hX(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function fX(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function pX(t){return typeof t=="number"&&!isNaN(t)}function mX(t){return parseInt(t,10)}function gX(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var rl={};Object.defineProperty(rl,"__esModule",{value:!0});rl.browserPrefixToKey=$O;rl.browserPrefixToStyle=vX;rl.default=void 0;rl.getPrefix=BO;const Hv=["Moz","Webkit","O","ms"];function BO(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Hv.length;r++)if($O(e,Hv[r])in n)return Hv[r];return""}function $O(t,e){return e?"".concat(e).concat(yX(t)):t}function vX(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function yX(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}rl.default=BO();Object.defineProperty($t,"__esModule",{value:!0});$t.addClassName=HO;$t.addEvent=bX;$t.addUserSelectStyles=IX;$t.createCSSTransform=kX;$t.createSVGTransform=jX;$t.getTouch=PX;$t.getTouchIdentifier=AX;$t.getTranslation=c1;$t.innerHeight=CX;$t.innerWidth=TX;$t.matchesSelector=WO;$t.matchesSelectorAndParentsTo=wX;$t.offsetXYFromParent=NX;$t.outerHeight=SX;$t.outerWidth=EX;$t.removeClassName=GO;$t.removeEvent=_X;$t.removeUserSelectStyles=RX;var Ir=to,JT=xX(rl);function qO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(qO=function(r){return r?n:e})(t)}function xX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=qO(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var i=s?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let ef="";function WO(t,e){return ef||(ef=(0,Ir.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Ir.isFunction)(t[n])})),(0,Ir.isFunction)(t[ef])?t[ef](e):!1}function wX(t,e,n){let r=t;do{if(WO(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function bX(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function _X(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function SX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Ir.int)(n.borderTopWidth),e+=(0,Ir.int)(n.borderBottomWidth),e}function EX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Ir.int)(n.borderLeftWidth),e+=(0,Ir.int)(n.borderRightWidth),e}function CX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Ir.int)(n.paddingTop),e-=(0,Ir.int)(n.paddingBottom),e}function TX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Ir.int)(n.paddingLeft),e-=(0,Ir.int)(n.paddingRight),e}function NX(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-s.left)/n,i=(t.clientY+e.scrollTop-s.top)/n;return{x:o,y:i}}function kX(t,e){const n=c1(t,e,"px");return{[(0,JT.browserPrefixToKey)("transform",JT.default)]:n}}function jX(t,e){return c1(t,e,"")}function c1(t,e,n){let{x:r,y:s}=t,o="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const i="".concat(typeof e.x=="string"?e.x:e.x+n),l="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(i,", ").concat(l,")")+o}return o}function PX(t,e){return t.targetTouches&&(0,Ir.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Ir.findInArray)(t.changedTouches,n=>e===n.identifier)}function AX(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function IX(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&HO(t.body,"react-draggable-transparent-selection")}function RX(t){if(t)try{if(t.body&&GO(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function HO(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function GO(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var no={};Object.defineProperty(no,"__esModule",{value:!0});no.canDragX=MX;no.canDragY=LX;no.createCoreData=VX;no.createDraggableData=zX;no.getBoundPosition=DX;no.getControlPosition=FX;no.snapToGrid=OX;var Sr=to,Ol=$t;function DX(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:UX(r);const s=u1(t);if(typeof r=="string"){const{ownerDocument:o}=s,i=o.defaultView;let l;if(r==="parent"?l=s.parentNode:l=o.querySelector(r),!(l instanceof i.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=l,u=i.getComputedStyle(s),d=i.getComputedStyle(c);r={left:-s.offsetLeft+(0,Sr.int)(d.paddingLeft)+(0,Sr.int)(u.marginLeft),top:-s.offsetTop+(0,Sr.int)(d.paddingTop)+(0,Sr.int)(u.marginTop),right:(0,Ol.innerWidth)(c)-(0,Ol.outerWidth)(s)-s.offsetLeft+(0,Sr.int)(d.paddingRight)-(0,Sr.int)(u.marginRight),bottom:(0,Ol.innerHeight)(c)-(0,Ol.outerHeight)(s)-s.offsetTop+(0,Sr.int)(d.paddingBottom)-(0,Sr.int)(u.marginBottom)}}return(0,Sr.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Sr.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Sr.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Sr.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function OX(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function MX(t){return t.props.axis==="both"||t.props.axis==="x"}function LX(t){return t.props.axis==="both"||t.props.axis==="y"}function FX(t,e,n){const r=typeof e=="number"?(0,Ol.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=u1(n),o=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Ol.offsetXYFromParent)(r||t,o,n.props.scale)}function VX(t,e,n){const r=!(0,Sr.isNum)(t.lastX),s=u1(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function zX(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function UX(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function u1(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var ug={},dg={};Object.defineProperty(dg,"__esModule",{value:!0});dg.default=BX;function BX(){}Object.defineProperty(ug,"__esModule",{value:!0});ug.default=void 0;var Gv=qX(g),sr=d1(cw),$X=d1(_s),Ln=$t,Ho=no,Kv=to,cu=d1(dg);function d1(t){return t&&t.__esModule?t:{default:t}}function KO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(KO=function(r){return r?n:e})(t)}function qX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=KO(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var i=s?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Yn(t,e,n){return e=WX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=HX(t,"string");return typeof e=="symbol"?e:String(e)}function HX(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ss={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Go=ss.mouse,hg=class extends Gv.Component{constructor(){super(...arguments),Yn(this,"dragging",!1),Yn(this,"lastX",NaN),Yn(this,"lastY",NaN),Yn(this,"touchIdentifier",null),Yn(this,"mounted",!1),Yn(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Ln.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Ln.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,Ln.getTouchIdentifier)(e);this.touchIdentifier=s;const o=(0,Ho.getControlPosition)(e,s,this);if(o==null)return;const{x:i,y:l}=o,c=(0,Ho.createCoreData)(this,i,l);(0,cu.default)("DraggableCore: handleDragStart: %j",c),(0,cu.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Ln.addUserSelectStyles)(r),this.dragging=!0,this.lastX=i,this.lastY=l,(0,Ln.addEvent)(r,Go.move,this.handleDrag),(0,Ln.addEvent)(r,Go.stop,this.handleDragStop))}),Yn(this,"handleDrag",e=>{const n=(0,Ho.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX,c=s-this.lastY;if([l,c]=(0,Ho.snapToGrid)(this.props.grid,l,c),!l&&!c)return;r=this.lastX+l,s=this.lastY+c}const o=(0,Ho.createCoreData)(this,r,s);if((0,cu.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),Yn(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,Ho.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,u=s-this.lastY||0;[c,u]=(0,Ho.snapToGrid)(this.props.grid,c,u),r=this.lastX+c,s=this.lastY+u}const o=(0,Ho.createCoreData)(this,r,s);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,Ln.removeUserSelectStyles)(l.ownerDocument),(0,cu.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,cu.default)("DraggableCore: Removing handlers"),(0,Ln.removeEvent)(l.ownerDocument,Go.move,this.handleDrag),(0,Ln.removeEvent)(l.ownerDocument,Go.stop,this.handleDragStop))}),Yn(this,"onMouseDown",e=>(Go=ss.mouse,this.handleDragStart(e))),Yn(this,"onMouseUp",e=>(Go=ss.mouse,this.handleDragStop(e))),Yn(this,"onTouchStart",e=>(Go=ss.touch,this.handleDragStart(e))),Yn(this,"onTouchEnd",e=>(Go=ss.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Ln.addEvent)(e,ss.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Ln.removeEvent)(n,ss.mouse.move,this.handleDrag),(0,Ln.removeEvent)(n,ss.touch.move,this.handleDrag),(0,Ln.removeEvent)(n,ss.mouse.stop,this.handleDragStop),(0,Ln.removeEvent)(n,ss.touch.stop,this.handleDragStop),(0,Ln.removeEvent)(e,ss.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ln.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:$X.default.findDOMNode(this)}render(){return Gv.cloneElement(Gv.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};ug.default=hg;Yn(hg,"displayName","DraggableCore");Yn(hg,"propTypes",{allowAnyClick:sr.default.bool,children:sr.default.node.isRequired,disabled:sr.default.bool,enableUserSelectHack:sr.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:sr.default.arrayOf(sr.default.number),handle:sr.default.string,cancel:sr.default.string,nodeRef:sr.default.object,onStart:sr.default.func,onDrag:sr.default.func,onStop:sr.default.func,onMouseDown:sr.default.func,scale:sr.default.number,className:Kv.dontSetMe,style:Kv.dontSetMe,transform:Kv.dontSetMe});Yn(hg,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=p(g),n=d(cw),r=d(_s),s=d(dX),o=$t,i=no,l=to,c=d(ug),u=d(dg);function d(v){return v&&v.__esModule?v:{default:v}}function f(v){if(typeof WeakMap!="function")return null;var b=new WeakMap,j=new WeakMap;return(f=function(R){return R?j:b})(v)}function p(v,b){if(!b&&v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var j=f(b);if(j&&j.has(v))return j.get(v);var R={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in v)if(E!=="default"&&Object.prototype.hasOwnProperty.call(v,E)){var T=F?Object.getOwnPropertyDescriptor(v,E):null;T&&(T.get||T.set)?Object.defineProperty(R,E,T):R[E]=v[E]}return R.default=v,j&&j.set(v,R),R}function m(){return m=Object.assign?Object.assign.bind():function(v){for(var b=1;b<arguments.length;b++){var j=arguments[b];for(var R in j)Object.prototype.hasOwnProperty.call(j,R)&&(v[R]=j[R])}return v},m.apply(this,arguments)}function y(v,b,j){return b=x(b),b in v?Object.defineProperty(v,b,{value:j,enumerable:!0,configurable:!0,writable:!0}):v[b]=j,v}function x(v){var b=S(v,"string");return typeof b=="symbol"?b:String(b)}function S(v,b){if(typeof v!="object"||v===null)return v;var j=v[Symbol.toPrimitive];if(j!==void 0){var R=j.call(v,b||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(v)}class _ extends e.Component{static getDerivedStateFromProps(b,j){let{position:R}=b,{prevPropsPosition:F}=j;return R&&(!F||R.x!==F.x||R.y!==F.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:F}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(b){super(b),y(this,"onDragStart",(j,R)=>{if((0,u.default)("Draggable: onDragStart: %j",R),this.props.onStart(j,(0,i.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(j,R)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",R);const F=(0,i.createDraggableData)(this,R),E={x:F.x,y:F.y,slackX:0,slackY:0};if(this.props.bounds){const{x:A,y:I}=E;E.x+=this.state.slackX,E.y+=this.state.slackY;const[k,N]=(0,i.getBoundPosition)(this,E.x,E.y);E.x=k,E.y=N,E.slackX=this.state.slackX+(A-E.x),E.slackY=this.state.slackY+(I-E.y),F.x=E.x,F.y=E.y,F.deltaX=E.x-this.state.x,F.deltaY=E.y-this.state.y}if(this.props.onDrag(j,F)===!1)return!1;this.setState(E)}),y(this,"onDragStop",(j,R)=>{if(!this.state.dragging||this.props.onStop(j,(0,i.createDraggableData)(this,R))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",R);const E={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:A,y:I}=this.props.position;E.x=A,E.y=I}this.setState(E)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,j;return(b=(j=this.props)===null||j===void 0||(j=j.nodeRef)===null||j===void 0?void 0:j.current)!==null&&b!==void 0?b:r.default.findDOMNode(this)}render(){const{axis:b,bounds:j,children:R,defaultPosition:F,defaultClassName:E,defaultClassNameDragging:T,defaultClassNameDragged:A,position:I,positionOffset:k,scale:N,...P}=this.props;let D={},L=null;const $=!!!I||this.state.dragging,M=I||F,V={x:(0,i.canDragX)(this)&&$?this.state.x:M.x,y:(0,i.canDragY)(this)&&$?this.state.y:M.y};this.state.isElementSVG?L=(0,o.createSVGTransform)(V,k):D=(0,o.createCSSTransform)(V,k);const G=(0,s.default)(R.props.className||"",E,{[T]:this.state.dragging,[A]:this.state.dragged});return e.createElement(c.default,m({},P,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(R),{className:G,style:{...R.props.style,...D},transform:L}))}}t.default=_,y(_,"displayName","Draggable"),y(_,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),y(_,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(zO);const{default:YO,DraggableCore:GX}=zO;cg.exports=YO;cg.exports.default=YO;cg.exports.DraggableCore=GX;var KX=cg.exports;const YX=Ka(KX);var Xt=globalThis&&globalThis.__assign||function(){return Xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Xt.apply(this,arguments)},ZT={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},eN={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},tf={width:"20px",height:"20px",position:"absolute",zIndex:1},QX={top:Xt(Xt({},ZT),{top:"-5px"}),right:Xt(Xt({},eN),{left:void 0,right:"-5px"}),bottom:Xt(Xt({},ZT),{top:void 0,bottom:"-5px"}),left:Xt(Xt({},eN),{left:"-5px"}),topRight:Xt(Xt({},tf),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Xt(Xt({},tf),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Xt(Xt({},tf),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Xt(Xt({},tf),{left:"-10px",top:"-10px",cursor:"nw-resize"})},XX=g.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,s=t.replaceStyles,o=t.className,i=g.useCallback(function(u){e(u,n)},[e,n]),l=g.useCallback(function(u){e(u,n)},[e,n]),c=g.useMemo(function(){return Xt(Xt({position:"absolute",userSelect:"none"},QX[n]),s??{})},[s,n]);return a.jsx("div",{className:o||void 0,style:c,onMouseDown:i,onTouchStart:l,children:r})}),JX=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),As=globalThis&&globalThis.__assign||function(){return As=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},As.apply(this,arguments)},ZX={width:"auto",height:"auto"},nf=function(t,e,n){return Math.max(Math.min(t,n),e)},tN=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},hl=function(t,e){return new RegExp(t,"i").test(e)},rf=function(t){return!!(t.touches&&t.touches.length)},eJ=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},nN=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(o,i,l){return Math.abs(i-t)<Math.abs(e[o]-t)?l:o},0),s=Math.abs(e[r]-t);return n===0||s<n?e[r]:t},Yv=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},sf=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var s=Number(t.replace("%",""))/100;return e*s}if(t.endsWith("vw")){var s=Number(t.replace("vw",""))/100;return n*s}if(t.endsWith("vh")){var s=Number(t.replace("vh",""))/100;return r*s}}return t},tJ=function(t,e,n,r,s,o,i){return r=sf(r,t.width,e,n),s=sf(s,t.height,e,n),o=sf(o,t.width,e,n),i=sf(i,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof i>"u"?void 0:Number(i)}},nJ=function(t){return Array.isArray(t)?t:[t,t]},rJ=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],rN="__resizable_base__",sJ=function(t){JX(e,t);function e(n){var r,s,o,i,l=t.call(this,n)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var c=l.parentNode;if(!c)return null;var u=l.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(rN):u.className+=rN,c.appendChild(u),u},l.removeBase=function(c){var u=l.parentNode;u&&u.removeChild(c)},l.state={isResizing:!1,width:(s=(r=l.propsSize)===null||r===void 0?void 0:r.width)!==null&&s!==void 0?s:"auto",height:(i=(o=l.propsSize)===null||o===void 0?void 0:o.height)!==null&&i!==void 0?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||ZX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,o=this.resizable.offsetHeight,i=this.resizable.style.position;i!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=i}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,s=function(l){var c;if(typeof n.state[l]>"u"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&(!((c=n.propsSize[l])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var u=n.getParentSize(),d=Number(n.state[l].toString().replace("px","")),f=d/u[l]*100;return"".concat(f,"%")}return Yv(n.state[l])},o=r&&typeof r.width<"u"&&!this.state.isResizing?Yv(r.width):s("width"),i=r&&typeof r.height<"u"&&!this.state.isResizing?Yv(r.height):s("height");return{width:o,height:i}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=s),this.removeBase(n),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var s=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof s>"u"||s==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var s=this.props.boundsByDirection,o=this.state.direction,i=s&&hl("left",o),l=s&&hl("top",o),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=i?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=l?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var s=this.props.scale||1,o=nJ(this.props.resizeRatio||1),i=o[0],l=o[1],c=this.state,u=c.direction,d=c.original,f=this.props,p=f.lockAspectRatio,m=f.lockAspectRatioExtraHeight,y=f.lockAspectRatioExtraWidth,x=d.width,S=d.height,_=m||0,v=y||0;return hl("right",u)&&(x=d.width+(n-d.x)*i/s,p&&(S=(x-v)/this.ratio+_)),hl("left",u)&&(x=d.width-(n-d.x)*i/s,p&&(S=(x-v)/this.ratio+_)),hl("bottom",u)&&(S=d.height+(r-d.y)*l/s,p&&(x=(S-_)*this.ratio+v)),hl("top",u)&&(S=d.height-(r-d.y)*l/s,p&&(x=(S-_)*this.ratio+v)),{newWidth:x,newHeight:S}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,s,o){var i=this.props,l=i.lockAspectRatio,c=i.lockAspectRatioExtraHeight,u=i.lockAspectRatioExtraWidth,d=typeof o.width>"u"?10:o.width,f=typeof s.width>"u"||s.width<0?n:s.width,p=typeof o.height>"u"?10:o.height,m=typeof s.height>"u"||s.height<0?r:s.height,y=c||0,x=u||0;if(l){var S=(p-y)*this.ratio+x,_=(m-y)*this.ratio+x,v=(d-x)/this.ratio+y,b=(f-x)/this.ratio+y,j=Math.max(d,S),R=Math.min(f,_),F=Math.max(p,v),E=Math.min(m,b);n=nf(n,j,R),r=nf(r,F,E)}else n=nf(n,d,f),r=nf(r,p,m);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var s=r.getBoundingClientRect();this.parentLeft=s.left*n,this.parentTop=s.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var i=this.resizable.getBoundingClientRect(),l=i.left,c=i.top,u=i.right,d=i.bottom;this.resizableLeft=l*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var s=0,o=0;if(n.nativeEvent&&eJ(n.nativeEvent)?(s=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&rf(n.nativeEvent)&&(s=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var i=this.props.onResizeStart(n,r,this.resizable);if(i===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",l=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:s,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:As(As({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(f)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&rf(n))try{n.preventDefault(),n.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,i=s.maxHeight,l=s.minWidth,c=s.minHeight,u=rf(n)?n.touches[0].clientX:n.clientX,d=rf(n)?n.touches[0].clientY:n.clientY,f=this.state,p=f.direction,m=f.original,y=f.width,x=f.height,S=this.getParentSize(),_=tJ(S,this.window.innerWidth,this.window.innerHeight,o,i,l,c);o=_.maxWidth,i=_.maxHeight,l=_.minWidth,c=_.minHeight;var v=this.calculateNewSizeFromDirection(u,d),b=v.newHeight,j=v.newWidth,R=this.calculateNewMaxFromBoundary(o,i);this.props.snap&&this.props.snap.x&&(j=nN(j,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=nN(b,this.props.snap.y,this.props.snapGap));var F=this.calculateNewSizeFromAspectRatio(j,b,{width:R.maxWidth,height:R.maxHeight},{width:l,height:c});if(j=F.newWidth,b=F.newHeight,this.props.grid){var E=tN(j,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),T=tN(b,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),A=this.props.snapGap||0,I=A===0||Math.abs(E-j)<=A?E:j,k=A===0||Math.abs(T-b)<=A?T:b;j=I,b=k}var N={width:j-m.width,height:b-m.height};if(this.delta=N,y&&typeof y=="string"){if(y.endsWith("%")){var P=j/S.width*100;j="".concat(P,"%")}else if(y.endsWith("vw")){var D=j/this.window.innerWidth*100;j="".concat(D,"vw")}else if(y.endsWith("vh")){var L=j/this.window.innerHeight*100;j="".concat(L,"vh")}}if(x&&typeof x=="string"){if(x.endsWith("%")){var P=b/S.height*100;b="".concat(P,"%")}else if(x.endsWith("vw")){var D=b/this.window.innerWidth*100;b="".concat(D,"vw")}else if(x.endsWith("vh")){var L=b/this.window.innerHeight*100;b="".concat(L,"vh")}}var B={width:this.createSizeForCssProperty(j,"width"),height:this.createSizeForCssProperty(b,"height")};this.flexDir==="row"?B.flexBasis=B.width:this.flexDir==="column"&&(B.flexBasis=B.height);var $=this.state.width!==B.width,M=this.state.height!==B.height,V=this.state.flexBasis!==B.flexBasis,G=$||M||V;G&&_s.flushSync(function(){r.setState(B)}),this.props.onResize&&G&&this.props.onResize(n,p,this.resizable,N)}},e.prototype.onMouseUp=function(n){var r,s,o=this.state,i=o.isResizing,l=o.direction;o.original,!(!i||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,l,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:As(As({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,s;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(s=n.height)!==null&&s!==void 0?s:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,s=r.enable,o=r.handleStyles,i=r.handleClasses,l=r.handleWrapperStyle,c=r.handleWrapperClass,u=r.handleComponent;if(!s)return null;var d=Object.keys(s).map(function(f){return s[f]!==!1?a.jsx(XX,{direction:f,onResizeStart:n.onResizeStart,replaceStyles:o&&o[f],className:i&&i[f],children:u&&u[f]?u[f]:null},f):null});return a.jsx("div",{className:c,style:l,children:d})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(i,l){return rJ.indexOf(l)!==-1||(i[l]=n.props[l]),i},{}),s=As(As(As({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return a.jsxs(o,As({style:s,className:this.props.className},r,{ref:function(i){i&&(n.resizable=i)},children:[this.state.isResizing&&a.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(g.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dx=function(t,e){return dx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},dx(t,e)};function oJ(t,e){dx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ln=function(){return ln=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ln.apply(this,arguments)};function iJ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var aJ={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},lJ=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}};(function(t){oJ(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,s=n.top,o=this.getDraggablePosition(),i=o.x,l=o.y;this.draggable.setState({x:i-r,y:l-s}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,s=n.y;return{x:r,y:s}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var s=this.getDraggablePosition();if(this.originalPosition=s,!!this.props.bounds){var o=this.getParent(),i=this.props.scale,l;if(this.props.bounds==="parent")l=o;else if(this.props.bounds==="body"){var c=o.getBoundingClientRect(),u=c.left,d=c.top,f=document.body.getBoundingClientRect(),p=-(u-o.offsetLeft*i-f.left)/i,m=-(d-o.offsetTop*i-f.top)/i,y=(document.body.offsetWidth-this.resizable.size.width*i)/i+p,x=(document.body.offsetHeight-this.resizable.size.height*i)/i+m;return this.setState({bounds:{top:m,right:y,bottom:x,left:p}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var S=o.getBoundingClientRect(),_=S.left,v=S.top,b=-(_-o.offsetLeft*i)/i,j=-(v-o.offsetTop*i)/i,y=(window.innerWidth-this.resizable.size.width*i)/i+b,x=(window.innerHeight-this.resizable.size.height*i)/i+j;return this.setState({bounds:{top:j,right:y,bottom:x,left:b}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(o instanceof HTMLElement))){var R=l.getBoundingClientRect(),F=R.left,E=R.top,T=o.getBoundingClientRect(),A=T.left,I=T.top,k=(F-A)/i,N=E-I;if(this.resizable){this.updateOffsetFromParent();var P=this.offsetFromParent;this.setState({bounds:{top:N-P.top,right:k+(l.offsetWidth-this.resizable.size.width)-P.left/i,bottom:N+(l.offsetHeight-this.resizable.size.height)-P.top,left:k-P.left/i}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var s=this.offsetFromParent,o=s.left,i=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,ln(ln({},r),{x:r.x+o,y:r.y+i}));if(this.props.dragAxis==="x")return this.props.onDrag(n,ln(ln({},r),{x:r.x+o,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,ln(ln({},r),{x:this.originalPosition.x+o,y:r.y+i,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var s=this.offsetFromParent,o=s.left,i=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,ln(ln({},r),{x:r.x+o,y:r.y+i}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,ln(ln({},r),{x:r.x+o,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,ln(ln({},r),{x:this.originalPosition.x+o,y:r.y+i,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,s){n.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,i=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+i.left,y:l.y+i.top},this.originalPosition=l,this.props.bounds){var c=this.getParent(),u=void 0;this.props.bounds==="parent"?u=c:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(u instanceof HTMLElement||u===window)&&c instanceof HTMLElement){var f=this.getMaxSizesFromProps(),p=f.maxWidth,m=f.maxHeight,y=this.getParentSize();if(p&&typeof p=="string")if(p.endsWith("%")){var x=Number(p.replace("%",""))/100;p=y.width*x}else p.endsWith("px")&&(p=Number(p.replace("px","")));if(m&&typeof m=="string")if(m.endsWith("%")){var x=Number(m.replace("%",""))/100;m=y.height*x}else m.endsWith("px")&&(m=Number(m.replace("px","")));var S=d.getBoundingClientRect(),_=S.left,v=S.top,b=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),j=b.left,R=b.top,F=this.getOffsetWidth(u),E=this.getOffsetHeight(u),T=r.toLowerCase().endsWith("left"),A=r.toLowerCase().endsWith("right"),I=r.startsWith("top"),k=r.startsWith("bottom");if((T||I)&&this.resizable){var N=(_-j)/o+this.resizable.size.width;this.setState({maxWidth:N>Number(p)?p:N})}if(A||this.props.lockAspectRatio&&!T&&!I){var N=F+(j-_)/o;this.setState({maxWidth:N>Number(p)?p:N})}if((I||T)&&this.resizable){var N=(v-R)/o+this.resizable.size.height;this.setState({maxHeight:N>Number(m)?m:N})}if(k||this.props.lockAspectRatio&&!I&&!T){var N=E+(R-v)/o;this.setState({maxHeight:N>Number(m)?m:N})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,s)},e.prototype.onResize=function(n,r,s,o){var i=this,l={x:this.originalPosition.x,y:this.originalPosition.y},c=-o.width,u=-o.height,d=["top","left","topLeft","bottomLeft","topRight"];d.includes(r)&&(r==="bottomLeft"?l.x+=c:(r==="topRight"||(l.x+=c),l.y+=u));var f=this.draggable.state;(l.x!==f.x||l.y!==f.y)&&_s.flushSync(function(){i.draggable.setState(l)}),this.updateOffsetFromParent();var p=this.offsetFromParent,m=this.getDraggablePosition().x+p.left,y=this.getDraggablePosition().y+p.top;this.resizingPosition={x:m,y},this.props.onResize&&this.props.onResize(n,r,s,o,{x:m,y})},e.prototype.onResizeStop=function(n,r,s,o){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),l=i.maxWidth,c=i.maxHeight;this.setState({maxWidth:l,maxHeight:c}),this.props.onResizeStop&&this.props.onResizeStop(n,r,s,o,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),s=this.getSelfElement();if(!r||s===null)return{top:0,left:0};var o=r.getBoundingClientRect(),i=o.left,l=o.top,c=s.getBoundingClientRect(),u=this.getDraggablePosition(),d=r.scrollLeft,f=r.scrollTop;this.offsetFromParent={left:c.left-i+d-u.x*n,top:c.top-l+f-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,s=r.disableDragging,o=r.style,i=r.dragHandleClassName,l=r.position,c=r.onMouseDown,u=r.onMouseUp,d=r.dragAxis,f=r.dragGrid,p=r.bounds,m=r.enableUserSelectHack,y=r.cancel,x=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var S=r.resizeHandleStyles,_=r.resizeHandleClasses,v=r.resizeHandleComponent,b=r.enableResizing,j=r.resizeGrid,R=r.resizeHandleWrapperClass,F=r.resizeHandleWrapperStyle,E=r.scale,T=r.allowAnyClick,A=r.dragPositionOffset,I=iJ(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),k=this.props.default?ln({},this.props.default):void 0;delete I.default;var N=s||i?{cursor:"auto"}:{cursor:"move"},P=ln(ln(ln({},aJ),N),o),D=this.offsetFromParent,L=D.left,B=D.top,$;l&&($={x:l.x-L,y:l.y-B});var M=this.state.resizing?void 0:$,V=this.state.resizing?"both":d;return g.createElement(YX,{ref:function(G){G&&(n.draggable=G)},handle:i?".".concat(i):void 0,defaultPosition:k,onMouseDown:c,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:V,disabled:s,grid:f,bounds:p?this.state.bounds:void 0,position:M,enableUserSelectHack:m,cancel:y,scale:E,allowAnyClick:T,nodeRef:this.resizableElement,positionOffset:A},g.createElement(sJ,ln({},I,{ref:function(G){G&&(n.resizable=G,n.resizableElement.current=G.resizable)},defaultSize:k,size:this.props.size,enable:typeof b=="boolean"?lJ(b):b,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:P,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:j,handleWrapperClass:R,handleWrapperStyle:F,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:S,handleClasses:_,handleComponent:v,scale:this.props.scale}),x))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e})(g.PureComponent);const cJ=()=>{const{dialogs:t,openDialog:e,closeDialog:n,produtoParaReporEstoque:r,limparProdutoParaReporEstoque:s,darkMode:o}=g.useContext(wr),{toast:i}=xr(),{data:l,loading:c,save:u,remove:d}=eh(),{data:f,loading:p,save:m,remove:y}=Zd(),{data:x,loading:S,save:_,remove:v}=i1(),[b,j]=g.useState(""),[R,F]=g.useState(!1),[E,T]=g.useState(!1),[A,I]=g.useState(!1),[k,N]=g.useState(!1),[P,D]=g.useState(null),[L,B]=g.useState(""),[$,M]=g.useState(!1),[V,G]=g.useState(null),[K,le]=g.useState(null),[ce,me]=g.useState({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),[Ue,Ae]=g.useState({nome:"",cor:"#8b5cf6"}),[ue,Ie]=g.useState({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),[Ge,q]=g.useState(""),[de,ne]=g.useState([]),[ke,Le]=g.useState(!1),[Ye,tt]=g.useState(null),[nt,gt]=g.useState(!1),[It,ht]=g.useState("personalizada"),[lt,nr]=g.useState([]),[J,Z]=g.useState(null),[re,we]=g.useState(null);g.useState(!1),g.useRef(null),g.useEffect(()=>{t.produto&&(G(null),me({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),F(!0),n("produto")),t.movimentacao&&(r?(Ie({produtoId:r.id,tipo:"entrada",quantidade:"",observacao:`Reposição de estoque - ${r.nome}`}),q(r.nome),s()):(Ie({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),q(""),ne([]),Le(!1)),I(!0),n("movimentacao"))},[t,n,r,s]);const _e=async U=>{if(U.preventDefault(),!Ue.nome){i({title:"Erro",description:"Nome da categoria é obrigatório!",variant:"destructive"});return}try{await u({nome:Ue.nome,cor:Ue.cor,createdAt:K?K.createdAt:new Date().toISOString()},K==null?void 0:K.id),i({title:"Sucesso!",description:K?"Categoria atualizada!":"Categoria criada!"}),Ae({nome:"",cor:"#8b5cf6"}),le(null),T(!1)}catch(Y){console.error("[Estoque] ❌ Erro ao salvar categoria:",Y),i({title:"Erro",description:"Erro ao salvar categoria. Tente novamente.",variant:"destructive"})}},Ke=async U=>{try{const Y=f.filter(Ee=>Ee.categoriaId===U);for(const Ee of Y)await y(Ee.id);await d(U),Ye===U&&tt(null),i({title:"Sucesso!",description:"Categoria e produtos vinculados removidos!"})}catch(Y){console.error("[Estoque] ❌ Erro ao remover categoria:",Y),i({title:"Erro",description:"Erro ao remover categoria. Tente novamente.",variant:"destructive"})}},qe=async U=>{if(U.preventDefault(),console.log("[Estoque] ===== INICIANDO CADASTRO DE PRODUTO ====="),console.log("[Estoque] FormData:",ce),!ce.nome||!ce.codigo||!ce.preco||!ce.quantidade||!ce.categoriaId){console.log("[Estoque] ❌ Campos obrigatórios não preenchidos"),i({title:"Erro",description:"Todos os campos são obrigatórios!",variant:"destructive"});return}try{const Y={nome:ce.nome,codigo:ce.codigo,preco:parseFloat(ce.preco),quantidade:parseInt(ce.quantidade),categoriaId:ce.categoriaId,imagem:ce.imagem,createdAt:V?V.createdAt:new Date().toISOString()};console.log("[Estoque] ProdutoData preparado:",Y),console.log("[Estoque] Salvando produto..."),console.log("[Estoque] editingProduto?.id:",V==null?void 0:V.id);const Ee=await m(Y,V==null?void 0:V.id);console.log("[Estoque] ✅ Produto salvo com ID:",Ee),console.log("[Estoque] Verificando se produto aparece na lista..."),console.log("[Estoque] Forçando refresh dos dados..."),setTimeout(()=>{console.log("[Estoque] Produtos após salvamento:",f),console.log("[Estoque] Total de produtos:",f==null?void 0:f.length),console.log("[Estoque] Verificando localStorage:",JSON.parse(localStorage.getItem("crm_produtos")||"[]").length)},1e3),i({title:"Sucesso!",description:V?"Produto atualizado!":"Produto cadastrado!"}),me({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),G(null),F(!1),console.log("[Estoque] ===== PRODUTO CADASTRADO COM SUCESSO ====="),console.log("[Estoque] Formulário limpo e dialog fechado")}catch(Y){console.error("[Estoque] ❌ Erro ao salvar produto:",Y),i({title:"Erro",description:"Erro ao salvar produto. Tente novamente.",variant:"destructive"})}},st=U=>{me({nome:U.nome,codigo:U.codigo,preco:U.preco.toString(),quantidade:U.quantidade.toString(),categoriaId:U.categoriaId.toString(),imagem:U.imagem||null}),G(U),F(!0)},ft=U=>{Ie({produtoId:U.id,tipo:"entrada",quantidade:"",observacao:`Reposição de estoque - ${U.nome}`}),q(U.nome),I(!0),M(!1)},Vt=(U,Y)=>{const Ee=f.find(Et=>Et.id===Y);if(Ee){const Et=U==="entrada"?`Reposição de estoque - ${Ee.nome}`:`Saída de estoque - ${Ee.nome}`;Ie(In=>({...In,tipo:U,observacao:Et}))}},xn=async U=>{try{await y(U),i({title:"Sucesso!",description:"Produto removido!"})}catch(Y){console.error("[Estoque] ❌ Erro ao remover produto:",Y),i({title:"Erro",description:"Erro ao remover produto. Tente novamente.",variant:"destructive"})}},Gn=(U,Y)=>{D(U),B(Y),N(!0)},Jr=U=>{if(q(U),U.length>0){const Y=f.filter(Ee=>Ee.nome.toLowerCase().includes(U.toLowerCase())||Ee.codigo.toLowerCase().includes(U.toLowerCase()));ne(Y),Le(!0)}else ne([]),Le(!1)},br=U=>{Ie({...ue,produtoId:U.id}),q(U.nome),Le(!1)};g.useEffect(()=>{A||(q(""),ne([]),Le(!1))},[A]);const on=async U=>{if(U.preventDefault(),!ue.produtoId||!ue.quantidade){i({title:"Erro",description:"Produto e quantidade são obrigatórios!",variant:"destructive"});return}try{const Y=f.find(In=>In.id===ue.produtoId),Ee=parseInt(ue.quantidade);if(ue.tipo==="saida"&&Y.quantidade<Ee){i({title:"Erro",description:"Quantidade insuficiente em estoque!",variant:"destructive"});return}await _({produtoId:ue.produtoId,produtoNome:Y.nome,tipo:ue.tipo,quantidade:Ee,observacao:ue.observacao,createdAt:new Date().toISOString()});const Et={...Y,quantidade:ue.tipo==="entrada"?Y.quantidade+Ee:Y.quantidade-Ee};await m(Et,Y.id),i({title:"Sucesso!",description:`Movimentação de ${ue.tipo} registrada!`}),Ie({produtoId:"",tipo:"entrada",quantidade:"",observacao:""}),I(!1)}catch(Y){console.error("[Estoque] ❌ Erro ao registrar movimentação:",Y),i({title:"Erro",description:"Erro ao registrar movimentação. Tente novamente.",variant:"destructive"})}},rr=new Date().toISOString().slice(0,10),Zr=(x||[]).filter(U=>{var Ee;const Y=(Ee=U.createdAt)!=null&&Ee.toDate?U.createdAt.toDate().toISOString():U.createdAt;return(Y==null?void 0:Y.slice(0,10))===rr}),ro=(f||[]).filter(U=>{var Y,Ee;return((Y=U.nome)==null?void 0:Y.toLowerCase().includes(b.toLowerCase()))||((Ee=U.codigo)==null?void 0:Ee.toLowerCase().includes(b.toLowerCase()))}),Es=U=>{if(console.log("[Estoque] ===== UPLOAD DE IMAGEM ====="),console.log("[Estoque] Arquivos aceitos:",U),U.length===0){console.log("[Estoque] ❌ Nenhum arquivo aceito");return}const Y=U[0];if(console.log("[Estoque] Arquivo selecionado:",Y),Y.size>2*1024*1024){console.log("[Estoque] ❌ Arquivo muito grande:",Y.size),i({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 2MB.",variant:"destructive"});return}const Ee=new FileReader;Ee.onload=()=>{const Et=new Image;Et.onload=()=>{const In=document.createElement("canvas"),Cs=In.getContext("2d"),Rn=1e3;let{width:wn,height:ts}=Et;wn>ts?wn>Rn&&(ts=ts*Rn/wn,wn=Rn):ts>Rn&&(wn=wn*Rn/ts,ts=Rn),In.width=wn,In.height=ts,Cs.drawImage(Et,0,0,wn,ts);const Lc=In.toDataURL("image/jpeg",.9);console.log("[Estoque] ✅ Imagem comprimida, tamanho original:",Ee.result.length,"comprimida:",Lc.length),me(Fc=>({...Fc,imagem:Lc}))},Et.src=Ee.result},Ee.onerror=()=>{console.log("[Estoque] ❌ Erro ao ler arquivo"),i({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},Ee.readAsDataURL(Y)},{getRootProps:sl,getInputProps:qt,isDragActive:so}=ib({onDrop:Es,accept:{"image/*":[]}}),es=f.filter(U=>U.quantidade<=5),z=U=>{Z(U)},se=(U,Y)=>{U.preventDefault(),we(Y)},oe=()=>{if(J!==null&&re!==null&&J!==re){const U=[...lt],Y=U[J];U.splice(J,1),U.splice(re,0,Y),nr(U)}Z(null),we(null)},ge=async()=>{try{console.log("[Estoque] 🚀 Iniciando salvamento da nova ordem das categorias"),console.log("[Estoque] Categorias reordenadas:",lt.map(Y=>({id:Y.id,nome:Y.nome,ordemAtual:Y.ordem})));let U=0;for(let Y=0;Y<lt.length;Y++){const Ee=lt[Y];Ee.ordem!==Y?(console.log(`[Estoque] Atualizando categoria "${Ee.nome}" (ID: ${Ee.id}) da ordem ${Ee.ordem} para ${Y}`),await u({...Ee,ordem:Y},Ee.id),U++):console.log(`[Estoque] Categoria "${Ee.nome}" já está na ordem correta (${Y}), pulando...`)}console.log(`[Estoque] ✅ Salvamento concluído! ${U} categorias atualizadas`),i({title:"Sucesso!",description:`Ordem de ${U} categorias salva com sucesso!`}),gt(!1)}catch(U){console.error("[Estoque] ❌ Erro ao salvar ordem das categorias:",U),i({title:"Erro!",description:"Erro ao salvar ordem das categorias.",variant:"destructive"})}},Kn=U=>{let Y=[...l];switch(U){case"alfabetica":Y.sort((Ee,Et)=>Ee.nome.localeCompare(Et.nome));break;case"mais_produtos":Y.sort((Ee,Et)=>{const In=f.filter(Rn=>Rn.categoriaId===Ee.id).length;return f.filter(Rn=>Rn.categoriaId===Et.id).length-In});break;case"menos_produtos":Y.sort((Ee,Et)=>{const In=f.filter(Rn=>Rn.categoriaId===Ee.id).length,Cs=f.filter(Rn=>Rn.categoriaId===Et.id).length;return In-Cs});break;default:Y.sort((Ee,Et)=>(Ee.ordem||0)-(Et.ordem||0))}nr(Y)};return g.useEffect(()=>{nt&&nr([...l])},[nt,l]),console.log("[Estoque] Produtos:",f==null?void 0:f.length,"Categorias:",l==null?void 0:l.length),a.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen",children:[a.jsxs("aside",{className:"w-full lg:w-64 bg-slate-100 dark:bg-slate-900 border-r border-b lg:border-b-0 h-auto lg:h-screen flex flex-col",children:[a.jsxs("div",{className:"p-4 flex flex-col gap-2",children:[a.jsx(Q,{onClick:()=>tt(null),variant:Ye===null?"default":"outline",className:"w-full justify-start",children:"Todos os Produtos"}),a.jsxs(Q,{onClick:()=>{le(null),Ae({nome:"",cor:"#8b5cf6"}),T(!0)},variant:"outline",className:"w-full justify-start bg-violet-500 text-white hover:bg-violet-600",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),a.jsx(TE,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:a.jsx("ul",{className:"space-y-1",children:l.map(U=>a.jsxs("li",{className:"flex items-center justify-between group",children:[a.jsx(Q,{onClick:()=>tt(U.id),variant:Ye===U.id?"default":"ghost",className:"flex-1 justify-start text-left border-l-2",style:{borderLeftColor:U.cor},children:U.nome}),a.jsx("button",{title:"Editar categoria",className:"p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-800",onClick:()=>{le(U),Ae({nome:U.nome,cor:U.cor||"#8b5cf6"}),T(!0)},children:a.jsx(ps,{className:"h-4 w-4"})}),a.jsx("button",{title:"Excluir categoria",className:"p-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>Ke(U.id),children:a.jsx(Hr,{className:"h-4 w-4 text-red-500"})})]},U.id))})})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx("div",{className:"p-4 lg:p-6 border-b bg-white dark:bg-slate-800",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900 dark:text-white",children:"Estoque"}),a.jsx("p",{className:"text-sm lg:text-base text-slate-600 dark:text-slate-400",children:"Gerencie categorias, produtos e movimentações"})]}),es.length>0&&a.jsxs(Se.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:()=>M(!0),className:"bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded-lg p-3 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 transition-all duration-200 cursor-pointer flex items-center gap-2 lg:gap-3 min-w-0 flex-shrink-0 w-full lg:w-auto",children:[a.jsx(zs,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-500 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Estoque Crítico"}),a.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:[es.length," produto(s)"]})]})]})]})}),a.jsxs(Ua,{defaultValue:"produtos",className:"flex-1",children:[a.jsxs("div",{className:"px-4 lg:px-6 pt-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-4 gap-4",children:[a.jsxs(Ii,{className:"h-12 px-1",children:[a.jsx(un,{value:"produtos",className:"px-6",children:"Produtos"}),a.jsx(un,{value:"movimentacoes",className:"px-6",children:"Movimentações"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Un,{open:E,onOpenChange:T,children:[a.jsx(Cf,{asChild:!0,children:a.jsx(Q,{variant:"outline",size:"sm",children:"Nova Categoria"})}),a.jsxs(Sn,{className:`sm:max-w-lg bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(En,{children:a.jsxs(Cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(TE,{className:"h-6 w-6 text-purple-500"}),K?"Editar Categoria":"Nova Categoria"]})}),a.jsxs("form",{onSubmit:_e,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Lu,{className:"h-5 w-5 text-blue-500"}),"Informações da Categoria"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Nome da Categoria *"}),a.jsx(pe,{value:Ue.nome,onChange:U=>Ae({...Ue,nome:U.target.value}),placeholder:"Ex: Eletrônicos, Roupas, Acessórios...",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Cor da Categoria *"}),a.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[a.jsx(pe,{type:"color",value:Ue.cor,onChange:U=>Ae({...Ue,cor:U.target.value}),className:"w-16 h-10 rounded-lg border-2 border-slate-300 dark:border-slate-600"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-slate-300 dark:border-slate-600",style:{backgroundColor:Ue.cor}}),a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:Ue.cor})]})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Escolha uma cor que represente bem sua categoria"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2",children:K?"Atualizar Categoria":"Criar Categoria"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{T(!1),le(null),Ae({nome:"",cor:"#8b5cf6"})},className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(Un,{open:R,onOpenChange:F,children:[a.jsx(Cf,{asChild:!0,children:a.jsx(Q,{size:"sm",className:"bg-gradient-to-r from-orange-500 to-red-500",children:"Novo Produto"})}),a.jsxs(Sn,{className:`sm:max-w-2xl bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(En,{children:a.jsxs(Cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(hr,{className:"h-6 w-6 text-green-500"}),V?"Editar Produto":"Novo Produto"]})}),a.jsxs("form",{onSubmit:qe,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(hr,{className:"h-5 w-5 text-blue-500"}),"Informações Básicas"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Nome do Produto *"}),a.jsx(pe,{value:ce.nome,onChange:U=>{if(me({...ce,nome:U.target.value}),!ce.codigo&&U.target.value){const Y=U.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,6)+String(Date.now()).slice(-4);me(Ee=>({...Ee,codigo:Y}))}},placeholder:"Ex: Mouse Gamer RGB",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Preço *"}),a.jsx(pe,{type:"number",step:"0.01",value:ce.preco,onChange:U=>me({...ce,preco:U.target.value}),placeholder:"0.00",className:"mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Quantidade *"}),a.jsx(pe,{type:"number",value:ce.quantidade,onChange:U=>me({...ce,quantidade:U.target.value}),placeholder:"0",className:"mt-1",required:!0})]})]})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Lu,{className:"h-5 w-5 text-purple-500"}),"Categoria"]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Categoria *"}),a.jsxs(ct,{value:ce.categoriaId,onValueChange:U=>me({...ce,categoriaId:U}),className:"mt-1",children:[a.jsx(it,{children:a.jsx(ut,{placeholder:"Selecione uma categoria..."})}),a.jsx(at,{children:l.map(U=>a.jsx(ae,{value:U.id.toString(),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.cor}}),U.nome]})},U.id))})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(ar,{className:"h-5 w-5 text-orange-500"}),"Código do Produto"]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Código (Gerado Automaticamente)"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(pe,{value:ce.codigo,onChange:U=>me({...ce,codigo:U.target.value}),placeholder:"Será gerado automaticamente",className:"pr-10",required:!0}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",title:"Gerado automaticamente"})})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Código gerado automaticamente baseado no nome do produto"})]})]}),a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(_a,{className:"h-5 w-5 text-indigo-500"}),"Imagem do Produto"]}),a.jsxs("div",{...sl(),className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all duration-200 ${so?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 scale-105":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800/70"} ${ce.imagem?"bg-slate-50 dark:bg-slate-800/50":""}`,children:[a.jsx("input",{...qt()}),ce.imagem?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:ce.imagem,alt:"Preview do produto",className:"max-w-full max-h-40 object-contain rounded-lg border-2 border-slate-200 dark:border-slate-700 shadow-lg"}),a.jsx("button",{type:"button",onClick:U=>{U.stopPropagation(),me({...ce,imagem:null})},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-colors shadow-lg",children:a.jsx(vr,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"✨ Clique ou arraste para alterar a imagem"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center",children:a.jsx(_a,{className:"w-10 h-10 text-slate-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:so?"🎯 Solte a imagem aqui":"📷 Arraste uma imagem ou clique para selecionar"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"PNG, JPG até 2MB • Redimensionada para 1000x1000px"})]})]})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2",children:V?"Atualizar Produto":"Cadastrar Produto"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{F(!1),G(null),me({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null})},className:"flex-1",children:"Cancelar"})]})]})]})]}),a.jsxs(Un,{open:A,onOpenChange:I,children:[a.jsx(Cf,{asChild:!0,children:a.jsx(Q,{size:"sm",variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50",children:"Movimentação"})}),a.jsxs(Sn,{className:`sm:max-w-lg bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(En,{children:a.jsxs(Cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(cr,{className:"h-6 w-6 text-orange-500"}),"Nova Movimentação"]})}),a.jsxs("form",{onSubmit:on,className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(hr,{className:"h-5 w-5 text-blue-500"}),"Dados da Movimentação"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(te,{className:"text-sm font-medium",children:"Produto *"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx(pe,{value:Ge,onChange:U=>Jr(U.target.value),placeholder:"Digite o nome ou código do produto...",className:"pr-10"}),a.jsx(Nr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),ke&&de.length>0&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:de.map(U=>a.jsx("div",{onClick:()=>br(U),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[U.imagem&&a.jsx("img",{src:U.imagem,alt:U.nome,className:"w-8 h-8 object-cover rounded border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:U.nome}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Código: ",U.codigo," | Estoque: ",U.quantidade]})]})]})},U.id))})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome ou código do produto para buscar"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Tipo de Movimentação *"}),a.jsxs(ct,{value:ue.tipo,onValueChange:U=>Vt(U,ue.produtoId),className:"mt-1",children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"entrada",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"h-4 w-4 text-green-500"}),"Entrada"]})}),a.jsx(ae,{value:"saida",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Da,{className:"h-4 w-4 text-red-500"}),"Saída"]})})]})]})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Quantidade *"}),a.jsx(pe,{type:"number",min:"1",value:ue.quantidade,onChange:U=>Ie({...ue,quantidade:U.target.value}),placeholder:"0",className:"mt-1",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(te,{className:"text-sm font-medium",children:"Observação"}),a.jsx(pe,{value:ue.observacao,onChange:U=>Ie({...ue,observacao:U.target.value}),placeholder:"Ex: Compra, venda, ajuste de estoque...",className:"mt-1"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Descreva o motivo da movimentação"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"submit",className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2",children:"Registrar Movimentação"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{I(!1),Ie({produtoId:"",tipo:"entrada",quantidade:"",observacao:""})},className:"flex-1",children:"Cancelar"})]})]})]})]})]})]}),a.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 mb-4"})]}),a.jsxs(dn,{value:"produtos",className:"px-4 lg:px-6 pt-4 space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-auto sm:max-w-sm",children:[a.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(pe,{placeholder:"Buscar por nome ou código...",value:b,onChange:U=>j(U.target.value),className:"w-full sm:w-auto pl-10"})]}),a.jsxs(Q,{onClick:()=>gt(!0),variant:"outline",size:"sm",className:"bg-black text-white hover:bg-gray-800 dark:bg-gray-900 dark:hover:bg-gray-800",children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Reordenar Categorias"]})]}),Ye===null?l.map(U=>a.jsxs("div",{children:[a.jsx("div",{className:`bg-slate-100 dark:bg-slate-800/50 rounded-lg p-3 mb-4 border-2 ${o?"":"shadow-sm"}`,style:{borderColor:U.cor},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:U.nome}),a.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[ro.filter(Y=>Y.categoriaId===U.id).length," produtos"]})]}),a.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{G(null),me({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:U.id.toString(),imagem:null}),F(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white border-blue-500",children:[a.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Novo Produto"]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:ro.filter(Y=>Y.categoriaId===U.id).map((Y,Ee)=>a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ee*.1},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${o?"":"shadow-sm"}`,children:a.jsxs("div",{className:"flex gap-3",children:[Y.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:Y.imagem,alt:Y.nome,className:"w-20 h-20 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>Gn(Y.imagem,Y.nome)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:Y.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",Y.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Tn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Y.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(ar,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${Y.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[Y.quantidade," ",Y.quantidade<=5&&"(Baixo)"]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>st(Y),className:"h-6 w-6",children:a.jsx(ps,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>xn(Y.id),className:"h-6 w-6 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Hr,{className:"h-3 w-3"})})]})]})},Y.id))})]},U.id)):l.filter(U=>U.id===Ye).map(U=>a.jsxs("div",{children:[a.jsx("div",{className:`bg-slate-100 dark:bg-slate-800/50 rounded-lg p-3 mb-4 border-2 ${o?"":"shadow-sm"}`,style:{borderColor:U.cor},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.cor}}),a.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:U.nome}),a.jsxs("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[ro.filter(Y=>Y.categoriaId===U.id).length," produtos"]})]}),a.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{G(null),me({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:U.id.toString(),imagem:null}),F(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white border-blue-500",children:[a.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Novo Produto"]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:ro.filter(Y=>Y.categoriaId===U.id).map((Y,Ee)=>a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ee*.1},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${o?"":"shadow-sm"}`,children:a.jsxs("div",{className:"flex gap-3",children:[Y.imagem&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:Y.imagem,alt:Y.nome,className:"w-20 h-20 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>Gn(Y.imagem,Y.nome)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:Y.nome}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",Y.codigo]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Tn,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Y.preco)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(ar,{className:"h-3 w-3"}),a.jsxs("span",{className:`text-xs font-semibold ${Y.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[Y.quantidade," ",Y.quantidade<=5&&"(Baixo)"]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>st(Y),className:"h-6 w-6",children:a.jsx(ps,{className:"h-3 w-3"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>xn(Y.id),className:"h-6 w-6 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Hr,{className:"h-3 w-3"})})]})]})},Y.id))})]},U.id))]}),a.jsxs(dn,{value:"movimentacoes",className:"px-4 lg:px-6 pt-4 space-y-4",children:[Zr.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:a.jsx(ar,{className:"h-8 w-8 text-slate-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-1",children:"Nenhuma movimentação hoje"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"As movimentações de entrada e saída aparecerão aqui"})]}),a.jsxs(Q,{onClick:()=>I(!0),size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Nova Movimentação"]})]})}),Zr.map(U=>{var Y;return a.jsx(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`bg-white dark:bg-slate-800/50 p-4 rounded-lg border-2 shadow-sm hover:shadow-md transition-all duration-200 ${U.tipo==="entrada"?"border-green-200 dark:border-green-700 bg-green-50/30 dark:bg-green-900/10":"border-red-200 dark:border-red-700 bg-red-50/30 dark:bg-red-900/10"}`,children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:`p-2 rounded-full ${U.tipo==="entrada"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:U.tipo==="entrada"?a.jsx(cr,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):a.jsx(Da,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:U.produtoNome}),a.jsxs("p",{className:`text-sm font-medium ${U.tipo==="entrada"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:[U.tipo==="entrada"?"Entrada":"Saída"," de ",U.quantidade," unidades"]})]})]}),U.observacao&&a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2 bg-slate-100 dark:bg-slate-700/50 p-2 rounded border-l-2 border-slate-300 dark:border-slate-600",children:[a.jsx("span",{className:"font-medium",children:"Obs:"})," ",U.observacao]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[a.jsx(hr,{className:"h-3 w-3"}),new Date((Y=U.createdAt)!=null&&Y.toDate?U.createdAt.toDate():U.createdAt).toLocaleString("pt-BR")]})]})})},U.id)})]})]})]}),a.jsx(Un,{open:k,onOpenChange:N,children:a.jsxs(Sn,{className:`sm:max-w-4xl max-w-[90vw] bg-white dark:bg-slate-900 border-0 p-0 overflow-hidden ${o?"":"shadow-2xl"}`,children:[a.jsx(En,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6",children:a.jsxs(Cn,{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(nz,{className:"h-7 w-7"}),L]})}),a.jsx("div",{className:"relative bg-slate-50 dark:bg-slate-800 min-h-[60vh] flex items-center justify-center p-8",children:P&&a.jsxs("div",{className:"relative group",children:[a.jsxs(Se.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"relative overflow-hidden rounded-2xl shadow-2xl",children:[a.jsx("img",{src:P,alt:L,className:"max-w-full max-h-[60vh] object-contain rounded-2xl transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 rounded-2xl"}),a.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsxs(Q,{size:"sm",variant:"secondary",onClick:()=>{const U=document.createElement("a");U.href=P,U.download=`${L}.jpg`,U.click()},className:"bg-white/90 hover:bg-white text-slate-900 shadow-lg",children:[a.jsx(yp,{className:"h-4 w-4 mr-2"}),"Download"]})})]}),a.jsx(Se.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.1},className:"mt-6 text-center",children:a.jsx("div",{className:"bg-white dark:bg-slate-700 rounded-xl p-4 shadow-lg",children:a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:L})})})]})}),a.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[a.jsx(_a,{className:"h-4 w-4"}),"Clique fora da imagem ou use ESC para fechar"]}),a.jsx(Q,{variant:"outline",onClick:()=>N(!1),className:"bg-white dark:bg-slate-700",children:"Fechar"})]})]})}),a.jsx(Un,{open:nt,onOpenChange:gt,children:a.jsxs(Sn,{className:`sm:max-w-3xl bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 ${o?"shadow-2xl shadow-slate-900/50":"shadow-2xl border-slate-200"}`,children:[a.jsx(En,{children:a.jsxs(Se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs(Cn,{className:"flex items-center gap-3 text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[a.jsx(Se.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:a.jsx(ar,{className:"h-6 w-6 text-blue-500"})}),"Reordenar Categorias"]}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Organize suas categorias da forma que preferir"})]})}),a.jsxs(Se.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.3},children:[a.jsxs(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.3},className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[a.jsxs(te,{className:"text-sm font-semibold flex items-center gap-2 mb-3",children:[a.jsx(cr,{className:"h-4 w-4 text-blue-500"}),"Tipo de Ordenação:"]}),a.jsxs(ct,{value:It,onValueChange:U=>{ht(U),Kn(U)},children:[a.jsx(it,{className:"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 hover:border-blue-400 transition-colors",children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"personalizada",children:"🎯 Personalizada (Arrastar e Soltar)"}),a.jsx(ae,{value:"alfabetica",children:"🔤 Ordem Alfabética"}),a.jsx(ae,{value:"mais_produtos",children:"📈 Mais Produtos"}),a.jsx(ae,{value:"menos_produtos",children:"📉 Menos Produtos"})]})]})]}),a.jsx(Se.div,{className:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:lt.map((U,Y)=>{const Ee=f.filter(Et=>Et.categoriaId===U.id);return a.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*Y,duration:.3},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},draggable:It==="personalizada",onDragStart:()=>z(Y),onDragOver:Et=>se(Et,Y),onDrop:oe,className:`group relative p-4 rounded-xl cursor-move transition-all duration-300 ${J===Y?"border-2 border-blue-400 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 shadow-lg shadow-blue-500/20 scale-105":"border border-slate-200 dark:border-slate-700 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm hover:border-slate-300 dark:hover:border-slate-600 hover:shadow-lg hover:shadow-slate-500/10"} ${o?"":"bg-white/70"}`,style:{borderLeftColor:U.cor,borderLeftWidth:"4px",boxShadow:J===Y?`0 10px 25px -5px ${U.cor}20`:void 0},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Se.div,{className:"w-6 h-6 rounded-full shadow-lg",style:{backgroundColor:U.cor},whileHover:{scale:1.2},transition:{type:"spring",stiffness:300}}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:U.nome}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[Ee.length," produto",Ee.length!==1?"s":""]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Se.div,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400},children:["#",Y+1]}),It==="personalizada"&&a.jsxs(Se.div,{className:"flex flex-col gap-1",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:[a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),a.jsx("div",{className:"w-1 h-1 bg-slate-400 rounded-full"})]})]})]}),a.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},U.id)})}),a.jsxs(Se.div,{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},children:[a.jsx(Q,{variant:"outline",onClick:()=>gt(!1),className:"hover:bg-slate-100 dark:hover:bg-slate-700 transition-all duration-200",children:"Cancelar"}),a.jsx(Se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsxs(Q,{onClick:ge,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(ar,{className:"h-4 w-4 mr-2"}),"Salvar Ordem"]})})]})]})]})}),a.jsx(Un,{open:$,onOpenChange:M,children:a.jsxs(Sn,{className:`sm:max-w-2xl bg-white dark:bg-slate-900 ${o?"":"shadow-xl border-slate-200"}`,children:[a.jsx(En,{children:a.jsxs(Cn,{className:"flex items-center gap-2",children:[a.jsx(zs,{className:"h-5 w-5 text-yellow-500"}),"Estoque Crítico"]})}),a.jsx("div",{className:"space-y-3",children:es.map(U=>{const Y=l.find(Ee=>Ee.id===U.categoriaId);return a.jsx(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:U.nome}),a.jsxs("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:["Categoria: ",(Y==null?void 0:Y.nome)||"Sem categoria"," | Estoque: ",a.jsx("span",{className:"font-bold",children:U.quantidade})," unidades"]})]}),a.jsx(Q,{size:"sm",onClick:()=>ft(U),className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Repor Estoque"})]})},U.id)})})]})})]})},uJ=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(wr),{toast:r}=xr(),{data:s,loading:o,save:i,remove:l}=th(),[c,u]=g.useState(""),[d,f]=g.useState(!1),[p,m]=g.useState(null),[y,x]=g.useState({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"});g.useEffect(()=>{t.lancamento&&(m(null),x({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"}),f(!0),n("lancamento"))},[t,n]),console.log("[Financeiro] ===== DADOS CARREGADOS ====="),console.log("[Financeiro] Lançamentos:",s),console.log("[Financeiro] Loading:",o);const S=async D=>{if(D.preventDefault(),!y.descricao||!y.valor||!y.dataVencimento){r({title:"Erro",description:"Todos os campos obrigatórios devem ser preenchidos!",variant:"destructive"});return}try{const L={descricao:y.descricao,valor:parseFloat(y.valor),dataVencimento:y.dataVencimento,tipo:y.tipo,status:y.status,createdAt:p?p.createdAt:new Date().toISOString()};await i(L,p==null?void 0:p.id),r(p?{title:"Sucesso!",description:"Lançamento atualizado com sucesso!"}:{title:"Sucesso!",description:"Lançamento criado com sucesso!"}),x({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"}),m(null),f(!1)}catch(L){console.error("[Financeiro] ❌ Erro ao salvar lançamento:",L),r({title:"Erro",description:"Erro ao salvar lançamento. Tente novamente.",variant:"destructive"})}},_=D=>{m(D),x({descricao:D.descricao,valor:D.valor.toString(),dataVencimento:D.dataVencimento,tipo:D.tipo,status:D.status}),f(!0)},v=async D=>{try{await l(D),r({title:"Sucesso!",description:"Lançamento removido com sucesso!"})}catch(L){console.error("[Financeiro] ❌ Erro ao remover lançamento:",L),r({title:"Erro",description:"Erro ao remover lançamento. Tente novamente.",variant:"destructive"})}},b=D=>{const L=s.map(B=>{if(B.id===D){const $=B.status==="Pendente"?B.tipo==="receber"?"Recebido":"Pago":"Pendente";return{...B,status:$}}return B});saveLancamentos(L),r({title:"Sucesso!",description:"Status atualizado com sucesso!"})},j=s.filter(D=>D.descricao.toLowerCase().includes(c.toLowerCase())),R=j.filter(D=>D.tipo==="receber"),F=j.filter(D=>D.tipo==="pagar"),E=R.filter(D=>D.status==="Pendente").reduce((D,L)=>D+L.valor,0),T=F.filter(D=>D.status==="Pendente").reduce((D,L)=>D+L.valor,0),A=R.filter(D=>D.status==="Recebido").reduce((D,L)=>D+L.valor,0),I=F.filter(D=>D.status==="Pago").reduce((D,L)=>D+L.valor,0),k=(D,L)=>D==="Pendente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":D==="Recebido"&&L==="receber"||D==="Pago"&&L==="pagar"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300",N=(D,L)=>{if(L!=="Pendente")return!1;const B=new Date;return B.setHours(0,0,0,0),new Date(D)<B},P=({conta:D,index:L})=>a.jsx(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:L*.05},className:`bg-white dark:bg-slate-800/50 rounded-lg p-4 border transition-all duration-300 ${N(D.dataVencimento,D.status)?"border-red-400 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-700 hover:shadow-lg"}`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center flex-wrap gap-x-3 gap-y-2",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:D.descricao}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k(D.status,D.tipo)}`,children:D.status}),N(D.dataVencimento,D.status)&&a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",children:"Vencido"})]}),a.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-2 mt-2",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(Tn,{className:"h-4 w-4"}),a.jsx("span",{className:`font-semibold ${D.tipo==="receber"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D.valor)})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[a.jsx(da,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:new Date(D.dataVencimento).toLocaleDateString("pt-BR",{timeZone:"UTC"})})]})]})]}),a.jsxs("div",{className:"flex space-x-1 self-start sm:self-center",children:[a.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>b(D.id),className:D.status==="Pendente"?"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-400 dark:hover:text-yellow-300",children:D.status==="Pendente"?`Marcar como ${D.tipo==="receber"?"Recebido":"Pago"}`:"Marcar como Pendente"}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>_(D),className:"h-8 w-8",children:a.jsx(ps,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>v(D.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:a.jsx(Hr,{className:"h-4 w-4"})})]})]})},D.id);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Financeiro"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Controle suas contas a pagar e receber"})]}),a.jsxs(Un,{open:d,onOpenChange:f,children:[a.jsx(Cf,{asChild:!0,children:a.jsxs(Q,{className:"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Novo Lançamento"]})}),a.jsxs(Sn,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[a.jsx(En,{children:a.jsx(Cn,{children:p?"Editar Lançamento":"Novo Lançamento"})}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(te,{htmlFor:"descricao",children:"Descrição *"}),a.jsx(pe,{id:"descricao",value:y.descricao,onChange:D=>x({...y,descricao:D.target.value}),placeholder:"Descrição do lançamento",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"valor",children:"Valor *"}),a.jsx(pe,{id:"valor",type:"number",step:"0.01",value:y.valor,onChange:D=>x({...y,valor:D.target.value}),placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{htmlFor:"dataVencimento",children:"Data de Vencimento *"}),a.jsx(pe,{id:"dataVencimento",type:"date",value:y.dataVencimento,onChange:D=>x({...y,dataVencimento:D.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Tipo"}),a.jsxs(ct,{value:y.tipo,onValueChange:D=>x({...y,tipo:D}),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"receber",children:"Conta a Receber"}),a.jsx(ae,{value:"pagar",children:"Conta a Pagar"})]})]})]}),a.jsxs("div",{children:[a.jsx(te,{children:"Status"}),a.jsxs(ct,{value:y.status,onValueChange:D=>x({...y,status:D}),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"Pendente",children:"Pendente"}),a.jsx(ae,{value:y.tipo==="receber"?"Recebido":"Pago",children:y.tipo==="receber"?"Recebido":"Pago"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{type:"submit",className:"flex-1",children:p?"Atualizar":"Criar"}),a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{f(!1),m(null),x({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente"})},children:"Cancelar"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"A Receber"}),a.jsx("p",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E)})]}),a.jsx(cr,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]})}),a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"A Pagar"}),a.jsx("p",{className:"text-xl font-bold text-red-700 dark:text-red-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T)})]}),a.jsx(Da,{className:"h-8 w-8 text-red-600 dark:text-red-400"})]})}),a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Recebido"}),a.jsx("p",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A)})]}),a.jsx(Tn,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})}),a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:"Pago"}),a.jsx("p",{className:"text-xl font-bold text-purple-700 dark:text-purple-300",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I)})]}),a.jsx(Tn,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})]})})]}),a.jsxs(Ua,{defaultValue:"receber",className:"w-full",children:[a.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[a.jsx(un,{value:"receber",children:"Contas a Receber"}),a.jsx(un,{value:"pagar",children:"Contas a Pagar"})]}),a.jsxs(dn,{value:"receber",className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(pe,{placeholder:"Buscar por descrição...",value:c,onChange:D=>u(D.target.value),className:"max-w-sm pl-10"})]}),a.jsx("div",{className:"space-y-3",children:R.map((D,L)=>a.jsx(P,{conta:D,index:L},D.id))}),R.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(cr,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a receber"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Suas contas a receber aparecerão aqui"})]})]}),a.jsxs(dn,{value:"pagar",className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(pe,{placeholder:"Buscar por descrição...",value:c,onChange:D=>u(D.target.value),className:"max-w-sm pl-10"})]}),a.jsx("div",{className:"space-y-3",children:F.map((D,L)=>a.jsx(P,{conta:D,index:L},D.id))}),F.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Da,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a pagar"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Suas contas a pagar aparecerão aqui"})]})]})]})]})};function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function sn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ne(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function He(t){Ne(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||gc(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function hn(t,e){Ne(2,arguments);var n=He(t),r=sn(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Xr(t,e){Ne(2,arguments);var n=He(t),r=sn(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var i=o.getDate();return s>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function dJ(t,e){Ne(2,arguments);var n=He(t).getTime(),r=sn(e);return new Date(n+r)}var hJ={};function Qi(){return hJ}function Js(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Qi(),f=sn((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=He(t),m=p.getDay(),y=(m<f?7:0)+m-f;return p.setDate(p.getDate()-y),p.setHours(0,0,0,0),p}function Ga(t){return Ne(1,arguments),Js(t,{weekStartsOn:1})}function fJ(t){Ne(1,arguments);var e=He(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=Ga(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var i=Ga(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function pJ(t){Ne(1,arguments);var e=fJ(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Ga(n);return r}function Cd(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function vc(t){Ne(1,arguments);var e=He(t);return e.setHours(0,0,0,0),e}var mJ=864e5;function vo(t,e){Ne(2,arguments);var n=vc(t),r=vc(e),s=n.getTime()-Cd(n),o=r.getTime()-Cd(r);return Math.round((s-o)/mJ)}function hx(t,e){Ne(2,arguments);var n=sn(e),r=n*7;return hn(t,r)}function QO(t,e){Ne(2,arguments);var n=sn(e);return Xr(t,n*12)}function gJ(t){Ne(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(gc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=He(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function vJ(t){Ne(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(gc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=He(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function fr(t,e){Ne(2,arguments);var n=vc(t),r=vc(e);return n.getTime()===r.getTime()}function h1(t){return Ne(1,arguments),t instanceof Date||gc(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function yJ(t){if(Ne(1,arguments),!h1(t)&&typeof t!="number")return!1;var e=He(t);return!isNaN(Number(e))}function Td(t,e){Ne(2,arguments);var n=He(t),r=He(e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}var xJ=6048e5;function wJ(t,e,n){Ne(2,arguments);var r=Js(t,n),s=Js(e,n),o=r.getTime()-Cd(r),i=s.getTime()-Cd(s);return Math.round((o-i)/xJ)}function Nd(t){Ne(1,arguments);var e=He(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function $n(t){Ne(1,arguments);var e=He(t);return e.setDate(1),e.setHours(0,0,0,0),e}function sN(t){Ne(1,arguments);var e=He(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function fx(t){Ne(1,arguments);var e=He(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function f1(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Qi(),f=sn((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=He(t),m=p.getDay(),y=(m<f?-7:0)+6-(m-f);return p.setDate(p.getDate()+y),p.setHours(23,59,59,999),p}function XO(t){return Ne(1,arguments),f1(t,{weekStartsOn:1})}function bJ(t,e){Ne(2,arguments);var n=sn(e);return dJ(t,-n)}var _J=864e5;function SJ(t){Ne(1,arguments);var e=He(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/_J)+1}function Qp(t){Ne(1,arguments);var e=1,n=He(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function JO(t){Ne(1,arguments);var e=He(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Qp(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=Qp(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function EJ(t){Ne(1,arguments);var e=JO(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Qp(n);return r}var CJ=6048e5;function TJ(t){Ne(1,arguments);var e=He(t),n=Qp(e).getTime()-EJ(e).getTime();return Math.round(n/CJ)+1}function Xp(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Qi(),f=sn((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=He(t),m=p.getUTCDay(),y=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-y),p.setUTCHours(0,0,0,0),p}function ZO(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=He(t),f=d.getUTCFullYear(),p=Qi(),m=sn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,m),y.setUTCHours(0,0,0,0);var x=Xp(y,e),S=new Date(0);S.setUTCFullYear(f,0,m),S.setUTCHours(0,0,0,0);var _=Xp(S,e);return d.getTime()>=x.getTime()?f+1:d.getTime()>=_.getTime()?f:f-1}function NJ(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Qi(),f=sn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=ZO(t,e),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var y=Xp(m,e);return y}var kJ=6048e5;function jJ(t,e){Ne(1,arguments);var n=He(t),r=Xp(n,e).getTime()-NJ(n,e).getTime();return Math.round(r/kJ)+1}function pt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var PJ={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return pt(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):pt(r+1,2)},d:function(e,n){return pt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return pt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return pt(e.getUTCHours(),n.length)},m:function(e,n){return pt(e.getUTCMinutes(),n.length)},s:function(e,n){return pt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return pt(o,n.length)}};const Ko=PJ;var fl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AJ={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Ko.y(e,n)},Y:function(e,n,r,s){var o=ZO(e,s),i=o>0?o:1-o;if(n==="YY"){var l=i%100;return pt(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):pt(i,n.length)},R:function(e,n){var r=JO(e);return pt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return pt(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return pt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return pt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Ko.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return pt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var o=jJ(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):pt(o,n.length)},I:function(e,n,r){var s=TJ(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):pt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ko.d(e,n)},D:function(e,n,r){var s=SJ(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):pt(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return pt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var o=e.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return pt(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return pt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),o;switch(s===12?o=fl.noon:s===0?o=fl.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),o;switch(s>=17?o=fl.evening:s>=12?o=fl.afternoon:s>=4?o=fl.morning:o=fl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ko.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ko.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):pt(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):pt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ko.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ko.s(e,n)},S:function(e,n){return Ko.S(e,n)},X:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return iN(i);case"XXXX":case"XX":return ua(i);case"XXXXX":case"XXX":default:return ua(i,":")}},x:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"x":return iN(i);case"xxxx":case"xx":return ua(i);case"xxxxx":case"xxx":default:return ua(i,":")}},O:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+oN(i,":");case"OOOO":default:return"GMT"+ua(i,":")}},z:function(e,n,r,s){var o=s._originalDate||e,i=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+oN(i,":");case"zzzz":default:return"GMT"+ua(i,":")}},t:function(e,n,r,s){var o=s._originalDate||e,i=Math.floor(o.getTime()/1e3);return pt(i,n.length)},T:function(e,n,r,s){var o=s._originalDate||e,i=o.getTime();return pt(i,n.length)}};function oN(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var i=e||"";return n+String(s)+i+pt(o,2)}function iN(t,e){if(t%60===0){var n=t>0?"-":"+";return n+pt(Math.abs(t)/60,2)}return ua(t,e)}function ua(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),o=pt(Math.floor(s/60),2),i=pt(s%60,2);return r+o+n+i}const IJ=AJ;var aN=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},eM=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},RJ=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return aN(e,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",aN(s,n)).replace("{{time}}",eM(o,n))},DJ={p:eM,P:RJ};const OJ=DJ;var MJ=["D","DD"],LJ=["YY","YYYY"];function FJ(t){return MJ.indexOf(t)!==-1}function VJ(t){return LJ.indexOf(t)!==-1}function lN(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var zJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UJ=function(e,n,r){var s,o=zJ[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const BJ=UJ;function Qv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var $J={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HJ={date:Qv({formats:$J,defaultWidth:"full"}),time:Qv({formats:qJ,defaultWidth:"full"}),dateTime:Qv({formats:WJ,defaultWidth:"full"})};const GJ=HJ;var KJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YJ=function(e,n,r,s){return KJ[e]};const QJ=YJ;function uu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,i=n!=null&&n.width?String(n.width):o;s=t.formattingValues[i]||t.formattingValues[o]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var XJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rZ=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sZ={ordinalNumber:rZ,era:uu({values:XJ,defaultWidth:"wide"}),quarter:uu({values:JJ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:uu({values:ZJ,defaultWidth:"wide"}),day:uu({values:eZ,defaultWidth:"wide"}),dayPeriod:uu({values:tZ,defaultWidth:"wide",formattingValues:nZ,defaultFormattingWidth:"wide"})};const oZ=sZ;function du(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;var i=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?aZ(l,function(f){return f.test(i)}):iZ(l,function(f){return f.test(i)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(i.length);return{value:u,rest:d}}}function iZ(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function aZ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function lZ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],o=e.match(t.parsePattern);if(!o)return null;var i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;var l=e.slice(s.length);return{value:i,rest:l}}}var cZ=/^(\d+)(th|st|nd|rd)?/i,uZ=/\d+/i,dZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hZ={any:[/^b/i,/^(a|c)/i]},fZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pZ={any:[/1/i,/2/i,/3/i,/4/i]},mZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bZ={ordinalNumber:lZ({matchPattern:cZ,parsePattern:uZ,valueCallback:function(e){return parseInt(e,10)}}),era:du({matchPatterns:dZ,defaultMatchWidth:"wide",parsePatterns:hZ,defaultParseWidth:"any"}),quarter:du({matchPatterns:fZ,defaultMatchWidth:"wide",parsePatterns:pZ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:du({matchPatterns:mZ,defaultMatchWidth:"wide",parsePatterns:gZ,defaultParseWidth:"any"}),day:du({matchPatterns:vZ,defaultMatchWidth:"wide",parsePatterns:yZ,defaultParseWidth:"any"}),dayPeriod:du({matchPatterns:xZ,defaultMatchWidth:"any",parsePatterns:wZ,defaultParseWidth:"any"})};const _Z=bZ;var SZ={code:"en-US",formatDistance:BJ,formatLong:GJ,formatRelative:QJ,localize:oZ,match:_Z,options:{weekStartsOn:0,firstWeekContainsDate:1}};const tM=SZ;var EZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TZ=/^'([^]*?)'?$/,NZ=/''/g,kZ=/[a-zA-Z]/;function Ys(t,e,n){var r,s,o,i,l,c,u,d,f,p,m,y,x,S,_,v,b,j;Ne(2,arguments);var R=String(e),F=Qi(),E=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:F.locale)!==null&&r!==void 0?r:tM,T=sn((o=(i=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:F.firstWeekContainsDate)!==null&&i!==void 0?i:(f=F.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=sn((m=(y=(x=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(_=n.locale)===null||_===void 0||(v=_.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&x!==void 0?x:F.weekStartsOn)!==null&&y!==void 0?y:(b=F.locale)===null||b===void 0||(j=b.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&m!==void 0?m:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var I=He(t);if(!yJ(I))throw new RangeError("Invalid time value");var k=Cd(I),N=bJ(I,k),P={firstWeekContainsDate:T,weekStartsOn:A,locale:E,_originalDate:I},D=R.match(CZ).map(function(L){var B=L[0];if(B==="p"||B==="P"){var $=OJ[B];return $(L,E.formatLong)}return L}).join("").match(EZ).map(function(L){if(L==="''")return"'";var B=L[0];if(B==="'")return jZ(L);var $=IJ[B];if($)return!(n!=null&&n.useAdditionalWeekYearTokens)&&VJ(L)&&lN(L,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&FJ(L)&&lN(L,e,String(t)),$(N,L,E.localize,P);if(B.match(kZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return L}).join("");return D}function jZ(t){var e=t.match(TZ);return e?e[1].replace(NZ,"'"):t}function PZ(t){Ne(1,arguments);var e=He(t),n=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var AZ=6048e5;function IZ(t){Ne(1,arguments);var e=He(t),n=Ga(e).getTime()-pJ(e).getTime();return Math.round(n/AZ)+1}function RZ(t){Ne(1,arguments);var e=He(t),n=e.getTime();return n}function DZ(t){return Ne(1,arguments),Math.floor(RZ(t)/1e3)}function OZ(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=He(t),f=d.getFullYear(),p=Qi(),m=sn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setFullYear(f+1,0,m),y.setHours(0,0,0,0);var x=Js(y,e),S=new Date(0);S.setFullYear(f,0,m),S.setHours(0,0,0,0);var _=Js(S,e);return d.getTime()>=x.getTime()?f+1:d.getTime()>=_.getTime()?f:f-1}function MZ(t,e){var n,r,s,o,i,l,c,u;Ne(1,arguments);var d=Qi(),f=sn((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(i=e.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=OZ(t,e),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var y=Js(m,e);return y}var LZ=6048e5;function FZ(t,e){Ne(1,arguments);var n=He(t),r=Js(n,e).getTime()-MZ(n,e).getTime();return Math.round(r/LZ)+1}function VZ(t){Ne(1,arguments);var e=He(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function zZ(t,e){return Ne(1,arguments),wJ(VZ(t),$n(t),e)+1}function px(t,e){Ne(2,arguments);var n=He(t),r=He(e);return n.getTime()>r.getTime()}function nM(t,e){Ne(2,arguments);var n=He(t),r=He(e);return n.getTime()<r.getTime()}function p1(t,e){Ne(2,arguments);var n=He(t),r=He(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function UZ(t,e){Ne(2,arguments);var n=He(t),r=He(e);return n.getFullYear()===r.getFullYear()}function Xv(t,e){Ne(2,arguments);var n=sn(e);return hn(t,-n)}function Jv(t,e){Ne(2,arguments);var n=He(t),r=sn(e),s=n.getFullYear(),o=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var l=PZ(i);return n.setMonth(r,Math.min(o,l)),n}function cN(t,e){Ne(2,arguments);var n=He(t),r=sn(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function uN(t,e){Ne(2,arguments);var n=sn(e);return Xr(t,-n)}function dN(t,e){Ne(2,arguments);var n=sn(e);return QO(t,-n)}var Oe=function(){return Oe=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Oe.apply(this,arguments)};function BZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function rM(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function nh(t){return t.mode==="multiple"}function rh(t){return t.mode==="range"}function fg(t){return t.mode==="single"}var $Z={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function qZ(t,e){return Ys(t,"LLLL y",e)}function WZ(t,e){return Ys(t,"d",e)}function HZ(t,e){return Ys(t,"LLLL",e)}function GZ(t){return"".concat(t)}function KZ(t,e){return Ys(t,"cccccc",e)}function YZ(t,e){return Ys(t,"yyyy",e)}var QZ=Object.freeze({__proto__:null,formatCaption:qZ,formatDay:WZ,formatMonthCaption:HZ,formatWeekNumber:GZ,formatWeekdayName:KZ,formatYearCaption:YZ}),XZ=function(t,e,n){return Ys(t,"do MMMM (EEEE)",n)},JZ=function(){return"Month: "},ZZ=function(){return"Go to next month"},eee=function(){return"Go to previous month"},tee=function(t,e){return Ys(t,"cccc",e)},nee=function(t){return"Week n. ".concat(t)},ree=function(){return"Year: "},see=Object.freeze({__proto__:null,labelDay:XZ,labelMonthDropdown:JZ,labelNext:ZZ,labelPrevious:eee,labelWeekNumber:nee,labelWeekday:tee,labelYearDropdown:ree});function oee(){var t="buttons",e=$Z,n=tM,r={},s={},o=1,i={},l=new Date;return{captionLayout:t,classNames:e,formatters:QZ,labels:see,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function iee(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,o=t.fromDate,i=t.toDate;return r?o=$n(r):e&&(o=new Date(e,0,1)),s?i=Nd(s):n&&(i=new Date(n,11,31)),{fromDate:o?vc(o):void 0,toDate:i?vc(i):void 0}}var sM=g.createContext(void 0);function aee(t){var e,n=t.initialProps,r=oee(),s=iee(n),o=s.fromDate,i=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(fg(n)||nh(n)||rh(n))&&(c=n.onSelect);var u=Oe(Oe(Oe({},r),n),{captionLayout:l,classNames:Oe(Oe({},r.classNames),n.classNames),components:Oe({},n.components),formatters:Oe(Oe({},r.formatters),n.formatters),fromDate:o,labels:Oe(Oe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Oe(Oe({},r.modifiers),n.modifiers),modifiersClassNames:Oe(Oe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Oe(Oe({},r.styles),n.styles),toDate:i});return a.jsx(sM.Provider,{value:u,children:t.children})}function St(){var t=g.useContext(sM);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function oM(t){var e=St(),n=e.locale,r=e.classNames,s=e.styles,o=e.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function lee(t){return a.jsx("svg",Oe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function iM(t){var e,n,r=t.onChange,s=t.value,o=t.children,i=t.caption,l=t.className,c=t.style,u=St(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:lee;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function cee(t){var e,n=St(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(UZ(r,s))for(var p=$n(r),m=r.getMonth();m<=s.getMonth();m++)f.push(Jv(p,m));else for(var p=$n(new Date),m=0;m<=11;m++)f.push(Jv(p,m));var y=function(S){var _=Number(S.target.value),v=Jv($n(t.displayMonth),_);t.onChange(v)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:iM;return a.jsx(x,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:i}),children:f.map(function(S){return a.jsx("option",{value:S.getMonth(),children:l(S,{locale:i})},S.getMonth())})})}function uee(t){var e,n=t.displayMonth,r=St(),s=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var m=s.getFullYear(),y=o.getFullYear(),x=m;x<=y;x++)p.push(cN(fx(new Date),x));var S=function(v){var b=cN($n(n),Number(v.target.value));t.onChange(b)},_=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:iM;return a.jsx(_,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:S,value:n.getFullYear(),caption:d(n,{locale:i}),children:p.map(function(v){return a.jsx("option",{value:v.getFullYear(),children:d(v,{locale:i})},v.getFullYear())})})}function dee(t,e){var n=g.useState(t),r=n[0],s=n[1],o=e===void 0?r:e;return[o,s]}function hee(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,o=t.toDate,i=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(o&&Td(o,s)<0){var u=-1*(c-1);s=Xr(o,u)}return i&&Td(s,i)<0&&(s=i),$n(s)}function fee(){var t=St(),e=hee(t),n=dee(e,t.month),r=n[0],s=n[1],o=function(i){var l;if(!t.disableNavigation){var c=$n(i);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,o]}function pee(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=$n(t),o=$n(Xr(s,r)),i=Td(o,s),l=[],c=0;c<i;c++){var u=Xr(s,c);l.push(u)}return n&&(l=l.reverse()),l}function mee(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=$n(t);if(!n)return Xr(l,i);var c=Td(n,t);if(!(c<o))return Xr(l,i)}}function gee(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=$n(t);if(!n)return Xr(l,-i);var c=Td(l,n);if(!(c<=0))return Xr(l,-i)}}var aM=g.createContext(void 0);function vee(t){var e=St(),n=fee(),r=n[0],s=n[1],o=pee(r,e),i=mee(r,e),l=gee(r,e),c=function(f){return o.some(function(p){return p1(f,p)})},u=function(f,p){c(f)||(p&&nM(f,p)?s(Xr(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return a.jsx(aM.Provider,{value:d,children:t.children})}function sh(){var t=g.useContext(aM);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function hN(t){var e,n=St(),r=n.classNames,s=n.styles,o=n.components,i=sh().goToMonth,l=function(d){i(Xr(d,t.displayIndex?-t.displayIndex:0))},c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:oM,u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:u}),a.jsx(cee,{onChange:l,displayMonth:t.displayMonth}),a.jsx(uee,{onChange:l,displayMonth:t.displayMonth})]})}function yee(t){return a.jsx("svg",Oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xee(t){return a.jsx("svg",Oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Jp=g.forwardRef(function(t,e){var n=St(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var i=o.join(" "),l=Oe(Oe({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),a.jsx("button",Oe({},t,{ref:e,type:"button",className:i,style:l}))});function wee(t){var e,n,r=St(),s=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var p=u(t.previousMonth,{locale:o}),m=[i.nav_button,i.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:o}),x=[i.nav_button,i.nav_button_next].join(" "),S=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:xee,_=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:yee;return a.jsxs("div",{className:i.nav,style:l.nav,children:[!t.hidePrevious&&a.jsx(Jp,{name:"previous-month","aria-label":p,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?a.jsx(S,{className:i.nav_icon,style:l.nav_icon}):a.jsx(_,{className:i.nav_icon,style:l.nav_icon})}),!t.hideNext&&a.jsx(Jp,{name:"next-month","aria-label":y,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?a.jsx(_,{className:i.nav_icon,style:l.nav_icon}):a.jsx(S,{className:i.nav_icon,style:l.nav_icon})})]})}function fN(t){var e=St().numberOfMonths,n=sh(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(y){return p1(t.displayMonth,y)}),c=l===0,u=l===i.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){r&&o(r)},m=function(){s&&o(s)};return a.jsx(wee,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:m})}function bee(t){var e,n=St(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:oM,u;return s?u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?u=a.jsx(hN,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(hN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(fN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(fN,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:r.caption,style:o.caption,children:u})}function _ee(t){var e=St(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function See(t,e,n){for(var r=n?Ga(new Date):Js(new Date,{locale:t,weekStartsOn:e}),s=[],o=0;o<7;o++){var i=hn(r,o);s.push(i)}return s}function Eee(){var t=St(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,o=t.weekStartsOn,i=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=See(s,o,i);return a.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function Cee(){var t,e=St(),n=e.classNames,r=e.styles,s=e.components,o=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:Eee;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(o,{})})}function Tee(t){var e=St(),n=e.locale,r=e.formatters.formatDay;return a.jsx(a.Fragment,{children:r(t.date,{locale:n})})}var m1=g.createContext(void 0);function Nee(t){if(!nh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(m1.Provider,{value:e,children:t.children})}return a.jsx(kee,{initialProps:t.initialProps,children:t.children})}function kee(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,o=e.max,i=function(u,d,f){var p,m;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var x=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!x){var S=r?rM([],r,!0):[];if(d.selected){var _=S.findIndex(function(v){return fr(u,v)});S.splice(_,1)}else S.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,S,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,f=r.some(function(p){return fr(p,u)});return!!(d&&!f)});var c={selected:r,onDayClick:i,modifiers:l};return a.jsx(m1.Provider,{value:c,children:n})}function g1(){var t=g.useContext(m1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function jee(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?fr(s,t)&&fr(r,t)?void 0:fr(s,t)?{from:s,to:void 0}:fr(r,t)?void 0:px(r,t)?{from:t,to:s}:{from:r,to:t}:s?px(t,s)?{from:s,to:t}:{from:t,to:s}:r?nM(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var v1=g.createContext(void 0);function Pee(t){if(!rh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(v1.Provider,{value:e,children:t.children})}return a.jsx(Aee,{initialProps:t.initialProps,children:t.children})}function Aee(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},o=s.from,i=s.to,l=e.min,c=e.max,u=function(m,y,x){var S,_;(S=e.onDayClick)===null||S===void 0||S.call(e,m,y,x);var v=jee(m,r);(_=e.onSelect)===null||_===void 0||_.call(e,v,m,y,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],fr(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:Xv(o,l-1),before:hn(o,l-1)}),o&&i&&d.disabled.push({after:o,before:hn(o,l-1)}),!o&&i&&d.disabled.push({after:Xv(i,l-1),before:hn(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:hn(o,-c+1)}),d.disabled.push({after:hn(o,c-1)})),o&&i){var f=vo(i,o)+1,p=c-f;d.disabled.push({before:Xv(o,p)}),d.disabled.push({after:hn(i,p)})}!o&&i&&(d.disabled.push({before:hn(i,-c+1)}),d.disabled.push({after:hn(i,c-1)}))}return a.jsx(v1.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function y1(){var t=g.useContext(v1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Lf(t){return Array.isArray(t)?rM([],t,!0):t!==void 0?[t]:[]}function Iee(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Lf(s)}),e}var bs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(bs||(bs={}));var Ree=bs.Selected,io=bs.Disabled,Dee=bs.Hidden,Oee=bs.Today,Zv=bs.RangeEnd,e0=bs.RangeMiddle,t0=bs.RangeStart,Mee=bs.Outside;function Lee(t,e,n){var r,s=(r={},r[Ree]=Lf(t.selected),r[io]=Lf(t.disabled),r[Dee]=Lf(t.hidden),r[Oee]=[t.today],r[Zv]=[],r[e0]=[],r[t0]=[],r[Mee]=[],r);return t.fromDate&&s[io].push({before:t.fromDate}),t.toDate&&s[io].push({after:t.toDate}),nh(t)?s[io]=s[io].concat(e.modifiers[io]):rh(t)&&(s[io]=s[io].concat(n.modifiers[io]),s[t0]=n.modifiers[t0],s[e0]=n.modifiers[e0],s[Zv]=n.modifiers[Zv]),s}var lM=g.createContext(void 0);function Fee(t){var e=St(),n=g1(),r=y1(),s=Lee(e,n,r),o=Iee(e.modifiers),i=Oe(Oe({},s),o);return a.jsx(lM.Provider,{value:i,children:t.children})}function cM(){var t=g.useContext(lM);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Vee(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function zee(t){return!!(t&&typeof t=="object"&&"from"in t)}function Uee(t){return!!(t&&typeof t=="object"&&"after"in t)}function Bee(t){return!!(t&&typeof t=="object"&&"before"in t)}function $ee(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function qee(t,e){var n,r=e.from,s=e.to;if(r&&s){var o=vo(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=vo(t,r)>=0&&vo(s,t)>=0;return i}return s?fr(s,t):r?fr(r,t):!1}function Wee(t){return h1(t)}function Hee(t){return Array.isArray(t)&&t.every(h1)}function Gee(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Wee(n))return fr(t,n);if(Hee(n))return n.includes(t);if(zee(n))return qee(t,n);if($ee(n))return n.dayOfWeek.includes(t.getDay());if(Vee(n)){var r=vo(n.before,t),s=vo(n.after,t),o=r>0,i=s<0,l=px(n.before,n.after);return l?i&&o:o||i}return Uee(n)?vo(t,n.after)>0:Bee(n)?vo(n.before,t)>0:typeof n=="function"?n(t):!1})}function x1(t,e,n){var r=Object.keys(e).reduce(function(o,i){var l=e[i];return Gee(t,l)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!p1(t,n)&&(s.outside=!0),s}function Kee(t,e){for(var n=$n(t[0]),r=Nd(t[t.length-1]),s,o,i=n;i<=r;){var l=x1(i,e),c=!l.disabled&&!l.hidden;if(!c){i=hn(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=hn(i,1)}return o||s}var Yee=365;function uM(t,e){var n=e.moveBy,r=e.direction,s=e.context,o=e.modifiers,i=e.retry,l=i===void 0?{count:0,lastFocused:t}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,p={day:hn,week:hx,month:Xr,year:QO,startOfWeek:function(S){return s.ISOWeek?Ga(S):Js(S,{locale:f,weekStartsOn:c})},endOfWeek:function(S){return s.ISOWeek?XO(S):f1(S,{locale:f,weekStartsOn:c})}},m=p[n](t,r==="after"?1:-1);r==="before"&&u?m=gJ([u,m]):r==="after"&&d&&(m=vJ([d,m]));var y=!0;if(o){var x=x1(m,o);y=!x.disabled&&!x.hidden}return y?m:l.count>Yee?l.lastFocused:uM(m,{moveBy:n,direction:r,context:s,modifiers:o,retry:Oe(Oe({},l),{count:l.count+1})})}var dM=g.createContext(void 0);function Qee(t){var e=sh(),n=cM(),r=g.useState(),s=r[0],o=r[1],i=g.useState(),l=i[0],c=i[1],u=Kee(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),o(void 0)},p=function(S){o(S)},m=St(),y=function(S,_){if(s){var v=uM(s,{moveBy:S,direction:_,context:m,modifiers:n});fr(s,v)||(e.goToDate(v,s),p(v))}},x={focusedDay:s,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return a.jsx(dM.Provider,{value:x,children:t.children})}function w1(){var t=g.useContext(dM);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Xee(t,e){var n=cM(),r=x1(t,n,e);return r}var b1=g.createContext(void 0);function Jee(t){if(!fg(t.initialProps)){var e={selected:void 0};return a.jsx(b1.Provider,{value:e,children:t.children})}return a.jsx(Zee,{initialProps:t.initialProps,children:t.children})}function Zee(t){var e=t.initialProps,n=t.children,r=function(o,i,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,o,i,l),i.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,o,i,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,o,o,i,l)},s={selected:e.selected,onDayClick:r};return a.jsx(b1.Provider,{value:s,children:n})}function hM(){var t=g.useContext(b1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function ete(t,e){var n=St(),r=hM(),s=g1(),o=y1(),i=w1(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,p=i.focus,m=i.focusMonthBefore,y=i.focusMonthAfter,x=i.focusYearBefore,S=i.focusYearAfter,_=i.focusStartOfWeek,v=i.focusEndOfWeek,b=function($){var M,V,G,K;fg(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,t,e,$):nh(n)?(V=s.onDayClick)===null||V===void 0||V.call(s,t,e,$):rh(n)?(G=o.onDayClick)===null||G===void 0||G.call(o,t,e,$):(K=n.onDayClick)===null||K===void 0||K.call(n,t,e,$)},j=function($){var M;p(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,$)},R=function($){var M;f(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,$)},F=function($){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,$)},E=function($){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,$)},T=function($){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,$)},A=function($){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,$)},I=function($){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,$)},k=function($){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,$)},N=function($){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,$)},P=function($){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,$)},D=function($){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,$)},L=function($){var M;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?x():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?S():y();break;case"Home":$.preventDefault(),$.stopPropagation(),_();break;case"End":$.preventDefault(),$.stopPropagation(),v();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,$)},B={onClick:b,onFocus:j,onBlur:R,onKeyDown:L,onKeyUp:D,onMouseEnter:F,onMouseLeave:E,onPointerEnter:T,onPointerLeave:A,onTouchCancel:I,onTouchEnd:k,onTouchMove:N,onTouchStart:P};return B}function tte(){var t=St(),e=hM(),n=g1(),r=y1(),s=fg(t)?e.selected:nh(t)?n.selected:rh(t)?r.selected:void 0;return s}function nte(t){return Object.values(bs).includes(t)}function rte(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(nte(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function ste(t,e){var n=Oe({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Oe(Oe({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function ote(t,e,n){var r,s,o,i=St(),l=w1(),c=Xee(t,e),u=ete(t,c),d=tte(),f=!!(i.onDayClick||i.mode!=="default");g.useEffect(function(){var F;c.outside||l.focusedDay&&f&&fr(l.focusedDay,t)&&((F=n.current)===null||F===void 0||F.focus())},[l.focusedDay,t,n,f,c.outside]);var p=rte(i,c).join(" "),m=ste(i,c),y=!!(c.outside&&!i.showOutsideDays||c.hidden),x=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:Tee,S=a.jsx(x,{date:t,displayMonth:e,activeModifiers:c}),_={style:m,className:p,children:S,role:"gridcell"},v=l.focusTarget&&fr(l.focusTarget,t)&&!c.outside,b=l.focusedDay&&fr(l.focusedDay,t),j=Oe(Oe(Oe({},_),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||v?0:-1,r)),u),R={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:_};return R}function ite(t){var e=g.useRef(null),n=ote(t.date,t.displayMonth,e);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(Jp,Oe({name:"day",ref:e},n.buttonProps)):a.jsx("div",Oe({},n.divProps))}function ate(t){var e=t.number,n=t.dates,r=St(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(m){s(e,n,m)};return a.jsx(Jp,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:p,children:d})}function lte(t){var e,n,r=St(),s=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:ite,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:ate,d;return i&&(d=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[d,t.dates.map(function(f){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:t.displayMonth,date:f})},DZ(f))})]})}function pN(t,e,n){for(var r=n!=null&&n.ISOWeek?XO(e):f1(e,n),s=n!=null&&n.ISOWeek?Ga(t):Js(t,n),o=vo(r,s),i=[],l=0;l<=o;l++)i.push(hn(s,l));var c=i.reduce(function(u,d){var f=n!=null&&n.ISOWeek?IZ(d):FZ(d,n),p=u.find(function(m){return m.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function cte(t,e){var n=pN($n(t),Nd(t),e);if(e!=null&&e.useFixedWeeks){var r=zZ(t,e);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=hx(o,6-r),l=pN(hx(o,1),i,e);n.push.apply(n,l)}}return n}function ute(t){var e,n,r,s=St(),o=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,m=s.ISOWeek,y=cte(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:o,weekStartsOn:f,firstWeekContainsDate:p}),x=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Cee,S=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:lte,_=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:_ee;return a.jsxs("table",{id:t.id,className:i.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&a.jsx(x,{}),a.jsx("tbody",{className:i.tbody,style:l.tbody,children:y.map(function(v){return a.jsx(S,{displayMonth:t.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),a.jsx(_,{displayMonth:t.displayMonth})]})}function dte(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var hte=dte()?g.useLayoutEffect:g.useEffect,n0=!1,fte=0;function mN(){return"react-day-picker-".concat(++fte)}function pte(t){var e,n=t??(n0?mN():null),r=g.useState(n),s=r[0],o=r[1];return hte(function(){s===null&&o(mN())},[]),g.useEffect(function(){n0===!1&&(n0=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function mte(t){var e,n,r=St(),s=r.dir,o=r.classNames,i=r.styles,l=r.components,c=sh().displayMonths,u=pte(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],p=i.month,m=t.displayIndex===0,y=t.displayIndex===c.length-1,x=!m&&!y;s==="rtl"&&(e=[m,y],y=e[0],m=e[1]),m&&(f.push(o.caption_start),p=Oe(Oe({},p),i.caption_start)),y&&(f.push(o.caption_end),p=Oe(Oe({},p),i.caption_end)),x&&(f.push(o.caption_between),p=Oe(Oe({},p),i.caption_between));var S=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:bee;return a.jsxs("div",{className:f.join(" "),style:p,children:[a.jsx(S,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(ute,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function gte(t){var e=St(),n=e.classNames,r=e.styles;return a.jsx("div",{className:n.months,style:r.months,children:t.children})}function vte(t){var e,n,r=t.initialProps,s=St(),o=w1(),i=sh(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Oe(Oe({},s.styles.root),s.style),p=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,x){var S;return Oe(Oe({},y),(S={},S[x]=r[x],S))},{}),m=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:gte;return a.jsx("div",Oe({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:a.jsx(m,{children:i.displayMonths.map(function(y,x){return a.jsx(mte,{displayIndex:x,displayMonth:y},x)})})}))}function yte(t){var e=t.children,n=BZ(t,["children"]);return a.jsx(aee,{initialProps:n,children:a.jsx(vee,{children:a.jsx(Jee,{initialProps:n,children:a.jsx(Nee,{initialProps:n,children:a.jsx(Pee,{initialProps:n,children:a.jsx(Fee,{children:a.jsx(Qee,{children:e})})})})})})})}function xte(t){return a.jsx(yte,Oe({},t,{children:a.jsx(vte,{initialProps:t})}))}function fM({className:t,classNames:e,showOutsideDays:n=!0,...r}){return a.jsx(xte,{showOutsideDays:n,className:$e("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:$e("h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:$e("h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>a.jsx(dA,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(U9,{className:"h-4 w-4"})},...r})}fM.displayName="Calendar";var pg="Popover",[pM,hne]=Zs(pg,[Cc]),oh=Cc(),[wte,Xi]=pM(pg),mM=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=t,l=oh(e),c=g.useRef(null),[u,d]=g.useState(!1),[f,p]=Ma({prop:r,defaultProp:s??!1,onChange:o,caller:pg});return a.jsx(b2,{...l,children:a.jsx(wte,{scope:e,contentId:bo(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:i,children:n})})};mM.displayName=pg;var gM="PopoverAnchor",bte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Xi(gM,n),o=oh(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(Am,{...o,...r,ref:e})});bte.displayName=gM;var vM="PopoverTrigger",yM=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Xi(vM,n),o=oh(n),i=vt(e,s.triggerRef),l=a.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SM(s.open),...r,ref:i,onClick:Ce(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Am,{asChild:!0,...o,children:l})});yM.displayName=vM;var _1="PopoverPortal",[_te,Ste]=pM(_1,{forceMount:void 0}),xM=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Xi(_1,e);return a.jsx(_te,{scope:e,forceMount:n,children:a.jsx(Mo,{present:n||o.open,children:a.jsx(Ld,{asChild:!0,container:s,children:r})})})};xM.displayName=_1;var yc="PopoverContent",wM=g.forwardRef((t,e)=>{const n=Ste(yc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Xi(yc,t.__scopePopover);return a.jsx(Mo,{present:r||o.open,children:o.modal?a.jsx(Cte,{...s,ref:e}):a.jsx(Tte,{...s,ref:e})})});wM.displayName=yc;var Ete=Oa("PopoverContent.RemoveScroll"),Cte=g.forwardRef((t,e)=>{const n=Xi(yc,t.__scopePopover),r=g.useRef(null),s=vt(e,r),o=g.useRef(!1);return g.useEffect(()=>{const i=r.current;if(i)return Jw(i)},[]),a.jsx(Xw,{as:Ete,allowPinchZoom:!0,children:a.jsx(bM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Tte=g.forwardRef((t,e)=>{const n=Xi(yc,t.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(bM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),bM=g.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=Xi(yc,n),m=oh(n);return Qw(),a.jsx(Dm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(_c,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:a.jsx(Gw,{"data-state":SM(p.open),role:"dialog",id:p.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_M="PopoverClose",Nte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Xi(_M,n);return a.jsx(ze.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});Nte.displayName=_M;var kte="PopoverArrow",jte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=oh(n);return a.jsx(Kw,{...s,...r,ref:e})});jte.displayName=kte;function SM(t){return t?"open":"closed"}var Pte=mM,Ate=yM,Ite=xM,EM=wM;const Rte=Pte,Dte=Ate,CM=Pe.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>a.jsx(Ite,{children:a.jsx(EM,{ref:s,align:e,sideOffset:n,className:$e("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));CM.displayName=EM.displayName;const Ote=Pe.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx("div",{ref:s,role:n?"none":"separator","aria-orientation":e,className:$e("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ote.displayName="Separator";const Mte=()=>{g.useContext(wr);const{toast:t}=xr();Oc();const{ordens:e=[]}=lg(),{ordens:n=[]}=Jd();Zd(),eh();const{financeiro:r=[]}=th(),[s,o]=g.useState("graficos"),[i,l]=g.useState({from:hn(new Date,-30),to:new Date}),[c,u]=g.useState(null),[d,f]=g.useState(""),[p,m]=g.useState("all"),[y,x]=g.useState("grid"),[S,_]=g.useState(!1),v=[{label:"Últimos 7 dias",value:"7d",from:hn(new Date,-7),to:new Date},{label:"Últimos 30 dias",value:"30d",from:hn(new Date,-30),to:new Date},{label:"Últimos 90 dias",value:"90d",from:hn(new Date,-90),to:new Date},{label:"Este mês",value:"month",from:$n(new Date),to:Nd(new Date)},{label:"Mês passado",value:"lastMonth",from:$n(uN(new Date,1)),to:Nd(uN(new Date,1))},{label:"Este ano",value:"year",from:fx(new Date),to:sN(new Date)},{label:"Ano passado",value:"lastYear",from:fx(dN(new Date,1)),to:sN(dN(new Date,1))}];n.filter(I=>{const k=new Date(I.createdAt);return k>=i.from&&k<=i.to}),e.filter(I=>{const k=new Date(I.createdAt);return k>=i.from&&k<=i.to}),r.filter(I=>{const k=new Date(I.createdAt);return k>=i.from&&k<=i.to});const b=[{id:"vendas-diarias",title:"Vendas Diárias",description:"Evolução das vendas por dia",icon:ar,color:"bg-blue-500",type:"bar"},{id:"fluxo-caixa",title:"Fluxo de Caixa",description:"Entradas e saídas de dinheiro",icon:cr,color:"bg-green-500",type:"line"},{id:"produtos-vendidos",title:"Produtos Mais Vendidos",description:"Ranking dos produtos por quantidade",icon:hr,color:"bg-purple-500",type:"horizontalBar"},{id:"categorias-vendas",title:"Vendas por Categoria",description:"Distribuição de vendas por categoria",icon:gv,color:"bg-orange-500",type:"pie"},{id:"clientes-top",title:"Top Clientes",description:"Clientes que mais compraram",icon:ms,color:"bg-indigo-500",type:"bar"},{id:"receitas-despesas",title:"Receitas vs Despesas",description:"Comparativo mensal de receitas e despesas",icon:Tn,color:"bg-emerald-500",type:"composed"},{id:"ticket-medio",title:"Ticket Médio",description:"Valor médio por venda ao longo do tempo",icon:Mh,color:"bg-cyan-500",type:"line"},{id:"conversao-vendas",title:"Taxa de Conversão",description:"Percentual de conversão de propostas em vendas",icon:vu,color:"bg-pink-500",type:"area"}],j=[{id:"vendas-por-periodo",title:"Vendas por Período",category:"Vendas",icon:da,color:"bg-blue-500"},{id:"vendas-por-cliente",title:"Vendas por Cliente",category:"Vendas",icon:ms,color:"bg-indigo-500"},{id:"vendas-por-produto",title:"Vendas por Produto",category:"Vendas",icon:hr,color:"bg-purple-500"},{id:"vendas-por-categoria",title:"Vendas por Categoria",category:"Vendas",icon:Lu,color:"bg-orange-500"},{id:"vendas-por-vendedor",title:"Vendas por Vendedor",category:"Vendas",icon:qr,color:"bg-green-500"},{id:"vendas-por-regiao",title:"Vendas por Região",category:"Vendas",icon:xp,color:"bg-red-500"},{id:"vendas-por-canal",title:"Vendas por Canal",category:"Vendas",icon:hA,color:"bg-cyan-500"},{id:"vendas-por-forma-pagamento",title:"Vendas por Forma de Pagamento",category:"Vendas",icon:$9,color:"bg-yellow-500"},{id:"ticket-medio-cliente",title:"Ticket Médio por Cliente",category:"Vendas",icon:Mh,color:"bg-pink-500"},{id:"frequencia-compra",title:"Frequência de Compra",category:"Vendas",icon:ei,color:"bg-teal-500"},{id:"receitas-periodo",title:"Receitas por Período",category:"Financeiro",icon:cr,color:"bg-emerald-500"},{id:"despesas-periodo",title:"Despesas por Período",category:"Financeiro",icon:Da,color:"bg-red-500"},{id:"fluxo-caixa-detalhado",title:"Fluxo de Caixa Detalhado",category:"Financeiro",icon:Tn,color:"bg-green-500"},{id:"contas-receber",title:"Contas a Receber",category:"Financeiro",icon:ei,color:"bg-yellow-500"},{id:"contas-pagar",title:"Contas a Pagar",category:"Financeiro",icon:zs,color:"bg-orange-500"},{id:"margem-lucro",title:"Margem de Lucro",category:"Financeiro",icon:vu,color:"bg-purple-500"},{id:"roi-produtos",title:"ROI por Produto",category:"Financeiro",icon:ar,color:"bg-indigo-500"},{id:"custo-venda",title:"Custo por Venda",category:"Financeiro",icon:Mh,color:"bg-cyan-500"},{id:"lucratividade-categoria",title:"Lucratividade por Categoria",category:"Financeiro",icon:gv,color:"bg-pink-500"},{id:"projecao-receitas",title:"Projeção de Receitas",category:"Financeiro",icon:cr,color:"bg-teal-500"},{id:"estoque-atual",title:"Estoque Atual",category:"Estoque",icon:hr,color:"bg-blue-500"},{id:"produtos-baixo-estoque",title:"Produtos com Baixo Estoque",category:"Estoque",icon:zs,color:"bg-red-500"},{id:"produtos-sem-estoque",title:"Produtos sem Estoque",category:"Estoque",icon:vr,color:"bg-red-600"},{id:"movimentacao-estoque",title:"Movimentação de Estoque",category:"Estoque",icon:fy,color:"bg-green-500"},{id:"giro-estoque",title:"Giro de Estoque",category:"Estoque",icon:Fh,color:"bg-purple-500"},{id:"valor-estoque",title:"Valor do Estoque",category:"Estoque",icon:Tn,color:"bg-yellow-500"},{id:"produtos-vencidos",title:"Produtos Vencidos",category:"Estoque",icon:da,color:"bg-orange-500"},{id:"produtos-proximo-vencimento",title:"Produtos Próximos ao Vencimento",category:"Estoque",icon:ei,color:"bg-yellow-600"},{id:"entradas-estoque",title:"Entradas de Estoque",category:"Estoque",icon:M9,color:"bg-green-600"},{id:"saidas-estoque",title:"Saídas de Estoque",category:"Estoque",icon:F9,color:"bg-red-600"},{id:"clientes-cadastrados",title:"Clientes Cadastrados",category:"Clientes",icon:ms,color:"bg-indigo-500"},{id:"clientes-ativos",title:"Clientes Ativos",category:"Clientes",icon:vp,color:"bg-green-500"},{id:"clientes-inativos",title:"Clientes Inativos",category:"Clientes",icon:vr,color:"bg-red-500"},{id:"novos-clientes",title:"Novos Clientes",category:"Clientes",icon:Tr,color:"bg-blue-500"},{id:"clientes-fidelidade",title:"Clientes Fidelidade",category:"Clientes",icon:bf,color:"bg-yellow-500"},{id:"segmentacao-clientes",title:"Segmentação de Clientes",category:"Clientes",icon:kE,color:"bg-purple-500"},{id:"satisfacao-clientes",title:"Satisfação dos Clientes",category:"Clientes",icon:NE,color:"bg-pink-500"},{id:"clientes-potenciais",title:"Clientes Potenciais",category:"Clientes",icon:vu,color:"bg-cyan-500"},{id:"historico-cliente",title:"Histórico por Cliente",category:"Clientes",icon:Us,color:"bg-teal-500"},{id:"geolocalizacao-clientes",title:"Geolocalização de Clientes",category:"Clientes",icon:xp,color:"bg-orange-500"},{id:"catalogo-produtos",title:"Catálogo de Produtos",category:"Produtos",icon:hr,color:"bg-blue-500"},{id:"produtos-mais-vendidos",title:"Produtos Mais Vendidos",category:"Produtos",icon:cr,color:"bg-green-500"},{id:"produtos-menos-vendidos",title:"Produtos Menos Vendidos",category:"Produtos",icon:Da,color:"bg-red-500"},{id:"produtos-lucrativos",title:"Produtos Mais Lucrativos",category:"Produtos",icon:Tn,color:"bg-yellow-500"},{id:"produtos-sazonalidade",title:"Sazonalidade de Produtos",category:"Produtos",icon:da,color:"bg-purple-500"},{id:"preco-produtos",title:"Análise de Preços",category:"Produtos",icon:Lu,color:"bg-indigo-500"},{id:"margem-produtos",title:"Margem por Produto",category:"Produtos",icon:Mh,color:"bg-cyan-500"},{id:"produtos-categoria",title:"Produtos por Categoria",category:"Produtos",icon:kE,color:"bg-orange-500"},{id:"produtos-fornecedor",title:"Produtos por Fornecedor",category:"Produtos",icon:X9,color:"bg-teal-500"},{id:"produtos-promocao",title:"Produtos em Promoção",category:"Produtos",icon:gy,color:"bg-pink-500"},{id:"ordens-servico",title:"Ordens de Serviço",category:"Serviços",icon:Us,color:"bg-blue-500"},{id:"servicos-concluidos",title:"Serviços Concluídos",category:"Serviços",icon:vp,color:"bg-green-500"},{id:"servicos-pendentes",title:"Serviços Pendentes",category:"Serviços",icon:ei,color:"bg-yellow-500"},{id:"servicos-atrasados",title:"Serviços Atrasados",category:"Serviços",icon:zs,color:"bg-red-500"},{id:"tempo-medio-servico",title:"Tempo Médio de Serviço",category:"Serviços",icon:ei,color:"bg-purple-500"},{id:"servicos-tecnico",title:"Serviços por Técnico",category:"Serviços",icon:qr,color:"bg-indigo-500"},{id:"servicos-tipo",title:"Serviços por Tipo",category:"Serviços",icon:Lu,color:"bg-orange-500"},{id:"satisfacao-servicos",title:"Satisfação dos Serviços",category:"Serviços",icon:bf,color:"bg-yellow-500"},{id:"custos-servicos",title:"Custos dos Serviços",category:"Serviços",icon:Tn,color:"bg-green-500"},{id:"agendamentos",title:"Agendamentos",category:"Serviços",icon:da,color:"bg-cyan-500"},{id:"performance-vendedores",title:"Performance dos Vendedores",category:"Performance",icon:V9,color:"bg-yellow-600"},{id:"metas-vendas",title:"Metas de Vendas",category:"Performance",icon:vu,color:"bg-purple-500"},{id:"conversao-leads",title:"Conversão de Leads",category:"Performance",icon:cr,color:"bg-green-500"},{id:"tempo-resposta",title:"Tempo de Resposta",category:"Performance",icon:ei,color:"bg-blue-500"},{id:"produtividade-equipe",title:"Produtividade da Equipe",category:"Performance",icon:fy,color:"bg-indigo-500"},{id:"eficiencia-processos",title:"Eficiência dos Processos",category:"Performance",icon:gy,color:"bg-yellow-500"},{id:"qualidade-atendimento",title:"Qualidade do Atendimento",category:"Performance",icon:bf,color:"bg-pink-500"},{id:"retencao-clientes",title:"Retenção de Clientes",category:"Performance",icon:NE,color:"bg-red-500"},{id:"crescimento-receita",title:"Crescimento da Receita",category:"Performance",icon:cr,color:"bg-emerald-500"},{id:"market-share",title:"Market Share",category:"Performance",icon:gv,color:"bg-cyan-500"}],R=I=>{l({from:I.from,to:I.to})},F=async I=>{_(!0);try{await new Promise(k=>setTimeout(k,1e3)),t({title:"Relatório gerado!",description:"O relatório foi processado com sucesso."}),u(I)}catch{t({title:"Erro",description:"Erro ao gerar o relatório.",variant:"destructive"})}finally{_(!1)}},E=I=>{t({title:"Exportando...",description:`Relatório sendo exportado em formato ${I}`})},T=j.filter(I=>{const k=p==="all"||I.category===p,N=I.title.toLowerCase().includes(d.toLowerCase());return k&&N}),A=["all",...new Set(j.map(I=>I.category))];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatórios"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Análise completa e detalhada do seu negócio"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs(Rte,{children:[a.jsx(Dte,{asChild:!0,children:a.jsxs(Q,{variant:"outline",className:"w-full sm:w-[280px] justify-start",children:[a.jsx(da,{className:"mr-2 h-4 w-4"}),i!=null&&i.from?i.to?a.jsxs(a.Fragment,{children:[Ys(i.from,"dd/MM/yyyy")," - ",Ys(i.to,"dd/MM/yyyy")]}):Ys(i.from,"dd/MM/yyyy"):a.jsx("span",{children:"Selecione um período"})]})}),a.jsx(CM,{className:"w-auto p-0",align:"end",children:a.jsx(fM,{initialFocus:!0,mode:"range",defaultMonth:i==null?void 0:i.from,selected:i,onSelect:l,numberOfMonths:2})})]}),a.jsxs(ct,{onValueChange:I=>{const k=v.find(N=>N.value===I);k&&R(k)},children:[a.jsx(it,{className:"w-full sm:w-[180px]",children:a.jsx(ut,{placeholder:"Período rápido"})}),a.jsx(at,{children:v.map(I=>a.jsx(ae,{value:I.value,children:I.label},I.value))})]})]})]}),a.jsxs(Ua,{value:s,onValueChange:o,className:"w-full",children:[a.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[a.jsxs(un,{value:"graficos",className:"flex items-center gap-2",children:[a.jsx(ar,{className:"h-4 w-4"}),"Relatórios Gráficos"]}),a.jsxs(un,{value:"lista",className:"flex items-center gap-2",children:[a.jsx(jE,{className:"h-4 w-4"}),"Relatórios em Lista"]})]}),a.jsx(dn,{value:"graficos",className:"space-y-6 pt-6",children:a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(I=>a.jsxs(Wt,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:[a.jsxs(Zt,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-5 w-5 text-white"})}),a.jsx(Ai,{variant:"secondary",className:"text-xs",children:I.type})]}),a.jsx(en,{className:"text-lg",children:I.title}),a.jsx(po,{className:"text-sm",children:I.description})]}),a.jsx(Ht,{className:"pt-0",children:a.jsxs(Q,{onClick:()=>F(I.id),className:"w-full",disabled:S,children:[S?a.jsx(Fh,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx($l,{className:"h-4 w-4 mr-2"}),"Visualizar"]})})]},I.id))})}),a.jsxs(dn,{value:"lista",className:"space-y-6 pt-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(pe,{placeholder:"Buscar relatórios...",value:d,onChange:I=>f(I.target.value),className:"pl-10"})]}),a.jsxs(ct,{value:p,onValueChange:m,children:[a.jsx(it,{className:"w-full sm:w-[200px]",children:a.jsx(ut,{placeholder:"Categoria"})}),a.jsx(at,{children:A.map(I=>a.jsx(ae,{value:I,children:I==="all"?"Todas as Categorias":I},I))})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q,{variant:y==="grid"?"default":"outline",size:"sm",onClick:()=>x("grid"),children:a.jsx(q9,{className:"h-4 w-4"})}),a.jsx(Q,{variant:y==="list"?"default":"outline",size:"sm",onClick:()=>x("list"),children:a.jsx(jE,{className:"h-4 w-4"})})]})]}),a.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:$e("gap-4",y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"space-y-3"),children:a.jsx(cA,{children:T.map((I,k)=>a.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:k*.05},children:y==="grid"?a.jsxs(Wt,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer h-full",children:[a.jsxs(Zt,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-5 w-5 text-white"})}),a.jsx(Ai,{variant:"outline",className:"text-xs",children:I.category})]}),a.jsx(en,{className:"text-base",children:I.title})]}),a.jsx(Ht,{className:"pt-0",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Q,{size:"sm",onClick:()=>F(I.id),className:"flex-1",disabled:S,children:[S?a.jsx(Fh,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx($l,{className:"h-3 w-3 mr-1"}),"Ver"]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>E("PDF"),children:a.jsx(yp,{className:"h-3 w-3"})})]})})]}):a.jsx(Wt,{className:"group hover:shadow-md transition-all duration-300 cursor-pointer",children:a.jsx(Ht,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${I.color}`,children:a.jsx(I.icon,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:I.title}),a.jsx("p",{className:"text-sm text-slate-500",children:I.category})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Q,{size:"sm",onClick:()=>F(I.id),disabled:S,children:[S?a.jsx(Fh,{className:"h-3 w-3 animate-spin mr-1"}):a.jsx($l,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>E("PDF"),children:a.jsx(yp,{className:"h-3 w-3"})}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>E("Excel"),children:a.jsx(Us,{className:"h-3 w-3"})})]})]})})})},I.id))})}),a.jsx("div",{className:"mt-8 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400",children:[a.jsxs("span",{children:["Total de relatórios: ",T.length]}),a.jsxs("span",{children:["Categoria: ",p==="all"?"Todas":p]})]})})]})]})]})},ao=Pe.forwardRef(({className:t,checked:e,onCheckedChange:n,...r},s)=>a.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>n==null?void 0:n(!e),className:$e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e?"bg-primary":"bg-input",t),ref:s,...r,children:a.jsx("span",{className:$e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",e?"translate-x-5":"translate-x-0")})}));ao.displayName="Switch";const gN={"pt-BR":{"nav.dashboard":"Dashboard","nav.clientes":"Clientes","nav.os":"Ordens de Serviço","nav.ov":"Ordens de Venda","nav.estoque":"Estoque","nav.financeiro":"Financeiro","nav.relatorios":"Relatórios","nav.configuracoes":"Configurações","config.titulo":"Configurações","config.descricao":"Gerencie todas as configurações do sistema","config.salvar":"Salvar Configurações","config.restaurarPadroes":"Restaurar Padrões","config.tabs.personalizacao":"Personalização","config.tabs.usuarios":"Usuários","config.tabs.seguranca":"Segurança","config.tabs.impressao":"Impressão","config.tabs.sistema":"Sistema","config.tabs.loja":"Loja","config.personalizacao.titulo":"Personalização do Sistema","config.personalizacao.descricao":"Configure a aparência e identidade visual do sistema","config.tema":"Tema","config.tema.descricao":"Escolha entre tema claro, escuro ou automático do sistema","config.tema.light":"Claro","config.tema.dark":"Escuro","config.tema.system":"Sistema","config.corPrimaria":"Cor Primária","config.corPrimaria.descricao":"Cor principal usada em botões, links e elementos destacados","config.corSecundaria":"Cor Secundária","config.corSecundaria.descricao":"Cor complementar usada em gradientes e elementos secundários","config.nomeEmpresa":"Nome da Empresa","config.nomeEmpresa.descricao":"Nome que aparecerá no cabeçalho e título do sistema","config.logoEmpresa":"Logo da Empresa","config.logoEmpresa.descricao":"Imagem que aparecerá no cabeçalho do sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal da interface do usuário","config.idioma.pt-BR":"Português (Brasil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Español","config.idioma.zh-CN":"中文 (简体)","config.idioma ja-JP":"日本語","config.usuarios.titulo":"Configurações de Usuários","config.usuarios.descricao":"Gerencie configurações relacionadas aos usuários do sistema","config.permitirCadastro":"Permitir Cadastro","config.permitirCadastro.descricao":"Permite que novos usuários se cadastrem no sistema","config.requerAprovacao":"Requer Aprovação","config.requerAprovacao.descricao":"Novos cadastros precisam ser aprovados por um administrador","config.limiteUsuarios":"Limite de Usuários","config.limiteUsuarios.descricao":"Número máximo de usuários permitidos no sistema","config.notificacaoNovosUsuarios":"Notificar Novos Usuários","config.notificacaoNovosUsuarios.descricao":"Enviar notificações quando novos usuários se cadastrarem","usuarios.tipos.admin":"Administrador","usuarios.tipos.financeiro":"Financeiro","usuarios.tipos.comum":"Comum","usuarios.status.ativo":"Ativo","usuarios.status.inativo":"Inativo","usuarios.erros.nomeObrigatorio":"Nome é obrigatório","usuarios.erros.nomeMinimo":"Nome deve ter pelo menos 2 caracteres","usuarios.erros.emailObrigatorio":"Email é obrigatório","usuarios.erros.emailInvalido":"Email inválido","usuarios.erros.telefoneInvalido":"Telefone inválido","usuarios.edicao.titulo":"Editar Usuário","usuarios.edicao.descricao":"Edite as informações do usuário","usuarios.edicao.cancelar":"Cancelar","usuarios.edicao.salvar":"Salvar","usuarios.edicao.salvando":"Salvando...","usuarios.edicao.erro":"Erro ao salvar","usuarios.edicao.erroDescricao":"Não foi possível salvar as alterações","usuarios.remocao.titulo":"Remover Usuário","usuarios.remocao.descricao":"Tem certeza que deseja remover este usuário?","usuarios.remocao.cancelar":"Cancelar","usuarios.remocao.confirmar":"Remover","usuarios.remocao.removendo":"Removendo...","usuarios.remocao.erro":"Erro ao remover","usuarios.remocao.erroDescricao":"Não foi possível remover o usuário","usuarios.remocao.erroConfirmacao":"Confirmação necessária","usuarios.remocao.erroConfirmacaoDescricao":'Digite "CONFIRMAR" para remover o usuário',"usuarios.remocao.aviso.titulo":"Atenção!","usuarios.remocao.aviso.descricao":"Esta ação não pode ser desfeita.","usuarios.remocao.aviso.item1":"O usuário perderá acesso ao sistema","usuarios.remocao.aviso.item2":"Todos os dados do usuário serão removidos","usuarios.remocao.aviso.item3":"Esta ação não pode ser desfeita","usuarios.remocao.confirmacao.label":"Confirmação","usuarios.remocao.confirmacao.descricao":'Digite "CONFIRMAR" para confirmar a remoção',"usuarios.remocao.confirmacao.placeholder":"CONFIRMAR","usuarios.cadastro.form.nome":"Nome","usuarios.cadastro.form.nomePlaceholder":"Digite o nome completo","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Digite o email","usuarios.cadastro.form.telefone":"Telefone","usuarios.cadastro.form.telefonePlaceholder":"Digite o telefone","usuarios.cadastro.form.tipo":"Tipo de Usuário","usuarios.cadastro.form.senha":"Senha","usuarios.cadastro.form.senhaPlaceholder":"Digite a senha","usuarios.cadastro.form.confirmarSenha":"Confirmar Senha","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirme a senha","usuarios.listagem.titulo":"Usuários","usuarios.listagem.descricao":"Gerencie os usuários do sistema","usuarios.filtros.titulo":"Filtros","usuarios.busca":"Buscar","usuarios.busca.placeholder":"Buscar por nome ou email...","usuarios.filtros.tipo":"Tipo","usuarios.filtros.status":"Status","usuarios.filtros.todos":"Todos","usuarios.lista.titulo":"Lista de Usuários","usuarios.lista.descricao":"Usuários encontrados","usuarios.adicionar":"Adicionar Usuário","usuarios.tabela.nome":"Nome","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Tipo","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Último Acesso","usuarios.tabela.acoes":"Ações","usuarios.lista.vazia":"Nenhum usuário encontrado","config.seguranca.titulo":"Configurações de Segurança","config.seguranca.descricao":"Configure as políticas de segurança e autenticação","config.autenticacaoDoisFatores":"Autenticação 2 Fatores","config.autenticacaoDoisFatores.descricao":"Requer segundo fator de autenticação para login","config.tempoSessao":"Tempo da Sessão (min)","config.tempoSessao.descricao":"Tempo em minutos antes da sessão expirar automaticamente","config.tentativasLogin":"Tentativas de Login","config.tentativasLogin.descricao":"Número de tentativas de login antes do bloqueio","config.bloqueioAutomatico":"Bloqueio Automático","config.bloqueioAutomatico.descricao":"Bloqueia automaticamente após tentativas falhas","config.auditoriaAtivada":"Auditoria Ativada","config.auditoriaAtivada.descricao":"Registra todas as ações dos usuários no sistema","config.impressao.titulo":"Configurações de Impressão","config.impressao.descricao":"Configure as opções padrão para impressão de documentos","config.formatoPadrao":"Formato Padrão","config.formatoPadrao.descricao":"Formato de papel padrão para impressões","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientação","config.orientacao.descricao":"Orientação padrão da página para impressões","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisagem","config.margens":"Margens","config.margens.descricao":"Configuração das margens padrão para impressões","config.margens.normal":"Normal","config.margens.estreita":"Estreita","config.margens.larga":"Larga","config.cabecalhoPersonalizado":"Cabeçalho Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir cabeçalho personalizado nas impressões","config.rodapePersonalizado":"Rodapé Personalizado","config.rodapePersonalizado.descricao":"Incluir rodapé personalizado nas impressões","config.sistema.titulo":"Configurações do Sistema","config.sistema.descricao":"Configurações técnicas e de performance do sistema","config.backupAutomatico":"Backup Automático","config.backupAutomatico.descricao":"Realizar backups automáticos dos dados","config.frequenciaBackup":"Frequência Backup","config.frequenciaBackup.descricao":"Com que frequência os backups devem ser realizados","config.frequencia.diario":"Diário","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensal","config.notificacoesEmail":"Notificações Email","config.notificacoesEmail.descricao":"Enviar notificações importantes por email","config.cacheAtivo":"Cache Ativo","config.cacheAtivo.descricao":"Ativar sistema de cache para melhorar performance","config.logsAtivo":"Logs Ativo","config.logsAtivo.descricao":"Manter registros detalhados das atividades do sistema","msg.configuracoesSalvas":"Configurações salvas com sucesso!","msg.configuracoesRestauradas":"Configurações restauradas para os padrões!","msg.descricaoRestaurada":"Todas as configurações foram restauradas para os valores padrão.","msg.arquivoInvalido":"Arquivo inválido! Por favor, selecione uma imagem.","msg.logoRemovido":"Logo removido com sucesso!","msg.erroUpload":"Erro no upload da imagem. Tente novamente.","common.salvar":"Salvar","common.cancelar":"Cancelar","config.logoDescricao":"Arraste uma imagem ou clique para selecionar","config.logoTipos":"PNG, JPG ou GIF (máx. 5MB)","config.removerLogo":"Remover Logo","config.selecionarArquivo":"clique para selecionar"},"en-US":{"nav.dashboard":"Dashboard","nav.clientes":"Clients","nav.os":"Service Orders","nav.ov":"Sales Orders","nav.estoque":"Inventory","nav.financeiro":"Financial","nav.relatorios":"Reports","nav.configuracoes":"Settings","config.titulo":"Settings","config.descricao":"Manage all system settings","config.salvar":"Save Settings","config.restaurarPadroes":"Restore Defaults","config.personalizacao.titulo":"System Personalization","config.personalizacao.descricao":"Configure system appearance and visual identity","config.tema":"Theme","config.tema.descricao":"Choose between light, dark or system automatic theme","config.tema.light":"Light","config.tema.dark":"Dark","config.tema.system":"System","config.corPrimaria":"Primary Color","config.corPrimaria.descricao":"Main color used in buttons, links and highlighted elements","config.corSecundaria":"Secondary Color","config.corSecundaria.descricao":"Complementary color used in gradients and secondary elements","config.nomeEmpresa":"Company Name","config.nomeEmpresa.descricao":"Name that will appear in the header and system title","config.logoEmpresa":"Company Logo","config.logoEmpresa.descricao":"Image that will appear in the system header","config.idioma":"Language","config.idioma.descricao":"Main language of the user interface","config.idioma.pt-BR":"Portuguese (Brazil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Spanish","config.idioma.zh-CN":"Chinese (Simplified)","config.idioma ja-JP":"Japanese","config.usuarios.titulo":"User Settings","config.usuarios.descricao":"Manage user-related system settings","config.permitirCadastro":"Allow Registration","config.permitirCadastro.descricao":"Allows new users to register in the system","config.requerAprovacao":"Require Approval","config.requerAprovacao.descricao":"New registrations need to be approved by an administrator","config.limiteUsuarios":"User Limit","config.limiteUsuarios.descricao":"Maximum number of users allowed in the system","config.notificacaoNovosUsuarios":"Notify New Users","config.notificacaoNovosUsuarios.descricao":"Send notifications when new users register","usuarios.tipos.admin":"Administrator","usuarios.tipos.financeiro":"Financial","usuarios.tipos.comum":"Common","usuarios.status.ativo":"Active","usuarios.status.inativo":"Inactive","usuarios.erros.nomeObrigatorio":"Name is required","usuarios.erros.nomeMinimo":"Name must have at least 2 characters","usuarios.erros.emailObrigatorio":"Email is required","usuarios.erros.emailInvalido":"Invalid email","usuarios.erros.telefoneInvalido":"Invalid phone","usuarios.edicao.titulo":"Edit User","usuarios.edicao.descricao":"Edit user information","usuarios.edicao.cancelar":"Cancel","usuarios.edicao.salvar":"Save","usuarios.edicao.salvando":"Saving...","usuarios.edicao.erro":"Error saving","usuarios.edicao.erroDescricao":"Could not save changes","usuarios.remocao.titulo":"Remove User","usuarios.remocao.descricao":"Are you sure you want to remove this user?","usuarios.remocao.cancelar":"Cancel","usuarios.remocao.confirmar":"Remove","usuarios.remocao.removendo":"Removing...","usuarios.remocao.erro":"Error removing","usuarios.remocao.erroDescricao":"Could not remove user","usuarios.remocao.erroConfirmacao":"Confirmation required","usuarios.remocao.erroConfirmacaoDescricao":'Type "CONFIRM" to remove the user',"usuarios.remocao.aviso.titulo":"Warning!","usuarios.remocao.aviso.descricao":"This action cannot be undone.","usuarios.remocao.aviso.item1":"The user will lose access to the system","usuarios.remocao.aviso.item2":"All user data will be removed","usuarios.remocao.aviso.item3":"This action cannot be undone","usuarios.remocao.confirmacao.label":"Confirmation","usuarios.remocao.confirmacao.descricao":'Type "CONFIRM" to confirm removal',"usuarios.remocao.confirmacao.placeholder":"CONFIRM","usuarios.cadastro.form.nome":"Name","usuarios.cadastro.form.nomePlaceholder":"Enter full name","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Enter email","usuarios.cadastro.form.telefone":"Phone","usuarios.cadastro.form.telefonePlaceholder":"Enter phone","usuarios.cadastro.form.tipo":"User Type","usuarios.cadastro.form.senha":"Password","usuarios.cadastro.form.senhaPlaceholder":"Enter password","usuarios.cadastro.form.confirmarSenha":"Confirm Password","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirm password","usuarios.listagem.titulo":"Users","usuarios.listagem.descricao":"Manage system users","usuarios.filtros.titulo":"Filters","usuarios.busca":"Search","usuarios.busca.placeholder":"Search by name or email...","usuarios.filtros.tipo":"Type","usuarios.filtros.status":"Status","usuarios.filtros.todos":"All","usuarios.lista.titulo":"User List","usuarios.lista.descricao":"Users found","usuarios.adicionar":"Add User","usuarios.tabela.nome":"Name","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Type","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Last Access","usuarios.tabela.acoes":"Actions","usuarios.lista.vazia":"No users found","config.seguranca.titulo":"Security Settings","config.seguranca.descricao":"Configure security and authentication policies","config.autenticacaoDoisFatores":"Two-Factor Authentication","config.autenticacaoDoisFatores.descricao":"Requires second authentication factor for login","config.tempoSessao":"Session Time (min)","config.tempoSessao.descricao":"Time in minutes before session expires automatically","config.tentativasLogin":"Login Attempts","config.tentativasLogin.descricao":"Number of login attempts before blocking","config.bloqueioAutomatico":"Automatic Lock","config.bloqueioAutomatico.descricao":"Automatically blocks after failed attempts","config.auditoriaAtivada":"Audit Enabled","config.auditoriaAtivada.descricao":"Records all user actions in the system","config.impressao.titulo":"Print Settings","config.impressao.descricao":"Configure default options for document printing","config.formatoPadrao":"Default Format","config.formatoPadrao.descricao":"Default paper format for printing","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Letter","config.orientacao":"Orientation","config.orientacao.descricao":"Default page orientation for printing","config.orientacao.retrato":"Portrait","config.orientacao.paisagem":"Landscape","config.margens":"Margins","config.margens.descricao":"Default margin configuration for printing","config.margens.normal":"Normal","config.margens.estreita":"Narrow","config.margens.larga":"Wide","config.cabecalhoPersonalizado":"Custom Header","config.cabecalhoPersonalizado.descricao":"Include custom header in prints","config.rodapePersonalizado":"Custom Footer","config.rodapePersonalizado.descricao":"Include custom footer in prints","config.sistema.titulo":"System Settings","config.sistema.descricao":"Technical and performance system settings","config.backupAutomatico":"Automatic Backup","config.backupAutomatico.descricao":"Perform automatic data backups","config.frequenciaBackup":"Backup Frequency","config.frequenciaBackup.descricao":"How often backups should be performed","config.frequencia.diario":"Daily","config.frequencia.semanal":"Weekly","config.frequencia.mensal":"Monthly","config.notificacoesEmail":"Email Notifications","config.notificacoesEmail.descricao":"Send important notifications by email","config.cacheAtivo":"Cache Active","config.cacheAtivo.descricao":"Enable cache system to improve performance","config.logsAtivo":"Logs Active","config.logsAtivo.descricao":"Keep detailed records of system activities","msg.configuracoesSalvas":"Settings saved successfully!","msg.configuracoesRestauradas":"Settings restored to defaults!","msg.descricaoRestaurada":"All settings have been restored to default values.","msg.arquivoInvalido":"Invalid file! Please select an image.","msg.logoRemovido":"Logo removed successfully!","msg.erroUpload":"Upload error. Please try again.","common.salvar":"Save","common.cancelar":"Cancel","config.logoDescricao":"Drag an image or click to select","config.logoTipos":"PNG, JPG or GIF (max. 5MB)","config.removerLogo":"Remove Logo","config.selecionarArquivo":"click to select"},"es-ES":{"nav.dashboard":"Panel","nav.clientes":"Clientes","nav.os":"Órdenes de Servicio","nav.ov":"Órdenes de Venta","nav.estoque":"Inventario","nav.financeiro":"Financiero","nav.relatorios":"Reportes","nav.configuracoes":"Configuraciones","config.titulo":"Configuraciones","config.descricao":"Gestionar todas las configuraciones del sistema","config.salvar":"Guardar Configuraciones","config.restaurarPadroes":"Restaurar Predeterminados","config.personalizacao.titulo":"Personalización del Sistema","config.personalizacao.descricao":"Configurar apariencia e identidad visual del sistema","config.tema":"Tema","config.tema.descricao":"Elegir entre tema claro, oscuro o automático del sistema","config.tema.light":"Claro","config.tema.dark":"Oscuro","config.tema.system":"Sistema","config.corPrimaria":"Color Primario","config.corPrimaria.descricao":"Color principal usado en botones, enlaces y elementos destacados","config.corSecundaria":"Color Secundario","config.corSecundaria.descricao":"Color complementario usado en gradientes y elementos secundarios","config.nomeEmpresa":"Nombre de la Empresa","config.nomeEmpresa.descricao":"Nombre que aparecerá en el encabezado y título del sistema","config.logoEmpresa":"Logo de la Empresa","config.logoEmpresa.descricao":"Imagen que aparecerá en el encabezado del sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal de la interfaz de usuario","config.idioma.pt-BR":"Portugués (Brasil)","config.idioma.en-US":"Inglés (EE.UU.)","config.idioma.es-ES":"Español","config.idioma.zh-CN":"Chino (Simplificado)","config.idioma ja-JP":"Japonés","config.usuarios.titulo":"Configuraciones de Usuarios","config.usuarios.descricao":"Gestionar configuraciones relacionadas con usuarios del sistema","config.permitirCadastro":"Permitir Registro","config.permitirCadastro.descricao":"Permite que nuevos usuarios se registren en el sistema","config.requerAprovacao":"Requiere Aprobación","config.requerAprovacao.descricao":"Nuevos registros necesitan ser aprobados por un administrador","config.limiteUsuarios":"Límite de Usuários","config.limiteUsuarios.descricao":"Número máximo de usuarios permitidos en el sistema","config.notificacaoNovosUsuarios":"Notificar Nuevos Usuarios","config.notificacaoNovosUsuarios.descricao":"Enviar notificaciones cuando nuevos usuarios se registren","config.seguranca.titulo":"Configuraciones de Seguridad","config.seguranca.descricao":"Configurar políticas de seguridad y autenticación","config.autenticacaoDoisFatores":"Autenticación de Dos Factores","config.autenticacaoDoisFatores.descricao":"Requiere segundo factor de autenticación para inicio de sesión","config.tempoSessao":"Tiempo de Sesión (min)","config.tempoSessao.descricao":"Tiempo en minutos antes de que la sesión expire automáticamente","config.tentativasLogin":"Intentos de Inicio de Sesión","config.tentativasLogin.descricao":"Número de intentos de inicio de sesión antes del bloqueo","config.bloqueioAutomatico":"Bloqueo Automático","config.bloqueioAutomatico.descricao":"Bloquea automáticamente después de intentos fallidos","config.auditoriaAtivada":"Auditoría Activada","config.auditoriaAtivada.descricao":"Registra todas las acciones de los usuarios en el sistema","config.impressao.titulo":"Configuraciones de Impresión","config.impressao.descricao":"Configurar opciones predeterminadas para impresión de documentos","config.formatoPadrao":"Formato Predeterminado","config.formatoPadrao.descricao":"Formato de papel predeterminado para impresiones","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientación","config.orientacao.descricao":"Orientación predeterminada de la página para impresiones","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisaje","config.margens":"Márgenes","config.margens.descricao":"Configuración de los márgenes predeterminados para impresiones","config.margens.normal":"Normal","config.margens.estreita":"Estrecha","config.margens.larga":"Ancha","config.cabecalhoPersonalizado":"Encabezado Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir encabezado personalizado en las impresiones","config.rodapePersonalizado":"Pie de Página Personalizado","config.rodapePersonalizado.descricao":"Incluir pie de página personalizado en las impresiones","config.sistema.titulo":"Configuraciones del Sistema","config.sistema.descricao":"Configuraciones técnicas y de rendimiento del sistema","config.backupAutomatico":"Copia de Seguridad Automática","config.backupAutomatico.descricao":"Realizar copias de seguridad automáticas de los datos","config.frequenciaBackup":"Frecuencia de Copia de Seguridad","config.frequenciaBackup.descricao":"Con qué frecuencia deben realizarse las copias de seguridad","config.frequencia.diario":"Diario","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensual","config.notificacoesEmail":"Notificaciones por Correo","config.notificacoesEmail.descricao":"Enviar notificaciones importantes por correo electrónico","config.cacheAtivo":"Caché Activo","config.cacheAtivo.descricao":"Activar sistema de caché para mejorar el rendimiento","config.logsAtivo":"Registros Activos","config.logsAtivo.descricao":"Mantener registros detallados de las actividades del sistema","msg.configuracoesSalvas":"¡Configuraciones guardadas exitosamente!","msg.configuracoesRestauradas":"¡Configuraciones restauradas a los valores predeterminados!","msg.descricaoRestaurada":"Todas las configuraciones han sido restauradas a los valores predeterminados.","msg.arquivoInvalido":"¡Archivo inválido! Por favor selecciona una imagen.","msg.logoRemovido":"¡Logo eliminado exitosamente!","msg.erroUpload":"Error en la carga. Inténtalo de nuevo.","common.salvar":"Guardar","common.cancelar":"Cancelar","config.logoDescricao":"Arrastra una imagen o haz clic para seleccionar","config.logoTipos":"PNG, JPG o GIF (máx. 5MB)","config.removerLogo":"Eliminar Logo","config.selecionarArquivo":"haz clic para seleccionar"},"zh-CN":{"nav.dashboard":"仪表板","nav.clientes":"客户","nav.os":"服务订单","nav.ov":"销售订单","nav.estoque":"库存","nav.financeiro":"财务","nav.relatorios":"报告","nav.configuracoes":"设置","config.titulo":"设置","config.descricao":"管理系统所有设置","config.salvar":"保存设置","config.restaurarPadroes":"恢复默认值","config.personalizacao.titulo":"系统个性化","config.personalizacao.descricao":"配置系统外观和视觉标识","config.tema":"主题","config.tema.descricao":"在浅色、深色或系统自动主题之间选择","config.tema.light":"浅色","config.tema.dark":"深色","config.tema.system":"系统","config.corPrimaria":"主色","config.corPrimaria.descricao":"按钮、链接和突出元素中使用的主色","config.corSecundaria":"副色","config.corSecundaria.descricao":"渐变和次要元素中使用的互补色","config.nomeEmpresa":"公司名称","config.nomeEmpresa.descricao":"将显示在系统标题和页眉中的名称","config.logoEmpresa":"公司标志","config.logoEmpresa.descricao":"将显示在系统页眉中的图像","config.idioma":"语言","config.idioma.descricao":"用户界面的主要语言","config.idioma.pt-BR":"葡萄牙语（巴西）","config.idioma.en-US":"英语（美国）","config.idioma.es-ES":"西班牙语","config.idioma.zh-CN":"中文（简体）","config.idioma ja-JP":"日语","config.usuarios.titulo":"用户设置","config.usuarios.descricao":"管理系统用户相关设置","config.permitirCadastro":"允许注册","config.permitirCadastro.descricao":"允许新用户在系统中注册","config.requerAprovacao":"需要批准","config.requerAprovacao.descricao":"新注册需要管理员批准","config.limiteUsuarios":"用户限制","config.limiteUsuarios.descricao":"系统中允许的最大用户数","config.notificacaoNovosUsuarios":"通知新用户","config.notificacaoNovosUsuarios.descricao":"新用户注册时发送通知","config.seguranca.titulo":"安全设置","config.seguranca.descricao":"配置安全和认证策略","config.autenticacaoDoisFatores":"双因素认证","config.autenticacaoDoisFatores.descricao":"登录需要第二认证因素","config.tempoSessao":"会话时间（分钟）","config.tempoSessao.descricao":"会话自动过期前的分钟数","config.tentativasLogin":"登录尝试","config.tentativasLogin.descricao":"阻塞前的登录尝试次数","config.bloqueioAutomatico":"自动锁定","config.bloqueioAutomatico.descricao":"失败尝试后自动阻塞","config.auditoriaAtivada":"启用审计","config.auditoriaAtivada.descricao":"记录系统中所有用户操作","config.impressao.titulo":"打印设置","config.impressao.descricao":"配置文档打印的默认选项","config.formatoPadrao":"默认格式","config.formatoPadrao.descricao":"打印的默认纸张格式","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"信纸","config.orientacao":"方向","config.orientacao.descricao":"打印的默认页面方向","config.orientacao.retrato":"纵向","config.orientacao.paisagem":"横向","config.margens":"边距","config.margens.descricao":"打印的默认边距配置","config.margens.normal":"正常","config.margens.estreita":"窄","config.margens.larga":"宽","config.cabecalhoPersonalizado":"自定义页眉","config.cabecalhoPersonalizado.descricao":"在打印中包含自定义页眉","config.rodapePersonalizado":"自定义页脚","config.rodapePersonalizado.descricao":"在打印中包含自定义页脚","config.sistema.titulo":"系统设置","config.sistema.descricao":"系统技术和性能设置","config.backupAutomatico":"自动备份","config.backupAutomatico.descricao":"执行数据自动备份","config.frequenciaBackup":"备份频率","config.frequenciaBackup.descricao":"备份应执行的频率","config.frequencia.diario":"每日","config.frequencia.semanal":"每周","config.frequencia.mensal":"每月","config.notificacoesEmail":"电子邮件通知","config.notificacoesEmail.descricao":"通过电子邮件发送重要通知","config.cacheAtivo":"缓存激活","config.cacheAtivo.descricao":"启用缓存系统以提高性能","config.logsAtivo":"日志激活","config.logsAtivo.descricao":"保持系统活动的详细记录","msg.configuracoesSalvas":"设置保存成功！","msg.configuracoesRestauradas":"设置已恢复为默认值！","msg.descricaoRestaurada":"所有设置已恢复为默认值。","msg.arquivoInvalido":"无效文件！请选择图片。","msg.logoRemovido":"标志移除成功！","msg.erroUpload":"上传错误。请重试。","common.salvar":"保存","common.cancelar":"取消","config.logoDescricao":"拖拽图片或点击选择","config.logoTipos":"PNG、JPG 或 GIF（最大 5MB）","config.removerLogo":"移除标志","config.selecionarArquivo":"点击选择"},"ja-JP":{"nav.dashboard":"ダッシュボード","nav.clientes":"クライアント","nav.os":"サービス注文","nav.ov":"販売注文","nav.estoque":"在庫","nav.financeiro":"財務","nav.relatorios":"レポート","nav.configuracoes":"設定","config.titulo":"設定","config.descricao":"システムのすべての設定を管理","config.salvar":"設定を保存","config.restaurarPadroes":"デフォルトに戻す","config.personalizacao.titulo":"システムパーソナライズ","config.personalizacao.descricao":"システムの外観と視覚的アイデンティティを構成","config.tema":"テーマ","config.tema.descricao":"ライト、ダーク、またはシステム自動テーマから選択","config.tema.light":"ライト","config.tema.dark":"ダーク","config.tema.system":"システム","config.corPrimaria":"プライマリカラー","config.corPrimaria.descricao":"ボタン、リンク、強調要素で使用されるメインカラー","config.corSecundaria":"セカンダリカラー","config.corSecundaria.descricao":"グラデーションとセカンダリ要素で使用される補完カラー","config.nomeEmpresa":"会社名","config.nomeEmpresa.descricao":"システムのタイトルとヘッダーに表示される名前","config.logoEmpresa":"会社のロゴ","config.logoEmpresa.descricao":"システムのヘッダーに表示される画像","config.idioma":"言語","config.idioma.descricao":"ユーザーインターフェースの主要言語","config.idioma.pt-BR":"ポルトガル語（ブラジル）","config.idioma.en-US":"英語（米国）","config.idioma.es-ES":"スペイン語","config.idioma.zh-CN":"中国語（簡体字）","config.idioma ja-JP":"日本語","config.usuarios.titulo":"ユーザー設定","config.usuarios.descricao":"システムユーザーの関連設定を管理","config.permitirCadastro":"登録を許可","config.permitirCadastro.descricao":"新しいユーザーがシステムに登録することを許可","config.requerAprovacao":"承認が必要","config.requerAprovacao.descricao":"新しい登録は管理者による承認が必要","config.limiteUsuarios":"ユーザーリミット","config.limiteUsuarios.descricao":"システムで許可される最大ユーザー数","config.notificacaoNovosUsuarios":"新規ユーザーに通知","config.notificacaoNovosUsuarios.descricao":"新しいユーザーが登録したときに通知を送信","config.seguranca.titulo":"セキュリティ設定","config.seguranca.descricao":"セキュリティと認証ポリシーを構成","config.autenticacaoDoisFatores":"二要素認証","config.autenticacaoDoisFatores.descricao":"ログインに第二認証要素が必要","config.tempoSessao":"セッション時間（分）","config.tempoSessao.descricao":"セッションが自動的に期限切れになるまでの分数","config.tentativasLogin":"ログイン試行","config.tentativasLogin.descricao":"ブロック前のログイン試行回数","config.bloqueioAutomatico":"自動ロック","config.bloqueioAutomatico.descricao":"失敗した試行後に自動的にブロック","config.auditoriaAtivada":"監査有効","config.auditoriaAtivada.descricao":"システム内のすべてのユーザー操作を記録","config.impressao.titulo":"印刷設定","config.impressao.descricao":"ドキュメント印刷のデフォルトオプションを構成","config.formatoPadrao":"デフォルトフォーマット","config.formatoPadrao.descricao":"印刷のデフォルト用紙フォーマット","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"レター","config.orientacao":"方向","config.orientacao.descricao":"印刷のデフォルトページ方向","config.orientacao.retrato":"縦","config.orientacao.paisagem":"横","config.margens":"マージン","config.margens.descricao":"印刷のデフォルトマージン構成","config.margens.normal":"標準","config.margens.estreita":"狭い","config.margens.larga":"広い","config.cabecalhoPersonalizado":"カスタムヘッダー","config.cabecalhoPersonalizado.descricao":"印刷にカスタムヘッダーを含める","config.rodapePersonalizado":"カスタムフッター","config.rodapePersonalizado.descricao":"印刷にカスタムフッターを含める","config.sistema.titulo":"システム設定","config.sistema.descricao":"システムの技術的およびパフォーマンス設定","config.backupAutomatico":"自動バックアップ","config.backupAutomatico.descricao":"データの自動バックアップを実行","config.frequenciaBackup":"バックアップ頻度","config.frequenciaBackup.descricao":"バックアップを実行する頻度","config.frequencia.diario":"毎日","config.frequencia.semanal":"毎週","config.frequencia.mensal":"毎月","config.notificacoesEmail":"メール通知","config.notificacoesEmail.descricao":"重要な通知をメールで送信","config.cacheAtivo":"キャッシュ有効","config.cacheAtivo.descricao":"パフォーマンス向上のためのキャッシュシステムを有効化","config.logsAtivo":"ログ有効","config.logsAtivo.descricao":"システム活動の詳細な記録を保持","msg.configuracoesSalvas":"設定が正常に保存されました！","msg.configuracoesRestauradas":"設定がデフォルト値に復元されました！","msg.descricaoRestaurada":"すべての設定がデフォルト値に復元されました。","msg.arquivoInvalido":"無効なファイルです！画像を選択してください。","msg.logoRemovido":"ロゴが正常に削除されました！","msg.erroUpload":"アップロードエラー。再試行してください。","common.salvar":"保存","common.cancelar":"キャンセル","config.logoDescricao":"画像をドラッグするかクリックして選択","config.logoTipos":"PNG、JPG、または GIF（最大 5MB）","config.removerLogo":"ロゴを削除","config.selecionarArquivo":"クリックして選択"}},ye=(t,e="pt-BR")=>(gN[e]||gN["pt-BR"])[t]||t,Lte=()=>{g.useContext(wr);const{toast:t}=xr(),{usuarios:e,saveUsuario:n}=Mc(),[r,s]=g.useState({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),[o,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(""),f=g.useRef(null),p=(R,F)=>{s(E=>({...E,[R]:F}))},m=R=>{R.preventDefault(),R.stopPropagation(),R.type==="dragenter"||R.type==="dragover"?c(!0):R.type==="dragleave"&&c(!1)},y=R=>{R.preventDefault(),R.stopPropagation(),c(!1),R.dataTransfer.files&&R.dataTransfer.files[0]&&x(R.dataTransfer.files[0])},x=R=>{if(R.type.startsWith("image/")){if(R.size>1048576){t({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const F=new FileReader;F.onload=E=>{S(E.target.result,T=>{d(T),s(A=>({...A,foto:T}))})},F.readAsDataURL(R)}else t({title:"Arquivo inválido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},S=(R,F)=>{const E=document.createElement("canvas"),T=E.getContext("2d"),A=new Image;A.onload=()=>{let{width:k,height:N}=A;k>N?k>200&&(N=N*200/k,k=200):N>200&&(k=k*200/N,N=200),E.width=k,E.height=N,T.drawImage(A,0,0,k,N);const P=E.toDataURL("image/jpeg",.7);F(P)},A.src=R},_=R=>{R.target.files&&R.target.files[0]&&x(R.target.files[0])},v=()=>{d(""),s(R=>({...R,foto:""})),f.current&&(f.current.value="")},b=()=>r.nome.trim()?r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?r.senha?r.senha.length<6?(t({title:"Erro de validação",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),!1):r.senha!==r.confirmarSenha?(t({title:"Erro de validação",description:"As senhas não coincidem.",variant:"destructive"}),!1):!0:(t({title:"Erro de validação",description:"A senha é obrigatória.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"Por favor, insira um email válido.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"O email é obrigatório.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"O nome é obrigatório.",variant:"destructive"}),!1),j=async R=>{if(R.preventDefault(),!!b()){i(!0);try{if(e.some(E=>E.email===r.email)){t({title:"Erro de validação",description:"Este email já está cadastrado.",variant:"destructive"}),i(!1);return}const F={nome:r.nome,email:r.email,senha:r.senha,telefone:r.telefone,endereco:r.endereco,tipo:r.tipoUsuario,foto:r.foto,status:"ativo",dataCriacao:new Date().toISOString(),ultimoAcesso:null};await n(F),t({title:"Usuário cadastrado!",description:`${r.nome} foi cadastrado com sucesso.`,variant:"default"}),s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")}catch(F){console.error("Erro ao cadastrar usuário:",F),t({title:"Erro ao cadastrar",description:"Ocorreu um erro ao cadastrar o usuário. Tente novamente.",variant:"destructive"})}finally{i(!1)}}};return a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(qr,{className:"h-5 w-5"}),"Informações Pessoais"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"nome",children:"Nome Completo *"}),a.jsx(pe,{id:"nome",type:"text",value:r.nome,onChange:R=>p("nome",R.target.value),placeholder:"Digite o nome completo",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"email",children:"Email *"}),a.jsx(pe,{id:"email",type:"email",value:r.email,onChange:R=>p("email",R.target.value),placeholder:"usuario@exemplo.com",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"telefone",children:"Telefone"}),a.jsx(pe,{id:"telefone",type:"tel",value:r.telefone,onChange:R=>p("telefone",R.target.value),placeholder:"(11) 99999-9999"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"endereco",children:"Endereço"}),a.jsx(pe,{id:"endereco",type:"text",value:r.endereco,onChange:R=>p("endereco",R.target.value),placeholder:"Rua, número, bairro, cidade"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(fA,{className:"h-5 w-5"}),"Foto do Usuário"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${l?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:y,children:u?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:u,alt:"Preview da foto",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),a.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:v,children:a.jsx(vr,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var R;return(R=f.current)==null?void 0:R.click()},className:"mt-2",children:"Trocar imagem"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rw,{className:"h-8 w-8 mx-auto text-slate-400"}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),a.jsx("p",{children:"ou"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var R;return(R=f.current)==null?void 0:R.click()},className:"mt-2",children:"Selecione uma imagem"})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF até 1MB"})]})}),a.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:_,className:"hidden"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[a.jsx(my,{className:"h-5 w-5"}),"Informações de Acesso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"senha",children:"Senha *"}),a.jsx(pe,{id:"senha",type:"password",value:r.senha,onChange:R=>p("senha",R.target.value),placeholder:"Mínimo 6 caracteres",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"confirmarSenha",children:"Confirmar Senha *"}),a.jsx(pe,{id:"confirmarSenha",type:"password",value:r.confirmarSenha,onChange:R=>p("confirmarSenha",R.target.value),placeholder:"Digite a senha novamente",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"tipoUsuario",children:"Tipo de Usuário"}),a.jsxs(ct,{value:r.tipoUsuario,onValueChange:R=>p("tipoUsuario",R),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"comum",children:"Usuário Comum"}),a.jsx(ae,{value:"financeiro",children:"Usuário Financeiro"}),a.jsx(ae,{value:"administrador",children:"Administrador"})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[a.jsx(Q,{type:"button",variant:"outline",onClick:()=>{s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")},disabled:o,children:"Limpar"}),a.jsx(Q,{type:"submit",disabled:o,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cadastrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yu,{className:"h-4 w-4 mr-2"}),"Cadastrar Usuário"]})})]})]})},Fte=({usuario:t,isOpen:e,onClose:n,onSave:r})=>{const{currentLanguage:s}=g.useContext(wr),{toast:o}=xr(),{saveUsuario:i}=Mc(),[l,c]=g.useState({nome:"",email:"",telefone:"",tipo:"comum",foto:""}),[u,d]=g.useState(!1),[f,p]=g.useState({}),[m,y]=g.useState(!1),[x,S]=g.useState(""),_=g.useRef(null);g.useEffect(()=>{t&&(console.log("[EditarUsuarioModal] Inicializando com usuário:",t),c({nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}),S(t.foto||""),p({}),console.log("[EditarUsuarioModal] FormData inicializado:",{nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}))},[t]);const v=(D,L)=>{c(B=>({...B,[D]:L})),f[D]&&p(B=>({...B,[D]:""}))},b=D=>{D.preventDefault(),D.stopPropagation(),D.type==="dragenter"||D.type==="dragover"?y(!0):D.type==="dragleave"&&y(!1)},j=D=>{D.preventDefault(),D.stopPropagation(),y(!1),D.dataTransfer.files&&D.dataTransfer.files[0]&&R(D.dataTransfer.files[0])},R=D=>{if(D.type.startsWith("image/")){if(D.size>1048576){o({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const L=new FileReader;L.onload=B=>{F(B.target.result,$=>{S($),c(M=>({...M,foto:$}))})},L.readAsDataURL(D)}else o({title:"Arquivo inválido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},F=(D,L)=>{const B=document.createElement("canvas"),$=B.getContext("2d"),M=new Image;M.onload=()=>{let{width:G,height:K}=M;G>K?G>200&&(K=K*200/G,G=200):K>200&&(G=G*200/K,K=200),B.width=G,B.height=K,$.drawImage(M,0,0,G,K);const le=B.toDataURL("image/jpeg",.7);L(le)},M.src=D},E=D=>{D.target.files&&D.target.files[0]&&R(D.target.files[0])},T=()=>{S(""),c(D=>({...D,foto:""})),_.current&&(_.current.value="")},A=D=>{const L=D.replace(/\D/g,"");return L.length<=11?L.replace(/(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3"):D},I=D=>{const L=A(D.target.value);v("telefone",L)},k=()=>{const D={};return l.nome.trim()?l.nome.trim().length<2&&(D.nome=ye("usuarios.erros.nomeMinimo",s)):D.nome=ye("usuarios.erros.nomeObrigatorio",s),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(D.email=ye("usuarios.erros.emailInvalido",s)):D.email=ye("usuarios.erros.emailObrigatorio",s),l.telefone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(l.telefone)&&(D.telefone=ye("usuarios.erros.telefoneInvalido",s)),p(D),Object.keys(D).length===0},N=async D=>{if(D.preventDefault(),!!k()){d(!0);try{const L={...t,nome:l.nome.trim(),email:l.email.trim().toLowerCase(),telefone:l.telefone,tipo:l.tipo,foto:l.foto};console.log("[EditarUsuarioModal] Salvando usuário atualizado:",L),console.log("[EditarUsuarioModal] Foto atual:",l.foto),await i(L,t.id),o({title:ye("usuarios.edicao.sucesso",s),description:ye("usuarios.edicao.sucessoDescricao",s),variant:"default"}),r(L),n()}catch{o({title:ye("usuarios.edicao.erro",s),description:ye("usuarios.edicao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{d(!1)}}},P=()=>{u||n()};return t?a.jsx(Un,{open:e,onOpenChange:P,children:a.jsxs(Sn,{className:"sm:max-w-md",children:[a.jsxs(En,{children:[a.jsxs(Cn,{className:"flex items-center gap-2",children:[a.jsx(ps,{className:"h-5 w-5"}),ye("usuarios.edicao.titulo",s)]}),a.jsx(Lm,{children:ye("usuarios.edicao.descricao",s)})]}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"edit-nome",className:"flex items-center gap-2",children:[a.jsx(qr,{className:"h-4 w-4"}),ye("usuarios.cadastro.form.nome",s)]}),a.jsx(pe,{id:"edit-nome",type:"text",value:l.nome,onChange:D=>v("nome",D.target.value),placeholder:ye("usuarios.cadastro.form.nomePlaceholder",s),className:f.nome?"border-red-500":""}),f.nome&&a.jsx("p",{className:"text-sm text-red-500",children:f.nome})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"edit-email",className:"flex items-center gap-2",children:[a.jsx(Sa,{className:"h-4 w-4"}),ye("usuarios.cadastro.form.email",s)]}),a.jsx(pe,{id:"edit-email",type:"email",value:l.email,onChange:D=>v("email",D.target.value),placeholder:ye("usuarios.cadastro.form.emailPlaceholder",s),className:f.email?"border-red-500":""}),f.email&&a.jsx("p",{className:"text-sm text-red-500",children:f.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"edit-telefone",className:"flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),ye("usuarios.cadastro.form.telefone",s)]}),a.jsx(pe,{id:"edit-telefone",type:"tel",value:l.telefone,onChange:I,placeholder:ye("usuarios.cadastro.form.telefonePlaceholder",s),className:f.telefone?"border-red-500":""}),f.telefone&&a.jsx("p",{className:"text-sm text-red-500",children:f.telefone})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"edit-tipo",className:"flex items-center gap-2",children:[a.jsx(dd,{className:"h-4 w-4"}),ye("usuarios.cadastro.form.tipo",s)]}),a.jsxs(ct,{value:l.tipo,onValueChange:D=>v("tipo",D),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"comum",children:ye("usuarios.tipos.comum",s)}),a.jsx(ae,{value:"financeiro",children:ye("usuarios.tipos.financeiro",s)}),a.jsx(ae,{value:"admin",children:ye("usuarios.tipos.admin",s)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{className:"flex items-center gap-2",children:[a.jsx(fA,{className:"h-4 w-4"}),"Foto do Usuário"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${m?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:b,onDragLeave:b,onDragOver:b,onDrop:j,children:x?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:x,alt:"Preview da foto",className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),a.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0",onClick:T,children:a.jsx(vr,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var D;return(D=_.current)==null?void 0:D.click()},className:"mt-1",children:"Trocar imagem"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rw,{className:"h-6 w-6 mx-auto text-slate-400"}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[a.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),a.jsx("p",{children:"ou"}),a.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var D;return(D=_.current)==null?void 0:D.click()},className:"mt-1",children:"Selecione uma imagem"})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF até 1MB"})]})}),a.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:E,className:"hidden"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsxs(Q,{type:"button",variant:"outline",onClick:P,disabled:u,children:[a.jsx(vr,{className:"h-4 w-4 mr-2"}),ye("usuarios.edicao.cancelar",s)]}),a.jsx(Q,{type:"submit",disabled:u,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),ye("usuarios.edicao.salvando",s)]}):a.jsxs(a.Fragment,{children:[a.jsx(mA,{className:"h-4 w-4 mr-2"}),ye("usuarios.edicao.salvar",s)]})})]})]})]})}):null},Vte=({usuario:t,isOpen:e,onClose:n,onConfirm:r})=>{const{currentLanguage:s}=g.useContext(wr),{toast:o}=xr(),[i,l]=g.useState(!1),[c,u]=g.useState(""),d=async()=>{if(c!=="CONFIRMAR"){o({title:ye("usuarios.remocao.erroConfirmacao",s),description:ye("usuarios.remocao.erroConfirmacaoDescricao",s),variant:"destructive",duration:4e3});return}l(!0);try{await new Promise(m=>setTimeout(m,1500)),r(t.id)}catch{o({title:ye("usuarios.remocao.erro",s),description:ye("usuarios.remocao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{l(!1)}},f=()=>{i||(u(""),n())},p=m=>{u(m.target.value)};return t?a.jsx(Un,{open:e,onOpenChange:f,children:a.jsxs(Sn,{className:"sm:max-w-md",children:[a.jsxs(En,{children:[a.jsxs(Cn,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(zs,{className:"h-5 w-5"}),ye("usuarios.remocao.titulo",s)]}),a.jsx(Lm,{children:ye("usuarios.remocao.descricao",s)})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-lg",children:t.nome.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:t.nome}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-2 py-1 rounded",children:t.tipo==="admin"?ye("usuarios.tipos.admin",s):t.tipo==="financeiro"?ye("usuarios.tipos.financeiro",s):ye("usuarios.tipos.comum",s)}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.status==="ativo"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300"}`,children:t.status==="ativo"?ye("usuarios.status.ativo",s):ye("usuarios.status.inativo",s)})]})]})]})}),a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(zs,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:ye("usuarios.remocao.aviso.titulo",s)}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:ye("usuarios.remocao.aviso.descricao",s)}),a.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-2 list-disc list-inside space-y-1",children:[a.jsx("li",{children:ye("usuarios.remocao.aviso.item1",s)}),a.jsx("li",{children:ye("usuarios.remocao.aviso.item2",s)}),a.jsx("li",{children:ye("usuarios.remocao.aviso.item3",s)})]})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.remocao.confirmacao.label",s)}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ye("usuarios.remocao.confirmacao.descricao",s)}),a.jsx("input",{type:"text",value:c,onChange:p,placeholder:ye("usuarios.remocao.confirmacao.placeholder",s),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:i})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsxs(Q,{type:"button",variant:"outline",onClick:f,disabled:i,children:[a.jsx(vr,{className:"h-4 w-4 mr-2"}),ye("usuarios.remocao.cancelar",s)]}),a.jsx(Q,{onClick:d,disabled:i||c!=="CONFIRMAR",className:"bg-red-600 hover:bg-red-700 text-white",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),ye("usuarios.remocao.removendo",s)]}):a.jsxs(a.Fragment,{children:[a.jsx(Hr,{className:"h-4 w-4 mr-2"}),ye("usuarios.remocao.confirmar",s)]})})]})]})]})}):null},zte=({usuariosExternos:t,onAddUsuario:e})=>{const{currentLanguage:n}=g.useContext(wr),{toast:r}=xr(),{data:s,loading:o}=Mc(),[i,l]=g.useState([]),[c,u]=g.useState(""),[d,f]=g.useState("todos"),[p,m]=g.useState("todos"),[y,x]=g.useState(!1),[S,_]=g.useState(!1),[v,b]=g.useState(null);g.useEffect(()=>{s&&s.length>0&&l(s)},[s]);const j=i.filter(N=>{const P=N.nome.toLowerCase().includes(c.toLowerCase()),D=d==="todos"||N.tipo===d,L=p==="todos"||N.status===p;return P&&D&&L});g.useEffect(()=>{l(t)},[t]),g.useEffect(()=>{const N=()=>{const D=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[UsuariosListagem] Usuários carregados do localStorage:",D);const L=D.map(B=>({...B,status:B.status||"ativo",ultimoAcesso:B.ultimoAcesso||new Date().toISOString(),tipo:B.tipo||B.tipoUsuario||"comum"}));l(L)};N();const P=()=>{N()};return window.addEventListener("storage",P),()=>{window.removeEventListener("storage",P)}},[]);const R=N=>{b(N),x(!0)},F=N=>{b(N),_(!0)},E=(N,P)=>{l(D=>D.map(L=>L.id===N?{...L,status:P}:L)),r({title:"Status alterado!",description:`Status do usuário alterado para ${P==="ativo"?"ativo":"inativo"}`,variant:"default",duration:3e3})},T=N=>{l(P=>P.filter(D=>D.id!==N)),_(!1),b(null),r({title:"Usuário removido!",description:"Usuário removido com sucesso do sistema",variant:"default",duration:3e3})},A=N=>{l(P=>P.map(D=>D.id===N.id?N:D)),x(!1),b(null),r({title:"Usuário atualizado!",description:"Dados do usuário atualizados com sucesso",variant:"default",duration:3e3})},I=N=>{const P={admin:{label:"Administrador",variant:"default"},financeiro:{label:"Financeiro",variant:"secondary"},comum:{label:"Comum",variant:"outline"}},D=P[N]||P.comum;return a.jsx(Ai,{variant:D.variant,children:D.label})},k=N=>a.jsx(Ai,{variant:N==="ativo"?"default":"destructive",children:N==="ativo"?"Ativo":"Inativo"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:ye("usuarios.listagem.titulo",n)}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:ye("usuarios.listagem.descricao",n)})]}),a.jsxs(Wt,{children:[a.jsx(Zt,{children:a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(Iw,{className:"h-5 w-5"}),ye("usuarios.filtros.titulo",n)]})}),a.jsx(Ht,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:ye("usuarios.busca",n)}),a.jsxs("div",{className:"relative",children:[a.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),a.jsx(pe,{placeholder:ye("usuarios.busca.placeholder",n),value:c,onChange:N=>u(N.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:ye("usuarios.filtros.tipo",n)}),a.jsxs(ct,{value:d,onValueChange:f,children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"todos",children:ye("usuarios.filtros.todos",n)}),a.jsx(ae,{value:"admin",children:ye("usuarios.tipos.admin",n)}),a.jsx(ae,{value:"financeiro",children:ye("usuarios.tipos.financeiro",n)}),a.jsx(ae,{value:"comum",children:ye("usuarios.tipos.comum",n)})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:ye("usuarios.filtros.status",n)}),a.jsxs(ct,{value:p,onValueChange:m,children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"todos",children:ye("usuarios.filtros.todos",n)}),a.jsx(ae,{value:"ativo",children:ye("usuarios.status.ativo",n)}),a.jsx(ae,{value:"inativo",children:ye("usuarios.status.inativo",n)})]})]})]})]})})]}),a.jsxs(Wt,{children:[a.jsx(Zt,{children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx(en,{children:ye("usuarios.lista.titulo",n)}),a.jsx(po,{children:o?"Carregando usuários...":`${ye("usuarios.lista.descricao",n)} (${j.length} ${j.length===1?"usuário":"usuários"})`})]})})}),a.jsx(Ht,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.nome",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.email",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.tipo",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.status",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.ultimoAcesso",n)}),a.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:ye("usuarios.tabela.acoes",n)})]})}),a.jsx("tbody",{children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Carregando usuários..."})}):j.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhum usuário encontrado"})}):j.map(N=>a.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[N.foto?a.jsx("img",{src:N.foto,alt:N.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold",children:N.nome.charAt(0).toUpperCase()}),a.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:N.nome})]})}),a.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:N.email}),a.jsx("td",{className:"p-4",children:I(N.tipo)}),a.jsx("td",{className:"p-4",children:k(N.status)}),a.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:new Date(N.ultimoAcesso).toLocaleDateString("pt-BR")}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>R(N),className:"hover:bg-blue-50 hover:border-blue-200",children:a.jsx(ps,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>E(N.id,N.status==="ativo"?"inativo":"ativo"),className:N.status==="ativo"?"hover:bg-red-50 hover:border-red-200":"hover:bg-green-50 hover:border-green-200",children:N.status==="ativo"?a.jsx(Z9,{className:"h-4 w-4"}):a.jsx(J9,{className:"h-4 w-4"})}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>F(N),className:"hover:bg-red-50 hover:border-red-200",children:a.jsx(Hr,{className:"h-4 w-4"})})]})})]},N.id))})]})})})]}),y&&v&&a.jsx(Fte,{usuario:v,isOpen:y,onClose:()=>x(!1),onSave:A}),S&&v&&a.jsx(Vte,{usuario:v,isOpen:S,onClose:()=>_(!1),onConfirm:T})]})},Ute=({usuarioLogado:t})=>{g.useContext(wr);const{toast:e}=xr(),{config:n,loading:r,saveConfig:s}=l1(),{config:o,saveConfig:i}=a1();Mc();const[l,c]=g.useState("usuarios"),[u,d]=g.useState({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0}),[f,p]=g.useState({nomeEmpresa:"",descricao:"",endereco:"",telefone:"",whatsapp:"",cnpj:"",email:"",site:"",logo:""}),[m,y]=g.useState(!1),[x,S]=g.useState("");g.useEffect(()=>{n&&d(E=>({...E,...n}))},[n]),g.useEffect(()=>{o&&p({nomeEmpresa:o.nomeEmpresa||"",descricao:o.descricao||"",endereco:o.endereco||"",telefone:o.telefone||"",whatsapp:o.whatsapp||"",cnpj:o.cnpj||"",email:o.email||"",site:o.site||"",logo:o.logo||""})},[o]),g.useEffect(()=>{n&&S(n.logo||"")},[n]);const _=(E,T)=>{d(A=>({...A,[E]:T}))},v=(E,T)=>{p(A=>({...A,[E]:T}))},b=E=>{const T=E.target.files[0];if(T){const A=new FileReader;A.onload=I=>{const k=I.target.result;S(k),d(N=>({...N,logo:k}))},A.readAsDataURL(T)}},j=()=>{S(""),d(E=>({...E,logo:""}))},R=async()=>{if(!f.nomeEmpresa||!f.endereco||!f.telefone){e({title:"Erro",description:"Na aba 'Loja': Nome da empresa, endereço e telefone são obrigatórios!",variant:"destructive"});return}y(!0);try{await s(u),await i(f),e({title:"Sucesso!",description:"Todas as configurações foram salvas com sucesso!"})}catch(E){console.error("Erro ao salvar configurações:",E),e({title:"Erro",description:"Erro ao salvar configurações. Tente novamente.",variant:"destructive"})}finally{y(!1)}},F=()=>{d({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0})};return r?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),a.jsx("p",{className:"ml-4 text-lg text-slate-600 dark:text-slate-400",children:"Carregando configurações..."})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsx(Se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:a.jsx(Ca,{className:"h-10 w-10"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Configurações do Sistema"}),a.jsx("p",{className:"text-purple-100 text-lg",children:"Gerencie todas as configurações e preferências"})]})]})}),a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsxs(Ua,{defaultValue:"loja",className:"w-full",children:[a.jsxs(Ii,{className:"grid w-full grid-cols-6 bg-slate-100 dark:bg-slate-700/50 rounded-none border-b border-slate-200 dark:border-slate-600",children:[a.jsxs(un,{value:"loja",className:"flex items-center gap-2",children:[a.jsx(pv,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Loja"})]}),a.jsxs(un,{value:"personalizacao",className:"flex items-center gap-2",children:[a.jsx(mv,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Personalização"})]}),a.jsxs(un,{value:"usuarios",className:"flex items-center gap-2",children:[a.jsx(ms,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Usuários"})]}),a.jsxs(un,{value:"seguranca",className:"flex items-center gap-2",children:[a.jsx(dd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Segurança"})]}),a.jsxs(un,{value:"impressao",className:"flex items-center gap-2",children:[a.jsx(wp,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Impressão"})]}),a.jsxs(un,{value:"sistema",className:"flex items-center gap-2",children:[a.jsx(py,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sistema"})]})]}),a.jsxs(dn,{value:"loja",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(pv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações da Loja"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure os dados da sua empresa que aparecerão nos documentos impressos (ordens de serviço, orçamentos, etc.)"})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(pv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações Básicas"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"loja-nomeEmpresa",children:"Nome da Empresa *"}),a.jsx(pe,{id:"loja-nomeEmpresa",value:f.nomeEmpresa,onChange:E=>v("nomeEmpresa",E.target.value),placeholder:"Ex: MultiSmart",className:"h-12",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecerá nos documentos impressos (ordens de serviço, orçamentos)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"loja-descricao",children:"Descrição dos Serviços"}),a.jsx(pe,{id:"loja-descricao",value:f.descricao,onChange:E=>v("descricao",E.target.value),placeholder:"Ex: Manutenção e Comércio de Celulares e Tablets",className:"h-12"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Descrição que aparecerá abaixo do nome da empresa nos documentos"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Ea,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações de Contato"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"loja-telefone",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),"Telefone *"]}),a.jsx(pe,{id:"loja-telefone",value:f.telefone,onChange:E=>v("telefone",E.target.value),placeholder:"(17) 3345-1016",className:"h-12",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Telefone que aparecerá nos documentos impressos"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"loja-whatsapp",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(G9,{className:"h-4 w-4"}),"WhatsApp"]}),a.jsx(pe,{id:"loja-whatsapp",value:f.whatsapp,onChange:E=>v("whatsapp",E.target.value),placeholder:"(17) 99157-1263",className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"loja-email",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Sa,{className:"h-4 w-4"}),"E-mail"]}),a.jsx(pe,{id:"loja-email",type:"email",value:f.email,onChange:E=>v("email",E.target.value),placeholder:"contato@multismart.com",className:"h-12"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(te,{htmlFor:"loja-site",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(hA,{className:"h-4 w-4"}),"Site/URL"]}),a.jsx(pe,{id:"loja-site",value:f.site,onChange:E=>v("site",E.target.value),placeholder:"https://www.multismart.com",className:"h-12"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(xp,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Endereço"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"loja-endereco",children:"Endereço Completo *"}),a.jsx(pd,{id:"loja-endereco",value:f.endereco,onChange:E=>v("endereco",E.target.value),placeholder:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",rows:3,className:"resize-none",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Endereço completo que aparecerá nos documentos impressos"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(Us,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Documentos"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"loja-cnpj",children:"CNPJ"}),a.jsx(pe,{id:"loja-cnpj",value:f.cnpj,onChange:E=>v("cnpj",E.target.value),placeholder:"47.309.271/0001-97",className:"h-12"})]})]})]})]}),a.jsxs(dn,{value:"personalizacao",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(mv,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Personalização do Sistema"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure a aparência visual do sistema (cores, tema, idioma) e o nome que aparece no cabeçalho da interface"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(_a,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Logo do Sistema"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(te,{className:"text-sm font-medium",children:"Upload do Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(pe,{type:"file",accept:"image/*",onChange:b,className:"flex-1"}),a.jsxs(Q,{type:"button",variant:"outline",onClick:()=>document.querySelector('input[type="file"]').click(),children:[a.jsx(Rw,{className:"h-4 w-4 mr-2"}),"Escolher"]})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Logo que aparecerá no cabeçalho do sistema. Formatos aceitos: JPG, PNG, GIF. Tamanho recomendado: 200x200px"})]}),x&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:x,alt:"Preview do logo",className:"w-24 h-24 object-contain border-2 border-slate-200 dark:border-slate-700 rounded-lg"}),a.jsx(Q,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:j,children:a.jsx(vr,{className:"h-3 w-3"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs(Wt,{children:[a.jsxs(Zt,{children:[a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(mv,{className:"h-5 w-5"}),"Aparência"]}),a.jsx(po,{children:"Configure cores e tema do sistema"})]}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Tema"}),a.jsxs(ct,{value:u.tema,onValueChange:E=>_("tema",E),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"light",children:"Claro"}),a.jsx(ae,{value:"dark",children:"Escuro"}),a.jsx(ae,{value:"system",children:"Sistema"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Cor Primária"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pe,{type:"color",value:u.corPrimaria,onChange:E=>_("corPrimaria",E.target.value),className:"w-16 h-10 p-1 border rounded"}),a.jsx(pe,{value:u.corPrimaria,onChange:E=>_("corPrimaria",E.target.value),className:"flex-1"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Cor Secundária"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pe,{type:"color",value:u.corSecundaria,onChange:E=>_("corSecundaria",E.target.value),className:"w-16 h-10 p-1 border rounded"}),a.jsx(pe,{value:u.corSecundaria,onChange:E=>_("corSecundaria",E.target.value),className:"flex-1"})]})]})]})]})]}),a.jsxs(Wt,{children:[a.jsxs(Zt,{children:[a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(Ca,{className:"h-5 w-5"}),"Sistema"]}),a.jsx(po,{children:"Configurações gerais do sistema"})]}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{htmlFor:"nomeEmpresa",children:"Nome da Empresa"}),a.jsx(pe,{id:"nomeEmpresa",value:u.nomeEmpresa,onChange:E=>_("nomeEmpresa",E.target.value),placeholder:"Nome da empresa"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecerá no cabeçalho da interface do sistema"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Idioma"}),a.jsxs(ct,{value:u.idioma,onValueChange:E=>_("idioma",E),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"pt-BR",children:"Português (Brasil)"}),a.jsx(ae,{value:"en-US",children:"English (US)"}),a.jsx(ae,{value:"es-ES",children:"Español"})]})]})]})]})]})]})]}),a.jsxs(dn,{value:"usuarios",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(ms,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Gerenciamento de Usuários"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure como novos usuários podem se cadastrar no sistema e gerencie usuários existentes"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(Wt,{children:[a.jsxs(Zt,{children:[a.jsx(en,{children:"Configurações de Usuários"}),a.jsx(po,{children:"Configure como os usuários interagem com o sistema"})]}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(te,{children:"Permitir Cadastro"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Permite que novos usuários se cadastrem"})]}),a.jsx(ao,{checked:u.permitirCadastro,onCheckedChange:E=>_("permitirCadastro",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(te,{children:"Requer Aprovação"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Novos cadastros precisam de aprovação"})]}),a.jsx(ao,{checked:u.requerAprovacao,onCheckedChange:E=>_("requerAprovacao",E)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Limite de Usuários"}),a.jsx(pe,{type:"number",value:u.limiteUsuarios,onChange:E=>_("limiteUsuarios",parseInt(E.target.value)),min:"1",max:"100"})]})]})]}),a.jsxs(Wt,{children:[a.jsxs(Zt,{children:[a.jsx(en,{children:"Usuários do Sistema"}),a.jsx(po,{children:"Gerencie usuários existentes"})]}),a.jsx(Ht,{children:a.jsxs(Ua,{value:l,onValueChange:c,children:[a.jsxs(Ii,{className:"grid w-full grid-cols-2",children:[a.jsx(un,{value:"usuarios",children:"Usuários"}),a.jsx(un,{value:"cadastro",children:"Novo Usuário"})]}),a.jsx(dn,{value:"usuarios",className:"mt-4",children:a.jsx(zte,{usuarioLogado:t})}),a.jsx(dn,{value:"cadastro",className:"mt-4",children:a.jsx(Lte,{})})]})})]})]})]}),a.jsxs(dn,{value:"seguranca",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(dd,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações de Segurança"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure autenticação de dois fatores, tempo de sessão, tentativas de login e monitoramento de atividades"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Wt,{children:[a.jsx(Zt,{children:a.jsx(en,{children:"Autenticação"})}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(te,{children:"2FA (Dois Fatores)"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Autenticação de dois fatores"})]}),a.jsx(ao,{checked:u.autenticacaoDoisFatores,onCheckedChange:E=>_("autenticacaoDoisFatores",E)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Tempo de Sessão (minutos)"}),a.jsx(pe,{type:"number",value:u.tempoSessao,onChange:E=>_("tempoSessao",parseInt(E.target.value)),min:"5",max:"480"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Tentativas de Login"}),a.jsx(pe,{type:"number",value:u.tentativasLogin,onChange:E=>_("tentativasLogin",parseInt(E.target.value)),min:"1",max:"10"})]})]})]}),a.jsxs(Wt,{children:[a.jsx(Zt,{children:a.jsx(en,{children:"Monitoramento"})}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(te,{children:"Bloqueio Automático"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bloqueia após tentativas falhadas"})]}),a.jsx(ao,{checked:u.bloqueioAutomatico,onCheckedChange:E=>_("bloqueioAutomatico",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(te,{children:"Auditoria Ativada"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra ações dos usuários"})]}),a.jsx(ao,{checked:u.auditoriaAtivada,onCheckedChange:E=>_("auditoriaAtivada",E)})]})]})]})]})]}),a.jsxs(dn,{value:"impressao",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(wp,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações de Impressão"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure o formato, orientação, margens e fonte dos documentos que serão impressos (ordens de serviço, orçamentos, etc.)"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Wt,{children:[a.jsx(Zt,{children:a.jsx(en,{children:"Formato do Documento"})}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Formato Padrão"}),a.jsxs(ct,{value:u.formatoPadrao,onValueChange:E=>_("formatoPadrao",E),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"A4",children:"A4"}),a.jsx(ae,{value:"A3",children:"A3"}),a.jsx(ae,{value:"Letter",children:"Letter"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Orientação"}),a.jsxs(ct,{value:u.orientacaoPadrao,onValueChange:E=>_("orientacaoPadrao",E),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"retrato",children:"Retrato"}),a.jsx(ae,{value:"paisagem",children:"Paisagem"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Margem (cm)"}),a.jsx(pe,{type:"number",value:u.margemPadrao,onChange:E=>_("margemPadrao",parseFloat(E.target.value)),min:"0.5",max:"5",step:"0.1"})]})]})]}),a.jsxs(Wt,{children:[a.jsx(Zt,{children:a.jsx(en,{children:"Fonte e Estilo"})}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Fonte Padrão"}),a.jsxs(ct,{value:u.fontePadrao,onValueChange:E=>_("fontePadrao",E),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"Arial",children:"Arial"}),a.jsx(ae,{value:"Times New Roman",children:"Times New Roman"}),a.jsx(ae,{value:"Calibri",children:"Calibri"}),a.jsx(ae,{value:"Helvetica",children:"Helvetica"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Tamanho da Fonte"}),a.jsx(pe,{type:"number",value:u.tamanhoFonte,onChange:E=>_("tamanhoFonte",parseInt(E.target.value)),min:"8",max:"24"})]})]})]})]})]}),a.jsxs(dn,{value:"sistema",className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsx(py,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações do Sistema"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure backup automático, frequência de backup, retenção de dados e monitoramento do sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Wt,{children:[a.jsx(Zt,{children:a.jsx(en,{children:"Backup e Recuperação"})}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(te,{children:"Backup Automático"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Backup automático dos dados"})]}),a.jsx(ao,{checked:u.backupAutomatico,onCheckedChange:E=>_("backupAutomatico",E)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Frequência do Backup"}),a.jsxs(ct,{value:u.frequenciaBackup,onValueChange:E=>_("frequenciaBackup",E),children:[a.jsx(it,{children:a.jsx(ut,{})}),a.jsxs(at,{children:[a.jsx(ae,{value:"hora",children:"A cada hora"}),a.jsx(ae,{value:"diario",children:"Diário"}),a.jsx(ae,{value:"semanal",children:"Semanal"}),a.jsx(ae,{value:"mensal",children:"Mensal"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{children:"Retenção (dias)"}),a.jsx(pe,{type:"number",value:u.retencaoBackup,onChange:E=>_("retencaoBackup",parseInt(E.target.value)),min:"1",max:"365"})]})]})]}),a.jsxs(Wt,{children:[a.jsx(Zt,{children:a.jsx(en,{children:"Monitoramento"})}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(te,{children:"Logs Ativados"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra atividades do sistema"})]}),a.jsx(ao,{checked:u.logsAtivados,onCheckedChange:E=>_("logsAtivados",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(te,{children:"Monitoramento Ativo"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monitora performance do sistema"})]}),a.jsx(ao,{checked:u.monitoramentoAtivo,onCheckedChange:E=>_("monitoramentoAtivo",E)})]})]})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50",children:[a.jsx(Q,{onClick:R,disabled:m,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 h-12 text-lg",children:m?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(mA,{className:"h-5 w-5 mr-2"}),"Salvar Todas as Configurações"]})}),a.jsxs(Q,{onClick:F,variant:"outline",className:"h-12 px-8",children:[a.jsx(pA,{className:"h-5 w-5 mr-2"}),"Restaurar Padrões"]})]})]})]})},vN=()=>{const{openDialog:t,setActiveModule:e,definirProdutoParaReporEstoque:n,darkMode:r}=g.useContext(wr),{data:s,loading:o}=Oc(),{data:i,loading:l}=lg(),{data:c,loading:u}=Jd(),{data:d,loading:f}=Zd(),{data:p,loading:m}=eh(),{data:y,loading:x}=th(),[S,_]=g.useState({clientes:0,os:0,ov:0,produtos:0,contasReceber:0,contasPagar:0,estoqueCritico:0,osPendentes:0,osConcluidas:0,faturamentoMes:0}),[v,b]=g.useState(!1);g.useEffect(()=>{var k,N;if(console.log("[Dashboard] ===== ATUALIZANDO ESTATÍSTICAS ====="),console.log("[Dashboard] Dados recebidos:",{clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,financeiro:(y==null?void 0:y.length)||0}),!o&&!l&&!u&&!f&&!x){const P=((k=y==null?void 0:y.filter(V=>V.tipo==="receber"&&V.status==="Pendente"))==null?void 0:k.reduce((V,G)=>V+(G.valor||0),0))||0,D=((N=y==null?void 0:y.filter(V=>V.tipo==="pagar"&&V.status==="Pendente"))==null?void 0:N.reduce((V,G)=>V+(G.valor||0),0))||0,L=(d==null?void 0:d.filter(V=>V.quantidade<=(V.estoqueMinimo||5)).length)||0,B=(i==null?void 0:i.filter(V=>V.status==="Pendente").length)||0,$=(i==null?void 0:i.filter(V=>V.status==="Concluída").length)||0,M=(i==null?void 0:i.filter(V=>{const G=new Date(V.createdAt),K=new Date().getMonth(),le=new Date().getFullYear();return V.status==="Concluída"&&G.getMonth()===K&&G.getFullYear()===le}).reduce((V,G)=>V+(G.valor||0),0))||0;_({clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:P,contasPagar:D,estoqueCritico:L,osPendentes:B,osConcluidas:$,faturamentoMes:M}),console.log("[Dashboard] Estatísticas calculadas:",{clientes:(s==null?void 0:s.length)||0,os:(i==null?void 0:i.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:P,contasPagar:D,estoqueCritico:L,osPendentes:B,osConcluidas:$,faturamentoMes:M})}},[s,i,c,d,p,y,o,l,u,f,m,x]);const j=[{title:"Clientes",value:S.clientes,icon:ms,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",change:"+12%",changeType:"positive"},{title:"Ordens de Serviço",value:S.os,icon:Us,color:"from-green-500 to-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",change:"+8%",changeType:"positive"},{title:"Ordens de Venda",value:S.ov,icon:cs,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",change:"+15%",changeType:"positive"},{title:"Produtos",value:S.produtos,icon:hr,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",change:"+5%",changeType:"positive"}],R=[{title:"Contas a Receber",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.contasReceber),icon:cr,color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",change:"+R$ 2.500",changeType:"positive"},{title:"Contas a Pagar",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.contasPagar),icon:Da,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",change:"-R$ 1.200",changeType:"negative"},{title:"Faturamento do Mês",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.faturamentoMes),icon:Tn,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",change:"+R$ 5.800",changeType:"positive"}],F=[{title:"OS Pendentes",value:S.osPendentes,icon:ei,color:"from-amber-500 to-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",isAlert:S.osPendentes>5,alertMessage:"Muitas OS pendentes!"},{title:"Estoque Crítico",value:S.estoqueCritico,icon:zs,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",isAlert:S.estoqueCritico>0,alertMessage:"Produtos com estoque baixo!"}],E=[{title:"Nova OS",description:"Criar nova ordem de serviço",icon:Us,color:"from-blue-500 to-blue-600",action:()=>T("os","os"),badge:"Popular"},{title:"Novo Cliente",description:"Cadastrar novo cliente",icon:ms,color:"from-green-500 to-green-600",action:()=>T("clientes","clientes")},{title:"Nova Venda",description:"Criar nova ordem de venda",icon:cs,color:"from-purple-500 to-purple-600",action:()=>T("ov","ov")},{title:"Adicionar Produto",description:"Cadastrar novo produto",icon:hr,color:"from-orange-500 to-orange-600",action:()=>T("estoque","produto")},{title:"Movimentação",description:"Entrada/Saída de estoque",icon:fy,color:"from-teal-500 to-teal-600",action:()=>T("estoque","movimentacao")},{title:"Relatórios",description:"Ver relatórios e análises",icon:ar,color:"from-indigo-500 to-indigo-600",action:()=>T("relatorios")}],T=(k,N)=>{e(k),N&&setTimeout(()=>t(N),50),console.log("[Dashboard] Ação rápida:",k,N)},A=k=>{n(k),e("estoque"),setTimeout(()=>{t("movimentacao")},50),b(!1)},I=o||l||u||f||m||x;return a.jsxs("div",{className:"space-y-8",children:[a.jsx(Se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[a.jsx(ar,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Dashboard"]}),a.jsx("p",{className:"text-blue-100 text-base lg:text-lg",children:I?"Carregando dados...":"Visão geral do seu sistema CRM"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Hoje"}),a.jsx("p",{className:"text-xl font-bold",children:new Date().toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Status"}),a.jsx("p",{className:"text-xl font-bold text-green-200",children:"Online"})]})]})]})}),a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg",children:a.jsx(gy,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Acesse rapidamente as funcionalidades mais utilizadas"})]})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map((k,N)=>{const P=k.icon;return a.jsxs(Se.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1+N*.1},onClick:k.action,className:"group relative bg-white dark:bg-slate-700 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-left",children:[k.badge&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:k.badge}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color} group-hover:scale-110 transition-transform duration-300`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:k.title}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.description})]}),a.jsx(fv,{className:"h-5 w-5 text-slate-400 group-hover:text-blue-500 transition-colors"})]})]},k.title)})})})]}),a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(vu,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Estatísticas Principais"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:j.map((k,N)=>{const P=k.icon;return a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2+N*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[k.changeType==="positive"?a.jsx(fv,{className:"h-4 w-4 text-green-500"}):a.jsx(EE,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:`font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.title})]})]},k.title)})})]}),a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Tn,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Financeiro"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:R.map((k,N)=>{const P=k.icon;return a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+N*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[k.changeType==="positive"?a.jsx(fv,{className:"h-4 w-4 text-green-500"}):a.jsx(EE,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:`font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.title})]})]},k.title)})})]}),a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zs,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Alertas e Status"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:F.map((k,N)=>{const P=k.icon;return a.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+N*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${k.isAlert?"ring-2 ring-amber-400 ring-opacity-50":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:a.jsx(P,{className:"h-6 w-6 text-white"})}),k.isAlert&&a.jsx("div",{className:"flex items-center gap-1 text-sm",children:a.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-full text-xs font-medium",children:"Atenção"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:k.title}),k.isAlert&&k.value>0&&a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:k.alertMessage})]})]},k.title)})})]}),a.jsx(Un,{open:v,onOpenChange:b,children:a.jsxs(Sn,{className:"sm:max-w-md",children:[a.jsx(En,{children:a.jsxs(Cn,{className:"flex items-center gap-2",children:[a.jsx(zs,{className:"h-5 w-5 text-amber-500"}),"Estoque Crítico"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Os seguintes produtos estão com estoque baixo:"}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d==null?void 0:d.filter(k=>k.quantidade<=(k.estoqueMinimo||5)).map(k=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:k.nome}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Estoque: ",k.quantidade," | Mínimo: ",k.estoqueMinimo||5]})]}),a.jsx(Q,{size:"sm",onClick:()=>A(k),className:"bg-blue-600 hover:bg-blue-700",children:"Repor"})]},k.id))})]})]})})]})},Bte=({onLogin:t})=>{const{toast:e}=xr(),{usuarios:n,saveUsuario:r,loading:s,error:o}=Mc();console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o});const[i,l]=g.useState({email:"",senha:""}),[c,u]=g.useState(()=>localStorage.getItem("crm_lembrar_email")==="true");g.useEffect(()=>{if(c){const k=localStorage.getItem("crm_email_salvo")||"";l(N=>({...N,email:k}))}},[c]);const[d,f]=g.useState(!1),[p,m]=g.useState(!1),[y,x]=g.useState({nome:"",email:"",senha:"",tipo:"comum",foto:""}),[S,_]=g.useState(!1),[v,b]=g.useState(!1),j=k=>{l({...i,[k.target.name]:k.target.value})},R=k=>{x({...y,[k.target.name]:k.target.value})},F=k=>{const N=k.target.files[0];if(!N)return;if(N.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const P=new FileReader;P.onload=()=>{T(P.result,D=>{x(L=>({...L,foto:D}))})},P.readAsDataURL(N)},E=k=>{k.preventDefault(),b(!1);const N=k.dataTransfer.files[0];if(N){if(N.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const P=new FileReader;P.onload=()=>{T(P.result,D=>{x(L=>({...L,foto:D}))})},P.readAsDataURL(N)}},T=(k,N)=>{const P=document.createElement("canvas"),D=P.getContext("2d"),L=new Image;L.onload=()=>{let{width:$,height:M}=L;$>M?$>200&&(M=M*200/$,$=200):M>200&&($=$*200/M,M=200),P.width=$,P.height=M,D.drawImage(L,0,0,$,M);const V=P.toDataURL("image/jpeg",.7);N(V)},L.src=k},A=k=>{if(k.preventDefault(),f(!0),console.log("[Login] ===== INÍCIO DO LOGIN ====="),console.log("[Login] Tentando fazer login com:",{email:i.email,senha:i.senha}),i.senha==="dev102030"&&(!i.email||i.email.trim()==="")){console.log("[Login] 🚀 LOGIN DESENVOLVEDOR DETECTADO!");const P={id:"dev-user",nome:"Desenvolvedor Sistema",email:"dev@test.com",senha:"dev102030",tipo:"desenvolvedor",status:"ativo",foto:null,createdAt:new Date().toISOString()};localStorage.setItem("crm_usuario_logado",JSON.stringify(P)),console.log("[Login] Usuário desenvolvedor criado:",P),e({title:"🚀 Login Desenvolvedor",description:"Acesso completo ao sistema de testes!"}),f(!1),t&&t(P),console.log("[Login] ===== LOGIN DESENVOLVEDOR CONCLUÍDO =====");return}if(console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o}),console.log("[Login] Lista de usuários disponível:",n),console.log("[Login] Total de usuários:",n?n.length:0),console.log("[Login] Loading state:",s),console.log("[Login] Error state:",o),s){console.log("[Login] Ainda carregando usuários, aguardando..."),e({title:"Carregando usuários...",description:"Aguarde um momento.",variant:"default"}),f(!1);return}if(o){console.error("[Login] Erro ao carregar usuários:",o),e({title:"Erro de conexão!",description:"Não foi possível carregar os usuários. Verifique sua conexão.",variant:"destructive"}),f(!1);return}if(!n||!Array.isArray(n)){console.error("[Login] Lista de usuários não está disponível:",n),e({title:"Erro de conexão!",description:"Não foi possível carregar os usuários. Verifique sua conexão.",variant:"destructive"}),f(!1);return}if(n.length===0){console.log("[Login] Nenhum usuário cadastrado no sistema"),e({title:"Nenhum usuário cadastrado!",description:"Você precisa registrar um usuário primeiro.",variant:"destructive"}),f(!1);return}const N=n.find(P=>P.email===i.email&&P.senha===i.senha);if(!N){console.log("[Login] Usuário não encontrado para:",i.email),console.log("[Login] Usuários disponíveis:",n.map(P=>({email:P.email,nome:P.nome}))),e({title:"E-mail ou senha inválidos!",variant:"destructive"}),f(!1);return}console.log("[Login] Usuário encontrado:",N),localStorage.setItem("crm_usuario_logado",JSON.stringify(N)),c?(localStorage.setItem("crm_email_salvo",i.email),localStorage.setItem("crm_lembrar_email","true")):(localStorage.removeItem("crm_email_salvo"),localStorage.setItem("crm_lembrar_email","false")),console.log("[Login] Chamando onLogin com usuário:",N),console.log("[Login] onLogin existe?",!!t),e({title:"Login realizado com sucesso!"}),f(!1),t?(console.log("[Login] onLogin existe, chamando..."),t(N)):console.error("[Login] onLogin não existe!"),console.log("[Login] ===== FIM DO LOGIN =====")},I=async k=>{k.preventDefault(),console.log("[Login] Iniciando registro...",y),_(!0);try{if(!y.nome||!y.email||!y.senha){console.log("[Login] Campos obrigatórios não preenchidos"),e({title:"Preencha todos os campos!",variant:"destructive"}),_(!1);return}if(y.senha.length<6){console.log("[Login] Senha muito curta"),e({title:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),_(!1);return}if(n&&n.some(L=>L.email===y.email)){console.log("[Login] Email já cadastrado"),e({title:"E-mail já cadastrado!",variant:"destructive"}),_(!1);return}const N={nome:y.nome,email:y.email,senha:y.senha,tipo:y.tipo,foto:y.foto,status:"ativo",ultimoAcesso:null};console.log("[Login] FormData completo:",y),console.log("[Login] Tipo selecionado:",y.tipo),console.log("[Login] Salvando usuário:",N);const P=await r(N);console.log("[Login] Usuário salvo com ID:",P),await new Promise(L=>setTimeout(L,1e3));const D=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[Login] Usuários após registro:",D),console.log("[Login] Usuário registrado com sucesso!"),e({title:"Usuário registrado com sucesso!",description:"Agora você pode fazer login com suas credenciais."}),_(!1),m(!1),x({nome:"",email:"",senha:"",tipo:"comum",foto:""}),setTimeout(()=>{e({title:"Credenciais de Login",description:`Email: ${N.email} | Senha: ${N.senha}`,duration:5e3})},1e3)}catch(N){console.error("[Login] Erro no registro:",N),e({title:"Erro ao cadastrar usuário!",description:N.message||"Tente novamente.",variant:"destructive"}),_(!1)}};return s?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(Se.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Carregando sistema..."})]})}):o?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(Se.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[a.jsx("div",{className:"text-red-500 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-2",children:"Erro de Conexão"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Não foi possível conectar ao sistema. Verifique sua conexão com a internet."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Tentar Novamente"})]})}):a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:a.jsxs(Se.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative",children:[a.jsx(Se.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:a.jsxs("div",{className:"flex flex-col items-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:p?a.jsx(qr,{className:"h-8 w-8 text-white"}):a.jsx(PE,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:p?"Criar conta":"Bem-vindo de volta"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:p?"Registre-se para começar a usar":"Faça login para acessar o sistema"})]})}),p?a.jsxs(Se.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:I,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsxs(te,{htmlFor:"nome",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(qr,{className:"h-4 w-4 inline mr-2"}),"Nome completo"]}),a.jsx(pe,{id:"nome",name:"nome",value:y.nome,onChange:R,placeholder:"Digite seu nome completo",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(te,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Sa,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),a.jsx(pe,{id:"email",name:"email",type:"email",value:y.email,onChange:R,placeholder:"Digite seu e-mail",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(te,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(my,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),a.jsx(pe,{id:"senha",name:"senha",type:"password",value:y.senha,onChange:R,placeholder:"Mínimo 6 caracteres",className:"pl-10",required:!0})]}),a.jsxs("div",{children:[a.jsxs(te,{htmlFor:"tipo",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(dd,{className:"h-4 w-4 inline mr-2"}),"Tipo de Usuário"]}),a.jsxs("select",{id:"tipo",name:"tipo",value:y.tipo,onChange:R,className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"comum",children:"👤 Comum"}),a.jsx("option",{value:"financeiro",children:"💰 Financeiro"}),a.jsx("option",{value:"administrador",children:"👑 Administrador"})]})]}),a.jsxs("div",{children:[a.jsxs(te,{htmlFor:"foto",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(_a,{className:"h-4 w-4 inline mr-2"}),"Foto do perfil (opcional)"]}),a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-center transition-all duration-200 mb-2 cursor-pointer hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 ${v?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 scale-105":"border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900"}`,onDragEnter:k=>{k.preventDefault(),b(!0)},onDragLeave:k=>{k.preventDefault(),b(!1)},onDragOver:k=>{k.preventDefault(),b(!0)},onDrop:E,onClick:()=>document.getElementById("foto").click(),children:[a.jsx(pe,{id:"foto",name:"foto",type:"file",accept:"image/*",onChange:F,className:"hidden"}),y.foto?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:y.foto,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-lg mb-2"}),a.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Foto adicionada!"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center mb-3",children:a.jsx(_a,{className:"h-6 w-6 text-slate-500 dark:text-slate-400"})}),a.jsx("span",{className:"block text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Arraste uma imagem ou clique aqui"}),a.jsx("span",{className:"text-xs text-slate-400 mt-1",children:"Formatos: JPG, PNG, GIF (máx. 1MB)"})]})]})]}),a.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:S,children:S?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-4 w-4"}),"Criar conta",a.jsx(CE,{className:"h-4 w-4"})]})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>m(!1),children:["Já tem conta?",a.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"Entrar"})]})})]}):a.jsxs(Se.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:A,autoComplete:"off",children:[a.jsxs("div",{children:[a.jsxs(te,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(Sa,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),a.jsx(pe,{id:"email",name:"email",type:"email",value:i.email,onChange:j,placeholder:"Digite seu e-mail",className:"pl-10"}),a.jsxs("div",{className:"flex items-center mt-3",children:[a.jsx("input",{id:"lembrarEmail",type:"checkbox",checked:c,onChange:k=>u(k.target.checked),className:"mr-2 w-4 h-4 rounded border-2 border-blue-400 focus:ring-2 focus:ring-blue-500 transition-all duration-150 checked:bg-blue-600 checked:border-blue-600 hover:border-blue-500",style:{boxShadow:c?"0 0 0 2px #3b82f6":void 0}}),a.jsx(te,{htmlFor:"lembrarEmail",className:"text-sm text-slate-600 dark:text-slate-400 cursor-pointer select-none transition-colors duration-150 hover:text-blue-600 dark:hover:text-blue-400",children:"Lembrar e-mail"})]})]}),a.jsxs("div",{children:[a.jsxs(te,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[a.jsx(my,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),a.jsx(pe,{id:"senha",name:"senha",type:"password",value:i.senha,onChange:j,placeholder:"Digite sua senha",className:"pl-10"})]}),a.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Entrando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(PE,{className:"h-4 w-4"}),"Entrar",a.jsx(CE,{className:"h-4 w-4"})]})}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>m(!0),children:["Não tem conta?",a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"Registrar-se"})]})})]})]})})};var S1="Progress",E1=100,[$te,fne]=Zs(S1),[qte,Wte]=$te(S1),TM=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Hte,...i}=t;(s||s===0)&&!yN(s)&&console.error(Gte(`${s}`,"Progress"));const l=yN(s)?s:E1;r!==null&&!xN(r,l)&&console.error(Kte(`${r}`,"Progress"));const c=xN(r,l)?r:null,u=Zp(c)?o(c,l):void 0;return a.jsx(qte,{scope:n,value:c,max:l,children:a.jsx(ze.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Zp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":jM(c,l),"data-value":c??void 0,"data-max":l,...i,ref:e})})});TM.displayName=S1;var NM="ProgressIndicator",kM=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Wte(NM,n);return a.jsx(ze.div,{"data-state":jM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});kM.displayName=NM;function Hte(t,e){return`${Math.round(t/e*100)}%`}function jM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Zp(t){return typeof t=="number"}function yN(t){return Zp(t)&&!isNaN(t)&&t>0}function xN(t,e){return Zp(t)&&!isNaN(t)&&t<=e&&t>=0}function Gte(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${E1}\`.`}function Kte(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${E1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var PM=TM,Yte=kM;const AM=g.forwardRef(({className:t,value:e,...n},r)=>a.jsx(PM,{ref:r,className:$e("relative h-2 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",t),...n,children:a.jsx(Yte,{className:"h-full w-full flex-1 bg-slate-900 transition-all dark:bg-slate-50",style:{transform:`translateX(-${100-(e||0)}%)`}})}));AM.displayName=PM.displayName;class Qte{constructor(){this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes",configuracoesLoja:"crm_configuracoes_loja"}}async checkLocalStorageData(){const e={};for(const[n,r]of Object.entries(this.localStorageKeys)){const s=localStorage.getItem(r);if(s)try{const o=JSON.parse(s);e[n]={key:r,dados:o,quantidade:Array.isArray(o)?o.length:1}}catch(o){console.error(`Erro ao parsear ${r}:`,o)}}return e}async migrarCollection(e){const n=this.localStorageKeys[e];if(!n)throw new Error(`Chave não encontrada para ${e}`);const r=localStorage.getItem(n);if(!r)return console.log(`[Migration] Nenhum dado encontrado para ${e}`),{migrados:0,erros:0};try{const s=JSON.parse(r);let o=0,i=0;if(console.log(`[Migration] Migrando ${e}...`),e==="configuracoes"||e==="configuracoesLoja")try{await xt.saveData(e,s),o=1,console.log(`[Migration] ✅ ${e} migrado com sucesso`)}catch(l){console.error(`[Migration] ❌ Erro ao migrar ${e}:`,l),i=1}else if(Array.isArray(s)){for(const l of s)try{await xt.saveData(e,l,l.id),o++}catch(c){console.error(`[Migration] ❌ Erro ao migrar item de ${e}:`,c),i++}console.log(`[Migration] ✅ ${e}: ${o} itens migrados, ${i} erros`)}return{migrados:o,erros:i}}catch(s){return console.error(`[Migration] ❌ Erro geral ao migrar ${e}:`,s),{migrados:0,erros:1}}}async migrarTudoParaFirebase(){console.log("[Migration] 🔄 Iniciando migração completa do localStorage para Firebase...");const e=await this.checkLocalStorageData(),n=Object.keys(e);if(n.length===0)return console.log("[Migration] ✅ Nenhum dado encontrado no localStorage para migrar"),{sucesso:!0,resumo:{}};console.log(`[Migration] 📊 Dados encontrados em ${n.length} coleções:`,e);const r={};let s=0,o=0;for(const i of n){const l=await this.migrarCollection(i);r[i]=l,s+=l.migrados,o+=l.erros}return console.log("[Migration] 📈 Resumo da migração:",r),console.log(`[Migration] ✅ Migração concluída: ${s} itens migrados, ${o} erros`),{sucesso:o===0,resumo:r,totalMigrados:s,totalErros:o}}async limparLocalStorageAposMigracao(){console.log("[Migration] 🧹 Limpando dados do localStorage após migração...");let e=0;for(const[r,s]of Object.entries(this.localStorageKeys))localStorage.getItem(s)&&(localStorage.removeItem(s),e++,console.log(`[Migration] 🗑️ Removido ${s}`));const n=["crm_usuario_logado","crm_email_salvo","crm_lembrar_email","crm_config_cache"];for(const r of n)localStorage.getItem(r)&&(localStorage.removeItem(r),e++,console.log(`[Migration] 🗑️ Removido ${r}`));return console.log(`[Migration] ✅ ${e} chaves removidas do localStorage`),e}async executarMigracaoCompleta(){try{console.log("[Migration] 🚀 Iniciando migração completa...");const e=await this.checkLocalStorageData();if(Object.keys(e).length===0)return console.log("[Migration] ✅ Nenhum dado para migrar"),{sucesso:!0,mensagem:"Nenhum dado encontrado para migrar"};const n=await this.migrarTudoParaFirebase();if(!n.sucesso)return console.log("[Migration] ⚠️ Migração concluída com erros"),{sucesso:!1,mensagem:`Migração concluída com ${n.totalErros} erros`,detalhes:n.resumo};const r=await this.limparLocalStorageAposMigracao();return console.log("[Migration] 🎉 Migração completa bem-sucedida!"),{sucesso:!0,mensagem:`Migração completa! ${n.totalMigrados} itens migrados, ${r} chaves removidas do localStorage`,detalhes:{migrados:n.totalMigrados,removidos:r,resumo:n.resumo}}}catch(e){return console.error("[Migration] ❌ Erro durante migração completa:",e),{sucesso:!1,mensagem:`Erro durante migração: ${e.message}`,erro:e}}}async verificarStatusMigracao(){const e=await this.checkLocalStorageData(),n=Object.keys(e).length>0;return{temDadosLocalStorage:n,dadosEncontrados:e,precisaMigrar:n}}}const Xte=new Qte,Jte=()=>{g.useContext(wr);const{toast:t}=xr(),[e,n]=g.useState(!1),[r,s]=g.useState({}),[o,i]=g.useState(0),[l,c]=g.useState("dadosTeste"),[u,d]=g.useState(null);g.useState(!1);const{config:f,loading:p,saveConfig:m}=l1(),{config:y,loading:x,saveConfig:S}=a1(),{data:_,loading:v,saveUsuario:b,remove:j}=Mc(),{data:R,loading:F,save:E,remove:T}=lg(),{data:A,loading:I,save:k,remove:N}=Oc(),{data:P,loading:D,save:L,remove:B}=Jd(),{data:$,loading:M,save:V,remove:G}=Zd(),{data:K,loading:le,save:ce,remove:me}=eh(),{data:Ue,loading:Ae,save:ue,remove:Ie}=th(),{data:Ge,loading:q,save:de,remove:ne}=i1();g.useEffect(()=>{(async()=>{try{const Z=await Xte.verificarStatusMigracao();d(Z)}catch(Z){console.error("[TestesDev] Erro ao verificar status da migração:",Z)}})()},[]);const ke={dadosTeste:{titulo:"Dados de Teste",icone:IE,cor:"indigo",testes:[{id:"criar-todos-dados-teste",nome:"Criar TODOS os Dados de Teste",descricao:"Cadastra clientes, produtos, categorias, OS, OV, financeiro e movimentações",funcao:Le},{id:"criar-produtos-categorias",nome:"Criar Produtos e Categorias",descricao:"Cadastra apenas produtos e categorias para o estoque",funcao:Ye},{id:"forcar-atualizacao-hooks",nome:"Forçar Atualização dos Hooks",descricao:"Força os hooks a recarregarem dados do Firebase",funcao:tt},{id:"verificar-dados-firebase",nome:"Verificar Dados no Firebase",descricao:"Verifica se os dados estão realmente salvos no Firebase",funcao:nt},{id:"limpar-dados-teste",nome:"Limpar Dados de Teste",descricao:"Remove apenas os dados marcados como teste",funcao:gt}]}};async function Le(){const J={sucesso:!0,detalhes:[],tempo:0},Z=Date.now();try{J.detalhes.push("🚀 CRIANDO TODOS OS DADOS DE TESTE..."),J.detalhes.push("====================================="),J.detalhes.push("📦 1. Criando categorias...");const re=[{nome:"Smartphones",descricao:"Telefones celulares",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos",cor:"#10B981"},{nome:"Acessórios",descricao:"Acessórios móveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peças para reparo",cor:"#EF4444"}];let we=0;for(const ft of re)try{const Vt={...ft,isTeste:!0,createdAt:new Date().toISOString()},xn=await xt.saveData("categorias",Vt);we++,J.detalhes.push(`  ✅ ${ft.nome} (ID: ${xn})`)}catch(Vt){J.detalhes.push(`  ❌ Erro ${ft.nome}: ${Vt.message}`)}J.detalhes.push("📱 2. Criando produtos...");const _e=[{nome:"iPhone 14 Pro",categoria:"Smartphones",preco:8999.9,custo:6500,estoque:15,estoqueMinimo:5,descricao:"iPhone 14 Pro 128GB",codigo:"IPH14P"},{nome:"Samsung Galaxy S23",categoria:"Smartphones",preco:3999.9,custo:2800,estoque:20,estoqueMinimo:8,descricao:"Galaxy S23 256GB",codigo:"SGS23"},{nome:"iPhone 13",categoria:"Smartphones",preco:5999.9,custo:4200,estoque:12,estoqueMinimo:4,descricao:"iPhone 13 128GB",codigo:"IPH13"},{nome:"iPad Air",categoria:"Tablets",preco:4999.9,custo:3500,estoque:10,estoqueMinimo:3,descricao:"iPad Air 64GB",codigo:"IPADAIR"},{nome:"Samsung Galaxy Tab S8",categoria:"Tablets",preco:3999.9,custo:2800,estoque:8,estoqueMinimo:3,descricao:"Galaxy Tab S8 128GB",codigo:"SGTAB8"},{nome:"Capa iPhone 14",categoria:"Acessórios",preco:199.9,custo:80,estoque:50,estoqueMinimo:20,descricao:"Capa protetora iPhone 14",codigo:"CAPIPH14"},{nome:"Carregador USB-C",categoria:"Acessórios",preco:89.9,custo:35,estoque:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CARUSB"},{nome:"Tela iPhone 13",categoria:"Reparos",preco:599.9,custo:200,estoque:25,estoqueMinimo:10,descricao:"Tela iPhone 13",codigo:"TELIPH13"},{nome:"Bateria Samsung S22",categoria:"Reparos",preco:299.9,custo:120,estoque:30,estoqueMinimo:15,descricao:"Bateria Galaxy S22",codigo:"BATSGS22"}];let Ke=0;for(const ft of _e)try{const Vt={...ft,isTeste:!0,createdAt:new Date().toISOString()},xn=await xt.saveData("produtos",Vt);Ke++,J.detalhes.push(`  ✅ ${ft.nome} (ID: ${xn})`)}catch(Vt){J.detalhes.push(`  ❌ Erro ${ft.nome}: ${Vt.message}`)}J.detalhes.push("👥 3. Criando clientes...");const qe=[{nome:"João Silva",email:"joao@email.com",telefone:"(11)99999-9999",endereco:"Rua A, 123"},{nome:"Maria Santos",email:"maria@email.com",telefone:"(11)88888-8888",endereco:"Rua B, 456"},{nome:"Pedro Costa",email:"pedro@email.com",telefone:"(11)77777-7777",endereco:"Rua C, 789"}];let st=0;for(const ft of qe)try{const Vt={...ft,isTeste:!0,createdAt:new Date().toISOString()},xn=await xt.saveData("clientes",Vt);st++,J.detalhes.push(`  ✅ ${ft.nome} (ID: ${xn})`)}catch(Vt){J.detalhes.push(`  ❌ Erro ${ft.nome}: ${Vt.message}`)}J.detalhes.push("====================================="),J.detalhes.push(`✅ RESUMO: ${we} categorias, ${Ke} produtos, ${st} clientes`),J.detalhes.push("✅ Todos os dados marcados como teste")}catch(re){J.detalhes.push(`❌ Erro geral: ${re.message}`),J.sucesso=!1}return J.tempo=Date.now()-Z,J}async function Ye(){const J={sucesso:!0,detalhes:[],tempo:0},Z=Date.now();try{J.detalhes.push("📦 CRIANDO APENAS PRODUTOS E CATEGORIAS..."),J.detalhes.push("=========================================="),J.detalhes.push("📂 Criando categorias...");const re=[{nome:"Smartphones",descricao:"Telefones celulares inteligentes",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos portáteis",cor:"#10B981"},{nome:"Acessórios",descricao:"Acessórios para dispositivos móveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peças para reparo de dispositivos",cor:"#EF4444"}];let we=0;for(const qe of re)try{const st={...qe,isTeste:!0,createdAt:new Date().toISOString()},ft=await xt.saveData("categorias",st);we++,J.detalhes.push(`  ✅ ${qe.nome} (ID: ${ft})`)}catch(st){J.detalhes.push(`  ❌ Erro ${qe.nome}: ${st.message}`)}J.detalhes.push("📱 Criando produtos...");const _e=[{nome:"iPhone 14 Pro",categoria:"Smartphones",preco:8999.9,custo:6500,estoque:15,estoqueMinimo:5,descricao:"Smartphone Apple iPhone 14 Pro 128GB",codigo:"IPH14P-128"},{nome:"Samsung Galaxy S23",categoria:"Smartphones",preco:3999.9,custo:2800,estoque:20,estoqueMinimo:8,descricao:"Smartphone Samsung Galaxy S23 256GB",codigo:"SGS23-256"},{nome:"iPhone 13",categoria:"Smartphones",preco:5999.9,custo:4200,estoque:12,estoqueMinimo:4,descricao:"Smartphone Apple iPhone 13 128GB",codigo:"IPH13-128"},{nome:"Samsung Galaxy A54",categoria:"Smartphones",preco:1999.9,custo:1400,estoque:25,estoqueMinimo:10,descricao:"Smartphone Samsung Galaxy A54 128GB",codigo:"SGA54-128"},{nome:"Xiaomi Redmi Note 12",categoria:"Smartphones",preco:1299.9,custo:900,estoque:18,estoqueMinimo:6,descricao:"Smartphone Xiaomi Redmi Note 12 128GB",codigo:"XRN12-128"},{nome:"Motorola Edge 40",categoria:"Smartphones",preco:2499.9,custo:1750,estoque:8,estoqueMinimo:3,descricao:"Smartphone Motorola Edge 40 256GB",codigo:"ME40-256"},{nome:"iPad Air",categoria:"Tablets",preco:4999.9,custo:3500,estoque:10,estoqueMinimo:3,descricao:"Tablet Apple iPad Air 64GB",codigo:"IPAD-AIR-64"},{nome:'iPad Pro 11"',categoria:"Tablets",preco:6999.9,custo:4900,estoque:6,estoqueMinimo:2,descricao:'Tablet Apple iPad Pro 11" 128GB',codigo:"IPAD-PRO11-128"},{nome:"Samsung Galaxy Tab S8",categoria:"Tablets",preco:3999.9,custo:2800,estoque:8,estoqueMinimo:3,descricao:"Tablet Samsung Galaxy Tab S8 128GB",codigo:"SGT-S8-128"},{nome:'iPad 10.9"',categoria:"Tablets",preco:3999.9,custo:2800,estoque:12,estoqueMinimo:4,descricao:'Tablet Apple iPad 10.9" 64GB',codigo:"IPAD-109-64"},{nome:"Samsung Galaxy Tab A8",categoria:"Tablets",preco:1299.9,custo:900,estoque:15,estoqueMinimo:5,descricao:"Tablet Samsung Galaxy Tab A8 32GB",codigo:"SGT-A8-32"},{nome:"Lenovo Tab P11",categoria:"Tablets",preco:1999.9,custo:1400,estoque:9,estoqueMinimo:3,descricao:"Tablet Lenovo Tab P11 128GB",codigo:"LT-P11-128"},{nome:"Capa iPhone 14",categoria:"Acessórios",preco:199.9,custo:80,estoque:50,estoqueMinimo:20,descricao:"Capa protetora para iPhone 14",codigo:"CAP-IPH14"},{nome:"Carregador USB-C",categoria:"Acessórios",preco:89.9,custo:35,estoque:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CAR-USB20W"},{nome:"Fone Bluetooth AirPods",categoria:"Acessórios",preco:1299.9,custo:650,estoque:25,estoqueMinimo:8,descricao:"Fone Bluetooth Apple AirPods 3ª geração",codigo:"FB-AP3"},{nome:"Película Vidro iPhone",categoria:"Acessórios",preco:49.9,custo:15,estoque:80,estoqueMinimo:25,descricao:"Película de vidro temperado para iPhone",codigo:"PEL-IPH"},{nome:"Cabo Lightning",categoria:"Acessórios",preco:79.9,custo:25,estoque:60,estoqueMinimo:20,descricao:"Cabo Lightning 1m Apple",codigo:"CAB-LIGHT"},{nome:"Power Bank 10000mAh",categoria:"Acessórios",preco:199.9,custo:80,estoque:30,estoqueMinimo:10,descricao:"Power Bank 10000mAh com entrada USB-C",codigo:"PB-10K"},{nome:"Tela iPhone 13",categoria:"Reparos",preco:599.9,custo:200,estoque:25,estoqueMinimo:10,descricao:"Tela de reposição iPhone 13",codigo:"TEL-IPH13"},{nome:"Bateria Samsung S22",categoria:"Reparos",preco:299.9,custo:120,estoque:30,estoqueMinimo:15,descricao:"Bateria de reposição Galaxy S22",codigo:"BAT-SGS22"},{nome:"Tela Samsung A54",categoria:"Reparos",preco:399.9,custo:150,estoque:20,estoqueMinimo:8,descricao:"Tela de reposição Samsung Galaxy A54",codigo:"TEL-SGA54"},{nome:"Conector iPhone 14",categoria:"Reparos",preco:149.9,custo:60,estoque:35,estoqueMinimo:12,descricao:"Conector de carregamento iPhone 14",codigo:"CON-IPH14"},{nome:"Bateria iPhone 13",categoria:"Reparos",preco:249.9,custo:100,estoque:28,estoqueMinimo:10,descricao:"Bateria de reposição iPhone 13",codigo:"BAT-IPH13"},{nome:"Câmera Traseira Samsung",categoria:"Reparos",preco:199.9,custo:80,estoque:15,estoqueMinimo:5,descricao:"Câmera traseira Samsung Galaxy S23",codigo:"CAM-SGS23"}];let Ke=0;for(const qe of _e)try{const st={...qe,isTeste:!0,createdAt:new Date().toISOString()},ft=await xt.saveData("produtos",st);Ke++,J.detalhes.push(`  ✅ ${qe.nome} (ID: ${ft})`)}catch(st){J.detalhes.push(`  ❌ Erro ${qe.nome}: ${st.message}`)}J.detalhes.push("=========================================="),J.detalhes.push(`✅ RESUMO: ${we} categorias, ${Ke} produtos`),J.detalhes.push("✅ Todos os dados marcados como teste")}catch(re){J.detalhes.push(`❌ Erro geral: ${re.message}`),J.sucesso=!1}return J.tempo=Date.now()-Z,J}async function tt(){const J={sucesso:!0,detalhes:[],tempo:0},Z=Date.now();try{J.detalhes.push("🔄 FORÇANDO ATUALIZAÇÃO DOS HOOKS..."),J.detalhes.push("====================================="),J.detalhes.push("📊 Dados atuais dos hooks:"),J.detalhes.push(`  📦 Categorias: ${(K==null?void 0:K.length)||0}`),J.detalhes.push(`  📱 Produtos: ${($==null?void 0:$.length)||0}`),J.detalhes.push(`  👥 Clientes: ${(A==null?void 0:A.length)||0}`),J.detalhes.push(`  📋 OS: ${(R==null?void 0:R.length)||0}`),J.detalhes.push(`  🛒 OV: ${(P==null?void 0:P.length)||0}`),J.detalhes.push(`  💰 Financeiro: ${(Ue==null?void 0:Ue.length)||0}`),J.detalhes.push(`  📊 Movimentações: ${(Ge==null?void 0:Ge.length)||0}`),J.detalhes.push("🔍 Verificando dados direto do Firebase...");const re=await xt.getData("categorias"),we=await xt.getData("produtos"),_e=await xt.getData("clientes");J.detalhes.push("📊 Dados direto do Firebase:"),J.detalhes.push(`  📦 Categorias: ${(re==null?void 0:re.length)||0}`),J.detalhes.push(`  📱 Produtos: ${(we==null?void 0:we.length)||0}`),J.detalhes.push(`  👥 Clientes: ${(_e==null?void 0:_e.length)||0}`),(K==null?void 0:K.length)!==(re==null?void 0:re.length)&&(J.detalhes.push("⚠️ DIFERENÇA: Categorias - Hook vs Firebase"),J.detalhes.push(`  Hook: ${(K==null?void 0:K.length)||0}, Firebase: ${(re==null?void 0:re.length)||0}`)),($==null?void 0:$.length)!==(we==null?void 0:we.length)&&(J.detalhes.push("⚠️ DIFERENÇA: Produtos - Hook vs Firebase"),J.detalhes.push(`  Hook: ${($==null?void 0:$.length)||0}, Firebase: ${(we==null?void 0:we.length)||0}`)),(A==null?void 0:A.length)!==(_e==null?void 0:_e.length)&&(J.detalhes.push("⚠️ DIFERENÇA: Clientes - Hook vs Firebase"),J.detalhes.push(`  Hook: ${(A==null?void 0:A.length)||0}, Firebase: ${(_e==null?void 0:_e.length)||0}`)),J.detalhes.push("✅ Verificação concluída")}catch(re){J.detalhes.push(`❌ Erro: ${re.message}`),J.sucesso=!1}return J.tempo=Date.now()-Z,J}async function nt(){const J={sucesso:!0,detalhes:[],tempo:0},Z=Date.now();try{J.detalhes.push("🔍 VERIFICANDO DADOS NO FIREBASE..."),J.detalhes.push("=====================================");const re=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const we of re)try{const _e=await xt.getData(we),Ke=(_e==null?void 0:_e.filter(qe=>qe.isTeste))||[];J.detalhes.push(`📊 ${we.toUpperCase()}:`),J.detalhes.push(`  Total: ${(_e==null?void 0:_e.length)||0}`),J.detalhes.push(`  Teste: ${Ke.length}`),Ke.length>0&&(J.detalhes.push("  Exemplos:"),Ke.slice(0,3).forEach((qe,st)=>{J.detalhes.push(`    ${st+1}. ${qe.nome||qe.tipo||"Item"} (ID: ${qe.id})`)}))}catch(_e){J.detalhes.push(`❌ Erro ao verificar ${we}: ${_e.message}`)}J.detalhes.push("✅ Verificação concluída")}catch(re){J.detalhes.push(`❌ Erro: ${re.message}`),J.sucesso=!1}return J.tempo=Date.now()-Z,J}async function gt(){const J={sucesso:!0,detalhes:[],tempo:0},Z=Date.now();try{J.detalhes.push("🗑️ LIMPANDO DADOS DE TESTE..."),J.detalhes.push("=====================================");const re=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const we of re)try{const _e=await xt.getData(we),Ke=(_e==null?void 0:_e.filter(qe=>qe.isTeste))||[];J.detalhes.push(`🗑️ ${we.toUpperCase()}: ${Ke.length} itens de teste`);for(const qe of Ke)try{await xt.deleteDocument(we,qe.id),J.detalhes.push(`  ✅ Removido: ${qe.nome||qe.tipo||"Item"} (ID: ${qe.id})`)}catch(st){J.detalhes.push(`  ❌ Erro ao remover ${qe.id}: ${st.message}`)}}catch(_e){J.detalhes.push(`❌ Erro ao limpar ${we}: ${_e.message}`)}J.detalhes.push("✅ Limpeza concluída")}catch(re){J.detalhes.push(`❌ Erro: ${re.message}`),J.sucesso=!1}return J.tempo=Date.now()-Z,J}const It=async J=>{n(!0),i(0);const Z=ke[J];if(!Z)return;const re=Z.testes,we=re.length;for(let _e=0;_e<we;_e++){const Ke=re[_e];i(_e/we*100);try{const qe=await Ke.funcao();s(st=>({...st,[Ke.id]:qe}))}catch(qe){s(st=>({...st,[Ke.id]:{sucesso:!1,detalhes:[`❌ Erro: ${qe.message}`],tempo:0}}))}}i(100),n(!1)},ht=async J=>{n(!0);try{const Z=await J.funcao();s(re=>({...re,[J.id]:Z}))}catch(Z){s(re=>({...re,[J.id]:{sucesso:!1,detalhes:[`❌ Erro: ${Z.message}`],tempo:0}}))}n(!1)},lt=()=>{s({}),i(0)},nr=()=>{const J={timestamp:new Date().toISOString(),sistema:{nome:"CRM MultiSmart",versao:"1.0.0",ambiente:"desenvolvimento"},resumo:{totalTestes:Object.keys(r).length,testesPassaram:Object.values(r).filter(_e=>_e.sucesso).length,testesFalharam:Object.values(r).filter(_e=>!_e.sucesso).length,tempoTotal:Object.values(r).reduce((_e,Ke)=>_e+(Ke.tempo||0),0)},categorias:ke,resultados:r,configuracaoSistema:{configuracoesFirebase:f,configLoja:y,usuarios:(_==null?void 0:_.length)||0,ordensServico:(R==null?void 0:R.length)||0,clientes:(A==null?void 0:A.length)||0,ordensVenda:(P==null?void 0:P.length)||0,produtos:($==null?void 0:$.length)||0,categorias:(K==null?void 0:K.length)||0},statusCarregamento:{configLoading:p,configLojaLoading:x,usuariosLoading:v,osLoading:F,clientesLoading:I,ovLoading:D,produtosLoading:M,categoriasLoading:le}},Z=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),re=URL.createObjectURL(Z),we=document.createElement("a");we.href=re,we.download=`testes-dev-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(re),t({title:"Logs exportados",description:"Arquivo de logs baixado com sucesso"})};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"🧪 Testes DEV"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Ferramentas de desenvolvimento e teste do sistema"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Q,{variant:"outline",onClick:lt,disabled:e,children:[a.jsx(pA,{className:"h-4 w-4 mr-2"}),"Limpar Resultados"]}),a.jsxs(Q,{variant:"outline",onClick:nr,disabled:e,children:[a.jsx(py,{className:"h-4 w-4 mr-2"}),"Exportar Logs"]})]})]}),a.jsxs(Ua,{value:l,onValueChange:c,className:"space-y-4",children:[a.jsx(Ii,{className:"grid w-full grid-cols-1",children:a.jsxs(un,{value:"dadosTeste",className:"flex items-center gap-2",children:[a.jsx(IE,{className:"h-4 w-4"}),"Dados de Teste"]})}),a.jsx(dn,{value:"dadosTeste",className:"space-y-4",children:a.jsx("div",{className:"grid gap-4",children:Object.entries(ke).map(([J,Z])=>a.jsxs(Wt,{children:[a.jsxs(Zt,{children:[a.jsxs(en,{className:"flex items-center gap-2",children:[a.jsx(Z.icone,{className:"h-5 w-5"}),Z.titulo]}),a.jsxs(po,{children:[Z.testes.length," testes disponíveis"]})]}),a.jsxs(Ht,{className:"space-y-4",children:[a.jsx("div",{className:"flex gap-2",children:a.jsxs(Q,{onClick:()=>It(J),disabled:e,className:"flex items-center gap-2",children:[a.jsx(AE,{className:"h-4 w-4"}),"Executar Criação"]})}),a.jsx("div",{className:"grid gap-3",children:Z.testes.map(re=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:re.nome}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:re.descricao})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[r[re.id]&&a.jsx(Ai,{variant:r[re.id].sucesso?"default":"destructive",children:r[re.id].sucesso?"PASSOU":"FALHOU"}),a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>ht(re),disabled:e,children:a.jsx(AE,{className:"h-3 w-3"})})]})]},re.id))})]})]},J))})})]}),e&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{children:"Executando testes..."}),a.jsxs("span",{children:[Math.round(o),"%"]})]}),a.jsx(AM,{value:o,className:"w-full"})]}),Object.keys(r).length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Resultados dos Testes"}),Object.entries(r).map(([J,Z])=>a.jsxs(Wt,{children:[a.jsxs(Zt,{children:[a.jsxs(en,{className:"flex items-center gap-2",children:[Z.sucesso?a.jsx(vp,{className:"h-5 w-5 text-green-500"}):a.jsx(tz,{className:"h-5 w-5 text-red-500"}),J,a.jsx(Ai,{variant:Z.sucesso?"default":"destructive",children:Z.sucesso?"PASSOU":"FALHOU"})]}),a.jsxs(po,{children:["Tempo de execução: ",Z.tempo,"ms"]})]}),a.jsx(Ht,{children:a.jsx("div",{className:"space-y-2",children:Z.detalhes.map((re,we)=>a.jsx("div",{className:"text-sm font-mono",children:re},we))})})]},J))]})]})},wr=g.createContext();function Zte(){var $;const[t,e]=g.useState("dashboard"),[n,r]=g.useState(!0),[s,o]=g.useState(!1),[i,l]=g.useState(!1),[c,u]=g.useState("pt-BR"),[d,f]=g.useState({clientes:!1,os:!1,ov:!1}),[p,m]=g.useState(null),[y,x]=g.useState(null),{config:S,loading:_,saveConfig:v}=l1(),b=S||{nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"},j=M=>f(V=>({...V,[M]:!0})),R=M=>f(V=>({...V,[M]:!1})),F=M=>{x(M)},E=()=>{x(null)};g.useEffect(()=>{console.log("[App] Carregando configurações iniciais...");const M=localStorage.getItem("crm_usuario_logado");M&&(m(JSON.parse(M)),console.log("[App] Usuário logado carregado:",JSON.parse(M)))},[]),g.useEffect(()=>{b&&!_&&(console.log("[App] Configurações carregadas do Firebase:",b),u(b.idioma||"pt-BR"),I(b))},[b,_]);const T=M=>{console.log("[App] handleLogin chamado com usuário:",M),m(M),localStorage.setItem("crm_usuario_logado",JSON.stringify(M)),console.log("[App] Login realizado e estado atualizado:",M)},A=()=>{console.log("[App] Logout realizado:",p),m(null),localStorage.removeItem("crm_usuario_logado"),e("dashboard")};g.useEffect(()=>{const M=V=>{const G=V.detail;console.log("[App] 🔄 Evento configuracoesAtualizadas recebido:",G),G.idioma&&(u(G.idioma),console.log("[App] ✅ Idioma atualizado:",G.idioma)),I(G)};return window.addEventListener("configuracoesAtualizadas",M),console.log("[App] ✅ Listener configuracoesAtualizadas registrado"),()=>{window.removeEventListener("configuracoesAtualizadas",M),console.log("[App] ✅ Listener configuracoesAtualizadas removido")}},[]);const I=M=>{if(console.log("[App] Aplicando configurações:",M),M.tema){const V=M.tema==="dark";r(V),document.documentElement.className=M.tema==="dark"?"dark":M.tema==="light"?"":"system",console.log("[App] Tema aplicado:",M.tema)}if(M.corPrimaria&&(document.documentElement.style.setProperty("--primary-color",M.corPrimaria),document.documentElement.style.setProperty("--primary-500",M.corPrimaria),document.documentElement.style.setProperty("--primary-600",k(M.corPrimaria,-20)),console.log("[App] Cor primária aplicada:",M.corPrimaria)),M.corSecundaria&&(document.documentElement.style.setProperty("--secondary-color",M.corSecundaria),document.documentElement.style.setProperty("--secondary-500",M.corSecundaria),document.documentElement.style.setProperty("--secondary-600",k(M.corSecundaria,-20)),console.log("[App] Cor secundária aplicada:",M.corSecundaria)),M.logoUrl){const V=document.querySelector('img[alt="Logo da empresa"]');V?V.src=M.logoUrl:console.warn("[App] Elemento de logo não encontrado no DOM.")}if(M.nomeEmpresa){document.title=M.nomeEmpresa;const V=document.querySelector("h1.text-xl");V?V.textContent=M.nomeEmpresa:console.warn("[App] Elemento de nome da empresa não encontrado no DOM.")}},k=(M,V)=>{const G=parseInt(M.replace("#",""),16),K=Math.round(2.55*V),le=(G>>16)+K,ce=(G>>8&255)+K,me=(G&255)+K;return"#"+(16777216+(le<255?le<1?0:le:255)*65536+(ce<255?ce<1?0:ce:255)*256+(me<255?me<1?0:me:255)).toString(16).slice(1)};g.useEffect(()=>{const M=()=>{window.innerWidth<1024?(l(!0),o(!1),console.log("[App] Sidebar recolhida por responsividade (window < 1024px)")):(o(!0),console.log("[App] Sidebar expandida por responsividade (window >= 1024px)"))};return M(),window.addEventListener("resize",M),console.log("[App] Listener de resize registrado"),()=>window.removeEventListener("resize",M)},[]);const P=(M=>{console.log("[App] ===== DETERMINANDO MÓDULOS ====="),console.log("[App] Tipo do usuário recebido:",M);const V=[{id:"dashboard",name:"nav.dashboard",icon:W9},{id:"clientes",name:"nav.clientes",icon:ms},{id:"os",name:"nav.os",icon:Us},{id:"ov",name:"nav.ov",icon:cs},{id:"estoque",name:"nav.estoque",icon:hr},{id:"financeiro",name:"nav.financeiro",icon:Tn},{id:"relatorios",name:"nav.relatorios",icon:D9},{id:"configuracoes",name:"nav.configuracoes",icon:Ca}];M==="desenvolvedor"&&(console.log("[App] 🚀 USUÁRIO DESENVOLVEDOR DETECTADO - Adicionando Testes DEV"),V.push({id:"testes-dev",name:"🧪 Testes DEV",icon:Ca}));const G=M==="administrador"?"admin":M||"comum";console.log("[App] Tipo de usuário processado:",G);const K=G==="admin"||G==="desenvolvedor"?V:G==="financeiro"?V.filter(le=>["dashboard","clientes","os","ov","estoque","financeiro","configuracoes"].includes(le.id)):G==="comum"?V.filter(le=>["dashboard","clientes","os","ov","estoque","configuracoes"].includes(le.id)):V.filter(le=>le.id==="dashboard");return console.log("[App] Módulos permitidos para tipo",G,":",K.map(le=>le.id)),console.log("[App] ===== FIM DETERMINAÇÃO MÓDULOS ====="),K})(p==null?void 0:p.tipo),D=()=>{switch(console.log("[App] Renderizando módulo ativo:",t),t){case"dashboard":return a.jsx(vN,{usuarioLogado:p});case"clientes":return a.jsx(aX,{usuarioLogado:p});case"os":return a.jsx(lX,{usuarioLogado:p});case"ov":return a.jsx(cX,{usuarioLogado:p});case"estoque":return a.jsx(cJ,{usuarioLogado:p});case"financeiro":return a.jsx(uJ,{usuarioLogado:p});case"relatorios":return a.jsx(Mte,{usuarioLogado:p});case"configuracoes":return a.jsx(Ute,{usuarioLogado:p});case"testes-dev":return a.jsx(Jte,{});default:return a.jsx(vN,{usuarioLogado:p})}},L=()=>{const M=b.nomeEmpresa||"Sistema",V=b.logoUrl;return a.jsxs("div",{className:"flex items-center gap-3",children:[V?a.jsx("img",{src:V,alt:"Logo da empresa",className:"h-14 w-14 rounded object-contain shadow-lg"}):a.jsx("div",{className:"h-14 w-14 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"text-white font-bold text-2xl",children:M.charAt(0).toUpperCase()})}),a.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:M})]})},B=()=>{const M=b.nomeEmpresa||"Sistema",V=b.logoUrl;return a.jsx("div",{className:"flex flex-col items-center gap-2",children:V?a.jsx("img",{src:V,alt:"Logo da empresa",className:"h-8 w-8 rounded object-contain"}):a.jsx("div",{className:"h-8 w-8 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:M.charAt(0).toUpperCase()})})})};return p?(console.log("[App] Usuário logado, mostrando dashboard:",p),console.log("[App] Tipo do usuário:",p==null?void 0:p.tipo),console.log("[App] Módulos disponíveis:",P),_&&!b?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Carregando..."})]})}):a.jsxs(wr.Provider,{value:{activeModule:t,setActiveModule:e,darkMode:n,setDarkMode:r,sidebarOpen:s,setSidebarOpen:o,sidebarCollapsed:i,setSidebarCollapsed:l,configuracoes:b,currentLanguage:c,setCurrentLanguage:u,dialogs:d,openDialog:j,closeDialog:R,usuarioLogado:p,produtoParaReporEstoque:y,definirProdutoParaReporEstoque:F,limparProdutoParaReporEstoque:E},children:[a.jsxs(a.Fragment,{children:[a.jsx(Z0,{children:a.jsx("title",{children:b.nomeEmpresa||"CRM Multismart"})}),a.jsxs("div",{className:"min-h-screen flex bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-50 transition-colors duration-300",children:[a.jsx("button",{onClick:()=>o(!s),className:"fixed top-4 left-4 z-50 lg:hidden p-2 rounded-md bg-white dark:bg-slate-800 shadow-lg border border-slate-200 dark:border-slate-700",children:a.jsx(H9,{className:"h-6 w-6"})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>o(!1)}),a.jsx("aside",{className:`fixed left-0 top-0 h-full bg-white/90 dark:bg-slate-950/90 backdrop-blur-lg border-r border-slate-200 dark:border-slate-800 z-40 ${i?"w-20":"w-72"} transition-all duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:`p-6 flex items-center mb-8 ${i?"justify-center":"justify-between"}`,children:i?B():L()}),a.jsx("nav",{className:"flex-1 space-y-2 px-4",children:P.map(M=>{const V=M.icon;return a.jsxs("button",{onClick:()=>{e(M.id),window.innerWidth<1024&&o(!1)},className:`w-full flex items-center space-x-3 py-3 rounded-lg text-left transition-all duration-200 ${i?"justify-center px-0":"px-4"} ${t===M.id?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[a.jsx(V,{className:"h-5 w-5 flex-shrink-0"}),!i&&a.jsx("span",{className:"font-medium whitespace-nowrap overflow-hidden",children:ye(M.name,c)})]},M.id)})}),p&&a.jsxs("div",{className:`flex items-center gap-3 mb-4 px-4 w-full ${i?"justify-center":""}`,style:{minHeight:"56px"},children:[p.foto?a.jsx("img",{src:p.foto,alt:p.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-md"}):a.jsx("span",{className:"inline-block h-10 w-10 rounded-full bg-slate-300 dark:bg-slate-700 text-slate-700 dark:text-slate-200 flex items-center justify-center font-bold",children:($=p.nome)==null?void 0:$.charAt(0).toUpperCase()}),!i&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm",children:p.nome}),a.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const M=n?"light":"dark";r(!n);const V={...b,tema:M};I(V),console.log("[App] Tema alterado via botão:",M)},className:"hover:bg-slate-100 dark:hover:bg-slate-800 ml-1",children:n?a.jsx(Q9,{className:"h-5 w-5"}):a.jsx(Y9,{className:"h-5 w-5"})}),a.jsx(Q,{size:"sm",variant:"outline",className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-3 py-1 rounded-lg shadow-md transition-colors ml-auto",onClick:A,children:"Sair"})]})]}),a.jsx("div",{className:"hidden lg:flex p-4 border-t border-slate-200 dark:border-slate-800",children:a.jsx(Q,{variant:"ghost",onClick:()=>l(!i),className:"w-full",children:a.jsx(dA,{className:"h-5 w-5",style:{transform:i?"rotate(180deg)":"none",transition:"transform 0.3s"}})})})]})}),a.jsx("main",{className:`flex-1 transition-all duration-300 ${i?"ml-20":"ml-72"} p-4 lg:p-6 pt-16 lg:pt-12`,children:D()})]})]}),a.jsx(jU,{})]})):(console.log("[App] Usuário não logado, mostrando tela de login"),a.jsx(Bte,{onLogin:T}))}r0.createRoot(document.getElementById("root")).render(a.jsx(Pe.StrictMode,{children:a.jsx(Zte,{})}));
