function YO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function qa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var yN={exports:{}},Jp={},wN={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=Symbol.for("react.element"),QO=Symbol.for("react.portal"),XO=Symbol.for("react.fragment"),ZO=Symbol.for("react.strict_mode"),JO=Symbol.for("react.profiler"),e4=Symbol.for("react.provider"),t4=Symbol.for("react.context"),n4=Symbol.for("react.forward_ref"),r4=Symbol.for("react.suspense"),s4=Symbol.for("react.memo"),o4=Symbol.for("react.lazy"),i_=Symbol.iterator;function i4(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var bN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_N=Object.assign,SN={};function bc(t,e,n){this.props=t,this.context=e,this.refs=SN,this.updater=n||bN}bc.prototype.isReactComponent={};bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CN(){}CN.prototype=bc.prototype;function py(t,e,n){this.props=t,this.context=e,this.refs=SN,this.updater=n||bN}var my=py.prototype=new CN;my.constructor=py;_N(my,bc.prototype);my.isPureReactComponent=!0;var a_=Array.isArray,EN=Object.prototype.hasOwnProperty,gy={current:null},TN={key:!0,ref:!0,__self:!0,__source:!0};function NN(t,e,n){var r,s={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)EN.call(e,r)&&!TN.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:jd,type:t,key:o,ref:a,props:s,_owner:gy.current}}function a4(t,e){return{$$typeof:jd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vy(t){return typeof t=="object"&&t!==null&&t.$$typeof===jd}function l4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var l_=/\/+/g;function Ng(t,e){return typeof t=="object"&&t!==null&&t.key!=null?l4(""+t.key):e.toString(36)}function of(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case jd:case QO:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Ng(a,0):r,a_(s)?(n="",t!=null&&(n=t.replace(l_,"$&/")+"/"),of(s,e,n,"",function(u){return u})):s!=null&&(vy(s)&&(s=a4(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(l_,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",a_(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+Ng(o,l);a+=of(o,e,n,c,s)}else if(c=i4(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+Ng(o,l++),a+=of(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function mh(t,e,n){if(t==null)return t;var r=[],s=0;return of(t,r,"","",function(o){return e.call(n,o,s++)}),r}function c4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},af={transition:null},u4={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:af,ReactCurrentOwner:gy};function jN(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:mh,forEach:function(t,e,n){mh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mh(t,function(){e++}),e},toArray:function(t){return mh(t,function(e){return e})||[]},only:function(t){if(!vy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Component=bc;at.Fragment=XO;at.Profiler=JO;at.PureComponent=py;at.StrictMode=ZO;at.Suspense=r4;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u4;at.act=jN;at.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_N({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=gy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)EN.call(e,c)&&!TN.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:jd,type:t.type,key:s,ref:o,props:r,_owner:a}};at.createContext=function(t){return t={$$typeof:t4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:e4,_context:t},t.Consumer=t};at.createElement=NN;at.createFactory=function(t){var e=NN.bind(null,t);return e.type=t,e};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:n4,render:t}};at.isValidElement=vy;at.lazy=function(t){return{$$typeof:o4,_payload:{_status:-1,_result:t},_init:c4}};at.memo=function(t,e){return{$$typeof:s4,type:t,compare:e===void 0?null:e}};at.startTransition=function(t){var e=af.transition;af.transition={};try{t()}finally{af.transition=e}};at.unstable_act=jN;at.useCallback=function(t,e){return rr.current.useCallback(t,e)};at.useContext=function(t){return rr.current.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};at.useEffect=function(t,e){return rr.current.useEffect(t,e)};at.useId=function(){return rr.current.useId()};at.useImperativeHandle=function(t,e,n){return rr.current.useImperativeHandle(t,e,n)};at.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};at.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};at.useMemo=function(t,e){return rr.current.useMemo(t,e)};at.useReducer=function(t,e,n){return rr.current.useReducer(t,e,n)};at.useRef=function(t){return rr.current.useRef(t)};at.useState=function(t){return rr.current.useState(t)};at.useSyncExternalStore=function(t,e,n){return rr.current.useSyncExternalStore(t,e,n)};at.useTransition=function(){return rr.current.useTransition()};at.version="18.3.1";wN.exports=at;var g=wN.exports;const Fe=qa(g),kN=YO({__proto__:null,default:Fe},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4=g,h4=Symbol.for("react.element"),f4=Symbol.for("react.fragment"),p4=Object.prototype.hasOwnProperty,m4=d4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g4={key:!0,ref:!0,__self:!0,__source:!0};function PN(t,e,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)p4.call(e,r)&&!g4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:h4,type:t,key:o,ref:a,props:s,_owner:m4.current}}Jp.Fragment=f4;Jp.jsx=PN;Jp.jsxs=PN;yN.exports=Jp;var i=yN.exports,r0={},IN={exports:{}},Or={},AN={exports:{}},RN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var Y=M.length;M.push(U);e:for(;0<Y;){var K=Y-1>>>1,ue=M[K];if(0<s(ue,U))M[K]=U,M[Y]=ue,Y=K;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var U=M[0],Y=M.pop();if(Y!==U){M[0]=Y;e:for(var K=0,ue=M.length,Se=ue>>>1;K<Se;){var we=2*(K+1)-1,ze=M[we],Ie=we+1,fe=M[Ie];if(0>s(ze,Y))Ie<ue&&0>s(fe,ze)?(M[K]=fe,M[Ie]=Y,K=Ie):(M[K]=ze,M[we]=Y,K=we);else if(Ie<ue&&0>s(fe,Y))M[K]=fe,M[Ie]=Y,K=Ie;else break e}}return U}function s(M,U){var Y=M.sortIndex-U.sortIndex;return Y!==0?Y:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,m=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=M)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function j(M){if(x=!1,w(M),!y)if(n(c)!==null)y=!0,q(R);else{var U=n(u);U!==null&&$(j,U.startTime-M)}}function R(M,U){y=!1,x&&(x=!1,_(E),E=-1),m=!0;var Y=p;try{for(w(U),f=n(c);f!==null&&(!(f.expirationTime>U)||M&&!k());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var ue=K(f.expirationTime<=U);U=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(c)&&r(c),w(U)}else r(c);f=n(c)}if(f!==null)var Se=!0;else{var we=n(u);we!==null&&$(j,we.startTime-U),Se=!1}return Se}finally{f=null,p=Y,m=!1}}var L=!1,C=null,E=-1,I=5,P=-1;function k(){return!(t.unstable_now()-P<I)}function N(){if(C!==null){var M=t.unstable_now();P=M;var U=!0;try{U=C(!0,M)}finally{U?A():(L=!1,C=null)}}else L=!1}var A;if(typeof v=="function")A=function(){v(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=N,A=function(){F.postMessage(null)}}else A=function(){S(N,0)};function q(M){C=M,L||(L=!0,A())}function $(M,U){E=S(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,q(R))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var Y=p;p=U;try{return M()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=p;p=M;try{return U()}finally{p=Y}},t.unstable_scheduleCallback=function(M,U,Y){var K=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,M){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Y+ue,M={id:d++,callback:U,priorityLevel:M,startTime:Y,expirationTime:ue,sortIndex:-1},Y>K?(M.sortIndex=Y,e(u,M),n(c)===null&&M===n(u)&&(x?(_(E),E=-1):x=!0,$(j,Y-K))):(M.sortIndex=ue,e(c,M),y||m||(y=!0,q(R))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var U=p;return function(){var Y=p;p=U;try{return M.apply(this,arguments)}finally{p=Y}}}})(RN);AN.exports=RN;var v4=AN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4=g,Dr=v4;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DN=new Set,$u={};function Wa(t,e){Kl(t,e),Kl(t+"Capture",e)}function Kl(t,e){for($u[t]=e,t=0;t<e.length;t++)DN.add(e[t])}var bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s0=Object.prototype.hasOwnProperty,y4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c_={},u_={};function w4(t){return s0.call(u_,t)?!0:s0.call(c_,t)?!1:y4.test(t)?u_[t]=!0:(c_[t]=!0,!1)}function b4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _4(t,e,n,r){if(e===null||typeof e>"u"||b4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,n,r,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){An[t]=new sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];An[e]=new sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){An[t]=new sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){An[t]=new sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){An[t]=new sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){An[t]=new sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){An[t]=new sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){An[t]=new sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){An[t]=new sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var xy=/[\-:]([a-z])/g;function yy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xy,yy);An[e]=new sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xy,yy);An[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xy,yy);An[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){An[t]=new sr(t,1,!1,t.toLowerCase(),null,!1,!1)});An.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){An[t]=new sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function wy(t,e,n,r){var s=An.hasOwnProperty(e)?An[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_4(e,n,s,r)&&(n=null),r||s===null?w4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ro=x4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gh=Symbol.for("react.element"),gl=Symbol.for("react.portal"),vl=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),o0=Symbol.for("react.profiler"),MN=Symbol.for("react.provider"),ON=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),a0=Symbol.for("react.suspense_list"),Sy=Symbol.for("react.memo"),Ko=Symbol.for("react.lazy"),LN=Symbol.for("react.offscreen"),d_=Symbol.iterator;function Kc(t){return t===null||typeof t!="object"?null:(t=d_&&t[d_]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,jg;function hu(t){if(jg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jg=e&&e[1]||""}return`
`+jg+t}var kg=!1;function Pg(t,e){if(!t||kg)return"";kg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{kg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hu(t):""}function S4(t){switch(t.tag){case 5:return hu(t.type);case 16:return hu("Lazy");case 13:return hu("Suspense");case 19:return hu("SuspenseList");case 0:case 2:case 15:return t=Pg(t.type,!1),t;case 11:return t=Pg(t.type.render,!1),t;case 1:return t=Pg(t.type,!0),t;default:return""}}function l0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vl:return"Fragment";case gl:return"Portal";case o0:return"Profiler";case by:return"StrictMode";case i0:return"Suspense";case a0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ON:return(t.displayName||"Context")+".Consumer";case MN:return(t._context.displayName||"Context")+".Provider";case _y:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sy:return e=t.displayName||null,e!==null?e:l0(t.type)||"Memo";case Ko:e=t._payload,t=t._init;try{return l0(t(e))}catch{}}return null}function C4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l0(e);case 8:return e===by?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E4(t){var e=FN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=E4(t))}function VN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function c0(t,e){var n=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function h_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zN(t,e){e=e.checked,e!=null&&wy(t,"checked",e,!1)}function u0(t,e){zN(t,e);var n=Ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?d0(t,e.type,n):e.hasOwnProperty("defaultValue")&&d0(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function d0(t,e,n){(e!=="number"||Lf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fu=Array.isArray;function Dl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function h0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function p_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(fu(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function UN(t,e){var n=Ci(e.value),r=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function f0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xh,$N=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xh=xh||document.createElement("div"),xh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T4=["Webkit","ms","Moz","O"];Object.keys(Cu).forEach(function(t){T4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cu[e]=Cu[t]})});function qN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cu.hasOwnProperty(t)&&Cu[t]?(""+e).trim():e+"px"}function WN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var N4=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function p0(t,e){if(e){if(N4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function m0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g0=null;function Cy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var v0=null,Ml=null,Ol=null;function g_(t){if(t=Id(t)){if(typeof v0!="function")throw Error(le(280));var e=t.stateNode;e&&(e=sm(e),v0(t.stateNode,t.type,e))}}function HN(t){Ml?Ol?Ol.push(t):Ol=[t]:Ml=t}function GN(){if(Ml){var t=Ml,e=Ol;if(Ol=Ml=null,g_(t),e)for(t=0;t<e.length;t++)g_(e[t])}}function YN(t,e){return t(e)}function KN(){}var Ig=!1;function QN(t,e,n){if(Ig)return t(e,n);Ig=!0;try{return YN(t,e,n)}finally{Ig=!1,(Ml!==null||Ol!==null)&&(KN(),GN())}}function Wu(t,e){var n=t.stateNode;if(n===null)return null;var r=sm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var x0=!1;if(bo)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){x0=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{x0=!1}function j4(t,e,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Eu=!1,Ff=null,Vf=!1,y0=null,k4={onError:function(t){Eu=!0,Ff=t}};function P4(t,e,n,r,s,o,a,l,c){Eu=!1,Ff=null,j4.apply(k4,arguments)}function I4(t,e,n,r,s,o,a,l,c){if(P4.apply(this,arguments),Eu){if(Eu){var u=Ff;Eu=!1,Ff=null}else throw Error(le(198));Vf||(Vf=!0,y0=u)}}function Ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v_(t){if(Ha(t)!==t)throw Error(le(188))}function A4(t){var e=t.alternate;if(!e){if(e=Ha(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return v_(s),t;if(o===r)return v_(s),e;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function ZN(t){return t=A4(t),t!==null?JN(t):null}function JN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JN(t);if(e!==null)return e;t=t.sibling}return null}var ej=Dr.unstable_scheduleCallback,x_=Dr.unstable_cancelCallback,R4=Dr.unstable_shouldYield,D4=Dr.unstable_requestPaint,Yt=Dr.unstable_now,M4=Dr.unstable_getCurrentPriorityLevel,Ey=Dr.unstable_ImmediatePriority,tj=Dr.unstable_UserBlockingPriority,zf=Dr.unstable_NormalPriority,O4=Dr.unstable_LowPriority,nj=Dr.unstable_IdlePriority,em=null,zs=null;function L4(t){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(em,t,void 0,(t.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:z4,F4=Math.log,V4=Math.LN2;function z4(t){return t>>>=0,t===0?32:31-(F4(t)/V4|0)|0}var yh=64,wh=4194304;function pu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=pu(l):(o&=a,o!==0&&(r=pu(o)))}else a=n&~s,a!==0?r=pu(a):o!==0&&(r=pu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hs(e),s=1<<n,r|=t[n],e&=~s;return r}function U4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-hs(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=U4(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function w0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rj(){var t=yh;return yh<<=1,!(yh&4194240)&&(yh=64),t}function Ag(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hs(e),t[e]=n}function $4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hs(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Ty(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var bt=0;function sj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oj,Ny,ij,aj,lj,b0=!1,bh=[],li=null,ci=null,ui=null,Hu=new Map,Gu=new Map,Jo=[],q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y_(t,e){switch(t){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(e.pointerId)}}function Xc(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Id(e),e!==null&&Ny(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function W4(t,e,n,r,s){switch(e){case"focusin":return li=Xc(li,t,e,n,r,s),!0;case"dragenter":return ci=Xc(ci,t,e,n,r,s),!0;case"mouseover":return ui=Xc(ui,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Hu.set(o,Xc(Hu.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Gu.set(o,Xc(Gu.get(o)||null,t,e,n,r,s)),!0}return!1}function cj(t){var e=ca(t.target);if(e!==null){var n=Ha(e);if(n!==null){if(e=n.tag,e===13){if(e=XN(n),e!==null){t.blockedOn=e,lj(t.priority,function(){ij(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);g0=r,n.target.dispatchEvent(r),g0=null}else return e=Id(n),e!==null&&Ny(e),t.blockedOn=n,!1;e.shift()}return!0}function w_(t,e,n){lf(t)&&n.delete(e)}function H4(){b0=!1,li!==null&&lf(li)&&(li=null),ci!==null&&lf(ci)&&(ci=null),ui!==null&&lf(ui)&&(ui=null),Hu.forEach(w_),Gu.forEach(w_)}function Zc(t,e){t.blockedOn===e&&(t.blockedOn=null,b0||(b0=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,H4)))}function Yu(t){function e(s){return Zc(s,t)}if(0<bh.length){Zc(bh[0],t);for(var n=1;n<bh.length;n++){var r=bh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(li!==null&&Zc(li,t),ci!==null&&Zc(ci,t),ui!==null&&Zc(ui,t),Hu.forEach(e),Gu.forEach(e),n=0;n<Jo.length;n++)r=Jo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jo.length&&(n=Jo[0],n.blockedOn===null);)cj(n),n.blockedOn===null&&Jo.shift()}var Ll=Ro.ReactCurrentBatchConfig,Bf=!0;function G4(t,e,n,r){var s=bt,o=Ll.transition;Ll.transition=null;try{bt=1,jy(t,e,n,r)}finally{bt=s,Ll.transition=o}}function Y4(t,e,n,r){var s=bt,o=Ll.transition;Ll.transition=null;try{bt=4,jy(t,e,n,r)}finally{bt=s,Ll.transition=o}}function jy(t,e,n,r){if(Bf){var s=_0(t,e,n,r);if(s===null)Bg(t,e,r,$f,n),y_(t,r);else if(W4(s,t,e,n,r))r.stopPropagation();else if(y_(t,r),e&4&&-1<q4.indexOf(t)){for(;s!==null;){var o=Id(s);if(o!==null&&oj(o),o=_0(t,e,n,r),o===null&&Bg(t,e,r,$f,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Bg(t,e,r,null,n)}}var $f=null;function _0(t,e,n,r){if($f=null,t=Cy(r),t=ca(t),t!==null)if(e=Ha(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $f=t,null}function uj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M4()){case Ey:return 1;case tj:return 4;case zf:case O4:return 16;case nj:return 536870912;default:return 16}default:return 16}}var oi=null,ky=null,cf=null;function dj(){if(cf)return cf;var t,e=ky,n=e.length,r,s="value"in oi?oi.value:oi.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[o-r];r++);return cf=s.slice(t,1<r?1-r:void 0)}function uf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _h(){return!0}function b_(){return!1}function Lr(t){function e(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_h:b_,this.isPropagationStopped=b_,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),e}var _c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Py=Lr(_c),Pd=Ut({},_c,{view:0,detail:0}),K4=Lr(Pd),Rg,Dg,Jc,tm=Ut({},Pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jc&&(Jc&&t.type==="mousemove"?(Rg=t.screenX-Jc.screenX,Dg=t.screenY-Jc.screenY):Dg=Rg=0,Jc=t),Rg)},movementY:function(t){return"movementY"in t?t.movementY:Dg}}),__=Lr(tm),Q4=Ut({},tm,{dataTransfer:0}),X4=Lr(Q4),Z4=Ut({},Pd,{relatedTarget:0}),Mg=Lr(Z4),J4=Ut({},_c,{animationName:0,elapsedTime:0,pseudoElement:0}),eL=Lr(J4),tL=Ut({},_c,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nL=Lr(tL),rL=Ut({},_c,{data:0}),S_=Lr(rL),sL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iL[t])?!!e[t]:!1}function Iy(){return aL}var lL=Ut({},Pd,{key:function(t){if(t.key){var e=sL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iy,charCode:function(t){return t.type==="keypress"?uf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cL=Lr(lL),uL=Ut({},tm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C_=Lr(uL),dL=Ut({},Pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iy}),hL=Lr(dL),fL=Ut({},_c,{propertyName:0,elapsedTime:0,pseudoElement:0}),pL=Lr(fL),mL=Ut({},tm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gL=Lr(mL),vL=[9,13,27,32],Ay=bo&&"CompositionEvent"in window,Tu=null;bo&&"documentMode"in document&&(Tu=document.documentMode);var xL=bo&&"TextEvent"in window&&!Tu,hj=bo&&(!Ay||Tu&&8<Tu&&11>=Tu),E_=String.fromCharCode(32),T_=!1;function fj(t,e){switch(t){case"keyup":return vL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function yL(t,e){switch(t){case"compositionend":return pj(e);case"keypress":return e.which!==32?null:(T_=!0,E_);case"textInput":return t=e.data,t===E_&&T_?null:t;default:return null}}function wL(t,e){if(xl)return t==="compositionend"||!Ay&&fj(t,e)?(t=dj(),cf=ky=oi=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hj&&e.locale!=="ko"?null:e.data;default:return null}}var bL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bL[t.type]:e==="textarea"}function mj(t,e,n,r){HN(r),e=qf(e,"onChange"),0<e.length&&(n=new Py("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nu=null,Ku=null;function _L(t){Tj(t,0)}function nm(t){var e=bl(t);if(VN(e))return t}function SL(t,e){if(t==="change")return e}var gj=!1;if(bo){var Og;if(bo){var Lg="oninput"in document;if(!Lg){var j_=document.createElement("div");j_.setAttribute("oninput","return;"),Lg=typeof j_.oninput=="function"}Og=Lg}else Og=!1;gj=Og&&(!document.documentMode||9<document.documentMode)}function k_(){Nu&&(Nu.detachEvent("onpropertychange",vj),Ku=Nu=null)}function vj(t){if(t.propertyName==="value"&&nm(Ku)){var e=[];mj(e,Ku,t,Cy(t)),QN(_L,e)}}function CL(t,e,n){t==="focusin"?(k_(),Nu=e,Ku=n,Nu.attachEvent("onpropertychange",vj)):t==="focusout"&&k_()}function EL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nm(Ku)}function TL(t,e){if(t==="click")return nm(e)}function NL(t,e){if(t==="input"||t==="change")return nm(e)}function jL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:jL;function Qu(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!s0.call(e,s)||!gs(t[s],e[s]))return!1}return!0}function P_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var n=P_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P_(n)}}function xj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yj(){for(var t=window,e=Lf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lf(t.document)}return e}function Ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kL(t){var e=yj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xj(n.ownerDocument.documentElement,n)){if(r!==null&&Ry(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=I_(n,o);var a=I_(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PL=bo&&"documentMode"in document&&11>=document.documentMode,yl=null,S0=null,ju=null,C0=!1;function A_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;C0||yl==null||yl!==Lf(r)||(r=yl,"selectionStart"in r&&Ry(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ju&&Qu(ju,r)||(ju=r,r=qf(S0,"onSelect"),0<r.length&&(e=new Py("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yl)))}function Sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wl={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Fg={},wj={};bo&&(wj=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function rm(t){if(Fg[t])return Fg[t];if(!wl[t])return t;var e=wl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wj)return Fg[t]=e[n];return t}var bj=rm("animationend"),_j=rm("animationiteration"),Sj=rm("animationstart"),Cj=rm("transitionend"),Ej=new Map,R_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(t,e){Ej.set(t,e),Wa(e,[t])}for(var Vg=0;Vg<R_.length;Vg++){var zg=R_[Vg],IL=zg.toLowerCase(),AL=zg[0].toUpperCase()+zg.slice(1);Li(IL,"on"+AL)}Li(bj,"onAnimationEnd");Li(_j,"onAnimationIteration");Li(Sj,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(Cj,"onTransitionEnd");Kl("onMouseEnter",["mouseout","mouseover"]);Kl("onMouseLeave",["mouseout","mouseover"]);Kl("onPointerEnter",["pointerout","pointerover"]);Kl("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RL=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function D_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I4(r,e,void 0,t),t.currentTarget=null}function Tj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;D_(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;D_(s,l,u),o=c}}}if(Vf)throw t=y0,Vf=!1,y0=null,t}function It(t,e){var n=e[k0];n===void 0&&(n=e[k0]=new Set);var r=t+"__bubble";n.has(r)||(Nj(e,t,2,!1),n.add(r))}function Ug(t,e,n){var r=0;e&&(r|=4),Nj(n,t,r,e)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Xu(t){if(!t[Ch]){t[Ch]=!0,DN.forEach(function(n){n!=="selectionchange"&&(RL.has(n)||Ug(n,!1,t),Ug(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ch]||(e[Ch]=!0,Ug("selectionchange",!1,e))}}function Nj(t,e,n,r){switch(uj(e)){case 1:var s=G4;break;case 4:s=Y4;break;default:s=jy}n=s.bind(null,e,n,t),s=void 0,!x0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bg(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ca(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}QN(function(){var u=o,d=Cy(n),f=[];e:{var p=Ej.get(t);if(p!==void 0){var m=Py,y=t;switch(t){case"keypress":if(uf(n)===0)break e;case"keydown":case"keyup":m=cL;break;case"focusin":y="focus",m=Mg;break;case"focusout":y="blur",m=Mg;break;case"beforeblur":case"afterblur":m=Mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=__;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=X4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hL;break;case bj:case _j:case Sj:m=eL;break;case Cj:m=pL;break;case"scroll":m=K4;break;case"wheel":m=gL;break;case"copy":case"cut":case"paste":m=nL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=C_}var x=(e&4)!==0,S=!x&&t==="scroll",_=x?p!==null?p+"Capture":null:p;x=[];for(var v=u,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,_!==null&&(j=Wu(v,_),j!=null&&x.push(Zu(v,j,w)))),S)break;v=v.return}0<x.length&&(p=new m(p,y,null,n,d),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==g0&&(y=n.relatedTarget||n.fromElement)&&(ca(y)||y[_o]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ca(y):null,y!==null&&(S=Ha(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=__,j="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=C_,j="onPointerLeave",_="onPointerEnter",v="pointer"),S=m==null?p:bl(m),w=y==null?p:bl(y),p=new x(j,v+"leave",m,n,d),p.target=S,p.relatedTarget=w,j=null,ca(d)===u&&(x=new x(_,v+"enter",y,n,d),x.target=w,x.relatedTarget=S,j=x),S=j,m&&y)t:{for(x=m,_=y,v=0,w=x;w;w=ol(w))v++;for(w=0,j=_;j;j=ol(j))w++;for(;0<v-w;)x=ol(x),v--;for(;0<w-v;)_=ol(_),w--;for(;v--;){if(x===_||_!==null&&x===_.alternate)break t;x=ol(x),_=ol(_)}x=null}else x=null;m!==null&&M_(f,p,m,x,!1),y!==null&&S!==null&&M_(f,S,y,x,!0)}}e:{if(p=u?bl(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=SL;else if(N_(p))if(gj)R=NL;else{R=EL;var L=CL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=TL);if(R&&(R=R(t,u))){mj(f,R,n,d);break e}L&&L(t,p,u),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&d0(p,"number",p.value)}switch(L=u?bl(u):window,t){case"focusin":(N_(L)||L.contentEditable==="true")&&(yl=L,S0=u,ju=null);break;case"focusout":ju=S0=yl=null;break;case"mousedown":C0=!0;break;case"contextmenu":case"mouseup":case"dragend":C0=!1,A_(f,n,d);break;case"selectionchange":if(PL)break;case"keydown":case"keyup":A_(f,n,d)}var C;if(Ay)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xl?fj(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(hj&&n.locale!=="ko"&&(xl||E!=="onCompositionStart"?E==="onCompositionEnd"&&xl&&(C=dj()):(oi=d,ky="value"in oi?oi.value:oi.textContent,xl=!0)),L=qf(u,E),0<L.length&&(E=new S_(E,t,null,n,d),f.push({event:E,listeners:L}),C?E.data=C:(C=pj(n),C!==null&&(E.data=C)))),(C=xL?yL(t,n):wL(t,n))&&(u=qf(u,"onBeforeInput"),0<u.length&&(d=new S_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}Tj(f,e)})}function Zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Wu(t,n),o!=null&&r.unshift(Zu(t,o,s)),o=Wu(t,e),o!=null&&r.push(Zu(t,o,s))),t=t.return}return r}function ol(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function M_(t,e,n,r,s){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Wu(n,o),c!=null&&a.unshift(Zu(n,c,l))):s||(c=Wu(n,o),c!=null&&a.push(Zu(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var DL=/\r\n?/g,ML=/\u0000|\uFFFD/g;function O_(t){return(typeof t=="string"?t:""+t).replace(DL,`
`).replace(ML,"")}function Eh(t,e,n){if(e=O_(e),O_(t)!==e&&n)throw Error(le(425))}function Wf(){}var E0=null,T0=null;function N0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var j0=typeof setTimeout=="function"?setTimeout:void 0,OL=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,LL=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(FL)}:j0;function FL(t){setTimeout(function(){throw t})}function $g(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yu(e)}function di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sc=Math.random().toString(36).slice(2),Ms="__reactFiber$"+Sc,Ju="__reactProps$"+Sc,_o="__reactContainer$"+Sc,k0="__reactEvents$"+Sc,VL="__reactListeners$"+Sc,zL="__reactHandles$"+Sc;function ca(t){var e=t[Ms];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_o]||n[Ms]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F_(t);t!==null;){if(n=t[Ms])return n;t=F_(t)}return e}t=n,n=t.parentNode}return null}function Id(t){return t=t[Ms]||t[_o],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function sm(t){return t[Ju]||null}var P0=[],_l=-1;function Fi(t){return{current:t}}function Rt(t){0>_l||(t.current=P0[_l],P0[_l]=null,_l--)}function Tt(t,e){_l++,P0[_l]=t.current,t.current=e}var Ei={},Wn=Fi(Ei),mr=Fi(!1),Ea=Ei;function Ql(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gr(t){return t=t.childContextTypes,t!=null}function Hf(){Rt(mr),Rt(Wn)}function V_(t,e,n){if(Wn.current!==Ei)throw Error(le(168));Tt(Wn,e),Tt(mr,n)}function jj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(le(108,C4(t)||"Unknown",s));return Ut({},n,r)}function Gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,Ea=Wn.current,Tt(Wn,t),Tt(mr,mr.current),!0}function z_(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=jj(t,e,Ea),r.__reactInternalMemoizedMergedChildContext=t,Rt(mr),Rt(Wn),Tt(Wn,t)):Rt(mr),Tt(mr,n)}var lo=null,om=!1,qg=!1;function kj(t){lo===null?lo=[t]:lo.push(t)}function UL(t){om=!0,kj(t)}function Vi(){if(!qg&&lo!==null){qg=!0;var t=0,e=bt;try{var n=lo;for(bt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lo=null,om=!1}catch(s){throw lo!==null&&(lo=lo.slice(t+1)),ej(Ey,Vi),s}finally{bt=e,qg=!1}}return null}var Sl=[],Cl=0,Yf=null,Kf=0,Ur=[],Br=0,Ta=null,co=1,uo="";function ta(t,e){Sl[Cl++]=Kf,Sl[Cl++]=Yf,Yf=t,Kf=e}function Pj(t,e,n){Ur[Br++]=co,Ur[Br++]=uo,Ur[Br++]=Ta,Ta=t;var r=co;t=uo;var s=32-hs(r)-1;r&=~(1<<s),n+=1;var o=32-hs(e)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,co=1<<32-hs(e)+s|n<<s|r,uo=o+t}else co=1<<o|n<<s|r,uo=t}function Dy(t){t.return!==null&&(ta(t,1),Pj(t,1,0))}function My(t){for(;t===Yf;)Yf=Sl[--Cl],Sl[Cl]=null,Kf=Sl[--Cl],Sl[Cl]=null;for(;t===Ta;)Ta=Ur[--Br],Ur[Br]=null,uo=Ur[--Br],Ur[Br]=null,co=Ur[--Br],Ur[Br]=null}var kr=null,Nr=null,Mt=!1,ls=null;function Ij(t,e){var n=Wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function U_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kr=t,Nr=di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kr=t,Nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ta!==null?{id:co,overflow:uo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kr=t,Nr=null,!0):!1;default:return!1}}function I0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function A0(t){if(Mt){var e=Nr;if(e){var n=e;if(!U_(t,e)){if(I0(t))throw Error(le(418));e=di(n.nextSibling);var r=kr;e&&U_(t,e)?Ij(r,n):(t.flags=t.flags&-4097|2,Mt=!1,kr=t)}}else{if(I0(t))throw Error(le(418));t.flags=t.flags&-4097|2,Mt=!1,kr=t}}}function B_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kr=t}function Th(t){if(t!==kr)return!1;if(!Mt)return B_(t),Mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!N0(t.type,t.memoizedProps)),e&&(e=Nr)){if(I0(t))throw Aj(),Error(le(418));for(;e;)Ij(t,e),e=di(e.nextSibling)}if(B_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nr=di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nr=null}}else Nr=kr?di(t.stateNode.nextSibling):null;return!0}function Aj(){for(var t=Nr;t;)t=di(t.nextSibling)}function Xl(){Nr=kr=null,Mt=!1}function Oy(t){ls===null?ls=[t]:ls.push(t)}var BL=Ro.ReactCurrentBatchConfig;function eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function Nh(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $_(t){var e=t._init;return e(t._payload)}function Rj(t){function e(_,v){if(t){var w=_.deletions;w===null?(_.deletions=[v],_.flags|=16):w.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=mi(_,v),_.index=0,_.sibling=null,_}function o(_,v,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<v?(_.flags|=2,v):w):(_.flags|=2,v)):(_.flags|=1048576,v)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,v,w,j){return v===null||v.tag!==6?(v=Xg(w,_.mode,j),v.return=_,v):(v=s(v,w),v.return=_,v)}function c(_,v,w,j){var R=w.type;return R===vl?d(_,v,w.props.children,j,w.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ko&&$_(R)===v.type)?(j=s(v,w.props),j.ref=eu(_,v,w),j.return=_,j):(j=vf(w.type,w.key,w.props,null,_.mode,j),j.ref=eu(_,v,w),j.return=_,j)}function u(_,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Zg(w,_.mode,j),v.return=_,v):(v=s(v,w.children||[]),v.return=_,v)}function d(_,v,w,j,R){return v===null||v.tag!==7?(v=xa(w,_.mode,j,R),v.return=_,v):(v=s(v,w),v.return=_,v)}function f(_,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Xg(""+v,_.mode,w),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gh:return w=vf(v.type,v.key,v.props,null,_.mode,w),w.ref=eu(_,null,v),w.return=_,w;case gl:return v=Zg(v,_.mode,w),v.return=_,v;case Ko:var j=v._init;return f(_,j(v._payload),w)}if(fu(v)||Kc(v))return v=xa(v,_.mode,w,null),v.return=_,v;Nh(_,v)}return null}function p(_,v,w,j){var R=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:l(_,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gh:return w.key===R?c(_,v,w,j):null;case gl:return w.key===R?u(_,v,w,j):null;case Ko:return R=w._init,p(_,v,R(w._payload),j)}if(fu(w)||Kc(w))return R!==null?null:d(_,v,w,j,null);Nh(_,w)}return null}function m(_,v,w,j,R){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(w)||null,l(v,_,""+j,R);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gh:return _=_.get(j.key===null?w:j.key)||null,c(v,_,j,R);case gl:return _=_.get(j.key===null?w:j.key)||null,u(v,_,j,R);case Ko:var L=j._init;return m(_,v,w,L(j._payload),R)}if(fu(j)||Kc(j))return _=_.get(w)||null,d(v,_,j,R,null);Nh(v,j)}return null}function y(_,v,w,j){for(var R=null,L=null,C=v,E=v=0,I=null;C!==null&&E<w.length;E++){C.index>E?(I=C,C=null):I=C.sibling;var P=p(_,C,w[E],j);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(_,C),v=o(P,v,E),L===null?R=P:L.sibling=P,L=P,C=I}if(E===w.length)return n(_,C),Mt&&ta(_,E),R;if(C===null){for(;E<w.length;E++)C=f(_,w[E],j),C!==null&&(v=o(C,v,E),L===null?R=C:L.sibling=C,L=C);return Mt&&ta(_,E),R}for(C=r(_,C);E<w.length;E++)I=m(C,_,E,w[E],j),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?E:I.key),v=o(I,v,E),L===null?R=I:L.sibling=I,L=I);return t&&C.forEach(function(k){return e(_,k)}),Mt&&ta(_,E),R}function x(_,v,w,j){var R=Kc(w);if(typeof R!="function")throw Error(le(150));if(w=R.call(w),w==null)throw Error(le(151));for(var L=R=null,C=v,E=v=0,I=null,P=w.next();C!==null&&!P.done;E++,P=w.next()){C.index>E?(I=C,C=null):I=C.sibling;var k=p(_,C,P.value,j);if(k===null){C===null&&(C=I);break}t&&C&&k.alternate===null&&e(_,C),v=o(k,v,E),L===null?R=k:L.sibling=k,L=k,C=I}if(P.done)return n(_,C),Mt&&ta(_,E),R;if(C===null){for(;!P.done;E++,P=w.next())P=f(_,P.value,j),P!==null&&(v=o(P,v,E),L===null?R=P:L.sibling=P,L=P);return Mt&&ta(_,E),R}for(C=r(_,C);!P.done;E++,P=w.next())P=m(C,_,E,P.value,j),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?E:P.key),v=o(P,v,E),L===null?R=P:L.sibling=P,L=P);return t&&C.forEach(function(N){return e(_,N)}),Mt&&ta(_,E),R}function S(_,v,w,j){if(typeof w=="object"&&w!==null&&w.type===vl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gh:e:{for(var R=w.key,L=v;L!==null;){if(L.key===R){if(R=w.type,R===vl){if(L.tag===7){n(_,L.sibling),v=s(L,w.props.children),v.return=_,_=v;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ko&&$_(R)===L.type){n(_,L.sibling),v=s(L,w.props),v.ref=eu(_,L,w),v.return=_,_=v;break e}n(_,L);break}else e(_,L);L=L.sibling}w.type===vl?(v=xa(w.props.children,_.mode,j,w.key),v.return=_,_=v):(j=vf(w.type,w.key,w.props,null,_.mode,j),j.ref=eu(_,v,w),j.return=_,_=j)}return a(_);case gl:e:{for(L=w.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(_,v.sibling),v=s(v,w.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Zg(w,_.mode,j),v.return=_,_=v}return a(_);case Ko:return L=w._init,S(_,v,L(w._payload),j)}if(fu(w))return y(_,v,w,j);if(Kc(w))return x(_,v,w,j);Nh(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,w),v.return=_,_=v):(n(_,v),v=Xg(w,_.mode,j),v.return=_,_=v),a(_)):n(_,v)}return S}var Zl=Rj(!0),Dj=Rj(!1),Qf=Fi(null),Xf=null,El=null,Ly=null;function Fy(){Ly=El=Xf=null}function Vy(t){var e=Qf.current;Rt(Qf),t._currentValue=e}function R0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fl(t,e){Xf=t,Ly=El=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(Ly!==t)if(t={context:t,memoizedValue:e,next:null},El===null){if(Xf===null)throw Error(le(308));El=t,Xf.dependencies={lanes:0,firstContext:t}}else El=El.next=t;return e}var ua=null;function zy(t){ua===null?ua=[t]:ua.push(t)}function Mj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,zy(e)):(n.next=s.next,s.next=n),e.interleaved=n,So(t,r)}function So(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qo=!1;function Uy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function go(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,vt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,So(t,n)}return s=r.interleaved,s===null?(e.next=e,zy(r)):(e.next=s.next,s.next=e),r.interleaved=e,So(t,n)}function df(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ty(t,n)}}function q_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zf(t,e,n,r){var s=t.updateQueue;Qo=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,d=u=c=null,l=o;do{var p=l.lane,m=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,x=l;switch(p=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=Ut({},f,p);break e;case 2:Qo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);ja|=a,t.lanes=a,t.memoizedState=f}}function W_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(le(191,s));s.call(r)}}}var Ad={},Us=Fi(Ad),ed=Fi(Ad),td=Fi(Ad);function da(t){if(t===Ad)throw Error(le(174));return t}function By(t,e){switch(Tt(td,e),Tt(ed,t),Tt(Us,Ad),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:f0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=f0(e,t)}Rt(Us),Tt(Us,e)}function Jl(){Rt(Us),Rt(ed),Rt(td)}function Lj(t){da(td.current);var e=da(Us.current),n=f0(e,t.type);e!==n&&(Tt(ed,t),Tt(Us,n))}function $y(t){ed.current===t&&(Rt(Us),Rt(ed))}var Ft=Fi(0);function Jf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wg=[];function qy(){for(var t=0;t<Wg.length;t++)Wg[t]._workInProgressVersionPrimary=null;Wg.length=0}var hf=Ro.ReactCurrentDispatcher,Hg=Ro.ReactCurrentBatchConfig,Na=0,zt=null,hn=null,Cn=null,ep=!1,ku=!1,nd=0,$L=0;function Mn(){throw Error(le(321))}function Wy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function Hy(t,e,n,r,s,o){if(Na=o,zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hf.current=t===null||t.memoizedState===null?GL:YL,t=n(r,s),ku){o=0;do{if(ku=!1,nd=0,25<=o)throw Error(le(301));o+=1,Cn=hn=null,e.updateQueue=null,hf.current=KL,t=n(r,s)}while(ku)}if(hf.current=tp,e=hn!==null&&hn.next!==null,Na=0,Cn=hn=zt=null,ep=!1,e)throw Error(le(300));return t}function Gy(){var t=nd!==0;return nd=0,t}function Is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?zt.memoizedState=Cn=t:Cn=Cn.next=t,Cn}function Xr(){if(hn===null){var t=zt.alternate;t=t!==null?t.memoizedState:null}else t=hn.next;var e=Cn===null?zt.memoizedState:Cn.next;if(e!==null)Cn=e,hn=t;else{if(t===null)throw Error(le(310));hn=t,t={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},Cn===null?zt.memoizedState=Cn=t:Cn=Cn.next=t}return Cn}function rd(t,e){return typeof e=="function"?e(t):e}function Gg(t){var e=Xr(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=hn,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Na&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,zt.lanes|=d,ja|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,gs(r,e.memoizedState)||(fr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,zt.lanes|=o,ja|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yg(t){var e=Xr(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);gs(o,e.memoizedState)||(fr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Fj(){}function Vj(t,e){var n=zt,r=Xr(),s=e(),o=!gs(r.memoizedState,s);if(o&&(r.memoizedState=s,fr=!0),r=r.queue,Yy(Bj.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Cn!==null&&Cn.memoizedState.tag&1){if(n.flags|=2048,sd(9,Uj.bind(null,n,r,s,e),void 0,null),En===null)throw Error(le(349));Na&30||zj(n,e,s)}return s}function zj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Uj(t,e,n,r){e.value=n,e.getSnapshot=r,$j(e)&&qj(t)}function Bj(t,e,n){return n(function(){$j(e)&&qj(t)})}function $j(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function qj(t){var e=So(t,1);e!==null&&fs(e,t,1,-1)}function H_(t){var e=Is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:t},e.queue=t,t=t.dispatch=HL.bind(null,zt,t),[e.memoizedState,t]}function sd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wj(){return Xr().memoizedState}function ff(t,e,n,r){var s=Is();zt.flags|=t,s.memoizedState=sd(1|e,n,void 0,r===void 0?null:r)}function im(t,e,n,r){var s=Xr();r=r===void 0?null:r;var o=void 0;if(hn!==null){var a=hn.memoizedState;if(o=a.destroy,r!==null&&Wy(r,a.deps)){s.memoizedState=sd(e,n,o,r);return}}zt.flags|=t,s.memoizedState=sd(1|e,n,o,r)}function G_(t,e){return ff(8390656,8,t,e)}function Yy(t,e){return im(2048,8,t,e)}function Hj(t,e){return im(4,2,t,e)}function Gj(t,e){return im(4,4,t,e)}function Yj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kj(t,e,n){return n=n!=null?n.concat([t]):null,im(4,4,Yj.bind(null,e,t),n)}function Ky(){}function Qj(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xj(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zj(t,e,n){return Na&21?(gs(n,e)||(n=rj(),zt.lanes|=n,ja|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fr=!0),t.memoizedState=n)}function qL(t,e){var n=bt;bt=n!==0&&4>n?n:4,t(!0);var r=Hg.transition;Hg.transition={};try{t(!1),e()}finally{bt=n,Hg.transition=r}}function Jj(){return Xr().memoizedState}function WL(t,e,n){var r=pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ek(t))tk(e,n);else if(n=Mj(t,e,n,r),n!==null){var s=nr();fs(n,t,r,s),nk(n,e,r)}}function HL(t,e,n){var r=pi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ek(t))tk(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,gs(l,a)){var c=e.interleaved;c===null?(s.next=s,zy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Mj(t,e,s,r),n!==null&&(s=nr(),fs(n,t,r,s),nk(n,e,r))}}function ek(t){var e=t.alternate;return t===zt||e!==null&&e===zt}function tk(t,e){ku=ep=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ty(t,n)}}var tp={readContext:Qr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},GL={readContext:Qr,useCallback:function(t,e){return Is().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:G_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ff(4194308,4,Yj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ff(4194308,4,t,e)},useInsertionEffect:function(t,e){return ff(4,2,t,e)},useMemo:function(t,e){var n=Is();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Is();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WL.bind(null,zt,t),[r.memoizedState,t]},useRef:function(t){var e=Is();return t={current:t},e.memoizedState=t},useState:H_,useDebugValue:Ky,useDeferredValue:function(t){return Is().memoizedState=t},useTransition:function(){var t=H_(!1),e=t[0];return t=qL.bind(null,t[1]),Is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=zt,s=Is();if(Mt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),En===null)throw Error(le(349));Na&30||zj(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,G_(Bj.bind(null,r,o,t),[t]),r.flags|=2048,sd(9,Uj.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Is(),e=En.identifierPrefix;if(Mt){var n=uo,r=co;n=(r&~(1<<32-hs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$L++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YL={readContext:Qr,useCallback:Qj,useContext:Qr,useEffect:Yy,useImperativeHandle:Kj,useInsertionEffect:Hj,useLayoutEffect:Gj,useMemo:Xj,useReducer:Gg,useRef:Wj,useState:function(){return Gg(rd)},useDebugValue:Ky,useDeferredValue:function(t){var e=Xr();return Zj(e,hn.memoizedState,t)},useTransition:function(){var t=Gg(rd)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:Fj,useSyncExternalStore:Vj,useId:Jj,unstable_isNewReconciler:!1},KL={readContext:Qr,useCallback:Qj,useContext:Qr,useEffect:Yy,useImperativeHandle:Kj,useInsertionEffect:Hj,useLayoutEffect:Gj,useMemo:Xj,useReducer:Yg,useRef:Wj,useState:function(){return Yg(rd)},useDebugValue:Ky,useDeferredValue:function(t){var e=Xr();return hn===null?e.memoizedState=t:Zj(e,hn.memoizedState,t)},useTransition:function(){var t=Yg(rd)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:Fj,useSyncExternalStore:Vj,useId:Jj,unstable_isNewReconciler:!1};function is(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function D0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var am={isMounted:function(t){return(t=t._reactInternals)?Ha(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nr(),s=pi(t),o=go(r,s);o.payload=e,n!=null&&(o.callback=n),e=hi(t,o,s),e!==null&&(fs(e,t,s,r),df(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nr(),s=pi(t),o=go(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=hi(t,o,s),e!==null&&(fs(e,t,s,r),df(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nr(),r=pi(t),s=go(n,r);s.tag=2,e!=null&&(s.callback=e),e=hi(t,s,r),e!==null&&(fs(e,t,r,n),df(e,t,r))}};function Y_(t,e,n,r,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Qu(n,r)||!Qu(s,o):!0}function rk(t,e,n){var r=!1,s=Ei,o=e.contextType;return typeof o=="object"&&o!==null?o=Qr(o):(s=gr(e)?Ea:Wn.current,r=e.contextTypes,o=(r=r!=null)?Ql(t,s):Ei),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=am,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function K_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&am.enqueueReplaceState(e,e.state,null)}function M0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Uy(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Qr(o):(o=gr(e)?Ea:Wn.current,s.context=Ql(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(D0(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&am.enqueueReplaceState(s,s.state,null),Zf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ec(t,e){try{var n="",r=e;do n+=S4(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Kg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function O0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QL=typeof WeakMap=="function"?WeakMap:Map;function sk(t,e,n){n=go(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rp||(rp=!0,H0=r),O0(t,e)},n}function ok(t,e,n){n=go(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){O0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){O0(t,e),typeof r!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Q_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=uF.bind(null,t,e,n),e.then(t,t))}function X_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Z_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=go(-1,1),e.tag=2,hi(n,e,1))),n.lanes|=1),t)}var XL=Ro.ReactCurrentOwner,fr=!1;function Zn(t,e,n,r){e.child=t===null?Dj(e,null,n,r):Zl(e,t.child,n,r)}function J_(t,e,n,r,s){n=n.render;var o=e.ref;return Fl(e,s),r=Hy(t,e,n,r,o,s),n=Gy(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Co(t,e,s)):(Mt&&n&&Dy(e),e.flags|=1,Zn(t,e,r,s),e.child)}function eS(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!rw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ik(t,e,o,r,s)):(t=vf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qu,n(a,r)&&t.ref===e.ref)return Co(t,e,s)}return e.flags|=1,t=mi(o,r),t.ref=e.ref,t.return=e,e.child=t}function ik(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Qu(o,r)&&t.ref===e.ref)if(fr=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(fr=!0);else return e.lanes=t.lanes,Co(t,e,s)}return L0(t,e,n,r,s)}function ak(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Nl,Er),Er|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(Nl,Er),Er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Tt(Nl,Er),Er|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Tt(Nl,Er),Er|=r;return Zn(t,e,s,n),e.child}function lk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function L0(t,e,n,r,s){var o=gr(n)?Ea:Wn.current;return o=Ql(e,o),Fl(e,s),n=Hy(t,e,n,r,o,s),r=Gy(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Co(t,e,s)):(Mt&&r&&Dy(e),e.flags|=1,Zn(t,e,n,s),e.child)}function tS(t,e,n,r,s){if(gr(n)){var o=!0;Gf(e)}else o=!1;if(Fl(e,s),e.stateNode===null)pf(t,e),rk(e,n,r),M0(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qr(u):(u=gr(n)?Ea:Wn.current,u=Ql(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&K_(e,a,r,u),Qo=!1;var p=e.memoizedState;a.state=p,Zf(e,r,a,s),c=e.memoizedState,l!==r||p!==c||mr.current||Qo?(typeof d=="function"&&(D0(e,n,d,r),c=e.memoizedState),(l=Qo||Y_(e,n,l,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Oj(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:is(e.type,l),a.props=u,f=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Qr(c):(c=gr(n)?Ea:Wn.current,c=Ql(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&K_(e,a,r,c),Qo=!1,p=e.memoizedState,a.state=p,Zf(e,r,a,s);var y=e.memoizedState;l!==f||p!==y||mr.current||Qo?(typeof m=="function"&&(D0(e,n,m,r),y=e.memoizedState),(u=Qo||Y_(e,n,u,r,p,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return F0(t,e,n,r,o,s)}function F0(t,e,n,r,s,o){lk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&z_(e,n,!1),Co(t,e,o);r=e.stateNode,XL.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Zl(e,t.child,null,o),e.child=Zl(e,null,l,o)):Zn(t,e,l,o),e.memoizedState=r.state,s&&z_(e,n,!0),e.child}function ck(t){var e=t.stateNode;e.pendingContext?V_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V_(t,e.context,!1),By(t,e.containerInfo)}function nS(t,e,n,r,s){return Xl(),Oy(s),e.flags|=256,Zn(t,e,n,r),e.child}var V0={dehydrated:null,treeContext:null,retryLane:0};function z0(t){return{baseLanes:t,cachePool:null,transitions:null}}function uk(t,e,n){var r=e.pendingProps,s=Ft.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Tt(Ft,s&1),t===null)return A0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=um(a,r,0,null),t=xa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=z0(n),e.memoizedState=V0,t):Qy(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ZL(t,e,a,r,l,s,n);if(o){o=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=mi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=mi(l,o):(o=xa(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?z0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=V0,r}return o=t.child,t=o.sibling,r=mi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qy(t,e){return e=um({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jh(t,e,n,r){return r!==null&&Oy(r),Zl(e,t.child,null,n),t=Qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZL(t,e,n,r,s,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Kg(Error(le(422))),jh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=um({mode:"visible",children:r.children},s,0,null),o=xa(o,s,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Zl(e,t.child,null,a),e.child.memoizedState=z0(a),e.memoizedState=V0,o);if(!(e.mode&1))return jh(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(le(419)),r=Kg(o,r,void 0),jh(t,e,a,r)}if(l=(a&t.childLanes)!==0,fr||l){if(r=En,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,So(t,s),fs(r,t,s,-1))}return nw(),r=Kg(Error(le(421))),jh(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=dF.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Nr=di(s.nextSibling),kr=e,Mt=!0,ls=null,t!==null&&(Ur[Br++]=co,Ur[Br++]=uo,Ur[Br++]=Ta,co=t.id,uo=t.overflow,Ta=e),e=Qy(e,r.children),e.flags|=4096,e)}function rS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),R0(t.return,e,n)}function Qg(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function dk(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Zn(t,e,r.children,n),r=Ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rS(t,n,e);else if(t.tag===19)rS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt(Ft,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qg(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qg(e,!0,n,null,o);break;case"together":Qg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Co(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ja|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JL(t,e,n){switch(e.tag){case 3:ck(e),Xl();break;case 5:Lj(e);break;case 1:gr(e.type)&&Gf(e);break;case 4:By(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Tt(Qf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(Ft,Ft.current&1),e.flags|=128,null):n&e.child.childLanes?uk(t,e,n):(Tt(Ft,Ft.current&1),t=Co(t,e,n),t!==null?t.sibling:null);Tt(Ft,Ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Tt(Ft,Ft.current),r)break;return null;case 22:case 23:return e.lanes=0,ak(t,e,n)}return Co(t,e,n)}var hk,U0,fk,pk;hk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};U0=function(){};fk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,da(Us.current);var o=null;switch(n){case"input":s=c0(t,s),r=c0(t,r),o=[];break;case"select":s=Ut({},s,{value:void 0}),r=Ut({},r,{value:void 0}),o=[];break;case"textarea":s=h0(t,s),r=h0(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wf)}p0(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($u.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($u.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&It("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};pk=function(t,e,n,r){n!==r&&(e.flags|=4)};function tu(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function On(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eF(t,e,n){var r=e.pendingProps;switch(My(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(e),null;case 1:return gr(e.type)&&Hf(),On(e),null;case 3:return r=e.stateNode,Jl(),Rt(mr),Rt(Wn),qy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ls!==null&&(K0(ls),ls=null))),U0(t,e),On(e),null;case 5:$y(e);var s=da(td.current);if(n=e.type,t!==null&&e.stateNode!=null)fk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return On(e),null}if(t=da(Us.current),Th(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ms]=e,r[Ju]=o,t=(e.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(s=0;s<mu.length;s++)It(mu[s],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":h_(r,o),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},It("invalid",r);break;case"textarea":p_(r,o),It("invalid",r)}p0(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Eh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Eh(r.textContent,l,t),s=["children",""+l]):$u.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&It("scroll",r)}switch(n){case"input":vh(r),f_(r,o,!0);break;case"textarea":vh(r),m_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ms]=e,t[Ju]=r,hk(t,e,!1,!1),e.stateNode=t;e:{switch(a=m0(n,r),n){case"dialog":It("cancel",t),It("close",t),s=r;break;case"iframe":case"object":case"embed":It("load",t),s=r;break;case"video":case"audio":for(s=0;s<mu.length;s++)It(mu[s],t);s=r;break;case"source":It("error",t),s=r;break;case"img":case"image":case"link":It("error",t),It("load",t),s=r;break;case"details":It("toggle",t),s=r;break;case"input":h_(t,r),s=c0(t,r),It("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ut({},r,{value:void 0}),It("invalid",t);break;case"textarea":p_(t,r),s=h0(t,r),It("invalid",t);break;default:s=r}p0(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?WN(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$N(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qu(t,c):typeof c=="number"&&qu(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($u.hasOwnProperty(o)?c!=null&&o==="onScroll"&&It("scroll",t):c!=null&&wy(t,o,c,a))}switch(n){case"input":vh(t),f_(t,r,!1);break;case"textarea":vh(t),m_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ci(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Dl(t,!!r.multiple,o,!1):r.defaultValue!=null&&Dl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return On(e),null;case 6:if(t&&e.stateNode!=null)pk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=da(td.current),da(Us.current),Th(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ms]=e,(o=r.nodeValue!==n)&&(t=kr,t!==null))switch(t.tag){case 3:Eh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ms]=e,e.stateNode=r}return On(e),null;case 13:if(Rt(Ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&Nr!==null&&e.mode&1&&!(e.flags&128))Aj(),Xl(),e.flags|=98560,o=!1;else if(o=Th(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(le(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[Ms]=e}else Xl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;On(e),o=!1}else ls!==null&&(K0(ls),ls=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?mn===0&&(mn=3):nw())),e.updateQueue!==null&&(e.flags|=4),On(e),null);case 4:return Jl(),U0(t,e),t===null&&Xu(e.stateNode.containerInfo),On(e),null;case 10:return Vy(e.type._context),On(e),null;case 17:return gr(e.type)&&Hf(),On(e),null;case 19:if(Rt(Ft),o=e.memoizedState,o===null)return On(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)tu(o,!1);else{if(mn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Jf(t),a!==null){for(e.flags|=128,tu(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(Ft,Ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&Yt()>tc&&(e.flags|=128,r=!0,tu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Jf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Mt)return On(e),null}else 2*Yt()-o.renderingStartTime>tc&&n!==1073741824&&(e.flags|=128,r=!0,tu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Yt(),e.sibling=null,n=Ft.current,Tt(Ft,r?n&1|2:n&1),e):(On(e),null);case 22:case 23:return tw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Er&1073741824&&(On(e),e.subtreeFlags&6&&(e.flags|=8192)):On(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function tF(t,e){switch(My(e),e.tag){case 1:return gr(e.type)&&Hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jl(),Rt(mr),Rt(Wn),qy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $y(e),null;case 13:if(Rt(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Xl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rt(Ft),null;case 4:return Jl(),null;case 10:return Vy(e.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var kh=!1,Un=!1,nF=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Tl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qt(t,e,r)}else n.current=null}function B0(t,e,n){try{n()}catch(r){qt(t,e,r)}}var sS=!1;function rF(t,e){if(E0=Bf,t=yj(),Ry(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===s&&(l=a),p===o&&++d===r&&(c=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(T0={focusedElem:t,selectionRange:n},Bf=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,S=y.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:is(e.type,x),S);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(j){qt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return y=sS,sS=!1,y}function Pu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&B0(e,n,o)}s=s.next}while(s!==r)}}function lm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mk(t){var e=t.alternate;e!==null&&(t.alternate=null,mk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ms],delete e[Ju],delete e[k0],delete e[VL],delete e[zL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gk(t){return t.tag===5||t.tag===3||t.tag===4}function oS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function q0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wf));else if(r!==4&&(t=t.child,t!==null))for(q0(t,e,n),t=t.sibling;t!==null;)q0(t,e,n),t=t.sibling}function W0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(W0(t,e,n),t=t.sibling;t!==null;)W0(t,e,n),t=t.sibling}var Tn=null,as=!1;function Uo(t,e,n){for(n=n.child;n!==null;)vk(t,e,n),n=n.sibling}function vk(t,e,n){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(em,n)}catch{}switch(n.tag){case 5:Un||Tl(n,e);case 6:var r=Tn,s=as;Tn=null,Uo(t,e,n),Tn=r,as=s,Tn!==null&&(as?(t=Tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tn.removeChild(n.stateNode));break;case 18:Tn!==null&&(as?(t=Tn,n=n.stateNode,t.nodeType===8?$g(t.parentNode,n):t.nodeType===1&&$g(t,n),Yu(t)):$g(Tn,n.stateNode));break;case 4:r=Tn,s=as,Tn=n.stateNode.containerInfo,as=!0,Uo(t,e,n),Tn=r,as=s;break;case 0:case 11:case 14:case 15:if(!Un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&B0(n,e,a),s=s.next}while(s!==r)}Uo(t,e,n);break;case 1:if(!Un&&(Tl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qt(n,e,l)}Uo(t,e,n);break;case 21:Uo(t,e,n);break;case 22:n.mode&1?(Un=(r=Un)||n.memoizedState!==null,Uo(t,e,n),Un=r):Uo(t,e,n);break;default:Uo(t,e,n)}}function iS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nF),e.forEach(function(r){var s=hF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ns(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Tn=l.stateNode,as=!1;break e;case 3:Tn=l.stateNode.containerInfo,as=!0;break e;case 4:Tn=l.stateNode.containerInfo,as=!0;break e}l=l.return}if(Tn===null)throw Error(le(160));vk(o,a,s),Tn=null,as=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){qt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xk(e,t),e=e.sibling}function xk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ns(e,t),ks(t),r&4){try{Pu(3,t,t.return),lm(3,t)}catch(x){qt(t,t.return,x)}try{Pu(5,t,t.return)}catch(x){qt(t,t.return,x)}}break;case 1:ns(e,t),ks(t),r&512&&n!==null&&Tl(n,n.return);break;case 5:if(ns(e,t),ks(t),r&512&&n!==null&&Tl(n,n.return),t.flags&32){var s=t.stateNode;try{qu(s,"")}catch(x){qt(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&zN(s,o),m0(l,a);var u=m0(l,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?WN(s,f):d==="dangerouslySetInnerHTML"?$N(s,f):d==="children"?qu(s,f):wy(s,d,f,u)}switch(l){case"input":u0(s,o);break;case"textarea":UN(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Dl(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Dl(s,!!o.multiple,o.defaultValue,!0):Dl(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ju]=o}catch(x){qt(t,t.return,x)}}break;case 6:if(ns(e,t),ks(t),r&4){if(t.stateNode===null)throw Error(le(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(x){qt(t,t.return,x)}}break;case 3:if(ns(e,t),ks(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yu(e.containerInfo)}catch(x){qt(t,t.return,x)}break;case 4:ns(e,t),ks(t);break;case 13:ns(e,t),ks(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Jy=Yt())),r&4&&iS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Un=(u=Un)||d,ns(e,t),Un=u):ns(e,t),ks(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ne=t,d=t.child;d!==null;){for(f=Ne=d;Ne!==null;){switch(p=Ne,m=p.child,p.tag){case 0:case 11:case 14:case 15:Pu(4,p,p.return);break;case 1:Tl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){qt(r,n,x)}}break;case 5:Tl(p,p.return);break;case 22:if(p.memoizedState!==null){lS(f);continue}}m!==null?(m.return=p,Ne=m):lS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qN("display",a))}catch(x){qt(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){qt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ns(e,t),ks(t),r&4&&iS(t);break;case 21:break;default:ns(e,t),ks(t)}}function ks(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gk(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qu(s,""),r.flags&=-33);var o=oS(t);W0(t,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=oS(t);q0(t,l,a);break;default:throw Error(le(161))}}catch(c){qt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sF(t,e,n){Ne=t,yk(t)}function yk(t,e,n){for(var r=(t.mode&1)!==0;Ne!==null;){var s=Ne,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||kh;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Un;l=kh;var u=Un;if(kh=a,(Un=c)&&!u)for(Ne=s;Ne!==null;)a=Ne,c=a.child,a.tag===22&&a.memoizedState!==null?cS(s):c!==null?(c.return=a,Ne=c):cS(s);for(;o!==null;)Ne=o,yk(o),o=o.sibling;Ne=s,kh=l,Un=u}aS(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Ne=o):aS(t)}}function aS(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Un||lm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Un)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:is(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&W_(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}W_(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Un||e.flags&512&&$0(e)}catch(p){qt(e,e.return,p)}}if(e===t){Ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function lS(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function cS(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lm(4,e)}catch(c){qt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){qt(e,s,c)}}var o=e.return;try{$0(e)}catch(c){qt(e,o,c)}break;case 5:var a=e.return;try{$0(e)}catch(c){qt(e,a,c)}}}catch(c){qt(e,e.return,c)}if(e===t){Ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ne=l;break}Ne=e.return}}var oF=Math.ceil,np=Ro.ReactCurrentDispatcher,Xy=Ro.ReactCurrentOwner,Yr=Ro.ReactCurrentBatchConfig,vt=0,En=null,Jt=null,In=0,Er=0,Nl=Fi(0),mn=0,od=null,ja=0,cm=0,Zy=0,Iu=null,ur=null,Jy=0,tc=1/0,ao=null,rp=!1,H0=null,fi=null,Ph=!1,ii=null,sp=0,Au=0,G0=null,mf=-1,gf=0;function nr(){return vt&6?Yt():mf!==-1?mf:mf=Yt()}function pi(t){return t.mode&1?vt&2&&In!==0?In&-In:BL.transition!==null?(gf===0&&(gf=rj()),gf):(t=bt,t!==0||(t=window.event,t=t===void 0?16:uj(t.type)),t):1}function fs(t,e,n,r){if(50<Au)throw Au=0,G0=null,Error(le(185));kd(t,n,r),(!(vt&2)||t!==En)&&(t===En&&(!(vt&2)&&(cm|=n),mn===4&&ei(t,In)),vr(t,r),n===1&&vt===0&&!(e.mode&1)&&(tc=Yt()+500,om&&Vi()))}function vr(t,e){var n=t.callbackNode;B4(t,e);var r=Uf(t,t===En?In:0);if(r===0)n!==null&&x_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x_(n),e===1)t.tag===0?UL(uS.bind(null,t)):kj(uS.bind(null,t)),LL(function(){!(vt&6)&&Vi()}),n=null;else{switch(sj(r)){case 1:n=Ey;break;case 4:n=tj;break;case 16:n=zf;break;case 536870912:n=nj;break;default:n=zf}n=Nk(n,wk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wk(t,e){if(mf=-1,gf=0,vt&6)throw Error(le(327));var n=t.callbackNode;if(Vl()&&t.callbackNode!==n)return null;var r=Uf(t,t===En?In:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=op(t,r);else{e=r;var s=vt;vt|=2;var o=_k();(En!==t||In!==e)&&(ao=null,tc=Yt()+500,va(t,e));do try{lF();break}catch(l){bk(t,l)}while(1);Fy(),np.current=o,vt=s,Jt!==null?e=0:(En=null,In=0,e=mn)}if(e!==0){if(e===2&&(s=w0(t),s!==0&&(r=s,e=Y0(t,s))),e===1)throw n=od,va(t,0),ei(t,r),vr(t,Yt()),n;if(e===6)ei(t,r);else{if(s=t.current.alternate,!(r&30)&&!iF(s)&&(e=op(t,r),e===2&&(o=w0(t),o!==0&&(r=o,e=Y0(t,o))),e===1))throw n=od,va(t,0),ei(t,r),vr(t,Yt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:na(t,ur,ao);break;case 3:if(ei(t,r),(r&130023424)===r&&(e=Jy+500-Yt(),10<e)){if(Uf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=j0(na.bind(null,t,ur,ao),e);break}na(t,ur,ao);break;case 4:if(ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-hs(r);o=1<<a,a=e[a],a>s&&(s=a),r&=~o}if(r=s,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oF(r/1960))-r,10<r){t.timeoutHandle=j0(na.bind(null,t,ur,ao),r);break}na(t,ur,ao);break;case 5:na(t,ur,ao);break;default:throw Error(le(329))}}}return vr(t,Yt()),t.callbackNode===n?wk.bind(null,t):null}function Y0(t,e){var n=Iu;return t.current.memoizedState.isDehydrated&&(va(t,e).flags|=256),t=op(t,e),t!==2&&(e=ur,ur=n,e!==null&&K0(e)),t}function K0(t){ur===null?ur=t:ur.push.apply(ur,t)}function iF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!gs(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ei(t,e){for(e&=~Zy,e&=~cm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hs(e),r=1<<n;t[n]=-1,e&=~r}}function uS(t){if(vt&6)throw Error(le(327));Vl();var e=Uf(t,0);if(!(e&1))return vr(t,Yt()),null;var n=op(t,e);if(t.tag!==0&&n===2){var r=w0(t);r!==0&&(e=r,n=Y0(t,r))}if(n===1)throw n=od,va(t,0),ei(t,e),vr(t,Yt()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,na(t,ur,ao),vr(t,Yt()),null}function ew(t,e){var n=vt;vt|=1;try{return t(e)}finally{vt=n,vt===0&&(tc=Yt()+500,om&&Vi())}}function ka(t){ii!==null&&ii.tag===0&&!(vt&6)&&Vl();var e=vt;vt|=1;var n=Yr.transition,r=bt;try{if(Yr.transition=null,bt=1,t)return t()}finally{bt=r,Yr.transition=n,vt=e,!(vt&6)&&Vi()}}function tw(){Er=Nl.current,Rt(Nl)}function va(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OL(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(My(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hf();break;case 3:Jl(),Rt(mr),Rt(Wn),qy();break;case 5:$y(r);break;case 4:Jl();break;case 13:Rt(Ft);break;case 19:Rt(Ft);break;case 10:Vy(r.type._context);break;case 22:case 23:tw()}n=n.return}if(En=t,Jt=t=mi(t.current,null),In=Er=e,mn=0,od=null,Zy=cm=ja=0,ur=Iu=null,ua!==null){for(e=0;e<ua.length;e++)if(n=ua[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}ua=null}return t}function bk(t,e){do{var n=Jt;try{if(Fy(),hf.current=tp,ep){for(var r=zt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ep=!1}if(Na=0,Cn=hn=zt=null,ku=!1,nd=0,Xy.current=null,n===null||n.return===null){mn=1,od=e,Jt=null;break}e:{var o=t,a=n.return,l=n,c=e;if(e=In,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=X_(a);if(m!==null){m.flags&=-257,Z_(m,a,l,o,e),m.mode&1&&Q_(o,u,e),e=m,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){Q_(o,u,e),nw();break e}c=Error(le(426))}}else if(Mt&&l.mode&1){var S=X_(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Z_(S,a,l,o,e),Oy(ec(c,l));break e}}o=c=ec(c,l),mn!==4&&(mn=2),Iu===null?Iu=[o]:Iu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=sk(o,c,e);q_(o,_);break e;case 1:l=c;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fi===null||!fi.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var j=ok(o,l,e);q_(o,j);break e}}o=o.return}while(o!==null)}Ck(n)}catch(R){e=R,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(1)}function _k(){var t=np.current;return np.current=tp,t===null?tp:t}function nw(){(mn===0||mn===3||mn===2)&&(mn=4),En===null||!(ja&268435455)&&!(cm&268435455)||ei(En,In)}function op(t,e){var n=vt;vt|=2;var r=_k();(En!==t||In!==e)&&(ao=null,va(t,e));do try{aF();break}catch(s){bk(t,s)}while(1);if(Fy(),vt=n,np.current=r,Jt!==null)throw Error(le(261));return En=null,In=0,mn}function aF(){for(;Jt!==null;)Sk(Jt)}function lF(){for(;Jt!==null&&!R4();)Sk(Jt)}function Sk(t){var e=Tk(t.alternate,t,Er);t.memoizedProps=t.pendingProps,e===null?Ck(t):Jt=e,Xy.current=null}function Ck(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tF(n,e),n!==null){n.flags&=32767,Jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mn=6,Jt=null;return}}else if(n=eF(n,e,Er),n!==null){Jt=n;return}if(e=e.sibling,e!==null){Jt=e;return}Jt=e=t}while(e!==null);mn===0&&(mn=5)}function na(t,e,n){var r=bt,s=Yr.transition;try{Yr.transition=null,bt=1,cF(t,e,n,r)}finally{Yr.transition=s,bt=r}return null}function cF(t,e,n,r){do Vl();while(ii!==null);if(vt&6)throw Error(le(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($4(t,o),t===En&&(Jt=En=null,In=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ph||(Ph=!0,Nk(zf,function(){return Vl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yr.transition,Yr.transition=null;var a=bt;bt=1;var l=vt;vt|=4,Xy.current=null,rF(t,n),xk(n,t),kL(T0),Bf=!!E0,T0=E0=null,t.current=n,sF(n),D4(),vt=l,bt=a,Yr.transition=o}else t.current=n;if(Ph&&(Ph=!1,ii=t,sp=s),o=t.pendingLanes,o===0&&(fi=null),L4(n.stateNode),vr(t,Yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(rp)throw rp=!1,t=H0,H0=null,t;return sp&1&&t.tag!==0&&Vl(),o=t.pendingLanes,o&1?t===G0?Au++:(Au=0,G0=t):Au=0,Vi(),null}function Vl(){if(ii!==null){var t=sj(sp),e=Yr.transition,n=bt;try{if(Yr.transition=null,bt=16>t?16:t,ii===null)var r=!1;else{if(t=ii,ii=null,sp=0,vt&6)throw Error(le(331));var s=vt;for(vt|=4,Ne=t.current;Ne!==null;){var o=Ne,a=o.child;if(Ne.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ne=u;Ne!==null;){var d=Ne;switch(d.tag){case 0:case 11:case 15:Pu(8,d,o)}var f=d.child;if(f!==null)f.return=d,Ne=f;else for(;Ne!==null;){d=Ne;var p=d.sibling,m=d.return;if(mk(d),d===u){Ne=null;break}if(p!==null){p.return=m,Ne=p;break}Ne=m}}}var y=o.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}Ne=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ne=a;else e:for(;Ne!==null;){if(o=Ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pu(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Ne=_;break e}Ne=o.return}}var v=t.current;for(Ne=v;Ne!==null;){a=Ne;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Ne=w;else e:for(a=v;Ne!==null;){if(l=Ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lm(9,l)}}catch(R){qt(l,l.return,R)}if(l===a){Ne=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ne=j;break e}Ne=l.return}}if(vt=s,Vi(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(em,t)}catch{}r=!0}return r}finally{bt=n,Yr.transition=e}}return!1}function dS(t,e,n){e=ec(n,e),e=sk(t,e,1),t=hi(t,e,1),e=nr(),t!==null&&(kd(t,1,e),vr(t,e))}function qt(t,e,n){if(t.tag===3)dS(t,t,n);else for(;e!==null;){if(e.tag===3){dS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){t=ec(n,t),t=ok(e,t,1),e=hi(e,t,1),t=nr(),e!==null&&(kd(e,1,t),vr(e,t));break}}e=e.return}}function uF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nr(),t.pingedLanes|=t.suspendedLanes&n,En===t&&(In&n)===n&&(mn===4||mn===3&&(In&130023424)===In&&500>Yt()-Jy?va(t,0):Zy|=n),vr(t,e)}function Ek(t,e){e===0&&(t.mode&1?(e=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):e=1);var n=nr();t=So(t,e),t!==null&&(kd(t,e,n),vr(t,n))}function dF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ek(t,n)}function hF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),Ek(t,n)}var Tk;Tk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)fr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fr=!1,JL(t,e,n);fr=!!(t.flags&131072)}else fr=!1,Mt&&e.flags&1048576&&Pj(e,Kf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pf(t,e),t=e.pendingProps;var s=Ql(e,Wn.current);Fl(e,n),s=Hy(null,e,r,t,s,n);var o=Gy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(r)?(o=!0,Gf(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uy(e),s.updater=am,e.stateNode=s,s._reactInternals=e,M0(e,r,t,n),e=F0(null,e,r,!0,o,n)):(e.tag=0,Mt&&o&&Dy(e),Zn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=pF(r),t=is(r,t),s){case 0:e=L0(null,e,r,t,n);break e;case 1:e=tS(null,e,r,t,n);break e;case 11:e=J_(null,e,r,t,n);break e;case 14:e=eS(null,e,r,is(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:is(r,s),L0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:is(r,s),tS(t,e,r,s,n);case 3:e:{if(ck(e),t===null)throw Error(le(387));r=e.pendingProps,o=e.memoizedState,s=o.element,Oj(t,e),Zf(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ec(Error(le(423)),e),e=nS(t,e,r,n,s);break e}else if(r!==s){s=ec(Error(le(424)),e),e=nS(t,e,r,n,s);break e}else for(Nr=di(e.stateNode.containerInfo.firstChild),kr=e,Mt=!0,ls=null,n=Dj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xl(),r===s){e=Co(t,e,n);break e}Zn(t,e,r,n)}e=e.child}return e;case 5:return Lj(e),t===null&&A0(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,N0(r,s)?a=null:o!==null&&N0(r,o)&&(e.flags|=32),lk(t,e),Zn(t,e,a,n),e.child;case 6:return t===null&&A0(e),null;case 13:return uk(t,e,n);case 4:return By(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zl(e,null,r,n):Zn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:is(r,s),J_(t,e,r,s,n);case 7:return Zn(t,e,e.pendingProps,n),e.child;case 8:return Zn(t,e,e.pendingProps.children,n),e.child;case 12:return Zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,Tt(Qf,r._currentValue),r._currentValue=a,o!==null)if(gs(o.value,a)){if(o.children===s.children&&!mr.current){e=Co(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=go(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),R0(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(le(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),R0(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Zn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fl(e,n),s=Qr(s),r=r(s),e.flags|=1,Zn(t,e,r,n),e.child;case 14:return r=e.type,s=is(r,e.pendingProps),s=is(r.type,s),eS(t,e,r,s,n);case 15:return ik(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:is(r,s),pf(t,e),e.tag=1,gr(r)?(t=!0,Gf(e)):t=!1,Fl(e,n),rk(e,r,s),M0(e,r,s,n),F0(null,e,r,!0,t,n);case 19:return dk(t,e,n);case 22:return ak(t,e,n)}throw Error(le(156,e.tag))};function Nk(t,e){return ej(t,e)}function fF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,n,r){return new fF(t,e,n,r)}function rw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pF(t){if(typeof t=="function")return rw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_y)return 11;if(t===Sy)return 14}return 2}function mi(t,e){var n=t.alternate;return n===null?(n=Wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vf(t,e,n,r,s,o){var a=2;if(r=t,typeof t=="function")rw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case vl:return xa(n.children,s,o,e);case by:a=8,s|=8;break;case o0:return t=Wr(12,n,e,s|2),t.elementType=o0,t.lanes=o,t;case i0:return t=Wr(13,n,e,s),t.elementType=i0,t.lanes=o,t;case a0:return t=Wr(19,n,e,s),t.elementType=a0,t.lanes=o,t;case LN:return um(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MN:a=10;break e;case ON:a=9;break e;case _y:a=11;break e;case Sy:a=14;break e;case Ko:a=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Wr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function xa(t,e,n,r){return t=Wr(7,t,r,e),t.lanes=n,t}function um(t,e,n,r){return t=Wr(22,t,r,e),t.elementType=LN,t.lanes=n,t.stateNode={isHidden:!1},t}function Xg(t,e,n){return t=Wr(6,t,null,e),t.lanes=n,t}function Zg(t,e,n){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ag(0),this.expirationTimes=Ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ag(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sw(t,e,n,r,s,o,a,l,c){return t=new mF(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Wr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uy(o),t}function gF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jk(t){if(!t)return Ei;t=t._reactInternals;e:{if(Ha(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(gr(n))return jj(t,n,e)}return e}function kk(t,e,n,r,s,o,a,l,c){return t=sw(n,r,!0,t,s,o,a,l,c),t.context=jk(null),n=t.current,r=nr(),s=pi(n),o=go(r,s),o.callback=e??null,hi(n,o,s),t.current.lanes=s,kd(t,s,r),vr(t,r),t}function dm(t,e,n,r){var s=e.current,o=nr(),a=pi(s);return n=jk(n),e.context===null?e.context=n:e.pendingContext=n,e=go(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hi(s,e,a),t!==null&&(fs(t,s,a,o),df(t,s,a)),a}function ip(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ow(t,e){hS(t,e),(t=t.alternate)&&hS(t,e)}function vF(){return null}var Pk=typeof reportError=="function"?reportError:function(t){console.error(t)};function iw(t){this._internalRoot=t}hm.prototype.render=iw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));dm(t,e,null,null)};hm.prototype.unmount=iw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ka(function(){dm(null,t,null,null)}),e[_o]=null}};function hm(t){this._internalRoot=t}hm.prototype.unstable_scheduleHydration=function(t){if(t){var e=aj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jo.length&&e!==0&&e<Jo[n].priority;n++);Jo.splice(n,0,t),n===0&&cj(t)}};function aw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fS(){}function xF(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ip(a);o.call(u)}}var a=kk(e,r,t,0,null,!1,!1,"",fS);return t._reactRootContainer=a,t[_o]=a.current,Xu(t.nodeType===8?t.parentNode:t),ka(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ip(c);l.call(u)}}var c=sw(t,0,!1,null,null,!1,!1,"",fS);return t._reactRootContainer=c,t[_o]=c.current,Xu(t.nodeType===8?t.parentNode:t),ka(function(){dm(e,c,n,r)}),c}function pm(t,e,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=ip(a);l.call(c)}}dm(e,a,t,s)}else a=xF(n,e,t,s,r);return ip(a)}oj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pu(e.pendingLanes);n!==0&&(Ty(e,n|1),vr(e,Yt()),!(vt&6)&&(tc=Yt()+500,Vi()))}break;case 13:ka(function(){var r=So(t,1);if(r!==null){var s=nr();fs(r,t,1,s)}}),ow(t,1)}};Ny=function(t){if(t.tag===13){var e=So(t,134217728);if(e!==null){var n=nr();fs(e,t,134217728,n)}ow(t,134217728)}};ij=function(t){if(t.tag===13){var e=pi(t),n=So(t,e);if(n!==null){var r=nr();fs(n,t,e,r)}ow(t,e)}};aj=function(){return bt};lj=function(t,e){var n=bt;try{return bt=t,e()}finally{bt=n}};v0=function(t,e,n){switch(e){case"input":if(u0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=sm(r);if(!s)throw Error(le(90));VN(r),u0(r,s)}}}break;case"textarea":UN(t,n);break;case"select":e=n.value,e!=null&&Dl(t,!!n.multiple,e,!1)}};YN=ew;KN=ka;var yF={usingClientEntryPoint:!1,Events:[Id,bl,sm,HN,GN,ew]},nu={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wF={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZN(t),t===null?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||vF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{em=Ih.inject(wF),zs=Ih}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yF;Or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aw(e))throw Error(le(200));return gF(t,e,null,n)};Or.createRoot=function(t,e){if(!aw(t))throw Error(le(299));var n=!1,r="",s=Pk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sw(t,1,!1,null,null,n,!1,r,s),t[_o]=e.current,Xu(t.nodeType===8?t.parentNode:t),new iw(e)};Or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=ZN(e),t=t===null?null:t.stateNode,t};Or.flushSync=function(t){return ka(t)};Or.hydrate=function(t,e,n){if(!fm(e))throw Error(le(200));return pm(null,t,e,!0,n)};Or.hydrateRoot=function(t,e,n){if(!aw(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=Pk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=kk(e,null,t,1,n??null,s,!1,o,a),t[_o]=e.current,Xu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hm(e)};Or.render=function(t,e,n){if(!fm(e))throw Error(le(200));return pm(null,t,e,!1,n)};Or.unmountComponentAtNode=function(t){if(!fm(t))throw Error(le(40));return t._reactRootContainer?(ka(function(){pm(null,null,t,!1,function(){t._reactRootContainer=null,t[_o]=null})}),!0):!1};Or.unstable_batchedUpdates=ew;Or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fm(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return pm(t,e,n,!1,r)};Or.version="18.3.1-next-f1338f8080-20240426";function Ik(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ik)}catch(t){console.error(t)}}Ik(),IN.exports=Or;var Ss=IN.exports;const bF=qa(Ss);var pS=Ss;r0.createRoot=pS.createRoot,r0.hydrateRoot=pS.hydrateRoot;var Ak={exports:{}},_F="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SF=_F,CF=SF;function Rk(){}function Dk(){}Dk.resetWarningCache=Rk;var EF=function(){function t(r,s,o,a,l,c){if(c!==CF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Dk,resetWarningCache:Rk};return n.PropTypes=n,n};Ak.exports=EF();var lw=Ak.exports;const Le=qa(lw);function TF(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Mk=g,NF=TF(Mk);function mS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var kF=!!(typeof window<"u"&&window.document&&window.document.createElement);function PF(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],l;function c(){l=t(a.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){jF(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=l;return l=void 0,a=[],y};var p=f.prototype;return p.UNSAFE_componentWillMount=function(){a.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var y=a.indexOf(this);a.splice(y,1),c()},p.render=function(){return NF.createElement(o,this.props)},f}(Mk.PureComponent);return mS(u,"displayName","SideEffect("+r(o)+")"),mS(u,"canUseDOM",kF),u}}var IF=PF;const AF=qa(IF);var RF=typeof Element<"u",DF=typeof Map=="function",MF=typeof Set=="function",OF=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function xf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!xf(t[r],e[r]))return!1;return!0}var o;if(DF&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!xf(r.value[1],e.get(r.value[0])))return!1;return!0}if(MF&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(OF&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(RF&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!xf(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var LF=function(e,n){try{return xf(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const FF=qa(LF);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var gS=Object.getOwnPropertySymbols,VF=Object.prototype.hasOwnProperty,zF=Object.prototype.propertyIsEnumerable;function UF(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function BF(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(o){s[o]=o}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var $F=BF()?Object.assign:function(t,e){for(var n,r=UF(t),s,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var a in n)VF.call(n,a)&&(r[a]=n[a]);if(gS){s=gS(n);for(var l=0;l<s.length;l++)zF.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const qF=qa($F);var ya={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Xe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Xe).map(function(t){return Xe[t]});var Dt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},ap={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},id={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},WF=Object.keys(ap).reduce(function(t,e){return t[ap[e]]=e,t},{}),HF=[Xe.NOSCRIPT,Xe.SCRIPT,Xe.STYLE],us="data-react-helmet",GF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YF=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},KF=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),lr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QF=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},vS=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},XF=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Q0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},ZF=function(e){var n=zl(e,Xe.TITLE),r=zl(e,id.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=zl(e,id.DEFAULT_TITLE);return n||s||void 0},JF=function(e){return zl(e,id.ON_CHANGE_CLIENT_STATE)||function(){}},Jg=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return lr({},r,s)},{})},e3=function(e,n){return n.filter(function(r){return typeof r[Xe.BASE]<"u"}).map(function(r){return r[Xe.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var o=Object.keys(s),a=0;a<o.length;a++){var l=o[a],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},ru=function(e,n,r){var s={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&s3("Helmet: "+e+' should be of type "Array". Instead found type "'+GF(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,a){var l={};a.filter(function(p){for(var m=void 0,y=Object.keys(p),x=0;x<y.length;x++){var S=y[x],_=S.toLowerCase();n.indexOf(_)!==-1&&!(m===Dt.REL&&p[m].toLowerCase()==="canonical")&&!(_===Dt.REL&&p[_].toLowerCase()==="stylesheet")&&(m=_),n.indexOf(S)!==-1&&(S===Dt.INNER_HTML||S===Dt.CSS_TEXT||S===Dt.ITEM_PROP)&&(m=S)}if(!m||!p[m])return!1;var v=p[m].toLowerCase();return s[m]||(s[m]={}),l[m]||(l[m]={}),s[m][v]?!1:(l[m][v]=!0,!0)}).reverse().forEach(function(p){return o.push(p)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=qF({},s[d],l[d]);s[d]=f}return o},[]).reverse()},zl=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},t3=function(e){return{baseTag:e3([Dt.HREF,Dt.TARGET],e),bodyAttributes:Jg(ya.BODY,e),defer:zl(e,id.DEFER),encode:zl(e,id.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Jg(ya.HTML,e),linkTags:ru(Xe.LINK,[Dt.REL,Dt.HREF],e),metaTags:ru(Xe.META,[Dt.NAME,Dt.CHARSET,Dt.HTTPEQUIV,Dt.PROPERTY,Dt.ITEM_PROP],e),noscriptTags:ru(Xe.NOSCRIPT,[Dt.INNER_HTML],e),onChangeClientState:JF(e),scriptTags:ru(Xe.SCRIPT,[Dt.SRC,Dt.INNER_HTML],e),styleTags:ru(Xe.STYLE,[Dt.CSS_TEXT],e),title:ZF(e),titleAttributes:Jg(ya.TITLE,e)}},X0=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){X0(e)},0)}}(),xS=function(e){return clearTimeout(e)},n3=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||X0:global.requestAnimationFrame||X0,r3=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||xS:global.cancelAnimationFrame||xS,s3=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},su=null,o3=function(e){su&&r3(su),e.defer?su=n3(function(){yS(e,function(){su=null})}):(yS(e),su=null)},yS=function(e,n){var r=e.baseTag,s=e.bodyAttributes,o=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,p=e.title,m=e.titleAttributes;Z0(Xe.BODY,s),Z0(Xe.HTML,o),i3(p,m);var y={baseTag:il(Xe.BASE,r),linkTags:il(Xe.LINK,a),metaTags:il(Xe.META,l),noscriptTags:il(Xe.NOSCRIPT,c),scriptTags:il(Xe.SCRIPT,d),styleTags:il(Xe.STYLE,f)},x={},S={};Object.keys(y).forEach(function(_){var v=y[_],w=v.newTags,j=v.oldTags;w.length&&(x[_]=w),j.length&&(S[_]=y[_].oldTags)}),n&&n(),u(e,x,S)},Ok=function(e){return Array.isArray(e)?e.join(""):e},i3=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=Ok(e)),Z0(Xe.TITLE,n)},Z0=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(us),o=s?s.split(","):[],a=[].concat(o),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),o.indexOf(u)===-1&&o.push(u);var f=a.indexOf(u);f!==-1&&a.splice(f,1)}for(var p=a.length-1;p>=0;p--)r.removeAttribute(a[p]);o.length===a.length?r.removeAttribute(us):r.getAttribute(us)!==l.join(",")&&r.setAttribute(us,l.join(","))}},il=function(e,n){var r=document.head||document.querySelector(Xe.HEAD),s=r.querySelectorAll(e+"["+us+"]"),o=Array.prototype.slice.call(s),a=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Dt.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Dt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(us,"true"),o.some(function(p,m){return l=m,u.isEqualNode(p)})?o.splice(l,1):a.push(u)}),o.forEach(function(c){return c.parentNode.removeChild(c)}),a.forEach(function(c){return r.appendChild(c)}),{oldTags:o,newTags:a}},Lk=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},a3=function(e,n,r,s){var o=Lk(r),a=Ok(n);return o?"<"+e+" "+us+'="true" '+o+">"+Q0(a,s)+"</"+e+">":"<"+e+" "+us+'="true">'+Q0(a,s)+"</"+e+">"},l3=function(e,n,r){return n.reduce(function(s,o){var a=Object.keys(o).filter(function(u){return!(u===Dt.INNER_HTML||u===Dt.CSS_TEXT)}).reduce(function(u,d){var f=typeof o[d]>"u"?d:d+'="'+Q0(o[d],r)+'"';return u?u+" "+f:f},""),l=o.innerHTML||o.cssText||"",c=HF.indexOf(e)===-1;return s+"<"+e+" "+us+'="true" '+a+(c?"/>":">"+l+"</"+e+">")},"")},Fk=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[ap[s]||s]=e[s],r},n)},c3=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[WF[s]||s]=e[s],r},n)},u3=function(e,n,r){var s,o=(s={key:n},s[us]=!0,s),a=Fk(r,o);return[Fe.createElement(Xe.TITLE,a,n)]},d3=function(e,n){return n.map(function(r,s){var o,a=(o={key:s},o[us]=!0,o);return Object.keys(r).forEach(function(l){var c=ap[l]||l;if(c===Dt.INNER_HTML||c===Dt.CSS_TEXT){var u=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=r[l]}),Fe.createElement(e,a)})},oo=function(e,n,r){switch(e){case Xe.TITLE:return{toComponent:function(){return u3(e,n.title,n.titleAttributes)},toString:function(){return a3(e,n.title,n.titleAttributes,r)}};case ya.BODY:case ya.HTML:return{toComponent:function(){return Fk(n)},toString:function(){return Lk(n)}};default:return{toComponent:function(){return d3(e,n)},toString:function(){return l3(e,n,r)}}}},Vk=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,o=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,f=e.title,p=f===void 0?"":f,m=e.titleAttributes;return{base:oo(Xe.BASE,n,s),bodyAttributes:oo(ya.BODY,r,s),htmlAttributes:oo(ya.HTML,o,s),link:oo(Xe.LINK,a,s),meta:oo(Xe.META,l,s),noscript:oo(Xe.NOSCRIPT,c,s),script:oo(Xe.SCRIPT,u,s),style:oo(Xe.STYLE,d,s),title:oo(Xe.TITLE,{title:p,titleAttributes:m},s)}},h3=function(e){var n,r;return r=n=function(s){QF(o,s);function o(){return YF(this,o),XF(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!FF(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Xe.SCRIPT:case Xe.NOSCRIPT:return{innerHTML:c};case Xe.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,p=l.nestedChildren;return lr({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[lr({},f,this.mapNestedChildrenToProps(u,p))]),c))},o.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,p=l.newChildProps,m=l.nestedChildren;switch(d.type){case Xe.TITLE:return lr({},f,(c={},c[d.type]=m,c.titleAttributes=lr({},p),c));case Xe.BODY:return lr({},f,{bodyAttributes:lr({},p)});case Xe.HTML:return lr({},f,{htmlAttributes:lr({},p)})}return lr({},f,(u={},u[d.type]=lr({},p),u))},o.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=lr({},c);return Object.keys(l).forEach(function(d){var f;u=lr({},u,(f={},f[d]=l[d],f))}),u},o.prototype.warnOnInvalidChildren=function(l,c){return!0},o.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Fe.Children.forEach(l,function(f){if(!(!f||!f.props)){var p=f.props,m=p.children,y=vS(p,["children"]),x=c3(y);switch(u.warnOnInvalidChildren(f,m),f.type){case Xe.LINK:case Xe.META:case Xe.NOSCRIPT:case Xe.SCRIPT:case Xe.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:x,nestedChildren:m});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:x,nestedChildren:m});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},o.prototype.render=function(){var l=this.props,c=l.children,u=vS(l,["children"]),d=lr({},u);return c&&(d=this.mapChildrenToProps(c,d)),Fe.createElement(e,d)},KF(o,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),o}(Fe.Component),n.propTypes={base:Le.object,bodyAttributes:Le.object,children:Le.oneOfType([Le.arrayOf(Le.node),Le.node]),defaultTitle:Le.string,defer:Le.bool,encodeSpecialCharacters:Le.bool,htmlAttributes:Le.object,link:Le.arrayOf(Le.object),meta:Le.arrayOf(Le.object),noscript:Le.arrayOf(Le.object),onChangeClientState:Le.func,script:Le.arrayOf(Le.object),style:Le.arrayOf(Le.object),title:Le.string,titleAttributes:Le.object,titleTemplate:Le.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=Vk({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},f3=function(){return null},p3=AF(t3,o3,Vk)(f3),J0=h3(p3);J0.renderStatic=J0.rewind;const zk=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),mm=g.createContext({}),gm=g.createContext(null),vm=typeof document<"u",cw=vm?g.useLayoutEffect:g.useEffect,Uk=g.createContext({strict:!1}),uw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),m3="framerAppearId",Bk="data-"+uw(m3);function g3(t,e,n,r){const{visualElement:s}=g.useContext(mm),o=g.useContext(Uk),a=g.useContext(gm),l=g.useContext(zk).reducedMotion,c=g.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;g.useInsertionEffect(()=>{u&&u.update(n,a)});const d=g.useRef(!!(n[Bk]&&!window.HandoffComplete));return cw(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function jl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function v3(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):jl(n)&&(n.current=r))},[e])}function ad(t){return typeof t=="string"||Array.isArray(t)}function xm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const dw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hw=["initial",...dw];function ym(t){return xm(t.animate)||hw.some(e=>ad(t[e]))}function $k(t){return!!(ym(t)||t.variants)}function x3(t,e){if(ym(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ad(n)?n:void 0,animate:ad(r)?r:void 0}}return t.inherit!==!1?e:{}}function y3(t){const{initial:e,animate:n}=x3(t,g.useContext(mm));return g.useMemo(()=>({initial:e,animate:n}),[wS(e),wS(n)])}function wS(t){return Array.isArray(t)?t.join(" "):t}const bS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ld={};for(const t in bS)ld[t]={isEnabled:e=>bS[t].some(n=>!!e[n])};function w3(t){for(const e in t)ld[e]={...ld[e],...t[e]}}const fw=g.createContext({}),qk=g.createContext({}),b3=Symbol.for("motionComponentSymbol");function _3({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&w3(t);function o(l,c){let u;const d={...g.useContext(zk),...l,layoutId:S3(l)},{isStatic:f}=d,p=y3(l),m=r(l,f);if(!f&&vm){p.visualElement=g3(s,m,d,e);const y=g.useContext(qk),x=g.useContext(Uk).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,x,t,y))}return g.createElement(mm.Provider,{value:p},u&&p.visualElement?g.createElement(u,{visualElement:p.visualElement,...d}):null,n(s,l,v3(m,p.visualElement,c),m,f,p.visualElement))}const a=g.forwardRef(o);return a[b3]=s,a}function S3({layoutId:t}){const e=g.useContext(fw).id;return e&&t!==void 0?e+"-"+t:t}function C3(t){function e(r,s={}){return _3(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const E3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pw(t){return typeof t!="string"||t.includes("-")?!1:!!(E3.indexOf(t)>-1||/[A-Z]/.test(t))}const lp={};function T3(t){Object.assign(lp,t)}const Rd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ga=new Set(Rd);function Wk(t,{layout:e,layoutId:n}){return Ga.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lp[t]||t==="opacity")}const xr=t=>!!(t&&t.getVelocity),N3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},j3=Rd.length;function k3(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let a=0;a<j3;a++){const l=Rd[a];if(t[l]!==void 0){const c=N3[l]||l;o+=`${c}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const Hk=t=>e=>typeof e=="string"&&e.startsWith(t),Gk=Hk("--"),ex=Hk("var(--"),P3=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,I3=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ti=(t,e,n)=>Math.min(Math.max(n,t),e),Ya={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ru={...Ya,transform:t=>Ti(0,1,t)},Ah={...Ya,default:1},Du=t=>Math.round(t*1e5)/1e5,wm=/(-)?([\d]*\.?[\d])+/g,Yk=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,A3=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Dd(t){return typeof t=="string"}const Md=t=>({test:e=>Dd(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Go=Md("deg"),Bs=Md("%"),Ue=Md("px"),R3=Md("vh"),D3=Md("vw"),_S={...Bs,parse:t=>Bs.parse(t)/100,transform:t=>Bs.transform(t*100)},SS={...Ya,transform:Math.round},Kk={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,size:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,rotate:Go,rotateX:Go,rotateY:Go,rotateZ:Go,scale:Ah,scaleX:Ah,scaleY:Ah,scaleZ:Ah,skew:Go,skewX:Go,skewY:Go,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Ru,originX:_S,originY:_S,originZ:Ue,zIndex:SS,fillOpacity:Ru,strokeOpacity:Ru,numOctaves:SS};function mw(t,e,n,r){const{style:s,vars:o,transform:a,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const f in e){const p=e[f];if(Gk(f)){o[f]=p;continue}const m=Kk[f],y=I3(p,m);if(Ga.has(f)){if(c=!0,a[f]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=y):s[f]=y}if(e.transform||(c||r?s.transform=k3(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${p} ${m}`}}const gw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Qk(t,e,n){for(const r in e)!xr(e[r])&&!Wk(r,n)&&(t[r]=e[r])}function M3({transformTemplate:t},e,n){return g.useMemo(()=>{const r=gw();return mw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function O3(t,e,n){const r=t.style||{},s={};return Qk(s,r,t),Object.assign(s,M3(t,e,n)),t.transformValues?t.transformValues(s):s}function L3(t,e,n){const r={},s=O3(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const F3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||F3.has(t)}let Xk=t=>!cp(t);function V3(t){t&&(Xk=e=>e.startsWith("on")?!cp(e):t(e))}try{V3(require("@emotion/is-prop-valid").default)}catch{}function z3(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Xk(s)||n===!0&&cp(s)||!e&&!cp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function CS(t,e,n){return typeof t=="string"?t:Ue.transform(e+n*t)}function U3(t,e,n){const r=CS(e,t.x,t.width),s=CS(n,t.y,t.height);return`${r} ${s}`}const B3={offset:"stroke-dashoffset",array:"stroke-dasharray"},$3={offset:"strokeDashoffset",array:"strokeDasharray"};function q3(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?B3:$3;t[o.offset]=Ue.transform(-r);const a=Ue.transform(e),l=Ue.transform(n);t[o.array]=`${a} ${l}`}function vw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f,p){if(mw(t,u,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:x}=t;m.transform&&(x&&(y.transform=m.transform),delete m.transform),x&&(s!==void 0||o!==void 0||y.transform)&&(y.transformOrigin=U3(x,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&q3(m,a,l,c,!1)}const Zk=()=>({...gw(),attrs:{}}),xw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function W3(t,e,n,r){const s=g.useMemo(()=>{const o=Zk();return vw(o,e,{enableHardwareAcceleration:!1},xw(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Qk(o,t.style,t),s.style={...o,...s.style}}return s}function H3(t=!1){return(n,r,s,{latestValues:o},a)=>{const c=(pw(n)?W3:L3)(r,o,a,n),d={...z3(r,typeof n=="string",t),...c,ref:s},{children:f}=r,p=g.useMemo(()=>xr(f)?f.get():f,[f]);return g.createElement(n,{...d,children:p})}}function Jk(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const eP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tP(t,e,n,r){Jk(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(eP.has(s)?s:uw(s),e.attrs[s])}function yw(t,e){const{style:n}=t,r={};for(const s in n)(xr(n[s])||e.style&&xr(e.style[s])||Wk(s,t))&&(r[s]=n[s]);return r}function nP(t,e){const n=yw(t,e);for(const r in t)if(xr(t[r])||xr(e[r])){const s=Rd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function ww(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function rP(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const up=t=>Array.isArray(t),G3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Y3=t=>up(t)?t[t.length-1]||0:t;function yf(t){const e=xr(t)?t.get():t;return G3(e)?e.toValue():e}function K3({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const a={latestValues:Q3(r,s,o,t),renderState:e()};return n&&(a.mount=l=>n(r,l,a)),a}const sP=t=>(e,n)=>{const r=g.useContext(mm),s=g.useContext(gm),o=()=>K3(t,e,r,s);return n?o():rP(o)};function Q3(t,e,n,r){const s={},o=r(t,{});for(const p in o)s[p]=yf(o[p]);let{initial:a,animate:l}=t;const c=ym(t),u=$k(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;return f&&typeof f!="boolean"&&!xm(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=ww(t,m);if(!y)return;const{transitionEnd:x,transition:S,..._}=y;for(const v in _){let w=_[v];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(s[v]=w)}for(const v in x)s[v]=x[v]}),s}const Wt=t=>t;class ES{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function X3(t){let e=new ES,n=new ES,r=0,s=!1,o=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,p=f?e:n;return u&&a.add(c),p.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(c),a.has(d)&&(l.schedule(d),t())}s=!1,o&&(o=!1,l.process(c))}};return l}const Rh=["prepare","read","update","preRender","render","postRender"],Z3=40;function J3(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Rh.reduce((f,p)=>(f[p]=X3(()=>n=!0),f),{}),a=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,Z3),1),s.timestamp=f,s.isProcessing=!0,Rh.forEach(a),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:Rh.reduce((f,p)=>{const m=o[p];return f[p]=(y,x=!1,S=!1)=>(n||c(),m.schedule(y,x,S)),f},{}),cancel:f=>Rh.forEach(p=>o[p].cancel(f)),state:s,steps:o}}const{schedule:Nt,cancel:Eo,state:Vn,steps:ev}=J3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wt,!0),eV={useVisualState:sP({scrapeMotionValuesFromProps:nP,createRenderState:Zk,onMount:(t,e,{renderState:n,latestValues:r})=>{Nt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Nt.render(()=>{vw(n,r,{enableHardwareAcceleration:!1},xw(e.tagName),t.transformTemplate),tP(e,n)})}})},tV={useVisualState:sP({scrapeMotionValuesFromProps:yw,createRenderState:gw})};function nV(t,{forwardMotionProps:e=!1},n,r){return{...pw(t)?eV:tV,preloadedFeatures:n,useRender:H3(e),createVisualElement:r,Component:t}}function ho(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const oP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function bm(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const rV=t=>e=>oP(e)&&t(e,bm(e));function vo(t,e,n,r){return ho(t,e,rV(n),r)}const sV=(t,e)=>n=>e(t(n)),gi=(...t)=>t.reduce(sV);function iP(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const TS=iP("dragHorizontal"),NS=iP("dragVertical");function aP(t){let e=!1;if(t==="y")e=NS();else if(t==="x")e=TS();else{const n=TS(),r=NS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function lP(){const t=aP(!0);return t?(t(),!1):!0}class zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function jS(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(o,a)=>{if(o.pointerType==="touch"||lP())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Nt.update(()=>l[r](o,a))};return vo(t.current,n,s,{passive:!t.getProps()[r]})}class oV extends zi{mount(){this.unmount=gi(jS(this.node,!0),jS(this.node,!1))}unmount(){}}class iV extends zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gi(ho(this.node.current,"focus",()=>this.onFocus()),ho(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const cP=(t,e)=>e?t===e?!0:cP(t,e.parentElement):!1;function tv(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,bm(n))}class aV extends zi{constructor(){super(...arguments),this.removeStartListeners=Wt,this.removeEndListeners=Wt,this.removeAccessibleListeners=Wt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=vo(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Nt.update(()=>{!f&&!cP(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=vo(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=gi(o,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||tv("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Nt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=ho(this.node.current,"keyup",a),tv("down",(l,c)=>{this.startPress(l,c)})},n=ho(this.node.current,"keydown",e),r=()=>{this.isPressing&&tv("cancel",(o,a)=>this.cancelPress(o,a))},s=ho(this.node.current,"blur",r);this.removeAccessibleListeners=gi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Nt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!lP()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Nt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=vo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ho(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=gi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const tx=new WeakMap,nv=new WeakMap,lV=t=>{const e=tx.get(t.target);e&&e(t)},cV=t=>{t.forEach(lV)};function uV({root:t,...e}){const n=t||document;nv.has(n)||nv.set(n,{});const r=nv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(cV,{root:t,...e})),r[s]}function dV(t,e,n){const r=uV(e);return tx.set(t,n),r.observe(t),()=>{tx.delete(t),r.unobserve(t)}}const hV={some:0,all:1};class fV extends zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:hV[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return dV(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pV(e,n))&&this.startObserver()}unmount(){}}function pV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mV={inView:{Feature:fV},tap:{Feature:aV},focus:{Feature:iV},hover:{Feature:oV}};function uP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function gV(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function vV(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function _m(t,e,n){const r=t.getProps();return ww(r,e,n!==void 0?n:r.custom,gV(t),vV(t))}let xV=Wt,bw=Wt;const vi=t=>t*1e3,xo=t=>t/1e3,yV={current:!1},dP=t=>Array.isArray(t)&&typeof t[0]=="number";function hP(t){return!!(!t||typeof t=="string"&&fP[t]||dP(t)||Array.isArray(t)&&t.every(hP))}const gu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,fP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function pP(t){if(t)return dP(t)?gu(t):Array.isArray(t)?t.map(pP):fP[t]}function wV(t,e,n,{delay:r=0,duration:s,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=pP(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function bV(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const mP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_V=1e-7,SV=12;function CV(t,e,n,r,s){let o,a,l=0;do a=e+(n-e)/2,o=mP(a,r,s)-t,o>0?n=a:e=a;while(Math.abs(o)>_V&&++l<SV);return a}function Od(t,e,n,r){if(t===e&&n===r)return Wt;const s=o=>CV(o,0,1,t,n);return o=>o===0||o===1?o:mP(s(o),e,r)}const EV=Od(.42,0,1,1),TV=Od(0,0,.58,1),gP=Od(.42,0,.58,1),NV=t=>Array.isArray(t)&&typeof t[0]!="number",vP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xP=t=>e=>1-t(1-e),_w=t=>1-Math.sin(Math.acos(t)),yP=xP(_w),jV=vP(_w),wP=Od(.33,1.53,.69,.99),Sw=xP(wP),kV=vP(Sw),PV=t=>(t*=2)<1?.5*Sw(t):.5*(2-Math.pow(2,-10*(t-1))),IV={linear:Wt,easeIn:EV,easeInOut:gP,easeOut:TV,circIn:_w,circInOut:jV,circOut:yP,backIn:Sw,backInOut:kV,backOut:wP,anticipate:PV},kS=t=>{if(Array.isArray(t)){bw(t.length===4);const[e,n,r,s]=t;return Od(e,n,r,s)}else if(typeof t=="string")return IV[t];return t},Cw=(t,e)=>n=>!!(Dd(n)&&A3.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),bP=(t,e,n)=>r=>{if(!Dd(r))return r;const[s,o,a,l]=r.match(wm);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},AV=t=>Ti(0,255,t),rv={...Ya,transform:t=>Math.round(AV(t))},ha={test:Cw("rgb","red"),parse:bP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+rv.transform(t)+", "+rv.transform(e)+", "+rv.transform(n)+", "+Du(Ru.transform(r))+")"};function RV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const nx={test:Cw("#"),parse:RV,transform:ha.transform},kl={test:Cw("hsl","hue"),parse:bP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bs.transform(Du(e))+", "+Bs.transform(Du(n))+", "+Du(Ru.transform(r))+")"},Qn={test:t=>ha.test(t)||nx.test(t)||kl.test(t),parse:t=>ha.test(t)?ha.parse(t):kl.test(t)?kl.parse(t):nx.parse(t),transform:t=>Dd(t)?t:t.hasOwnProperty("red")?ha.transform(t):kl.transform(t)},Vt=(t,e,n)=>-n*t+n*e+t;function sv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function DV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,a=0;if(!e)s=o=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=sv(c,l,t+1/3),o=sv(c,l,t),a=sv(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}const ov=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},MV=[nx,ha,kl],OV=t=>MV.find(e=>e.test(t));function PS(t){const e=OV(t);let n=e.parse(t);return e===kl&&(n=DV(n)),n}const _P=(t,e)=>{const n=PS(t),r=PS(e),s={...n};return o=>(s.red=ov(n.red,r.red,o),s.green=ov(n.green,r.green,o),s.blue=ov(n.blue,r.blue,o),s.alpha=Vt(n.alpha,r.alpha,o),ha.transform(s))};function LV(t){var e,n;return isNaN(t)&&Dd(t)&&(((e=t.match(wm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Yk))===null||n===void 0?void 0:n.length)||0)>0}const SP={regex:P3,countKey:"Vars",token:"${v}",parse:Wt},CP={regex:Yk,countKey:"Colors",token:"${c}",parse:Qn.parse},EP={regex:wm,countKey:"Numbers",token:"${n}",parse:Ya.parse};function iv(t,{regex:e,countKey:n,token:r,parse:s}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(s)))}function dp(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&iv(n,SP),iv(n,CP),iv(n,EP),n}function TP(t){return dp(t).values}function NP(t){const{values:e,numColors:n,numVars:r,tokenised:s}=dp(t),o=e.length;return a=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(SP.token,a[c]):c<r+n?l=l.replace(CP.token,Qn.transform(a[c])):l=l.replace(EP.token,Du(a[c]));return l}}const FV=t=>typeof t=="number"?0:t;function VV(t){const e=TP(t);return NP(t)(e.map(FV))}const Ni={test:LV,parse:TP,createTransformer:NP,getAnimatableNone:VV},jP=(t,e)=>n=>`${n>0?e:t}`;function kP(t,e){return typeof t=="number"?n=>Vt(t,e,n):Qn.test(t)?_P(t,e):t.startsWith("var(")?jP(t,e):IP(t,e)}const PP=(t,e)=>{const n=[...t],r=n.length,s=t.map((o,a)=>kP(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}},zV=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=kP(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},IP=(t,e)=>{const n=Ni.createTransformer(e),r=dp(t),s=dp(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?gi(PP(r.values,s.values),n):jP(t,e)},cd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},IS=(t,e)=>n=>Vt(t,e,n);function UV(t){return typeof t=="number"?IS:typeof t=="string"?Qn.test(t)?_P:IP:Array.isArray(t)?PP:typeof t=="object"?zV:IS}function BV(t,e,n){const r=[],s=n||UV(t[0]),o=t.length-1;for(let a=0;a<o;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Wt:e;l=gi(c,l)}r.push(l)}return r}function AP(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(bw(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=BV(e,r,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=cd(t[d],t[d+1],u);return a[d](f)};return n?u=>c(Ti(t[0],t[o-1],u)):c}function $V(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=cd(0,e,r);t.push(Vt(n,1,s))}}function qV(t){const e=[0];return $V(e,t.length-1),e}function WV(t,e){return t.map(n=>n*e)}function HV(t,e){return t.map(()=>e||gP).splice(0,t.length-1)}function hp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=NV(r)?r.map(kS):kS(r),o={done:!1,value:e[0]},a=WV(n&&n.length===e.length?n:qV(e),t),l=AP(a,e,{ease:Array.isArray(s)?s:HV(e,s)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}function RP(t,e){return e?t*(1e3/e):0}const GV=5;function DP(t,e,n){const r=Math.max(e-GV,0);return RP(n-t(r),e-r)}const av=.001,YV=.01,AS=10,KV=.05,QV=1;function XV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o;xV(t<=vi(AS));let a=1-e;a=Ti(KV,QV,a),t=Ti(YV,AS,xo(t)),a<1?(s=u=>{const d=u*a,f=d*t,p=d-n,m=rx(u,a),y=Math.exp(-f);return av-p/m*y},o=u=>{const f=u*a*t,p=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-f),x=rx(Math.pow(u,2),a);return(-s(u)+av>0?-1:1)*((p-m)*y)/x}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-av+d*f},o=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=JV(s,o,l);if(t=vi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const ZV=12;function JV(t,e,n){let r=n;for(let s=1;s<ZV;s++)r=r-t(r)/e(r);return r}function rx(t,e){return t*Math.sqrt(1-e*e)}const e6=["duration","bounce"],t6=["stiffness","damping","mass"];function RS(t,e){return e.some(n=>t[n]!==void 0)}function n6(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!RS(t,t6)&&RS(t,e6)){const n=XV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function MP({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=n6({...r,velocity:-xo(r.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(l*u)),x=o-s,S=xo(Math.sqrt(l/u)),_=Math.abs(x)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let v;if(y<1){const w=rx(S,y);v=j=>{const R=Math.exp(-y*S*j);return o-R*((m+y*S*x)/w*Math.sin(w*j)+x*Math.cos(w*j))}}else if(y===1)v=w=>o-Math.exp(-S*w)*(x+(m+S*x)*w);else{const w=S*Math.sqrt(y*y-1);v=j=>{const R=Math.exp(-y*S*j),L=Math.min(w*j,300);return o-R*((m+y*S*x)*Math.sinh(L)+w*x*Math.cosh(L))/w}}return{calculatedDuration:p&&d||null,next:w=>{const j=v(w);if(p)a.done=w>=d;else{let R=m;w!==0&&(y<1?R=DP(v,w,j):R=0);const L=Math.abs(R)<=n,C=Math.abs(o-j)<=e;a.done=L&&C}return a.value=a.done?o:j,a}}}function DS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=E=>l!==void 0&&E<l||c!==void 0&&E>c,y=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let x=n*e;const S=f+x,_=a===void 0?S:a(S);_!==S&&(x=_-f);const v=E=>-x*Math.exp(-E/r),w=E=>_+v(E),j=E=>{const I=v(E),P=w(E);p.done=Math.abs(I)<=u,p.value=p.done?_:P};let R,L;const C=E=>{m(p.value)&&(R=E,L=MP({keyframes:[p.value,y(p.value)],velocity:DP(w,E,p.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:E=>{let I=!1;return!L&&R===void 0&&(I=!0,j(E),C(E)),R!==void 0&&E>R?L.next(E-R):(!I&&j(E),p)}}}const r6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Nt.update(e,!0),stop:()=>Eo(e),now:()=>Vn.isProcessing?Vn.timestamp:performance.now()}},MS=2e4;function OS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<MS;)e+=n,r=t.next(e);return e>=MS?1/0:e}const s6={decay:DS,inertia:DS,tween:hp,keyframes:hp,spring:MP};function fp({autoplay:t=!0,delay:e=0,driver:n=r6,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,y=!1,x,S;const _=()=>{S=new Promise(K=>{x=K})};_();let v;const w=s6[s]||hp;let j;w!==hp&&typeof r[0]!="number"&&(j=AP([0,100],r,{clamp:!1}),r=[0,100]);const R=w({...p,keyframes:r});let L;l==="mirror"&&(L=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let C="idle",E=null,I=null,P=null;R.calculatedDuration===null&&o&&(R.calculatedDuration=OS(R));const{calculatedDuration:k}=R;let N=1/0,A=1/0;k!==null&&(N=k+a,A=N*(o+1)-a);let V=0;const F=K=>{if(I===null)return;m>0&&(I=Math.min(I,K)),m<0&&(I=Math.min(K-A/m,I)),E!==null?V=E:V=Math.round(K-I)*m;const ue=V-e*(m>=0?1:-1),Se=m>=0?ue<0:ue>A;V=Math.max(ue,0),C==="finished"&&E===null&&(V=A);let we=V,ze=R;if(o){const $e=Math.min(V,A)/N;let W=Math.floor($e),he=$e%1;!he&&$e>=1&&(he=1),he===1&&W--,W=Math.min(W,o+1),!!(W%2)&&(l==="reverse"?(he=1-he,a&&(he-=a/N)):l==="mirror"&&(ze=L)),we=Ti(0,1,he)*N}const Ie=Se?{done:!1,value:r[0]}:ze.next(we);j&&(Ie.value=j(Ie.value));let{done:fe}=Ie;!Se&&k!==null&&(fe=m>=0?V>=A:V<=0);const Oe=E===null&&(C==="finished"||C==="running"&&fe);return f&&f(Ie.value),Oe&&M(),Ie},q=()=>{v&&v.stop(),v=void 0},$=()=>{C="idle",q(),x(),_(),I=P=null},M=()=>{C="finished",d&&d(),q(),x()},U=()=>{if(y)return;v||(v=n(F));const K=v.now();c&&c(),E!==null?I=K-E:(!I||C==="finished")&&(I=K),C==="finished"&&_(),P=I,E=null,C="running",v.start()};t&&U();const Y={then(K,ue){return S.then(K,ue)},get time(){return xo(V)},set time(K){K=vi(K),V=K,E!==null||!v||m===0?E=K:I=v.now()-K/m},get duration(){const K=R.calculatedDuration===null?OS(R):R.calculatedDuration;return xo(K)},get speed(){return m},set speed(K){K===m||!v||(m=K,Y.time=xo(V))},get state(){return C},play:U,pause:()=>{C="paused",E=V},stop:()=>{y=!0,C!=="idle"&&(C="idle",u&&u(),$())},cancel:()=>{P!==null&&F(P),$()},complete:()=>{C="finished"},sample:K=>(I=0,F(K))};return Y}function o6(t){let e;return()=>(e===void 0&&(e=t()),e)}const i6=o6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),a6=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Dh=10,l6=2e4,c6=(t,e)=>e.type==="spring"||t==="backgroundColor"||!hP(e.ease);function u6(t,e,{onUpdate:n,onComplete:r,...s}){if(!(i6()&&a6.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(w=>{l=w})};d();let{keyframes:f,duration:p=300,ease:m,times:y}=s;if(c6(e,s)){const w=fp({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const R=[];let L=0;for(;!j.done&&L<l6;)j=w.sample(L),R.push(j.value),L+=Dh;y=void 0,f=R,p=L-Dh,m="linear"}const x=wV(t.owner.current,e,f,{...s,duration:p,ease:m,times:y}),S=()=>{u=!1,x.cancel()},_=()=>{u=!0,Nt.update(S),l(),d()};return x.onfinish=()=>{u||(t.set(bV(f,s)),r&&r(),_())},{then(w,j){return c.then(w,j)},attachTimeline(w){return x.timeline=w,x.onfinish=null,Wt},get time(){return xo(x.currentTime||0)},set time(w){x.currentTime=vi(w)},get speed(){return x.playbackRate},set speed(w){x.playbackRate=w},get duration(){return xo(p)},play:()=>{a||(x.play(),Eo(S))},pause:()=>x.pause(),stop:()=>{if(a=!0,x.playState==="idle")return;const{currentTime:w}=x;if(w){const j=fp({...s,autoplay:!1});t.setWithVelocity(j.sample(w-Dh).value,j.sample(w).value,Dh)}_()},complete:()=>{u||x.finish()},cancel:_}}function d6({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Wt,pause:Wt,stop:Wt,then:o=>(o(),Promise.resolve()),cancel:Wt,complete:Wt});return e?fp({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const h6={type:"spring",stiffness:500,damping:25,restSpeed:10},f6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p6={type:"keyframes",duration:.8},m6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g6=(t,{keyframes:e})=>e.length>2?p6:Ga.has(t)?t.startsWith("scale")?f6(e[1]):h6:m6,sx=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ni.test(e)||e==="0")&&!e.startsWith("url(")),v6=new Set(["brightness","contrast","saturate","opacity"]);function x6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wm)||[];if(!r)return t;const s=n.replace(r,"");let o=v6.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const y6=/([a-z-]*)\(.*?\)/g,ox={...Ni,getAnimatableNone:t=>{const e=t.match(y6);return e?e.map(x6).join(" "):t}},w6={...Kk,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:ox,WebkitFilter:ox},Ew=t=>w6[t];function OP(t,e){let n=Ew(t);return n!==ox&&(n=Ni),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const LP=t=>/^0[^.\s]+$/.test(t);function b6(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||LP(t)}function _6(t,e,n,r){const s=sx(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=r.from!==void 0?r.from:t.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?a:o[u-1]),b6(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=OP(e,l)}return o}function S6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Tw(t,e){return t[e]||t.default||t}const C6={skipAnimations:!1},Nw=(t,e,n,r={})=>s=>{const o=Tw(r,t)||{},a=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-vi(a);const c=_6(e,t,n,o),u=c[0],d=c[c.length-1],f=sx(t,u),p=sx(t,d);let m={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:y=>{e.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(S6(o)||(m={...m,...g6(t,m)}),m.duration&&(m.duration=vi(m.duration)),m.repeatDelay&&(m.repeatDelay=vi(m.repeatDelay)),!f||!p||yV.current||o.type===!1||C6.skipAnimations)return d6(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=u6(e,t,m);if(y)return y}return fp(m)};function pp(t){return!!(xr(t)&&t.add)}const FP=t=>/^\-?\d*\.?\d+$/.test(t);function jw(t,e){t.indexOf(e)===-1&&t.push(e)}function kw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Pw{constructor(){this.subscriptions=[]}add(e){return jw(this.subscriptions,e),()=>kw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const E6=t=>!isNaN(parseFloat(t));class T6{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:a}=Vn;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,Nt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Nt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=E6(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Pw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?RP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nc(t,e){return new T6(t,e)}const VP=t=>e=>e.test(t),N6={test:t=>t==="auto",parse:t=>t},zP=[Ya,Ue,Bs,Go,D3,R3,N6],ou=t=>zP.find(VP(t)),j6=[...zP,Qn,Ni],k6=t=>j6.find(VP(t));function P6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,nc(n))}function I6(t,e){const n=_m(t,e);let{transitionEnd:r={},transition:s={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){const l=Y3(o[a]);P6(t,a,l)}}function A6(t,e,n){var r,s;const o=Object.keys(e).filter(l=>!t.hasValue(l)),a=o.length;if(a)for(let l=0;l<a;l++){const c=o[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),d!=null&&(typeof d=="string"&&(FP(d)||LP(d))?d=parseFloat(d):!k6(d)&&Ni.test(u)&&(d=OP(c,u)),t.addValue(c,nc(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function R6(t,e){return e?(e[t]||e.default||e).from:void 0}function D6(t,e,n){const r={};for(const s in t){const o=R6(s,e);if(o!==void 0)r[s]=o;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function M6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function O6(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function UP(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const p=t.getValue(f),m=l[f];if(!p||m===void 0||d&&M6(d,f))continue;const y={delay:n,elapsed:0,...Tw(o||{},f)};if(window.HandoffAppearAnimations){const _=t.getProps()[Bk];if(_){const v=window.HandoffAppearAnimations(_,f,p,Nt);v!==null&&(y.elapsed=v,y.isHandoff=!0)}}let x=!y.isHandoff&&!O6(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(x=!1),p.animation&&(x=!1),x)continue;p.start(Nw(f,p,m,t.shouldReduceMotion&&Ga.has(f)?{type:!1}:y));const S=p.animation;pp(c)&&(c.add(f),S.then(()=>c.remove(f))),u.push(S)}return a&&Promise.all(u).then(()=>{a&&I6(t,a)}),u}function ix(t,e,n={}){const r=_m(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(UP(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return L6(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function L6(t,e,n=0,r=0,s=1,o){const a=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(F6).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(ix(u,e,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function F6(t,e){return t.sortNodePosition(e)}function V6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>ix(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=ix(t,e,n);else{const s=typeof e=="function"?_m(t,e,n.custom):e;r=Promise.all(UP(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const z6=[...dw].reverse(),U6=dw.length;function B6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>V6(t,n,r)))}function $6(t){let e=B6(t);const n=W6();let r=!0;const s=(c,u)=>{const d=_m(t,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function o(c){e=c(t)}function a(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},p=[],m=new Set;let y={},x=1/0;for(let _=0;_<U6;_++){const v=z6[_],w=n[v],j=d[v]!==void 0?d[v]:f[v],R=ad(j),L=v===u?w.isActive:null;L===!1&&(x=_);let C=j===f[v]&&j!==d[v]&&R;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...y},!w.isActive&&L===null||!j&&!w.prevProp||xm(j)||typeof j=="boolean")continue;let I=q6(w.prevProp,j)||v===u&&w.isActive&&!C&&R||_>x&&R,P=!1;const k=Array.isArray(j)?j:[j];let N=k.reduce(s,{});L===!1&&(N={});const{prevResolvedValues:A={}}=w,V={...A,...N},F=q=>{I=!0,m.has(q)&&(P=!0,m.delete(q)),w.needsAnimating[q]=!0};for(const q in V){const $=N[q],M=A[q];if(y.hasOwnProperty(q))continue;let U=!1;up($)&&up(M)?U=!uP($,M):U=$!==M,U?$!==void 0?F(q):m.add(q):$!==void 0&&m.has(q)?F(q):w.protectedKeys[q]=!0}w.prevProp=j,w.prevResolvedValues=N,w.isActive&&(y={...y,...N}),r&&t.blockInitialAnimation&&(I=!1),I&&(!C||P)&&p.push(...k.map(q=>({animation:q,options:{type:v,...c}})))}if(m.size){const _={};m.forEach(v=>{const w=t.getBaseTarget(v);w!==void 0&&(_[v]=w)}),p.push({animation:_})}let S=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const p=a(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n}}function q6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uP(e,t):!1}function Ji(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W6(){return{animate:Ji(!0),whileInView:Ji(),whileHover:Ji(),whileTap:Ji(),whileDrag:Ji(),whileFocus:Ji(),exit:Ji()}}class H6 extends zi{constructor(e){super(e),e.animationState||(e.animationState=$6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),xm(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let G6=0;class Y6 extends zi{constructor(){super(...arguments),this.id=G6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const K6={animation:{Feature:H6},exit:{Feature:Y6}},LS=(t,e)=>Math.abs(t-e);function Q6(t,e){const n=LS(t.x,e.x),r=LS(t.y,e.y);return Math.sqrt(n**2+r**2)}class BP{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=cv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Q6(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=f,{timestamp:x}=Vn;this.history.push({...y,timestamp:x});const{onStart:S,onMove:_}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=lv(p,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=cv(f.type==="pointercancel"?this.lastMoveEventInfo:lv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,S),y&&y(f,S)},!oP(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=bm(e),l=lv(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Vn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,cv(l,this.history)),this.removeListeners=gi(vo(this.contextWindow,"pointermove",this.handlePointerMove),vo(this.contextWindow,"pointerup",this.handlePointerUp),vo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Eo(this.updatePoint)}}function lv(t,e){return e?{point:e(t.point)}:t}function FS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cv({point:t},e){return{point:t,delta:FS(t,$P(e)),offset:FS(t,X6(e)),velocity:Z6(e,.1)}}function X6(t){return t[0]}function $P(t){return t[t.length-1]}function Z6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=$P(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>vi(e)));)n--;if(!r)return{x:0,y:0};const o=xo(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Mr(t){return t.max-t.min}function ax(t,e=0,n=.01){return Math.abs(t-e)<=n}function VS(t,e,n,r=.5){t.origin=r,t.originPoint=Vt(e.min,e.max,t.origin),t.scale=Mr(n)/Mr(e),(ax(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Vt(n.min,n.max,t.origin)-t.originPoint,(ax(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Mu(t,e,n,r){VS(t.x,e.x,n.x,r?r.originX:void 0),VS(t.y,e.y,n.y,r?r.originY:void 0)}function zS(t,e,n){t.min=n.min+e.min,t.max=t.min+Mr(e)}function J6(t,e,n){zS(t.x,e.x,n.x),zS(t.y,e.y,n.y)}function US(t,e,n){t.min=e.min-n.min,t.max=t.min+Mr(e)}function Ou(t,e,n){US(t.x,e.x,n.x),US(t.y,e.y,n.y)}function e5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Vt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Vt(n,t,r.max):Math.min(t,n)),t}function BS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function t5(t,{top:e,left:n,bottom:r,right:s}){return{x:BS(t.x,n,s),y:BS(t.y,e,r)}}function $S(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function n5(t,e){return{x:$S(t.x,e.x),y:$S(t.y,e.y)}}function r5(t,e){let n=.5;const r=Mr(t),s=Mr(e);return s>r?n=cd(e.min,e.max-r,t.min):r>s&&(n=cd(t.min,t.max-s,e.min)),Ti(0,1,n)}function s5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lx=.35;function o5(t=lx){return t===!1?t=0:t===!0&&(t=lx),{x:qS(t,"left","right"),y:qS(t,"top","bottom")}}function qS(t,e,n){return{min:WS(t,e),max:WS(t,n)}}function WS(t,e){return typeof t=="number"?t:t[e]||0}const HS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pl=()=>({x:HS(),y:HS()}),GS=()=>({min:0,max:0}),Zt=()=>({x:GS(),y:GS()});function zr(t){return[t("x"),t("y")]}function qP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function i5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function a5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function uv(t){return t===void 0||t===1}function cx({scale:t,scaleX:e,scaleY:n}){return!uv(t)||!uv(e)||!uv(n)}function ra(t){return cx(t)||WP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function WP(t){return YS(t.x)||YS(t.y)}function YS(t){return t&&t!=="0%"}function mp(t,e,n){const r=t-n,s=e*r;return n+s}function KS(t,e,n,r,s){return s!==void 0&&(t=mp(t,s,r)),mp(t,n,r)+e}function ux(t,e=0,n=1,r,s){t.min=KS(t.min,e,n,r,s),t.max=KS(t.max,e,n,r,s)}function HP(t,{x:e,y:n}){ux(t.x,e.translate,e.scale,e.originPoint),ux(t.y,n.translate,n.scale,n.originPoint)}function l5(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,a;for(let l=0;l<s;l++){o=n[l],a=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Il(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,HP(t,a)),r&&ra(o.latestValues)&&Il(t,o.latestValues))}e.x=QS(e.x),e.y=QS(e.y)}function QS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Xo(t,e){t.min=t.min+e,t.max=t.max+e}function XS(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,a=Vt(t.min,t.max,o);ux(t,e[n],e[r],a,e.scale)}const c5=["x","scaleX","originX"],u5=["y","scaleY","originY"];function Il(t,e){XS(t.x,e,c5),XS(t.y,e,u5)}function GP(t,e){return qP(a5(t.getBoundingClientRect(),e))}function d5(t,e,n){const r=GP(t,n),{scroll:s}=e;return s&&(Xo(r.x,s.offset.x),Xo(r.y,s.offset.y)),r}const YP=({current:t})=>t?t.ownerDocument.defaultView:null,h5=new WeakMap;class f5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bm(d,"page").point)},o=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aP(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zr(S=>{let _=this.getAxisMotionValue(S).get()||0;if(Bs.test(_)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[S];w&&(_=Mr(w)*(parseFloat(_)/100))}}this.originPoint[S]=_}),y&&Nt.update(()=>y(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=f;if(m&&this.currentDirection===null){this.currentDirection=p5(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>zr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new BP(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:YP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Nt.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Mh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=e5(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&jl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=t5(s.layoutBox,n):this.constraints=!1,this.elastic=o5(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zr(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=s5(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=d5(r,s.root,this.visualElement.getTransformPagePoint());let a=n5(s.layout.layoutBox,o);if(n){const l=n(i5(a));this.hasMutatedConstraints=!!l,l&&(a=qP(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=zr(d=>{if(!Mh(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Nw(e,r,0,n))}stopAnimation(){zr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zr(n=>{const{drag:r}=this.getProps();if(!Mh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];o.set(e[n]-Vt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zr(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=r5({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zr(a=>{if(!Mh(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Vt(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;h5.set(this.visualElement,this);const e=this.visualElement.current,n=vo(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();jl(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=ho(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(zr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=lx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Mh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function p5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class m5 extends zi{constructor(e){super(e),this.removeGroupControls=Wt,this.removeListeners=Wt,this.controls=new f5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZS=t=>(e,n)=>{t&&Nt.update(()=>t(e,n))};class g5 extends zi{constructor(){super(...arguments),this.removePointerDownListener=Wt}onPointerDown(e){this.session=new BP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ZS(e),onStart:ZS(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&Nt.update(()=>s(o,a))}}}mount(){this.removePointerDownListener=vo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function v5(){const t=g.useContext(gm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=g.useId();return g.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const n=JS(t,e.target.x),r=JS(t,e.target.y);return`${n}% ${r}%`}},x5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ni.parse(t);if(s.length>5)return r;const o=Ni.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=Vt(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),o(s)}};class y5 extends Fe.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;T3(w5),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Nt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KP(t){const[e,n]=v5(),r=g.useContext(fw);return Fe.createElement(y5,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(qk),isPresent:e,safeToRemove:n})}const w5={borderRadius:{...iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iu,borderTopRightRadius:iu,borderBottomLeftRadius:iu,borderBottomRightRadius:iu,boxShadow:x5},QP=["TopLeft","TopRight","BottomLeft","BottomRight"],b5=QP.length,eC=t=>typeof t=="string"?parseFloat(t):t,tC=t=>typeof t=="number"||Ue.test(t);function _5(t,e,n,r,s,o){s?(t.opacity=Vt(0,n.opacity!==void 0?n.opacity:1,S5(r)),t.opacityExit=Vt(e.opacity!==void 0?e.opacity:1,0,C5(r))):o&&(t.opacity=Vt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<b5;a++){const l=`border${QP[a]}Radius`;let c=nC(e,l),u=nC(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||tC(c)===tC(u)?(t[l]=Math.max(Vt(eC(c),eC(u),r),0),(Bs.test(u)||Bs.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Vt(e.rotate||0,n.rotate||0,r))}function nC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const S5=XP(0,.5,yP),C5=XP(.5,.95,Wt);function XP(t,e,n){return r=>r<t?0:r>e?1:n(cd(t,e,r))}function rC(t,e){t.min=e.min,t.max=e.max}function Fr(t,e){rC(t.x,e.x),rC(t.y,e.y)}function sC(t,e,n,r,s){return t-=e,t=mp(t,1/n,r),s!==void 0&&(t=mp(t,1/s,r)),t}function E5(t,e=0,n=1,r=.5,s,o=t,a=t){if(Bs.test(e)&&(e=parseFloat(e),e=Vt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Vt(o.min,o.max,r);t===o&&(l-=e),t.min=sC(t.min,e,n,l,s),t.max=sC(t.max,e,n,l,s)}function oC(t,e,[n,r,s],o,a){E5(t,e[n],e[r],e[s],e.scale,o,a)}const T5=["x","scaleX","originX"],N5=["y","scaleY","originY"];function iC(t,e,n,r){oC(t.x,e,T5,n?n.x:void 0,r?r.x:void 0),oC(t.y,e,N5,n?n.y:void 0,r?r.y:void 0)}function aC(t){return t.translate===0&&t.scale===1}function ZP(t){return aC(t.x)&&aC(t.y)}function j5(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function JP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function lC(t){return Mr(t.x)/Mr(t.y)}class k5{constructor(){this.members=[]}add(e){jw(this.members,e),e.scheduleRender()}remove(e){if(kw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cC(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const P5=(t,e)=>t.depth-e.depth;class I5{constructor(){this.children=[],this.isDirty=!1}add(e){jw(this.children,e),this.isDirty=!0}remove(e){kw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(P5),this.isDirty=!1,this.children.forEach(e)}}function A5(t,e){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Eo(r),t(o-e))};return Nt.read(r,!0),()=>Eo(r)}function R5(t){window.MotionDebug&&window.MotionDebug.record(t)}function D5(t){return t instanceof SVGElement&&t.tagName!=="svg"}function M5(t,e,n){const r=xr(t)?t:nc(t);return r.start(Nw("",r,e,n)),r.animation}const uC=["","X","Y","Z"],O5={visibility:"hidden"},dC=1e3;let L5=0;const sa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function eI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=L5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sa.totalNodes=sa.resolvedTargetDeltas=sa.recalculatedProjection=0,this.nodes.forEach(z5),this.nodes.forEach(W5),this.nodes.forEach(H5),this.nodes.forEach(U5),R5(sa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new I5)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Pw),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=D5(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=A5(p,250),wf.hasAnimatedSinceResize&&(wf.hasAnimatedSinceResize=!1,this.nodes.forEach(fC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||X5,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=d.getProps(),v=!this.targetLayout||!JP(this.targetLayout,y)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const j={...Tw(x,"layout"),onPlay:S,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else p||fC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Eo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G5),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hC);return}this.isUpdating||this.nodes.forEach($5),this.isUpdating=!1,this.nodes.forEach(q5),this.nodes.forEach(F5),this.nodes.forEach(V5),this.clearAllSnapshots();const l=performance.now();Vn.delta=Ti(0,1e3/60,l-Vn.timestamp),Vn.timestamp=l,Vn.isProcessing=!0,ev.update.process(Vn),ev.preRender.process(Vn),ev.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(B5),this.sharedNodes.forEach(Y5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!ZP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||ra(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),Z5(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Zt();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Xo(l.x,c.offset.x),Xo(l.y,c.offset.y)),l}removeElementScroll(a){const l=Zt();Fr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Fr(l,a);const{scroll:p}=this.root;p&&(Xo(l.x,-p.offset.x),Xo(l.y,-p.offset.y))}Xo(l.x,d.offset.x),Xo(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=Zt();Fr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Il(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ra(d.latestValues)&&Il(c,d.latestValues)}return ra(this.latestValues)&&Il(c,this.latestValues),c}removeTransform(a){const l=Zt();Fr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ra(u.latestValues))continue;cx(u.latestValues)&&u.updateSnapshot();const d=Zt(),f=u.measurePageBox();Fr(d,f),iC(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ra(this.latestValues)&&iC(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Ou(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fr(this.target,this.layout.layoutBox),HP(this.target,this.targetDelta)):Fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Ou(this.relativeTargetOrigin,this.target,m.target),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cx(this.parent.latestValues)||WP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Fr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;l5(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=Pl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Pl(),this.projectionDeltaWithTransform=Pl());const x=this.projectionTransform;Mu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=cC(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),sa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Pl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Zt(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,S=this.getStack(),_=!S||S.members.length<=1,v=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(Q5));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const R=j/1e3;pC(f.x,a.x,R),pC(f.y,a.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ou(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),K5(this.relativeTarget,this.relativeTargetOrigin,p,R),w&&j5(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Zt()),Fr(w,this.relativeTarget)),x&&(this.animationValues=d,_5(d,u,this.latestValues,R,v,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Eo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{wf.hasAnimatedSinceResize=!0,this.currentAnimation=M5(0,dC,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&tI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Zt();const f=Mr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const p=Mr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}Fr(l,c),Il(l,d),Mu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new k5),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<uC.length;d++){const f="rotate"+uC[d];c[f]&&(u[f]=c[f],a.setStaticValue(f,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return O5;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=yf(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=yf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ra(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=cC(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in lp){if(p[x]===void 0)continue;const{correct:S,applyTo:_}=lp[x],v=u.transform==="none"?p[x]:S(p[x],f);if(_){const w=_.length;for(let j=0;j<w;j++)u[_[j]]=v}else u[x]=v}return this.options.layoutId&&(u.pointerEvents=f===this?yf(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(hC),this.root.sharedNodes.clear()}}}function F5(t){t.updateLayout()}function V5(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,a=n.source!==t.layout.source;o==="size"?zr(f=>{const p=a?n.measuredBox[f]:n.layoutBox[f],m=Mr(p);p.min=r[f].min,p.max=p.min+m}):tI(o,n.layoutBox,r)&&zr(f=>{const p=a?n.measuredBox[f]:n.layoutBox[f],m=Mr(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const l=Pl();Mu(l,r,n.layoutBox);const c=Pl();a?Mu(c,t.applyTransform(s,!0),n.measuredBox):Mu(c,r,n.layoutBox);const u=!ZP(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=Zt();Ou(y,n.layoutBox,p.layoutBox);const x=Zt();Ou(x,r,m.layoutBox),JP(y,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function z5(t){sa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function U5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function B5(t){t.clearSnapshot()}function hC(t){t.clearMeasurements()}function $5(t){t.isLayoutDirty=!1}function q5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function W5(t){t.resolveTargetDelta()}function H5(t){t.calcProjection()}function G5(t){t.resetRotation()}function Y5(t){t.removeLeadSnapshot()}function pC(t,e,n){t.translate=Vt(e.translate,0,n),t.scale=Vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mC(t,e,n,r){t.min=Vt(e.min,n.min,r),t.max=Vt(e.max,n.max,r)}function K5(t,e,n,r){mC(t.x,e.x,n.x,r),mC(t.y,e.y,n.y,r)}function Q5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const X5={duration:.45,ease:[.4,0,.1,1]},gC=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),vC=gC("applewebkit/")&&!gC("chrome/")?Math.round:Wt;function xC(t){t.min=vC(t.min),t.max=vC(t.max)}function Z5(t){xC(t.x),xC(t.y)}function tI(t,e,n){return t==="position"||t==="preserve-aspect"&&!ax(lC(e),lC(n),.2)}const J5=eI({attachResizeListener:(t,e)=>ho(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dv={current:void 0},nI=eI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dv.current){const t=new J5({});t.mount(window),t.setOptions({layoutScroll:!0}),dv.current=t}return dv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e9={pan:{Feature:g5},drag:{Feature:m5,ProjectionNode:nI,MeasureLayout:KP}},t9=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function n9(t){const e=t9.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function dx(t,e,n=1){const[r,s]=n9(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return FP(a)?parseFloat(a):a}else return ex(s)?dx(s,e,n+1):s}function r9(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const o=s.get();if(!ex(o))return;const a=dx(o,r);a&&s.set(a)});for(const s in e){const o=e[s];if(!ex(o))continue;const a=dx(o,r);a&&(e[s]=a,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:e,transitionEnd:n}}const s9=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rI=t=>s9.has(t),o9=t=>Object.keys(t).some(rI),yC=t=>t===Ya||t===Ue,wC=(t,e)=>parseFloat(t.split(", ")[e]),bC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return wC(s[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?wC(o[1],t):0}},i9=new Set(["x","y","z"]),a9=Rd.filter(t=>!i9.has(t));function l9(t){const e=[];return a9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const rc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bC(4,13),y:bC(5,14)};rc.translateX=rc.x;rc.translateY=rc.y;const c9=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,o=getComputedStyle(s),{display:a}=o,l={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=rc[u](r,o)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=rc[u](c,o)}),t},u9=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(rI);let o=[],a=!1;const l=[];if(s.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],f=ou(d);const p=e[c];let m;if(up(p)){const y=p.length,x=p[0]===null?1:0;d=p[x],f=ou(d);for(let S=x;S<y&&p[S]!==null;S++)m?bw(ou(p[S])===m):m=ou(p[S])}else m=ou(p);if(f!==m)if(yC(f)&&yC(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&m===Ue&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):e[c]=f.transform(p):(a||(o=l9(t),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=c9(e,t,l);return o.length&&o.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),vm&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function d9(t,e,n,r){return o9(e)?u9(t,e,n,r):{target:e,transitionEnd:r}}const h9=(t,e,n,r)=>{const s=r9(t,e,r);return e=s.target,r=s.transitionEnd,d9(t,e,n,r)},hx={current:null},sI={current:!1};function f9(){if(sI.current=!0,!!vm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hx.current=t.matches;t.addListener(e),e()}else hx.current=!1}function p9(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],a=n[s];if(xr(o))t.addValue(s,o),pp(r)&&r.add(s);else if(xr(a))t.addValue(s,nc(o,{owner:t})),pp(r)&&r.remove(s);else if(a!==o)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(s);t.addValue(s,nc(l!==void 0?l:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const _C=new WeakMap,oI=Object.keys(ld),m9=oI.length,SC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],g9=hw.length;class v9{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Nt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=ym(n),this.isVariantNode=$k(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];l[f]!==void 0&&xr(p)&&(p.set(l[f],!1),pp(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,_C.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),sI.current||f9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_C.delete(this.current),this.projection&&this.projection.unmount(),Eo(this.notifyUpdate),Eo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ga.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Nt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,o){let a,l;for(let c=0;c<m9;c++){const u=oI[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=ld[u];p&&(a=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&jl(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:p,layoutRoot:m})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SC.length;r++){const s=SC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=e["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=p9(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<g9;r++){const s=hw[r],o=this.props[s];(ad(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=nc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=ww(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!xr(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Pw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class iI extends v9{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},o){let a=D6(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),o){A6(this,r,a);const l=h9(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function x9(t){return window.getComputedStyle(t)}class y9 extends iI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ga.has(n)){const r=Ew(n);return r&&r.default||0}else{const r=x9(e),s=(Gk(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GP(e,n)}build(e,n,r,s){mw(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return yw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){Jk(e,n,r,s)}}class w9 extends iI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ga.has(n)){const r=Ew(n);return r&&r.default||0}return n=eP.has(n)?n:uw(n),e.getAttribute(n)}measureInstanceViewportBox(){return Zt()}scrapeMotionValuesFromProps(e,n){return nP(e,n)}build(e,n,r,s){vw(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){tP(e,n,r,s)}mount(e){this.isSVGTag=xw(e.tagName),super.mount(e)}}const b9=(t,e)=>pw(t)?new w9(e,{enableHardwareAcceleration:!1}):new y9(e,{enableHardwareAcceleration:!0}),_9={layout:{ProjectionNode:nI,MeasureLayout:KP}},S9={...K6,...mV,...e9,..._9},Te=C3((t,e)=>nV(t,e,S9,b9));function aI(){const t=g.useRef(!1);return cw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function C9(){const t=aI(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>Nt.postRender(r),[r]),e]}class E9 extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T9({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),g.createElement(E9,{isPresent:e,childRef:r,sizeRef:s},g.cloneElement(t,{ref:r}))}const hv=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a})=>{const l=rP(N9),c=g.useId(),u=g.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),o?void 0:[n]);return g.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=g.createElement(T9,{isPresent:n},t)),g.createElement(gm.Provider,{value:u},t)};function N9(){return new Map}function j9(t){return g.useEffect(()=>()=>t(),[])}const oa=t=>t.key||"";function k9(t,e){t.forEach(n=>{const r=oa(n);e.set(r,n)})}function P9(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const gp=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const l=g.useContext(fw).forceRender||C9()[0],c=aI(),u=P9(t);let d=u;const f=g.useRef(new Map).current,p=g.useRef(d),m=g.useRef(new Map).current,y=g.useRef(!0);if(cw(()=>{y.current=!1,k9(u,m),p.current=d}),j9(()=>{y.current=!0,m.clear(),f.clear()}),y.current)return g.createElement(g.Fragment,null,d.map(v=>g.createElement(hv,{key:oa(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:a},v)));d=[...d];const x=p.current.map(oa),S=u.map(oa),_=x.length;for(let v=0;v<_;v++){const w=x[v];S.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return a==="wait"&&f.size&&(d=[]),f.forEach((v,w)=>{if(S.indexOf(w)!==-1)return;const j=m.get(w);if(!j)return;const R=x.indexOf(w);let L=v;if(!L){const C=()=>{f.delete(w);const E=Array.from(m.keys()).filter(I=>!S.includes(I));if(E.forEach(I=>m.delete(I)),p.current=u.filter(I=>{const P=oa(I);return P===w||E.includes(P)}),!f.size){if(c.current===!1)return;l(),r&&r()}};L=g.createElement(hv,{key:oa(j),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:o,mode:a},j),f.set(w,L)}d.splice(R,0,L)}),d=d.map(v=>{const w=v.key;return f.has(w)?v:g.createElement(hv,{key:oa(v),isPresent:!0,presenceAffectsLayout:o,mode:a},v)}),g.createElement(g.Fragment,null,f.size?d:d.map(v=>g.cloneElement(v)))};var I9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const A9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pe=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:l,...c},u)=>g.createElement("svg",{ref:u,...I9,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:`lucide lucide-${A9(t)}`,...c},[...e.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},fx=pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Hr=pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),R9=pe("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),CC=pe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),D9=pe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),M9=pe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),EC=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),O9=pe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),fv=pe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),L9=pe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),F9=pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),$s=pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),pv=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Oh=pe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Os=pe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),vp=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Pa=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),V9=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),lI=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),cI=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),z9=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),U9=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Zo=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Lh=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),px=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),xp=pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),er=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),sc=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ul=pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),B9=pe("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Pr=pe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Iw=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),$9=pe("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),uI=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),q9=pe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),TC=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),dI=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),NC=pe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),W9=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),jC=pe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),mx=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),kC=pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),wa=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),yp=pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),H9=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),G9=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Y9=pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),K9=pe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Q9=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),tr=pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),mv=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),vs=pe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),ba=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),gv=pe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),PC=pe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),$n=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ud=pe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Fh=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),hI=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),fI=pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),$r=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),xi=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oc=pe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),cs=pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),bf=pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),X9=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Bl=pe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),vu=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),IC=pe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),xs=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),fa=pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Jn=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Z9=pe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),Aw=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),J9=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),xu=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ez=pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Gr=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ps=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),tz=pe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),nz=pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),rz=pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ir=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dd=pe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function pI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pI(t))&&(r&&(r+=" "),r+=e);return r}function sz(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=gI(e))&&(r&&(r+=" "),r+=n);return r}function gI(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=gI(t[r]))&&(n&&(n+=" "),n+=e);return n}var Rw="-";function oz(t){var e=az(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(l){var c=l.split(Rw);return c[0]===""&&c.length!==1&&c.shift(),vI(c,e)||iz(l)}function a(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:a}}function vI(t,e){var a;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?vI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var o=t.join(Rw);return(a=e.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:a.classGroupId}}var AC=/^\[(.+)\]$/;function iz(t){if(AC.test(t)){var e=AC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function az(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=cz(Object.entries(t.classGroups),n);return s.forEach(function(o){var a=o[0],l=o[1];gx(l,r,a,e)}),r}function gx(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var o=s===""?e:RC(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(lz(s)){gx(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(a){var l=a[0],c=a[1];gx(c,RC(e,l),n,r)})})}function RC(t,e){var n=t;return e.split(Rw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function lz(t){return t.isThemeGetter}function cz(t,e){return e?t.map(function(n){var r=n[0],s=n[1],o=s.map(function(a){return typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(l){var c=l[0],u=l[1];return[e+c,u]})):a});return[r,o]}):t}function uz(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(o,a){n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(a){var l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set:function(a,l){n.has(a)?n.set(a,l):s(a,l)}}}var xI="!";function dz(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(a){for(var l=[],c=0,u=0,d,f=0;f<a.length;f++){var p=a[f];if(c===0){if(p===r&&(n||a.slice(f,f+s)===e)){l.push(a.slice(u,f)),u=f+s;continue}if(p==="/"){d=f;continue}}p==="["?c++:p==="]"&&c--}var m=l.length===0?a:a.substring(u),y=m.startsWith(xI),x=y?m.substring(1):m,S=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:S}}}function hz(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function fz(t){return{cache:uz(t.cacheSize),splitModifiers:dz(t),...oz(t)}}var pz=/\s+/;function mz(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,o=new Set;return t.trim().split(pz).map(function(a){var l=n(a),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,p=r(f?d.substring(0,f):d),m=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:a};if(p=r(d),!p)return{isTailwindClass:!1,originalClassName:a};m=!1}var y=hz(c).join(":"),x=u?y+xI:y;return{isTailwindClass:!0,modifierId:x,classGroupId:p,originalClassName:a,hasPostfixModifier:m}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var l=a.modifierId,c=a.classGroupId,u=a.hasPostfixModifier,d=l+c;return o.has(d)?!1:(o.add(d),s(c,u).forEach(function(f){return o.add(l+f)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function gz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,o,a=l;function l(u){var d=e[0],f=e.slice(1),p=f.reduce(function(m,y){return y(m)},d());return r=fz(p),s=r.cache.get,o=r.cache.set,a=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=mz(u,r);return o(u,f),f}return function(){return a(sz.apply(null,arguments))}}function Pt(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var yI=/^\[(?:([a-z-]+):)?(.+)\]$/i,vz=/^\d+\/\d+$/,xz=new Set(["px","full","screen"]),yz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bz=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function rs(t){return pa(t)||xz.has(t)||vz.test(t)||vx(t)}function vx(t){return Ka(t,"length",Nz)}function _z(t){return Ka(t,"size",wI)}function Sz(t){return Ka(t,"position",wI)}function Cz(t){return Ka(t,"url",jz)}function Vh(t){return Ka(t,"number",pa)}function pa(t){return!Number.isNaN(Number(t))}function Ez(t){return t.endsWith("%")&&pa(t.slice(0,-1))}function au(t){return DC(t)||Ka(t,"number",DC)}function ct(t){return yI.test(t)}function lu(){return!0}function Bo(t){return yz.test(t)}function Tz(t){return Ka(t,"",kz)}function Ka(t,e,n){var r=yI.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function Nz(t){return wz.test(t)}function wI(){return!1}function jz(t){return t.startsWith("url(")}function DC(t){return Number.isInteger(Number(t))}function kz(t){return bz.test(t)}function Pz(){var t=Pt("colors"),e=Pt("spacing"),n=Pt("blur"),r=Pt("brightness"),s=Pt("borderColor"),o=Pt("borderRadius"),a=Pt("borderSpacing"),l=Pt("borderWidth"),c=Pt("contrast"),u=Pt("grayscale"),d=Pt("hueRotate"),f=Pt("invert"),p=Pt("gap"),m=Pt("gradientColorStops"),y=Pt("gradientColorStopPositions"),x=Pt("inset"),S=Pt("margin"),_=Pt("opacity"),v=Pt("padding"),w=Pt("saturate"),j=Pt("scale"),R=Pt("sepia"),L=Pt("skew"),C=Pt("space"),E=Pt("translate"),I=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",ct,e]},N=function(){return[ct,e]},A=function(){return["",rs]},V=function(){return["auto",pa,ct]},F=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},q=function(){return["solid","dashed","dotted","double","none"]},$=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},M=function(){return["start","end","center","between","around","evenly","stretch"]},U=function(){return["","0",ct]},Y=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},K=function(){return[pa,Vh]},ue=function(){return[pa,ct]};return{cacheSize:500,theme:{colors:[lu],spacing:[rs],blur:["none","",Bo,ct],brightness:K(),borderColor:[t],borderRadius:["none","","full",Bo,ct],borderSpacing:N(),borderWidth:A(),contrast:K(),grayscale:U(),hueRotate:ue(),invert:U(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Ez,vx],inset:k(),margin:k(),opacity:K(),padding:N(),saturate:K(),scale:K(),sepia:U(),skew:ue(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ct]}],container:["container"],columns:[{columns:[Bo]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(F(),[ct])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",au]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ct]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",au]}],"grid-cols":[{"grid-cols":[lu]}],"col-start-end":[{col:["auto",{span:["full",au]},ct]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[lu]}],"row-start-end":[{row:["auto",{span:[au]},ct]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ct]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(M())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(M(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(M(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ct,e]}],"min-w":[{"min-w":["min","max","fit",ct,rs]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Bo]},Bo,ct]}],h:[{h:[ct,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ct,rs]}],"max-h":[{"max-h":[ct,e,"min","max","fit"]}],"font-size":[{text:["base",Bo,vx]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vh]}],"font-family":[{font:[lu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ct]}],"line-clamp":[{"line-clamp":["none",pa,Vh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ct,rs]}],"list-image":[{"list-image":["none",ct]}],"list-style-type":[{list:["none","disc","decimal",ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(q(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",rs]}],"underline-offset":[{"underline-offset":["auto",ct,rs]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(F(),[Sz])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_z]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Cz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat(q(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(q())}],"outline-offset":[{"outline-offset":[ct,rs]}],"outline-w":[{outline:[rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bo,Tz]}],"shadow-color":[{shadow:[lu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":$()}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Bo,ct]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ct]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",ct]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[au,ct]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ct]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[rs,Vh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Iz=gz(Pz);function Ze(...t){return Iz(mI(t))}function MC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bI(...t){return e=>{let n=!1;const r=t.map(s=>{const o=MC(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():MC(t[s],null)}}}}function _t(...t){return g.useCallback(bI(...t),t)}function Ia(t){const e=Rz(t),n=g.forwardRef((r,s)=>{const{children:o,...a}=r,l=g.Children.toArray(o),c=l.find(Mz);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return i.jsx(e,{...a,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return i.jsx(e,{...a,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var Az=Ia("Slot");function Rz(t){const e=g.forwardRef((n,r)=>{const{children:s,...o}=n;if(g.isValidElement(s)){const a=Lz(s),l=Oz(o,s.props);return s.type!==g.Fragment&&(l.ref=r?bI(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _I=Symbol("radix.slottable");function Dz(t){const e=({children:n})=>i.jsx(i.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=_I,e}function Mz(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_I}function Oz(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function Lz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const OC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LC=mI,Sm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return LC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const p=OC(d)||OC(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(y=>{let[x,S]=y;return Array.isArray(S)?S.includes({...o,...l}[x]):{...o,...l}[x]===S})?[...u,f,p]:u},[]);return LC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},Fz=Sm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=Fe.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const a=r?Az:"button";return i.jsx(a,{className:Ze(Fz({variant:e,size:n,className:t})),ref:o,...s})});Q.displayName="Button";function Re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Vz(t,e){const n=g.createContext(e),r=o=>{const{children:a,...l}=o,c=g.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(o){const a=g.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function to(t,e=[]){let n=[];function r(o,a){const l=g.createContext(a),c=n.length;n=[...n,a];const u=f=>{var _;const{scope:p,children:m,...y}=f,x=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,S=g.useMemo(()=>y,Object.values(y));return i.jsx(x.Provider,{value:S,children:m})};u.displayName=o+"Provider";function d(f,p){var x;const m=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,y=g.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,zz(s,...e)]}function zz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Dw(t){const e=t+"CollectionProvider",[n,r]=to(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:S,children:_}=x,v=Fe.useRef(null),w=Fe.useRef(new Map).current;return i.jsx(s,{scope:S,itemMap:w,collectionRef:v,children:_})};a.displayName=e;const l=t+"CollectionSlot",c=Ia(l),u=Fe.forwardRef((x,S)=>{const{scope:_,children:v}=x,w=o(l,_),j=_t(S,w.collectionRef);return i.jsx(c,{ref:j,children:v})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ia(d),m=Fe.forwardRef((x,S)=>{const{scope:_,children:v,...w}=x,j=Fe.useRef(null),R=_t(S,j),L=o(d,_);return Fe.useEffect(()=>(L.itemMap.set(j,{ref:j,...w}),()=>void L.itemMap.delete(j))),i.jsx(p,{[f]:"",ref:R,children:v})});m.displayName=d;function y(x){const S=o(t+"CollectionConsumer",x);return Fe.useCallback(()=>{const v=S.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((L,C)=>w.indexOf(L.ref.current)-w.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},y,r]}var Uz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=Uz.reduce((t,e)=>{const n=Ia(`Primitive.${e}`),r=g.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SI(t,e){t&&Ss.flushSync(()=>t.dispatchEvent(e))}function Zr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Bz(t,e=globalThis==null?void 0:globalThis.document){const n=Zr(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $z="DismissableLayer",xx="dismissableLayer.update",qz="dismissableLayer.pointerDownOutside",Wz="dismissableLayer.focusOutside",FC,CI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=g.useContext(CI),[d,f]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),y=_t(e,C=>f(C)),x=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(S),v=d?x.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=_,R=Gz(C=>{const E=C.target,I=[...u.branches].some(P=>P.contains(E));!j||I||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},p),L=Yz(C=>{const E=C.target;[...u.branches].some(P=>P.contains(E))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},p);return Bz(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(FC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),VC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=FC)}},[d,p,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),VC())},[d,u]),g.useEffect(()=>{const C=()=>m({});return document.addEventListener(xx,C),()=>document.removeEventListener(xx,C)},[]),i.jsx(Qe.div,{...c,ref:y,style:{pointerEvents:w?j?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,R.onPointerDownCapture)})});Cc.displayName=$z;var Hz="DismissableLayerBranch",EI=g.forwardRef((t,e)=>{const n=g.useContext(CI),r=g.useRef(null),s=_t(e,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(Qe.div,{...t,ref:s})});EI.displayName=Hz;function Gz(t,e=globalThis==null?void 0:globalThis.document){const n=Zr(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){TI(qz,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Yz(t,e=globalThis==null?void 0:globalThis.document){const n=Zr(t),r=g.useRef(!1);return g.useEffect(()=>{const s=o=>{o.target&&!r.current&&TI(Wz,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VC(){const t=new CustomEvent(xx);document.dispatchEvent(t)}function TI(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SI(s,o):s.dispatchEvent(o)}var Kz=Cc,Qz=EI,Rn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Xz="Portal",Ld=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,o]=g.useState(!1);Rn(()=>o(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?bF.createPortal(i.jsx(Qe.div,{...r,ref:e}),a):null});Ld.displayName=Xz;function Zz(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Do=t=>{const{present:e,children:n}=t,r=Jz(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=_t(r.ref,eU(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};Do.displayName="Presence";function Jz(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),o=g.useRef("none"),a=t?"mounted":"unmounted",[l,c]=Zz(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=zh(r.current);o.current=l==="mounted"?u:"none"},[l]),Rn(()=>{const u=r.current,d=s.current;if(d!==t){const p=o.current,m=zh(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Rn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const x=zh(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&x&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=m=>{m.target===e&&(o.current=zh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function zh(t){return(t==null?void 0:t.animationName)||"none"}function eU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tU=kN[" useInsertionEffect ".trim().toString()]||Rn;function Aa({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,a]=nU({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=g.useCallback(d=>{var f;if(l){const p=rU(d)?d(t):d;p!==t&&((f=a.current)==null||f.call(a,p))}else o(d)},[l,t,o,a]);return[c,u]}function nU({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),o=g.useRef(e);return tU(()=>{o.current=e},[e]),g.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function rU(t){return typeof t=="function"}var NI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sU="VisuallyHidden",Cm=g.forwardRef((t,e)=>i.jsx(Qe.span,{...t,ref:e,style:{...NI,...t.style}}));Cm.displayName=sU;var oU=Cm,Mw="ToastProvider",[Ow,iU,aU]=Dw("Toast"),[jI,sne]=to("Toast",[aU]),[lU,Em]=jI(Mw),kI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=t,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mw}\`. Expected non-empty \`string\`.`),i.jsx(Ow.Provider,{scope:e,children:i.jsx(lU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:a})})};kI.displayName=Mw;var PI="ToastViewport",cU=["F8"],yx="toast.viewportPause",wx="toast.viewportResume",II=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=cU,label:s="Notifications ({hotkey})",...o}=t,a=Em(PI,n),l=iU(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),p=_t(e,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;g.useEffect(()=>{const S=_=>{var w;r.length!==0&&r.every(j=>_[j]||_.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=c.current,_=f.current;if(y&&S&&_){const v=()=>{if(!a.isClosePausedRef.current){const L=new CustomEvent(yx);_.dispatchEvent(L),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const L=new CustomEvent(wx);_.dispatchEvent(L),a.isClosePausedRef.current=!1}},j=L=>{!S.contains(L.relatedTarget)&&w()},R=()=>{S.contains(document.activeElement)||w()};return S.addEventListener("focusin",v),S.addEventListener("focusout",j),S.addEventListener("pointermove",v),S.addEventListener("pointerleave",R),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{S.removeEventListener("focusin",v),S.removeEventListener("focusout",j),S.removeEventListener("pointermove",v),S.removeEventListener("pointerleave",R),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[y,a.isClosePausedRef]);const x=g.useCallback(({tabbingDirection:S})=>{const v=l().map(w=>{const j=w.ref.current,R=[j,..._U(j)];return S==="forwards"?R:R.reverse()});return(S==="forwards"?v.reverse():v).flat()},[l]);return g.useEffect(()=>{const S=f.current;if(S){const _=v=>{var R,L,C;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const E=document.activeElement,I=v.shiftKey;if(v.target===S&&I){(R=u.current)==null||R.focus();return}const N=x({tabbingDirection:I?"backwards":"forwards"}),A=N.findIndex(V=>V===E);vv(N.slice(A+1))?v.preventDefault():I?(L=u.current)==null||L.focus():(C=d.current)==null||C.focus()}};return S.addEventListener("keydown",_),()=>S.removeEventListener("keydown",_)}},[l,x]),i.jsxs(Qz,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&i.jsx(bx,{ref:u,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});vv(S)}}),i.jsx(Ow.Slot,{scope:n,children:i.jsx(Qe.ol,{tabIndex:-1,...o,ref:p})}),y&&i.jsx(bx,{ref:d,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});vv(S)}})]})});II.displayName=PI;var AI="ToastFocusProxy",bx=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=Em(AI,n);return i.jsx(Cm,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});bx.displayName=AI;var Fd="Toast",uU="toast.swipeStart",dU="toast.swipeMove",hU="toast.swipeCancel",fU="toast.swipeEnd",RI=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...a}=t,[l,c]=Aa({prop:r,defaultProp:s??!0,onChange:o,caller:Fd});return i.jsx(Do,{present:n||l,children:i.jsx(gU,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Zr(t.onPause),onResume:Zr(t.onResume),onSwipeStart:Re(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Re(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Re(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Re(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});RI.displayName=Fd;var[pU,mU]=jI(Fd,{onClose(){}}),gU=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...y}=t,x=Em(Fd,n),[S,_]=g.useState(null),v=_t(e,V=>_(V)),w=g.useRef(null),j=g.useRef(null),R=s||x.duration,L=g.useRef(0),C=g.useRef(R),E=g.useRef(0),{onToastAdd:I,onToastRemove:P}=x,k=Zr(()=>{var F;(S==null?void 0:S.contains(document.activeElement))&&((F=x.viewport)==null||F.focus()),a()}),N=g.useCallback(V=>{!V||V===1/0||(window.clearTimeout(E.current),L.current=new Date().getTime(),E.current=window.setTimeout(k,V))},[k]);g.useEffect(()=>{const V=x.viewport;if(V){const F=()=>{N(C.current),u==null||u()},q=()=>{const $=new Date().getTime()-L.current;C.current=C.current-$,window.clearTimeout(E.current),c==null||c()};return V.addEventListener(yx,q),V.addEventListener(wx,F),()=>{V.removeEventListener(yx,q),V.removeEventListener(wx,F)}}},[x.viewport,R,c,u,N]),g.useEffect(()=>{o&&!x.isClosePausedRef.current&&N(R)},[o,R,x.isClosePausedRef,N]),g.useEffect(()=>(I(),()=>P()),[I,P]);const A=g.useMemo(()=>S?zI(S):null,[S]);return x.viewport?i.jsxs(i.Fragment,{children:[A&&i.jsx(vU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:A}),i.jsx(pU,{scope:n,onClose:k,children:Ss.createPortal(i.jsx(Ow.ItemSlot,{scope:n,children:i.jsx(Kz,{asChild:!0,onEscapeKeyDown:Re(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Qe.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Re(t.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Re(t.onPointerDown,V=>{V.button===0&&(w.current={x:V.clientX,y:V.clientY})}),onPointerMove:Re(t.onPointerMove,V=>{if(!w.current)return;const F=V.clientX-w.current.x,q=V.clientY-w.current.y,$=!!j.current,M=["left","right"].includes(x.swipeDirection),U=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Y=M?U(0,F):0,K=M?0:U(0,q),ue=V.pointerType==="touch"?10:2,Se={x:Y,y:K},we={originalEvent:V,delta:Se};$?(j.current=Se,Uh(dU,f,we,{discrete:!1})):zC(Se,x.swipeDirection,ue)?(j.current=Se,Uh(uU,d,we,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(F)>ue||Math.abs(q)>ue)&&(w.current=null)}),onPointerUp:Re(t.onPointerUp,V=>{const F=j.current,q=V.target;if(q.hasPointerCapture(V.pointerId)&&q.releasePointerCapture(V.pointerId),j.current=null,w.current=null,F){const $=V.currentTarget,M={originalEvent:V,delta:F};zC(F,x.swipeDirection,x.swipeThreshold)?Uh(fU,m,M,{discrete:!0}):Uh(hU,p,M,{discrete:!0}),$.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),vU=t=>{const{__scopeToast:e,children:n,...r}=t,s=Em(Fd,e),[o,a]=g.useState(!1),[l,c]=g.useState(!1);return wU(()=>a(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Ld,{asChild:!0,children:i.jsx(Cm,{...r,children:o&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},xU="ToastTitle",DI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return i.jsx(Qe.div,{...r,ref:e})});DI.displayName=xU;var yU="ToastDescription",MI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return i.jsx(Qe.div,{...r,ref:e})});MI.displayName=yU;var OI="ToastAction",LI=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?i.jsx(VI,{altText:n,asChild:!0,children:i.jsx(Lw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${OI}\`. Expected non-empty \`string\`.`),null)});LI.displayName=OI;var FI="ToastClose",Lw=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=mU(FI,n);return i.jsx(VI,{asChild:!0,children:i.jsx(Qe.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,s.onClose)})})});Lw.displayName=FI;var VI=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return i.jsx(Qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function zI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...zI(r))}}),e}function Uh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SI(s,o):s.dispatchEvent(o)}var zC=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function wU(t=()=>{}){const e=Zr(t);Rn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function bU(t){return t.nodeType===t.ELEMENT_NODE}function _U(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var SU=kI,UI=II,BI=RI,$I=DI,qI=MI,WI=LI,HI=Lw;const CU=SU,GI=Fe.forwardRef(({className:t,...e},n)=>i.jsx(UI,{ref:n,className:Ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));GI.displayName=UI.displayName;const EU=Sm("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),YI=Fe.forwardRef(({className:t,variant:e,...n},r)=>i.jsx(BI,{ref:r,className:Ze(EU({variant:e}),t),...n}));YI.displayName=BI.displayName;const TU=Fe.forwardRef(({className:t,...e},n)=>i.jsx(WI,{ref:n,className:Ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));TU.displayName=WI.displayName;const KI=Fe.forwardRef(({className:t,...e},n)=>i.jsx(HI,{ref:n,className:Ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Ir,{className:"h-4 w-4"})}));KI.displayName=HI.displayName;const QI=Fe.forwardRef(({className:t,...e},n)=>i.jsx($I,{ref:n,className:Ze("text-sm font-semibold",t),...e}));QI.displayName=$I.displayName;const XI=Fe.forwardRef(({className:t,...e},n)=>i.jsx(qI,{ref:n,className:Ze("text-sm opacity-90",t),...e}));XI.displayName=qI.displayName;const NU=5;let xv=0;function jU(){return xv=(xv+1)%Number.MAX_VALUE,xv.toString()}const Xn={state:{toasts:[]},listeners:[],getState:()=>Xn.state,setState:t=>{typeof t=="function"?Xn.state=t(Xn.state):Xn.state={...Xn.state,...t},Xn.listeners.forEach(e=>e(Xn.state))},subscribe:t=>(Xn.listeners.push(t),()=>{Xn.listeners=Xn.listeners.filter(e=>e!==t)})},kU=({...t})=>{const e=jU(),n=s=>Xn.setState(o=>({...o,toasts:o.toasts.map(a=>a.id===e?{...a,...s}:a)})),r=()=>Xn.setState(s=>({...s,toasts:s.toasts.filter(o=>o.id!==e)}));return Xn.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,NU)})),{id:e,dismiss:r,update:n}};function yr(){const[t,e]=g.useState(Xn.getState());return g.useEffect(()=>Xn.subscribe(r=>{e(r)}),[]),g.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||1e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:kU,toasts:t.toasts}}function PU(){const{toasts:t}=yr();return i.jsxs(CU,{children:[t.map(({id:e,title:n,description:r,action:s,...o})=>i.jsxs(YI,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(QI,{children:n}),r&&i.jsx(XI,{children:r})]}),s,i.jsx(KI,{})]},e)),i.jsx(GI,{})]})}var IU=kN[" useId ".trim().toString()]||(()=>{}),AU=0;function yo(t){const[e,n]=g.useState(IU());return Rn(()=>{t||n(r=>r??String(AU++))},[t]),t||(e?`radix-${e}`:"")}const RU=["top","right","bottom","left"],ji=Math.min,Tr=Math.max,wp=Math.round,Bh=Math.floor,qs=t=>({x:t,y:t}),DU={left:"right",right:"left",bottom:"top",top:"bottom"},MU={start:"end",end:"start"};function _x(t,e,n){return Tr(t,ji(e,n))}function To(t,e){return typeof t=="function"?t(e):t}function No(t){return t.split("-")[0]}function Ec(t){return t.split("-")[1]}function Fw(t){return t==="x"?"y":"x"}function Vw(t){return t==="y"?"height":"width"}const OU=new Set(["top","bottom"]);function Vs(t){return OU.has(No(t))?"y":"x"}function zw(t){return Fw(Vs(t))}function LU(t,e,n){n===void 0&&(n=!1);const r=Ec(t),s=zw(t),o=Vw(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=bp(a)),[a,bp(a)]}function FU(t){const e=bp(t);return[Sx(t),e,Sx(e)]}function Sx(t){return t.replace(/start|end/g,e=>MU[e])}const UC=["left","right"],BC=["right","left"],VU=["top","bottom"],zU=["bottom","top"];function UU(t,e,n){switch(t){case"top":case"bottom":return n?e?BC:UC:e?UC:BC;case"left":case"right":return e?VU:zU;default:return[]}}function BU(t,e,n,r){const s=Ec(t);let o=UU(No(t),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(Sx)))),o}function bp(t){return t.replace(/left|right|bottom|top/g,e=>DU[e])}function $U(t){return{top:0,right:0,bottom:0,left:0,...t}}function ZI(t){return typeof t!="number"?$U(t):{top:t,right:t,bottom:t,left:t}}function _p(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function $C(t,e,n){let{reference:r,floating:s}=t;const o=Vs(e),a=zw(e),l=Vw(a),c=No(e),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Ec(e)){case"start":m[a]-=p*(n&&u?-1:1);break;case"end":m[a]+=p*(n&&u?-1:1);break}return m}const qU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=$C(u,r,c),p=r,m={},y=0;for(let x=0;x<l.length;x++){const{name:S,fn:_}=l[x],{x:v,y:w,data:j,reset:R}=await _({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:t,floating:e}});d=v??d,f=w??f,m={...m,[S]:{...m[S],...j}},R&&y<=50&&(y++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(u=R.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:d,y:f}=$C(u,p,c)),x=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function hd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=To(e,t),y=ZI(m),S=l[p?f==="floating"?"reference":"floating":f],_=_p(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},R=_p(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(_.top-R.top+y.top)/j.y,bottom:(R.bottom-_.bottom+y.bottom)/j.y,left:(_.left-R.left+y.left)/j.x,right:(R.right-_.right+y.right)/j.x}}const WU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=To(t,e)||{};if(u==null)return{};const f=ZI(d),p={x:n,y:r},m=zw(s),y=Vw(m),x=await a.getDimensions(u),S=m==="y",_=S?"top":"left",v=S?"bottom":"right",w=S?"clientHeight":"clientWidth",j=o.reference[y]+o.reference[m]-p[m]-o.floating[y],R=p[m]-o.reference[m],L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=L?L[w]:0;(!C||!await(a.isElement==null?void 0:a.isElement(L)))&&(C=l.floating[w]||o.floating[y]);const E=j/2-R/2,I=C/2-x[y]/2-1,P=ji(f[_],I),k=ji(f[v],I),N=P,A=C-x[y]-k,V=C/2-x[y]/2+E,F=_x(N,V,A),q=!c.arrow&&Ec(s)!=null&&V!==F&&o.reference[y]/2-(V<N?P:k)-x[y]/2<0,$=q?V<N?V-N:V-A:0;return{[m]:p[m]+$,data:{[m]:F,centerOffset:V-F-$,...q&&{alignmentOffset:$}},reset:q}}}),HU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...S}=To(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=No(s),v=Vs(l),w=No(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),R=p||(w||!x?[bp(l)]:FU(l)),L=y!=="none";!p&&L&&R.push(...BU(l,x,y,j));const C=[l,...R],E=await hd(e,S),I=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&I.push(E[_]),f){const V=LU(s,a,j);I.push(E[V[0]],E[V[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(V=>V<=0)){var k,N;const V=(((k=o.flip)==null?void 0:k.index)||0)+1,F=C[V];if(F&&(!(f==="alignment"?v!==Vs(F):!1)||P.every(M=>Vs(M.placement)===v?M.overflows[0]>0:!0)))return{data:{index:V,overflows:P},reset:{placement:F}};let q=(N=P.filter($=>$.overflows[0]<=0).sort(($,M)=>$.overflows[1]-M.overflows[1])[0])==null?void 0:N.placement;if(!q)switch(m){case"bestFit":{var A;const $=(A=P.filter(M=>{if(L){const U=Vs(M.placement);return U===v||U==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(U=>U>0).reduce((U,Y)=>U+Y,0)]).sort((M,U)=>M[1]-U[1])[0])==null?void 0:A[0];$&&(q=$);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function qC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function WC(t){return RU.some(e=>t[e]>=0)}const GU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=To(t,e);switch(r){case"referenceHidden":{const o=await hd(e,{...s,elementContext:"reference"}),a=qC(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:WC(a)}}}case"escaped":{const o=await hd(e,{...s,altBoundary:!0}),a=qC(o,n.floating);return{data:{escapedOffsets:a,escaped:WC(a)}}}default:return{}}}}},JI=new Set(["left","top"]);async function YU(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=No(n),l=Ec(n),c=Vs(n)==="y",u=JI.has(a)?-1:1,d=o&&c?-1:1,f=To(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const KU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:a,middlewareData:l}=e,c=await YU(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},QU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:S=>{let{x:_,y:v}=S;return{x:_,y:v}}},...c}=To(t,e),u={x:n,y:r},d=await hd(e,c),f=Vs(No(s)),p=Fw(f);let m=u[p],y=u[f];if(o){const S=p==="y"?"top":"left",_=p==="y"?"bottom":"right",v=m+d[S],w=m-d[_];m=_x(v,m,w)}if(a){const S=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=y+d[S],w=y-d[_];y=_x(v,y,w)}const x=l.fn({...e,[p]:m,[f]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:o,[f]:a}}}}}},XU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=To(t,e),d={x:n,y:r},f=Vs(s),p=Fw(f);let m=d[p],y=d[f];const x=To(l,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const w=p==="y"?"height":"width",j=o.reference[p]-o.floating[w]+S.mainAxis,R=o.reference[p]+o.reference[w]-S.mainAxis;m<j?m=j:m>R&&(m=R)}if(u){var _,v;const w=p==="y"?"width":"height",j=JI.has(No(s)),R=o.reference[f]-o.floating[w]+(j&&((_=a.offset)==null?void 0:_[f])||0)+(j?0:S.crossAxis),L=o.reference[f]+o.reference[w]+(j?0:((v=a.offset)==null?void 0:v[f])||0)-(j?S.crossAxis:0);y<R?y=R:y>L&&(y=L)}return{[p]:m,[f]:y}}}},ZU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:a,elements:l}=e,{apply:c=()=>{},...u}=To(t,e),d=await hd(e,u),f=No(s),p=Ec(s),m=Vs(s)==="y",{width:y,height:x}=o.floating;let S,_;f==="top"||f==="bottom"?(S=f,_=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,S=p==="end"?"top":"bottom");const v=x-d.top-d.bottom,w=y-d.left-d.right,j=ji(x-d[S],v),R=ji(y-d[_],w),L=!e.middlewareData.shift;let C=j,E=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),L&&!p){const P=Tr(d.left,0),k=Tr(d.right,0),N=Tr(d.top,0),A=Tr(d.bottom,0);m?E=y-2*(P!==0||k!==0?P+k:Tr(d.left,d.right)):C=x-2*(N!==0||A!==0?N+A:Tr(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:C});const I=await a.getDimensions(l.floating);return y!==I.width||x!==I.height?{reset:{rects:!0}}:{}}}};function Tm(){return typeof window<"u"}function Tc(t){return eA(t)?(t.nodeName||"").toLowerCase():"#document"}function Ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function no(t){var e;return(e=(eA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function eA(t){return Tm()?t instanceof Node||t instanceof Ar(t).Node:!1}function ys(t){return Tm()?t instanceof Element||t instanceof Ar(t).Element:!1}function Zs(t){return Tm()?t instanceof HTMLElement||t instanceof Ar(t).HTMLElement:!1}function HC(t){return!Tm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ar(t).ShadowRoot}const JU=new Set(["inline","contents"]);function Vd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ws(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!JU.has(s)}const eB=new Set(["table","td","th"]);function tB(t){return eB.has(Tc(t))}const nB=[":popover-open",":modal"];function Nm(t){return nB.some(e=>{try{return t.matches(e)}catch{return!1}})}const rB=["transform","translate","scale","rotate","perspective"],sB=["transform","translate","scale","rotate","perspective","filter"],oB=["paint","layout","strict","content"];function Uw(t){const e=Bw(),n=ys(t)?ws(t):t;return rB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||sB.some(r=>(n.willChange||"").includes(r))||oB.some(r=>(n.contain||"").includes(r))}function iB(t){let e=ki(t);for(;Zs(e)&&!ic(e);){if(Uw(e))return e;if(Nm(e))return null;e=ki(e)}return null}function Bw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const aB=new Set(["html","body","#document"]);function ic(t){return aB.has(Tc(t))}function ws(t){return Ar(t).getComputedStyle(t)}function jm(t){return ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ki(t){if(Tc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||HC(t)&&t.host||no(t);return HC(e)?e.host:e}function tA(t){const e=ki(t);return ic(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zs(e)&&Vd(e)?e:tA(e)}function fd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=tA(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),a=Ar(s);if(o){const l=Cx(a);return e.concat(a,a.visualViewport||[],Vd(s)?s:[],l&&n?fd(l):[])}return e.concat(s,fd(s,[],n))}function Cx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nA(t){const e=ws(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zs(t),o=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=wp(n)!==o||wp(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function $w(t){return ys(t)?t:t.contextElement}function $l(t){const e=$w(t);if(!Zs(e))return qs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=nA(e);let a=(o?wp(n.width):n.width)/r,l=(o?wp(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const lB=qs(0);function rA(t){const e=Ar(t);return!Bw()||!e.visualViewport?lB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ar(t)?!1:e}function Ra(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=$w(t);let a=qs(1);e&&(r?ys(r)&&(a=$l(r)):a=$l(t));const l=cB(o,n,r)?rA(o):qs(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(o){const p=Ar(o),m=r&&ys(r)?Ar(r):r;let y=p,x=Cx(y);for(;x&&r&&m!==y;){const S=$l(x),_=x.getBoundingClientRect(),v=ws(x),w=_.left+(x.clientLeft+parseFloat(v.paddingLeft))*S.x,j=_.top+(x.clientTop+parseFloat(v.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,f*=S.y,c+=w,u+=j,y=Ar(x),x=Cx(y)}}return _p({width:d,height:f,x:c,y:u})}function km(t,e){const n=jm(t).scrollLeft;return e?e.left+n:Ra(no(t)).left+n}function sA(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-km(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function uB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",a=no(r),l=e?Nm(e.floating):!1;if(r===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=qs(1);const d=qs(0),f=Zs(r);if((f||!f&&!o)&&((Tc(r)!=="body"||Vd(a))&&(c=jm(r)),Zs(r))){const m=Ra(r);u=$l(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=a&&!f&&!o?sA(a,c):qs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function dB(t){return Array.from(t.getClientRects())}function hB(t){const e=no(t),n=jm(t),r=t.ownerDocument.body,s=Tr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Tr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+km(t);const l=-n.scrollTop;return ws(r).direction==="rtl"&&(a+=Tr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:l}}const GC=25;function fB(t,e){const n=Ar(t),r=no(t),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const d=Bw();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=km(r);if(u<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-m);y<=GC&&(o-=y)}else u<=GC&&(o+=u);return{width:o,height:a,x:l,y:c}}const pB=new Set(["absolute","fixed"]);function mB(t,e){const n=Ra(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Zs(t)?$l(t):qs(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:a,height:l,x:c,y:u}}function YC(t,e,n){let r;if(e==="viewport")r=fB(t,n);else if(e==="document")r=hB(no(t));else if(ys(e))r=mB(e,n);else{const s=rA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return _p(r)}function oA(t,e){const n=ki(t);return n===e||!ys(n)||ic(n)?!1:ws(n).position==="fixed"||oA(n,e)}function gB(t,e){const n=e.get(t);if(n)return n;let r=fd(t,[],!1).filter(l=>ys(l)&&Tc(l)!=="body"),s=null;const o=ws(t).position==="fixed";let a=o?ki(t):t;for(;ys(a)&&!ic(a);){const l=ws(a),c=Uw(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&pB.has(s.position)||Vd(a)&&!c&&oA(t,a))?r=r.filter(d=>d!==a):s=l,a=ki(a)}return e.set(t,r),r}function vB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Nm(e)?[]:gB(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=YC(e,d,s);return u.top=Tr(f.top,u.top),u.right=ji(f.right,u.right),u.bottom=ji(f.bottom,u.bottom),u.left=Tr(f.left,u.left),u},YC(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xB(t){const{width:e,height:n}=nA(t);return{width:e,height:n}}function yB(t,e,n){const r=Zs(e),s=no(e),o=n==="fixed",a=Ra(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=qs(0);function u(){c.x=km(s)}if(r||!r&&!o)if((Tc(e)!=="body"||Vd(s))&&(l=jm(e)),r){const m=Ra(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?sA(s,l):qs(0),f=a.left+l.scrollLeft-c.x-d.x,p=a.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:a.width,height:a.height}}function yv(t){return ws(t).position==="static"}function KC(t,e){if(!Zs(t)||ws(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return no(t)===n&&(n=n.ownerDocument.body),n}function iA(t,e){const n=Ar(t);if(Nm(t))return n;if(!Zs(t)){let s=ki(t);for(;s&&!ic(s);){if(ys(s)&&!yv(s))return s;s=ki(s)}return n}let r=KC(t,e);for(;r&&tB(r)&&yv(r);)r=KC(r,e);return r&&ic(r)&&yv(r)&&!Uw(r)?n:r||iB(t)||n}const wB=async function(t){const e=this.getOffsetParent||iA,n=this.getDimensions,r=await n(t.floating);return{reference:yB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bB(t){return ws(t).direction==="rtl"}const _B={convertOffsetParentRelativeRectToViewportRelativeRect:uB,getDocumentElement:no,getClippingRect:vB,getOffsetParent:iA,getElementRects:wB,getClientRects:dB,getDimensions:xB,getScale:$l,isElement:ys,isRTL:bB};function aA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SB(t,e){let n=null,r;const s=no(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=u;if(l||e(),!p||!m)return;const y=Bh(f),x=Bh(s.clientWidth-(d+p)),S=Bh(s.clientHeight-(f+m)),_=Bh(d),w={rootMargin:-y+"px "+-x+"px "+-S+"px "+-_+"px",threshold:Tr(0,ji(1,c))||1};let j=!0;function R(L){const C=L[0].intersectionRatio;if(C!==c){if(!j)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!aA(u,t.getBoundingClientRect())&&a(),j=!1}try{n=new IntersectionObserver(R,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,w)}n.observe(t)}return a(!0),o}function CB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=$w(t),d=s||o?[...u?fd(u):[],...fd(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const f=u&&l?SB(u,n):null;let p=-1,m=null;a&&(m=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let y,x=c?Ra(t):null;c&&S();function S(){const _=Ra(t);x&&!aA(x,_)&&n(),x=_,y=requestAnimationFrame(S)}return n(),()=>{var _;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const EB=KU,TB=QU,NB=HU,jB=ZU,kB=GU,QC=WU,PB=XU,IB=(t,e,n)=>{const r=new Map,s={platform:_B,...n},o={...s.platform,_c:r};return qU(t,e,{...s,platform:o})};var AB=typeof document<"u",RB=function(){},_f=AB?g.useLayoutEffect:RB;function Sp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Sp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Sp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function lA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function XC(t,e){const n=lA(t);return Math.round(e*n)/n}function wv(t){const e=g.useRef(t);return _f(()=>{e.current=t}),e}function DB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=g.useState(r);Sp(p,r)||m(r);const[y,x]=g.useState(null),[S,_]=g.useState(null),v=g.useCallback(M=>{M!==L.current&&(L.current=M,x(M))},[]),w=g.useCallback(M=>{M!==C.current&&(C.current=M,_(M))},[]),j=o||y,R=a||S,L=g.useRef(null),C=g.useRef(null),E=g.useRef(d),I=c!=null,P=wv(c),k=wv(s),N=wv(u),A=g.useCallback(()=>{if(!L.current||!C.current)return;const M={placement:e,strategy:n,middleware:p};k.current&&(M.platform=k.current),IB(L.current,C.current,M).then(U=>{const Y={...U,isPositioned:N.current!==!1};V.current&&!Sp(E.current,Y)&&(E.current=Y,Ss.flushSync(()=>{f(Y)}))})},[p,e,n,k,N]);_f(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const V=g.useRef(!1);_f(()=>(V.current=!0,()=>{V.current=!1}),[]),_f(()=>{if(j&&(L.current=j),R&&(C.current=R),j&&R){if(P.current)return P.current(j,R,A);A()}},[j,R,A,P,I]);const F=g.useMemo(()=>({reference:L,floating:C,setReference:v,setFloating:w}),[v,w]),q=g.useMemo(()=>({reference:j,floating:R}),[j,R]),$=g.useMemo(()=>{const M={position:n,left:0,top:0};if(!q.floating)return M;const U=XC(q.floating,d.x),Y=XC(q.floating,d.y);return l?{...M,transform:"translate("+U+"px, "+Y+"px)",...lA(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:Y}},[n,l,q.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:A,refs:F,elements:q,floatingStyles:$}),[d,A,F,q,$])}const MB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?QC({element:r.current,padding:s}).fn(n):{}:r?QC({element:r,padding:s}).fn(n):{}}}},OB=(t,e)=>({...EB(t),options:[t,e]}),LB=(t,e)=>({...TB(t),options:[t,e]}),FB=(t,e)=>({...PB(t),options:[t,e]}),VB=(t,e)=>({...NB(t),options:[t,e]}),zB=(t,e)=>({...jB(t),options:[t,e]}),UB=(t,e)=>({...kB(t),options:[t,e]}),BB=(t,e)=>({...MB(t),options:[t,e]});var $B="Arrow",cA=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return i.jsx(Qe.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});cA.displayName=$B;var qB=cA;function WB(t){const[e,n]=g.useState(void 0);return Rn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var qw="Popper",[uA,Nc]=to(qw),[HB,dA]=uA(qw),hA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return i.jsx(HB,{scope:e,anchor:r,onAnchorChange:s,children:n})};hA.displayName=qw;var fA="PopperAnchor",pA=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=dA(fA,n),a=g.useRef(null),l=_t(e,a),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:i.jsx(Qe.div,{...s,ref:l})});pA.displayName=fA;var Ww="PopperContent",[GB,YB]=uA(Ww),mA=g.forwardRef((t,e)=>{var fe,Oe,$e,W,he,se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:y,...x}=t,S=dA(Ww,n),[_,v]=g.useState(null),w=_t(e,je=>v(je)),[j,R]=g.useState(null),L=WB(j),C=(L==null?void 0:L.width)??0,E=(L==null?void 0:L.height)??0,I=r+(o!=="center"?"-"+o:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],N=k.length>0,A={padding:P,boundary:k.filter(QB),altBoundary:N},{refs:V,floatingStyles:F,placement:q,isPositioned:$,middlewareData:M}=DB({strategy:"fixed",placement:I,whileElementsMounted:(...je)=>CB(...je,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[OB({mainAxis:s+E,alignmentAxis:a}),c&&LB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?FB():void 0,...A}),c&&VB({...A}),zB({...A,apply:({elements:je,rects:qe,availableWidth:lt,availableHeight:B})=>{const{width:ce,height:Ve}=qe.reference,ke=je.floating.style;ke.setProperty("--radix-popper-available-width",`${lt}px`),ke.setProperty("--radix-popper-available-height",`${B}px`),ke.setProperty("--radix-popper-anchor-width",`${ce}px`),ke.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),j&&BB({element:j,padding:l}),XB({arrowWidth:C,arrowHeight:E}),p&&UB({strategy:"referenceHidden",...A})]}),[U,Y]=xA(q),K=Zr(y);Rn(()=>{$&&(K==null||K())},[$,K]);const ue=(fe=M.arrow)==null?void 0:fe.x,Se=(Oe=M.arrow)==null?void 0:Oe.y,we=(($e=M.arrow)==null?void 0:$e.centerOffset)!==0,[ze,Ie]=g.useState();return Rn(()=>{_&&Ie(window.getComputedStyle(_).zIndex)},[_]),i.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:$?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ze,"--radix-popper-transform-origin":[(W=M.transformOrigin)==null?void 0:W.x,(he=M.transformOrigin)==null?void 0:he.y].join(" "),...((se=M.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(GB,{scope:n,placedSide:U,onArrowChange:R,arrowX:ue,arrowY:Se,shouldHideArrow:we,children:i.jsx(Qe.div,{"data-side":U,"data-align":Y,...x,ref:w,style:{...x.style,animation:$?void 0:"none"}})})})});mA.displayName=Ww;var gA="PopperArrow",KB={top:"bottom",right:"left",bottom:"top",left:"right"},vA=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=YB(gA,r),a=KB[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(qB,{...s,ref:n,style:{...s.style,display:"block"}})})});vA.displayName=gA;function QB(t){return t!==null}var XB=t=>({name:"transformOrigin",options:t,fn(e){var S,_,v;const{placement:n,rects:r,middlewareData:s}=e,a=((S=s.arrow)==null?void 0:S.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=xA(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=a?f:`${p}px`,x=`${-c}px`):u==="top"?(y=a?f:`${p}px`,x=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=a?f:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,x=a?f:`${m}px`),{data:{x:y,y:x}}}});function xA(t){const[e,n="center"]=t.split("-");return[e,n]}var yA=hA,Pm=pA,Hw=mA,Gw=vA,[Im,one]=to("Tooltip",[Nc]),Yw=Nc(),ZB="TooltipProvider",ZC="tooltip.open",[ine,wA]=Im(ZB),bA="Tooltip",[ane,Am]=Im(bA),Ex="TooltipTrigger",JB=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Am(Ex,n),o=wA(Ex,n),a=Yw(n),l=g.useRef(null),c=_t(e,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Pm,{asChild:!0,...a,children:i.jsx(Qe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Re(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Re(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Re(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Re(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Re(t.onBlur,s.onClose),onClick:Re(t.onClick,s.onClose)})})});JB.displayName=Ex;var e$="TooltipPortal",[lne,t$]=Im(e$,{forceMount:void 0}),ac="TooltipContent",_A=g.forwardRef((t,e)=>{const n=t$(ac,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,a=Am(ac,t.__scopeTooltip);return i.jsx(Do,{present:r||a.open,children:a.disableHoverableContent?i.jsx(SA,{side:s,...o,ref:e}):i.jsx(n$,{side:s,...o,ref:e})})}),n$=g.forwardRef((t,e)=>{const n=Am(ac,t.__scopeTooltip),r=wA(ac,t.__scopeTooltip),s=g.useRef(null),o=_t(e,s),[a,l]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=g.useCallback(()=>{l(null),f(!1)},[f]),m=g.useCallback((y,x)=>{const S=y.currentTarget,_={x:y.clientX,y:y.clientY},v=a$(_,S.getBoundingClientRect()),w=l$(_,v),j=c$(x.getBoundingClientRect()),R=d$([...w,...j]);l(R),f(!0)},[f]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(c&&d){const y=S=>m(S,d),x=S=>m(S,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,m,p]),g.useEffect(()=>{if(a){const y=x=>{const S=x.target,_={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(S))||(d==null?void 0:d.contains(S)),w=!u$(_,a);v?p():w&&(p(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,a,u,p]),i.jsx(SA,{...t,ref:o})}),[r$,s$]=Im(bA,{isInside:!1}),o$=Dz("TooltipContent"),SA=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=t,c=Am(ac,n),u=Yw(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(ZC,d),()=>document.removeEventListener(ZC,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Cc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(Hw,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(o$,{children:r}),i.jsx(r$,{scope:n,isInside:!0,children:i.jsx(oU,{id:c.contentId,role:"tooltip",children:s||r})})]})})});_A.displayName=ac;var CA="TooltipArrow",i$=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Yw(n);return s$(CA,n).isInside?null:i.jsx(Gw,{...s,...r,ref:e})});i$.displayName=CA;function a$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function l$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function c$(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function u$(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o],c=e[a],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function d$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),h$(e)}function h$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var EA=_A;const f$=Fe.forwardRef(({className:t,sideOffset:e=4,...n},r)=>i.jsx(EA,{ref:r,sideOffset:e,className:Ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));f$.displayName=EA.displayName;var bv="focusScope.autoFocusOnMount",_v="focusScope.autoFocusOnUnmount",JC={bubbles:!1,cancelable:!0},p$="FocusScope",Rm=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[l,c]=g.useState(null),u=Zr(s),d=Zr(o),f=g.useRef(null),p=_t(e,x=>c(x)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let x=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Yo(f.current,{select:!0})},S=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Yo(f.current,{select:!0}))},_=function(w){if(document.activeElement===document.body)for(const R of w)R.removedNodes.length>0&&Yo(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const v=new MutationObserver(_);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),v.disconnect()}}},[r,l,m.paused]),g.useEffect(()=>{if(l){tE.add(m);const x=document.activeElement;if(!l.contains(x)){const _=new CustomEvent(bv,JC);l.addEventListener(bv,u),l.dispatchEvent(_),_.defaultPrevented||(m$(w$(TA(l)),{select:!0}),document.activeElement===x&&Yo(l))}return()=>{l.removeEventListener(bv,u),setTimeout(()=>{const _=new CustomEvent(_v,JC);l.addEventListener(_v,d),l.dispatchEvent(_),_.defaultPrevented||Yo(x??document.body,{select:!0}),l.removeEventListener(_v,d),tE.remove(m)},0)}}},[l,u,d,m]);const y=g.useCallback(x=>{if(!n&&!r||m.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(S&&_){const v=x.currentTarget,[w,j]=g$(v);w&&j?!x.shiftKey&&_===j?(x.preventDefault(),n&&Yo(w,{select:!0})):x.shiftKey&&_===w&&(x.preventDefault(),n&&Yo(j,{select:!0})):_===v&&x.preventDefault()}},[n,r,m.paused]);return i.jsx(Qe.div,{tabIndex:-1,...a,ref:p,onKeyDown:y})});Rm.displayName=p$;function m$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Yo(r,{select:e}),document.activeElement!==n)return}function g$(t){const e=TA(t),n=eE(e,t),r=eE(e.reverse(),t);return[n,r]}function TA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function eE(t,e){for(const n of t)if(!v$(n,{upTo:e}))return n}function v$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function x$(t){return t instanceof HTMLInputElement&&"select"in t}function Yo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&x$(t)&&e&&t.select()}}var tE=y$();function y$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=nE(t,e),t.unshift(e)},remove(e){var n;t=nE(t,e),(n=t[0])==null||n.resume()}}}function nE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function w$(t){return t.filter(e=>e.tagName!=="A")}var Sv=0;function Kw(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??rE()),document.body.insertAdjacentElement("beforeend",t[1]??rE()),Sv++,()=>{Sv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Sv--}},[])}function rE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ls=function(){return Ls=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ls.apply(this,arguments)};function NA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Qa(t,e,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function b$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Sf="right-scroll-bar-position",Cf="width-before-scroll-bar",_$="with-scroll-bars-hidden",S$="--removed-body-scroll-bar-size";function Cv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function C$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var E$=typeof window<"u"?g.useLayoutEffect:g.useEffect,sE=new WeakMap;function T$(t,e){var n=C$(e||null,function(r){return t.forEach(function(s){return Cv(s,r)})});return E$(function(){var r=sE.get(n);if(r){var s=new Set(r),o=new Set(t),a=n.current;s.forEach(function(l){o.has(l)||Cv(l,null)}),o.forEach(function(l){s.has(l)||Cv(l,a)})}sE.set(n,t)},[t]),n}function N$(t){return t}function j$(t,e){e===void 0&&(e=N$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function k$(t){t===void 0&&(t={});var e=j$(null);return e.options=Ls({async:!0,ssr:!1},t),e}var jA=function(t){var e=t.sideCar,n=NA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Ls({},n))};jA.isSideCarExport=!0;function P$(t,e){return t.useMedium(e),jA}var kA=k$(),Ev=function(){},Dm=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Ev,onWheelCapture:Ev,onTouchMoveCapture:Ev}),s=r[0],o=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,y=t.noIsolation,x=t.inert,S=t.allowPinchZoom,_=t.as,v=_===void 0?"div":_,w=t.gapMode,j=NA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,L=T$([n,e]),C=Ls(Ls({},j),s);return g.createElement(g.Fragment,null,d&&g.createElement(R,{sideCar:kA,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:w}),a?g.cloneElement(g.Children.only(l),Ls(Ls({},C),{ref:L})):g.createElement(v,Ls({},C,{className:c,ref:L}),l))});Dm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dm.classNames={fullWidth:Cf,zeroRight:Sf};var oE,I$=function(){if(oE)return oE;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=I$();return e&&t.setAttribute("nonce",e),t}function R$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function D$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var M$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=A$())&&(R$(e,n),D$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},O$=function(){var t=M$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},PA=function(){var t=O$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},L$={left:0,top:0,right:0,gap:0},Tv=function(t){return parseInt(t||"",10)||0},F$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Tv(n),Tv(r),Tv(s)]},V$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return L$;var e=F$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},z$=PA(),ql="data-scroll-locked",U$=function(t,e,n,r){var s=t.left,o=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ql,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Cf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Sf," .").concat(Sf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ql,`] {
    `).concat(S$,": ").concat(l,`px;
  }
`)},iE=function(){var t=parseInt(document.body.getAttribute(ql)||"0",10);return isFinite(t)?t:0},B$=function(){g.useEffect(function(){return document.body.setAttribute(ql,(iE()+1).toString()),function(){var t=iE()-1;t<=0?document.body.removeAttribute(ql):document.body.setAttribute(ql,t.toString())}},[])},$$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;B$();var o=g.useMemo(function(){return V$(s)},[s]);return g.createElement(z$,{styles:U$(o,!e,s,n?"":"!important")})},Tx=!1;if(typeof window<"u")try{var $h=Object.defineProperty({},"passive",{get:function(){return Tx=!0,!0}});window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{Tx=!1}var al=Tx?{passive:!1}:!1,q$=function(t){return t.tagName==="TEXTAREA"},IA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!q$(t)&&n[e]==="visible")},W$=function(t){return IA(t,"overflowY")},H$=function(t){return IA(t,"overflowX")},aE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=AA(t,r);if(s){var o=RA(t,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},G$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Y$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},AA=function(t,e){return t==="v"?W$(e):H$(e)},RA=function(t,e){return t==="v"?G$(e):Y$(e)},K$=function(t,e){return t==="h"&&e==="rtl"?-1:1},Q$=function(t,e,n,r,s){var o=K$(t,window.getComputedStyle(e).direction),a=o*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,p=0;do{if(!l)break;var m=RA(t,l),y=m[0],x=m[1],S=m[2],_=x-S-o*y;(y||_)&&AA(t,l)&&(f+=_,p+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(s&&Math.abs(f)<1||!s&&a>f)||!d&&(s&&Math.abs(p)<1||!s&&-a>p))&&(u=!0),u},qh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lE=function(t){return[t.deltaX,t.deltaY]},cE=function(t){return t&&"current"in t?t.current:t},X$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Z$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J$=0,ll=[];function e8(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(J$++)[0],o=g.useState(PA)[0],a=g.useRef(t);g.useEffect(function(){a.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=b$([t.lockRef.current],(t.shards||[]).map(cE),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var _=qh(x),v=n.current,w="deltaX"in x?x.deltaX:v[0]-_[0],j="deltaY"in x?x.deltaY:v[1]-_[1],R,L=x.target,C=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in x&&C==="h"&&L.type==="range")return!1;var E=aE(C,L);if(!E)return!0;if(E?R=C:(R=C==="v"?"h":"v",E=aE(C,L)),!E)return!1;if(!r.current&&"changedTouches"in x&&(w||j)&&(r.current=R),!R)return!0;var I=r.current||R;return Q$(I,S,x,I==="h"?w:j,!0)},[]),c=g.useCallback(function(x){var S=x;if(!(!ll.length||ll[ll.length-1]!==o)){var _="deltaY"in S?lE(S):qh(S),v=e.current.filter(function(R){return R.name===S.type&&(R.target===S.target||S.target===R.shadowParent)&&X$(R.delta,_)})[0];if(v&&v.should){S.cancelable&&S.preventDefault();return}if(!v){var w=(a.current.shards||[]).map(cE).filter(Boolean).filter(function(R){return R.contains(S.target)}),j=w.length>0?l(S,w[0]):!a.current.noIsolation;j&&S.cancelable&&S.preventDefault()}}},[]),u=g.useCallback(function(x,S,_,v){var w={name:x,delta:S,target:_,should:v,shadowParent:t8(_)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(j){return j!==w})},1)},[]),d=g.useCallback(function(x){n.current=qh(x),r.current=void 0},[]),f=g.useCallback(function(x){u(x.type,lE(x),x.target,l(x,t.lockRef.current))},[]),p=g.useCallback(function(x){u(x.type,qh(x),x.target,l(x,t.lockRef.current))},[]);g.useEffect(function(){return ll.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,al),document.addEventListener("touchmove",c,al),document.addEventListener("touchstart",d,al),function(){ll=ll.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,al),document.removeEventListener("touchmove",c,al),document.removeEventListener("touchstart",d,al)}},[]);var m=t.removeScrollBar,y=t.inert;return g.createElement(g.Fragment,null,y?g.createElement(o,{styles:Z$(s)}):null,m?g.createElement($$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function t8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const n8=P$(kA,e8);var DA=g.forwardRef(function(t,e){return g.createElement(Dm,Ls({},t,{ref:e,sideCar:n8}))});DA.classNames=Dm.classNames;const Qw=DA;var r8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},cl=new WeakMap,Wh=new WeakMap,Hh={},Nv=0,MA=function(t){return t&&(t.host||MA(t.parentNode))},s8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=MA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},o8=function(t,e,n,r){var s=s8(e,Array.isArray(t)?t:[t]);Hh[n]||(Hh[n]=new WeakMap);var o=Hh[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var m=p.getAttribute(r),y=m!==null&&m!=="false",x=(cl.get(p)||0)+1,S=(o.get(p)||0)+1;cl.set(p,x),o.set(p,S),a.push(p),x===1&&y&&Wh.set(p,!0),S===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),l.clear(),Nv++,function(){a.forEach(function(f){var p=cl.get(f)-1,m=o.get(f)-1;cl.set(f,p),o.set(f,m),p||(Wh.has(f)||f.removeAttribute(r),Wh.delete(f)),m||f.removeAttribute(n)}),Nv--,Nv||(cl=new WeakMap,cl=new WeakMap,Wh=new WeakMap,Hh={})}},Xw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||r8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),o8(r,s,n,"aria-hidden")):function(){return null}},Mm="Dialog",[OA,cne]=to(Mm),[i8,Cs]=OA(Mm),LA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=g.useRef(null),c=g.useRef(null),[u,d]=Aa({prop:r,defaultProp:s??!1,onChange:o,caller:Mm});return i.jsx(i8,{scope:e,triggerRef:l,contentRef:c,contentId:yo(),titleId:yo(),descriptionId:yo(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};LA.displayName=Mm;var FA="DialogTrigger",VA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(FA,n),o=_t(e,s.triggerRef);return i.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":eb(s.open),...r,ref:o,onClick:Re(t.onClick,s.onOpenToggle)})});VA.displayName=FA;var Zw="DialogPortal",[a8,zA]=OA(Zw,{forceMount:void 0}),UA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Cs(Zw,e);return i.jsx(a8,{scope:e,forceMount:n,children:g.Children.map(r,a=>i.jsx(Do,{present:n||o.open,children:i.jsx(Ld,{asChild:!0,container:s,children:a})}))})};UA.displayName=Zw;var Cp="DialogOverlay",BA=g.forwardRef((t,e)=>{const n=zA(Cp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Cs(Cp,t.__scopeDialog);return o.modal?i.jsx(Do,{present:r||o.open,children:i.jsx(c8,{...s,ref:e})}):null});BA.displayName=Cp;var l8=Ia("DialogOverlay.RemoveScroll"),c8=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(Cp,n);return i.jsx(Qw,{as:l8,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Qe.div,{"data-state":eb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Da="DialogContent",$A=g.forwardRef((t,e)=>{const n=zA(Da,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Cs(Da,t.__scopeDialog);return i.jsx(Do,{present:r||o.open,children:o.modal?i.jsx(u8,{...s,ref:e}):i.jsx(d8,{...s,ref:e})})});$A.displayName=Da;var u8=g.forwardRef((t,e)=>{const n=Cs(Da,t.__scopeDialog),r=g.useRef(null),s=_t(e,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return Xw(o)},[]),i.jsx(qA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:Re(t.onFocusOutside,o=>o.preventDefault())})}),d8=g.forwardRef((t,e)=>{const n=Cs(Da,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return i.jsx(qA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),qA=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,l=Cs(Da,n),c=g.useRef(null),u=_t(e,c);return Kw(),i.jsxs(i.Fragment,{children:[i.jsx(Rm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Cc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":eb(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(h8,{titleId:l.titleId}),i.jsx(p8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Jw="DialogTitle",WA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(Jw,n);return i.jsx(Qe.h2,{id:s.titleId,...r,ref:e})});WA.displayName=Jw;var HA="DialogDescription",GA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(HA,n);return i.jsx(Qe.p,{id:s.descriptionId,...r,ref:e})});GA.displayName=HA;var YA="DialogClose",KA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cs(YA,n);return i.jsx(Qe.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,()=>s.onOpenChange(!1))})});KA.displayName=YA;function eb(t){return t?"open":"closed"}var QA="DialogTitleWarning",[une,XA]=Vz(QA,{contentName:Da,titleName:Jw,docsSlug:"dialog"}),h8=({titleId:t})=>{const e=XA(QA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},f8="DialogDescriptionWarning",p8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XA(f8).contentName}}.`;return g.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},m8=LA,g8=VA,v8=UA,ZA=BA,JA=$A,e2=WA,t2=GA,x8=KA;const pn=m8,y8=g8,w8=v8,n2=Fe.forwardRef(({className:t,...e},n)=>i.jsx(ZA,{ref:n,className:Ze("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));n2.displayName=ZA.displayName;const en=Fe.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(w8,{children:[i.jsx(n2,{}),i.jsxs(JA,{ref:r,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,i.jsxs(x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Ir,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));en.displayName=JA.displayName;const tn=({className:t,...e})=>i.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});tn.displayName="DialogHeader";const nn=Fe.forwardRef(({className:t,...e},n)=>i.jsx(e2,{ref:n,className:Ze("text-lg font-semibold leading-none tracking-tight",t),...e}));nn.displayName=e2.displayName;const Om=Fe.forwardRef(({className:t,...e},n)=>i.jsx(t2,{ref:n,className:Ze("text-sm text-muted-foreground",t),...e}));Om.displayName=t2.displayName;const me=Fe.forwardRef(({className:t,type:e,...n},r)=>i.jsx("input",{type:e,className:Ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));me.displayName="Input";var b8="Label",r2=g.forwardRef((t,e)=>i.jsx(Qe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));r2.displayName=b8;var s2=r2;const _8=Sm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),X=Fe.forwardRef(({className:t,...e},n)=>i.jsx(s2,{ref:n,className:Ze(_8(),t),...e}));X.displayName=s2.displayName;const pd=Fe.forwardRef(({className:t,...e},n)=>i.jsx("textarea",{className:Ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));pd.displayName="Textarea";function uE(t,[e,n]){return Math.min(n,Math.max(e,t))}var S8=g.createContext(void 0);function tb(t){const e=g.useContext(S8);return t||e||"ltr"}function C8(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var E8=[" ","Enter","ArrowUp","ArrowDown"],T8=[" ","Enter"],Ma="Select",[Lm,Fm,N8]=Dw(Ma),[jc,dne]=to(Ma,[N8,Nc]),Vm=Nc(),[j8,Ui]=jc(Ma),[k8,P8]=jc(Ma),o2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:m,form:y}=t,x=Vm(e),[S,_]=g.useState(null),[v,w]=g.useState(null),[j,R]=g.useState(!1),L=tb(u),[C,E]=Aa({prop:r,defaultProp:s??!1,onChange:o,caller:Ma}),[I,P]=Aa({prop:a,defaultProp:l,onChange:c,caller:Ma}),k=g.useRef(null),N=S?y||!!S.closest("form"):!0,[A,V]=g.useState(new Set),F=Array.from(A).map(q=>q.props.value).join(";");return i.jsx(yA,{...x,children:i.jsxs(j8,{required:m,scope:e,trigger:S,onTriggerChange:_,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:R,contentId:yo(),value:I,onValueChange:P,open:C,onOpenChange:E,dir:L,triggerPointerDownPosRef:k,disabled:p,children:[i.jsx(Lm.Provider,{scope:e,children:i.jsx(k8,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(q=>{V($=>new Set($).add(q))},[]),onNativeOptionRemove:g.useCallback(q=>{V($=>{const M=new Set($);return M.delete(q),M})},[]),children:n})}),N?i.jsxs(k2,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:q=>P(q.target.value),disabled:p,form:y,children:[I===void 0?i.jsx("option",{value:""}):null,Array.from(A)]},F):null]})})};o2.displayName=Ma;var i2="SelectTrigger",a2=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Vm(n),a=Ui(i2,n),l=a.disabled||r,c=_t(e,a.onTriggerChange),u=Fm(n),d=g.useRef("touch"),[f,p,m]=I2(x=>{const S=u().filter(w=>!w.disabled),_=S.find(w=>w.value===a.value),v=A2(S,x,_);v!==void 0&&a.onValueChange(v.value)}),y=x=>{l||(a.onOpenChange(!0),m()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return i.jsx(Pm,{asChild:!0,...o,children:i.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":P2(a.value)?"":void 0,...s,ref:c,onClick:Re(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:Re(s.onPointerDown,x=>{d.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Re(s.onKeyDown,x=>{const S=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(S&&x.key===" ")&&E8.includes(x.key)&&(y(),x.preventDefault())})})})});a2.displayName=i2;var l2="SelectValue",c2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...l}=t,c=Ui(l2,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=_t(e,c.onValueNodeChange);return Rn(()=>{u(d)},[u,d]),i.jsx(Qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:P2(c.value)?i.jsx(i.Fragment,{children:a}):o})});c2.displayName=l2;var I8="SelectIcon",u2=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return i.jsx(Qe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});u2.displayName=I8;var A8="SelectPortal",d2=t=>i.jsx(Ld,{asChild:!0,...t});d2.displayName=A8;var Oa="SelectContent",h2=g.forwardRef((t,e)=>{const n=Ui(Oa,t.__scopeSelect),[r,s]=g.useState();if(Rn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Ss.createPortal(i.jsx(f2,{scope:t.__scopeSelect,children:i.jsx(Lm.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),o):null}return i.jsx(p2,{...t,ref:e})});h2.displayName=Oa;var os=10,[f2,Bi]=jc(Oa),R8="SelectContentImpl",D8=Ia("SelectContent.RemoveScroll"),p2=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:S,..._}=t,v=Ui(Oa,n),[w,j]=g.useState(null),[R,L]=g.useState(null),C=_t(e,fe=>j(fe)),[E,I]=g.useState(null),[P,k]=g.useState(null),N=Fm(n),[A,V]=g.useState(!1),F=g.useRef(!1);g.useEffect(()=>{if(w)return Xw(w)},[w]),Kw();const q=g.useCallback(fe=>{const[Oe,...$e]=N().map(se=>se.ref.current),[W]=$e.slice(-1),he=document.activeElement;for(const se of fe)if(se===he||(se==null||se.scrollIntoView({block:"nearest"}),se===Oe&&R&&(R.scrollTop=0),se===W&&R&&(R.scrollTop=R.scrollHeight),se==null||se.focus(),document.activeElement!==he))return},[N,R]),$=g.useCallback(()=>q([E,w]),[q,E,w]);g.useEffect(()=>{A&&$()},[A,$]);const{onOpenChange:M,triggerPointerDownPosRef:U}=v;g.useEffect(()=>{if(w){let fe={x:0,y:0};const Oe=W=>{var he,se;fe={x:Math.abs(Math.round(W.pageX)-(((he=U.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(W.pageY)-(((se=U.current)==null?void 0:se.y)??0))}},$e=W=>{fe.x<=10&&fe.y<=10?W.preventDefault():w.contains(W.target)||M(!1),document.removeEventListener("pointermove",Oe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",$e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",$e,{capture:!0})}}},[w,M,U]),g.useEffect(()=>{const fe=()=>M(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[M]);const[Y,K]=I2(fe=>{const Oe=N().filter(he=>!he.disabled),$e=Oe.find(he=>he.ref.current===document.activeElement),W=A2(Oe,fe,$e);W&&setTimeout(()=>W.ref.current.focus())}),ue=g.useCallback((fe,Oe,$e)=>{const W=!F.current&&!$e;(v.value!==void 0&&v.value===Oe||W)&&(I(fe),W&&(F.current=!0))},[v.value]),Se=g.useCallback(()=>w==null?void 0:w.focus(),[w]),we=g.useCallback((fe,Oe,$e)=>{const W=!F.current&&!$e;(v.value!==void 0&&v.value===Oe||W)&&k(fe)},[v.value]),ze=r==="popper"?Nx:m2,Ie=ze===Nx?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:S}:{};return i.jsx(f2,{scope:n,content:w,viewport:R,onViewportChange:L,itemRefCallback:ue,selectedItem:E,onItemLeave:Se,itemTextRefCallback:we,focusSelectedItem:$,selectedItemText:P,position:r,isPositioned:A,searchRef:Y,children:i.jsx(Qw,{as:D8,allowPinchZoom:!0,children:i.jsx(Rm,{asChild:!0,trapped:v.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:Re(s,fe=>{var Oe;(Oe=v.trigger)==null||Oe.focus({preventScroll:!0}),fe.preventDefault()}),children:i.jsx(Cc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(ze,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:fe=>fe.preventDefault(),..._,...Ie,onPlaced:()=>V(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Re(_.onKeyDown,fe=>{const Oe=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!Oe&&fe.key.length===1&&K(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let W=N().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const he=fe.target,se=W.indexOf(he);W=W.slice(se+1)}setTimeout(()=>q(W)),fe.preventDefault()}})})})})})})});p2.displayName=R8;var M8="SelectItemAlignedPosition",m2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Ui(Oa,n),a=Bi(Oa,n),[l,c]=g.useState(null),[u,d]=g.useState(null),f=_t(e,C=>d(C)),p=Fm(n),m=g.useRef(!1),y=g.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:_,focusSelectedItem:v}=a,w=g.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&S&&_){const C=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),P=_.getBoundingClientRect();if(o.dir!=="rtl"){const he=P.left-E.left,se=I.left-he,je=C.left-se,qe=C.width+je,lt=Math.max(qe,E.width),B=window.innerWidth-os,ce=uE(se,[os,Math.max(os,B-lt)]);l.style.minWidth=qe+"px",l.style.left=ce+"px"}else{const he=E.right-P.right,se=window.innerWidth-I.right-he,je=window.innerWidth-C.right-se,qe=C.width+je,lt=Math.max(qe,E.width),B=window.innerWidth-os,ce=uE(se,[os,Math.max(os,B-lt)]);l.style.minWidth=qe+"px",l.style.right=ce+"px"}const k=p(),N=window.innerHeight-os*2,A=x.scrollHeight,V=window.getComputedStyle(u),F=parseInt(V.borderTopWidth,10),q=parseInt(V.paddingTop,10),$=parseInt(V.borderBottomWidth,10),M=parseInt(V.paddingBottom,10),U=F+q+A+M+$,Y=Math.min(S.offsetHeight*5,U),K=window.getComputedStyle(x),ue=parseInt(K.paddingTop,10),Se=parseInt(K.paddingBottom,10),we=C.top+C.height/2-os,ze=N-we,Ie=S.offsetHeight/2,fe=S.offsetTop+Ie,Oe=F+q+fe,$e=U-Oe;if(Oe<=we){const he=k.length>0&&S===k[k.length-1].ref.current;l.style.bottom="0px";const se=u.clientHeight-x.offsetTop-x.offsetHeight,je=Math.max(ze,Ie+(he?Se:0)+se+$),qe=Oe+je;l.style.height=qe+"px"}else{const he=k.length>0&&S===k[0].ref.current;l.style.top="0px";const je=Math.max(we,F+x.offsetTop+(he?ue:0)+Ie)+$e;l.style.height=je+"px",x.scrollTop=Oe-we+x.offsetTop}l.style.margin=`${os}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,l,u,x,S,_,o.dir,r]);Rn(()=>w(),[w]);const[j,R]=g.useState();Rn(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const L=g.useCallback(C=>{C&&y.current===!0&&(w(),v==null||v(),y.current=!1)},[w,v]);return i.jsx(L8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:L,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(Qe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});m2.displayName=M8;var O8="SelectPopperPosition",Nx=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=os,...o}=t,a=Vm(n);return i.jsx(Hw,{...a,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Nx.displayName=O8;var[L8,nb]=jc(Oa,{}),jx="SelectViewport",g2=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Bi(jx,n),a=nb(jx,n),l=_t(e,o.onViewportChange),c=g.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Lm.Slot,{scope:n,children:i.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Re(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-os*2,x=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),_=Math.max(x,S);if(_<y){const v=_+m,w=Math.min(y,v),j=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});g2.displayName=jx;var v2="SelectGroup",[F8,V8]=jc(v2),z8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=yo();return i.jsx(F8,{scope:n,id:s,children:i.jsx(Qe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});z8.displayName=v2;var x2="SelectLabel",y2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=V8(x2,n);return i.jsx(Qe.div,{id:s.id,...r,ref:e})});y2.displayName=x2;var Ep="SelectItem",[U8,w2]=jc(Ep),b2=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=t,l=Ui(Ep,n),c=Bi(Ep,n),u=l.value===r,[d,f]=g.useState(o??""),[p,m]=g.useState(!1),y=_t(e,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,r,s)}),x=yo(),S=g.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(U8,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:g.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(Lm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(Qe.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:Re(a.onFocus,()=>m(!0)),onBlur:Re(a.onBlur,()=>m(!1)),onClick:Re(a.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:Re(a.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:Re(a.onPointerDown,v=>{S.current=v.pointerType}),onPointerMove:Re(a.onPointerMove,v=>{var w;S.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):S.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(a.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Re(a.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(T8.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});b2.displayName=Ep;var yu="SelectItemText",_2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,a=Ui(yu,n),l=Bi(yu,n),c=w2(yu,n),u=P8(yu,n),[d,f]=g.useState(null),p=_t(e,_=>f(_),c.onItemTextChange,_=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,_,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=g.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=u;return Rn(()=>(x(y),()=>S(y)),[x,S,y]),i.jsxs(i.Fragment,{children:[i.jsx(Qe.span,{id:c.textId,...o,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ss.createPortal(o.children,a.valueNode):null]})});_2.displayName=yu;var S2="SelectItemIndicator",C2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return w2(S2,n).isSelected?i.jsx(Qe.span,{"aria-hidden":!0,...r,ref:e}):null});C2.displayName=S2;var kx="SelectScrollUpButton",E2=g.forwardRef((t,e)=>{const n=Bi(kx,t.__scopeSelect),r=nb(kx,t.__scopeSelect),[s,o]=g.useState(!1),a=_t(e,r.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(N2,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});E2.displayName=kx;var Px="SelectScrollDownButton",T2=g.forwardRef((t,e)=>{const n=Bi(Px,t.__scopeSelect),r=nb(Px,t.__scopeSelect),[s,o]=g.useState(!1),a=_t(e,r.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(N2,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});T2.displayName=Px;var N2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Bi("SelectScrollButton",n),a=g.useRef(null),l=Fm(n),c=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Rn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Qe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Re(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Re(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Re(s.onPointerLeave,()=>{c()})})}),B8="SelectSeparator",j2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return i.jsx(Qe.div,{"aria-hidden":!0,...r,ref:e})});j2.displayName=B8;var Ix="SelectArrow",$8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Vm(n),o=Ui(Ix,n),a=Bi(Ix,n);return o.open&&a.position==="popper"?i.jsx(Gw,{...s,...r,ref:e}):null});$8.displayName=Ix;var q8="SelectBubbleInput",k2=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),o=_t(r,s),a=C8(e);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),i.jsx(Qe.select,{...n,style:{...NI,...n.style},ref:o,defaultValue:e})});k2.displayName=q8;function P2(t){return t===""||t===void 0}function I2(t){const e=Zr(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function A2(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=W8(t,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function W8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var H8=o2,R2=a2,G8=c2,Y8=u2,K8=d2,D2=h2,Q8=g2,M2=y2,O2=b2,X8=_2,Z8=C2,L2=E2,F2=T2,V2=j2;const dt=H8,ht=G8,ot=Fe.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(R2,{ref:r,className:Ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,i.jsx(Y8,{asChild:!0,children:i.jsx(lI,{className:"h-4 w-4 opacity-50"})})]}));ot.displayName=R2.displayName;const z2=Fe.forwardRef(({className:t,...e},n)=>i.jsx(L2,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(U9,{className:"h-4 w-4"})}));z2.displayName=L2.displayName;const U2=Fe.forwardRef(({className:t,...e},n)=>i.jsx(F2,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(lI,{className:"h-4 w-4"})}));U2.displayName=F2.displayName;const it=Fe.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>i.jsx(K8,{children:i.jsxs(D2,{ref:s,className:Ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[i.jsx(z2,{}),i.jsx(Q8,{className:Ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(U2,{})]})}));it.displayName=D2.displayName;const J8=Fe.forwardRef(({className:t,...e},n)=>i.jsx(M2,{ref:n,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));J8.displayName=M2.displayName;const oe=Fe.forwardRef(({className:t,children:e,...n},r)=>i.jsxs(O2,{ref:r,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Z8,{children:i.jsx(V9,{className:"h-4 w-4"})})}),i.jsx(X8,{children:e})]}));oe.displayName=O2.displayName;const e7=Fe.forwardRef(({className:t,...e},n)=>i.jsx(V2,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",t),...e}));e7.displayName=V2.displayName;const t7=Sm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function dr({className:t,variant:e,...n}){return i.jsx("div",{className:Ze(t7({variant:e}),t),...n})}const un=Fe.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ze("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));un.displayName="Card";const bn=Fe.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ze("flex flex-col space-y-1.5 p-6",t),...e}));bn.displayName="CardHeader";const _n=Fe.forwardRef(({className:t,...e},n)=>i.jsx("h3",{ref:n,className:Ze("text-2xl font-semibold leading-none tracking-tight",t),...e}));_n.displayName="CardTitle";const ma=Fe.forwardRef(({className:t,...e},n)=>i.jsx("p",{ref:n,className:Ze("text-sm text-muted-foreground",t),...e}));ma.displayName="CardDescription";const dn=Fe.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ze("p-6 pt-0",t),...e}));dn.displayName="CardContent";const n7=Fe.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:Ze("flex items-center p-6 pt-0",t),...e}));n7.displayName="CardFooter";var jv="rovingFocusGroup.onEntryFocus",r7={bubbles:!1,cancelable:!0},zd="RovingFocusGroup",[Ax,B2,s7]=Dw(zd),[o7,$2]=to(zd,[s7]),[i7,a7]=o7(zd),q2=g.forwardRef((t,e)=>i.jsx(Ax.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Ax.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(l7,{...t,ref:e})})}));q2.displayName=zd;var l7=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=g.useRef(null),m=_t(e,p),y=tb(o),[x,S]=Aa({prop:a,defaultProp:l??null,onChange:c,caller:zd}),[_,v]=g.useState(!1),w=Zr(u),j=B2(n),R=g.useRef(!1),[L,C]=g.useState(0);return g.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(jv,w),()=>E.removeEventListener(jv,w)},[w]),i.jsx(i7,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:x,onItemFocus:g.useCallback(E=>S(E),[S]),onItemShiftTab:g.useCallback(()=>v(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:g.useCallback(()=>C(E=>E-1),[]),children:i.jsx(Qe.div,{tabIndex:_||L===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Re(t.onMouseDown,()=>{R.current=!0}),onFocus:Re(t.onFocus,E=>{const I=!R.current;if(E.target===E.currentTarget&&I&&!_){const P=new CustomEvent(jv,r7);if(E.currentTarget.dispatchEvent(P),!P.defaultPrevented){const k=j().filter(q=>q.focusable),N=k.find(q=>q.active),A=k.find(q=>q.id===x),F=[N,A,...k].filter(Boolean).map(q=>q.ref.current);G2(F,d)}}R.current=!1}),onBlur:Re(t.onBlur,()=>v(!1))})})}),W2="RovingFocusGroupItem",H2=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...l}=t,c=yo(),u=o||c,d=a7(W2,n),f=d.currentTabStopId===u,p=B2(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:x}=d;return g.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),i.jsx(Ax.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(Qe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Re(t.onMouseDown,S=>{r?d.onItemFocus(u):S.preventDefault()}),onFocus:Re(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Re(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=d7(S,d.orientation,d.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let w=p().filter(j=>j.focusable).map(j=>j.ref.current);if(_==="last")w.reverse();else if(_==="prev"||_==="next"){_==="prev"&&w.reverse();const j=w.indexOf(S.currentTarget);w=d.loop?h7(w,j+1):w.slice(j+1)}setTimeout(()=>G2(w))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});H2.displayName=W2;var c7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function u7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function d7(t,e,n){const r=u7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return c7[r]}function G2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function h7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var f7=q2,p7=H2,zm="Tabs",[m7,hne]=to(zm,[$2]),Y2=$2(),[g7,rb]=m7(zm),K2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=tb(l),[f,p]=Aa({prop:r,onChange:s,defaultProp:o??"",caller:zm});return i.jsx(g7,{scope:n,baseId:yo(),value:f,onValueChange:p,orientation:a,dir:d,activationMode:c,children:i.jsx(Qe.div,{dir:d,"data-orientation":a,...u,ref:e})})});K2.displayName=zm;var Q2="TabsList",X2=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=rb(Q2,n),a=Y2(n);return i.jsx(f7,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(Qe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});X2.displayName=Q2;var Z2="TabsTrigger",J2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,a=rb(Z2,n),l=Y2(n),c=nR(a.baseId,r),u=rR(a.baseId,r),d=r===a.value;return i.jsx(p7,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Qe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:Re(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Re(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Re(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});J2.displayName=Z2;var eR="TabsContent",tR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=t,l=rb(eR,n),c=nR(l.baseId,r),u=rR(l.baseId,r),d=r===l.value,f=g.useRef(d);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(Do,{present:s||d,children:({present:p})=>i.jsx(Qe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});tR.displayName=eR;function nR(t,e){return`${t}-trigger-${e}`}function rR(t,e){return`${t}-content-${e}`}var v7=K2,sR=X2,oR=J2,iR=tR;const lc=v7,La=Fe.forwardRef(({className:t,...e},n)=>i.jsx(sR,{ref:n,className:Ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));La.displayName=sR.displayName;const Nn=Fe.forwardRef(({className:t,...e},n)=>i.jsx(oR,{ref:n,className:Ze("inline-flex items-center justify-center break-words rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Nn.displayName=oR.displayName;const jn=Fe.forwardRef(({className:t,...e},n)=>i.jsx(iR,{ref:n,className:Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));jn.displayName=iR.displayName;const x7=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function cc(t,e,n){const r=y7(t),{webkitRelativePath:s}=t,o=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof r.path!="string"&&dE(r,"path",o),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),dE(r,"relativePath",o),r}function y7(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),s=x7.get(r);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function dE(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const w7=[".DS_Store","Thumbs.db"];function b7(t){return Qa(this,void 0,void 0,function*(){return Tp(t)&&_7(t.dataTransfer)?T7(t.dataTransfer,t.type):S7(t)?C7(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?E7(t):[]})}function _7(t){return Tp(t)}function S7(t){return Tp(t)&&Tp(t.target)}function Tp(t){return typeof t=="object"&&t!==null}function C7(t){return Rx(t.target.files).map(e=>cc(e))}function E7(t){return Qa(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>cc(n))})}function T7(t,e){return Qa(this,void 0,void 0,function*(){if(t.items){const n=Rx(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(N7));return hE(aR(r))}return hE(Rx(t.files).map(n=>cc(n)))})}function hE(t){return t.filter(e=>w7.indexOf(e.name)===-1)}function Rx(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function N7(t){if(typeof t.webkitGetAsEntry!="function")return fE(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?lR(e):fE(t,e)}function aR(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?aR(n):[n]],[])}function fE(t,e){return Qa(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const a=yield o.getFile();return a.handle=o,cc(a)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return cc(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function j7(t){return Qa(this,void 0,void 0,function*(){return t.isDirectory?lR(t):k7(t)})}function lR(t){const e=t.createReader();return new Promise((n,r)=>{const s=[];function o(){e.readEntries(a=>Qa(this,void 0,void 0,function*(){if(a.length){const l=Promise.all(a.map(j7));s.push(l),o()}else try{const l=yield Promise.all(s);n(l)}catch(l){r(l)}}),a=>{r(a)})}o()})}function k7(t){return Qa(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const s=cc(r,t.fullPath);e(s)},r=>{n(r)})})})}var kv=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return n.some(function(a){var l=a.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):s===l})}return!0};function pE(t){return A7(t)||I7(t)||uR(t)||P7()}function P7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A7(t){if(Array.isArray(t))return Dx(t)}function mE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(n),!0).forEach(function(r){cR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function md(t,e){return M7(t)||D7(t,e)||uR(t,e)||R7()}function R7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uR(t,e){if(t){if(typeof t=="string")return Dx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dx(t,e)}}function Dx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,a,l;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function M7(t){if(Array.isArray(t))return t}var O7=typeof kv=="function"?kv:kv.default,L7="file-invalid-type",F7="file-too-large",V7="file-too-small",z7="too-many-files",U7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:L7,message:"File type must be ".concat(r)}},vE=function(e){return{code:F7,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},xE=function(e){return{code:V7,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},B7={code:z7,message:"Too many files"};function dR(t,e){var n=t.type==="application/x-moz-file"||O7(t,e);return[n,n?null:U7(e)]}function hR(t,e,n){if(la(t.size))if(la(e)&&la(n)){if(t.size>n)return[!1,vE(n)];if(t.size<e)return[!1,xE(e)]}else{if(la(e)&&t.size<e)return[!1,xE(e)];if(la(n)&&t.size>n)return[!1,vE(n)]}return[!0,null]}function la(t){return t!=null}function $7(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,o=t.multiple,a=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&a>=1&&e.length>a?!1:e.every(function(c){var u=dR(c,n),d=md(u,1),f=d[0],p=hR(c,r,s),m=md(p,1),y=m[0],x=l?l(c):null;return f&&y&&!x})}function Np(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Gh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function yE(t){t.preventDefault()}function q7(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function W7(t){return t.indexOf("Edge/")!==-1}function H7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return q7(t)||W7(t)}function Ps(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return e.some(function(l){return!Np(r)&&l&&l.apply(void 0,[r].concat(o)),Np(r)})}}function G7(){return"showOpenFilePicker"in window}function Y7(t){if(la(t)){var e=Object.entries(t).filter(function(n){var r=md(n,2),s=r[0],o=r[1],a=!0;return fR(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(o)||!o.every(pR))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,r){var s=md(r,2),o=s[0],a=s[1];return gE(gE({},n),{},cR({},o,a))},{});return[{description:"Files",accept:e}]}return t}function K7(t){if(la(t))return Object.entries(t).reduce(function(e,n){var r=md(n,2),s=r[0],o=r[1];return[].concat(pE(e),[s],pE(o))},[]).filter(function(e){return fR(e)||pR(e)}).join(",")}function Q7(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function X7(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function fR(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function pR(t){return/^.*\.[\w]+$/.test(t)}var Z7=["children"],J7=["open"],eq=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],tq=["refKey","onChange","onClick"];function nq(t){return oq(t)||sq(t)||mR(t)||rq()}function rq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oq(t){if(Array.isArray(t))return Mx(t)}function Pv(t,e){return lq(t)||aq(t,e)||mR(t,e)||iq()}function iq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mR(t,e){if(t){if(typeof t=="string")return Mx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mx(t,e)}}function Mx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,a,l;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function lq(t){if(Array.isArray(t))return t}function wE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(n),!0).forEach(function(r){Ox(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ox(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jp(t,e){if(t==null)return{};var n=cq(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var sb=g.forwardRef(function(t,e){var n=t.children,r=jp(t,Z7),s=vR(r),o=s.open,a=jp(s,J7);return g.useImperativeHandle(e,function(){return{open:o}},[o]),Fe.createElement(g.Fragment,null,n(Lt(Lt({},a),{},{open:o})))});sb.displayName="Dropzone";var gR={disabled:!1,getFilesFromEvent:b7,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};sb.defaultProps=gR;sb.propTypes={children:Le.func,accept:Le.objectOf(Le.arrayOf(Le.string)),multiple:Le.bool,preventDropOnDocument:Le.bool,noClick:Le.bool,noKeyboard:Le.bool,noDrag:Le.bool,noDragEventsBubbling:Le.bool,minSize:Le.number,maxSize:Le.number,maxFiles:Le.number,disabled:Le.bool,getFilesFromEvent:Le.func,onFileDialogCancel:Le.func,onFileDialogOpen:Le.func,useFsAccessApi:Le.bool,autoFocus:Le.bool,onDragEnter:Le.func,onDragLeave:Le.func,onDragOver:Le.func,onDrop:Le.func,onDropAccepted:Le.func,onDropRejected:Le.func,onError:Le.func,validator:Le.func};var Lx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function vR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Lt(Lt({},gR),t),n=e.accept,r=e.disabled,s=e.getFilesFromEvent,o=e.maxSize,a=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,y=e.onDropRejected,x=e.onFileDialogCancel,S=e.onFileDialogOpen,_=e.useFsAccessApi,v=e.autoFocus,w=e.preventDropOnDocument,j=e.noClick,R=e.noKeyboard,L=e.noDrag,C=e.noDragEventsBubbling,E=e.onError,I=e.validator,P=g.useMemo(function(){return K7(n)},[n]),k=g.useMemo(function(){return Y7(n)},[n]),N=g.useMemo(function(){return typeof S=="function"?S:bE},[S]),A=g.useMemo(function(){return typeof x=="function"?x:bE},[x]),V=g.useRef(null),F=g.useRef(null),q=g.useReducer(uq,Lx),$=Pv(q,2),M=$[0],U=$[1],Y=M.isFocused,K=M.isFileDialogActive,ue=g.useRef(typeof window<"u"&&window.isSecureContext&&_&&G7()),Se=function(){!ue.current&&K&&setTimeout(function(){if(F.current){var ie=F.current.files;ie.length||(U({type:"closeDialog"}),A())}},300)};g.useEffect(function(){return window.addEventListener("focus",Se,!1),function(){window.removeEventListener("focus",Se,!1)}},[F,K,A,ue]);var we=g.useRef([]),ze=function(ie){V.current&&V.current.contains(ie.target)||(ie.preventDefault(),we.current=[])};g.useEffect(function(){return w&&(document.addEventListener("dragover",yE,!1),document.addEventListener("drop",ze,!1)),function(){w&&(document.removeEventListener("dragover",yE),document.removeEventListener("drop",ze))}},[V,w]),g.useEffect(function(){return!r&&v&&V.current&&V.current.focus(),function(){}},[V,v,r]);var Ie=g.useCallback(function(ee){E?E(ee):console.error(ee)},[E]),fe=g.useCallback(function(ee){ee.preventDefault(),ee.persist(),Ae(ee),we.current=[].concat(nq(we.current),[ee.target]),Gh(ee)&&Promise.resolve(s(ee)).then(function(ie){if(!(Np(ee)&&!C)){var Pe=ie.length,nt=Pe>0&&$7({files:ie,accept:P,minSize:a,maxSize:o,multiple:l,maxFiles:c,validator:I}),Ct=Pe>0&&!nt;U({isDragAccept:nt,isDragReject:Ct,isDragActive:!0,type:"setDraggedFiles"}),u&&u(ee)}}).catch(function(ie){return Ie(ie)})},[s,u,Ie,C,P,a,o,l,c,I]),Oe=g.useCallback(function(ee){ee.preventDefault(),ee.persist(),Ae(ee);var ie=Gh(ee);if(ie&&ee.dataTransfer)try{ee.dataTransfer.dropEffect="copy"}catch{}return ie&&f&&f(ee),!1},[f,C]),$e=g.useCallback(function(ee){ee.preventDefault(),ee.persist(),Ae(ee);var ie=we.current.filter(function(nt){return V.current&&V.current.contains(nt)}),Pe=ie.indexOf(ee.target);Pe!==-1&&ie.splice(Pe,1),we.current=ie,!(ie.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Gh(ee)&&d&&d(ee))},[V,d,C]),W=g.useCallback(function(ee,ie){var Pe=[],nt=[];ee.forEach(function(Ct){var vn=dR(Ct,P),Yn=Pv(vn,2),br=Yn[0],Es=Yn[1],Ts=hR(Ct,a,o),or=Pv(Ts,2),es=or[0],_r=or[1],an=I?I(Ct):null;if(br&&es&&!an)Pe.push(Ct);else{var ir=[Es,_r];an&&(ir=ir.concat(an)),nt.push({file:Ct,errors:ir.filter(function(O){return O})})}}),(!l&&Pe.length>1||l&&c>=1&&Pe.length>c)&&(Pe.forEach(function(Ct){nt.push({file:Ct,errors:[B7]})}),Pe.splice(0)),U({acceptedFiles:Pe,fileRejections:nt,isDragReject:nt.length>0,type:"setFiles"}),p&&p(Pe,nt,ie),nt.length>0&&y&&y(nt,ie),Pe.length>0&&m&&m(Pe,ie)},[U,l,P,a,o,c,p,m,y,I]),he=g.useCallback(function(ee){ee.preventDefault(),ee.persist(),Ae(ee),we.current=[],Gh(ee)&&Promise.resolve(s(ee)).then(function(ie){Np(ee)&&!C||W(ie,ee)}).catch(function(ie){return Ie(ie)}),U({type:"reset"})},[s,W,Ie,C]),se=g.useCallback(function(){if(ue.current){U({type:"openDialog"}),N();var ee={multiple:l,types:k};window.showOpenFilePicker(ee).then(function(ie){return s(ie)}).then(function(ie){W(ie,null),U({type:"closeDialog"})}).catch(function(ie){Q7(ie)?(A(ie),U({type:"closeDialog"})):X7(ie)?(ue.current=!1,F.current?(F.current.value=null,F.current.click()):Ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ie(ie)});return}F.current&&(U({type:"openDialog"}),N(),F.current.value=null,F.current.click())},[U,N,A,_,W,Ie,k,l]),je=g.useCallback(function(ee){!V.current||!V.current.isEqualNode(ee.target)||(ee.key===" "||ee.key==="Enter"||ee.keyCode===32||ee.keyCode===13)&&(ee.preventDefault(),se())},[V,se]),qe=g.useCallback(function(){U({type:"focus"})},[]),lt=g.useCallback(function(){U({type:"blur"})},[]),B=g.useCallback(function(){j||(H7()?setTimeout(se,0):se())},[j,se]),ce=function(ie){return r?null:ie},Ve=function(ie){return R?null:ce(ie)},ke=function(ie){return L?null:ce(ie)},Ae=function(ie){C&&ie.stopPropagation()},ye=g.useMemo(function(){return function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ie=ee.refKey,Pe=ie===void 0?"ref":ie,nt=ee.role,Ct=ee.onKeyDown,vn=ee.onFocus,Yn=ee.onBlur,br=ee.onClick,Es=ee.onDragEnter,Ts=ee.onDragOver,or=ee.onDragLeave,es=ee.onDrop,_r=jp(ee,eq);return Lt(Lt(Ox({onKeyDown:Ve(Ps(Ct,je)),onFocus:Ve(Ps(vn,qe)),onBlur:Ve(Ps(Yn,lt)),onClick:ce(Ps(br,B)),onDragEnter:ke(Ps(Es,fe)),onDragOver:ke(Ps(Ts,Oe)),onDragLeave:ke(Ps(or,$e)),onDrop:ke(Ps(es,he)),role:typeof nt=="string"&&nt!==""?nt:"presentation"},Pe,V),!r&&!R?{tabIndex:0}:{}),_r)}},[V,je,qe,lt,B,fe,Oe,$e,he,R,L,r]),Je=g.useCallback(function(ee){ee.stopPropagation()},[]),J=g.useMemo(function(){return function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ie=ee.refKey,Pe=ie===void 0?"ref":ie,nt=ee.onChange,Ct=ee.onClick,vn=jp(ee,tq),Yn=Ox({accept:P,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ce(Ps(nt,he)),onClick:ce(Ps(Ct,Je)),tabIndex:-1},Pe,F);return Lt(Lt({},Yn),vn)}},[F,n,l,he,r]);return Lt(Lt({},M),{},{isFocused:Y&&!r,getRootProps:ye,getInputProps:J,rootRef:V,inputRef:F,open:ce(se)})}function uq(t,e){switch(e.type){case"focus":return Lt(Lt({},t),{},{isFocused:!0});case"blur":return Lt(Lt({},t),{},{isFocused:!1});case"openDialog":return Lt(Lt({},Lx),{},{isFileDialogActive:!0});case"closeDialog":return Lt(Lt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Lt(Lt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Lt(Lt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Lt({},Lx);default:return t}}function bE(){}const dq=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},yR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let p=(l&15)<<2|u>>6,m=u&63;c||(m=64,a||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||u==null||f==null)throw new fq;const p=o<<2|l>>4;if(r.push(p),u!==64){const m=l<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pq=function(t){const e=xR(t);return yR.encodeByteArray(e,!0)},kp=function(t){return pq(t).replace(/\./g,"")},wR=function(t){try{return yR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=()=>mq().__FIREBASE_DEFAULTS__,vq=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wR(t[1]);return e&&JSON.parse(e)},Um=()=>{try{return dq()||gq()||vq()||xq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bR=t=>{var e,n;return(n=(e=Um())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yq=t=>{const e=bR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_R=()=>{var t;return(t=Um())==null?void 0:t.config},SR=t=>{var e;return(e=Um())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[kp(JSON.stringify(n)),kp(JSON.stringify(a)),l].join(".")}const Lu={};function _q(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?t.emulator.push(e):t.prod.push(e);return t}function Sq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _E=!1;function ER(t,e){if(typeof window>"u"||typeof document>"u"||!kc(window.location.host)||Lu[t]===e||Lu[t]||_E)return;Lu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=_q().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{_E=!0,a()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Sq(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),x=n("learnmore"),S=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;l(w),d(S,x);const j=u();c(v,_),w.append(v,y,S,j),document.body.appendChild(w)}o?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function Eq(){var e;const t=(e=Um())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kq(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pq(){return!Eq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iq(){try{return typeof indexedDB=="object"}catch{return!1}}function Aq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq="FirebaseError";class Mo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Rq,Object.setPrototypeOf(this,Mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ud.prototype.create)}}class Ud{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?Dq(o,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Mo(s,l,r)}}function Dq(t,e){return t.replace(Mq,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Mq=/\{\$([^}]+)}/g;function Oq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],a=e[s];if(SE(o)&&SE(a)){if(!Fa(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function SE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lq(t,e){const n=new Fq(t,e);return n.subscribe.bind(n)}class Fq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Vq(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Iv),s.error===void 0&&(s.error=Iv),s.complete===void 0&&(s.complete=Iv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Iv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){return t&&t._delegate?t._delegate:t}class Va{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bq(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Uq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uq(t){return t===ia?void 0:t}function Bq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const qq={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},Wq=ut.INFO,Hq={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},Gq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Hq[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ob{constructor(e){this.name=e,this._logLevel=Wq,this._logHandler=Gq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const Yq=(t,e)=>e.some(n=>t instanceof n);let CE,EE;function Kq(){return CE||(CE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qq(){return EE||(EE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TR=new WeakMap,Fx=new WeakMap,NR=new WeakMap,Av=new WeakMap,ib=new WeakMap;function Xq(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(yi(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&TR.set(n,t)}).catch(()=>{}),ib.set(e,t),e}function Zq(t){if(Fx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Fx.set(t,e)}let Vx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Jq(t){Vx=t(Vx)}function eW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rv(this),e,...n);return NR.set(r,e.sort?e.sort():[e]),yi(r)}:Qq().includes(t)?function(...e){return t.apply(Rv(this),e),yi(TR.get(this))}:function(...e){return yi(t.apply(Rv(this),e))}}function tW(t){return typeof t=="function"?eW(t):(t instanceof IDBTransaction&&Zq(t),Yq(t,Kq())?new Proxy(t,Vx):t)}function yi(t){if(t instanceof IDBRequest)return Xq(t);if(Av.has(t))return Av.get(t);const e=tW(t);return e!==t&&(Av.set(t,e),ib.set(e,t)),e}const Rv=t=>ib.get(t);function nW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),l=yi(a);return r&&a.addEventListener("upgradeneeded",c=>{r(yi(a.result),c.oldVersion,c.newVersion,yi(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const rW=["get","getKey","getAll","getAllKeys","count"],sW=["put","add","delete","clear"],Dv=new Map;function TE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dv.get(e))return Dv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=sW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rW.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Dv.set(e,o),o}Jq(t=>({...t,get:(e,n,r)=>TE(e,n)||t.get(e,n,r),has:(e,n)=>!!TE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zx="@firebase/app",NE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new ob("@firebase/app"),aW="@firebase/app-compat",lW="@firebase/analytics-compat",cW="@firebase/analytics",uW="@firebase/app-check-compat",dW="@firebase/app-check",hW="@firebase/auth",fW="@firebase/auth-compat",pW="@firebase/database",mW="@firebase/data-connect",gW="@firebase/database-compat",vW="@firebase/functions",xW="@firebase/functions-compat",yW="@firebase/installations",wW="@firebase/installations-compat",bW="@firebase/messaging",_W="@firebase/messaging-compat",SW="@firebase/performance",CW="@firebase/performance-compat",EW="@firebase/remote-config",TW="@firebase/remote-config-compat",NW="@firebase/storage",jW="@firebase/storage-compat",kW="@firebase/firestore",PW="@firebase/ai",IW="@firebase/firestore-compat",AW="firebase",RW="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="[DEFAULT]",DW={[zx]:"fire-core",[aW]:"fire-core-compat",[cW]:"fire-analytics",[lW]:"fire-analytics-compat",[dW]:"fire-app-check",[uW]:"fire-app-check-compat",[hW]:"fire-auth",[fW]:"fire-auth-compat",[pW]:"fire-rtdb",[mW]:"fire-data-connect",[gW]:"fire-rtdb-compat",[vW]:"fire-fn",[xW]:"fire-fn-compat",[yW]:"fire-iid",[wW]:"fire-iid-compat",[bW]:"fire-fcm",[_W]:"fire-fcm-compat",[SW]:"fire-perf",[CW]:"fire-perf-compat",[EW]:"fire-rc",[TW]:"fire-rc-compat",[NW]:"fire-gcs",[jW]:"fire-gcs-compat",[kW]:"fire-fst",[IW]:"fire-fst-compat",[PW]:"fire-vertex","fire-js":"fire-js",[AW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new Map,MW=new Map,Bx=new Map;function jE(t,e){try{t.container.addComponent(e)}catch(n){jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uc(t){const e=t.name;if(Bx.has(e))return jo.debug(`There were multiple attempts to register component ${e}.`),!1;Bx.set(e,t);for(const n of Pp.values())jE(n,t);for(const n of MW.values())jE(n,t);return!0}function ab(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new Ud("app","Firebase",OW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=RW;function jR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ux,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw wi.create("bad-app-name",{appName:String(s)});if(n||(n=_R()),!n)throw wi.create("no-options");const o=Pp.get(s);if(o){if(Fa(n,o.options)&&Fa(r,o.config))return o;throw wi.create("duplicate-app",{appName:s})}const a=new $q(s);for(const c of Bx.values())a.addComponent(c);const l=new LW(n,r,a);return Pp.set(s,l),l}function kR(t=Ux){const e=Pp.get(t);if(!e&&t===Ux&&_R())return jR();if(!e)throw wi.create("no-app",{appName:t});return e}function bi(t,e,n){let r=DW[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jo.warn(a.join(" "));return}uc(new Va(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW="firebase-heartbeat-database",VW=1,gd="firebase-heartbeat-store";let Mv=null;function PR(){return Mv||(Mv=nW(FW,VW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),Mv}async function zW(t){try{const n=(await PR()).transaction(gd),r=await n.objectStore(gd).get(IR(t));return await n.done,r}catch(e){if(e instanceof Mo)jo.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jo.warn(n.message)}}}async function kE(t,e){try{const r=(await PR()).transaction(gd,"readwrite");await r.objectStore(gd).put(e,IR(t)),await r.done}catch(n){if(n instanceof Mo)jo.warn(n.message);else{const r=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jo.warn(r.message)}}}function IR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=1024,BW=30;class $W{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>BW){const a=HW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PE(),{heartbeatsToSend:r,unsentEntries:s}=qW(this._heartbeatsCache.heartbeats),o=kp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return jo.warn(n),""}}}function PE(){return new Date().toISOString().substring(0,10)}function qW(t,e=UW){const n=[];let r=t.slice();for(const s of t){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),IE(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),IE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iq()?Aq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function IE(t){return kp(JSON.stringify({version:2,heartbeats:t})).length}function HW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(t){uc(new Va("platform-logger",e=>new oW(e),"PRIVATE")),uc(new Va("heartbeat",e=>new $W(e),"PRIVATE")),bi(zx,NE,t),bi(zx,NE,"esm2020"),bi("fire-js","")}GW("");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,AR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function I(){}I.prototype=E.prototype,C.F=E.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(P,k,N){for(var A=Array(arguments.length-2),V=2;V<arguments.length;V++)A[V-2]=arguments[V];return E.prototype[k].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,E,I){I||(I=0);const P=Array(16);if(typeof E=="string")for(var k=0;k<16;++k)P[k]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(k=0;k<16;++k)P[k]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=C.g[0],I=C.g[1],k=C.g[2];let N=C.g[3],A;A=E+(N^I&(k^N))+P[0]+3614090360&4294967295,E=I+(A<<7&4294967295|A>>>25),A=N+(k^E&(I^k))+P[1]+3905402710&4294967295,N=E+(A<<12&4294967295|A>>>20),A=k+(I^N&(E^I))+P[2]+606105819&4294967295,k=N+(A<<17&4294967295|A>>>15),A=I+(E^k&(N^E))+P[3]+3250441966&4294967295,I=k+(A<<22&4294967295|A>>>10),A=E+(N^I&(k^N))+P[4]+4118548399&4294967295,E=I+(A<<7&4294967295|A>>>25),A=N+(k^E&(I^k))+P[5]+1200080426&4294967295,N=E+(A<<12&4294967295|A>>>20),A=k+(I^N&(E^I))+P[6]+2821735955&4294967295,k=N+(A<<17&4294967295|A>>>15),A=I+(E^k&(N^E))+P[7]+4249261313&4294967295,I=k+(A<<22&4294967295|A>>>10),A=E+(N^I&(k^N))+P[8]+1770035416&4294967295,E=I+(A<<7&4294967295|A>>>25),A=N+(k^E&(I^k))+P[9]+2336552879&4294967295,N=E+(A<<12&4294967295|A>>>20),A=k+(I^N&(E^I))+P[10]+4294925233&4294967295,k=N+(A<<17&4294967295|A>>>15),A=I+(E^k&(N^E))+P[11]+2304563134&4294967295,I=k+(A<<22&4294967295|A>>>10),A=E+(N^I&(k^N))+P[12]+1804603682&4294967295,E=I+(A<<7&4294967295|A>>>25),A=N+(k^E&(I^k))+P[13]+4254626195&4294967295,N=E+(A<<12&4294967295|A>>>20),A=k+(I^N&(E^I))+P[14]+2792965006&4294967295,k=N+(A<<17&4294967295|A>>>15),A=I+(E^k&(N^E))+P[15]+1236535329&4294967295,I=k+(A<<22&4294967295|A>>>10),A=E+(k^N&(I^k))+P[1]+4129170786&4294967295,E=I+(A<<5&4294967295|A>>>27),A=N+(I^k&(E^I))+P[6]+3225465664&4294967295,N=E+(A<<9&4294967295|A>>>23),A=k+(E^I&(N^E))+P[11]+643717713&4294967295,k=N+(A<<14&4294967295|A>>>18),A=I+(N^E&(k^N))+P[0]+3921069994&4294967295,I=k+(A<<20&4294967295|A>>>12),A=E+(k^N&(I^k))+P[5]+3593408605&4294967295,E=I+(A<<5&4294967295|A>>>27),A=N+(I^k&(E^I))+P[10]+38016083&4294967295,N=E+(A<<9&4294967295|A>>>23),A=k+(E^I&(N^E))+P[15]+3634488961&4294967295,k=N+(A<<14&4294967295|A>>>18),A=I+(N^E&(k^N))+P[4]+3889429448&4294967295,I=k+(A<<20&4294967295|A>>>12),A=E+(k^N&(I^k))+P[9]+568446438&4294967295,E=I+(A<<5&4294967295|A>>>27),A=N+(I^k&(E^I))+P[14]+3275163606&4294967295,N=E+(A<<9&4294967295|A>>>23),A=k+(E^I&(N^E))+P[3]+4107603335&4294967295,k=N+(A<<14&4294967295|A>>>18),A=I+(N^E&(k^N))+P[8]+1163531501&4294967295,I=k+(A<<20&4294967295|A>>>12),A=E+(k^N&(I^k))+P[13]+2850285829&4294967295,E=I+(A<<5&4294967295|A>>>27),A=N+(I^k&(E^I))+P[2]+4243563512&4294967295,N=E+(A<<9&4294967295|A>>>23),A=k+(E^I&(N^E))+P[7]+1735328473&4294967295,k=N+(A<<14&4294967295|A>>>18),A=I+(N^E&(k^N))+P[12]+2368359562&4294967295,I=k+(A<<20&4294967295|A>>>12),A=E+(I^k^N)+P[5]+4294588738&4294967295,E=I+(A<<4&4294967295|A>>>28),A=N+(E^I^k)+P[8]+2272392833&4294967295,N=E+(A<<11&4294967295|A>>>21),A=k+(N^E^I)+P[11]+1839030562&4294967295,k=N+(A<<16&4294967295|A>>>16),A=I+(k^N^E)+P[14]+4259657740&4294967295,I=k+(A<<23&4294967295|A>>>9),A=E+(I^k^N)+P[1]+2763975236&4294967295,E=I+(A<<4&4294967295|A>>>28),A=N+(E^I^k)+P[4]+1272893353&4294967295,N=E+(A<<11&4294967295|A>>>21),A=k+(N^E^I)+P[7]+4139469664&4294967295,k=N+(A<<16&4294967295|A>>>16),A=I+(k^N^E)+P[10]+3200236656&4294967295,I=k+(A<<23&4294967295|A>>>9),A=E+(I^k^N)+P[13]+681279174&4294967295,E=I+(A<<4&4294967295|A>>>28),A=N+(E^I^k)+P[0]+3936430074&4294967295,N=E+(A<<11&4294967295|A>>>21),A=k+(N^E^I)+P[3]+3572445317&4294967295,k=N+(A<<16&4294967295|A>>>16),A=I+(k^N^E)+P[6]+76029189&4294967295,I=k+(A<<23&4294967295|A>>>9),A=E+(I^k^N)+P[9]+3654602809&4294967295,E=I+(A<<4&4294967295|A>>>28),A=N+(E^I^k)+P[12]+3873151461&4294967295,N=E+(A<<11&4294967295|A>>>21),A=k+(N^E^I)+P[15]+530742520&4294967295,k=N+(A<<16&4294967295|A>>>16),A=I+(k^N^E)+P[2]+3299628645&4294967295,I=k+(A<<23&4294967295|A>>>9),A=E+(k^(I|~N))+P[0]+4096336452&4294967295,E=I+(A<<6&4294967295|A>>>26),A=N+(I^(E|~k))+P[7]+1126891415&4294967295,N=E+(A<<10&4294967295|A>>>22),A=k+(E^(N|~I))+P[14]+2878612391&4294967295,k=N+(A<<15&4294967295|A>>>17),A=I+(N^(k|~E))+P[5]+4237533241&4294967295,I=k+(A<<21&4294967295|A>>>11),A=E+(k^(I|~N))+P[12]+1700485571&4294967295,E=I+(A<<6&4294967295|A>>>26),A=N+(I^(E|~k))+P[3]+2399980690&4294967295,N=E+(A<<10&4294967295|A>>>22),A=k+(E^(N|~I))+P[10]+4293915773&4294967295,k=N+(A<<15&4294967295|A>>>17),A=I+(N^(k|~E))+P[1]+2240044497&4294967295,I=k+(A<<21&4294967295|A>>>11),A=E+(k^(I|~N))+P[8]+1873313359&4294967295,E=I+(A<<6&4294967295|A>>>26),A=N+(I^(E|~k))+P[15]+4264355552&4294967295,N=E+(A<<10&4294967295|A>>>22),A=k+(E^(N|~I))+P[6]+2734768916&4294967295,k=N+(A<<15&4294967295|A>>>17),A=I+(N^(k|~E))+P[13]+1309151649&4294967295,I=k+(A<<21&4294967295|A>>>11),A=E+(k^(I|~N))+P[4]+4149444226&4294967295,E=I+(A<<6&4294967295|A>>>26),A=N+(I^(E|~k))+P[11]+3174756917&4294967295,N=E+(A<<10&4294967295|A>>>22),A=k+(E^(N|~I))+P[2]+718787259&4294967295,k=N+(A<<15&4294967295|A>>>17),A=I+(N^(k|~E))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.v=function(C,E){E===void 0&&(E=C.length);const I=E-this.blockSize,P=this.C;let k=this.h,N=0;for(;N<E;){if(k==0)for(;N<=I;)s(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<E;)if(P[k++]=C.charCodeAt(N++),k==this.blockSize){s(this,P),k=0;break}}else for(;N<E;)if(P[k++]=C[N++],k==this.blockSize){s(this,P),k=0;break}}this.h=k,this.o+=E},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;E=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=E&255,E/=256;for(this.v(C),C=Array(16),E=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)C[E++]=this.g[I]>>>P&255;return C};function o(C,E){var I=l;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=E(C)}function a(C,E){this.h=E;const I=[];let P=!0;for(let k=C.length-1;k>=0;k--){const N=C[k]|0;P&&N==E||(I[k]=N,P=!1)}this.g=I}var l={};function c(C){return-128<=C&&C<128?o(C,function(E){return new a([E|0],E<0?-1:0)}):new a([C|0],C<0?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(C<0)return S(u(-C));const E=[];let I=1;for(let P=0;C>=I;P++)E[P]=C/I|0,I*=4294967296;return new a(E,0)}function d(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return S(d(C.substring(1),E));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(E,8));let P=f;for(let N=0;N<C.length;N+=8){var k=Math.min(8,C.length-N);const A=parseInt(C.substring(N,N+k),E);k<8?(k=u(Math.pow(E,k)),P=P.j(k).add(u(A))):(P=P.j(I),P=P.add(u(A)))}return P}var f=c(0),p=c(1),m=c(16777216);t=a.prototype,t.m=function(){if(x(this))return-S(this).m();let C=0,E=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);C+=(P>=0?P:4294967296+P)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(x(this))return"-"+S(this).toString(C);const E=u(Math.pow(C,6));var I=this;let P="";for(;;){const k=j(I,E).g;I=_(I,k.j(E));let N=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=k,y(I))return N+P;for(;N.length<6;)N="0"+N;P=N+P}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(let E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=_(this,C),x(C)?-1:y(C)?0:1};function S(C){const E=C.g.length,I=[];for(let P=0;P<E;P++)I[P]=~C.g[P];return new a(I,~C.h).add(p)}t.abs=function(){return x(this)?S(this):this},t.add=function(C){const E=Math.max(this.g.length,C.g.length),I=[];let P=0;for(let k=0;k<=E;k++){let N=P+(this.i(k)&65535)+(C.i(k)&65535),A=(N>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);P=A>>>16,N&=65535,A&=65535,I[k]=A<<16|N}return new a(I,I[I.length-1]&-2147483648?-1:0)};function _(C,E){return C.add(S(E))}t.j=function(C){if(y(this)||y(C))return f;if(x(this))return x(C)?S(this).j(S(C)):S(S(this).j(C));if(x(C))return S(this.j(S(C)));if(this.l(m)<0&&C.l(m)<0)return u(this.m()*C.m());const E=this.g.length+C.g.length,I=[];for(var P=0;P<2*E;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<C.g.length;k++){const N=this.i(P)>>>16,A=this.i(P)&65535,V=C.i(k)>>>16,F=C.i(k)&65535;I[2*P+2*k]+=A*F,v(I,2*P+2*k),I[2*P+2*k+1]+=N*F,v(I,2*P+2*k+1),I[2*P+2*k+1]+=A*V,v(I,2*P+2*k+1),I[2*P+2*k+2]+=N*V,v(I,2*P+2*k+2)}for(C=0;C<E;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=E;C<2*E;C++)I[C]=0;return new a(I,0)};function v(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function w(C,E){this.g=C,this.h=E}function j(C,E){if(y(E))throw Error("division by zero");if(y(C))return new w(f,f);if(x(C))return E=j(S(C),E),new w(S(E.g),S(E.h));if(x(E))return E=j(C,S(E)),new w(S(E.g),E.h);if(C.g.length>30){if(x(C)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var I=p,P=E;P.l(C)<=0;)I=R(I),P=R(P);var k=L(I,1),N=L(P,1);for(P=L(P,2),I=L(I,2);!y(P);){var A=N.add(P);A.l(C)<=0&&(k=k.add(I),N=A),P=L(P,1),I=L(I,1)}return E=_(C,k.j(E)),new w(k,E)}for(k=f;C.l(E)>=0;){for(I=Math.max(1,Math.floor(C.m()/E.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),N=u(I),A=N.j(E);x(A)||A.l(C)>0;)I-=P,N=u(I),A=N.j(E);y(N)&&(N=p),k=k.add(N),C=_(C,A)}return new w(k,C)}t.B=function(C){return j(this,C).h},t.and=function(C){const E=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<E;P++)I[P]=this.i(P)&C.i(P);return new a(I,this.h&C.h)},t.or=function(C){const E=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<E;P++)I[P]=this.i(P)|C.i(P);return new a(I,this.h|C.h)},t.xor=function(C){const E=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<E;P++)I[P]=this.i(P)^C.i(P);return new a(I,this.h^C.h)};function R(C){const E=C.g.length+1,I=[];for(let P=0;P<E;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new a(I,C.h)}function L(C,E){const I=E>>5;E%=32;const P=C.g.length-I,k=[];for(let N=0;N<P;N++)k[N]=E>0?C.i(N+I)>>>E|C.i(N+I+1)<<32-E:C.i(N+I);return new a(k,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,_i=a}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RR,wu,DR,Ef,$x,MR,OR,LR;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yh=="object"&&Yh];for(var b=0;b<h.length;++b){var T=h[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,b){if(b)e:{var T=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var H=h[D];if(!(H in T))break e;T=T[H]}h=h[h.length-1],D=T[h],b=b(D),b!=D&&b!=null&&e(T,h,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(b){var T=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&T.push([D,b[D]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function c(h,b,T){return h.call.apply(h.bind,arguments)}function u(h,b,T){return u=c,u.apply(null,arguments)}function d(h,b){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function f(h,b){function T(){}T.prototype=b.prototype,h.Z=b.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(D,H,G){for(var ve=Array(arguments.length-2),et=2;et<arguments.length;et++)ve[et-2]=arguments[et];return b.prototype[H].apply(D,ve)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function m(h){const b=h.length;if(b>0){const T=Array(b);for(let D=0;D<b;D++)T[D]=h[D];return T}return[]}function y(h,b){for(let D=1;D<arguments.length;D++){const H=arguments[D];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=h.length||0;const G=H.length||0;h.length=T+G;for(let ve=0;ve<G;ve++)h[T+ve]=H[ve]}else h.push(H)}}class x{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function S(h){a.setTimeout(()=>{throw h},0)}function _(){var h=C;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class v{constructor(){this.h=this.g=null}add(b,T){const D=w.get();D.set(b,T),this.h?this.h.next=D:this.g=D,this.h=D}}var w=new x(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let R,L=!1,C=new v,E=()=>{const h=Promise.resolve(void 0);R=()=>{h.then(I)}};function I(){for(var h;h=_();){try{h.h.call(h.g)}catch(T){S(T)}var b=w;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}L=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};a.addEventListener("test",T,b),a.removeEventListener("test",T,b)}catch{}return h}();function A(h){return/^[\s\xa0]*$/.test(h)}function V(h,b){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}f(V,k),V.prototype.init=function(h,b){const T=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(T=="mouseover"?b=h.fromElement:T=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&V.Z.h.call(this)},V.prototype.h=function(){V.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),q=0;function $(h,b,T,D,H){this.listener=h,this.proxy=null,this.src=b,this.type=T,this.capture=!!D,this.ha=H,this.key=++q,this.da=this.fa=!1}function M(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function U(h,b,T){for(const D in h)b.call(T,h[D],D,h)}function Y(h,b){for(const T in h)b.call(void 0,h[T],T,h)}function K(h){const b={};for(const T in h)b[T]=h[T];return b}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(h,b){let T,D;for(let H=1;H<arguments.length;H++){D=arguments[H];for(T in D)h[T]=D[T];for(let G=0;G<ue.length;G++)T=ue[G],Object.prototype.hasOwnProperty.call(D,T)&&(h[T]=D[T])}}function we(h){this.src=h,this.g={},this.h=0}we.prototype.add=function(h,b,T,D,H){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const ve=Ie(h,b,D,H);return ve>-1?(b=h[ve],T||(b.fa=!1)):(b=new $(b,this.src,G,!!D,H),b.fa=T,h.push(b)),b};function ze(h,b){const T=b.type;if(T in h.g){var D=h.g[T],H=Array.prototype.indexOf.call(D,b,void 0),G;(G=H>=0)&&Array.prototype.splice.call(D,H,1),G&&(M(b),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ie(h,b,T,D){for(let H=0;H<h.length;++H){const G=h[H];if(!G.da&&G.listener==b&&G.capture==!!T&&G.ha==D)return H}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),Oe={};function $e(h,b,T,D,H){if(D&&D.once)return se(h,b,T,D,H);if(Array.isArray(b)){for(let G=0;G<b.length;G++)$e(h,b[G],T,D,H);return null}return T=ke(T),h&&h[F]?h.J(b,T,l(D)?!!D.capture:!!D,H):W(h,b,T,!1,D,H)}function W(h,b,T,D,H,G){if(!b)throw Error("Invalid event type");const ve=l(H)?!!H.capture:!!H;let et=ce(h);if(et||(h[fe]=et=new we(h)),T=et.add(b,T,D,ve,G),T.proxy)return T;if(D=he(),T.proxy=D,D.src=h,D.listener=T,h.addEventListener)N||(H=ve),H===void 0&&(H=!1),h.addEventListener(b.toString(),D,H);else if(h.attachEvent)h.attachEvent(lt(b.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function he(){function h(T){return b.call(h.src,h.listener,T)}const b=B;return h}function se(h,b,T,D,H){if(Array.isArray(b)){for(let G=0;G<b.length;G++)se(h,b[G],T,D,H);return null}return T=ke(T),h&&h[F]?h.K(b,T,l(D)?!!D.capture:!!D,H):W(h,b,T,!0,D,H)}function je(h,b,T,D,H){if(Array.isArray(b))for(var G=0;G<b.length;G++)je(h,b[G],T,D,H);else D=l(D)?!!D.capture:!!D,T=ke(T),h&&h[F]?(h=h.i,G=String(b).toString(),G in h.g&&(b=h.g[G],T=Ie(b,T,D,H),T>-1&&(M(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete h.g[G],h.h--)))):h&&(h=ce(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Ie(b,T,D,H)),(T=h>-1?b[h]:null)&&qe(T))}function qe(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[F])ze(b.i,h);else{var T=h.type,D=h.proxy;b.removeEventListener?b.removeEventListener(T,D,h.capture):b.detachEvent?b.detachEvent(lt(T),D):b.addListener&&b.removeListener&&b.removeListener(D),(T=ce(b))?(ze(T,h),T.h==0&&(T.src=null,b[fe]=null)):M(h)}}}function lt(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function B(h,b){if(h.da)h=!0;else{b=new V(b,this);const T=h.listener,D=h.ha||h.src;h.fa&&qe(h),h=T.call(D,b)}return h}function ce(h){return h=h[fe],h instanceof we?h:null}var Ve="__closure_events_fn_"+(Math.random()*1e9>>>0);function ke(h){return typeof h=="function"?h:(h[Ve]||(h[Ve]=function(b){return h.handleEvent(b)}),h[Ve])}function Ae(){P.call(this),this.i=new we(this),this.M=this,this.G=null}f(Ae,P),Ae.prototype[F]=!0,Ae.prototype.removeEventListener=function(h,b,T,D){je(this,h,b,T,D)};function ye(h,b){var T,D=h.G;if(D)for(T=[];D;D=D.G)T.push(D);if(h=h.M,D=b.type||b,typeof b=="string")b=new k(b,h);else if(b instanceof k)b.target=b.target||h;else{var H=b;b=new k(D,h),Se(b,H)}H=!0;let G,ve;if(T)for(ve=T.length-1;ve>=0;ve--)G=b.g=T[ve],H=Je(G,D,!0,b)&&H;if(G=b.g=h,H=Je(G,D,!0,b)&&H,H=Je(G,D,!1,b)&&H,T)for(ve=0;ve<T.length;ve++)G=b.g=T[ve],H=Je(G,D,!1,b)&&H}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const T=h.g[b];for(let D=0;D<T.length;D++)M(T[D]);delete h.g[b],h.h--}}this.G=null},Ae.prototype.J=function(h,b,T,D){return this.i.add(String(h),b,!1,T,D)},Ae.prototype.K=function(h,b,T,D){return this.i.add(String(h),b,!0,T,D)};function Je(h,b,T,D){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let H=!0;for(let G=0;G<b.length;++G){const ve=b[G];if(ve&&!ve.da&&ve.capture==T){const et=ve.listener,ln=ve.ha||ve.src;ve.fa&&ze(h.i,ve),H=et.call(ln,D)!==!1&&H}}return H&&!D.defaultPrevented}function J(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:a.setTimeout(h,b||0)}function ee(h){h.g=J(()=>{h.g=null,h.i&&(h.i=!1,ee(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class ie extends P{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pe(h){P.call(this),this.h=h,this.g={}}f(Pe,P);var nt=[];function Ct(h){U(h.g,function(b,T){this.g.hasOwnProperty(T)&&qe(b)},h),h.g={}}Pe.prototype.N=function(){Pe.Z.N.call(this),Ct(this)},Pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=a.JSON.stringify,Yn=a.JSON.parse,br=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Es(){}function Ts(){}var or={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function es(){k.call(this,"d")}f(es,k);function _r(){k.call(this,"c")}f(_r,k);var an={},ir=null;function O(){return ir=ir||new Ae}an.Ia="serverreachability";function be(h){k.call(this,an.Ia,h)}f(be,k);function te(h){const b=O();ye(b,new be(b))}an.STAT_EVENT="statevent";function ge(h,b){k.call(this,an.STAT_EVENT,h),this.stat=b}f(ge,k);function de(h){const b=O();ye(b,new ge(b,h))}an.Ja="timingevent";function rt(h,b){k.call(this,an.Ja,h),this.size=b}f(rt,k);function We(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},b)}function z(){this.g=!0}z.prototype.ua=function(){this.g=!1};function ne(h,b,T,D,H,G){h.info(function(){if(h.g)if(G){var ve="",et=G.split("&");for(let St=0;St<et.length;St++){var ln=et[St].split("=");if(ln.length>1){const wn=ln[0];ln=ln[1];const js=wn.split("_");ve=js.length>=2&&js[1]=="type"?ve+(wn+"="+ln+"&"):ve+(wn+"=redacted&")}}}else ve=null;else ve=G;return"XMLHTTP REQ ("+D+") [attempt "+H+"]: "+b+`
`+T+`
`+ve})}function ae(h,b,T,D,H,G,ve){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+H+"]: "+b+`
`+T+`
`+G+" "+ve})}function xe(h,b,T,D){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+yn(h,T)+(D?" "+D:"")})}function xn(h,b){h.info(function(){return"TIMEOUT: "+b})}z.prototype.info=function(){};function yn(h,b){if(!h.g)return b;if(!b)return null;try{const G=JSON.parse(b);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var T=G[h];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var H=D[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ve=1;ve<D.length;ve++)D[ve]=""}}}}return vn(G)}catch{return b}}var ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tl;function nl(){}f(nl,Es),nl.prototype.g=function(){return new XMLHttpRequest},tl=new nl;function gt(h){return encodeURIComponent(String(h))}function yt(h){var b=1;h=h.split(":");const T=[];for(;b>0&&h.length;)T.push(h.shift()),b--;return h.length&&T.push(h.join(":")),T}function Ot(h,b,T,D){this.j=h,this.i=b,this.l=T,this.S=D||1,this.V=new Pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new S1}function S1(){this.i=null,this.g="",this.h=!1}var C1={},pg={};function mg(h,b,T){h.M=1,h.A=ah(Ns(b)),h.u=T,h.R=!0,E1(h,null)}function E1(h,b){h.F=Date.now(),ih(h),h.B=Ns(h.A);var T=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),F1(T.i,"t",D),h.C=0,T=h.j.L,h.h=new S1,h.g=n_(h.j,T?b:null,!h.u),h.P>0&&(h.O=new ie(u(h.Y,h,h.g),h.P)),b=h.V,T=h.g,D=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(nt[0]=H.toString()),H=nt);for(let G=0;G<H.length;G++){const ve=$e(T,H[G],D||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=h.J?K(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),te(),ne(h.i,h.v,h.B,h.l,h.S,h.u)}Ot.prototype.ba=function(h){h=h.target;const b=this.O;b&&Fo(h)==3?b.j():this.Y(h)},Ot.prototype.Y=function(h){try{if(h==this.g)e:{const et=Fo(this.g),ln=this.g.ya(),St=this.g.ca();if(!(et<3)&&(et!=3||this.g&&(this.h.h||this.g.la()||W1(this.g)))){this.K||et!=4||ln==7||(ln==8||St<=0?te(3):te(2)),gg(this);var b=this.g.ca();this.X=b;var T=IO(this);if(this.o=b==200,ae(this.i,this.v,this.B,this.l,this.S,et,b),this.o){if(this.U&&!this.L){t:{if(this.g){var D,H=this.g;if((D=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(D)){var G=D;break t}}G=null}if(h=G)xe(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vg(this,h);else{this.o=!1,this.m=3,de(12),Ki(this),Vc(this);break e}}if(this.R){h=!0;let wn;for(;!this.K&&this.C<T.length;)if(wn=AO(this,T),wn==pg){et==4&&(this.m=4,de(14),h=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==C1){this.m=4,de(15),xe(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else xe(this.i,this.l,wn,null),vg(this,wn);if(T1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||T.length!=0||this.h.h||(this.m=1,de(16),h=!1),this.o=this.o&&h,!h)xe(this.i,this.l,T,"[Invalid Chunked Response]"),Ki(this),Vc(this);else if(T.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Eg(ve),ve.P=!0,de(11))}}else xe(this.i,this.l,T,null),vg(this,T);et==4&&Ki(this),this.o&&!this.K&&(et==4?Z1(this.j,this):(this.o=!1,ih(this)))}else HO(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,de(12)):(this.m=0,de(13)),Ki(this),Vc(this)}}}catch{}finally{}};function IO(h){if(!T1(h))return h.g.la();const b=W1(h.g);if(b==="")return"";let T="";const D=b.length,H=Fo(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ki(h),Vc(h),"";h.h.i=new a.TextDecoder}for(let G=0;G<D;G++)h.h.h=!0,T+=h.h.i.decode(b[G],{stream:!(H&&G==D-1)});return b.length=0,h.h.g+=T,h.C=0,h.h.g}function T1(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function AO(h,b){var T=h.C,D=b.indexOf(`
`,T);return D==-1?pg:(T=Number(b.substring(T,D)),isNaN(T)?C1:(D+=1,D+T>b.length?pg:(b=b.slice(D,D+T),h.C=D+T,b)))}Ot.prototype.cancel=function(){this.K=!0,Ki(this)};function ih(h){h.T=Date.now()+h.H,N1(h,h.H)}function N1(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=We(u(h.aa,h),b)}function gg(h){h.D&&(a.clearTimeout(h.D),h.D=null)}Ot.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(xn(this.i,this.B),this.M!=2&&(te(),de(17)),Ki(this),this.m=2,Vc(this)):N1(this,this.T-h)};function Vc(h){h.j.I==0||h.K||Z1(h.j,h)}function Ki(h){gg(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Ct(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function vg(h,b){try{var T=h.j;if(T.I!=0&&(T.g==h||xg(T.h,h))){if(!h.L&&xg(T.h,h)&&T.I==3){try{var D=T.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var H=D;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)hh(T),uh(T);else break e;Cg(T),de(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=We(u(T.Va,T),6e3));P1(T.h)<=1&&T.ta&&(T.ta=void 0)}else Xi(T,11)}else if((h.L||T.g==h)&&hh(T),!A(b))for(H=T.Ba.g.parse(b),b=0;b<H.length;b++){let St=H[b];const wn=St[0];if(!(wn<=T.K))if(T.K=wn,St=St[1],T.I==2)if(St[0]=="c"){T.M=St[1],T.ba=St[2];const js=St[3];js!=null&&(T.ka=js,T.j.info("VER="+T.ka));const Zi=St[4];Zi!=null&&(T.za=Zi,T.j.info("SVER="+T.za));const Vo=St[5];Vo!=null&&typeof Vo=="number"&&Vo>0&&(D=1.5*Vo,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const zo=h.g;if(zo){const ph=zo.g?zo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ph){var G=D.h;G.g||ph.indexOf("spdy")==-1&&ph.indexOf("quic")==-1&&ph.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(yg(G,G.h),G.h=null))}if(D.G){const Tg=zo.g?zo.g.getResponseHeader("X-HTTP-Session-Id"):null;Tg&&(D.wa=Tg,kt(D.J,D.G,Tg))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var ve=h;if(D.na=t_(D,D.L?D.ba:null,D.W),ve.L){I1(D.h,ve);var et=ve,ln=D.O;ln&&(et.H=ln),et.D&&(gg(et),ih(et)),D.g=ve}else Q1(D);T.i.length>0&&dh(T)}else St[0]!="stop"&&St[0]!="close"||Xi(T,7);else T.I==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Xi(T,7):Sg(T):St[0]!="noop"&&T.l&&T.l.qa(St),T.A=0)}}te(4)}catch{}}var RO=class{constructor(h,b){this.g=h,this.map=b}};function j1(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function k1(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function P1(h){return h.h?1:h.g?h.g.size:0}function xg(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function yg(h,b){h.g?h.g.add(b):h.h=b}function I1(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}j1.prototype.cancel=function(){if(this.i=A1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function A1(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const T of h.g.values())b=b.concat(T.G);return b}return m(h.i)}var R1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DO(h,b){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const D=h[T].indexOf("=");let H,G=null;D>=0?(H=h[T].substring(0,D),G=h[T].substring(D+1)):H=h[T],b(H,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Oo(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Oo?(this.l=h.l,zc(this,h.j),this.o=h.o,this.g=h.g,Uc(this,h.u),this.h=h.h,wg(this,V1(h.i)),this.m=h.m):h&&(b=String(h).match(R1))?(this.l=!1,zc(this,b[1]||"",!0),this.o=Bc(b[2]||""),this.g=Bc(b[3]||"",!0),Uc(this,b[4]),this.h=Bc(b[5]||"",!0),wg(this,b[6]||"",!0),this.m=Bc(b[7]||"")):(this.l=!1,this.i=new qc(null,this.l))}Oo.prototype.toString=function(){const h=[];var b=this.j;b&&h.push($c(b,D1,!0),":");var T=this.g;return(T||b=="file")&&(h.push("//"),(b=this.o)&&h.push($c(b,D1,!0),"@"),h.push(gt(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push($c(T,T.charAt(0)=="/"?LO:OO,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",$c(T,VO)),h.join("")},Oo.prototype.resolve=function(h){const b=Ns(this);let T=!!h.j;T?zc(b,h.j):T=!!h.o,T?b.o=h.o:T=!!h.g,T?b.g=h.g:T=h.u!=null;var D=h.h;if(T)Uc(b,h.u);else if(T=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var H=b.h.lastIndexOf("/");H!=-1&&(D=b.h.slice(0,H+1)+D)}if(H=D,H==".."||H==".")D="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){D=H.lastIndexOf("/",0)==0,H=H.split("/");const G=[];for(let ve=0;ve<H.length;){const et=H[ve++];et=="."?D&&ve==H.length&&G.push(""):et==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),D&&ve==H.length&&G.push("")):(G.push(et),D=!0)}D=G.join("/")}else D=H}return T?b.h=D:T=h.i.toString()!=="",T?wg(b,V1(h.i)):T=!!h.m,T&&(b.m=h.m),b};function Ns(h){return new Oo(h)}function zc(h,b,T){h.j=T?Bc(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Uc(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function wg(h,b,T){b instanceof qc?(h.i=b,zO(h.i,h.l)):(T||(b=$c(b,FO)),h.i=new qc(b,h.l))}function kt(h,b,T){h.i.set(b,T)}function ah(h){return kt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bc(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function $c(h,b,T){return typeof h=="string"?(h=encodeURI(h).replace(b,MO),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function MO(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var D1=/[#\/\?@]/g,OO=/[#\?:]/g,LO=/[#\?]/g,FO=/[#\?@]/g,VO=/#/g;function qc(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Qi(h){h.g||(h.g=new Map,h.h=0,h.i&&DO(h.i,function(b,T){h.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=qc.prototype,t.add=function(h,b){Qi(this),this.i=null,h=rl(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(b),this.h+=1,this};function M1(h,b){Qi(h),b=rl(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function O1(h,b){return Qi(h),b=rl(h,b),h.g.has(b)}t.forEach=function(h,b){Qi(this),this.g.forEach(function(T,D){T.forEach(function(H){h.call(b,H,D,this)},this)},this)};function L1(h,b){Qi(h);let T=[];if(typeof b=="string")O1(h,b)&&(T=T.concat(h.g.get(rl(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)T=T.concat(h[b]);return T}t.set=function(h,b){return Qi(this),this.i=null,h=rl(this,h),O1(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=L1(this,h),h.length>0?String(h[0]):b):b};function F1(h,b,T){M1(h,b),T.length>0&&(h.i=null,h.g.set(rl(h,b),m(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var T=b[D];const H=gt(T);T=L1(this,T);for(let G=0;G<T.length;G++){let ve=H;T[G]!==""&&(ve+="="+gt(T[G])),h.push(ve)}}return this.i=h.join("&")};function V1(h){const b=new qc;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function rl(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function zO(h,b){b&&!h.j&&(Qi(h),h.i=null,h.g.forEach(function(T,D){const H=D.toLowerCase();D!=H&&(M1(this,D),F1(this,H,T))},h)),h.j=b}function UO(h,b){const T=new z;if(a.Image){const D=new Image;D.onload=d(Lo,T,"TestLoadImage: loaded",!0,b,D),D.onerror=d(Lo,T,"TestLoadImage: error",!1,b,D),D.onabort=d(Lo,T,"TestLoadImage: abort",!1,b,D),D.ontimeout=d(Lo,T,"TestLoadImage: timeout",!1,b,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else b(!1)}function BO(h,b){const T=new z,D=new AbortController,H=setTimeout(()=>{D.abort(),Lo(T,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:D.signal}).then(G=>{clearTimeout(H),G.ok?Lo(T,"TestPingServer: ok",!0,b):Lo(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),Lo(T,"TestPingServer: error",!1,b)})}function Lo(h,b,T,D,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),D(T)}catch{}}function $O(){this.g=new br}function bg(h){this.i=h.Sb||null,this.h=h.ab||!1}f(bg,Es),bg.prototype.g=function(){return new lh(this.i,this.h)};function lh(h,b){Ae.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(lh,Ae),t=lh.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,Hc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||a).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wc(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Hc(this)),this.g&&(this.readyState=3,Hc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;z1(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function z1(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Wc(this):Hc(this),this.readyState==3&&z1(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Wc(this))},t.Na=function(h){this.g&&(this.response=h,Wc(this))},t.ga=function(){this.g&&Wc(this)};function Wc(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Hc(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=b.next();return h.join(`\r
`)};function Hc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function U1(h){let b="";return U(h,function(T,D){b+=D,b+=":",b+=T,b+=`\r
`}),b}function _g(h,b,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=U1(T),typeof h=="string"?T!=null&&gt(T):kt(h,b,T))}function $t(h){Ae.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f($t,Ae);var qO=/^https?$/i,WO=["POST","PUT"];t=$t.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tl.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(G){B1(this,G);return}if(h=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var H in D)T.set(H,D[H]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const G of D.keys())T.set(G,D.get(G));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(G=>G.toLowerCase()=="content-type"),H=a.FormData&&h instanceof a.FormData,!(Array.prototype.indexOf.call(WO,b,void 0)>=0)||D||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ve]of T)this.g.setRequestHeader(G,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){B1(this,G)}};function B1(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,$1(h),ch(h)}function $1(h){h.A||(h.A=!0,ye(h,"complete"),ye(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ye(this,"complete"),ye(this,"abort"),ch(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ch(this,!0)),$t.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?q1(this):this.Xa())},t.Xa=function(){q1(this)};function q1(h){if(h.h&&typeof o<"u"){if(h.v&&Fo(h)==4)setTimeout(h.Ca.bind(h),0);else if(ye(h,"readystatechange"),Fo(h)==4){h.h=!1;try{const G=h.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var D;if(D=G===0){let ve=String(h.D).match(R1)[1]||null;!ve&&a.self&&a.self.location&&(ve=a.self.location.protocol.slice(0,-1)),D=!qO.test(ve?ve.toLowerCase():"")}T=D}if(T)ye(h,"complete"),ye(h,"success");else{h.o=6;try{var H=Fo(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",$1(h)}}finally{ch(h)}}}}function ch(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,b||ye(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fo(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Fo(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Yn(b)}};function W1(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function HO(h){const b={};h=(h.g&&Fo(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(A(h[D]))continue;var T=yt(h[D]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const G=b[H]||[];b[H]=G,G.push(T)}Y(b,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gc(h,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||b}function H1(h){this.za=0,this.i=[],this.j=new z,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gc("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gc("baseRetryDelayMs",5e3,h),this.Za=Gc("retryDelaySeedMs",1e4,h),this.Ta=Gc("forwardChannelMaxRetries",2,h),this.va=Gc("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new j1(h&&h.concurrentRequestLimit),this.Ba=new $O,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=H1.prototype,t.ka=8,t.I=1,t.connect=function(h,b,T,D){de(0),this.W=h,this.H=b||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=t_(this,null,this.W),dh(this)};function Sg(h){if(G1(h),h.I==3){var b=h.V++,T=Ns(h.J);if(kt(T,"SID",h.M),kt(T,"RID",b),kt(T,"TYPE","terminate"),Yc(h,T),b=new Ot(h,h.j,b),b.M=2,b.A=ah(Ns(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&a.Image&&(new Image().src=b.A,T=!0),T||(b.g=n_(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ih(b)}e_(h)}function uh(h){h.g&&(Eg(h),h.g.cancel(),h.g=null)}function G1(h){uh(h),h.v&&(a.clearTimeout(h.v),h.v=null),hh(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&a.clearTimeout(h.m),h.m=null)}function dh(h){if(!k1(h.h)&&!h.m){h.m=!0;var b=h.Ea;R||E(),L||(R(),L=!0),C.add(b,h),h.D=0}}function GO(h,b){return P1(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=We(u(h.Ea,h,b),J1(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new Ot(this,this.j,h);let G=this.o;if(this.U&&(G?(G=K(G),Se(G,this.U)):G=this.U),this.u!==null||this.R||(H.J=G,G=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=K1(this,H,b),T=Ns(this.J),kt(T,"RID",h),kt(T,"CVER",22),this.G&&kt(T,"X-HTTP-Session-Id",this.G),Yc(this,T),G&&(this.R?b="headers="+gt(U1(G))+"&"+b:this.u&&_g(T,this.u,G)),yg(this.h,H),this.Ra&&kt(T,"TYPE","init"),this.S?(kt(T,"$req",b),kt(T,"SID","null"),H.U=!0,mg(H,T,null)):mg(H,T,b),this.I=2}}else this.I==3&&(h?Y1(this,h):this.i.length==0||k1(this.h)||Y1(this))};function Y1(h,b){var T;b?T=b.l:T=h.V++;const D=Ns(h.J);kt(D,"SID",h.M),kt(D,"RID",T),kt(D,"AID",h.K),Yc(h,D),h.u&&h.o&&_g(D,h.u,h.o),T=new Ot(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),b&&(h.i=b.G.concat(h.i)),b=K1(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),yg(h.h,T),mg(T,D,b)}function Yc(h,b){h.H&&U(h.H,function(T,D){kt(b,D,T)}),h.l&&U({},function(T,D){kt(b,D,T)})}function K1(h,b,T){T=Math.min(h.i.length,T);const D=h.l?u(h.l.Ka,h.l,h):null;e:{var H=h.i;let et=-1;for(;;){const ln=["count="+T];et==-1?T>0?(et=H[0].g,ln.push("ofs="+et)):et=0:ln.push("ofs="+et);let St=!0;for(let wn=0;wn<T;wn++){var G=H[wn].g;const js=H[wn].map;if(G-=et,G<0)et=Math.max(0,H[wn].g-100),St=!1;else try{G="req"+G+"_"||"";try{var ve=js instanceof Map?js:Object.entries(js);for(const[Zi,Vo]of ve){let zo=Vo;l(Vo)&&(zo=vn(Vo)),ln.push(G+Zi+"="+encodeURIComponent(zo))}}catch(Zi){throw ln.push(G+"type="+encodeURIComponent("_badmap")),Zi}}catch{D&&D(js)}}if(St){ve=ln.join("&");break e}}ve=void 0}return h=h.i.splice(0,T),b.G=h,ve}function Q1(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;R||E(),L||(R(),L=!0),C.add(b,h),h.A=0}}function Cg(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=We(u(h.Da,h),J1(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,X1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=We(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,de(10),uh(this),X1(this))};function Eg(h){h.B!=null&&(a.clearTimeout(h.B),h.B=null)}function X1(h){h.g=new Ot(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Ns(h.na);kt(b,"RID","rpc"),kt(b,"SID",h.M),kt(b,"AID",h.K),kt(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&kt(b,"TO",h.ia),kt(b,"TYPE","xmlhttp"),Yc(h,b),h.u&&h.o&&_g(b,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ah(Ns(b)),T.u=null,T.R=!0,E1(T,h)}t.Va=function(){this.C!=null&&(this.C=null,uh(this),Cg(this),de(19))};function hh(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function Z1(h,b){var T=null;if(h.g==b){hh(h),Eg(h),h.g=null;var D=2}else if(xg(h.h,b))T=b.G,I1(h.h,b),D=1;else return;if(h.I!=0){if(b.o)if(D==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var H=h.D;D=O(),ye(D,new rt(D,T)),dh(h)}else Q1(h);else if(H=b.m,H==3||H==0&&b.X>0||!(D==1&&GO(h,b)||D==2&&Cg(h)))switch(T&&T.length>0&&(b=h.h,b.i=b.i.concat(T)),H){case 1:Xi(h,5);break;case 4:Xi(h,10);break;case 3:Xi(h,6);break;default:Xi(h,2)}}}function J1(h,b){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*b}function Xi(h,b){if(h.j.info("Error code "+b),b==2){var T=u(h.bb,h),D=h.Ua;const H=!D;D=new Oo(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zc(D,"https"),ah(D),H?UO(D.toString(),T):BO(D.toString(),T)}else de(2);h.I=0,h.l&&h.l.pa(b),e_(h),G1(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function e_(h){if(h.I=0,h.ja=[],h.l){const b=A1(h.h);(b.length!=0||h.i.length!=0)&&(y(h.ja,b),y(h.ja,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.oa()}}function t_(h,b,T){var D=T instanceof Oo?Ns(T):new Oo(T);if(D.g!="")b&&(D.g=b+"."+D.g),Uc(D,D.u);else{var H=a.location;D=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;const G=new Oo(null);D&&zc(G,D),b&&(G.g=b),H&&Uc(G,H),T&&(G.h=T),D=G}return T=h.G,b=h.wa,T&&b&&kt(D,T,b),kt(D,"VER",h.ka),Yc(h,D),D}function n_(h,b,T){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new $t(new bg({ab:T})):new $t(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function r_(){}t=r_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fh(){}fh.prototype.g=function(h,b){return new Sr(h,b)};function Sr(h,b){Ae.call(this),this.g=new H1(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!A(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!A(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new sl(this)}f(Sr,Ae),Sr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sr.prototype.close=function(){Sg(this.g)},Sr.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=vn(h),h=T);b.i.push(new RO(b.Ya++,h)),b.I==3&&dh(b)},Sr.prototype.N=function(){this.g.l=null,delete this.j,Sg(this.g),delete this.g,Sr.Z.N.call(this)};function s_(h){es.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const T in b){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}f(s_,es);function o_(){_r.call(this),this.status=1}f(o_,_r);function sl(h){this.g=h}f(sl,r_),sl.prototype.ra=function(){ye(this.g,"a")},sl.prototype.qa=function(h){ye(this.g,new s_(h))},sl.prototype.pa=function(h){ye(this.g,new o_)},sl.prototype.oa=function(){ye(this.g,"b")},fh.prototype.createWebChannel=fh.prototype.g,Sr.prototype.send=Sr.prototype.o,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,LR=function(){return new fh},OR=function(){return O()},MR=an,$x={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,Ef=ts,el.COMPLETE="complete",DR=el,Ts.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,wu=Ts,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,RR=$t}).apply(typeof Yh<"u"?Yh:typeof self<"u"?self:typeof window<"u"?window:{});const RE="@firebase/firestore",DE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new ob("@firebase/firestore");function hl(){return za.logLevel}function Ee(t,...e){if(za.logLevel<=ut.DEBUG){const n=e.map(lb);za.debug(`Firestore (${Ic}): ${t}`,...n)}}function ko(t,...e){if(za.logLevel<=ut.ERROR){const n=e.map(lb);za.error(`Firestore (${Ic}): ${t}`,...n)}}function dc(t,...e){if(za.logLevel<=ut.WARN){const n=e.map(lb);za.warn(`Firestore (${Ic}): ${t}`,...n)}}function lb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,FR(t,r,n)}function FR(t,e,n){let r=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ko(r),new Error(r)}function xt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||FR(e,s,r)}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Mo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class KW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QW{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new wo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wo,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wo)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new VR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class XW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new XW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=eH(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function qx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Ov(s)===Ov(o)?ft(s,o):Ov(s)?1:-1}return ft(t.length,e.length)}const tH=55296,nH=57343;function Ov(t){const e=t.charCodeAt(0);return e>=tH&&e<=nH}function hc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__name__";class Ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Ds.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ft(e.length,n.length)}static compareSegments(e,n){const r=Ds.isNumericId(e),s=Ds.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ds.extractNumericId(e).compare(Ds.extractNumericId(n)):qx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class Et extends Ds{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const rH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Ds{construct(e,n,r){return new Pn(e,n,r)}static isValidIdentifier(e){return rH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OE}static keyField(){return new Pn([OE])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new _e(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new _e(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _e(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(o(),s++)}if(o(),a)throw new _e(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Et.fromString(e))}static fromName(e){return new De(Et.fromString(e).popFirst(5))}static empty(){return new De(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e,n){if(!n)throw new _e(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sH(t,e,n,r){if(e===!0&&r===!0)throw new _e(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LE(t){if(!De.isDocumentKey(t))throw new _e(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FE(t){if(De.isDocumentKey(t))throw new _e(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Bm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function Kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bm(t);throw new _e(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function $d(t,e){if(!UR(t))throw new _e(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new _e(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=-62135596800,zE=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zE);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VE)throw new _e(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($d(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:sn("string",At._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new At(0,0))}static max(){return new Ye(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=-1;function oH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ye.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new Pi(s,De.empty(),e)}function iH(t){return new Pi(t.readTime,t.key,vd)}class Pi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pi(Ye.min(),De.empty(),vd)}static max(){return new Pi(Ye.max(),De.empty(),vd)}}function aH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==lH)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let s=0,o=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++o,a&&o===s&&n()},c=>r(c))}),a=!0,o===s&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(s=>s?re.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new re((r,s)=>{const o=e.length,a=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===o&&r(a)},d=>s(d))}})}static doWhile(e,n){return new re((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function uH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$m.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=-1;function qm(t){return t==null}function Ip(t){return t===0&&1/t==-1/0}function dH(t){return typeof t=="number"&&Number.isInteger(t)&&!Ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="";function hH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UE(e)),e=fH(t.get(n),e);return UE(e)}function fH(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case BR:n+="";break;default:n+=o}}return n}function UE(t){return t+BR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $i(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $R(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kh(this.root,e,this.comparator,!0)}}class Kh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??kn.RED,this.left=s??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new kn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $E(this.data.getIterator())}getIteratorFrom(e){return new $E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gn(this.comparator);return n.data=e,n}}class $E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new jr([])}unionWith(e){let n=new gn(Pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qR("Invalid base64 string: "+o):o}}(e);return new Dn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const pH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=pH.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ai(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="server_timestamp",HR="__type__",GR="__previous_value__",YR="__local_write_time__";function db(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HR])==null?void 0:r.stringValue)===WR}function Wm(t){const e=t.mapValue.fields[GR];return db(e)?Wm(e):e}function xd(t){const e=Ii(t.mapValue.fields[YR].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n,r,s,o,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Ap="(default)";class yd{constructor(e,n){this.projectId=e,this.database=n||Ap}static empty(){return new yd("","")}get isDefaultDatabase(){return this.database===Ap}isEqual(e){return e instanceof yd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="__type__",QR="__max__",Qh={mapValue:{fields:{__type__:{stringValue:QR}}}},XR="__vector__",Rp="value";function Ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?db(t)?4:vH(t)?9007199254740991:gH(t)?10:11:Be(28295,{value:t})}function Js(t,e){if(t===e)return!0;const n=Ri(t);if(n!==Ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xd(t).isEqual(xd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=Ii(s.timestampValue),l=Ii(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ai(s.bytesValue).isEqual(Ai(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Gt(s.geoPointValue.latitude)===Gt(o.geoPointValue.latitude)&&Gt(s.geoPointValue.longitude)===Gt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Gt(s.integerValue)===Gt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=Gt(s.doubleValue),l=Gt(o.doubleValue);return a===l?Ip(a)===Ip(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:case 11:return function(s,o){const a=s.mapValue.fields||{},l=o.mapValue.fields||{};if(BE(a)!==BE(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Js(a[c],l[c])))return!1;return!0}(t,e);default:return Be(52216,{left:t})}}function wd(t,e){return(t.values||[]).find(n=>Js(n,e))!==void 0}function fc(t,e){if(t===e)return 0;const n=Ri(t),r=Ri(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=Gt(o.integerValue||o.doubleValue),c=Gt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return qE(t.timestampValue,e.timestampValue);case 4:return qE(xd(t),xd(e));case 5:return qx(t.stringValue,e.stringValue);case 6:return function(o,a){const l=Ai(o),c=Ai(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=ft(l[u],c[u]);if(d!==0)return d}return ft(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=ft(Gt(o.latitude),Gt(a.latitude));return l!==0?l:ft(Gt(o.longitude),Gt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WE(t.arrayValue,e.arrayValue);case 10:return function(o,a){var p,m,y,x;const l=o.fields||{},c=a.fields||{},u=(p=l[Rp])==null?void 0:p.arrayValue,d=(m=c[Rp])==null?void 0:m.arrayValue,f=ft(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return f!==0?f:WE(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Qh.mapValue&&a===Qh.mapValue)return 0;if(o===Qh.mapValue)return 1;if(a===Qh.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=qx(c[f],d[f]);if(p!==0)return p;const m=fc(l[c[f]],u[d[f]]);if(m!==0)return m}return ft(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function qE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=Ii(t),r=Ii(e),s=ft(n.seconds,r.seconds);return s!==0?s:ft(n.nanos,r.nanos)}function WE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=fc(n[s],r[s]);if(o)return o}return ft(n.length,r.length)}function pc(t){return Wx(t)}function Wx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ai(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Wx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Wx(n.fields[a])}`;return s+"}"}(t.mapValue):Be(61005,{value:t})}function Tf(t){switch(Ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wm(t);return e?16+Tf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Tf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return $i(r.fields,(o,a)=>{s+=o.length+Tf(a)}),s}(t.mapValue);default:throw Be(13486,{value:t})}}function HE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hx(t){return!!t&&"integerValue"in t}function hb(t){return!!t&&"arrayValue"in t}function GE(t){return!!t&&"nullValue"in t}function YE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nf(t){return!!t&&"mapValue"in t}function gH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[KR])==null?void 0:r.stringValue)===XR}function Fu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $i(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fu(t.arrayValue.values[n]);return e}return{...t}}function vH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(n)}setAll(e){let n=Pn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Fu(a):s.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Nf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){$i(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new hr(Fu(this.value))}}function ZR(t){const e=[];return $i(t.fields,(n,r)=>{const s=new Pn([n]);if(Nf(r)){const o=ZR(r.mapValue).fields;if(o.length===0)e.push(s);else for(const a of o)e.push(s.child(a))}else e.push(s)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,s,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Bn(e,0,Ye.min(),Ye.min(),Ye.min(),hr.empty(),0)}static newFoundDocument(e,n,r,s){return new Bn(e,1,n,Ye.min(),r,s,0)}static newNoDocument(e,n){return new Bn(e,2,n,Ye.min(),Ye.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,Ye.min(),Ye.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.position=e,this.inclusive=n}}function KE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?r=De.comparator(De.fromName(a.referenceValue),n.key):r=fc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Js(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function xH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{}class rn extends JR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wH(e,n,r):n==="array-contains"?new SH(e,r):n==="in"?new CH(e,r):n==="not-in"?new EH(e,r):n==="array-contains-any"?new TH(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bH(e,r):new _H(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fc(n,this.value)):n!==null&&Ri(this.value)===Ri(n)&&this.matchesComparison(fc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bs extends JR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bs(e,n)}matches(e){return eD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eD(t){return t.op==="and"}function tD(t){return yH(t)&&eD(t)}function yH(t){for(const e of t.filters)if(e instanceof bs)return!1;return!0}function Gx(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+pc(t.value);if(tD(t))return t.filters.map(e=>Gx(e)).join(",");{const e=t.filters.map(n=>Gx(n)).join(",");return`${t.op}(${e})`}}function nD(t,e){return t instanceof rn?function(r,s){return s instanceof rn&&r.op===s.op&&r.field.isEqual(s.field)&&Js(r.value,s.value)}(t,e):t instanceof bs?function(r,s){return s instanceof bs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,a,l)=>o&&nD(a,s.filters[l]),!0):!1}(t,e):void Be(19439)}function rD(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${pc(n.value)}`}(t):t instanceof bs?function(n){return n.op.toString()+" {"+n.getFilters().map(rD).join(" ,")+"}"}(t):"Filter"}class wH extends rn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class bH extends rn{constructor(e,n){super(e,"in",n),this.keys=sD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _H extends rn{constructor(e,n){super(e,"not-in",n),this.keys=sD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class SH extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hb(n)&&wd(n.arrayValue,this.value)}}class CH extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wd(this.value.arrayValue,n)}}class EH extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wd(this.value.arrayValue,n)}}class TH extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,n=null,r=[],s=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=a,this.endAt=l,this.Te=null}}function XE(t,e=null,n=[],r=[],s=null,o=null,a=null){return new NH(t,e,n,r,s,o,a)}function fb(t){const e=Ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pc(r)).join(",")),e.Te=n}return e.Te}function pb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QE(t.startAt,e.startAt)&&QE(t.endAt,e.endAt)}function Yx(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n=null,r=[],s=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jH(t,e,n,r,s,o,a,l){return new Dc(t,e,n,r,s,o,a,l)}function Hm(t){return new Dc(t)}function ZE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oD(t){return t.collectionGroup!==null}function Vu(t){const e=Ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new gn(Pn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new bd(o,r))}),n.has(Pn.keyField().canonicalString())||e.Ie.push(new bd(Pn.keyField(),r))}return e.Ie}function Ws(t){const e=Ke(t);return e.Ee||(e.Ee=kH(e,Vu(t))),e.Ee}function kH(t,e){if(t.limitType==="F")return XE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new bd(s.field,o)});const n=t.endAt?new Dp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dp(t.startAt.position,t.startAt.inclusive):null;return XE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kx(t,e){const n=t.filters.concat([e]);return new Dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qx(t,e,n){return new Dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gm(t,e){return pb(Ws(t),Ws(e))&&t.limitType===e.limitType}function iD(t){return`${fb(Ws(t))}|lt:${t.limitType}`}function fl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>rD(s)).join(", ")}]`),qm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>pc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>pc(s)).join(",")),`Target(${r})`}(Ws(t))}; limitType=${t.limitType})`}function Ym(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):De.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Vu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=KE(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,Vu(r),s)||r.endAt&&!function(a,l,c){const u=KE(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,Vu(r),s))}(t,e)}function PH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aD(t){return(e,n)=>{let r=!1;for(const s of Vu(t)){const o=IH(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function IH(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(o,a,l){const c=a.data.field(o),u=l.data.field(o);return c!==null&&u!==null?fc(c,u):Be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return $R(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=new Bt(De.comparator);function Po(){return AH}const lD=new Bt(De.comparator);function bu(...t){let e=lD;for(const n of t)e=e.insert(n.key,n);return e}function cD(t){let e=lD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ga(){return zu()}function uD(){return zu()}function zu(){return new Xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const RH=new Bt(De.comparator),DH=new gn(De.comparator);function pt(...t){let e=DH;for(const n of t)e=e.add(n);return e}const MH=new gn(ft);function OH(){return MH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ip(e)?"-0":e}}function dD(t){return{integerValue:""+t}}function LH(t,e){return dH(e)?dD(e):mb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this._=void 0}}function FH(t,e,n){return t instanceof Mp?function(s,o){const a={fields:{[HR]:{stringValue:WR},[YR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&db(o)&&(o=Wm(o)),o&&(a.fields[GR]=o),{mapValue:a}}(n,e):t instanceof _d?fD(t,e):t instanceof Sd?pD(t,e):function(s,o){const a=hD(s,o),l=JE(a)+JE(s.Ae);return Hx(a)&&Hx(s.Ae)?dD(l):mb(s.serializer,l)}(t,e)}function VH(t,e,n){return t instanceof _d?fD(t,e):t instanceof Sd?pD(t,e):n}function hD(t,e){return t instanceof Op?function(r){return Hx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Mp extends Km{}class _d extends Km{constructor(e){super(),this.elements=e}}function fD(t,e){const n=mD(e);for(const r of t.elements)n.some(s=>Js(s,r))||n.push(r);return{arrayValue:{values:n}}}class Sd extends Km{constructor(e){super(),this.elements=e}}function pD(t,e){let n=mD(e);for(const r of t.elements)n=n.filter(s=>!Js(s,r));return{arrayValue:{values:n}}}class Op extends Km{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function JE(t){return Gt(t.integerValue||t.doubleValue)}function mD(t){return hb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof _d&&s instanceof _d||r instanceof Sd&&s instanceof Sd?hc(r.elements,s.elements,Js):r instanceof Op&&s instanceof Op?Js(r.Ae,s.Ae):r instanceof Mp&&s instanceof Mp}(t.transform,e.transform)}class UH{constructor(e,n){this.version=e,this.transformResults=n}}class ms{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ms}static exists(e){return new ms(void 0,e)}static updateTime(e){return new ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qm{}function gD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gb(t.key,ms.none()):new qd(t.key,t.data,ms.none());{const n=t.data,r=hr.empty();let s=new gn(Pn.comparator);for(let o of e.fields)if(!s.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),s=s.add(o)}return new qi(t.key,r,new jr(s.toArray()),ms.none())}}function BH(t,e,n){t instanceof qd?function(s,o,a){const l=s.value.clone(),c=tT(s.fieldTransforms,o,a.transformResults);l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(s,o,a){if(!jf(s.precondition,o))return void o.convertToUnknownDocument(a.version);const l=tT(s.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(vD(s)),c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Uu(t,e,n,r){return t instanceof qd?function(o,a,l,c){if(!jf(o.precondition,a))return l;const u=o.value.clone(),d=nT(o.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qi?function(o,a,l,c){if(!jf(o.precondition,a))return l;const u=nT(o.fieldTransforms,c,a),d=a.data;return d.setAll(vD(o)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,l){return jf(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function $H(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=hD(r.transform,s||null);o!=null&&(n===null&&(n=hr.empty()),n.set(r.field,o))}return n||null}function eT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&hc(r,s,(o,a)=>zH(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qd extends Qm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qi extends Qm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tT(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],a=o.transform,l=e.data.field(o.field);r.set(o.field,VH(a,l,n[s]))}return r}function nT(t,e,n){const r=new Map;for(const s of t){const o=s.transform,a=n.data.field(s.field);r.set(s.field,FH(o,a,e))}return r}class gb extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qH extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&BH(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uD();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(s.key)?null:l;const c=gD(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pt())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,(n,r)=>eT(n,r))&&hc(this.baseMutations,e.baseMutations,(n,r)=>eT(n,r))}}class vb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return RH}();const o=e.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new vb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,mt;function YH(t){switch(t){case Z.OK:return Be(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function xD(t){if(t===void 0)return ko("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Qt.OK:return Z.OK;case Qt.CANCELLED:return Z.CANCELLED;case Qt.UNKNOWN:return Z.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return Z.INTERNAL;case Qt.UNAVAILABLE:return Z.UNAVAILABLE;case Qt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Qt.NOT_FOUND:return Z.NOT_FOUND;case Qt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Qt.ABORTED:return Z.ABORTED;case Qt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Qt.DATA_LOSS:return Z.DATA_LOSS;default:return Be(39323,{code:t})}}(mt=Qt||(Qt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=new _i([4294967295,4294967295],0);function rT(t){const e=KH().encode(t),n=new AR;return n.update(e),new Uint8Array(n.digest())}function sT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _i([n,r],0),new _i([s,o],0)]}class xb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _u(`Invalid padding: ${n}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _u(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_i.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(_i.fromNumber(r)));return s.compare(QH)===1&&(s=new _i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rT(e),[r,s]=sT(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new xb(o,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=rT(e),[r,s]=sT(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,s,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xm(Ye.min(),s,new Bt(ft),Po(),pt())}}class Wd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wd(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class yD{constructor(e,n){this.targetId=e,this.Ce=n}}class wD{constructor(e,n,r=Dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class oT{constructor(){this.ve=0,this.Fe=iT(),this.Me=Dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),n=pt(),r=pt();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Be(38017,{changeType:o})}}),new Wd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=iT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Po(),this.Je=Xh(),this.He=Xh(),this.Ye=new Bt(ft)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Yx(o))if(r===0){const a=new De(o.path);this.et(n,a,Bn.newNoDocument(a,Ye.min()))}else xt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=Ai(r).toUint8Array()}catch(c){if(c instanceof qR)return dc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new xb(a,s,o)}catch(c){return dc(c instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const l=this.ot(a);if(l){if(o.current&&Yx(l.target)){const c=new De(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Bn.newNoDocument(c,e))}o.Be&&(n.set(a,o.ke()),o.qe())}});let r=pt();this.He.forEach((o,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const s=new Xm(e,n,this.Ye,this.je,r);return this.je=Po(),this.Je=Xh(),this.He=Xh(),this.Ye=new Bt(ft),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new gn(ft),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new gn(ft),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xh(){return new Bt(De.comparator)}function iT(){return new Bt(De.comparator)}const ZH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),JH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),eG=(()=>({and:"AND",or:"OR"}))();class tG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xx(t,e){return t.useProto3Json||qm(e)?e:{value:e}}function Lp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nG(t,e){return Lp(t,e.toTimestamp())}function Hs(t){return xt(!!t,49232),Ye.fromTimestamp(function(n){const r=Ii(n);return new At(r.seconds,r.nanos)}(t))}function yb(t,e){return Zx(t,e).canonicalString()}function Zx(t,e){const n=function(s){return new Et(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _D(t){const e=Et.fromString(t);return xt(ND(e),10190,{key:e.toString()}),e}function Jx(t,e){return yb(t.databaseId,e.path)}function Lv(t,e){const n=_D(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(CD(n))}function SD(t,e){return yb(t.databaseId,e)}function rG(t){const e=_D(t);return e.length===4?Et.emptyPath():CD(e)}function ey(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CD(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aT(t,e,n){return{name:Jx(t,e),fields:n.value.mapValue.fields}}function sG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Be(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(xt(d===void 0||typeof d=="string",58123),Dn.fromBase64String(d||"")):(xt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?Z.UNKNOWN:xD(u.code);return new _e(d,u.message||"")}(a);n=new wD(r,s,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Lv(t,r.document.name),o=Hs(r.document.updateTime),a=r.document.createTime?Hs(r.document.createTime):Ye.min(),l=new hr({mapValue:{fields:r.document.fields}}),c=Bn.newFoundDocument(s,o,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new kf(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Lv(t,r.document),o=r.readTime?Hs(r.readTime):Ye.min(),a=Bn.newNoDocument(s,o),l=r.removedTargetIds||[];n=new kf([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Lv(t,r.document),o=r.removedTargetIds||[];n=new kf([],o,s,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,a=new GH(s,o),l=r.targetId;n=new yD(l,a)}}return n}function oG(t,e){let n;if(e instanceof qd)n={update:aT(t,e.key,e.value)};else if(e instanceof gb)n={delete:Jx(t,e.key)};else if(e instanceof qi)n={update:aT(t,e.key,e.data),updateMask:pG(e.fieldMask)};else{if(!(e instanceof qH))return Be(16599,{Vt:e.type});n={verify:Jx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof Mp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _d)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Sd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Op)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Be(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:nG(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Be(27497)}(t,e.precondition)),n}function iG(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map(n=>function(s,o){let a=s.updateTime?Hs(s.updateTime):Hs(o);return a.isEqual(Ye.min())&&(a=Hs(o)),new UH(a,s.transformResults||[])}(n,e))):[]}function aG(t,e){return{documents:[SD(t,e.path)]}}function lG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SD(t,s);const o=function(u){if(u.length!==0)return TD(bs.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:pl(p.field),direction:dG(p.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Xx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function cG(t){let e=rG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const p=ED(f);return p instanceof bs&&tD(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(y){return new bd(ml(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,qm(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,m=f.values||[];return new Dp(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new Dp(m,p)}(n.endAt)),jH(e,s,a,o,l,"F",c,u)}function uG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ED(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ml(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ml(n.unaryFilter.field);return rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ml(n.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ml(n.unaryFilter.field);return rn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(t):t.fieldFilter!==void 0?function(n){return rn.create(ml(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bs.create(n.compositeFilter.filters.map(r=>ED(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(t):Be(30097,{filter:t})}function dG(t){return ZH[t]}function hG(t){return JH[t]}function fG(t){return eG[t]}function pl(t){return{fieldPath:t.canonicalString()}}function ml(t){return Pn.fromServerFormat(t.fieldPath)}function TD(t){return t instanceof rn?function(n){if(n.op==="=="){if(YE(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NAN"}};if(GE(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YE(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NAN"}};if(GE(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(n.field),op:hG(n.op),value:n.value}}}(t):t instanceof bs?function(n){const r=n.getFilters().map(s=>TD(s));return r.length===1?r[0]:{compositeFilter:{op:fG(n.op),filters:r}}}(t):Be(54877,{filter:t})}function pG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ND(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r,s,o=Ye.min(),a=Ye.min(),l=Dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e){this.yt=e}}function gG(t){const e=cG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(){this.Cn=new xG}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Pi.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class xG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new gn(Et.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new gn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jD=41943040;class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(jD,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mc(0)}static cr(){return new mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LruGarbageCollector",yG=1048576;function uT([t,e],[n,r]){const s=ft(t,n);return s===0?ft(e,r):s}class wG{constructor(e){this.Ir=e,this.buffer=new gn(uT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(cT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rc(n)?Ee(cT,"Ignoring IndexedDB error during garbage collection: ",n):await Ac(n)}await this.Vr(3e5)})}}class _G{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve($m.ce);const r=new wG(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(lT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),hl()<=ut.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:f})))}}function SG(t,e){return new _G(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Uu(r.mutation,s,jr.empty(),At.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pt()){const s=ga();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let a=bu();return o.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ga();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pt()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let o=Po();const a=zu(),l=function(){return zu()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof qi)?o=o.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Uu(d.mutation,u,d.mutation.getFieldMask(),At.now())):a.set(u.key,jr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>l.set(u,new EG(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=zu();let s=new Bt((a,l)=>a-l),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||jr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||pt()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=uD();d.forEach(p=>{if(!o.has(p)){const m=gD(n.get(p),r.get(p));m!==null&&f.set(p,m),o=o.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return re.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return De.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):re.resolve(ga());let l=vd,c=o;return a.next(u=>re.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(d)?re.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,pt())).next(d=>({batchId:l,changes:cD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let s=bu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let a=bu();return this.indexManager.getCollectionParents(e,o).next(l=>re.forEach(l,c=>{const u=function(f,p){return new Dc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(a=>{o.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Bn.newInvalidDocument(d)))});let l=bu();return a.forEach((c,u)=>{const d=o.get(c);d!==void 0&&Uu(d.mutation,u,jr.empty(),At.now()),Ym(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Hs(s.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:gG(s.bundledQuery),readTime:Hs(s.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(){this.overlays=new Bt(De.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ga();return re.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const s=ga(),o=n.length+1,a=new De(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return re.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Bt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=ga(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=ga(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return re.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new HH(n,r));let o=this.qr.get(n);o===void 0&&(o=pt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.Qr=new gn(Sn.$r),this.Ur=new gn(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Sn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Sn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new De(new Et([])),r=new Sn(n,e),s=new Sn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Et([])),r=new Sn(n,e),s=new Sn(n,e+1);let o=pt();return this.Ur.forEachInRange([r,s],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Sn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||ft(e.Yr,n.Yr)}static Kr(e,n){return ft(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gn(Sn.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new WH(o,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Sn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return re.resolve(a)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?ub:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sn(n,0),s=new Sn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);o.push(l)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gn(ft);return n.forEach(s=>{const o=new Sn(s,0),a=new Sn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],l=>{r=r.add(l.Yr)})}),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;De.isDocumentKey(o)||(o=o.child(""));const a=new Sn(new De(o),0);let l=new gn(ft);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},a),re.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,s=>{const o=new Sn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Sn(n,0),s=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.ri=e,this.docs=function(){return new Bt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=Po();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Bn.newInvalidDocument(s))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Po();const a=n.path,l=new De(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||aH(iH(d),r)<=0||(s.has(d.key)||Ym(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Be(9500)}ii(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AG(this)}getSize(e){return re.resolve(this.size)}}class AG extends CG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.persistence=e,this.si=new Xa(n=>fb(n),pb),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new wb,this.targetCount=0,this.ai=mc.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),re.waitFor(o).next(()=>s)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.ui={},this.overlays={},this.ci=new $m(0),this.li=!1,this.li=!0,this.hi=new kG,this.referenceDelegate=e(this),this.Pi=new RG(this),this.indexManager=new vG,this.remoteDocumentCache=function(s){return new IG(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new mG(n),this.Ii=new NG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new PG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const s=new DG(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return re.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class DG extends cH{constructor(e){super(),this.currentSequenceNumber=e}}class bb{constructor(e){this.persistence=e,this.Ri=new wb,this.Vi=null}static mi(e){return new bb(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,r=>{const s=De.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Ye.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fp{constructor(e,n){this.persistence=e,this.pi=new Xa(r=>hH(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=SG(this,n)}static mi(e,n){return new Fp(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return re.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?re.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,o.removeEntry(a,Ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tf(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=pt(),s=pt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new _b(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Pq()?8:uH(Hn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new MG;return this.Ss(e,n,a).next(l=>{if(o.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(hl()<=ut.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(hl()<=ut.DEBUG&&Ee("QueryEngine","Query:",fl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(hl()<=ut.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ws(n))):re.resolve())}ys(e,n){if(ZE(n))return re.resolve(null);let r=Ws(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Qx(n,null,"F"),r=Ws(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=pt(...o);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,Qx(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return ZE(n)||s.isEqual(Ye.min())?re.resolve(null):this.ps.getDocuments(e,r).next(o=>{const a=this.Ds(n,o);return this.Cs(n,a,r,s)?re.resolve(null):(hl()<=ut.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fl(n)),this.vs(e,a,n,oH(s,vd)).next(l=>l))})}Ds(e,n){let r=new gn(aD(e));return n.forEach((s,o)=>{Ym(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return hl()<=ut.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",fl(n)),this.ps.getDocumentsMatchingQuery(e,n,Pi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="LocalStore",LG=3e8;class FG{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Bt(ft),this.xs=new Xa(o=>fb(o),pb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function VG(t,e,n,r){return new FG(t,e,n,r)}async function PD(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let c=pt();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function zG(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,p=f.keys();let m=re.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(c,y)).next(x=>{const S=u.docVersions.get(y);xt(S!==null,48541),x.version.compareTo(S)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=pt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ID(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function UG(t,e){const n=Ke(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Dn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(x,S,_){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=LG?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,d)&&l.push(n.Pi.updateTargetData(o,m))});let c=Po(),u=pt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(BG(o,a,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(Ye.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return re.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=s,o))}function BG(t,e,n){let r=pt(),s=pt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Po();return n.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ye.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Ee(Sb,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:s}})}function $G(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ub),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qG(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,re.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new ai(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ty(t,e,n){const r=Ke(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Rc(a))throw a;Ee(Sb,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function dT(t,e,n){const r=Ke(t);let s=Ye.min(),o=pt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const f=Ke(c),p=f.xs.get(d);return p!==void 0?re.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,a,Ws(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ye.min(),n?o:pt())).next(l=>(WG(r,PH(e),l),{documents:l,Qs:o})))}function WG(t,e,n){let r=t.Os.get(e)||Ye.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class hT{constructor(){this.activeTargetIds=OH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HG{constructor(){this.Mo=new hT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="ConnectivityMonitor";class pT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(fT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(fT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function ny(){return Zh===null?Zh=function(){return 268435456+Math.round(2147483648*Math.random())}():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="RestConnection",YG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ap?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const a=ny(),l=this.zo(e,n.toUriEncodedString());Ee(Fv,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,o);const{host:u}=new URL(l),d=kc(u);return this.Jo(e,l,c,r,d).then(f=>(Ee(Fv,`Received RPC '${e}' ${a}: `,f),f),f=>{throw dc(Fv,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,o,a){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ic}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=YG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class XG extends KG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const a=ny();return new Promise((l,c)=>{const u=new RR;u.setWithCredentials(!0),u.listenOnce(DR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ef.NO_ERROR:const f=u.getResponseJson();Ee(Ln,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case Ef.TIMEOUT:Ee(Ln,`RPC '${e}' ${a} timed out`),c(new _e(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ef.HTTP_ERROR:const p=u.getStatus();if(Ee(Ln,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const x=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(v)>=0?v:Z.UNKNOWN}(y.status);c(new _e(x,y.message))}else c(new _e(Z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new _e(Z.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ee(Ln,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);Ee(Ln,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=ny(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=LR(),l=OR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");Ee(Ln,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=a.createWebChannel(d,c);this.I_(f);let p=!1,m=!1;const y=new QG({Yo:S=>{m?Ee(Ln,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(Ee(Ln,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Ee(Ln,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),x=(S,_,v)=>{S.listen(_,w=>{try{v(w)}catch(j){setTimeout(()=>{throw j},0)}})};return x(f,wu.EventType.OPEN,()=>{m||(Ee(Ln,`RPC '${e}' stream ${s} transport opened.`),y.o_())}),x(f,wu.EventType.CLOSE,()=>{m||(m=!0,Ee(Ln,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(f))}),x(f,wu.EventType.ERROR,S=>{m||(m=!0,dc(Ln,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),y.a_(new _e(Z.UNAVAILABLE,"The operation could not be completed")))}),x(f,wu.EventType.MESSAGE,S=>{var _;if(!m){const v=S.data[0];xt(!!v,16349);const w=v,j=(w==null?void 0:w.error)||((_=w[0])==null?void 0:_.error);if(j){Ee(Ln,`RPC '${e}' stream ${s} received error:`,j);const R=j.status;let L=function(I){const P=Qt[I];if(P!==void 0)return xD(P)}(R),C=j.message;L===void 0&&(L=Z.INTERNAL,C="Unknown error status: "+R+" with message "+j.message),m=!0,y.a_(new _e(L,C)),f.close()}else Ee(Ln,`RPC '${e}' stream ${s} received:`,v),y.u_(v)}}),x(l,MR.STAT_EVENT,S=>{S.stat===$x.PROXY?Ee(Ln,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===$x.NOPROXY&&Ee(Ln,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Vv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){return new tG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="PersistentStream";class RD{constructor(e,n,r,s,o,a,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ko(n.toString()),ko("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new _e(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ee(mT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ee(mT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZG extends RD{constructor(e,n,r,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sG(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ye.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Ye.min():a.readTime?Hs(a.readTime):Ye.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ey(this.serializer),n.addTarget=function(o,a){let l;const c=a.target;if(l=Yx(c)?{documents:aG(o,c)}:{query:lG(o,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=bD(o,a.resumeToken);const u=Xx(o,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ye.min())>0){l.readTime=Lp(o,a.snapshotVersion.toTimestamp());const u=Xx(o,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=uG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ey(this.serializer),n.removeTarget=e,this.q_(n)}}class JG extends RD{constructor(e,n,r,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iG(e.writeResults,e.commitTime),r=Hs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ey(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oG(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{}class tY extends eY{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new _e(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,Zx(n,r),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(Z.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,Zx(n,r),s,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(Z.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class nY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ko(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class rY{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Za(this)&&(Ee(Ua,"Restarting streams for network reachability change."),await async function(c){const u=Ke(c);u.Ea.add(4),await Hd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Jm(u)}(this))})}),this.Ra=new nY(r,s)}}async function Jm(t){if(Za(t))for(const e of t.da)await e(!0)}async function Hd(t){for(const e of t.da)await e(!1)}function DD(t,e){const n=Ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Nb(n)?Tb(n):Mc(n).O_()&&Eb(n,e))}function Cb(t,e){const n=Ke(t),r=Mc(n);n.Ia.delete(e),r.O_()&&MD(n,e),n.Ia.size===0&&(r.O_()?r.L_():Za(n)&&n.Ra.set("Unknown"))}function Eb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mc(t).Y_(e)}function MD(t,e){t.Va.Ue(e),Mc(t).Z_(e)}function Tb(t){t.Va=new XH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Mc(t).start(),t.Ra.ua()}function Nb(t){return Za(t)&&!Mc(t).x_()&&t.Ia.size>0}function Za(t){return Ke(t).Ea.size===0}function OD(t){t.Va=void 0}async function sY(t){t.Ra.set("Online")}async function oY(t){t.Ia.forEach((e,n)=>{Eb(t,e)})}async function iY(t,e){OD(t),Nb(t)?(t.Ra.ha(e),Tb(t)):t.Ra.set("Unknown")}async function aY(t,e,n){if(t.Ra.set("Online"),e instanceof wD&&e.state===2&&e.cause)try{await async function(s,o){const a=o.cause;for(const l of o.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){Ee(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vp(t,r)}else if(e instanceof kf?t.Va.Ze(e):e instanceof yD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ye.min()))try{const r=await ID(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=o.Ia.get(c);if(!d)return;o.Ia.set(c,d.withResumeToken(Dn.EMPTY_BYTE_STRING,d.snapshotVersion)),MD(o,c);const f=new ai(d.target,c,u,d.sequenceNumber);Eb(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ee(Ua,"Failed to raise snapshot:",r),await Vp(t,r)}}async function Vp(t,e,n){if(!Rc(e))throw e;t.Ea.add(1),await Hd(t),t.Ra.set("Offline"),n||(n=()=>ID(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(Ua,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jm(t)})}function LD(t,e){return e().catch(n=>Vp(t,n,e))}async function eg(t){const e=Ke(t),n=Di(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ub;for(;lY(e);)try{const s=await $G(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,cY(e,s)}catch(s){await Vp(e,s)}FD(e)&&VD(e)}function lY(t){return Za(t)&&t.Ta.length<10}function cY(t,e){t.Ta.push(e);const n=Di(t);n.O_()&&n.X_&&n.ea(e.mutations)}function FD(t){return Za(t)&&!Di(t).x_()&&t.Ta.length>0}function VD(t){Di(t).start()}async function uY(t){Di(t).ra()}async function dY(t){const e=Di(t);for(const n of t.Ta)e.ea(n.mutations)}async function hY(t,e,n){const r=t.Ta.shift(),s=vb.from(r,e,n);await LD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await eg(t)}async function fY(t,e){e&&Di(t).X_&&await async function(r,s){if(function(a){return YH(a)&&a!==Z.ABORTED}(s.code)){const o=r.Ta.shift();Di(r).B_(),await LD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await eg(r)}}(t,e),FD(t)&&VD(t)}async function gT(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),Ee(Ua,"RemoteStore received new credentials");const r=Za(n);n.Ea.add(3),await Hd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jm(n)}async function pY(t,e){const n=Ke(t);e?(n.Ea.delete(2),await Jm(n)):e||(n.Ea.add(2),await Hd(n),n.Ra.set("Unknown"))}function Mc(t){return t.ma||(t.ma=function(n,r,s){const o=Ke(n);return o.sa(),new ZG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:sY.bind(null,t),t_:oY.bind(null,t),r_:iY.bind(null,t),H_:aY.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Nb(t)?Tb(t):t.Ra.set("Unknown")):(await t.ma.stop(),OD(t))})),t.ma}function Di(t){return t.fa||(t.fa=function(n,r,s){const o=Ke(n);return o.sa(),new JG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:uY.bind(null,t),r_:fY.bind(null,t),ta:dY.bind(null,t),na:hY.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await eg(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(Ua,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const a=Date.now()+r,l=new jb(e,n,a,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kb(t,e){if(ko("AsyncQueue",`${e}: ${t}`),Rc(t))return new _e(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{static emptySet(e){return new Wl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=bu(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.ga=new Bt(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class gc{constructor(e,n,r,s,o,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new gc(e,n,Wl.emptySet(n),a,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class gY{constructor(){this.queries=xT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ke(n),o=s.queries;s.queries=xT(),o.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new _e(Z.ABORTED,"Firestore shutting down"))}}function xT(){return new Xa(t=>iD(t),Gm)}async function Pb(t,e){const n=Ke(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new mY,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=kb(a,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Ab(n)}async function Ib(t,e){const n=Ke(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vY(t,e){const n=Ke(t);let r=!1;for(const s of e){const o=s.query,a=n.queries.get(o);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&Ab(n)}function xY(t,e,n){const r=Ke(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Ab(t){t.Ca.forEach(e=>{e.next()})}var ry,yT;(yT=ry||(ry={})).Ma="default",yT.Cache="cache";class Rb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ry.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.key=e}}class UD{constructor(e){this.key=e}}class yY{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pt(),this.mutatedKeys=pt(),this.eu=aD(e),this.tu=new Wl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new vT,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=Ym(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?y!==x&&(r.track({type:3,doc:m}),S=!0):this.su(p,m)||(r.track({type:2,doc:m}),S=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),S=!0):p&&!m&&(r.track({type:1,doc:p}),S=!0,(c||u)&&(l=!0)),S&&(m?(a=a.add(m),o=x?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,f)=>function(m,y){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:S})}};return x(m)-x(y)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new gc(this.query,e.tu,o,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new UD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new zD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Db="SyncEngine";class wY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bY{constructor(e){this.key=e,this.hu=!1}}class _Y{constructor(e,n,r,s,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Xa(l=>iD(l),Gm),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(De.comparator),this.Au=new Map,this.Ru=new wb,this.Vu={},this.mu=new Map,this.fu=mc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SY(t,e,n=!0){const r=GD(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await BD(r,e,n,!0),s}async function CY(t,e){const n=GD(t);await BD(n,e,!0,!1)}async function BD(t,e,n,r){const s=await qG(t.localStore,Ws(e)),o=s.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await EY(t,e,o,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&DD(t.remoteStore,s),l}async function EY(t,e,n,r,s){t.pu=(f,p,m)=>async function(x,S,_,v){let w=S.view.ru(_);w.Cs&&(w=await dT(x.localStore,S.query,!1).then(({documents:C})=>S.view.ru(C,w)));const j=v&&v.targetChanges.get(S.targetId),R=v&&v.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(w,x.isPrimaryClient,j,R);return bT(x,S.targetId,L.au),L.snapshot}(t,f,p,m);const o=await dT(t.localStore,e,!0),a=new yY(e,o.Qs),l=a.ru(o.documents),c=Wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);bT(t,n,u.au);const d=new wY(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function TY(t,e,n){const r=Ke(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(a=>!Gm(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ty(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Cb(r.remoteStore,s.targetId),sy(r,s.targetId)}).catch(Ac)):(sy(r,s.targetId),await ty(r.localStore,s.targetId,!0))}async function NY(t,e){const n=Ke(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cb(n.remoteStore,r.targetId))}async function jY(t,e,n){const r=MY(t);try{const s=await function(a,l){const c=Ke(a),u=At.now(),d=l.reduce((m,y)=>m.add(y.key),pt());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Po(),x=pt();return c.Ns.getEntries(m,d).next(S=>{y=S,y.forEach((_,v)=>{v.isValidDocument()||(x=x.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(S=>{f=S;const _=[];for(const v of l){const w=$H(v,f.get(v.key).overlayedDocument);w!=null&&_.push(new qi(v.key,w,ZR(w.value.mapValue),ms.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,_,l)}).next(S=>{p=S;const _=S.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(m,S.batchId,_)})}).then(()=>({batchId:p.batchId,changes:cD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new Bt(ft)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(r,s.batchId,n),await Gd(r,s.changes),await eg(r.remoteStore)}catch(s){const o=kb(s,"Failed to persist write");n.reject(o)}}async function $D(t,e){const n=Ke(t);try{const r=await UG(n.localStore,e);e.targetChanges.forEach((s,o)=>{const a=n.Au.get(o);a&&(xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?xt(a.hu,14607):s.removedDocuments.size>0&&(xt(a.hu,42227),a.hu=!1))}),await Gd(n,r,e)}catch(r){await Ac(r)}}function wT(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=Ke(a);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(l)&&(u=!0)}),u&&Ab(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kY(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let a=new Bt(De.comparator);a=a.insert(o,Bn.newNoDocument(o,Ye.min()));const l=pt().add(o),c=new Xm(Ye.min(),new Map,new Bt(ft),a,l);await $D(r,c),r.du=r.du.remove(o),r.Au.delete(e),Mb(r)}else await ty(r.localStore,e,!1).then(()=>sy(r,e,n)).catch(Ac)}async function PY(t,e){const n=Ke(t),r=e.batch.batchId;try{const s=await zG(n.localStore,e);WD(n,r,null),qD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gd(n,s)}catch(s){await Ac(s)}}async function IY(t,e,n){const r=Ke(t);try{const s=await function(a,l){const c=Ke(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(xt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);WD(r,e,n),qD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gd(r,s)}catch(s){await Ac(s)}}function qD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function WD(t,e,n){const r=Ke(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||HD(t,r)})}function HD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Cb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Mb(t))}function bT(t,e,n){for(const r of n)r instanceof zD?(t.Ru.addReference(r.key,e),AY(t,r)):r instanceof UD?(Ee(Db,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||HD(t,r.key)):Be(19791,{wu:r})}function AY(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(Db,"New document in limbo: "+n),t.Eu.add(r),Mb(t))}function Mb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Et.fromString(e)),r=t.fu.next();t.Au.set(r,new bY(n)),t.du=t.du.insert(n,r),DD(t.remoteStore,new ai(Ws(Hm(n.path)),r,"TargetPurposeLimboResolution",$m.ce))}}async function Gd(t,e,n){const r=Ke(t),s=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=_b.As(c.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(c,u){const d=Ke(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>re.forEach(u,p=>re.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>re.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Rc(f))throw f;Ee(Sb,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=d.Ms.get(p),y=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(p,x)}}}(r.localStore,o))}async function RY(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){Ee(Db,"User change. New user:",e.toKey());const r=await PD(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(l=>{l.forEach(c=>{c.reject(new _e(Z.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gd(n,r.Ls)}}function DY(t,e){const n=Ke(t),r=n.Au.get(e);if(r&&r.hu)return pt().add(r.key);{let s=pt();const o=n.Iu.get(e);if(!o)return s;for(const a of o){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function GD(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$D.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kY.bind(null,e),e.Pu.H_=vY.bind(null,e.eventManager),e.Pu.yu=xY.bind(null,e.eventManager),e}function MY(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IY.bind(null,e),e}class zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VG(this.persistence,new OG,e.initialUser,this.serializer)}Cu(e){return new kD(bb.mi,this.serializer)}Du(e){return new HG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zp.provider={build:()=>new zp};class OY extends zp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof Fp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new kD(r=>Fp.mi(r,n),this.serializer)}}class oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RY.bind(null,this.syncEngine),await pY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gY}()}createDatastore(e){const n=Zm(e.databaseInfo.databaseId),r=function(o){return new XG(o)}(e.databaseInfo);return function(o,a,l,c){return new tY(o,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,a,l){return new rY(r,s,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>wT(this.syncEngine,n,0),function(){return pT.v()?new pT:new GG}())}createSyncEngine(e,n){return function(s,o,a,l,c,u,d){const f=new _Y(s,o,a,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ke(s);Ee(Ua,"RemoteStore shutting down."),o.Ea.add(5),await Hd(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}oy.provider={build:()=>new oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ko("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="FirestoreClient";class LY{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zn.UNAUTHENTICATED,this.clientId=cb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Ee(Mi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ee(Mi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zv(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Mi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await PD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _T(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FY(t);Ee(Mi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>gT(e.remoteStore,s)),t._onlineComponents=e}async function FY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Mi,"Using user provided OfflineComponentProvider");try{await zv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;dc("Error using user provided cache. Falling back to memory cache: "+n),await zv(t,new zp)}}else Ee(Mi,"Using default OfflineComponentProvider"),await zv(t,new OY(void 0));return t._offlineComponents}async function YD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Mi,"Using user provided OnlineComponentProvider"),await _T(t,t._uninitializedComponentsProvider._online)):(Ee(Mi,"Using default OnlineComponentProvider"),await _T(t,new oy))),t._onlineComponents}function VY(t){return YD(t).then(e=>e.syncEngine)}async function Up(t){const e=await YD(t),n=e.eventManager;return n.onListen=SY.bind(null,e.syncEngine),n.onUnlisten=TY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NY.bind(null,e.syncEngine),n}function zY(t,e,n={}){const r=new wo;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,u){const d=new Ob({next:p=>{d.Nu(),a.enqueueAndForget(()=>Ib(o,f));const m=p.docs.has(l);!m&&p.fromCache?u.reject(new _e(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?u.reject(new _e(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Rb(Hm(l.path),d,{includeMetadataChanges:!0,qa:!0});return Pb(o,f)}(await Up(t),t.asyncQueue,e,n,r)),r.promise}function UY(t,e,n={}){const r=new wo;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,u){const d=new Ob({next:p=>{d.Nu(),a.enqueueAndForget(()=>Ib(o,f)),p.fromCache&&c.source==="server"?u.reject(new _e(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new Rb(l,d,{includeMetadataChanges:!0,qa:!0});return Pb(o,f)}(await Up(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="firestore.googleapis.com",CT=!0;class ET{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QD,this.ssl=CT}else this.host=e.host,this.ssl=e.ssl??CT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yG)throw new _e(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YW;switch(r.type){case"firstParty":return new ZW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ST.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),ST.delete(n),r.terminate())}(this),Promise.resolve()}}function BY(t,e,n,r={}){var u;t=Kr(t,tg);const s=kc(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(CR(`https://${l}`),ER("Firestore",!0)),o.host!==QD&&o.host!==l&&dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:s,emulatorOptions:r};if(!Fa(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=zn.MOCK_USER;else{d=bq(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new _e(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zn(p)}t._authCredentials=new KW(new VR(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($d(n,Kt._jsonSchema))return new Kt(e,r||null,new De(Et.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:sn("string",Kt._jsonSchemaVersion),referencePath:sn("string")};class Si extends Wi{constructor(e,n,r){super(e,n,Hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new De(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function ea(t,e,...n){if(t=Gn(t),zR("collection","path",e),t instanceof tg){const r=Et.fromString(e,...n);return FE(r),new Si(t,null,r)}{if(!(t instanceof Kt||t instanceof Si))throw new _e(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return FE(r),new Si(t.firestore,null,r)}}function Pf(t,e,...n){if(t=Gn(t),arguments.length===1&&(e=cb.newId()),zR("doc","path",e),t instanceof tg){const r=Et.fromString(e,...n);return LE(r),new Kt(t,null,new De(r))}{if(!(t instanceof Kt||t instanceof Si))throw new _e(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return LE(r),new Kt(t.firestore,t instanceof Si?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="AsyncQueue";class NT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AD(this,"async_queue_retry"),this._c=()=>{const r=Vv();r&&Ee(TT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new wo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rc(e))throw e;Ee(TT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ko("INTERNAL UNHANDLED ERROR: ",jT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=jb.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&Be(47125,{Pc:jT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Oi extends tg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new NT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function $Y(t,e){const n=typeof t=="object"?t:kR(),r=typeof t=="string"?t:e||Ap,s=ab(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=yq("firestore");o&&BY(s,...o)}return s}function ng(t){if(t._terminated)throw new _e(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qY(t),t._firestoreClient}function qY(t){var r,s,o;const e=t._freezeSettings(),n=function(l,c,u,d){return new mH(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,KD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new LY(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qr(Dn.fromBase64String(e))}catch(n){throw new _e(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qr(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($d(e,qr._jsonSchema))return qr.fromBase64String(e.bytes)}}qr._jsonSchemaVersion="firestore/bytes/1.0",qr._jsonSchema={type:sn("string",qr._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gs._jsonSchemaVersion}}static fromJSON(e){if($d(e,Gs._jsonSchema))return new Gs(e.latitude,e.longitude)}}Gs._jsonSchemaVersion="firestore/geoPoint/1.0",Gs._jsonSchema={type:sn("string",Gs._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($d(e,Ys._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ys(e.vectorValues);throw new _e(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ys._jsonSchemaVersion="firestore/vectorValue/1.0",Ys._jsonSchema={type:sn("string",Ys._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=/^__.*__$/;class HY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new qd(e,this.data,n,this.fieldTransforms)}}class XD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class Fb{constructor(e,n,r,s,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZD(this.Ac)&&WY.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zm(e)}Cc(e,n,r,s=!1){return new Fb({Ac:e,methodName:n,Dc:r,path:Pn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vb(t){const e=t._freezeSettings(),n=Zm(t._databaseId);return new GY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YY(t,e,n,r,s,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);zb("Data must be an object, but it was:",a,r);const l=JD(r,a);let c,u;if(o.merge)c=new jr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const p=iy(e,f,n);if(!a.contains(p))throw new _e(Z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);tM(d,p)||d.push(p)}c=new jr(d),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new HY(new hr(l),c,u)}class sg extends Lb{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sg}}function KY(t,e,n,r){const s=t.Cc(1,e,n);zb("Data must be an object, but it was:",s,r);const o=[],a=hr.empty();$i(r,(c,u)=>{const d=Ub(e,c,n);u=Gn(u);const f=s.yc(d);if(u instanceof sg)o.push(d);else{const p=Yd(u,f);p!=null&&(o.push(d),a.set(d,p))}});const l=new jr(o);return new XD(a,l,s.fieldTransforms)}function QY(t,e,n,r,s,o){const a=t.Cc(1,e,n),l=[iy(e,r,n)],c=[s];if(o.length%2!=0)throw new _e(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)l.push(iy(e,o[p])),c.push(o[p+1]);const u=[],d=hr.empty();for(let p=l.length-1;p>=0;--p)if(!tM(u,l[p])){const m=l[p];let y=c[p];y=Gn(y);const x=a.yc(m);if(y instanceof sg)u.push(m);else{const S=Yd(y,x);S!=null&&(u.push(m),d.set(m,S))}}const f=new jr(u);return new XD(d,f,a.fieldTransforms)}function XY(t,e,n,r=!1){return Yd(n,t.Cc(r?4:3,e))}function Yd(t,e){if(eM(t=Gn(t)))return zb("Unsupported field value:",e,t),JD(t,e);if(t instanceof Lb)return function(r,s){if(!ZD(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let a=0;for(const l of r){let c=Yd(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=At.fromDate(r);return{timestampValue:Lp(s.serializer,o)}}if(r instanceof At){const o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lp(s.serializer,o)}}if(r instanceof Gs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qr)return{bytesValue:bD(s.serializer,r._byteString)};if(r instanceof Kt){const o=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ys)return function(a,l){return{mapValue:{fields:{[KR]:{stringValue:XR},[Rp]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return mb(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Bm(r)}`)}(t,e)}function JD(t,e){const n={};return $R(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(t,(r,s)=>{const o=Yd(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function eM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Gs||t instanceof qr||t instanceof Kt||t instanceof Lb||t instanceof Ys)}function zb(t,e,n){if(!eM(n)||!UR(n)){const r=Bm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function iy(t,e,n){if((e=Gn(e))instanceof rg)return e._internalPath;if(typeof e=="string")return Ub(t,e);throw Bp("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZY=new RegExp("[~\\*/\\[\\]]");function Ub(t,e,n){if(e.search(ZY)>=0)throw Bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rg(...e.split("."))._internalPath}catch{throw Bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bp(t,e,n,r,s){const o=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new _e(Z.INVALID_ARGUMENT,l+t+c)}function tM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JY extends nM{data(){return super.data()}}function Bb(t,e){return typeof e=="string"?Ub(t,e):e instanceof rg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $b{}class sM extends $b{}function Uv(t,e,...n){let r=[];e instanceof $b&&r.push(e),r=r.concat(n),function(o){const a=o.filter(c=>c instanceof Wb).length,l=o.filter(c=>c instanceof qb).length;if(a>1||a>0&&l>0)throw new _e(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class qb extends sM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qb(e,n,r)}_apply(e){const n=this._parse(e);return oM(e._query,n),new Wi(e.firestore,e.converter,Kx(e._query,n))}_parse(e){const n=Vb(e.firestore);return function(o,a,l,c,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new _e(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){AT(f,d);const y=[];for(const x of f)y.push(IT(c,o,x));p={arrayValue:{values:y}}}else p=IT(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||AT(f,d),p=XY(l,a,f,d==="in"||d==="not-in");return rn.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wb extends $b{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:bs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let a=s;const l=o.getFlattenedFilters();for(const c of l)oM(a,c),a=Kx(a,c)}(e._query,n),new Wi(e.firestore,e.converter,Kx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hb extends sM{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hb(e,n)}_apply(e){const n=function(s,o,a){if(s.startAt!==null)throw new _e(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(o,a)}(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,function(s,o){const a=s.explicitOrderBy.concat([o]);return new Dc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function PT(t,e="asc"){const n=e,r=Bb("orderBy",t);return Hb._create(r,n)}function IT(t,e,n){if(typeof(n=Gn(n))=="string"){if(n==="")throw new _e(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oD(e)&&n.indexOf("/")!==-1)throw new _e(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!De.isDocumentKey(r))throw new _e(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HE(t,new De(r))}if(n instanceof Kt)return HE(t,n._key);throw new _e(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bm(n)}.`)}function AT(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oM(t,e){const n=function(s,o){for(const a of s)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eK{convertValue(e,n="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $i(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Rp].arrayValue)==null?void 0:s.values)==null?void 0:o.map(a=>Gt(a.doubleValue));return new Ys(n)}convertGeoPoint(e){return new Gs(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const n=Ii(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);xt(ND(r),9688,{name:e});const s=new yd(r.get(1),r.get(3)),o=new De(r.popFirst(5));return s.isEqual(n)||ko(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends nM{constructor(e,n,r,s,o,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:sn("string",_a._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class If extends _a{data(e={}){return super.data(e)}}class Sa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Su(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new If(this._firestore,this._userDataWriter,r.key,r,new Su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new If(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Su(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new If(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Su(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:nK(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(t){t=Kr(t,Kt);const e=Kr(t.firestore,Oi);return zY(ng(e),t._key).then(n=>iM(e,t,n))}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:sn("string",Sa._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class Gb extends eK{constructor(e){super(),this.firestore=e}convertBytes(e){return new qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function Bv(t){t=Kr(t,Wi);const e=Kr(t.firestore,Oi),n=ng(e),r=new Gb(e);return rM(t._query),UY(n,t._query).then(s=>new Sa(e,r,t,s))}function sK(t,e,n,...r){t=Kr(t,Kt);const s=Kr(t.firestore,Oi),o=Vb(s);let a;return a=typeof(e=Gn(e))=="string"||e instanceof rg?QY(o,"updateDoc",t._key,e,n,r):KY(o,"updateDoc",t._key,e),Yb(s,[a.toMutation(t._key,ms.exists(!0))])}function oK(t){return Yb(Kr(t.firestore,Oi),[new gb(t._key,ms.none())])}function iK(t,e){const n=Kr(t.firestore,Oi),r=Pf(t),s=tK(t.converter,e);return Yb(n,[YY(Vb(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ms.exists(!1))]).then(()=>r)}function $v(t,...e){var c,u,d;t=Gn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kT(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let o,a,l;if(t instanceof Kt)a=Kr(t.firestore,Oi),l=Hm(t._key.path),o={next:f=>{e[r]&&e[r](iM(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Kr(t,Wi);a=Kr(f.firestore,Oi),l=f._query;const p=new Gb(a);o={next:m=>{e[r]&&e[r](new Sa(a,p,f,m))},error:e[r+1],complete:e[r+2]},rM(t._query)}return function(p,m,y,x){const S=new Ob(x),_=new Rb(m,S,y);return p.asyncQueue.enqueueAndForget(async()=>Pb(await Up(p),_)),()=>{S.Nu(),p.asyncQueue.enqueueAndForget(async()=>Ib(await Up(p),_))}}(ng(a),l,s,o)}function Yb(t,e){return function(r,s){const o=new wo;return r.asyncQueue.enqueueAndForget(async()=>jY(await VY(r),s,o)),o.promise}(ng(t),e)}function iM(t,e,n){const r=n.docs.get(e._key),s=new Gb(t);return new _a(t,s,e._key,r,new Su(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ic=s})(Pc),uc(new Va("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Oi(new QW(r.getProvider("auth-internal")),new JW(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _e(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(u.options.projectId,d)}(a,s),a);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),bi(RE,DE,e),bi(RE,DE,"esm2020")})();var aK="firebase",lK="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(aK,lK,"app");function aM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cK=aM,lM=new Ud("auth","Firebase",aM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new ob("@firebase/auth");function uK(t,...e){$p.logLevel<=ut.WARN&&$p.warn(`Auth (${Pc}): ${t}`,...e)}function Af(t,...e){$p.logLevel<=ut.ERROR&&$p.error(`Auth (${Pc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,...e){throw Kb(t,...e)}function Ks(t,...e){return Kb(t,...e)}function cM(t,e,n){const r={...cK(),[e]:n};return new Ud("auth","Firebase",r).create(e,{appName:t.name})}function Ca(t){return cM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lM.create(t,...e)}function Ge(t,e,...n){if(!t)throw Kb(e,...n)}function fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Af(e),new Error(e)}function Ao(t,e){t||fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function dK(){return RT()==="http:"||RT()==="https:"}function RT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dK()||Nq()||"connection"in navigator)?navigator.onLine:!0}function fK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ao(n>e,"Short delay should be less than long delay!"),this.isMobile=Cq()||jq()}get(){return hK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t,e){Ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gK=new Kd(3e4,6e4);function Xb(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oc(t,e,n,r,s={}){return dM(t,s,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=Bd({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...o};return Tq()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&kc(t.emulatorConfig.host)&&(u.credentials="include"),uM.fetch()(await hM(t,t.config.apiHost,n,l),u)})}async function dM(t,e,n){t._canInitEmulator=!1;const r={...pK,...e};try{const s=new xK(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Jh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Jh(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Jh(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw cM(t,d,u);Io(t,d)}}catch(s){if(s instanceof Mo)throw s;Io(t,"network-request-failed",{message:String(s)})}}async function vK(t,e,n,r,s={}){const o=await Oc(t,e,n,r,s);return"mfaPendingCredential"in o&&Io(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function hM(t,e,n,r){const s=`${e}${n}?${r}`,o=t,a=o.config.emulator?Qb(t.config,s):`${t.config.apiScheme}://${s}`;return mK.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}class xK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ks(this.auth,"network-request-failed")),gK.get())})}}function Jh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ks(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yK(t,e){return Oc(t,"POST","/v1/accounts:delete",e)}async function qp(t,e){return Oc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wK(t,e=!1){const n=Gn(t),r=await n.getIdToken(e),s=Zb(r);Ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Bu(qv(s.auth_time)),issuedAtTime:Bu(qv(s.iat)),expirationTime:Bu(qv(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function qv(t){return Number(t)*1e3}function Zb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const s=wR(n);return s?JSON.parse(s):(Af("Failed to decode base64 JWT payload"),null)}catch(s){return Af("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function DT(t){const e=Zb(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mo&&bK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Cd(t,qp(e,{idToken:n}));Ge(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(f=s.providerUserInfo)!=null&&f.length?fM(s.providerUserInfo):[],a=CK(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ly(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function SK(t){const e=Gn(t);await Wp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CK(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function fM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EK(t,e){const n=await dM(t,{},async()=>{const r=Bd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=await hM(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&kc(t.emulatorConfig.host)&&(c.credentials="include"),uM.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TK(t,e){return Oc(t,"POST","/v2/accounts:revokeToken",Xb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=DT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await EK(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,a=new Hl;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ge(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(Ge(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new _K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ly(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Cd(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wK(this,e)}reload(){return SK(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fs(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await Cd(this,yK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:y,stsTokenManager:x}=n;Ge(f&&x,e,"internal-error");const S=Hl.fromJSON(this.name,x);Ge(typeof f=="string",e,"internal-error"),$o(r,e.name),$o(s,e.name),Ge(typeof p=="boolean",e,"internal-error"),Ge(typeof m=="boolean",e,"internal-error"),$o(o,e.name),$o(a,e.name),$o(l,e.name),$o(c,e.name),$o(u,e.name),$o(d,e.name);const _=new ds({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:a,phoneNumber:o,tenantId:l,stsTokenManager:S,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(_.providerData=y.map(v=>({...v}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Hl;s.updateFromServerResponse(n);const o=new ds({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Wp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ge(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?fM(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),l=new Hl;l.updateFromIdToken(r);const c=new ds({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ly(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;function po(t){Ao(t instanceof Function,"Expected a class definition");let e=MT.get(t);return e?(Ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pM.type="NONE";const OT=pM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t,e,n){return`firebase:${t}:${e}:${n}`}class Gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Rf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Rf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qp(this.auth,{idToken:e}).catch(()=>{});return n?ds._fromGetAccountInfoResponse(this.auth,n,e):null}return ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gl(po(OT),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||po(OT);const a=Rf(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const p=await qp(e,{idToken:d}).catch(()=>{});if(!p)break;f=await ds._fromGetAccountInfoResponse(e,p,d)}else f=ds._fromJSON(e,d);u!==o&&(l=f),o=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Gl(o,e,r):(o=c[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Gl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wM(e))return"Blackberry";if(bM(e))return"Webos";if(gM(e))return"Safari";if((e.includes("chrome/")||vM(e))&&!e.includes("edge/"))return"Chrome";if(yM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mM(t=Hn()){return/firefox\//i.test(t)}function gM(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vM(t=Hn()){return/crios\//i.test(t)}function xM(t=Hn()){return/iemobile/i.test(t)}function yM(t=Hn()){return/android/i.test(t)}function wM(t=Hn()){return/blackberry/i.test(t)}function bM(t=Hn()){return/webos/i.test(t)}function Jb(t=Hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NK(t=Hn()){var e;return Jb(t)&&!!((e=window.navigator)!=null&&e.standalone)}function jK(){return kq()&&document.documentMode===10}function _M(t=Hn()){return Jb(t)||yM(t)||bM(t)||wM(t)||/windows phone/i.test(t)||xM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t,e=[]){let n;switch(t){case"Browser":n=LT(Hn());break;case"Worker":n=`${LT(Hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const c=e(o);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PK(t,e={}){return Oc(t,"GET","/v2/passwordPolicy",Xb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=6;class AK{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IK,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FT(this),this.idTokenSubscription=new FT(this),this.beforeStateQueue=new kK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=po(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qp(this,{idToken:e}),r=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Fs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fs(this.app))return Promise.reject(Ca(this));const n=e?Gn(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fs(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fs(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(po(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PK(this),n=new AK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ud("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&po(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[po(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&uK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function e1(t){return Gn(t)}class FT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lq(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DK(t){t1=t}function MK(t){return t1.loadJS(t)}function OK(){return t1.gapiScript}function LK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(t,e){const n=ab(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Fa(o,e??{}))return s;Io(s,"already-initialized")}return n.initialize({options:e})}function VK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(po);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zK(t,e,n){const r=e1(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=CM(e),{host:a,port:l}=UK(e),c=l===null?"":`:${l}`,u={url:`${o}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(Fa(u,r.config.emulator)&&Fa(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,kc(a)?(CR(`${o}//${a}${c}`),ER("Auth",!0)):s||BK()}function CM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UK(t){const e=CM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:VT(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:VT(a)}}}function VT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fo("not implemented")}_getIdTokenResponse(e){return fo("not implemented")}_linkToIdToken(e,n){return fo("not implemented")}_getReauthenticationResolver(e){return fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e){return vK(t,"POST","/v1/accounts:signInWithIdp",Xb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K="http://localhost";class Ba extends EM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Io("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const a=new Ba(r,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yl(e,n)}buildRequest(){const e={requestUri:$K,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends TM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Qd{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ba._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Qd{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.GITHUB_SIGN_IN_METHOD="github.com";ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Qd{constructor(){super("twitter.com")}static credential(e,n){return Ba._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return si.credential(n,r)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ds._fromIdTokenResponse(e,r,s),a=zT(r);return new vc({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=zT(r);return new vc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends Mo{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Hp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Hp(e,n,r,s)}}function NM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hp._fromErrorAndOperation(t,o,e,r):o})}async function qK(t,e,n=!1){const r=await Cd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WK(t,e,n=!1){const{auth:r}=t;if(Fs(r.app))return Promise.reject(Ca(r));const s="reauthenticate";try{const o=await Cd(t,NM(r,s,e,t),n);Ge(o.idToken,r,"internal-error");const a=Zb(o.idToken);Ge(a,r,"internal-error");const{sub:l}=a;return Ge(t.uid===l,r,"user-mismatch"),vc._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Io(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e,n=!1){if(Fs(t.app))return Promise.reject(Ca(t));const r="signIn",s=await NM(t,r,e),o=await vc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}function GK(t,e,n,r){return Gn(t).onIdTokenChanged(e,n,r)}function YK(t,e,n){return Gn(t).beforeAuthStateChanged(e,n)}const Gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gp,"1"),this.storage.removeItem(Gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK=1e3,QK=10;class kM extends jM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_M(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);jK()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QK):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kM.type="LOCAL";const XK=kM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM extends jM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PM.type="SESSION";const IM=PM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new og(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,o)),c=await ZK(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}og.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=n1("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(p.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function eQ(t){Qs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function tQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function rQ(){return AM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="firebaseLocalStorageDb",sQ=1,Yp="firebaseLocalStorage",DM="fbase_key";class Xd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ig(t,e){return t.transaction([Yp],e?"readwrite":"readonly").objectStore(Yp)}function oQ(){const t=indexedDB.deleteDatabase(RM);return new Xd(t).toPromise()}function cy(){const t=indexedDB.open(RM,sQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yp,{keyPath:DM})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yp)?e(r):(r.close(),await oQ(),e(await cy()))})})}async function UT(t,e,n){const r=ig(t,!0).put({[DM]:e,value:n});return new Xd(r).toPromise()}async function iQ(t,e){const n=ig(t,!1).get(e),r=await new Xd(n).toPromise();return r===void 0?null:r.value}function BT(t,e){const n=ig(t,!0).delete(e);return new Xd(n).toPromise()}const aQ=800,lQ=3;class MM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=og._getInstance(rQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await tQ(),!this.activeServiceWorker)return;this.sender=new JK(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cy();return await UT(e,Gp,"1"),await BT(e,Gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>UT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=ig(s,!1).getAll();return new Xd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MM.type="LOCAL";const cQ=MM;new Kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t,e){return e?po(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends EM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dQ(t){return HK(t.auth,new r1(t),t.bypassAuthState)}function hQ(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),WK(n,new r1(t),t.bypassAuthState)}async function fQ(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),qK(n,new r1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dQ;case"linkViaPopup":case"linkViaRedirect":return fQ;case"reauthViaPopup":case"reauthViaRedirect":return hQ;default:Io(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ=new Kd(2e3,1e4);class Al extends OM{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Ao(this.filter.length===1,"Popup operations only handle one event");const e=n1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pQ.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mQ="pendingRedirect",Df=new Map;class gQ extends OM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const r=await vQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vQ(t,e){const n=wQ(e),r=yQ(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xQ(t,e){Df.set(t._key(),e)}function yQ(t){return po(t._redirectPersistence)}function wQ(t){return Rf(mQ,t.config.apiKey,t.name)}async function bQ(t,e,n=!1){if(Fs(t.app))return Promise.reject(Ca(t));const r=e1(t),s=uQ(r,e),a=await new gQ(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q=10*60*1e3;class SQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LM(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ks(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_Q&&this.cachedEventUids.clear(),this.cachedEventUids.has($T(e))}saveEventToCache(e){this.cachedEventUids.add($T(e)),this.lastProcessedEventTime=Date.now()}}function $T(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EQ(t,e={}){return Oc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NQ=/^https?/;async function jQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EQ(t);for(const n of e)try{if(kQ(n))return}catch{}Io(t,"unauthorized-domain")}function kQ(t){const e=ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!NQ.test(n))return!1;if(TQ.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ=new Kd(3e4,6e4);function qT(){const t=Qs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IQ(t){return new Promise((e,n)=>{var s,o,a;function r(){qT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qT(),n(Ks(t,"network-request-failed"))},timeout:PQ.get()})}if((o=(s=Qs().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Qs().gapi)!=null&&a.load)r();else{const l=LK("iframefcb");return Qs()[l]=()=>{gapi.load?r():n(Ks(t,"network-request-failed"))},MK(`${OK()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function AQ(t){return Mf=Mf||IQ(t),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ=new Kd(5e3,15e3),DQ="__/auth/iframe",MQ="emulator/auth/iframe",OQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FQ(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qb(e,MQ):`https://${t.config.authDomain}/${DQ}`,r={apiKey:e.apiKey,appName:t.name,v:Pc},s=LQ.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Bd(r).slice(1)}`}async function VQ(t){const e=await AQ(t),n=Qs().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:FQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OQ,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const a=Ks(t,"network-request-failed"),l=Qs().setTimeout(()=>{o(a)},RQ.get());function c(){Qs().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UQ=500,BQ=600,$Q="_blank",qQ="http://localhost";class WT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WQ(t,e,n,r=UQ,s=BQ){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...zQ,width:r.toString(),height:s.toString(),top:o,left:a},u=Hn().toLowerCase();n&&(l=vM(u)?$Q:n),mM(u)&&(e=e||qQ,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(NK(u)&&l!=="_self")return HQ(e||"",l),new WT(null);const f=window.open(e||"",l,d);Ge(f,t,"popup-blocked");try{f.focus()}catch{}return new WT(f)}function HQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQ="__/auth/handler",YQ="emulator/auth/handler",KQ=encodeURIComponent("fac");async function HT(t,e,n,r,s,o){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pc,eventId:s};if(e instanceof TM){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Oq(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))a[d]=f}if(e instanceof Qd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${KQ}=${encodeURIComponent(c)}`:"";return`${QQ(t)}?${Bd(l).slice(1)}${u}`}function QQ({config:t}){return t.emulator?Qb(t,YQ):`https://${t.authDomain}/${GQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="webStorageSupport";class XQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IM,this._completeRedirectFn=bQ,this._overrideRedirectResult=xQ}async _openPopup(e,n,r,s){var a;Ao((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await HT(e,n,r,ay(),s);return WQ(e,o,n1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await HT(e,n,r,ay(),s);return eQ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ao(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VQ(e),r=new SQ(e);return n.register("authEvent",s=>(Ge(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wv,{type:Wv},s=>{var a;const o=(a=s==null?void 0:s[0])==null?void 0:a[Wv];o!==void 0&&n(!!o),Io(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _M()||gM()||Jb()}}const ZQ=XQ;var GT="@firebase/auth",YT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tX(t){uc(new Va("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SM(t)},u=new RK(r,s,o,c);return VK(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uc(new Va("auth-internal",e=>{const n=e1(e.getProvider("auth").getImmediate());return(r=>new JQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(GT,YT,eX(t)),bi(GT,YT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX=5*60,rX=SR("authIdTokenMaxAge")||nX;let KT=null;const sX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rX)return;const s=n==null?void 0:n.token;KT!==s&&(KT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oX(t=kR()){const e=ab(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FK(t,{popupRedirectResolver:ZQ,persistence:[cQ,XK,IM]}),r=SR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=sX(o.toString());YK(n,a,()=>a(n.currentUser)),GK(n,l=>a(l))}}const s=bR("auth");return s&&zK(n,`http://${s}`),n}function iX(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}DK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ks("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",iX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tX("Browser");const aX={apiKey:"AIzaSyDZa2C8AZc902HNuRWS0jP2KxfFoX5npyA",authDomain:"firefly-nexus.firebaseapp.com",projectId:"firefly-nexus",storageBucket:"firefly-nexus.firebasestorage.app",messagingSenderId:"981611156212",appId:"1:981611156212:web:aa09e09bbc3995617704a1",measurementId:"G-BG7KGG32F2"},FM=jR(aX),Vr=$Y(FM);oX(FM);class lX{constructor(){this.collections={clientes:"clientes",ordensServico:"ordens_servico",ordensVenda:"ordens_venda",produtos:"produtos",categorias:"categorias",movimentacoes:"movimentacoes",financeiro:"financeiro",usuarios:"usuarios",configuracoes:"configuracoes"},this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes"},this.isFirebaseAvailable=!1,this.initialized=!1,this.initPromise=this.init()}async init(){if(!this.initialized)try{await this.checkFirebaseAvailability(),this.initialized=!0,console.log("[FirebaseService] ✅ Inicialização concluída - APENAS FIREBASE")}catch(e){throw console.error("[FirebaseService] ❌ Erro na inicialização:",e),this.initialized=!1,new Error("Firebase não disponível - sistema requer Firebase")}}async checkFirebaseAvailability(){try{if(console.log("[FirebaseService] ===== VERIFICANDO FIREBASE ====="),console.log("[FirebaseService] Verificando disponibilidade do Firebase..."),console.log("[FirebaseService] db object:",Vr),!Vr)throw new Error("Firebase db não está disponível");console.log("[FirebaseService] Testando acesso à collection...");const e=ea(Vr,"test_connectivity");console.log("[FirebaseService] Collection criada:",e);const n=Uv(e),r=await Bv(n);console.log("[FirebaseService] Query executada com sucesso, docs encontrados:",r.size),this.isFirebaseAvailable=!0,console.log("[FirebaseService] ✅ Firebase disponível - APENAS FIREBASE"),console.log("[FirebaseService] ===== FIREBASE OK =====")}catch(e){throw console.log("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),console.log("[FirebaseService] Erro:",e.message),console.log("[FirebaseService] Stack:",e.stack),this.isFirebaseAvailable=!1,console.log("[FirebaseService] ===== FIREBASE FALHOU - SEM FALLBACK ====="),new Error(`Firebase não disponível: ${e.message}`)}}async saveData(e,n,r=null){if(console.log(`[FirebaseService] ===== SALVANDO EM ${e} - APENAS FIREBASE =====`),console.log("[FirebaseService] Dados:",n),this.initialized||(console.log("[FirebaseService] Aguardando inicialização..."),await this.initPromise),console.log("[FirebaseService] Firebase disponível:",this.isFirebaseAvailable),console.log("[FirebaseService] Inicializado:",this.initialized),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{if(r){const s=Pf(Vr,e,r);return await sK(s,{...n,updatedAt:n.updatedAt||new Date().toISOString()}),console.log(`[FirebaseService] ✅ Documento ${r} atualizado com sucesso no Firebase`),r}else{const s=await iK(ea(Vr,e),{...n,createdAt:n.createdAt||new Date().toISOString(),updatedAt:n.updatedAt||new Date().toISOString()});return console.log(`[FirebaseService] ✅ Novo documento criado no Firebase com ID: ${s.id}`),console.log("[FirebaseService] ===== SALVAMENTO CONCLUÍDO ====="),s.id}}catch(s){throw console.error(`[FirebaseService] ❌ Erro ao salvar dados em ${e}:`,s),new Error(`Erro ao salvar no Firebase: ${s.message}`)}}saveToLocalStorage(e,n,r=null){try{console.log(`[FirebaseService] saveToLocalStorage chamado para ${e}:`,n);const s=this.localStorageKeys[e];if(!s)throw new Error(`Chave localStorage não encontrada para ${e}`);if(console.log(`[FirebaseService] Chave localStorage: ${s}`),e==="configuracoes"){const a={...n,id:r||"config",updatedAt:new Date().toISOString()};return localStorage.setItem(s,JSON.stringify(a)),window.dispatchEvent(new Event("storage")),r||"config"}const o=JSON.parse(localStorage.getItem(s)||"[]");if(console.log(`[FirebaseService] Dados existentes em ${s}:`,o),r){const a=o.findIndex(l=>l.id===r);a!==-1&&(o[a]={...n,id:r,updatedAt:new Date().toISOString()})}else{const a=r||Date.now().toString(),l={...n,id:a,createdAt:new Date().toISOString()};o.push(l),console.log("[FirebaseService] Novo item adicionado:",l)}return console.log(`[FirebaseService] Salvando dados finais em ${s}:`,o),localStorage.setItem(s,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:s,data:o}})),console.log(`[FirebaseService] Evento localStorageChange disparado para ${s}`),r||Date.now().toString()}catch(s){throw console.error("[FirebaseService] Erro ao salvar no localStorage:",s),s}}async getData(e){if(console.log(`[FirebaseService] getData chamado para ${e}`),this.initialized||(console.log(`[FirebaseService] Aguardando inicialização para ${e}`),await this.initPromise),console.log(`[FirebaseService] Firebase disponível para ${e}: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{const n=new Promise((o,a)=>setTimeout(()=>a(new Error("Timeout")),2e3)),r=(async()=>{try{const o=Uv(ea(Vr,e),PT("createdAt","desc")),a=await Bv(o),l=[];return a.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] Query com orderBy funcionou para ${e}: ${l.length} documentos`),l}catch(o){console.warn(`[FirebaseService] orderBy falhou para ${e}, tentando sem orderBy:`,o.message);const a=ea(Vr,e),l=await Bv(a),c=[];return l.forEach(u=>{c.push({id:u.id,...u.data()})}),console.log(`[FirebaseService] Query sem orderBy funcionou para ${e}: ${c.length} documentos`),c}})(),s=await Promise.race([r,n]);return console.log(`[FirebaseService] Dados carregados do Firebase para ${e}:`,s.length),s}catch(n){throw console.error(`[FirebaseService] ❌ Erro ao buscar dados de ${e}:`,n),new Error(`Erro ao buscar no Firebase: ${n.message}`)}}getFromLocalStorage(e){try{const n=this.localStorageKeys[e];if(!n)return console.warn(`Chave localStorage não encontrada para ${e}`),e==="configuracoes"?null:[];console.log(`[FirebaseService] getFromLocalStorage para ${e}, chave: ${n}`);const r=localStorage.getItem(n);console.log("[FirebaseService] Dados brutos do localStorage:",r);const s=JSON.parse(r||(e==="configuracoes"?"null":"[]"));if(console.log("[FirebaseService] Dados parseados:",s),e==="configuracoes")return s;const o=Array.isArray(s)?s:[];return console.log(`[FirebaseService] Retornando array para ${e}:`,o),o}catch(n){return console.error("[FirebaseService] Erro ao buscar do localStorage:",n),e==="configuracoes"?null:[]}}async getDocument(e,n){try{const r=Pf(Vr,e,n),s=await rK(r);return s.exists()?{id:s.id,...s.data()}:null}catch(r){return console.error(`Erro ao buscar documento ${n} de ${e}:`,r),null}}async deleteDocument(e,n){if(console.log(`[FirebaseService] ===== DELETANDO DOCUMENTO ${n} DE ${e} - APENAS FIREBASE =====`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");try{return await oK(Pf(Vr,e,n)),console.log(`[FirebaseService] ✅ Documento ${n} deletado com sucesso do Firebase`),!0}catch(r){throw console.error(`[FirebaseService] ❌ Erro ao deletar documento ${n} de ${e}:`,r),new Error(`Erro ao deletar no Firebase: ${r.message}`)}}deleteFromLocalStorage(e,n){try{const r=this.localStorageKeys[e];if(!r)return console.warn(`Chave localStorage não encontrada para ${e}`),!1;const o=JSON.parse(localStorage.getItem(r)||"[]").filter(a=>a.id!==n);return localStorage.setItem(r,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:r,data:o}})),!0}catch(r){return console.error("[FirebaseService] Erro ao deletar do localStorage:",r),!1}}async subscribeToCollection(e,n){if(console.log(`[FirebaseService] ===== SUBSCRIBE TO COLLECTION ${e} =====`),this.initialized||(console.log(`[FirebaseService] Aguardando inicialização para ${e}`),await this.initPromise),console.log(`[FirebaseService] subscribeToCollection para ${e}, Firebase disponível: ${this.isFirebaseAvailable}`),!this.isFirebaseAvailable)throw console.error("[FirebaseService] ❌ Firebase não disponível - SISTEMA FALHARÁ"),new Error("Firebase não disponível - sistema requer Firebase");console.log(`[FirebaseService] Firebase disponível, configurando onSnapshot para ${e}`);try{const r=Uv(ea(Vr,e),PT("createdAt","desc"));return $v(r,s=>{const o=[];s.forEach(a=>{o.push({id:a.id,...a.data()})}),console.log(`[FirebaseService] onSnapshot recebido para ${e}:`,o),n(o)},s=>{console.error(`[FirebaseService] Erro no onSnapshot com orderBy para ${e}:`,s),console.log(`[FirebaseService] Tentando sem orderBy para ${e}`);const o=ea(Vr,e);return $v(o,a=>{const l=[];a.forEach(c=>{l.push({id:c.id,...c.data()})}),console.log(`[FirebaseService] onSnapshot sem orderBy recebido para ${e}:`,l),n(l)},a=>{throw console.error(`[FirebaseService] ❌ Erro no onSnapshot sem orderBy para ${e}:`,a),new Error(`Erro no onSnapshot: ${a.message}`)})})}catch(r){console.error(`[FirebaseService] Erro ao criar query com orderBy para ${e}:`,r);const s=ea(Vr,e);return $v(s,o=>{const a=[];o.forEach(l=>{a.push({id:l.id,...l.data()})}),console.log(`[FirebaseService] onSnapshot simples recebido para ${e}:`,a),n(a)},o=>{throw console.error(`[FirebaseService] ❌ Erro no onSnapshot simples para ${e}:`,o),new Error(`Erro no onSnapshot simples: ${o.message}`)})}}async saveCliente(e,n=null){return await this.saveData(this.collections.clientes,e,n)}async getClientes(){return await this.getData(this.collections.clientes)}async deleteCliente(e){return await this.deleteDocument(this.collections.clientes,e)}subscribeToClientes(e){return this.subscribeToCollection(this.collections.clientes,e)}async saveOS(e,n=null){return await this.saveData(this.collections.ordensServico,e,n)}async getOS(){return await this.getData(this.collections.ordensServico)}async deleteOS(e){return await this.deleteDocument(this.collections.ordensServico,e)}subscribeToOS(e){return this.subscribeToCollection(this.collections.ordensServico,e)}async saveOV(e,n=null){return await this.saveData(this.collections.ordensVenda,e,n)}async getOV(){return await this.getData(this.collections.ordensVenda)}async deleteOV(e){return await this.deleteDocument(this.collections.ordensVenda,e)}subscribeToOV(e){return this.subscribeToCollection(this.collections.ordensVenda,e)}async saveProduto(e,n=null){return await this.saveData(this.collections.produtos,e,n)}async getProdutos(){return await this.getData(this.collections.produtos)}async deleteProduto(e){return await this.deleteDocument(this.collections.produtos,e)}subscribeToProdutos(e){return this.subscribeToCollection(this.collections.produtos,e)}async saveCategoria(e,n=null){return await this.saveData(this.collections.categorias,e,n)}async getCategorias(){return await this.getData(this.collections.categorias)}async deleteCategoria(e){return await this.deleteDocument(this.collections.categorias,e)}subscribeToCategorias(e){return this.subscribeToCollection(this.collections.categorias,e)}async saveMovimentacao(e,n=null){return await this.saveData(this.collections.movimentacoes,e,n)}async getMovimentacoes(){return await this.getData(this.collections.movimentacoes)}async deleteMovimentacao(e){return await this.deleteDocument(this.collections.movimentacoes,e)}subscribeToMovimentacoes(e){return this.subscribeToCollection(this.collections.movimentacoes,e)}async saveFinanceiro(e,n=null){return await this.saveData(this.collections.financeiro,e,n)}async getFinanceiro(){return await this.getData(this.collections.financeiro)}async deleteFinanceiro(e){return await this.deleteDocument(this.collections.financeiro,e)}subscribeToFinanceiro(e){return this.subscribeToCollection(this.collections.financeiro,e)}async saveUsuario(e,n=null){return await this.saveData(this.collections.usuarios,e,n)}async getUsuarios(){return await this.getData(this.collections.usuarios)}async deleteUsuario(e){return await this.deleteDocument(this.collections.usuarios,e)}subscribeToUsuarios(e){return this.subscribeToCollection(this.collections.usuarios,e)}async saveConfiguracao(e,n=null){try{if(console.log("[FirebaseService] 🚀 Salvando configuração:",e),!n)try{const s=await this.getData(this.collections.configuracoes);s.length>0?(n=s[0].id,console.log("[FirebaseService] ✅ Configuração existente encontrada, ID:",n)):console.log("[FirebaseService] 📝 Criando nova configuração")}catch(s){console.warn("[FirebaseService] ⚠️ Erro ao buscar configuração existente:",s)}const r=await this.saveData(this.collections.configuracoes,e,n);return localStorage.removeItem("crm_config_cache"),console.log("[FirebaseService] ✅ Configuração salva com sucesso:",r),r}catch(r){console.error("[FirebaseService] ❌ Erro ao salvar configuração:",r);try{return localStorage.setItem("crm_configuracoes",JSON.stringify(e)),localStorage.setItem("crm_idioma",e.idioma||"pt-BR"),console.log("[FirebaseService] ✅ Fallback: Configuração salva no localStorage"),"localStorage"}catch(s){throw console.error("[FirebaseService] ❌ Erro no fallback localStorage:",s),r}}}async getConfiguracao(){const e=localStorage.getItem("crm_config_cache");if(e)try{const s=JSON.parse(e),o=s.timestamp;if(Date.now()-o<5*60*1e3)return console.log("[FirebaseService] Usando configuração do cache"),s.config}catch(s){console.warn("[FirebaseService] Erro ao ler cache de configuração:",s)}const n=await this.getData(this.collections.configuracoes),r=n.length>0?n[0]:null;return r&&localStorage.setItem("crm_config_cache",JSON.stringify({config:r,timestamp:Date.now()})),r}async migrateFromLocalStorage(){console.log("Iniciando migração do localStorage para Firebase...");const e=[{key:"crm_clientes",collection:this.collections.clientes},{key:"crm_os",collection:this.collections.ordensServico},{key:"crm_ov",collection:this.collections.ordensVenda},{key:"crm_produtos",collection:this.collections.produtos},{key:"crm_categorias",collection:this.collections.categorias},{key:"crm_movimentacoes",collection:this.collections.movimentacoes},{key:"crm_financeiro",collection:this.collections.financeiro},{key:"crm_usuarios",collection:this.collections.usuarios}];for(const n of e)try{const r=JSON.parse(localStorage.getItem(n.key)||"[]");if(Array.isArray(r)&&r.length>0){console.log(`Migrando ${r.length} itens de ${n.key}...`);for(const s of r){const{id:o,...a}=s;await this.saveData(n.collection,a)}console.log(`Migração de ${n.key} concluída!`)}}catch(r){console.error(`Erro ao migrar ${n.key}:`,r)}try{const n=localStorage.getItem("crm_configuracoes");if(n){const r=JSON.parse(n);await this.saveConfiguracao(r),console.log("Configurações migradas!")}}catch(n){console.error("Erro ao migrar configurações:",n)}console.log("Migração concluída!")}}const st=new lX,Hi=(t,e={})=>{const[n,r]=g.useState([]),[s,o]=g.useState(!0),[a,l]=g.useState(null),{enableRealtime:c=!0,onError:u=null}=e;return g.useEffect(()=>{let p=null,m=0;const y=3,x=async()=>{try{if(o(!0),l(null),console.log(`[useFirebaseData] ===== INÍCIO CARREGAMENTO ${t} =====`),console.log(`[useFirebaseData] enableRealtime: ${c}`),console.log(`[useFirebaseData] Tentativa ${m+1}/${y+1}`),!st.isFirebaseAvailable){console.log("[useFirebaseData] Firebase não disponível, tentando inicializar...");try{await st.init(),console.log("[useFirebaseData] ✅ Firebase inicializado com sucesso")}catch(S){throw console.error("[useFirebaseData] ❌ Erro na inicialização do Firebase:",S),S}}if(c){console.log(`[useFirebaseData] Configurando escuta em tempo real para ${t}`);try{p=await st.subscribeToCollection(t,S=>{console.log(`[useFirebaseData] ✅ Dados recebidos de ${t}:`,S),console.log("[useFirebaseData] Tipo dos dados:",typeof S,Array.isArray(S)),r(Array.isArray(S)?S:[]),o(!1)}),console.log(`[useFirebaseData] ✅ Escuta configurada com sucesso para ${t}`)}catch(S){console.error(`[useFirebaseData] ❌ Erro ao configurar escuta para ${t}:`,S),console.log("[useFirebaseData] Tentando carregamento único como fallback...");const _=await st.getData(t);console.log(`[useFirebaseData] Dados carregados (fallback) de ${t}:`,_),r(Array.isArray(_)?_:[]),o(!1)}}else{console.log(`[useFirebaseData] Carregando dados uma única vez para ${t}`);const S=await st.getData(t);console.log(`[useFirebaseData] Dados carregados de ${t}:`,S),console.log("[useFirebaseData] Tipo dos dados:",typeof S,Array.isArray(S)),r(Array.isArray(S)?S:[]),o(!1)}console.log(`[useFirebaseData] ===== FIM CARREGAMENTO ${t} =====`)}catch(S){if(console.error(`[useFirebaseData] ❌ ERRO CRÍTICO ao carregar dados de ${t}:`,S),console.error("[useFirebaseData] Stack trace:",S.stack),m<y){m++,console.log(`[useFirebaseData] Tentando novamente em 2 segundos... (${m}/${y})`),setTimeout(()=>{x()},2e3);return}l(S),o(!1),r([]),u&&u(S)}};return x(),()=>{p&&p()}},[t,c,u]),{data:n,loading:s,error:a,save:async(p,m=null)=>{try{console.log(`[useFirebaseData] Salvando item em ${t}:`,p);const y=await st.saveData(t,p,m);return console.log(`[useFirebaseData] Item salvo com sucesso em ${t}:`,y),y}catch(y){throw console.error(`[useFirebaseData] Erro ao salvar em ${t}:`,y),l(y),y}},remove:async p=>{try{console.log(`[useFirebaseData] Removendo item ${p} de ${t}`);const m=await st.deleteDocument(t,p);return console.log(`[useFirebaseData] Item removido com sucesso de ${t}`),m}catch(m){throw console.error(`[useFirebaseData] Erro ao deletar de ${t}:`,m),l(m),m}},refresh:()=>{o(!0),st.getData(t).then(r).finally(()=>o(!1))}}},Lc=()=>Hi("clientes"),ag=()=>Hi("ordens_servico"),Zd=()=>Hi("ordens_venda"),Jd=()=>Hi("produtos"),eh=()=>Hi("categorias"),s1=()=>Hi("movimentacoes"),th=()=>Hi("financeiro"),o1=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0),console.log("[useConfiguracoesLoja] Carregando configurações da loja...");const c=await st.getData("configuracoes_loja");console.log("[useConfiguracoesLoja] Configurações carregadas:",c),!c||c.length===0?e({nomeEmpresa:"MultiSmart",descricao:"Manutenção e Comércio de Celulares e Tablets",endereco:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""}):e(c[0]),r(!1)}catch(c){console.error("[useConfiguracoesLoja] Erro ao carregar configurações:",c),o(c),r(!1),e({nomeEmpresa:"MultiSmart",descricao:"Manutenção e Comércio de Celulares e Tablets",endereco:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",telefone:"(17)3345-1016",whatsapp:"(17)99157-1263",cnpj:"47.309.271/0001-97",email:"",site:"",logo:""})}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{if(console.log("[useConfiguracoesLoja] Salvando configurações:",l),t&&t.id){const c=await st.saveData("configuracoes_loja",l,t.id);return e({...l,id:t.id}),c}else{const c=await st.saveData("configuracoes_loja",l);return e({...l,id:c.id}),c}}catch(c){throw console.error("[useConfiguracoesLoja] Erro ao salvar configurações:",c),o(c),c}}}},Fc=()=>{const t=Hi("usuarios");console.log("[useUsuarios] Hook result completo:",t),console.log("[useUsuarios] result.data:",t.data),console.log("[useUsuarios] result.loading:",t.loading),console.log("[useUsuarios] result.error:",t.error);const e=Array.isArray(t.data)?t.data:[];return console.log("[useUsuarios] usuarios finais:",e),{...t,usuarios:e,saveUsuario:t.save}},i1=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0),[s,o]=g.useState(null);return g.useEffect(()=>{(async()=>{try{r(!0);const c=new Promise((f,p)=>setTimeout(()=>p(new Error("Timeout")),500)),u=st.getConfiguracao(),d=await Promise.race([u,c]);e(d),r(!1),console.log("[useConfiguracao] Configuração carregada:",d)}catch(c){console.warn("[useConfiguracao] Erro ao carregar configuração, usando padrão:",c.message),e({nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"}),o(c),r(!1)}})()},[]),{config:t,loading:n,error:s,saveConfig:async l=>{try{const c=await st.saveConfiguracao(l);return e(l),c}catch(c){throw console.error("Erro ao salvar configuração:",c),o(c),c}}}},cX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(wr),{data:r,loading:s,save:o,remove:a}=Lc(),{data:l}=Zd(),[c,u]=g.useState(""),[d,f]=g.useState(null),[p,m]=g.useState(null),[y,x]=g.useState("grid"),[S,_]=g.useState("nome"),[v,w]=g.useState("asc"),[j,R]=g.useState("todos"),[L,C]=g.useState(!0),[E,I]=g.useState(!1),[P,k]=g.useState("basico"),[N,A]=g.useState({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),{toast:V}=yr(),F=(W=null)=>{var he,se,je,qe,lt,B;W?(f(W),A({nome:W.nome||"",telefone:W.telefone||"",email:W.email||"",endereco:W.endereco||"",observacoes:W.observacoes||"",categoria:W.categoria||"cliente",dataNascimento:W.dataNascimento||"",cpf:W.cpf||"",empresa:W.empresa||"",website:W.website||"",foto:W.foto||null,redesSociais:{instagram:((he=W.redesSociais)==null?void 0:he.instagram)||"",facebook:((se=W.redesSociais)==null?void 0:se.facebook)||"",linkedin:((je=W.redesSociais)==null?void 0:je.linkedin)||""},preferencias:{formaContato:((qe=W.preferencias)==null?void 0:qe.formaContato)||"telefone",horarioContato:((lt=W.preferencias)==null?void 0:lt.horarioContato)||"comercial",newsletter:((B=W.preferencias)==null?void 0:B.newsletter)||!1}}),console.log("[Clientes] Editando cliente:",W)):(f(null),A({nome:"",telefone:"",email:"",endereco:"",observacoes:"",categoria:"cliente",dataNascimento:"",cpf:"",empresa:"",website:"",foto:null,redesSociais:{instagram:"",facebook:"",linkedin:""},preferencias:{formaContato:"telefone",horarioContato:"comercial",newsletter:!1}}),console.log("[Clientes] Novo cliente, formulário limpo")),e("clientes"),console.log("[Clientes] Dialog de cliente aberto")},q=()=>{n("clientes"),console.log("[Clientes] Dialog de cliente fechado")},$=async W=>{if(W.preventDefault(),console.log("[Clientes] Submissão do formulário de cliente:",N,d),!N.nome){V({title:"Campo obrigatório",description:"Nome é obrigatório!",variant:"destructive"});return}if(!N.telefone){V({title:"Campo obrigatório",description:"Telefone é obrigatório! Navegando para aba de contato...",variant:"destructive"}),k("contato");return}try{const he={...N,createdAt:d?d.createdAt:new Date().toISOString()};await o(he,d==null?void 0:d.id),d?(console.log("[Clientes] Cliente atualizado:",he),V({title:"Sucesso!",description:"Cliente atualizado com sucesso!"})):(console.log("[Clientes] Cliente cadastrado:",he),V({title:"Sucesso!",description:"Cliente cadastrado com sucesso!"})),q()}catch(he){console.error("[Clientes] Erro ao salvar cliente:",he),V({title:"Erro",description:"Erro ao salvar cliente. Tente novamente.",variant:"destructive"})}},M=async W=>{try{await a(W),console.log("[Clientes] Cliente removido:",W),V({title:"Sucesso!",description:"Cliente removido com sucesso!"})}catch(he){console.error("[Clientes] Erro ao remover cliente:",he),V({title:"Erro",description:"Erro ao remover cliente. Tente novamente.",variant:"destructive"})}},U=W=>{const he=l.filter(lt=>lt.clienteId===W.id),se=he.length,je=he.reduce((lt,B)=>lt+(B.total||0),0),qe=he.length>0?new Date(Math.max(...he.map(lt=>new Date(lt.createdAt)))):null;return{totalCompras:se,totalGasto:je,ultimaCompra:qe,ticketMedio:se>0?je/se:0,status:se===0?"novo":je>1e3?"vip":qe&&Date.now()-qe.getTime()<30*24*60*60*1e3?"ativo":"inativo"}},Y=()=>{const W=r.length,he=r.filter(qe=>l.some(lt=>lt.clienteId===qe.id)).length,se=r.filter(qe=>{const lt=new Date(qe.createdAt);return Date.now()-lt.getTime()<30*24*60*60*1e3}).length,je=r.filter(qe=>U(qe).status==="vip").length;return{total:W,comCompras:he,novos:se,vip:je}},K=r.filter(W=>{const he=W.nome.toLowerCase().includes(c.toLowerCase())||W.telefone.includes(c)||W.email&&W.email.toLowerCase().includes(c.toLowerCase()),se=U(W),je=j==="todos"||j==="vip"&&se.status==="vip"||j==="novos"&&se.totalCompras===0||j==="ativos"&&se.status==="ativo"||j==="inativos"&&se.status==="inativo";return he&&je}).sort((W,he)=>{let se=0;switch(S){case"nome":se=W.nome.localeCompare(he.nome);break;case"data":se=new Date(W.createdAt)-new Date(he.createdAt);break;case"compras":se=U(W).totalCompras-U(he).totalCompras;break;case"gasto":se=U(W).totalGasto-U(he).totalGasto;break;default:se=W.nome.localeCompare(he.nome)}return v==="asc"?se:-se}),ue=W=>{navigator.clipboard.writeText(W),V({title:"Copiado!",description:"Informação copiada para a área de transferência"})},Se=W=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W),we=W=>{const he=W[0];if(!he)return;if(!he.type.startsWith("image/")){V({title:"Tipo de arquivo inválido!",description:"Por favor, selecione apenas imagens.",variant:"destructive"});return}if(he.size>2*1024*1024){V({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 2MB.",variant:"destructive"});return}const se=new FileReader;se.onload=()=>{const je=new Image;je.onload=()=>{const qe=document.createElement("canvas"),lt=qe.getContext("2d");let{width:B,height:ce}=je;const Ve=1e3;B>ce?B>Ve&&(ce=ce*Ve/B,B=Ve):ce>Ve&&(B=B*Ve/ce,ce=Ve),qe.width=B,qe.height=ce,lt.drawImage(je,0,0,B,ce);const ke=qe.toDataURL("image/jpeg",.9);A(Ae=>({...Ae,foto:ke})),V({title:"Foto adicionada!",description:"Foto do cliente carregada com sucesso."})},je.src=se.result},se.onerror=()=>{V({title:"Erro ao carregar imagem!",description:"Tente novamente com outro arquivo.",variant:"destructive"})},se.readAsDataURL(he)},{getRootProps:ze,getInputProps:Ie,isDragActive:fe}=vR({onDrop:we,accept:{"image/*":[]},multiple:!1}),Oe=()=>{A(W=>({...W,foto:null})),V({title:"Foto removida!",description:"Foto do cliente removida com sucesso."})},$e=Y();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-6 text-white",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold mb-2",children:"👥 Clientes"}),i.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie sua base de clientes com inteligência"})]}),i.jsx(Te.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:i.jsxs(pn,{open:t.clientes,onOpenChange:q,children:[i.jsxs(Q,{onClick:()=>F(),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 text-white",size:"lg",children:[i.jsx(xu,{className:"h-5 w-5 mr-2"}),"Novo Cliente"]}),i.jsxs(en,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(tn,{children:[i.jsxs(nn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(xu,{className:"h-6 w-6 text-blue-500"}),d?"Editar Cliente":"Novo Cliente"]}),i.jsx(Om,{children:"Preencha as informações do cliente. Campos obrigatórios marcados com *."})]}),i.jsxs("form",{onSubmit:$,className:"space-y-6",children:[i.jsxs(lc,{value:P,onValueChange:k,className:"w-full",children:[i.jsxs(La,{className:"grid w-full grid-cols-3",children:[i.jsx(Nn,{value:"basico",children:"Básico"}),i.jsx(Nn,{value:"contato",children:"Contato"}),i.jsx(Nn,{value:"preferencias",children:"Preferências"})]}),i.jsxs(jn,{value:"basico",className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx(X,{className:"text-sm font-medium",children:"Foto do Cliente"}),N.foto?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:N.foto,alt:"Foto do cliente",className:"w-32 h-32 rounded-full object-cover border-4 border-slate-200 dark:border-slate-700 shadow-lg"}),i.jsx(Q,{type:"button",variant:"destructive",size:"icon",onClick:Oe,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full",children:i.jsx(Ir,{className:"h-3 w-3"})})]}):i.jsxs("div",{...ze(),className:`w-32 h-32 border-2 border-dashed rounded-full flex flex-col items-center justify-center cursor-pointer transition-all duration-200 ${fe?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[i.jsx("input",{...Ie()}),i.jsx(vp,{className:"h-8 w-8 text-slate-400 mb-2"}),i.jsx("p",{className:"text-xs text-slate-500 text-center px-2",children:fe?"🎯 Solte a foto aqui":"📷 Arraste uma foto ou clique para selecionar"})]}),i.jsx("p",{className:"text-xs text-slate-500 text-center",children:"PNG, JPG até 2MB • Redimensionada para 1000x1000px"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(X,{htmlFor:"nome",children:"Nome Completo *"}),i.jsx(me,{id:"nome",value:N.nome,onChange:W=>A({...N,nome:W.target.value}),placeholder:"João Silva",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"categoria",children:"Categoria"}),i.jsxs(dt,{value:N.categoria,onValueChange:W=>A({...N,categoria:W}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"cliente",children:"Cliente"}),i.jsx(oe,{value:"fornecedor",children:"Fornecedor"}),i.jsx(oe,{value:"parceiro",children:"Parceiro"}),i.jsx(oe,{value:"vip",children:"VIP"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(X,{htmlFor:"cpf",children:"CPF"}),i.jsx(me,{id:"cpf",value:N.cpf,onChange:W=>A({...N,cpf:W.target.value}),placeholder:"000.000.000-00"})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),i.jsx(me,{id:"dataNascimento",type:"date",value:N.dataNascimento,onChange:W=>A({...N,dataNascimento:W.target.value})})]})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"empresa",children:"Empresa"}),i.jsx(me,{id:"empresa",value:N.empresa,onChange:W=>A({...N,empresa:W.target.value}),placeholder:"Nome da empresa"})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"observacoes",children:"Observações"}),i.jsx(pd,{id:"observacoes",value:N.observacoes,onChange:W=>A({...N,observacoes:W.target.value}),placeholder:"Informações adicionais sobre o cliente",rows:3})]})]}),i.jsxs(jn,{value:"contato",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(X,{htmlFor:"telefone",children:"Telefone *"}),i.jsx(me,{id:"telefone",value:N.telefone,onChange:W=>A({...N,telefone:W.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"email",children:"E-mail"}),i.jsx(me,{id:"email",type:"email",value:N.email,onChange:W=>A({...N,email:W.target.value}),placeholder:"email@exemplo.com"})]})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"endereco",children:"Endereço"}),i.jsx(pd,{id:"endereco",value:N.endereco,onChange:W=>A({...N,endereco:W.target.value}),placeholder:"Endereço completo",rows:2})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"website",children:"Website"}),i.jsx(me,{id:"website",value:N.website,onChange:W=>A({...N,website:W.target.value}),placeholder:"https://exemplo.com"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(X,{children:"Redes Sociais"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{children:[i.jsx(X,{htmlFor:"instagram",className:"text-sm",children:"Instagram"}),i.jsx(me,{id:"instagram",value:N.redesSociais.instagram,onChange:W=>A({...N,redesSociais:{...N.redesSociais,instagram:W.target.value}}),placeholder:"@usuario"})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"facebook",className:"text-sm",children:"Facebook"}),i.jsx(me,{id:"facebook",value:N.redesSociais.facebook,onChange:W=>A({...N,redesSociais:{...N.redesSociais,facebook:W.target.value}}),placeholder:"facebook.com/usuario"})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"linkedin",className:"text-sm",children:"LinkedIn"}),i.jsx(me,{id:"linkedin",value:N.redesSociais.linkedin,onChange:W=>A({...N,redesSociais:{...N.redesSociais,linkedin:W.target.value}}),placeholder:"linkedin.com/in/usuario"})]})]})]})]}),i.jsxs(jn,{value:"preferencias",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(X,{htmlFor:"formaContato",children:"Forma de Contato Preferida"}),i.jsxs(dt,{value:N.preferencias.formaContato,onValueChange:W=>A({...N,preferencias:{...N.preferencias,formaContato:W}}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"telefone",children:"Telefone"}),i.jsx(oe,{value:"email",children:"E-mail"}),i.jsx(oe,{value:"whatsapp",children:"WhatsApp"}),i.jsx(oe,{value:"instagram",children:"Instagram"})]})]})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"horarioContato",children:"Horário de Contato"}),i.jsxs(dt,{value:N.preferencias.horarioContato,onValueChange:W=>A({...N,preferencias:{...N.preferencias,horarioContato:W}}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"comercial",children:"Comercial (9h-18h)"}),i.jsx(oe,{value:"manha",children:"Manhã (6h-12h)"}),i.jsx(oe,{value:"tarde",children:"Tarde (12h-18h)"}),i.jsx(oe,{value:"noite",children:"Noite (18h-22h)"}),i.jsx(oe,{value:"livre",children:"Qualquer horário"})]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"newsletter",checked:N.preferencias.newsletter,onChange:W=>A({...N,preferencias:{...N.preferencias,newsletter:W.target.checked}}),className:"rounded"}),i.jsx(X,{htmlFor:"newsletter",children:"Receber newsletter e promoções"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(Q,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600",children:d?"Atualizar Cliente":"Cadastrar Cliente"}),i.jsx(Q,{type:"button",variant:"outline",onClick:q,children:"Cancelar"})]})]})]})]})})]}),L&&i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:i.jsx(ps,{className:"h-5 w-5 text-blue-200"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm",children:"Total"}),i.jsx("p",{className:"text-white text-2xl font-bold",children:$e.total})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:i.jsx(cs,{className:"h-5 w-5 text-green-200"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm",children:"Compraram"}),i.jsx("p",{className:"text-white text-2xl font-bold",children:$e.comCompras})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:i.jsx(bf,{className:"h-5 w-5 text-yellow-200"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm",children:"VIP"}),i.jsx("p",{className:"text-white text-2xl font-bold",children:$e.vip})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:i.jsx(xu,{className:"h-5 w-5 text-purple-200"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/80 text-sm",children:"Novos"}),i.jsx("p",{className:"text-white text-2xl font-bold",children:$e.novos})]})]})})]})]}),i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx($r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar clientes...",value:c,onChange:W=>u(W.target.value),className:"pl-10"})]}),i.jsxs(dt,{value:j,onValueChange:R,children:[i.jsxs(ot,{className:"w-full sm:w-40",children:[i.jsx(Iw,{className:"h-4 w-4 mr-2"}),i.jsx(ht,{})]}),i.jsxs(it,{children:[i.jsx(oe,{value:"todos",children:"Todos"}),i.jsx(oe,{value:"vip",children:"VIP"}),i.jsx(oe,{value:"novos",children:"Novos"}),i.jsx(oe,{value:"ativos",children:"Ativos"}),i.jsx(oe,{value:"inativos",children:"Inativos"})]})]}),i.jsxs(dt,{value:S,onValueChange:_,children:[i.jsxs(ot,{className:"w-full sm:w-40",children:[i.jsx($s,{className:"h-4 w-4 mr-2"}),i.jsx(ht,{})]}),i.jsxs(it,{children:[i.jsx(oe,{value:"nome",children:"Nome"}),i.jsx(oe,{value:"data",children:"Data"}),i.jsx(oe,{value:"compras",children:"Compras"}),i.jsx(oe,{value:"gasto",children:"Gasto"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q,{variant:v==="asc"?"default":"outline",size:"sm",onClick:()=>w(v==="asc"?"desc":"asc"),children:v==="asc"?i.jsx(O9,{className:"h-4 w-4"}):i.jsx(D9,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex border border-slate-200 dark:border-slate-700 rounded-lg",children:[i.jsx(Q,{variant:y==="grid"?"default":"ghost",size:"sm",onClick:()=>x("grid"),className:"rounded-r-none",children:i.jsx($s,{className:"h-4 w-4"})}),i.jsx(Q,{variant:y==="list"?"default":"ghost",size:"sm",onClick:()=>x("list"),className:"rounded-l-none",children:i.jsx(ps,{className:"h-4 w-4"})})]})]})]})}),i.jsx(gp,{mode:"wait",children:s?i.jsxs(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),i.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Carregando clientes..."})]}):i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:K.map((W,he)=>{const se=U(W),je={novo:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",vip:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"};return y==="grid"?i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:he*.05},whileHover:{y:-5},className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[W.foto?i.jsx("img",{src:W.foto,alt:W.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:W.nome.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-lg group-hover:text-blue-600 transition-colors",children:W.nome}),i.jsx(dr,{className:je[se.status],children:se.status==="novo"?"Novo":se.status==="vip"?"VIP":se.status==="ativo"?"Ativo":"Inativo"})]})]}),i.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(W),I(!0)},className:"h-8 w-8",children:i.jsx(Ul,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>F(W),className:"h-8 w-8",children:i.jsx(vs,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>M(W.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:i.jsx(xs,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[i.jsx(ba,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:W.telefone}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ue(W.telefone),className:"h-6 w-6 ml-auto",children:i.jsx(Lh,{className:"h-3 w-3"})})]}),W.email&&i.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-400",children:[i.jsx(wa,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm truncate",children:W.email}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ue(W.email),className:"h-6 w-6 ml-auto",children:i.jsx(Lh,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:se.totalCompras}),i.jsx("p",{className:"text-xs text-slate-500",children:"Compras"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:Se(se.totalGasto)}),i.jsx("p",{className:"text-xs text-slate-500",children:"Total Gasto"})]})]})]})]},W.id):i.jsx(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:he*.05},className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[W.foto?i.jsx("img",{src:W.foto,alt:W.nome,className:"w-10 h-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:W.nome.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:W.nome}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx(ba,{className:"h-3 w-3"}),W.telefone,W.email&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"•"}),i.jsx(wa,{className:"h-3 w-3"}),W.email]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium",children:[se.totalCompras," compras"]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:Se(se.totalGasto)})]}),i.jsx(dr,{className:je[se.status],children:se.status==="novo"?"Novo":se.status==="vip"?"VIP":se.status==="ativo"?"Ativo":"Inativo"}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{m(W),I(!0)},className:"h-8 w-8",children:i.jsx(Ul,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>F(W),className:"h-8 w-8",children:i.jsx(vs,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>M(W.id),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:i.jsx(xs,{className:"h-4 w-4"})})]})]})]})},W.id)})},y)}),!s&&K.length===0&&i.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ps,{className:"h-12 w-12 text-white"})}),i.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:c?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:c?"Tente buscar com outros termos":"Comece cadastrando seu primeiro cliente"}),!c&&i.jsxs(Q,{onClick:()=>F(),className:"bg-gradient-to-r from-blue-600 to-purple-600",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Cliente"]})]}),i.jsx(pn,{open:E,onOpenChange:I,children:i.jsx(en,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:p&&i.jsxs(i.Fragment,{children:[i.jsx(tn,{children:i.jsxs(nn,{className:"text-2xl font-bold flex items-center gap-3",children:[p.foto?i.jsx("img",{src:p.foto,alt:p.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:p.nome.charAt(0).toUpperCase()}),p.nome]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(un,{children:[i.jsx(bn,{className:"pb-3",children:i.jsxs(_n,{className:"text-lg flex items-center gap-2",children:[i.jsx(cs,{className:"h-5 w-5 text-blue-500"}),"Compras"]})}),i.jsxs(dn,{children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600",children:U(p).totalCompras}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total de compras realizadas"})]})]}),i.jsxs(un,{children:[i.jsx(bn,{className:"pb-3",children:i.jsxs(_n,{className:"text-lg flex items-center gap-2",children:[i.jsx(Jn,{className:"h-5 w-5 text-green-500"}),"Total Gasto"]})}),i.jsxs(dn,{children:[i.jsx("div",{className:"text-3xl font-bold text-green-600",children:Se(U(p).totalGasto)}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor total gasto"})]})]})]}),i.jsxs(un,{children:[i.jsx(bn,{children:i.jsxs(_n,{className:"text-lg flex items-center gap-2",children:[i.jsx(Pr,{className:"h-5 w-5 text-purple-500"}),"Informações de Contato"]})}),i.jsxs(dn,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ba,{className:"h-4 w-4 text-slate-400"}),i.jsx("span",{children:p.telefone}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ue(p.telefone),className:"h-6 w-6 ml-auto",children:i.jsx(Lh,{className:"h-3 w-3"})})]}),p.email&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wa,{className:"h-4 w-4 text-slate-400"}),i.jsx("span",{children:p.email}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>ue(p.email),className:"h-6 w-6 ml-auto",children:i.jsx(Lh,{className:"h-3 w-3"})})]}),p.endereco&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(yp,{className:"h-4 w-4 text-slate-400"}),i.jsx("span",{children:p.endereco})]})]})]})]})]})})})]})},uX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(wr),{data:r,loading:s,save:o,remove:a}=ag(),{data:l}=Lc(),{save:c}=th(),{config:u}=o1(),[d,f]=g.useState(""),[p,m]=g.useState("Todos"),[y,x]=g.useState("grid"),[S,_]=g.useState(null),[v,w]=g.useState({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),{toast:j}=yr();console.log("[OS] ===== DADOS CARREGADOS ====="),console.log("[OS] Ordens:",r),console.log("[OS] Clientes:",l),console.log("[OS] Loading:",s);const R=(F=null)=>{F?(_(F),w({...F,valor:F.valor?F.valor.toString():""}),console.log("[OS] Editando OS:",F)):(_(null),w({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),console.log("[OS] Nova OS, formulário limpo")),e("os"),console.log("[OS] Dialog de OS aberto")},L=()=>{n("os"),console.log("[OS] Dialog de OS fechado")},C=async(F,q)=>{try{if(q==="add"){const $={descricao:`Recebimento da OS: ${F.numero}`,valor:parseFloat(F.valor),dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`os-${F.id}`};await c($),console.log("[OS] ✅ Entrada financeira criada:",$)}}catch($){console.error("[OS] ❌ Erro ao atualizar financeiro:",$)}},E=async F=>{if(F.preventDefault(),!v.clienteNome||!v.clienteTelefone||!v.titulo||!v.senha||!v.valor){j({title:"Erro",description:"Todos os campos obrigatórios devem ser preenchidos!",variant:"destructive"});return}try{const q={numero:S?S.numero:`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,...v,valor:parseFloat(v.valor),createdAt:S?S.createdAt:new Date().toISOString()};await o(q,S==null?void 0:S.id),j(S?{title:"Sucesso!",description:"OS atualizada com sucesso!"}:{title:"Sucesso!",description:"OS criada com sucesso!"}),q.status==="Concluída"?await C(q,"add"):await C(q,"remove"),w({clienteNome:"",clienteTelefone:"",titulo:"",senha:"",valor:"",observacoes:"",status:"Pendente"}),_(null),L()}catch(q){console.error("[OS] ❌ Erro ao salvar OS:",q),j({title:"Erro",description:"Erro ao salvar ordem de serviço. Tente novamente.",variant:"destructive"})}},I=async F=>{try{const q=r==null?void 0:r.find($=>$.id===F);q&&await C(q,"remove"),await a(F),j({title:"Sucesso!",description:"OS removida com sucesso!"})}catch(q){console.error("[OS] ❌ Erro ao remover OS:",q),j({title:"Erro",description:"Erro ao remover ordem de serviço. Tente novamente.",variant:"destructive"})}},P=F=>{const q=new Date().toLocaleDateString("pt-BR"),$=F.numero||`OS${String(((r==null?void 0:r.length)||0)+1).padStart(4,"0")}`,M=u||{},U=M.nomeEmpresa||"MultiSmart",Y=M.descricao||"Manutenção e Comércio de Celulares e Tablets",K=M.endereco||"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",ue=M.cnpj||"47.309.271/0001-97",Se=M.telefone||"(17)3345-1016",we=M.whatsapp||"(17)99157-1263",ze=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Ordem de Serviço - ${$}</title>
          <meta charset="UTF-8">
          <style>
            @page {
              size: A4;
              margin: 0.5cm;
            }
            
            body { 
              font-family: Arial, sans-serif; 
              margin: 0; 
              padding: 0;
              color: #000; 
              font-size: 12px;
              line-height: 1.3;
            }
            
            .page {
              width: 21cm;
              height: 29.7cm;
              page-break-after: always;
              position: relative;
              border: 1px solid #ccc;
              box-sizing: border-box;
            }
            
            .page:last-child {
              page-break-after: avoid;
            }
            
            .cut-line {
              border-top: 2px dashed #000;
              margin: 14.85cm 0;
              position: relative;
            }
            
            .cut-line::before {
              content: "CORTE AQUI";
              position: absolute;
              top: -8px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 0 10px;
              font-size: 10px;
              font-weight: bold;
            }
            
            .os-container {
              padding: 20px;
              height: 14.35cm;
              box-sizing: border-box;
              position: relative;
            }
            
            .header {
              text-align: center;
              margin-bottom: 25px;
              border-bottom: 2px solid #000;
              padding-bottom: 15px;
            }
            
            .company-name {
              font-size: 28px;
              font-weight: bold;
              color: #2E8B57;
              margin-bottom: 5px;
              text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            }
            
            .company-subtitle {
              font-size: 14px;
              color: #666;
              margin-bottom: 10px;
            }
            
            .company-info {
              font-size: 11px;
              line-height: 1.4;
            }
            
            .os-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin: 20px 0;
              padding: 10px;
              background: #f5f5f5;
              border-radius: 5px;
            }
            
            .os-number {
              font-size: 24px;
              font-weight: bold;
              color: #2E8B57;
            }
            
            .os-date {
              font-size: 14px;
              font-weight: bold;
            }
            
            .form-section {
              display: grid;
              grid-template-columns: 1fr 1fr 1fr;
              gap: 20px;
              margin-bottom: 20px;
            }
            
            .form-column {
              display: flex;
              flex-direction: column;
            }
            
            .form-field {
              margin-bottom: 15px;
            }
            
            .form-label {
              font-weight: bold;
              font-size: 11px;
              margin-bottom: 5px;
              display: block;
            }
            
            .form-input {
              border: none;
              border-bottom: 1px solid #000;
              padding: 5px 0;
              font-size: 12px;
              width: 100%;
              background: transparent;
            }
            
            .form-textarea {
              border: 1px solid #ccc;
              padding: 8px;
              font-size: 11px;
              width: 100%;
              min-height: 60px;
              resize: none;
              background: #fafafa;
            }
            
            .phone-input {
              font-family: monospace;
              letter-spacing: 1px;
            }
            
            .terms-section {
              margin-top: 20px;
              padding: 15px;
              border: 1px solid #000;
              border-radius: 5px;
            }
            
            .terms-title {
              text-align: center;
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 15px;
              border-bottom: 1px dashed #000;
              padding-bottom: 5px;
            }
            
            .terms-list {
              list-style: none;
              padding: 0;
              margin: 0;
            }
            
            .terms-list li {
              margin-bottom: 8px;
              font-size: 11px;
              line-height: 1.4;
            }
            
            .dots-grid {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 5px;
              margin-top: 10px;
            }
            
            .dot {
              width: 8px;
              height: 8px;
              background: #000;
              border-radius: 50%;
              margin: 0 auto;
            }
            
            .footer-section {
              display: grid;
              grid-template-columns: 1fr 1fr 2fr;
              gap: 20px;
              margin-top: 20px;
              padding-top: 15px;
              border-top: 1px solid #000; 
            }
            
            .signature-line {
              border-bottom: 1px solid #000;
              padding: 5px 0;
              text-align: center;
              font-size: 11px;
              font-weight: bold;
            }
            
            .print-info {
              font-size: 10px;
              color: #666;
              text-align: center; 
              margin-top: 10px;
            }
            
            @media print {
              .page {
                border: none;
              }
              .cut-line {
                border-top: 2px dashed #000;
              }
            }
          </style>
        </head>
        <body>
          <!-- Primeira OS -->
          <div class="page">
            <div class="os-container">
              <div class="header">
                <div class="company-name">${U}</div>
                <div class="company-subtitle">${Y}</div>
                <div class="company-info">
                  ${K}<br>
                  CNPJ: ${ue} | Fone: ${Se} | WhatsApp: ${we}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${q}</div>
                <div class="os-number">N°O.S.: ${$}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${F.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitação/Reclamação:</label>
                    <div class="form-textarea">${F.observacoes||""}</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${F.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Serviços executados/peças:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
                </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${F.clienteTelefone||"(  )     -    "}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                </div>
              </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorização para execução de serviço ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias será sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados após análise serão comunicados posteriormente.</li>
                  <li>4 - Não haverá garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                </div>
              </div>
              
              <div class="footer-section">
                <div class="signature-line">Pin: ${F.senha||""}</div>
                <div class="signature-line">Senha: ${F.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>
          
          <!-- Linha de corte -->
          <div class="cut-line"></div>
          
          <!-- Segunda OS (cópia) -->
          <div class="page">
            <div class="os-container">
          <div class="header">
                <div class="company-name">${U}</div>
                <div class="company-subtitle">${Y}</div>
                <div class="company-info">
                  ${K}<br>
                  CNPJ: ${ue} | Fone: ${Se} | WhatsApp: ${we}
                </div>
              </div>
              
              <div class="os-header">
                <div class="os-date">Data: ${q}</div>
                <div class="os-number">N°O.S.: ${$}</div>
              </div>
              
              <div class="form-section">
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Nome:</label>
                    <div class="form-input">${F.clienteNome||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">End.:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Cidade:</label>
                    <div class="form-input">_________________________</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Solicitação/Reclamação:</label>
                    <div class="form-textarea">${F.observacoes||""}</div>
                  </div>
          </div>
          
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Celular e Marca:</label>
                    <div class="form-input">${F.titulo||""}</div>
                  </div>
                  <div class="form-field">
                    <label class="form-label">Serviços executados/peças:</label>
                    <div class="form-textarea">_________________________<br>_________________________<br>_________________________</div>
                  </div>
            </div>
                
                <div class="form-column">
                  <div class="form-field">
                    <label class="form-label">Fone:</label>
                    <div class="form-input phone-input">${F.clienteTelefone||"(  )     -    "}</div>
            </div>
                  <div class="form-field">
                    <label class="form-label">Bairro:</label>
                    <div class="form-input">_________________________</div>
            </div>
            </div>
            </div>
              
              <div class="terms-section">
                <div class="terms-title">------------- Autorização para execução de serviço ----------</div>
                <ul class="terms-list">
                  <li>1 - Prazo para retirar 90 dias</li>
                  <li>2 - Ao Ultrapassar o prazo de 90 dias será sucateado para fins de custeio</li>
                  <li>3 - Defeitos encontrados após análise serão comunicados posteriormente.</li>
                  <li>4 - Não haverá garantia de quebra de tela.</li>
                </ul>
                <div class="dots-grid">
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                  <div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
          </div>

              <div class="footer-section">
                <div class="signature-line">Pin: ${F.senha||""}</div>
                <div class="signature-line">Senha: ${F.senha||""}</div>
                <div class="signature-line">Ass.: _________________________</div>
              </div>
            </div>
          </div>

          <div class="print-info">
            Impresso em: ${new Date().toLocaleString("pt-BR")} | MultiSmart CRM System
          </div>
        </body>
      </html>
    `,Ie=window.open("","_blank","width=800,height=600");Ie.document.write(ze),Ie.document.close(),Ie.focus(),setTimeout(()=>{Ie.print()},500)},k=F=>{const q=l.find($=>$.id===parseInt(F));q&&w({...v,clienteNome:q.nome,clienteTelefone:q.telefone})},N=(r||[]).filter(F=>{var M,U,Y,K;const q=((M=F.clienteNome)==null?void 0:M.toLowerCase().includes(d.toLowerCase()))||((U=F.numero)==null?void 0:U.toLowerCase().includes(d.toLowerCase()))||((Y=F.titulo)==null?void 0:Y.toLowerCase().includes(d.toLowerCase()))||((K=F.clienteTelefone)==null?void 0:K.toLowerCase().includes(d.toLowerCase())),$=p==="Todos"||F.status===p;return q&&$}),A=F=>{switch(F){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Em Andamento":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluída":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},V={total:(r==null?void 0:r.length)||0,pendentes:(r==null?void 0:r.filter(F=>F.status==="Pendente").length)||0,emAndamento:(r==null?void 0:r.filter(F=>F.status==="Em Andamento").length)||0,concluidas:(r==null?void 0:r.filter(F=>F.status==="Concluída").length)||0,valorTotal:(r==null?void 0:r.reduce((F,q)=>F+(q.valor||0),0))||0};return i.jsxs("div",{className:"space-y-8",children:[i.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[i.jsx(xi,{className:"h-10 w-10"}),"Ordens de Serviço"]}),i.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie e acompanhe todos os seus serviços"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs(Q,{onClick:()=>x(y==="grid"?"list":"grid"),variant:"secondary",className:"bg-white/20 hover:bg-white/30 border-white/30",children:[y==="grid"?i.jsx(Ul,{className:"h-4 w-4 mr-2"}):i.jsx(xi,{className:"h-4 w-4 mr-2"}),y==="grid"?"Lista":"Cards"]}),i.jsxs(pn,{open:t.os,onOpenChange:L,children:[i.jsxs(Q,{onClick:()=>R(),className:"bg-white text-blue-600 hover:bg-blue-50 shadow-lg w-full max-w-full",children:[i.jsx($n,{className:"h-5 w-5 mr-2"}),"Nova OS"]}),i.jsxs(en,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsx(nn,{children:S?"Editar OS":"Nova Ordem de Serviço"})}),i.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.length>0&&i.jsxs("div",{children:[i.jsx(X,{children:"Selecionar Cliente Existente"}),i.jsxs(dt,{onValueChange:k,children:[i.jsx(ot,{children:i.jsx(ht,{placeholder:"Escolha um cliente..."})}),i.jsx(it,{children:l.map(F=>i.jsxs(oe,{value:F.id.toString(),children:[F.nome," - ",F.telefone]},F.id))})]})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"clienteNome",children:"Nome do Cliente *"}),i.jsx(me,{id:"clienteNome",value:v.clienteNome,onChange:F=>w({...v,clienteNome:F.target.value}),placeholder:"Nome do cliente",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"clienteTelefone",children:"Telefone do Cliente *"}),i.jsx(me,{id:"clienteTelefone",value:v.clienteTelefone,onChange:F=>w({...v,clienteTelefone:F.target.value}),placeholder:"(11) 99999-9999",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"titulo",children:"Descrição/Título *"}),i.jsx(me,{id:"titulo",value:v.titulo,onChange:F=>w({...v,titulo:F.target.value}),placeholder:"Ex: Troca de tela, reparo de bateria...",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"senha",children:"Senha do Dispositivo *"}),i.jsx(me,{id:"senha",value:v.senha,onChange:F=>w({...v,senha:F.target.value}),placeholder:"Senha ou PIN",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"valor",children:"Valor do Serviço (R$) *"}),i.jsx(me,{id:"valor",type:"number",step:"0.01",value:v.valor,onChange:F=>w({...v,valor:F.target.value}),placeholder:"0.00",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"status",children:"Status"}),i.jsxs(dt,{value:v.status,onValueChange:F=>w({...v,status:F}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"Pendente",children:"Pendente"}),i.jsx(oe,{value:"Em Andamento",children:"Em Andamento"}),i.jsx(oe,{value:"Concluída",children:"Concluída"})]})]})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"observacoes",children:"Observações"}),i.jsx(pd,{id:"observacoes",value:v.observacoes,onChange:F=>w({...v,observacoes:F.target.value}),placeholder:"Observações adicionais",rows:3})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Q,{type:"submit",className:"flex-1",children:S?"Atualizar":"Criar OS"}),i.jsx(Q,{type:"button",variant:"outline",onClick:L,children:"Cancelar"})]})]})]})]})]})]})}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:V.total})]}),i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(Pr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Pendentes"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:V.pendentes})]}),i.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:i.jsx(Zo,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Em Andamento"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:V.emAndamento})]}),i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(xi,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Concluídas"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:V.concluidas})]}),i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(Pa,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Valor Total"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(V.valorTotal)})]}),i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(er,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})]}),i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx($r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),i.jsx(me,{placeholder:"Buscar por cliente, número, descrição ou telefone...",value:d,onChange:F=>f(F.target.value),className:"pl-12 h-12 text-lg"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(dt,{value:p,onValueChange:m,children:[i.jsxs(ot,{className:"w-48 h-12",children:[i.jsx(Iw,{className:"h-4 w-4 mr-2"}),i.jsx(ht,{})]}),i.jsxs(it,{children:[i.jsx(oe,{value:"Todos",children:"Todos os Status"}),i.jsx(oe,{value:"Pendente",children:"Pendentes"}),i.jsx(oe,{value:"Em Andamento",children:"Em Andamento"}),i.jsx(oe,{value:"Concluída",children:"Concluídas"})]})]}),i.jsxs(Q,{variant:"outline",className:"h-12",children:[i.jsx(sc,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})}),i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:s?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Carregando ordens de serviço..."})]}):i.jsx(i.Fragment,{children:y==="grid"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((F,q)=>i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:q*.1},className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 w-full max-w-full",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-xl",children:F.numero}),i.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${A(F.status)}`,children:F.status})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>P(F),className:"h-10 w-10 max-w-full hover:bg-blue-100 dark:hover:bg-blue-900/30",children:i.jsx(ud,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>R(F),className:"h-10 w-10 max-w-full hover:bg-green-100 dark:hover:bg-green-900/30",children:i.jsx(vs,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>I(F.id),className:"h-10 w-10 max-w-full hover:bg-red-100 dark:hover:bg-red-900/30",children:i.jsx(xs,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(Gr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:F.clienteNome}),i.jsxs("div",{className:"flex items-center space-x-2 text-slate-600 dark:text-slate-400",children:[i.jsx(ba,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:F.clienteTelefone})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:i.jsx(nz,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),i.jsx("div",{children:i.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-sm",children:F.titulo})})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(er,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),i.jsx("div",{children:i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:F.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(F.valor):"R$ 0,00"})})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:i.jsx(oc,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Senha: ",i.jsx("span",{className:"font-mono font-semibold",children:F.senha})]})})]}),F.observacoes&&i.jsx("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:F.observacoes})}),i.jsxs("div",{className:"flex items-center space-x-3 pt-2 border-t border-slate-200 dark:border-slate-700",children:[i.jsx(Os,{className:"h-4 w-4 text-slate-400"}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Criada em: ",new Date(F.createdAt).toLocaleDateString("pt-BR")]})]})]})]},F.id))}):i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden w-full max-w-full",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"OS"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cliente"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Serviço"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Valor"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Data"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ações"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:N.map((F,q)=>i.jsxs(Te.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:q*.05},className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[i.jsx("td",{className:"px-3 sm:px-6 py-4",children:i.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white break-words",children:F.numero})}),i.jsx("td",{className:"px-3 sm:px-6 py-4",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white break-words",children:F.clienteNome}),i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 break-words",children:F.clienteTelefone})]})}),i.jsx("td",{className:"px-3 sm:px-6 py-4",children:i.jsx("div",{className:"text-sm text-slate-900 dark:text-white max-w-xs truncate break-words",children:F.titulo})}),i.jsx("td",{className:"px-3 sm:px-6 py-4",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium break-words ${A(F.status)}`,children:F.status})}),i.jsx("td",{className:"px-3 sm:px-6 py-4",children:i.jsx("div",{className:"text-sm font-bold text-green-600 dark:text-green-400 break-words",children:F.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(F.valor):"R$ 0,00"})}),i.jsx("td",{className:"px-3 sm:px-6 py-4",children:i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 break-words",children:new Date(F.createdAt).toLocaleDateString("pt-BR")})}),i.jsx("td",{className:"px-3 sm:px-6 py-4 text-right text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>P(F),className:"h-8 w-8 max-w-full",children:i.jsx(ud,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>R(F),className:"h-8 w-8 max-w-full",children:i.jsx(vs,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>I(F.id),className:"h-8 w-8 max-w-full text-red-500 hover:text-red-700",children:i.jsx(xs,{className:"h-4 w-4"})})]})})]},F.id))})]})})})})}),!s&&N.length===0&&i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center py-16 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 w-full max-w-full",children:[i.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:i.jsx(Pr,{className:"h-10 w-10 text-slate-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:d||p!=="Todos"?"Nenhuma OS encontrada":"Nenhuma OS cadastrada"}),i.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-6 max-w-md mx-auto",children:d||p!=="Todos"?"Tente ajustar os filtros ou buscar com outros termos":"Comece criando sua primeira ordem de serviço e organize seus atendimentos"}),!d&&p==="Todos"&&i.jsxs(Q,{onClick:()=>R(),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[i.jsx($n,{className:"h-5 w-5 mr-2"}),"Criar Primeira OS"]})]})]})},dX=()=>{const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(wr),{toast:r}=yr(),{data:s,save:o,remove:a}=Zd(),{data:l}=Lc(),{data:c,save:u}=Jd(),{data:d}=eh(),{save:f}=s1(),[p,m]=g.useState(""),[y,x]=g.useState("todas"),[S,_]=g.useState(""),[v,w]=g.useState([]),[j,R]=g.useState(null),[L,C]=g.useState("selecionar"),[E,I]=g.useState(""),[P,k]=g.useState([]),[N,A]=g.useState(!1);g.useState(""),g.useState([]),g.useState(!1);const[V,F]=g.useState({}),[q,$]=g.useState({}),[M,U]=g.useState({}),[Y,K]=g.useState(!1),[ue,Se]=g.useState([]),[we,ze]=g.useState({tipo:"porcentagem",valor:0}),[Ie,fe]=g.useState(!1),[Oe,$e]=g.useState("recentes");g.useState(!1);const[W,he]=g.useState(null),[se,je]=g.useState({clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0});g.useEffect(()=>{console.log("[OV] Clientes carregados:",l),console.log("[OV] Produtos carregados:",c),console.log("[OV] Categorias carregadas:",d),console.log("[OV] Ordens carregadas:",s)},[l,c,d,s]);const qe=async z=>{try{await o(z),r({title:"Sucesso!",description:"Ordem de Venda criada com sucesso!"})}catch(ne){console.error("[OV] Erro ao salvar OV:",ne),r({title:"Erro!",description:"Erro ao criar Ordem de Venda.",variant:"destructive"})}},lt=(z=null)=>{he(z),je(z?{clienteId:z.clienteId,clienteNome:z.clienteNome,produtos:z.produtos,status:z.status,total:z.total}:{clienteId:"",clienteNome:"",produtos:[{produtoId:"",nome:"",preco:0,quantidade:1}],status:"Pendente",total:0}),e("ov")},B=()=>{he(null),n("ov"),console.log("[OV] Dialog de OV fechado")},ce=z=>z.reduce((ne,ae)=>ne+ae.preco*ae.quantidade,0),Ve=(z,ne,ae)=>{const xe=[...se.produtos];if(ne==="produtoId"){const yn=c.find(ts=>ts.id===ae);yn&&(xe[z]={...xe[z],produtoId:ae,nome:yn.nome,preco:yn.preco})}else xe[z][ne]=ne==="quantidade"||ne==="preco"?parseFloat(ae)||0:ae;const xn=ce(xe);je({...se,produtos:xe,total:xn})},ke=()=>{je({...se,produtos:[...se.produtos,{produtoId:"",nome:"",preco:0,quantidade:1}]})},Ae=z=>{const ne=se.produtos.filter((xe,xn)=>xn!==z),ae=ce(ne);je({...se,produtos:ne,total:ae})},ye=(z,ne)=>{const ae=JSON.parse(localStorage.getItem("crm_financeiro")||"[]");let xe=ae;if(ne==="add"){if(!ae.find(yn=>yn.origemId===`ov-${z.id}`)){const yn={id:Date.now(),descricao:`Recebimento da OV: ${z.numero}`,valor:z.total,dataVencimento:new Date().toISOString().split("T")[0],tipo:"receber",status:"Pendente",origemId:`ov-${z.id}`,createdAt:new Date().toISOString()};xe=[...ae,yn]}}else ne==="remove"&&(xe=ae.filter(xn=>xn.origemId!==`ov-${z.id}`));localStorage.setItem("crm_financeiro",JSON.stringify(xe)),window.dispatchEvent(new Event("storage"))},Je=async z=>{if(z.preventDefault(),!se.clienteNome||se.produtos.length===0||se.produtos.some(ae=>!ae.nome)){r({title:"Erro",description:"Cliente e pelo menos um produto são obrigatórios!",variant:"destructive"});return}const ne={numero:W?W.numero:`OV${String(s.length+1).padStart(4,"0")}`,...se,createdAt:W?W.createdAt:new Date().toISOString()};try{W?(await o(ne,W.id),r({title:"Sucesso!",description:"OV atualizada com sucesso!"})):(await o(ne),r({title:"Sucesso!",description:"OV criada com sucesso!"})),ne.status==="Concluída"?ye(ne,"add"):ye(ne,"remove"),B()}catch(ae){console.error("[OV] Erro ao salvar OV:",ae),r({title:"Erro!",description:"Erro ao salvar OV.",variant:"destructive"})}},J=async z=>{try{const ne=s.find(ae=>ae.id===z);if(!ne){r({title:"Erro!",description:"OV não encontrada",variant:"destructive"});return}ye(ne,"remove"),await a(z),r({title:"Sucesso!",description:"OV removida com sucesso!"}),console.log(`✅ OV ${ne.numero} removida com sucesso`)}catch(ne){console.error("❌ Erro ao excluir OV:",ne),r({title:"Erro!",description:"Erro ao excluir a OV. Tente novamente.",variant:"destructive"})}},ee=z=>{if(I(z),z.length>0){const ne=l.filter(ae=>{var xe;return ae.nome.toLowerCase().includes(z.toLowerCase())||ae.telefone.includes(z)||((xe=ae.email)==null?void 0:xe.toLowerCase().includes(z.toLowerCase()))});k(ne),A(!0)}else k([]),A(!1)},ie=z=>{R(z),I(z.nome),A(!1)},Pe=(z,ne)=>{if(F(ae=>({...ae,[z]:ne})),ne.length>0){const ae=c.filter(xe=>xe.nome.toLowerCase().includes(ne.toLowerCase())||xe.codigo.toLowerCase().includes(ne.toLowerCase()));$(xe=>({...xe,[z]:ae})),U(xe=>({...xe,[z]:!0}))}else $(ae=>({...ae,[z]:[]})),U(ae=>({...ae,[z]:!1}))},nt=(z,ne)=>{Ve(z,"produtoId",ne.id),F(ae=>({...ae,[z]:ne.nome})),U(ae=>({...ae,[z]:!1}))};g.useEffect(()=>{L!=="selecionar"&&(I(""),k([]),A(!1))},[L]),g.useEffect(()=>{t.ov||(I(""),k([]),A(!1),F({}),$({}),U({}))},[t.ov]);const Ct=z=>{const ne=v.find(ae=>ae.id===z.id);w(ne?v.map(ae=>ae.id===z.id?{...ae,quantidade:ae.quantidade+1}:ae):[...v,{...z,quantidade:1}]),r({title:"Produto adicionado!",description:`${z.nome} foi adicionado ao carrinho`})},vn=z=>{w(v.filter(ne=>ne.id!==z)),r({title:"Produto removido!",description:"Produto removido do carrinho"})},Yn=(z,ne)=>{if(ne<=0){vn(z);return}w(v.map(ae=>ae.id===z?{...ae,quantidade:ne}:ae))},br=()=>v.reduce((z,ne)=>z+ne.preco*ne.quantidade,0),Es=()=>{if(v.length===0){r({title:"Carrinho vazio!",description:"Adicione produtos ao carrinho antes de finalizar",variant:"destructive"});return}if(!j){r({title:"Cliente não informado!",description:"Selecione um cliente antes de finalizar",variant:"destructive"});return}K(!0)},Ts=()=>{w([]),R(null),setClienteDigitado(""),C("selecionar"),Se([]),ze({tipo:"porcentagem",valor:0}),r({title:"Venda cancelada",description:"Carrinho limpo"})},or=()=>{Se([...ue,{id:Date.now(),tipo:"dinheiro",valor:0,observacao:""}])},es=z=>{Se(ue.filter(ne=>ne.id!==z))},_r=(z,ne,ae)=>{Se(ue.map(xe=>xe.id===z?{...xe,[ne]:ae}:xe))},an=()=>{const z=br();return we.tipo==="porcentagem"?z*(1-we.valor/100):Math.max(0,z-we.valor)},ir=()=>ue.reduce((z,ne)=>z+ne.valor,0),O=async z=>{try{for(const ne of z){const ae=c.find(xe=>xe.id===ne.produtoId);if(ae){const xe=ae.quantidade-ne.quantidade;await u({...ae,quantidade:xe},ae.id),await f({produtoId:ne.produtoId,produto:ne.nome,tipo:"saida",quantidade:ne.quantidade,observacao:`Venda - OV ${s.length+1}`,data:new Date().toISOString(),usuario:"Sistema",createdAt:new Date().toISOString()}),console.log(`✅ Baixa realizada: ${ne.nome} - ${ne.quantidade} unidades`)}}r({title:"Estoque atualizado!",description:"Baixa realizada com sucesso no estoque"})}catch(ne){console.error("❌ Erro ao dar baixa no estoque:",ne),r({title:"Erro no estoque!",description:"Erro ao atualizar o estoque. Verifique manualmente.",variant:"destructive"})}},be=async()=>{const z=an(),ne=ir();if(ne<z){r({title:"Valor insuficiente!",description:`Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z)} | Pago: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ne)}`,variant:"destructive"});return}const ae={numero:`OV${String(s.length+1).padStart(4,"0")}`,clienteId:j.id||null,clienteNome:j.nome,produtos:v.map(xe=>({produtoId:xe.id,nome:xe.nome,preco:xe.preco,quantidade:xe.quantidade})),status:"Concluída",total:z,desconto:we,formasPagamento:ue,troco:ne-z,createdAt:new Date().toISOString()};try{await qe(ae),await O(v),ye(ae,"add"),w([]),R(null),setClienteDigitado(""),C("selecionar"),Se([]),ze({tipo:"porcentagem",valor:0}),K(!1),r({title:"Venda finalizada!",description:`OV criada com sucesso. Total: ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z)}. Estoque atualizado.`})}catch(xe){console.error("[OV] Erro ao finalizar pagamento:",xe),r({title:"Erro!",description:"Erro ao finalizar a venda.",variant:"destructive"})}},te=c.filter(z=>{const ne=z.nome.toLowerCase().includes(p.toLowerCase())||z.codigo.toLowerCase().includes(p.toLowerCase()),ae=y==="todas"||z.categoriaId===y;return ne&&ae}),ge=new Date().toISOString().slice(0,10),de=s.filter(z=>{var ae,xe;return((ae=z.createdAt)!=null&&ae.toDate?z.createdAt.toDate().toISOString().slice(0,10):(xe=z.createdAt)==null?void 0:xe.slice(0,10))===ge}).sort((z,ne)=>{var xn,yn;const ae=(xn=z.createdAt)!=null&&xn.toDate?z.createdAt.toDate():new Date(z.createdAt),xe=(yn=ne.createdAt)!=null&&yn.toDate?ne.createdAt.toDate():new Date(ne.createdAt);return Oe==="recentes"?xe-ae:ae-xe}),rt=de.filter(z=>z.clienteNome.toLowerCase().includes(S.toLowerCase())||z.numero.toLowerCase().includes(S.toLowerCase())),We=z=>{switch(z){case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"Processando":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Concluída":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelada":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Ordens de Venda"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Catálogo de produtos e carrinho de vendas"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(pn,{open:t.ov,onOpenChange:B,children:[i.jsxs(Q,{onClick:()=>lt(),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Nova OV Manual"]}),i.jsxs(en,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(cs,{className:"h-6 w-6 text-blue-500"}),W?"Editar OV":"Nova Ordem de Venda"]})}),i.jsxs("form",{onSubmit:Je,className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Gr,{className:"h-5 w-5 text-blue-500"}),"Informações do Cliente"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Cliente Cadastrado"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(me,{value:E,onChange:z=>ee(z.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),i.jsx($r,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),N&&P.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:P.map(z=>i.jsx("div",{onClick:()=>{je({...se,clienteId:z.id.toString(),clienteNome:z.nome}),I(z.nome),A(!1)},className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:i.jsx(Gr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:z.nome}),i.jsxs("p",{className:"text-xs text-slate-500",children:[z.telefone," ",z.email&&`• ${z.email}`]})]})]})},z.id))})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome, telefone ou email do cliente para buscar"}),l.length===0&&i.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Cadastre clientes no módulo Clientes primeiro"})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"clienteNome",className:"text-sm font-medium",children:"Nome do Cliente"}),i.jsx(me,{id:"clienteNome",value:se.clienteNome,onChange:z=>je({...se,clienteNome:z.target.value}),placeholder:"Digite o nome do cliente",className:"mt-1",required:!0}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use este campo se o cliente não estiver cadastrado"})]})]}),se.clienteNome&&i.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:i.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["✅ Cliente: ",i.jsx("span",{className:"font-semibold",children:se.clienteNome})]})})]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(tr,{className:"h-5 w-5 text-green-500"}),"Produtos"]}),i.jsxs(Q,{type:"button",onClick:ke,size:"sm",className:"bg-green-500 hover:bg-green-600",children:[i.jsx($n,{className:"h-4 w-4 mr-1"}),"Adicionar Produto"]})]}),i.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:se.produtos.map((z,ne)=>{var ae;return i.jsxs("div",{className:"bg-white dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white",children:["Produto ",ne+1]}),se.produtos.length>1&&i.jsx(Q,{type:"button",variant:"ghost",size:"icon",onClick:()=>Ae(ne),className:"h-8 w-8 text-red-500 hover:text-red-700 dark:hover:text-red-400",children:i.jsx(xs,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Produto Cadastrado"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(me,{value:V[ne]||"",onChange:xe=>Pe(ne,xe.target.value),placeholder:"Digite o nome ou código do produto...",className:"pr-10"}),i.jsx($r,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),M[ne]&&((ae=q[ne])==null?void 0:ae.length)>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:q[ne].map(xe=>i.jsx("div",{onClick:()=>nt(ne,xe),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[xe.imagem&&i.jsx("img",{src:xe.imagem,alt:xe.nome,className:"w-8 h-8 object-cover rounded border"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:xe.nome}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Código: ",xe.codigo," | Estoque: ",xe.quantidade," | ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(xe.preco)]})]})]})},xe.id))})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"💡 Digite o nome ou código do produto para buscar"}),c.length===0&&i.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"⚠️ Cadastre produtos no módulo Estoque primeiro"})]}),i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Nome do Produto"}),i.jsx(me,{value:z.nome,onChange:xe=>Ve(ne,"nome",xe.target.value),placeholder:"Nome do produto",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Preço Unitário"}),i.jsx(me,{type:"number",step:"0.01",value:z.preco,onChange:xe=>Ve(ne,"preco",xe.target.value),placeholder:"0.00",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Quantidade"}),i.jsx(me,{type:"number",min:"1",value:z.quantidade,onChange:xe=>Ve(ne,"quantidade",xe.target.value),className:"mt-1"})]})]}),i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Subtotal:"}),i.jsx("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z.preco*z.quantidade)})]})})]},ne)})})]}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(X,{htmlFor:"status",className:"text-sm font-medium",children:"Status da OV"}),i.jsxs(dt,{value:se.status,onValueChange:z=>je({...se,status:z}),className:"mt-1",children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"Pendente",children:"Pendente"}),i.jsx(oe,{value:"Processando",children:"Processando"}),i.jsx(oe,{value:"Concluída",children:"Concluída"}),i.jsx(oe,{value:"Cancelada",children:"Cancelada"})]})]})]}),i.jsx("div",{className:"bg-white dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Total da OV"}),i.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(se.total)})]})})]})}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(Q,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2",children:W?"Atualizar OV":"Criar OV"}),i.jsx(Q,{type:"button",variant:"outline",onClick:B,className:"flex-1",children:"Cancelar"})]})]})]})]}),i.jsxs(Q,{onClick:()=>fe(!0),variant:"outline",className:"border-blue-500 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:["Ver OVs do Dia (",de.length,")"]})]})]}),i.jsxs("div",{className:"flex gap-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx($r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar produtos...",value:p,onChange:z=>m(z.target.value),className:"pl-10"})]}),i.jsxs(dt,{value:y,onValueChange:x,children:[i.jsx(ot,{className:"w-48",children:i.jsx(ht,{placeholder:"Categoria"})}),i.jsxs(it,{children:[i.jsx(oe,{value:"todas",children:"Todas as categorias"}),d.map(z=>i.jsx(oe,{value:z.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:z.cor}}),z.nome]})},z.id))]})]})]}),i.jsx("div",{className:"space-y-6",children:d.map(z=>{const ne=te.filter(ae=>ae.categoriaId===z.id);return ne.length===0?null:i.jsxs("div",{children:[i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 border rounded-lg p-3 mb-4",style:{borderColor:z.cor},children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:z.cor}}),i.jsx("h2",{className:"font-bold text-slate-900 dark:text-white text-lg",children:z.nome}),i.jsxs("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 text-xs px-2 py-1 rounded-full",children:[ne.length," produtos"]})]})})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:ne.map((ae,xe)=>i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:xe*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 w-full max-w-full",children:i.jsxs("div",{className:"flex gap-3",children:[ae.imagem&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:ae.imagem,alt:ae.nome,className:"w-16 h-16 object-cover rounded-lg shadow-sm border-2 border-slate-200 dark:border-slate-700 cursor-pointer hover:shadow-md transition-all duration-200"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-1 truncate",children:ae.nome}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:["Código: ",ae.codigo]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[i.jsx(er,{className:"h-3 w-3"}),i.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ae.preco)})]}),i.jsxs("div",{className:"flex items-center space-x-1 text-slate-600 dark:text-slate-400",children:[i.jsx(tr,{className:"h-3 w-3"}),i.jsxs("span",{className:`text-xs font-semibold ${ae.quantidade<=5?"text-red-500":"text-blue-600 dark:text-blue-400"}`,children:[ae.quantidade," ",ae.quantidade<=5&&"(Baixo)"]})]})]}),i.jsxs(Q,{size:"sm",onClick:()=>Ct(ae),className:"w-full mt-2 bg-green-500 hover:bg-green-600 text-white",disabled:ae.quantidade<=0,children:[i.jsx($n,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})]})},ae.id))})]},z.id)})}),te.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(tr,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:p?"Nenhum produto encontrado":"Nenhum produto cadastrado"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:p?"Tente buscar com outros termos":"Cadastre produtos no módulo de Estoque"})]})]}),i.jsxs("div",{className:"w-full max-w-80 bg-white dark:bg-slate-800 rounded-lg border p-4 h-fit sticky top-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[i.jsx(cs,{className:"h-5 w-5"}),"Carrinho"]}),v.length>0&&i.jsx(Q,{size:"sm",variant:"outline",onClick:Ts,children:i.jsx(Ir,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs(X,{className:"text-sm font-medium",children:["Cliente ",l.length>0&&`(${l.length} cadastrados)`]}),i.jsx("div",{className:"mb-2",children:i.jsx("span",{className:"text-xs text-slate-500",children:l.length===0?"Nenhum cliente encontrado":`${l.length} cliente(s) disponível(is)`})}),i.jsx("div",{className:"space-y-2 mb-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(me,{value:E,onChange:z=>ee(z.target.value),placeholder:"Digite o nome, telefone ou email do cliente...",className:"pr-10"}),i.jsx($r,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),N&&P.length>0&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:P.map(z=>i.jsx("div",{onClick:()=>ie(z),className:"p-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-200 dark:bg-slate-600 rounded-full flex items-center justify-center",children:i.jsx(Gr,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:z.nome}),i.jsxs("p",{className:"text-xs text-slate-500",children:[z.telefone," ",z.email&&`• ${z.email}`]})]})]})},z.id))})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"💡 Digite o nome, telefone ou email do cliente para buscar"}),j&&i.jsxs("div",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:["✅ Cliente selecionado: ",j.nome]}),l.length===0&&i.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:"⚠️ Nenhum cliente cadastrado. Digite o nome do cliente abaixo."})]})})]}),i.jsx("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto",children:v.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(cs,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Seu carrinho está vazio"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Adicione produtos do catálogo"})]}):v.map(z=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 dark:bg-slate-700 rounded",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:z.nome}),i.jsx("p",{className:"text-xs text-slate-500",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z.preco)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Yn(z.id,z.quantidade-1),className:"h-6 w-6 p-0",children:i.jsx(Y9,{className:"h-3 w-3"})}),i.jsx("span",{className:"text-sm w-6 text-center",children:z.quantidade}),i.jsx(Q,{size:"sm",variant:"outline",onClick:()=>Yn(z.id,z.quantidade+1),className:"h-6 w-6 p-0",children:i.jsx($n,{className:"h-3 w-3"})})]}),i.jsx(Q,{size:"sm",variant:"outline",onClick:()=>vn(z.id),className:"h-6 w-6 p-0 text-red-500",children:i.jsx(Ir,{className:"h-3 w-3"})})]},z.id))}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("span",{className:"font-semibold",children:"Total:"}),i.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",br().toFixed(2)]})]}),i.jsx(Q,{onClick:Es,className:"w-full bg-green-600 hover:bg-green-700",disabled:v.length===0||!j,children:"Finalizar Venda"})]})]})]}),i.jsx(pn,{open:Ie,onOpenChange:fe,children:i.jsxs(en,{className:"max-w-7xl max-h-[95vh] flex flex-col bg-white dark:bg-slate-900",children:[i.jsxs(tn,{className:"pb-4 flex-shrink-0",children:[i.jsxs(nn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(cs,{className:"h-6 w-6 text-blue-500"}),"Ordens de Venda do Dia",i.jsxs("span",{className:"text-lg font-normal text-slate-500",children:["(",de.length," OVs)"]})]}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Todas as ordens de venda criadas hoje (",new Date().toLocaleDateString("pt-BR"),")"]})]}),i.jsxs("div",{className:"mb-6 space-y-4 flex-shrink-0",children:[i.jsxs("div",{className:"relative",children:[i.jsx($r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar OVs por cliente ou número...",value:S,onChange:z=>_(z.target.value),className:"pl-10"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(X,{className:"text-sm font-medium",children:"Ordenar por:"}),i.jsxs(dt,{value:Oe,onValueChange:$e,children:[i.jsx(ot,{className:"w-48",children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"recentes",children:"Mais Recentes"}),i.jsx(oe,{value:"antigas",children:"Mais Antigas"})]})]})]}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[rt.length," OV(s) encontrada(s)"]})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",maxHeight:"calc(95vh - 200px)"},children:[i.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),rt.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(cs,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-medium text-slate-900 dark:text-white mb-2",children:S?"Nenhuma OV encontrada":"Nenhuma OV criada hoje"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:S?"Tente buscar com outros termos":"As OVs criadas hoje aparecerão aqui"})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:rt.map((z,ne)=>{var ae;return i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ne*.1},className:"bg-white dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg",children:z.numero}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${We(z.status)}`,children:z.status})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>lt(z),className:"h-7 w-7 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/20",children:i.jsx(vs,{className:"h-3 w-3"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>J(z.id),className:"h-7 w-7 p-0 text-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20",children:i.jsx(xs,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"space-y-2 mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx(Gr,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:z.clienteNome})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[i.jsx(cs,{className:"h-4 w-4"}),i.jsxs("span",{children:[z.produtos.length," produto(s)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(er,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{className:"font-bold text-green-600 dark:text-green-400 text-lg",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z.total)})]})]}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date((ae=z.createdAt)!=null&&ae.toDate?z.createdAt.toDate():z.createdAt).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})})]}),i.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:i.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:z.produtos.map((xe,xn)=>i.jsxs("div",{className:"flex justify-between items-center text-xs bg-slate-50 dark:bg-slate-700/50 p-2 rounded",children:[i.jsx("span",{className:"font-medium truncate flex-1 mr-2",children:xe.nome}),i.jsxs("span",{className:"text-slate-500 break-words",children:[xe.quantidade,"x ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(xe.preco)]})]},xn))})})]})},z.id)})})]})]})}),i.jsx(pn,{open:Y,onOpenChange:K,children:i.jsxs(en,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsx(nn,{children:"Finalizar Venda - Formas de Pagamento"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Resumo da Venda"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Cliente:"}),i.jsx("span",{className:"font-medium",children:j==null?void 0:j.nome})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Original:"}),i.jsxs("span",{children:["R$ ",br().toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Desconto:"}),i.jsx("span",{className:"text-red-600",children:we.valor>0?we.tipo==="porcentagem"?`${we.valor}% (${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(br()*we.valor/100)})`:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(we.valor):i.jsx("span",{className:"text-slate-500",children:"Nenhum desconto"})})]}),i.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[i.jsx("span",{children:"Total Final:"}),i.jsxs("span",{className:"text-green-600",children:["R$ ",an().toFixed(2)]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold",children:"Desconto"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(dt,{value:we.tipo,onValueChange:z=>ze({...we,tipo:z}),children:[i.jsx(ot,{className:"w-32",children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"porcentagem",children:"%"}),i.jsx(oe,{value:"valor",children:"R$"})]})]}),i.jsx(me,{type:"number",step:we.tipo==="porcentagem"?"1":"0.01",min:"0",max:we.tipo==="porcentagem"?"100":br(),value:we.valor,onChange:z=>ze({...we,valor:parseFloat(z.target.value)||0}),placeholder:"0",className:"flex-1"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"font-semibold",children:"Formas de Pagamento"}),i.jsxs(Q,{size:"sm",onClick:or,children:[i.jsx($n,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),i.jsx("div",{className:"space-y-3",children:ue.map((z,ne)=>i.jsxs("div",{className:"flex gap-3 items-center p-3 border rounded-lg",children:[i.jsxs(dt,{value:z.tipo,onValueChange:ae=>_r(z.id,"tipo",ae),children:[i.jsx(ot,{className:"w-32",children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"dinheiro",children:"Dinheiro"}),i.jsx(oe,{value:"cartao_debito",children:"Cartão Débito"}),i.jsx(oe,{value:"cartao_credito",children:"Cartão Crédito"}),i.jsx(oe,{value:"pix",children:"PIX"}),i.jsx(oe,{value:"cheque",children:"Cheque"}),i.jsx(oe,{value:"outros",children:"Outros"})]})]}),i.jsx(me,{type:"number",step:"0.01",min:"0",value:z.valor,onChange:ae=>_r(z.id,"valor",parseFloat(ae.target.value)||0),placeholder:"Valor",className:"flex-1"}),i.jsx(me,{value:z.observacao,onChange:ae=>_r(z.id,"observacao",ae.target.value),placeholder:"Observação",className:"flex-1"}),i.jsx(Q,{size:"sm",variant:"outline",onClick:()=>es(z.id),className:"text-red-500",children:i.jsx(Ir,{className:"h-4 w-4"})})]},z.id))})]}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Pago:"}),i.jsxs("span",{className:"font-semibold",children:["R$ ",ir().toFixed(2)]})]}),ir()>an()&&i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsx("span",{children:"Troco:"}),i.jsxs("span",{className:"font-semibold",children:["R$ ",(ir()-an()).toFixed(2)]})]})]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Q,{onClick:be,className:"flex-1 bg-green-600 hover:bg-green-700",disabled:ue.length===0||ir()<an(),children:"Finalizar Pagamento"}),i.jsx(Q,{variant:"outline",onClick:()=>K(!1),className:"flex-1",children:"Cancelar"})]})]})]})})]})};var lg={exports:{}},VM={};function zM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=zM(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function QT(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=zM(t))&&(r&&(r+=" "),r+=e);return r}const hX=Object.freeze(Object.defineProperty({__proto__:null,clsx:QT,default:QT},Symbol.toStringTag,{value:"Module"})),fX=KO(hX);var Ht={},ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.dontSetMe=xX;ro.findInArray=pX;ro.int=vX;ro.isFunction=mX;ro.isNum=gX;function pX(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function mX(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function gX(t){return typeof t=="number"&&!isNaN(t)}function vX(t){return parseInt(t,10)}function xX(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.browserPrefixToKey=BM;Ja.browserPrefixToStyle=yX;Ja.default=void 0;Ja.getPrefix=UM;const Hv=["Moz","Webkit","O","ms"];function UM(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Hv.length;r++)if(BM(e,Hv[r])in n)return Hv[r];return""}function BM(t,e){return e?"".concat(e).concat(wX(t)):t}function yX(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function wX(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Ja.default=UM();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.addClassName=WM;Ht.addEvent=SX;Ht.addUserSelectStyles=DX;Ht.createCSSTransform=PX;Ht.createSVGTransform=IX;Ht.getTouch=AX;Ht.getTouchIdentifier=RX;Ht.getTranslation=a1;Ht.innerHeight=NX;Ht.innerWidth=jX;Ht.matchesSelector=qM;Ht.matchesSelectorAndParentsTo=_X;Ht.offsetXYFromParent=kX;Ht.outerHeight=EX;Ht.outerWidth=TX;Ht.removeClassName=HM;Ht.removeEvent=CX;Ht.removeUserSelectStyles=MX;var Rr=ro,XT=bX(Ja);function $M(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return($M=function(r){return r?n:e})(t)}function bX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=$M(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let ef="";function qM(t,e){return ef||(ef=(0,Rr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Rr.isFunction)(t[n])})),(0,Rr.isFunction)(t[ef])?t[ef](e):!1}function _X(t,e,n){let r=t;do{if(qM(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function SX(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,s):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function CX(t,e,n,r){if(!t)return;const s={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,s):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function EX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Rr.int)(n.borderTopWidth),e+=(0,Rr.int)(n.borderBottomWidth),e}function TX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Rr.int)(n.borderLeftWidth),e+=(0,Rr.int)(n.borderRightWidth),e}function NX(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Rr.int)(n.paddingTop),e-=(0,Rr.int)(n.paddingBottom),e}function jX(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Rr.int)(n.paddingLeft),e-=(0,Rr.int)(n.paddingRight),e}function kX(t,e,n){const s=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-s.left)/n,a=(t.clientY+e.scrollTop-s.top)/n;return{x:o,y:a}}function PX(t,e){const n=a1(t,e,"px");return{[(0,XT.browserPrefixToKey)("transform",XT.default)]:n}}function IX(t,e){return a1(t,e,"")}function a1(t,e,n){let{x:r,y:s}=t,o="translate(".concat(r).concat(n,",").concat(s).concat(n,")");if(e){const a="".concat(typeof e.x=="string"?e.x:e.x+n),l="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(a,", ").concat(l,")")+o}return o}function AX(t,e){return t.targetTouches&&(0,Rr.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Rr.findInArray)(t.changedTouches,n=>e===n.identifier)}function RX(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function DX(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&WM(t.body,"react-draggable-transparent-selection")}function MX(t){if(t)try{if(t.body&&HM(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function WM(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function HM(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var so={};Object.defineProperty(so,"__esModule",{value:!0});so.canDragX=FX;so.canDragY=VX;so.createCoreData=UX;so.createDraggableData=BX;so.getBoundPosition=OX;so.getControlPosition=zX;so.snapToGrid=LX;var Cr=ro,Rl=Ht;function OX(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:$X(r);const s=l1(t);if(typeof r=="string"){const{ownerDocument:o}=s,a=o.defaultView;let l;if(r==="parent"?l=s.parentNode:l=o.querySelector(r),!(l instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=l,u=a.getComputedStyle(s),d=a.getComputedStyle(c);r={left:-s.offsetLeft+(0,Cr.int)(d.paddingLeft)+(0,Cr.int)(u.marginLeft),top:-s.offsetTop+(0,Cr.int)(d.paddingTop)+(0,Cr.int)(u.marginTop),right:(0,Rl.innerWidth)(c)-(0,Rl.outerWidth)(s)-s.offsetLeft+(0,Cr.int)(d.paddingRight)-(0,Cr.int)(u.marginRight),bottom:(0,Rl.innerHeight)(c)-(0,Rl.outerHeight)(s)-s.offsetTop+(0,Cr.int)(d.paddingBottom)-(0,Cr.int)(u.marginBottom)}}return(0,Cr.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Cr.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Cr.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Cr.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function LX(t,e,n){const r=Math.round(e/t[0])*t[0],s=Math.round(n/t[1])*t[1];return[r,s]}function FX(t){return t.props.axis==="both"||t.props.axis==="x"}function VX(t){return t.props.axis==="both"||t.props.axis==="y"}function zX(t,e,n){const r=typeof e=="number"?(0,Rl.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const s=l1(n),o=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,Rl.offsetXYFromParent)(r||t,o,n.props.scale)}function UX(t,e,n){const r=!(0,Cr.isNum)(t.lastX),s=l1(t);return r?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function BX(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function $X(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function l1(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var cg={},ug={};Object.defineProperty(ug,"__esModule",{value:!0});ug.default=qX;function qX(){}Object.defineProperty(cg,"__esModule",{value:!0});cg.default=void 0;var Gv=HX(g),ar=c1(lw),WX=c1(Ss),Fn=Ht,qo=so,Yv=ro,cu=c1(ug);function c1(t){return t&&t.__esModule?t:{default:t}}function GM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(GM=function(r){return r?n:e})(t)}function HX(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=GM(e);if(n&&n.has(t))return n.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Kn(t,e,n){return e=GX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GX(t){var e=YX(t,"string");return typeof e=="symbol"?e:String(e)}function YX(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ss={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Wo=ss.mouse,dg=class extends Gv.Component{constructor(){super(...arguments),Kn(this,"dragging",!1),Kn(this,"lastX",NaN),Kn(this,"lastY",NaN),Kn(this,"touchIdentifier",null),Kn(this,"mounted",!1),Kn(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Fn.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Fn.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const s=(0,Fn.getTouchIdentifier)(e);this.touchIdentifier=s;const o=(0,qo.getControlPosition)(e,s,this);if(o==null)return;const{x:a,y:l}=o,c=(0,qo.createCoreData)(this,a,l);(0,cu.default)("DraggableCore: handleDragStart: %j",c),(0,cu.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Fn.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=l,(0,Fn.addEvent)(r,Wo.move,this.handleDrag),(0,Fn.addEvent)(r,Wo.stop,this.handleDragStop))}),Kn(this,"handleDrag",e=>{const n=(0,qo.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX,c=s-this.lastY;if([l,c]=(0,qo.snapToGrid)(this.props.grid,l,c),!l&&!c)return;r=this.lastX+l,s=this.lastY+c}const o=(0,qo.createCoreData)(this,r,s);if((0,cu.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=s}),Kn(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,qo.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:s}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,u=s-this.lastY||0;[c,u]=(0,qo.snapToGrid)(this.props.grid,c,u),r=this.lastX+c,s=this.lastY+u}const o=(0,qo.createCoreData)(this,r,s);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,Fn.removeUserSelectStyles)(l.ownerDocument),(0,cu.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,cu.default)("DraggableCore: Removing handlers"),(0,Fn.removeEvent)(l.ownerDocument,Wo.move,this.handleDrag),(0,Fn.removeEvent)(l.ownerDocument,Wo.stop,this.handleDragStop))}),Kn(this,"onMouseDown",e=>(Wo=ss.mouse,this.handleDragStart(e))),Kn(this,"onMouseUp",e=>(Wo=ss.mouse,this.handleDragStop(e))),Kn(this,"onTouchStart",e=>(Wo=ss.touch,this.handleDragStart(e))),Kn(this,"onTouchEnd",e=>(Wo=ss.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Fn.addEvent)(e,ss.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Fn.removeEvent)(n,ss.mouse.move,this.handleDrag),(0,Fn.removeEvent)(n,ss.touch.move,this.handleDrag),(0,Fn.removeEvent)(n,ss.mouse.stop,this.handleDragStop),(0,Fn.removeEvent)(n,ss.touch.stop,this.handleDragStop),(0,Fn.removeEvent)(e,ss.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Fn.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:WX.default.findDOMNode(this)}render(){return Gv.cloneElement(Gv.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};cg.default=dg;Kn(dg,"displayName","DraggableCore");Kn(dg,"propTypes",{allowAnyClick:ar.default.bool,children:ar.default.node.isRequired,disabled:ar.default.bool,enableUserSelectHack:ar.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ar.default.arrayOf(ar.default.number),handle:ar.default.string,cancel:ar.default.string,nodeRef:ar.default.object,onStart:ar.default.func,onDrag:ar.default.func,onStop:ar.default.func,onMouseDown:ar.default.func,scale:ar.default.number,className:Yv.dontSetMe,style:Yv.dontSetMe,transform:Yv.dontSetMe});Kn(dg,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=p(g),n=d(lw),r=d(Ss),s=d(fX),o=Ht,a=so,l=ro,c=d(cg),u=d(ug);function d(v){return v&&v.__esModule?v:{default:v}}function f(v){if(typeof WeakMap!="function")return null;var w=new WeakMap,j=new WeakMap;return(f=function(R){return R?j:w})(v)}function p(v,w){if(!w&&v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var j=f(w);if(j&&j.has(v))return j.get(v);var R={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in v)if(C!=="default"&&Object.prototype.hasOwnProperty.call(v,C)){var E=L?Object.getOwnPropertyDescriptor(v,C):null;E&&(E.get||E.set)?Object.defineProperty(R,C,E):R[C]=v[C]}return R.default=v,j&&j.set(v,R),R}function m(){return m=Object.assign?Object.assign.bind():function(v){for(var w=1;w<arguments.length;w++){var j=arguments[w];for(var R in j)Object.prototype.hasOwnProperty.call(j,R)&&(v[R]=j[R])}return v},m.apply(this,arguments)}function y(v,w,j){return w=x(w),w in v?Object.defineProperty(v,w,{value:j,enumerable:!0,configurable:!0,writable:!0}):v[w]=j,v}function x(v){var w=S(v,"string");return typeof w=="symbol"?w:String(w)}function S(v,w){if(typeof v!="object"||v===null)return v;var j=v[Symbol.toPrimitive];if(j!==void 0){var R=j.call(v,w||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(v)}class _ extends e.Component{static getDerivedStateFromProps(w,j){let{position:R}=w,{prevPropsPosition:L}=j;return R&&(!L||R.x!==L.x||R.y!==L.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:L}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(w){super(w),y(this,"onDragStart",(j,R)=>{if((0,u.default)("Draggable: onDragStart: %j",R),this.props.onStart(j,(0,a.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(j,R)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",R);const L=(0,a.createDraggableData)(this,R),C={x:L.x,y:L.y,slackX:0,slackY:0};if(this.props.bounds){const{x:I,y:P}=C;C.x+=this.state.slackX,C.y+=this.state.slackY;const[k,N]=(0,a.getBoundPosition)(this,C.x,C.y);C.x=k,C.y=N,C.slackX=this.state.slackX+(I-C.x),C.slackY=this.state.slackY+(P-C.y),L.x=C.x,L.y=C.y,L.deltaX=C.x-this.state.x,L.deltaY=C.y-this.state.y}if(this.props.onDrag(j,L)===!1)return!1;this.setState(C)}),y(this,"onDragStop",(j,R)=>{if(!this.state.dragging||this.props.onStop(j,(0,a.createDraggableData)(this,R))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",R);const C={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:I,y:P}=this.props.position;C.x=I,C.y=P}this.setState(C)}),this.state={dragging:!1,dragged:!1,x:w.position?w.position.x:w.defaultPosition.x,y:w.position?w.position.y:w.defaultPosition.y,prevPropsPosition:{...w.position},slackX:0,slackY:0,isElementSVG:!1},w.position&&!(w.onDrag||w.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var w,j;return(w=(j=this.props)===null||j===void 0||(j=j.nodeRef)===null||j===void 0?void 0:j.current)!==null&&w!==void 0?w:r.default.findDOMNode(this)}render(){const{axis:w,bounds:j,children:R,defaultPosition:L,defaultClassName:C,defaultClassNameDragging:E,defaultClassNameDragged:I,position:P,positionOffset:k,scale:N,...A}=this.props;let V={},F=null;const $=!!!P||this.state.dragging,M=P||L,U={x:(0,a.canDragX)(this)&&$?this.state.x:M.x,y:(0,a.canDragY)(this)&&$?this.state.y:M.y};this.state.isElementSVG?F=(0,o.createSVGTransform)(U,k):V=(0,o.createCSSTransform)(U,k);const Y=(0,s.default)(R.props.className||"",C,{[E]:this.state.dragging,[I]:this.state.dragged});return e.createElement(c.default,m({},A,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(R),{className:Y,style:{...R.props.style,...V},transform:F}))}}t.default=_,y(_,"displayName","Draggable"),y(_,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),y(_,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(VM);const{default:YM,DraggableCore:KX}=VM;lg.exports=YM;lg.exports.default=YM;lg.exports.DraggableCore=KX;var QX=lg.exports;const XX=qa(QX);var Xt=globalThis&&globalThis.__assign||function(){return Xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Xt.apply(this,arguments)},ZT={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},JT={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},tf={width:"20px",height:"20px",position:"absolute",zIndex:1},ZX={top:Xt(Xt({},ZT),{top:"-5px"}),right:Xt(Xt({},JT),{left:void 0,right:"-5px"}),bottom:Xt(Xt({},ZT),{top:void 0,bottom:"-5px"}),left:Xt(Xt({},JT),{left:"-5px"}),topRight:Xt(Xt({},tf),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Xt(Xt({},tf),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Xt(Xt({},tf),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Xt(Xt({},tf),{left:"-10px",top:"-10px",cursor:"nw-resize"})},JX=g.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,s=t.replaceStyles,o=t.className,a=g.useCallback(function(u){e(u,n)},[e,n]),l=g.useCallback(function(u){e(u,n)},[e,n]),c=g.useMemo(function(){return Xt(Xt({position:"absolute",userSelect:"none"},ZX[n]),s??{})},[s,n]);return i.jsx("div",{className:o||void 0,style:c,onMouseDown:a,onTouchStart:l,children:r})}),eZ=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),As=globalThis&&globalThis.__assign||function(){return As=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},As.apply(this,arguments)},tZ={width:"auto",height:"auto"},nf=function(t,e,n){return Math.max(Math.min(t,n),e)},eN=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},ul=function(t,e){return new RegExp(t,"i").test(e)},rf=function(t){return!!(t.touches&&t.touches.length)},nZ=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},tN=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(o,a,l){return Math.abs(a-t)<Math.abs(e[o]-t)?l:o},0),s=Math.abs(e[r]-t);return n===0||s<n?e[r]:t},Kv=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},sf=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var s=Number(t.replace("%",""))/100;return e*s}if(t.endsWith("vw")){var s=Number(t.replace("vw",""))/100;return n*s}if(t.endsWith("vh")){var s=Number(t.replace("vh",""))/100;return r*s}}return t},rZ=function(t,e,n,r,s,o,a){return r=sf(r,t.width,e,n),s=sf(s,t.height,e,n),o=sf(o,t.width,e,n),a=sf(a,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof a>"u"?void 0:Number(a)}},sZ=function(t){return Array.isArray(t)?t:[t,t]},oZ=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],nN="__resizable_base__",iZ=function(t){eZ(e,t);function e(n){var r,s,o,a,l=t.call(this,n)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var c=l.parentNode;if(!c)return null;var u=l.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(nN):u.className+=nN,c.appendChild(u),u},l.removeBase=function(c){var u=l.parentNode;u&&u.removeChild(c)},l.state={isResizing:!1,width:(s=(r=l.propsSize)===null||r===void 0?void 0:r.width)!==null&&s!==void 0?s:"auto",height:(a=(o=l.propsSize)===null||o===void 0?void 0:o.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||tZ},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,o=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=a}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,s=function(l){var c;if(typeof n.state[l]>"u"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&(!((c=n.propsSize[l])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var u=n.getParentSize(),d=Number(n.state[l].toString().replace("px","")),f=d/u[l]*100;return"".concat(f,"%")}return Kv(n.state[l])},o=r&&typeof r.width<"u"&&!this.state.isResizing?Kv(r.width):s("width"),a=r&&typeof r.height<"u"&&!this.state.isResizing?Kv(r.height):s("height");return{width:o,height:a}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=s),this.removeBase(n),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var s=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof s>"u"||s==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var s=this.props.boundsByDirection,o=this.state.direction,a=s&&ul("left",o),l=s&&ul("top",o),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=a?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=l?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var s=this.props.scale||1,o=sZ(this.props.resizeRatio||1),a=o[0],l=o[1],c=this.state,u=c.direction,d=c.original,f=this.props,p=f.lockAspectRatio,m=f.lockAspectRatioExtraHeight,y=f.lockAspectRatioExtraWidth,x=d.width,S=d.height,_=m||0,v=y||0;return ul("right",u)&&(x=d.width+(n-d.x)*a/s,p&&(S=(x-v)/this.ratio+_)),ul("left",u)&&(x=d.width-(n-d.x)*a/s,p&&(S=(x-v)/this.ratio+_)),ul("bottom",u)&&(S=d.height+(r-d.y)*l/s,p&&(x=(S-_)*this.ratio+v)),ul("top",u)&&(S=d.height-(r-d.y)*l/s,p&&(x=(S-_)*this.ratio+v)),{newWidth:x,newHeight:S}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,s,o){var a=this.props,l=a.lockAspectRatio,c=a.lockAspectRatioExtraHeight,u=a.lockAspectRatioExtraWidth,d=typeof o.width>"u"?10:o.width,f=typeof s.width>"u"||s.width<0?n:s.width,p=typeof o.height>"u"?10:o.height,m=typeof s.height>"u"||s.height<0?r:s.height,y=c||0,x=u||0;if(l){var S=(p-y)*this.ratio+x,_=(m-y)*this.ratio+x,v=(d-x)/this.ratio+y,w=(f-x)/this.ratio+y,j=Math.max(d,S),R=Math.min(f,_),L=Math.max(p,v),C=Math.min(m,w);n=nf(n,j,R),r=nf(r,L,C)}else n=nf(n,d,f),r=nf(r,p,m);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var s=r.getBoundingClientRect();this.parentLeft=s.left*n,this.parentTop=s.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var a=this.resizable.getBoundingClientRect(),l=a.left,c=a.top,u=a.right,d=a.bottom;this.resizableLeft=l*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var s=0,o=0;if(n.nativeEvent&&nZ(n.nativeEvent)?(s=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&rf(n.nativeEvent)&&(s=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(n,r,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",l=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:s,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:As(As({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:l};this.setState(f)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&rf(n))try{n.preventDefault(),n.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,a=s.maxHeight,l=s.minWidth,c=s.minHeight,u=rf(n)?n.touches[0].clientX:n.clientX,d=rf(n)?n.touches[0].clientY:n.clientY,f=this.state,p=f.direction,m=f.original,y=f.width,x=f.height,S=this.getParentSize(),_=rZ(S,this.window.innerWidth,this.window.innerHeight,o,a,l,c);o=_.maxWidth,a=_.maxHeight,l=_.minWidth,c=_.minHeight;var v=this.calculateNewSizeFromDirection(u,d),w=v.newHeight,j=v.newWidth,R=this.calculateNewMaxFromBoundary(o,a);this.props.snap&&this.props.snap.x&&(j=tN(j,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(w=tN(w,this.props.snap.y,this.props.snapGap));var L=this.calculateNewSizeFromAspectRatio(j,w,{width:R.maxWidth,height:R.maxHeight},{width:l,height:c});if(j=L.newWidth,w=L.newHeight,this.props.grid){var C=eN(j,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),E=eN(w,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),I=this.props.snapGap||0,P=I===0||Math.abs(C-j)<=I?C:j,k=I===0||Math.abs(E-w)<=I?E:w;j=P,w=k}var N={width:j-m.width,height:w-m.height};if(this.delta=N,y&&typeof y=="string"){if(y.endsWith("%")){var A=j/S.width*100;j="".concat(A,"%")}else if(y.endsWith("vw")){var V=j/this.window.innerWidth*100;j="".concat(V,"vw")}else if(y.endsWith("vh")){var F=j/this.window.innerHeight*100;j="".concat(F,"vh")}}if(x&&typeof x=="string"){if(x.endsWith("%")){var A=w/S.height*100;w="".concat(A,"%")}else if(x.endsWith("vw")){var V=w/this.window.innerWidth*100;w="".concat(V,"vw")}else if(x.endsWith("vh")){var F=w/this.window.innerHeight*100;w="".concat(F,"vh")}}var q={width:this.createSizeForCssProperty(j,"width"),height:this.createSizeForCssProperty(w,"height")};this.flexDir==="row"?q.flexBasis=q.width:this.flexDir==="column"&&(q.flexBasis=q.height);var $=this.state.width!==q.width,M=this.state.height!==q.height,U=this.state.flexBasis!==q.flexBasis,Y=$||M||U;Y&&Ss.flushSync(function(){r.setState(q)}),this.props.onResize&&Y&&this.props.onResize(n,p,this.resizable,N)}},e.prototype.onMouseUp=function(n){var r,s,o=this.state,a=o.isResizing,l=o.direction;o.original,!(!a||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,l,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:As(As({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,s;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(s=n.height)!==null&&s!==void 0?s:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,s=r.enable,o=r.handleStyles,a=r.handleClasses,l=r.handleWrapperStyle,c=r.handleWrapperClass,u=r.handleComponent;if(!s)return null;var d=Object.keys(s).map(function(f){return s[f]!==!1?i.jsx(JX,{direction:f,onResizeStart:n.onResizeStart,replaceStyles:o&&o[f],className:a&&a[f],children:u&&u[f]?u[f]:null},f):null});return i.jsx("div",{className:c,style:l,children:d})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(a,l){return oZ.indexOf(l)!==-1||(a[l]=n.props[l]),a},{}),s=As(As(As({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return i.jsxs(o,As({style:s,className:this.props.className},r,{ref:function(a){a&&(n.resizable=a)},children:[this.state.isResizing&&i.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(g.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var uy=function(t,e){return uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},uy(t,e)};function aZ(t,e){uy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var cn=function(){return cn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},cn.apply(this,arguments)};function lZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var cZ={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},uZ=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}};(function(t){aZ(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,s=n.top,o=this.getDraggablePosition(),a=o.x,l=o.y;this.draggable.setState({x:a-r,y:l-s}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,s=n.y;return{x:r,y:s}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var s=this.getDraggablePosition();if(this.originalPosition=s,!!this.props.bounds){var o=this.getParent(),a=this.props.scale,l;if(this.props.bounds==="parent")l=o;else if(this.props.bounds==="body"){var c=o.getBoundingClientRect(),u=c.left,d=c.top,f=document.body.getBoundingClientRect(),p=-(u-o.offsetLeft*a-f.left)/a,m=-(d-o.offsetTop*a-f.top)/a,y=(document.body.offsetWidth-this.resizable.size.width*a)/a+p,x=(document.body.offsetHeight-this.resizable.size.height*a)/a+m;return this.setState({bounds:{top:m,right:y,bottom:x,left:p}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var S=o.getBoundingClientRect(),_=S.left,v=S.top,w=-(_-o.offsetLeft*a)/a,j=-(v-o.offsetTop*a)/a,y=(window.innerWidth-this.resizable.size.width*a)/a+w,x=(window.innerHeight-this.resizable.size.height*a)/a+j;return this.setState({bounds:{top:j,right:y,bottom:x,left:w}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(o instanceof HTMLElement))){var R=l.getBoundingClientRect(),L=R.left,C=R.top,E=o.getBoundingClientRect(),I=E.left,P=E.top,k=(L-I)/a,N=C-P;if(this.resizable){this.updateOffsetFromParent();var A=this.offsetFromParent;this.setState({bounds:{top:N-A.top,right:k+(l.offsetWidth-this.resizable.size.width)-A.left/a,bottom:N+(l.offsetHeight-this.resizable.size.height)-A.top,left:k-A.left/a}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var s=this.offsetFromParent,o=s.left,a=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,cn(cn({},r),{x:r.x+o,y:r.y+a}));if(this.props.dragAxis==="x")return this.props.onDrag(n,cn(cn({},r),{x:r.x+o,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,cn(cn({},r),{x:this.originalPosition.x+o,y:r.y+a,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var s=this.offsetFromParent,o=s.left,a=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,cn(cn({},r),{x:r.x+o,y:r.y+a}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,cn(cn({},r),{x:r.x+o,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,cn(cn({},r),{x:this.originalPosition.x+o,y:r.y+a,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,s){n.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,a=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+a.left,y:l.y+a.top},this.originalPosition=l,this.props.bounds){var c=this.getParent(),u=void 0;this.props.bounds==="parent"?u=c:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(u instanceof HTMLElement||u===window)&&c instanceof HTMLElement){var f=this.getMaxSizesFromProps(),p=f.maxWidth,m=f.maxHeight,y=this.getParentSize();if(p&&typeof p=="string")if(p.endsWith("%")){var x=Number(p.replace("%",""))/100;p=y.width*x}else p.endsWith("px")&&(p=Number(p.replace("px","")));if(m&&typeof m=="string")if(m.endsWith("%")){var x=Number(m.replace("%",""))/100;m=y.height*x}else m.endsWith("px")&&(m=Number(m.replace("px","")));var S=d.getBoundingClientRect(),_=S.left,v=S.top,w=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),j=w.left,R=w.top,L=this.getOffsetWidth(u),C=this.getOffsetHeight(u),E=r.toLowerCase().endsWith("left"),I=r.toLowerCase().endsWith("right"),P=r.startsWith("top"),k=r.startsWith("bottom");if((E||P)&&this.resizable){var N=(_-j)/o+this.resizable.size.width;this.setState({maxWidth:N>Number(p)?p:N})}if(I||this.props.lockAspectRatio&&!E&&!P){var N=L+(j-_)/o;this.setState({maxWidth:N>Number(p)?p:N})}if((P||E)&&this.resizable){var N=(v-R)/o+this.resizable.size.height;this.setState({maxHeight:N>Number(m)?m:N})}if(k||this.props.lockAspectRatio&&!P&&!E){var N=C+(R-v)/o;this.setState({maxHeight:N>Number(m)?m:N})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,s)},e.prototype.onResize=function(n,r,s,o){var a=this,l={x:this.originalPosition.x,y:this.originalPosition.y},c=-o.width,u=-o.height,d=["top","left","topLeft","bottomLeft","topRight"];d.includes(r)&&(r==="bottomLeft"?l.x+=c:(r==="topRight"||(l.x+=c),l.y+=u));var f=this.draggable.state;(l.x!==f.x||l.y!==f.y)&&Ss.flushSync(function(){a.draggable.setState(l)}),this.updateOffsetFromParent();var p=this.offsetFromParent,m=this.getDraggablePosition().x+p.left,y=this.getDraggablePosition().y+p.top;this.resizingPosition={x:m,y},this.props.onResize&&this.props.onResize(n,r,s,o,{x:m,y})},e.prototype.onResizeStop=function(n,r,s,o){this.setState({resizing:!1});var a=this.getMaxSizesFromProps(),l=a.maxWidth,c=a.maxHeight;this.setState({maxWidth:l,maxHeight:c}),this.props.onResizeStop&&this.props.onResizeStop(n,r,s,o,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),s=this.getSelfElement();if(!r||s===null)return{top:0,left:0};var o=r.getBoundingClientRect(),a=o.left,l=o.top,c=s.getBoundingClientRect(),u=this.getDraggablePosition(),d=r.scrollLeft,f=r.scrollTop;this.offsetFromParent={left:c.left-a+d-u.x*n,top:c.top-l+f-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,s=r.disableDragging,o=r.style,a=r.dragHandleClassName,l=r.position,c=r.onMouseDown,u=r.onMouseUp,d=r.dragAxis,f=r.dragGrid,p=r.bounds,m=r.enableUserSelectHack,y=r.cancel,x=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var S=r.resizeHandleStyles,_=r.resizeHandleClasses,v=r.resizeHandleComponent,w=r.enableResizing,j=r.resizeGrid,R=r.resizeHandleWrapperClass,L=r.resizeHandleWrapperStyle,C=r.scale,E=r.allowAnyClick,I=r.dragPositionOffset,P=lZ(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),k=this.props.default?cn({},this.props.default):void 0;delete P.default;var N=s||a?{cursor:"auto"}:{cursor:"move"},A=cn(cn(cn({},cZ),N),o),V=this.offsetFromParent,F=V.left,q=V.top,$;l&&($={x:l.x-F,y:l.y-q});var M=this.state.resizing?void 0:$,U=this.state.resizing?"both":d;return g.createElement(XX,{ref:function(Y){Y&&(n.draggable=Y)},handle:a?".".concat(a):void 0,defaultPosition:k,onMouseDown:c,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:U,disabled:s,grid:f,bounds:p?this.state.bounds:void 0,position:M,enableUserSelectHack:m,cancel:y,scale:C,allowAnyClick:E,nodeRef:this.resizableElement,positionOffset:I},g.createElement(iZ,cn({},P,{ref:function(Y){Y&&(n.resizable=Y,n.resizableElement.current=Y.resizable)},defaultSize:k,size:this.props.size,enable:typeof w=="boolean"?uZ(w):w,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:A,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:j,handleWrapperClass:R,handleWrapperStyle:L,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:S,handleClasses:_,handleComponent:v,scale:this.props.scale}),x))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e})(g.PureComponent);const dZ=()=>{const{dialogs:t,openDialog:e,closeDialog:n,produtoParaReporEstoque:r,limparProdutoParaReporEstoque:s,darkMode:o}=g.useContext(wr),{toast:a}=yr(),{data:l,loading:c,save:u,remove:d}=eh(),{data:f,loading:p,save:m,remove:y}=Jd(),{data:x,loading:S,save:_,remove:v}=s1(),[w,j]=g.useState(""),[R,L]=g.useState(!1),[C,E]=g.useState(!1),[I,P]=g.useState(!1),[k,N]=g.useState(!1),[A,V]=g.useState(null),[F,q]=g.useState(""),[$,M]=g.useState(!1),[U,Y]=g.useState(null),[K,ue]=g.useState(null),[Se,we]=g.useState({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),[ze,Ie]=g.useState({nome:"",cor:"#8b5cf6"}),[fe,Oe]=g.useState({produtoId:"",tipo:"entrada",quantidade:"",observacao:""});g.useState(""),g.useState([]),g.useState(!1);const[$e,W]=g.useState(null),[he,se]=g.useState(!1);g.useState("personalizada"),g.useState([]),g.useState(null),g.useState(null),g.useState(!1),g.useRef(null);const je=(f==null?void 0:f.filter(J=>{var Pe;const ee=J.nome.toLowerCase().includes(w.toLowerCase())||((Pe=J.codigo)==null?void 0:Pe.toLowerCase().includes(w.toLowerCase())),ie=!$e||J.categoriaId===$e.id;return ee&&ie}))||[],qe=(f==null?void 0:f.filter(J=>J.quantidade<=(J.estoqueMinimo||5)))||[],lt=async J=>{J.preventDefault();try{const ee={...Se,preco:parseFloat(Se.preco)||0,quantidade:parseInt(Se.quantidade)||0,estoqueMinimo:5,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};U?(await m({...ee,id:U.id}),a({title:"Sucesso!",description:"Produto atualizado com sucesso!"})):(await m(ee),a({title:"Sucesso!",description:"Produto criado com sucesso!"})),L(!1),we({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),Y(null)}catch(ee){console.error("Erro ao salvar produto:",ee),a({title:"Erro",description:"Erro ao salvar produto",variant:"destructive"})}},B=async J=>{J.preventDefault();try{const ee={...ze,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};K?(await u({...ee,id:K.id}),a({title:"Sucesso!",description:"Categoria atualizada com sucesso!"})):(await u(ee),a({title:"Sucesso!",description:"Categoria criada com sucesso!"})),E(!1),Ie({nome:"",cor:"#8b5cf6"}),ue(null)}catch(ee){console.error("Erro ao salvar categoria:",ee),a({title:"Erro",description:"Erro ao salvar categoria",variant:"destructive"})}},ce=async J=>{J.preventDefault();try{const ee={...fe,quantidade:parseInt(fe.quantidade)||0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await _(ee);const ie=f.find(Pe=>Pe.id===fe.produtoId);if(ie){const Pe=fe.tipo==="entrada"?ie.quantidade+parseInt(fe.quantidade):ie.quantidade-parseInt(fe.quantidade);await m({...ie,quantidade:Pe})}a({title:"Sucesso!",description:"Movimentação registrada com sucesso!"}),P(!1),Oe({produtoId:"",tipo:"entrada",quantidade:"",observacao:""})}catch(ee){console.error("Erro ao salvar movimentação:",ee),a({title:"Erro",description:"Erro ao salvar movimentação",variant:"destructive"})}},Ve=async J=>{if(window.confirm("Tem certeza que deseja excluir este produto?"))try{await y(J),a({title:"Sucesso!",description:"Produto excluído com sucesso!"})}catch(ee){console.error("Erro ao excluir produto:",ee),a({title:"Erro",description:"Erro ao excluir produto",variant:"destructive"})}},ke=async J=>{if(window.confirm("Tem certeza que deseja excluir esta categoria?"))try{await d(J),a({title:"Sucesso!",description:"Categoria excluída com sucesso!"})}catch(ee){console.error("Erro ao excluir categoria:",ee),a({title:"Erro",description:"Erro ao excluir categoria",variant:"destructive"})}},Ae=J=>{Y(J),we({nome:J.nome||"",codigo:J.codigo||"",preco:J.preco||"",quantidade:J.quantidade||"",categoriaId:J.categoriaId||"",imagem:J.imagem||null}),L(!0)},ye=J=>{ue(J),Ie({nome:J.nome,cor:J.cor||"#8b5cf6"}),E(!0)},Je=()=>{const J=[["Nome","Código","Preço","Quantidade","Categoria","Estoque Mínimo"],...je.map(nt=>{const Ct=l==null?void 0:l.find(vn=>vn.id===nt.categoriaId);return[nt.nome,nt.codigo||"",nt.preco||0,nt.quantidade||0,(Ct==null?void 0:Ct.nome)||"Sem categoria",nt.estoqueMinimo||5]})].map(nt=>nt.join(",")).join(`
`),ee=new Blob([J],{type:"text/csv"}),ie=window.URL.createObjectURL(ee),Pe=document.createElement("a");Pe.href=ie,Pe.download="estoque.csv",Pe.click(),window.URL.revokeObjectURL(ie)};return g.useEffect(()=>{t.produto&&(Y(null),we({nome:"",codigo:"",preco:"",quantidade:"",categoriaId:"",imagem:null}),L(!0),n("produto")),t.movimentacao&&(r&&(Oe({produtoId:r.id,tipo:"entrada",quantidade:"",observacao:""}),s()),P(!0),n("movimentacao"))},[t,r,n,s]),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[i.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white shadow-2xl",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm",children:i.jsx(tr,{className:"h-8 w-8"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Gestão de Estoque"}),i.jsx("p",{className:"text-blue-100 text-lg",children:"Controle total de produtos, categorias e movimentações"})]})]}),qe.length>0&&i.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"flex items-center gap-3 p-4 bg-red-500/20 border border-red-300/30 rounded-xl backdrop-blur-sm",children:[i.jsx(Hr,{className:"h-6 w-6 text-red-200"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-red-100",children:[qe.length," produto",qe.length>1?"s":""," com estoque crítico"]}),i.jsx("p",{className:"text-sm text-red-200",children:"Verifique os produtos abaixo do estoque mínimo"})]}),i.jsx(Q,{onClick:()=>M(!0),variant:"outline",size:"sm",className:"border-red-300/50 text-red-100 hover:bg-red-500/20",children:"Ver Detalhes"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[i.jsx(tr,{className:"h-6 w-6 mx-auto mb-2 text-blue-200"}),i.jsx("div",{className:"text-2xl font-bold text-white",children:(f==null?void 0:f.length)||0}),i.jsx("div",{className:"text-sm text-blue-200",children:"Total Produtos"})]}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[i.jsx(Bl,{className:"h-6 w-6 mx-auto mb-2 text-purple-200"}),i.jsx("div",{className:"text-2xl font-bold text-white",children:(l==null?void 0:l.length)||0}),i.jsx("div",{className:"text-sm text-blue-200",children:"Categorias"})]}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[i.jsx(Hr,{className:"h-6 w-6 mx-auto mb-2 text-red-200"}),i.jsx("div",{className:"text-2xl font-bold text-white",children:qe.length}),i.jsx("div",{className:"text-sm text-blue-200",children:"Críticos"})]}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-center",children:[i.jsx(Jn,{className:"h-6 w-6 mx-auto mb-2 text-green-200"}),i.jsx("div",{className:"text-2xl font-bold text-white",children:(x==null?void 0:x.length)||0}),i.jsx("div",{className:"text-sm text-blue-200",children:"Movimentações"})]})]})]})})}),i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-6 relative z-10",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[i.jsxs(Q,{onClick:()=>L(!0),className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-16",children:[i.jsx($n,{className:"h-5 w-5 mr-2"}),i.jsx("span",{className:"font-semibold",children:"Novo Produto"})]}),i.jsxs(Q,{onClick:()=>P(!0),variant:"outline",className:"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 h-16",children:[i.jsx(Jn,{className:"h-5 w-5 mr-2"}),i.jsx("span",{className:"font-semibold",children:"Movimentação"})]}),i.jsxs(Q,{onClick:()=>se(!0),variant:"outline",className:"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 h-16",children:[i.jsx($9,{className:"h-5 w-5 mr-2"}),i.jsx("span",{className:"font-semibold",children:"Reordenar"})]}),i.jsxs(Q,{onClick:Je,variant:"outline",className:"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 h-16",children:[i.jsx(sc,{className:"h-5 w-5 mr-2"}),i.jsx("span",{className:"font-semibold",children:"Exportar"})]})]})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[i.jsx(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(Bl,{className:"h-5 w-5 text-blue-600"}),"Categorias"]}),i.jsx(Q,{onClick:()=>E(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:i.jsx($n,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx($r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar produtos...",value:w,onChange:J=>j(J.target.value),className:"pl-10 bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600"})]})]}),i.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:()=>W(null),className:`w-full text-left p-3 rounded-lg transition-all duration-200 flex items-center gap-3 ${$e===null?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700":"hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300"}`,children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-400"}),i.jsx("span",{className:"font-medium",children:"Todos os produtos"}),i.jsx("span",{className:"ml-auto text-sm text-slate-500 dark:text-slate-400",children:(f==null?void 0:f.length)||0})]}),l==null?void 0:l.map(J=>i.jsxs("button",{onClick:()=>W(J),className:`w-full text-left p-3 rounded-lg transition-all duration-200 flex items-center gap-3 group ${($e==null?void 0:$e.id)===J.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700":"hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300"}`,children:[i.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:J.cor}}),i.jsx("span",{className:"font-medium",children:J.nome}),i.jsx("span",{className:"ml-auto text-sm text-slate-500 dark:text-slate-400",children:(f==null?void 0:f.filter(ee=>ee.categoriaId===J.id).length)||0}),i.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[i.jsx(Q,{variant:"ghost",size:"sm",onClick:ee=>{ee.stopPropagation(),ye(J)},className:"h-6 w-6 p-0 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:i.jsx(vs,{className:"h-3 w-3"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:ee=>{ee.stopPropagation(),ke(J.id)},className:"h-6 w-6 p-0 hover:bg-red-100 dark:hover:bg-red-900/30",children:i.jsx(xs,{className:"h-3 w-3"})})]})]},J.id))]})})]})}),i.jsx(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"lg:col-span-3",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:$e?$e.nome:"Todos os Produtos"}),i.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[je.length," produto",je.length!==1?"s":""]})]})}),i.jsx("div",{className:"p-6",children:je.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(tr,{className:"h-16 w-16 mx-auto text-slate-400 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhum produto encontrado"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:w?"Tente ajustar os filtros de busca":"Comece adicionando um novo produto"}),i.jsxs(Q,{onClick:()=>L(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Novo Produto"]})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:je.map((J,ee)=>{const ie=l==null?void 0:l.find(nt=>nt.id===J.categoriaId),Pe=J.quantidade<=(J.estoqueMinimo||5);return i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ee*.1},className:`bg-white dark:bg-slate-800/50 rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 ${Pe?"border-red-200 dark:border-red-700 bg-red-50/30 dark:bg-red-900/10":"border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-600"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white mb-1",children:J.nome}),J.codigo&&i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Código: ",J.codigo]})]}),Pe&&i.jsx(Hr,{className:"h-5 w-5 text-red-500 flex-shrink-0"})]}),J.imagem&&i.jsx("div",{className:"mb-4",children:i.jsx("img",{src:J.imagem,alt:J.nome,className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{V(J.imagem),q(J.nome),N(!0)}})}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Preço:"}),i.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(J.preco||0)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Estoque:"}),i.jsxs("span",{className:`font-semibold ${Pe?"text-red-600 dark:text-red-400":"text-slate-900 dark:text-white"}`,children:[J.quantidade||0," unidades"]})]}),ie&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Categoria:"}),i.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:ie.nome})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>Ae(J),className:"flex-1",children:[i.jsx(vs,{className:"h-4 w-4 mr-1"}),"Editar"]}),i.jsx(Q,{variant:"outline",size:"sm",onClick:()=>Ve(J.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:i.jsx(xs,{className:"h-4 w-4"})})]})]},J.id)})})})]})})]})}),i.jsx(pn,{open:R,onOpenChange:L,children:i.jsxs(en,{className:"sm:max-w-2xl bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(tr,{className:"h-6 w-6 text-blue-500"}),U?"Editar Produto":"Novo Produto"]})}),i.jsxs("form",{onSubmit:lt,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Nome do Produto *"}),i.jsx(me,{value:Se.nome,onChange:J=>we({...Se,nome:J.target.value}),placeholder:"Ex: Smartphone Samsung",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Código"}),i.jsx(me,{value:Se.codigo,onChange:J=>we({...Se,codigo:J.target.value}),placeholder:"Ex: SMP001"})]}),i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Preço *"}),i.jsx(me,{type:"number",step:"0.01",value:Se.preco,onChange:J=>we({...Se,preco:J.target.value}),placeholder:"0.00",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Quantidade *"}),i.jsx(me,{type:"number",value:Se.quantidade,onChange:J=>we({...Se,quantidade:J.target.value}),placeholder:"0",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(X,{className:"text-sm font-medium",children:"Categoria"}),i.jsxs(dt,{value:Se.categoriaId,onValueChange:J=>we({...Se,categoriaId:J}),children:[i.jsx(ot,{children:i.jsx(ht,{placeholder:"Selecione uma categoria"})}),i.jsx(it,{children:l==null?void 0:l.map(J=>i.jsx(oe,{value:J.id,children:J.nome},J.id))})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(Q,{type:"button",variant:"outline",onClick:()=>L(!1),children:"Cancelar"}),i.jsxs(Q,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[U?"Atualizar":"Criar"," Produto"]})]})]})]})}),i.jsx(pn,{open:C,onOpenChange:E,children:i.jsxs(en,{className:"sm:max-w-lg bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(Bl,{className:"h-6 w-6 text-purple-500"}),K?"Editar Categoria":"Nova Categoria"]})}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Nome da Categoria *"}),i.jsx(me,{value:ze.nome,onChange:J=>Ie({...ze,nome:J.target.value}),placeholder:"Ex: Eletrônicos",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Cor"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(me,{type:"color",value:ze.cor,onChange:J=>Ie({...ze,cor:J.target.value}),className:"w-16 h-10 p-1"}),i.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:ze.cor})]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(Q,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancelar"}),i.jsxs(Q,{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[K?"Atualizar":"Criar"," Categoria"]})]})]})]})}),i.jsx(pn,{open:I,onOpenChange:P,children:i.jsxs(en,{className:"sm:max-w-lg bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(Jn,{className:"h-6 w-6 text-green-500"}),"Nova Movimentação"]})}),i.jsxs("form",{onSubmit:ce,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Produto *"}),i.jsxs(dt,{value:fe.produtoId,onValueChange:J=>Oe({...fe,produtoId:J}),children:[i.jsx(ot,{children:i.jsx(ht,{placeholder:"Selecione um produto"})}),i.jsx(it,{children:f==null?void 0:f.map(J=>i.jsxs(oe,{value:J.id,children:[J.nome," (Estoque: ",J.quantidade||0,")"]},J.id))})]})]}),i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Tipo de Movimentação *"}),i.jsxs(dt,{value:fe.tipo,onValueChange:J=>Oe({...fe,tipo:J}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"entrada",children:"Entrada"}),i.jsx(oe,{value:"saida",children:"Saída"})]})]})]}),i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Quantidade *"}),i.jsx(me,{type:"number",value:fe.quantidade,onChange:J=>Oe({...fe,quantidade:J.target.value}),placeholder:"0",required:!0})]}),i.jsxs("div",{children:[i.jsx(X,{className:"text-sm font-medium",children:"Observação"}),i.jsx(me,{value:fe.observacao,onChange:J=>Oe({...fe,observacao:J.target.value}),placeholder:"Motivo da movimentação..."})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(Q,{type:"button",variant:"outline",onClick:()=>P(!1),children:"Cancelar"}),i.jsx(Q,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:"Registrar Movimentação"})]})]})]})}),i.jsx(pn,{open:k,onOpenChange:N,children:i.jsxs(en,{className:"sm:max-w-2xl bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsx(nn,{className:"text-xl font-bold",children:F})}),A&&i.jsx("div",{className:"flex justify-center",children:i.jsx("img",{src:A,alt:F,className:"max-w-full max-h-96 object-contain rounded-lg"})})]})}),i.jsx(pn,{open:$,onOpenChange:M,children:i.jsxs(en,{className:"sm:max-w-2xl bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"text-2xl font-bold flex items-center gap-3",children:[i.jsx(Hr,{className:"h-6 w-6 text-red-500"}),"Produtos com Estoque Crítico"]})}),i.jsx("div",{className:"space-y-3",children:qe.map(J=>{const ee=l==null?void 0:l.find(ie=>ie.id===J.categoriaId);return i.jsx(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200",children:J.nome}),i.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["Estoque atual: ",J.quantidade||0," unidades"]}),i.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["Estoque mínimo: ",J.estoqueMinimo||5," unidades"]}),ee&&i.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["Categoria: ",ee.nome]})]}),i.jsxs(Q,{onClick:()=>{Oe({produtoId:J.id,tipo:"entrada",quantidade:"",observacao:"Reposição de estoque crítico"}),M(!1),P(!0)},className:"bg-red-600 hover:bg-red-700 text-white",children:[i.jsx($n,{className:"h-4 w-4 mr-1"}),"Repor"]})]})},J.id)})})]})})]})},Rs=Fe.forwardRef(({className:t,checked:e,onCheckedChange:n,...r},s)=>i.jsx("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>n==null?void 0:n(!e),className:Ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e?"bg-primary":"bg-input",t),ref:s,...r,children:i.jsx("span",{className:Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",e?"translate-x-5":"translate-x-0")})}));Rs.displayName="Switch";const hZ=({lancamentos:t,onParcelaClick:e})=>{const[n,r]=g.useState(new Date),o=t.filter(p=>p.parcelado).reduce((p,m)=>{const y=new Date(m.dataVencimento),x=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`;return p[x]||(p[x]=[]),p[x].push(m),p},{}),l=(p=>{const m=p.getFullYear(),y=p.getMonth(),x=new Date(m,y,1),_=new Date(m,y+1,0).getDate(),v=x.getDay(),w=[];for(let j=0;j<v;j++)w.push(null);for(let j=1;j<=_;j++)w.push(new Date(m,y,j));return w})(n),c=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],u=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],d=p=>{const m=new Date(n);m.setMonth(m.getMonth()+p),r(m)},f=(p,m)=>p==="Pendente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":p==="Recebido"&&m==="receber"||p==="Pago"&&m==="pagar"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300";return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:[u[n.getMonth()]," ",n.getFullYear()]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Q,{variant:"outline",size:"sm",onClick:()=>d(-1),children:"←"}),i.jsx(Q,{variant:"outline",size:"sm",onClick:()=>r(new Date),children:"Hoje"}),i.jsx(Q,{variant:"outline",size:"sm",onClick:()=>d(1),children:"→"})]})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[c.map(p=>i.jsx("div",{className:"p-2 text-center text-sm font-medium text-slate-600 dark:text-slate-400",children:p},p)),l.map((p,m)=>{if(!p)return i.jsx("div",{className:"p-2 h-20"},m);const y=`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")}`,x=o[y]||[],S=new Date,_=p.toDateString()===S.toDateString(),v=p<S&&!_;return i.jsx("div",{className:`p-2 h-20 border border-slate-200 dark:border-slate-700 rounded-lg ${_?"bg-blue-50 dark:bg-blue-900/20 border-blue-300":v?"bg-slate-50 dark:bg-slate-800":"bg-white dark:bg-slate-700"}`,children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:`text-sm font-medium mb-1 ${_?"text-blue-600 dark:text-blue-400":v?"text-slate-500":"text-slate-900 dark:text-white"}`,children:p.getDate()}),i.jsxs("div",{className:"flex-1 space-y-1 overflow-hidden",children:[x.slice(0,2).map((w,j)=>i.jsxs("div",{className:`text-xs p-1 rounded truncate cursor-pointer hover:shadow-md transition-all ${f(w.status,w.tipo)}`,title:`${w.descricao} - R$ ${w.valor.toFixed(2)} - Clique para editar`,onClick:()=>e&&e(w),children:[i.jsx("div",{className:"truncate",children:w.descricao}),i.jsxs("div",{className:"font-semibold",children:["R$ ",w.valor.toFixed(2)]})]},j)),x.length>2&&i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["+",x.length-2," mais"]})]})]})},m)})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-yellow-100 dark:bg-yellow-900/30 rounded"}),i.jsx("span",{children:"Pendente"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-100 dark:bg-green-900/30 rounded"}),i.jsx("span",{children:"Pago/Recebido"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-50 dark:bg-blue-900/20 rounded"}),i.jsx("span",{children:"Hoje"})]})]})]})},fZ=()=>{var qe,lt;const{dialogs:t,openDialog:e,closeDialog:n}=g.useContext(wr),{toast:r}=yr(),{data:s,loading:o,save:a,remove:l}=th(),[c,u]=g.useState(""),[d,f]=g.useState(!1),[p,m]=g.useState(!1),[y,x]=g.useState(!1),[S,_]=g.useState(!1),[v,w]=g.useState(!1),[j,R]=g.useState(null),[L,C]=g.useState(null),[E,I]=g.useState({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),[P,k]=g.useState({dataInicio:"",dataFim:"",tipo:"todos",status:"todos"});g.useEffect(()=>{t.lancamento&&(C(null),I({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),f(!0),n("lancamento"))},[t,n]),console.log("[Financeiro] ===== DADOS CARREGADOS ====="),console.log("[Financeiro] Lançamentos:",s),console.log("[Financeiro] Loading:",o);const N=async B=>{if(B.preventDefault(),!E.descricao||!E.valor||!E.dataVencimento){r({title:"Erro",description:"Todos os campos obrigatórios devem ser preenchidos!",variant:"destructive"});return}try{const ce=parseFloat(E.valor),Ve=E.parcelado?parseInt(E.numeroParcelas):1,ke=ce/Ve,Ae=[];for(let ye=0;ye<Ve;ye++){const[Je,J,ee]=E.dataVencimento.split("-").map(Number),ie=new Date(Je,J-1,ee);if(E.parcelado&&ye>0)switch(E.intervaloParcelas){case"mensal":ie.setMonth(ie.getMonth()+ye);break;case"quinzenal":ie.setDate(ie.getDate()+ye*15);break;case"semanal":ie.setDate(ie.getDate()+ye*7);break;default:ie.setMonth(ie.getMonth()+ye)}const Pe=ie.getFullYear(),nt=String(ie.getMonth()+1).padStart(2,"0"),Ct=String(ie.getDate()).padStart(2,"0"),vn=`${Pe}-${nt}-${Ct}`,Yn={descricao:E.parcelado?`${E.descricao} - Parcela ${ye+1}/${Ve}`:E.descricao,valor:ke,dataVencimento:vn,tipo:E.tipo,status:E.status,parcelado:E.parcelado,numeroParcela:E.parcelado?ye+1:null,totalParcelas:E.parcelado?Ve:null,valorTotal:E.parcelado?ce:null,createdAt:L?L.createdAt:new Date().toISOString()};Ae.push(Yn)}for(const ye of Ae)await a(ye,L==null?void 0:L.id);r(L?{title:"Sucesso!",description:"Lançamento atualizado com sucesso!"}:{title:"Sucesso!",description:E.parcelado?`${Ve} parcelas criadas com sucesso!`:"Lançamento criado com sucesso!"}),I({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"}),C(null),f(!1)}catch(ce){console.error("[Financeiro] ❌ Erro ao salvar lançamento:",ce),r({title:"Erro",description:"Erro ao salvar lançamento. Tente novamente.",variant:"destructive"})}},A=B=>{B.isGrupoParcelas?(R(B),w(!0)):(C(B),I({descricao:B.descricao,valor:B.valor.toString(),dataVencimento:B.dataVencimento,tipo:B.tipo,status:B.status,parcelado:B.parcelado||!1,numeroParcelas:B.totalParcelas||1,intervaloParcelas:"mensal"}),f(!0))},V=async B=>{try{await l(B),r({title:"Sucesso!",description:"Lançamento removido com sucesso!"})}catch(ce){console.error("[Financeiro] ❌ Erro ao remover lançamento:",ce),r({title:"Erro",description:"Erro ao remover lançamento. Tente novamente.",variant:"destructive"})}},F=B=>{_(!1),A(B)},q=async B=>{try{const ce=B.tipo==="receber"?"Recebido":"Pago";console.log("[Financeiro] 🚀 Iniciando dar baixa na parcela:",B),console.log("[Financeiro] 📝 Novo status:",ce),console.log("[Financeiro] 🆔 ID da parcela:",B.id);const Ve=await a({...B,status:ce,updatedAt:new Date().toISOString()},B.id);console.log("[Financeiro] ✅ Resultado do salvamento:",Ve),w(!1),r({title:"Sucesso!",description:`Parcela ${B.numeroParcela} ${B.tipo==="receber"?"recebida":"paga"} com sucesso!`}),setTimeout(()=>{j&&(console.log("[Financeiro] 🔄 Reabrindo modal de detalhes..."),w(!0))},1500)}catch(ce){console.error("[Financeiro] ❌ Erro ao dar baixa na parcela:",ce),r({title:"Erro",description:"Erro ao dar baixa na parcela. Tente novamente.",variant:"destructive"})}},$=async B=>{try{const ce=s.find(Ae=>Ae.id===B);if(!ce)return;const Ve=ce.status==="Pendente"?ce.tipo==="receber"?"Recebido":"Pago":"Pendente",ke={...ce,status:Ve};await a(ke,B),r({title:"Sucesso!",description:"Status atualizado com sucesso!"})}catch(ce){console.error("[Financeiro] ❌ Erro ao atualizar status:",ce),r({title:"Erro",description:"Erro ao atualizar status. Tente novamente.",variant:"destructive"})}},M=()=>{const B=we.map(ye=>({Descrição:ye.descricao,Valor:ye.valor,Tipo:ye.tipo==="receber"?"A Receber":"A Pagar",Status:ye.status,"Data Vencimento":new Date(ye.dataVencimento).toLocaleDateString("pt-BR"),"Data Criação":new Date(ye.createdAt).toLocaleDateString("pt-BR")})),ce=[Object.keys(B[0]).join(","),...B.map(ye=>Object.values(ye).map(Je=>`"${Je}"`).join(","))].join(`
`),Ve=new Blob([ce],{type:"text/csv;charset=utf-8;"}),ke=document.createElement("a"),Ae=URL.createObjectURL(Ve);ke.setAttribute("href",Ae),ke.setAttribute("download",`financeiro_${new Date().toISOString().slice(0,10)}.csv`),ke.style.visibility="hidden",document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),r({title:"Sucesso!",description:"Arquivo CSV exportado com sucesso!"})},U=()=>{r({title:"Em desenvolvimento",description:"Funcionalidade de exportação PDF será implementada em breve!",variant:"default"})},Y=()=>{window.print(),r({title:"Sucesso!",description:"Relatório enviado para impressão!"})},K=()=>{const B=new Date,ce=B.getMonth(),Ve=B.getFullYear(),ke=s.filter(ie=>{const Pe=new Date(ie.createdAt);return Pe.getMonth()===ce&&Pe.getFullYear()===Ve}),Ae={totalReceber:ke.filter(ie=>ie.tipo==="receber").reduce((ie,Pe)=>ie+Pe.valor,0),totalPagar:ke.filter(ie=>ie.tipo==="pagar").reduce((ie,Pe)=>ie+Pe.valor,0),totalRecebido:ke.filter(ie=>ie.tipo==="receber"&&ie.status==="Recebido").reduce((ie,Pe)=>ie+Pe.valor,0),totalPago:ke.filter(ie=>ie.tipo==="pagar"&&ie.status==="Pago").reduce((ie,Pe)=>ie+Pe.valor,0),contasVencidas:s.filter(ie=>se(ie.dataVencimento,ie.status)).length},ye=`
RELATÓRIO FINANCEIRO - ${B.toLocaleDateString("pt-BR")}

RESUMO DO MÊS:
• Total a Receber: R$ ${Ae.totalReceber.toFixed(2)}
• Total a Pagar: R$ ${Ae.totalPagar.toFixed(2)}
• Total Recebido: R$ ${Ae.totalRecebido.toFixed(2)}
• Total Pago: R$ ${Ae.totalPago.toFixed(2)}
• Contas Vencidas: ${Ae.contasVencidas}

SALDO LÍQUIDO: R$ ${(Ae.totalReceber-Ae.totalPagar).toFixed(2)}
    `,Je=new Blob([ye],{type:"text/plain;charset=utf-8;"}),J=document.createElement("a"),ee=URL.createObjectURL(Je);J.setAttribute("href",ee),J.setAttribute("download",`relatorio_financeiro_${B.toISOString().slice(0,10)}.txt`),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J),r({title:"Sucesso!",description:"Relatório gerado e baixado com sucesso!"})},ue=()=>{const B=s.filter(ye=>{let Je=!0;return P.dataInicio&&(Je=Je&&new Date(ye.dataVencimento)>=new Date(P.dataInicio)),P.dataFim&&(Je=Je&&new Date(ye.dataVencimento)<=new Date(P.dataFim)),P.tipo!=="todos"&&(Je=Je&&ye.tipo===P.tipo),P.status!=="todos"&&(Je=Je&&ye.status===P.status),Je}),ce=`
RELATÓRIO DETALHADO - ${new Date().toLocaleDateString("pt-BR")}

FILTROS APLICADOS:
• Período: ${P.dataInicio||"Início"} até ${P.dataFim||"Fim"}
• Tipo: ${P.tipo==="todos"?"Todos":P.tipo}
• Status: ${P.status==="todos"?"Todos":P.status}

LANÇAMENTOS ENCONTRADOS: ${B.length}

${B.map((ye,Je)=>`
${Je+1}. ${ye.descricao}
   Valor: R$ ${ye.valor.toFixed(2)}
   Tipo: ${ye.tipo==="receber"?"A Receber":"A Pagar"}
   Status: ${ye.status}
   Vencimento: ${new Date(ye.dataVencimento).toLocaleDateString("pt-BR")}
   ${se(ye.dataVencimento,ye.status)?"⚠️ VENCIDO":""}
`).join("")}

TOTAL GERAL: R$ ${B.reduce((ye,Je)=>ye+Je.valor,0).toFixed(2)}
    `,Ve=new Blob([ce],{type:"text/plain;charset=utf-8;"}),ke=document.createElement("a"),Ae=URL.createObjectURL(Ve);ke.setAttribute("href",Ae),ke.setAttribute("download",`relatorio_detalhado_${new Date().toISOString().slice(0,10)}.txt`),ke.style.visibility="hidden",document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),r({title:"Sucesso!",description:"Relatório detalhado gerado com sucesso!"})},we=(B=>{const ce={},Ve=[];return B.forEach(ke=>{if(ke.parcelado){const Ae=`${ke.descricao.split(" - Parcela")[0]}_${ke.totalParcelas}_${ke.valorTotal}`;ce[Ae]||(ce[Ae]=[]),ce[Ae].push(ke)}else Ve.push(ke)}),Object.values(ce).forEach(ke=>{if(ke.length>0){const Ae=ke[0],ye=ke.sort((Je,J)=>Je.numeroParcela-J.numeroParcela);Ve.push({...Ae,isGrupoParcelas:!0,parcelas:ye,totalParcelas:ke.length,parcelasPendentes:ke.filter(Je=>Je.status==="Pendente").length,parcelasPagas:ke.filter(Je=>Je.status==="Recebido"||Je.status==="Pago").length,descricao:Ae.descricao.split(" - Parcela")[0]})}}),Ve})(s).filter(B=>B.descricao.toLowerCase().includes(c.toLowerCase())),ze=we.filter(B=>B.tipo==="receber"),Ie=we.filter(B=>B.tipo==="pagar"),fe=ze.filter(B=>B.status==="Pendente").reduce((B,ce)=>B+ce.valor,0),Oe=Ie.filter(B=>B.status==="Pendente").reduce((B,ce)=>B+ce.valor,0),$e=ze.filter(B=>B.status==="Recebido").reduce((B,ce)=>B+ce.valor,0),W=Ie.filter(B=>B.status==="Pago").reduce((B,ce)=>B+ce.valor,0),he=(B,ce)=>B==="Pendente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":B==="Recebido"&&ce==="receber"||B==="Pago"&&ce==="pagar"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300",se=(B,ce)=>{if(ce!=="Pendente")return!1;const Ve=new Date;return Ve.setHours(0,0,0,0),new Date(B)<Ve},je=({conta:B,index:ce})=>i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ce*.05},className:`bg-white dark:bg-slate-800 rounded-xl shadow-lg border transition-all duration-300 hover:shadow-xl w-full max-w-full ${se(B.dataVencimento,B.status)?"border-red-400 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-slate-200 dark:border-slate-700"}`,children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center flex-wrap gap-x-3 gap-y-2 mb-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:B.descricao}),B.isGrupoParcelas&&i.jsxs(dr,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:["📦 ",B.totalParcelas," parcelas"]}),i.jsx(dr,{className:`text-xs ${he(B.status,B.tipo)}`,children:B.status}),se(B.dataVencimento,B.status)&&i.jsx(dr,{variant:"destructive",className:"text-xs",children:"Vencido"})]}),B.isGrupoParcelas&&i.jsxs("div",{className:"mb-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progresso das parcelas:"}),i.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[B.parcelasPagas,"/",B.totalParcelas," pagas"]})]}),i.jsx("div",{className:"mt-2 w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:i.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${B.parcelasPagas/B.totalParcelas*100}%`}})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:i.jsx(er,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Valor"}),i.jsx("p",{className:`font-semibold ${B.tipo==="receber"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B.valor)})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:i.jsx(Os,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Vencimento"}),i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:new Date(B.dataVencimento).toLocaleDateString("pt-BR",{timeZone:"UTC"})})]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Q,{variant:"outline",size:"sm",onClick:()=>$(B.id),className:B.status==="Pendente"?"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300":"text-yellow-600 hover:text-yellow-700 dark:text-yellow-400 dark:hover:text-yellow-300",children:B.status==="Pendente"?`Marcar como ${B.tipo==="receber"?"Recebido":"Pago"}`:"Marcar como Pendente"}),i.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>A(B),children:[i.jsx(vs,{className:"h-4 w-4 mr-2"}),"Editar"]}),i.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>V(B.id),className:"text-red-500 hover:text-red-700 dark:hover:text-red-400",children:[i.jsx(xs,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})},B.id);return i.jsxs("div",{className:"space-y-8",children:[i.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[i.jsx(er,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Financeiro"]}),i.jsx("p",{className:"text-emerald-100 text-base lg:text-lg",children:"Controle suas contas a pagar e receber"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-emerald-100",children:"Total a Receber"}),i.jsx("p",{className:"text-xl font-bold text-green-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(fe)})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-emerald-100",children:"Total a Pagar"}),i.jsx("p",{className:"text-xl font-bold text-red-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Oe)})]})]})]})}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-lg",children:i.jsx($n,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Gerencie seus lançamentos financeiros"})]})]})}),i.jsx("div",{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[i.jsxs(pn,{open:d,onOpenChange:f,children:[i.jsx(y8,{asChild:!0,children:i.jsxs(Q,{className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white w-full sm:col-span-2 lg:col-span-1",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Novo Lançamento"}),i.jsx("span",{className:"sm:hidden",children:"Novo"})]})}),i.jsxs(en,{className:"sm:max-w-2xl bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"flex items-center gap-2 text-xl",children:[i.jsx(er,{className:"h-5 w-5"}),L?"Editar Lançamento":"Novo Lançamento"]})}),i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(Pr,{className:"h-4 w-4"}),"Informações Básicas"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"descricao",children:"Descrição *"}),i.jsx(me,{id:"descricao",value:E.descricao,onChange:B=>I({...E,descricao:B.target.value}),placeholder:"Ex: Venda de produto, Pagamento de fornecedor...",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"valor",children:"Valor Total *"}),i.jsx(me,{id:"valor",type:"number",step:"0.01",value:E.valor,onChange:B=>I({...E,valor:B.target.value}),placeholder:"0.00",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Tipo"}),i.jsxs(dt,{value:E.tipo,onValueChange:B=>I({...E,tipo:B}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"receber",children:"💰 Conta a Receber"}),i.jsx(oe,{value:"pagar",children:"💸 Conta a Pagar"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Status"}),i.jsxs(dt,{value:E.status,onValueChange:B=>I({...E,status:B}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"Pendente",children:"⏳ Pendente"}),i.jsxs(oe,{value:E.tipo==="receber"?"Recebido":"Pago",children:["✅ ",E.tipo==="receber"?"Recebido":"Pago"]})]})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(px,{className:"h-4 w-4"}),"Parcelamento"]}),i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(X,{htmlFor:"parcelado",children:"Lançamento Parcelado"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Dividir o valor em múltiplas parcelas"})]}),i.jsx(Rs,{id:"parcelado",checked:E.parcelado,onCheckedChange:B=>I({...E,parcelado:B})})]}),E.parcelado&&i.jsxs(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"numeroParcelas",children:"Número de Parcelas"}),i.jsxs(dt,{value:E.numeroParcelas.toString(),onValueChange:B=>I({...E,numeroParcelas:parseInt(B)}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsx(it,{children:[2,3,4,5,6,8,10,12,15,18,24,30,36].map(B=>i.jsxs(oe,{value:B.toString(),children:[B," parcelas"]},B))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"intervaloParcelas",children:"Intervalo"}),i.jsxs(dt,{value:E.intervaloParcelas,onValueChange:B=>I({...E,intervaloParcelas:B}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"semanal",children:"📅 Semanal"}),i.jsx(oe,{value:"quinzenal",children:"📅 Quinzenal"}),i.jsx(oe,{value:"mensal",children:"📅 Mensal"})]})]})]})]}),E.valor&&E.dataVencimento&&i.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg p-4 border border-slate-200 dark:border-slate-600",children:[i.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white mb-3",children:"📋 Preview das Parcelas"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Array.from({length:E.numeroParcelas},(B,ce)=>{const[Ve,ke,Ae]=E.dataVencimento.split("-").map(Number),ye=new Date(Ve,ke-1,Ae),Je=parseFloat(E.valor)/E.numeroParcelas;if(ce>0)switch(E.intervaloParcelas){case"mensal":ye.setMonth(ye.getMonth()+ce);break;case"quinzenal":ye.setDate(ye.getDate()+ce*15);break;case"semanal":ye.setDate(ye.getDate()+ce*7);break}return i.jsxs("div",{className:"flex items-center justify-between text-sm bg-slate-50 dark:bg-slate-600 rounded px-3 py-2",children:[i.jsxs("span",{className:"font-medium",children:["Parcela ",ce+1,"/",E.numeroParcelas]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:ye.toLocaleDateString("pt-BR")}),i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",Je.toFixed(2)]})]})]},ce)})})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(Os,{className:"h-4 w-4"}),"Data de Vencimento"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"dataVencimento",children:E.parcelado?"Data da Primeira Parcela *":"Data de Vencimento *"}),i.jsx(me,{id:"dataVencimento",type:"date",value:E.dataVencimento,onChange:B=>I({...E,dataVencimento:B.target.value}),required:!0}),E.parcelado&&i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"As demais parcelas serão calculadas automaticamente baseadas no intervalo selecionado."})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsx(Q,{type:"button",variant:"outline",onClick:()=>{f(!1),C(null),I({descricao:"",valor:"",dataVencimento:"",tipo:"receber",status:"Pendente",parcelado:!1,numeroParcelas:1,intervaloParcelas:"mensal"})},className:"flex-1",children:"Cancelar"}),i.jsx(Q,{type:"submit",className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700",children:L?"Atualizar":"Criar Lançamento"})]})]})]})]}),i.jsxs(Q,{variant:"outline",className:"flex items-center justify-center gap-2 w-full max-w-full border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 text-sm sm:text-base",onClick:()=>x(!0),children:[i.jsx(sc,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Exportar"}),i.jsx("span",{className:"sm:hidden",children:"Exportar"})]}),i.jsxs(Q,{variant:"outline",className:"flex items-center justify-center gap-2 w-full max-w-full border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 text-sm sm:text-base",onClick:()=>m(!0),children:[i.jsx($s,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Relatórios"}),i.jsx("span",{className:"sm:hidden",children:"Relatórios"})]}),i.jsxs(Q,{variant:"outline",className:"flex items-center justify-center gap-2 w-full max-w-full sm:col-span-2 lg:col-span-1 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 text-sm sm:text-base",onClick:()=>_(!0),children:[i.jsx(Os,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Calendário de Parcelas"}),i.jsx("span",{className:"sm:hidden",children:"Calendário"})]})]})})]}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 w-full max-w-full",children:[i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 font-medium",children:"A Receber"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600 dark:text-green-400 truncate",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(fe)}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[ze.filter(B=>B.status==="Pendente").length," contas"]})]}),i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:i.jsx(Jn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})}),i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"A Pagar"}),i.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Oe)}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[Ie.filter(B=>B.status==="Pendente").length," contas"]})]}),i.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-xl",children:i.jsx(fa,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]})})}),i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Recebido"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format($e)}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[ze.filter(B=>B.status==="Recebido").length," contas"]})]}),i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:i.jsx(Pa,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})}),i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Pago"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W)}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[Ie.filter(B=>B.status==="Pago").length," contas"]})]}),i.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:i.jsx(tz,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})})]}),i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs(lc,{defaultValue:"receber",className:"w-full",children:[i.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-200 dark:border-slate-600",children:i.jsxs(La,{className:"grid w-full grid-cols-2 h-auto p-1",children:[i.jsxs(Nn,{value:"receber",className:"flex items-center gap-1 sm:gap-2 p-2 sm:p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white",children:[i.jsx(Jn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Contas a Receber"}),i.jsx(dr,{variant:"secondary",className:"ml-1 sm:ml-2 text-xs",children:ze.length})]}),i.jsxs(Nn,{value:"pagar",className:"flex items-center gap-1 sm:gap-2 p-2 sm:p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-red-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[i.jsx(fa,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Contas a Pagar"}),i.jsx(dr,{variant:"secondary",className:"ml-1 sm:ml-2 text-xs",children:Ie.length})]})]})}),i.jsxs(jn,{value:"receber",className:"p-6 space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:i.jsx(Jn,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Contas a Receber"}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[ze.length," contas encontradas"]})]})]})}),i.jsxs("div",{className:"relative",children:[i.jsx($r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar por descrição...",value:c,onChange:B=>u(B.target.value),className:"max-w-sm pl-10"})]}),i.jsx("div",{className:"space-y-4",children:i.jsx(gp,{children:ze.map((B,ce)=>i.jsx(je,{conta:B,index:ce},B.id))})}),ze.length===0&&i.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx("div",{className:"p-4 bg-green-100 dark:bg-green-900/30 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:i.jsx(Jn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a receber"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Suas contas a receber aparecerão aqui"}),i.jsxs(Q,{onClick:()=>f(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Adicionar Conta a Receber"]})]})]}),i.jsxs(jn,{value:"pagar",className:"p-6 space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-lg",children:i.jsx(fa,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Contas a Pagar"}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[Ie.length," contas encontradas"]})]})]})}),i.jsxs("div",{className:"relative",children:[i.jsx($r,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar por descrição...",value:c,onChange:B=>u(B.target.value),className:"max-w-sm pl-10"})]}),i.jsx("div",{className:"space-y-4",children:i.jsx(gp,{children:Ie.map((B,ce)=>i.jsx(je,{conta:B,index:ce},B.id))})}),Ie.length===0&&i.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:i.jsx(fa,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Nenhuma conta a pagar"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Suas contas a pagar aparecerão aqui"}),i.jsxs(Q,{onClick:()=>f(!0),className:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white",children:[i.jsx($n,{className:"h-4 w-4 mr-2"}),"Adicionar Conta a Pagar"]})]})]})]})}),i.jsx(pn,{open:y,onOpenChange:x,children:i.jsxs(en,{className:"sm:max-w-md bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"flex items-center gap-2",children:[i.jsx(sc,{className:"h-5 w-5"}),"Exportar Dados"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Escolha o formato para exportar os dados financeiros:"}),i.jsxs("div",{className:"grid gap-3",children:[i.jsxs(Q,{onClick:M,className:"flex items-center gap-2 justify-start",variant:"outline",children:[i.jsx(B9,{className:"h-4 w-4"}),"Exportar como CSV"]}),i.jsxs(Q,{onClick:U,className:"flex items-center gap-2 justify-start",variant:"outline",children:[i.jsx(Pr,{className:"h-4 w-4"}),"Exportar como PDF"]}),i.jsxs(Q,{onClick:Y,className:"flex items-center gap-2 justify-start",variant:"outline",children:[i.jsx(ud,{className:"h-4 w-4"}),"Imprimir Relatório"]})]}),i.jsx("div",{className:"flex gap-2 pt-4",children:i.jsx(Q,{variant:"outline",onClick:()=>x(!1),className:"flex-1",children:"Fechar"})})]})]})}),i.jsx(pn,{open:p,onOpenChange:m,children:i.jsxs(en,{className:"sm:max-w-lg bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"flex items-center gap-2",children:[i.jsx($s,{className:"h-5 w-5"}),"Relatórios Financeiros"]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Relatório Resumo"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Gera um resumo financeiro do mês atual com totais e saldo líquido."}),i.jsxs(Q,{onClick:K,className:"w-full",children:[i.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Gerar Relatório Resumo"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Relatório Detalhado"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Gera um relatório detalhado com filtros personalizados."}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(X,{htmlFor:"dataInicio",children:"Data Início"}),i.jsx(me,{id:"dataInicio",type:"date",value:P.dataInicio,onChange:B=>k({...P,dataInicio:B.target.value})})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"dataFim",children:"Data Fim"}),i.jsx(me,{id:"dataFim",type:"date",value:P.dataFim,onChange:B=>k({...P,dataFim:B.target.value})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(X,{children:"Tipo"}),i.jsxs(dt,{value:P.tipo,onValueChange:B=>k({...P,tipo:B}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"todos",children:"Todos"}),i.jsx(oe,{value:"receber",children:"A Receber"}),i.jsx(oe,{value:"pagar",children:"A Pagar"})]})]})]}),i.jsxs("div",{children:[i.jsx(X,{children:"Status"}),i.jsxs(dt,{value:P.status,onValueChange:B=>k({...P,status:B}),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"todos",children:"Todos"}),i.jsx(oe,{value:"Pendente",children:"Pendente"}),i.jsx(oe,{value:"Recebido",children:"Recebido"}),i.jsx(oe,{value:"Pago",children:"Pago"})]})]})]})]}),i.jsxs(Q,{onClick:ue,className:"w-full",children:[i.jsx($s,{className:"h-4 w-4 mr-2"}),"Gerar Relatório Detalhado"]})]}),i.jsx("div",{className:"flex gap-2 pt-4",children:i.jsx(Q,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Fechar"})})]})]})}),i.jsx(pn,{open:S,onOpenChange:_,children:i.jsxs(en,{className:"sm:max-w-4xl bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"flex items-center gap-2",children:[i.jsx(Os,{className:"h-5 w-5"}),"Calendário de Parcelas"]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Visualize todas as parcelas organizadas por mês em um calendário interativo."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(X,{htmlFor:"filtroTipo",children:"Tipo"}),i.jsxs(dt,{defaultValue:"todos",onValueChange:B=>{},children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"todos",children:"Todos"}),i.jsx(oe,{value:"receber",children:"A Receber"}),i.jsx(oe,{value:"pagar",children:"A Pagar"})]})]})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"filtroStatus",children:"Status"}),i.jsxs(dt,{defaultValue:"todos",onValueChange:B=>{},children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"todos",children:"Todos"}),i.jsx(oe,{value:"Pendente",children:"Pendente"}),i.jsx(oe,{value:"Recebido",children:"Recebido"}),i.jsx(oe,{value:"Pago",children:"Pago"})]})]})]}),i.jsxs("div",{children:[i.jsx(X,{htmlFor:"filtroMes",children:"Mês/Ano"}),i.jsx(me,{id:"filtroMes",type:"month",defaultValue:new Date().toISOString().slice(0,7),onChange:B=>{}})]})]}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-6",children:i.jsx(hZ,{lancamentos:s,onParcelaClick:F})}),i.jsx("div",{className:"flex gap-2 pt-4",children:i.jsx(Q,{variant:"outline",onClick:()=>_(!1),className:"flex-1",children:"Fechar"})})]})]})}),i.jsx(pn,{open:v,onOpenChange:w,children:i.jsxs(en,{className:"sm:max-w-4xl bg-white dark:bg-slate-900",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"flex items-center gap-2",children:[i.jsx(px,{className:"h-5 w-5"}),"Detalhes das Parcelas"]})}),j&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:j.descricao.split(" - Parcela")[0]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total:"}),i.jsxs("p",{className:"font-semibold text-slate-900 dark:text-white",children:["R$ ",((qe=j.valorTotal)==null?void 0:qe.toFixed(2))||"0.00"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Parcelas:"}),i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:j.totalParcelas})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Pagas:"}),i.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:j.parcelasPagas})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Pendentes:"}),i.jsx("p",{className:"font-semibold text-yellow-600 dark:text-yellow-400",children:j.parcelasPendentes})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-md font-semibold text-slate-900 dark:text-white",children:"Parcelas Individuais"}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:(lt=j.parcelas)==null?void 0:lt.map((B,ce)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-slate-100 dark:bg-slate-600 rounded-full text-sm font-semibold",children:B.numeroParcela}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:B.descricao}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Vencimento: ",new Date(B.dataVencimento).toLocaleDateString("pt-BR")]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-semibold text-slate-900 dark:text-white",children:["R$ ",B.valor.toFixed(2)]}),i.jsx(dr,{className:`text-xs ${he(B.status,B.tipo)}`,children:B.status})]}),i.jsxs("div",{className:"flex gap-2",children:[B.status==="Pendente"&&i.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>q(B),children:[i.jsx(Pa,{className:"h-4 w-4 mr-1"}),"Dar Baixa"]}),i.jsx(Q,{size:"sm",variant:"outline",onClick:()=>{w(!1),A(B)},children:i.jsx(vs,{className:"h-4 w-4"})})]})]})]},B.id))})]}),i.jsx("div",{className:"flex gap-2 pt-4",children:i.jsx(Q,{variant:"outline",onClick:()=>w(!1),className:"flex-1",children:"Fechar"})})]})]})})]})};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function on(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Me(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function tt(t){Me(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||xc(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function fn(t,e){Me(2,arguments);var n=tt(t),r=on(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Jr(t,e){Me(2,arguments);var n=tt(t),r=on(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var a=o.getDate();return s>=a?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}function pZ(t,e){Me(2,arguments);var n=tt(t).getTime(),r=on(e);return new Date(n+r)}var mZ={};function Gi(){return mZ}function eo(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Gi(),f=on((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=tt(t),m=p.getDay(),y=(m<f?7:0)+m-f;return p.setDate(p.getDate()-y),p.setHours(0,0,0,0),p}function $a(t){return Me(1,arguments),eo(t,{weekStartsOn:1})}function gZ(t){Me(1,arguments);var e=tt(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=$a(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var a=$a(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function vZ(t){Me(1,arguments);var e=gZ(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=$a(n);return r}function Ed(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function yc(t){Me(1,arguments);var e=tt(t);return e.setHours(0,0,0,0),e}var xZ=864e5;function mo(t,e){Me(2,arguments);var n=yc(t),r=yc(e),s=n.getTime()-Ed(n),o=r.getTime()-Ed(r);return Math.round((s-o)/xZ)}function dy(t,e){Me(2,arguments);var n=on(e),r=n*7;return fn(t,r)}function KM(t,e){Me(2,arguments);var n=on(e);return Jr(t,n*12)}function yZ(t){Me(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(xc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=tt(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function wZ(t){Me(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(xc(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=tt(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function pr(t,e){Me(2,arguments);var n=yc(t),r=yc(e);return n.getTime()===r.getTime()}function u1(t){return Me(1,arguments),t instanceof Date||xc(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bZ(t){if(Me(1,arguments),!u1(t)&&typeof t!="number")return!1;var e=tt(t);return!isNaN(Number(e))}function Td(t,e){Me(2,arguments);var n=tt(t),r=tt(e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}var _Z=6048e5;function SZ(t,e,n){Me(2,arguments);var r=eo(t,n),s=eo(e,n),o=r.getTime()-Ed(r),a=s.getTime()-Ed(s);return Math.round((o-a)/_Z)}function Nd(t){Me(1,arguments);var e=tt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function qn(t){Me(1,arguments);var e=tt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function rN(t){Me(1,arguments);var e=tt(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function hy(t){Me(1,arguments);var e=tt(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function d1(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Gi(),f=on((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=tt(t),m=p.getDay(),y=(m<f?-7:0)+6-(m-f);return p.setDate(p.getDate()+y),p.setHours(23,59,59,999),p}function QM(t){return Me(1,arguments),d1(t,{weekStartsOn:1})}function CZ(t,e){Me(2,arguments);var n=on(e);return pZ(t,-n)}var EZ=864e5;function TZ(t){Me(1,arguments);var e=tt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/EZ)+1}function Kp(t){Me(1,arguments);var e=1,n=tt(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function XM(t){Me(1,arguments);var e=tt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Kp(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=Kp(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function NZ(t){Me(1,arguments);var e=XM(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Kp(n);return r}var jZ=6048e5;function kZ(t){Me(1,arguments);var e=tt(t),n=Kp(e).getTime()-NZ(e).getTime();return Math.round(n/jZ)+1}function Qp(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Gi(),f=on((n=(r=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=tt(t),m=p.getUTCDay(),y=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-y),p.setUTCHours(0,0,0,0),p}function ZM(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=tt(t),f=d.getUTCFullYear(),p=Gi(),m=on((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,m),y.setUTCHours(0,0,0,0);var x=Qp(y,e),S=new Date(0);S.setUTCFullYear(f,0,m),S.setUTCHours(0,0,0,0);var _=Qp(S,e);return d.getTime()>=x.getTime()?f+1:d.getTime()>=_.getTime()?f:f-1}function PZ(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Gi(),f=on((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=ZM(t,e),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var y=Qp(m,e);return y}var IZ=6048e5;function AZ(t,e){Me(1,arguments);var n=tt(t),r=Qp(n,e).getTime()-PZ(n,e).getTime();return Math.round(r/IZ)+1}function wt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var RZ={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return wt(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):wt(r+1,2)},d:function(e,n){return wt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return wt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return wt(e.getUTCHours(),n.length)},m:function(e,n){return wt(e.getUTCMinutes(),n.length)},s:function(e,n){return wt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return wt(o,n.length)}};const Ho=RZ;var dl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DZ={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Ho.y(e,n)},Y:function(e,n,r,s){var o=ZM(e,s),a=o>0?o:1-o;if(n==="YY"){var l=a%100;return wt(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):wt(a,n.length)},R:function(e,n){var r=XM(e);return wt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return wt(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return wt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return wt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Ho.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return wt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var o=AZ(e,s);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):wt(o,n.length)},I:function(e,n,r){var s=kZ(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):wt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ho.d(e,n)},D:function(e,n,r){var s=TZ(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):wt(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var o=e.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return wt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var o=e.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return wt(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),o=s===0?7:s;switch(n){case"i":return String(o);case"ii":return wt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),o=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),o;switch(s===12?o=dl.noon:s===0?o=dl.midnight:o=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),o;switch(s>=17?o=dl.evening:s>=12?o=dl.afternoon:s>=4?o=dl.morning:o=dl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ho.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ho.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):wt(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):wt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ho.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ho.s(e,n)},S:function(e,n){return Ho.S(e,n)},X:function(e,n,r,s){var o=s._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return oN(a);case"XXXX":case"XX":return aa(a);case"XXXXX":case"XXX":default:return aa(a,":")}},x:function(e,n,r,s){var o=s._originalDate||e,a=o.getTimezoneOffset();switch(n){case"x":return oN(a);case"xxxx":case"xx":return aa(a);case"xxxxx":case"xxx":default:return aa(a,":")}},O:function(e,n,r,s){var o=s._originalDate||e,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+sN(a,":");case"OOOO":default:return"GMT"+aa(a,":")}},z:function(e,n,r,s){var o=s._originalDate||e,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+sN(a,":");case"zzzz":default:return"GMT"+aa(a,":")}},t:function(e,n,r,s){var o=s._originalDate||e,a=Math.floor(o.getTime()/1e3);return wt(a,n.length)},T:function(e,n,r,s){var o=s._originalDate||e,a=o.getTime();return wt(a,n.length)}};function sN(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),o=r%60;if(o===0)return n+String(s);var a=e||"";return n+String(s)+a+wt(o,2)}function oN(t,e){if(t%60===0){var n=t>0?"-":"+";return n+wt(Math.abs(t)/60,2)}return aa(t,e)}function aa(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),o=wt(Math.floor(s/60),2),a=wt(s%60,2);return r+o+n+a}const MZ=DZ;var iN=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},JM=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},OZ=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return iN(e,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",iN(s,n)).replace("{{time}}",JM(o,n))},LZ={p:JM,P:OZ};const FZ=LZ;var VZ=["D","DD"],zZ=["YY","YYYY"];function UZ(t){return VZ.indexOf(t)!==-1}function BZ(t){return zZ.indexOf(t)!==-1}function aN(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var $Z={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qZ=function(e,n,r){var s,o=$Z[e];return typeof o=="string"?s=o:n===1?s=o.one:s=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const WZ=qZ;function Qv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var HZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KZ={date:Qv({formats:HZ,defaultWidth:"full"}),time:Qv({formats:GZ,defaultWidth:"full"}),dateTime:Qv({formats:YZ,defaultWidth:"full"})};const QZ=KZ;var XZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZZ=function(e,n,r,s){return XZ[e]};const JZ=ZZ;function uu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var eJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iJ=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},aJ={ordinalNumber:iJ,era:uu({values:eJ,defaultWidth:"wide"}),quarter:uu({values:tJ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:uu({values:nJ,defaultWidth:"wide"}),day:uu({values:rJ,defaultWidth:"wide"}),dayPeriod:uu({values:sJ,defaultWidth:"wide",formattingValues:oJ,defaultFormattingWidth:"wide"})};const lJ=aJ;function du(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;var a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?uJ(l,function(f){return f.test(a)}):cJ(l,function(f){return f.test(a)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(a.length);return{value:u,rest:d}}}function cJ(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function uJ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function dJ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],o=e.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var l=e.slice(s.length);return{value:a,rest:l}}}var hJ=/^(\d+)(th|st|nd|rd)?/i,fJ=/\d+/i,pJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mJ={any:[/^b/i,/^(a|c)/i]},gJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vJ={any:[/1/i,/2/i,/3/i,/4/i]},xJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_J={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CJ={ordinalNumber:dJ({matchPattern:hJ,parsePattern:fJ,valueCallback:function(e){return parseInt(e,10)}}),era:du({matchPatterns:pJ,defaultMatchWidth:"wide",parsePatterns:mJ,defaultParseWidth:"any"}),quarter:du({matchPatterns:gJ,defaultMatchWidth:"wide",parsePatterns:vJ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:du({matchPatterns:xJ,defaultMatchWidth:"wide",parsePatterns:yJ,defaultParseWidth:"any"}),day:du({matchPatterns:wJ,defaultMatchWidth:"wide",parsePatterns:bJ,defaultParseWidth:"any"}),dayPeriod:du({matchPatterns:_J,defaultMatchWidth:"any",parsePatterns:SJ,defaultParseWidth:"any"})};const EJ=CJ;var TJ={code:"en-US",formatDistance:WZ,formatLong:QZ,formatRelative:JZ,localize:lJ,match:EJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};const eO=TJ;var NJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kJ=/^'([^]*?)'?$/,PJ=/''/g,IJ=/[a-zA-Z]/;function Xs(t,e,n){var r,s,o,a,l,c,u,d,f,p,m,y,x,S,_,v,w,j;Me(2,arguments);var R=String(e),L=Gi(),C=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:L.locale)!==null&&r!==void 0?r:eO,E=on((o=(a=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:L.firstWeekContainsDate)!==null&&a!==void 0?a:(f=L.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=on((m=(y=(x=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(_=n.locale)===null||_===void 0||(v=_.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&x!==void 0?x:L.weekStartsOn)!==null&&y!==void 0?y:(w=L.locale)===null||w===void 0||(j=w.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&m!==void 0?m:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var P=tt(t);if(!bZ(P))throw new RangeError("Invalid time value");var k=Ed(P),N=CZ(P,k),A={firstWeekContainsDate:E,weekStartsOn:I,locale:C,_originalDate:P},V=R.match(jJ).map(function(F){var q=F[0];if(q==="p"||q==="P"){var $=FZ[q];return $(F,C.formatLong)}return F}).join("").match(NJ).map(function(F){if(F==="''")return"'";var q=F[0];if(q==="'")return AJ(F);var $=MZ[q];if($)return!(n!=null&&n.useAdditionalWeekYearTokens)&&BZ(F)&&aN(F,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&UZ(F)&&aN(F,e,String(t)),$(N,F,C.localize,A);if(q.match(IJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return F}).join("");return V}function AJ(t){var e=t.match(kJ);return e?e[1].replace(PJ,"'"):t}function RJ(t){Me(1,arguments);var e=tt(t),n=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var DJ=6048e5;function MJ(t){Me(1,arguments);var e=tt(t),n=$a(e).getTime()-vZ(e).getTime();return Math.round(n/DJ)+1}function OJ(t){Me(1,arguments);var e=tt(t),n=e.getTime();return n}function LJ(t){return Me(1,arguments),Math.floor(OJ(t)/1e3)}function FJ(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=tt(t),f=d.getFullYear(),p=Gi(),m=on((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setFullYear(f+1,0,m),y.setHours(0,0,0,0);var x=eo(y,e),S=new Date(0);S.setFullYear(f,0,m),S.setHours(0,0,0,0);var _=eo(S,e);return d.getTime()>=x.getTime()?f+1:d.getTime()>=_.getTime()?f:f-1}function VJ(t,e){var n,r,s,o,a,l,c,u;Me(1,arguments);var d=Gi(),f=on((n=(r=(s=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=FJ(t,e),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var y=eo(m,e);return y}var zJ=6048e5;function UJ(t,e){Me(1,arguments);var n=tt(t),r=eo(n,e).getTime()-VJ(n,e).getTime();return Math.round(r/zJ)+1}function BJ(t){Me(1,arguments);var e=tt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function $J(t,e){return Me(1,arguments),SZ(BJ(t),qn(t),e)+1}function fy(t,e){Me(2,arguments);var n=tt(t),r=tt(e);return n.getTime()>r.getTime()}function tO(t,e){Me(2,arguments);var n=tt(t),r=tt(e);return n.getTime()<r.getTime()}function h1(t,e){Me(2,arguments);var n=tt(t),r=tt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function qJ(t,e){Me(2,arguments);var n=tt(t),r=tt(e);return n.getFullYear()===r.getFullYear()}function Xv(t,e){Me(2,arguments);var n=on(e);return fn(t,-n)}function Zv(t,e){Me(2,arguments);var n=tt(t),r=on(e),s=n.getFullYear(),o=n.getDate(),a=new Date(0);a.setFullYear(s,r,15),a.setHours(0,0,0,0);var l=RJ(a);return n.setMonth(r,Math.min(o,l)),n}function lN(t,e){Me(2,arguments);var n=tt(t),r=on(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function cN(t,e){Me(2,arguments);var n=on(e);return Jr(t,-n)}function uN(t,e){Me(2,arguments);var n=on(e);return KM(t,-n)}var He=function(){return He=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},He.apply(this,arguments)};function WJ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function nO(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function nh(t){return t.mode==="multiple"}function rh(t){return t.mode==="range"}function hg(t){return t.mode==="single"}var HJ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function GJ(t,e){return Xs(t,"LLLL y",e)}function YJ(t,e){return Xs(t,"d",e)}function KJ(t,e){return Xs(t,"LLLL",e)}function QJ(t){return"".concat(t)}function XJ(t,e){return Xs(t,"cccccc",e)}function ZJ(t,e){return Xs(t,"yyyy",e)}var JJ=Object.freeze({__proto__:null,formatCaption:GJ,formatDay:YJ,formatMonthCaption:KJ,formatWeekNumber:QJ,formatWeekdayName:XJ,formatYearCaption:ZJ}),eee=function(t,e,n){return Xs(t,"do MMMM (EEEE)",n)},tee=function(){return"Month: "},nee=function(){return"Go to next month"},ree=function(){return"Go to previous month"},see=function(t,e){return Xs(t,"cccc",e)},oee=function(t){return"Week n. ".concat(t)},iee=function(){return"Year: "},aee=Object.freeze({__proto__:null,labelDay:eee,labelMonthDropdown:tee,labelNext:nee,labelPrevious:ree,labelWeekNumber:oee,labelWeekday:see,labelYearDropdown:iee});function lee(){var t="buttons",e=HJ,n=eO,r={},s={},o=1,a={},l=new Date;return{captionLayout:t,classNames:e,formatters:JJ,labels:aee,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:a,today:l,mode:"default"}}function cee(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,o=t.fromDate,a=t.toDate;return r?o=qn(r):e&&(o=new Date(e,0,1)),s?a=Nd(s):n&&(a=new Date(n,11,31)),{fromDate:o?yc(o):void 0,toDate:a?yc(a):void 0}}var rO=g.createContext(void 0);function uee(t){var e,n=t.initialProps,r=lee(),s=cee(n),o=s.fromDate,a=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!o||!a)&&(l="buttons");var c;(hg(n)||nh(n)||rh(n))&&(c=n.onSelect);var u=He(He(He({},r),n),{captionLayout:l,classNames:He(He({},r.classNames),n.classNames),components:He({},n.components),formatters:He(He({},r.formatters),n.formatters),fromDate:o,labels:He(He({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:He(He({},r.modifiers),n.modifiers),modifiersClassNames:He(He({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:He(He({},r.styles),n.styles),toDate:a});return i.jsx(rO.Provider,{value:u,children:t.children})}function jt(){var t=g.useContext(rO);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function sO(t){var e=jt(),n=e.locale,r=e.classNames,s=e.styles,o=e.formatters.formatCaption;return i.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function dee(t){return i.jsx("svg",He({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function oO(t){var e,n,r=t.onChange,s=t.value,o=t.children,a=t.caption,l=t.className,c=t.style,u=jt(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:dee;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),i.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function hee(t){var e,n=jt(),r=n.fromDate,s=n.toDate,o=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var f=[];if(qJ(r,s))for(var p=qn(r),m=r.getMonth();m<=s.getMonth();m++)f.push(Zv(p,m));else for(var p=qn(new Date),m=0;m<=11;m++)f.push(Zv(p,m));var y=function(S){var _=Number(S.target.value),v=Zv(qn(t.displayMonth),_);t.onChange(v)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:oO;return i.jsx(x,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:a}),children:f.map(function(S){return i.jsx("option",{value:S.getMonth(),children:l(S,{locale:a})},S.getMonth())})})}function fee(t){var e,n=t.displayMonth,r=jt(),s=r.fromDate,o=r.toDate,a=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!s)return i.jsx(i.Fragment,{});if(!o)return i.jsx(i.Fragment,{});for(var m=s.getFullYear(),y=o.getFullYear(),x=m;x<=y;x++)p.push(lN(hy(new Date),x));var S=function(v){var w=lN(qn(n),Number(v.target.value));t.onChange(w)},_=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:oO;return i.jsx(_,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:S,value:n.getFullYear(),caption:d(n,{locale:a}),children:p.map(function(v){return i.jsx("option",{value:v.getFullYear(),children:d(v,{locale:a})},v.getFullYear())})})}function pee(t,e){var n=g.useState(t),r=n[0],s=n[1],o=e===void 0?r:e;return[o,s]}function mee(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,o=t.toDate,a=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(o&&Td(o,s)<0){var u=-1*(c-1);s=Jr(o,u)}return a&&Td(s,a)<0&&(s=a),qn(s)}function gee(){var t=jt(),e=mee(t),n=pee(e,t.month),r=n[0],s=n[1],o=function(a){var l;if(!t.disableNavigation){var c=qn(a);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,o]}function vee(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=qn(t),o=qn(Jr(s,r)),a=Td(o,s),l=[],c=0;c<a;c++){var u=Jr(s,c);l.push(u)}return n&&(l=l.reverse()),l}function xee(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,a=r?o:1,l=qn(t);if(!n)return Jr(l,a);var c=Td(n,t);if(!(c<o))return Jr(l,a)}}function yee(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,a=r?o:1,l=qn(t);if(!n)return Jr(l,-a);var c=Td(l,n);if(!(c<=0))return Jr(l,-a)}}var iO=g.createContext(void 0);function wee(t){var e=jt(),n=gee(),r=n[0],s=n[1],o=vee(r,e),a=xee(r,e),l=yee(r,e),c=function(f){return o.some(function(p){return h1(f,p)})},u=function(f,p){c(f)||(p&&tO(f,p)?s(Jr(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return i.jsx(iO.Provider,{value:d,children:t.children})}function sh(){var t=g.useContext(iO);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function dN(t){var e,n=jt(),r=n.classNames,s=n.styles,o=n.components,a=sh().goToMonth,l=function(d){a(Jr(d,t.displayIndex?-t.displayIndex:0))},c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:sO,u=i.jsx(c,{id:t.id,displayMonth:t.displayMonth});return i.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:r.vhidden,children:u}),i.jsx(hee,{onChange:l,displayMonth:t.displayMonth}),i.jsx(fee,{onChange:l,displayMonth:t.displayMonth})]})}function bee(t){return i.jsx("svg",He({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _ee(t){return i.jsx("svg",He({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Xp=g.forwardRef(function(t,e){var n=jt(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var a=o.join(" "),l=He(He({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),i.jsx("button",He({},t,{ref:e,type:"button",className:a,style:l}))});function See(t){var e,n,r=jt(),s=r.dir,o=r.locale,a=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return i.jsx(i.Fragment,{});var p=u(t.previousMonth,{locale:o}),m=[a.nav_button,a.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:o}),x=[a.nav_button,a.nav_button_next].join(" "),S=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:_ee,_=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:bee;return i.jsxs("div",{className:a.nav,style:l.nav,children:[!t.hidePrevious&&i.jsx(Xp,{name:"previous-month","aria-label":p,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?i.jsx(S,{className:a.nav_icon,style:l.nav_icon}):i.jsx(_,{className:a.nav_icon,style:l.nav_icon})}),!t.hideNext&&i.jsx(Xp,{name:"next-month","aria-label":y,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?i.jsx(_,{className:a.nav_icon,style:l.nav_icon}):i.jsx(S,{className:a.nav_icon,style:l.nav_icon})})]})}function hN(t){var e=jt().numberOfMonths,n=sh(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(y){return h1(t.displayMonth,y)}),c=l===0,u=l===a.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){r&&o(r)},m=function(){s&&o(s)};return i.jsx(See,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:m})}function Cee(t){var e,n=jt(),r=n.classNames,s=n.disableNavigation,o=n.styles,a=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:sO,u;return s?u=i.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=i.jsx(dN,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(dN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),i.jsx(hN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(hN,{displayMonth:t.displayMonth,id:t.id})]}),i.jsx("div",{className:r.caption,style:o.caption,children:u})}function Eee(t){var e=jt(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?i.jsx("tfoot",{className:s,style:r.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:n})})}):i.jsx(i.Fragment,{})}function Tee(t,e,n){for(var r=n?$a(new Date):eo(new Date,{locale:t,weekStartsOn:e}),s=[],o=0;o<7;o++){var a=fn(r,o);s.push(a)}return s}function Nee(){var t=jt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,o=t.weekStartsOn,a=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=Tee(s,o,a);return i.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&i.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function jee(){var t,e=jt(),n=e.classNames,r=e.styles,s=e.components,o=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:Nee;return i.jsx("thead",{style:r.head,className:n.head,children:i.jsx(o,{})})}function kee(t){var e=jt(),n=e.locale,r=e.formatters.formatDay;return i.jsx(i.Fragment,{children:r(t.date,{locale:n})})}var f1=g.createContext(void 0);function Pee(t){if(!nh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return i.jsx(f1.Provider,{value:e,children:t.children})}return i.jsx(Iee,{initialProps:t.initialProps,children:t.children})}function Iee(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,o=e.max,a=function(u,d,f){var p,m;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var x=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!x){var S=r?nO([],r,!0):[];if(d.selected){var _=S.findIndex(function(v){return pr(u,v)});S.splice(_,1)}else S.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,S,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=o&&r.length>o-1,f=r.some(function(p){return pr(p,u)});return!!(d&&!f)});var c={selected:r,onDayClick:a,modifiers:l};return i.jsx(f1.Provider,{value:c,children:n})}function p1(){var t=g.useContext(f1);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Aee(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?pr(s,t)&&pr(r,t)?void 0:pr(s,t)?{from:s,to:void 0}:pr(r,t)?void 0:fy(r,t)?{from:t,to:s}:{from:r,to:t}:s?fy(t,s)?{from:s,to:t}:{from:t,to:s}:r?tO(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var m1=g.createContext(void 0);function Ree(t){if(!rh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(m1.Provider,{value:e,children:t.children})}return i.jsx(Dee,{initialProps:t.initialProps,children:t.children})}function Dee(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},o=s.from,a=s.to,l=e.min,c=e.max,u=function(m,y,x){var S,_;(S=e.onDayClick)===null||S===void 0||S.call(e,m,y,x);var v=Aee(m,r);(_=e.onSelect)===null||_===void 0||_.call(e,v,m,y,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],a?(d.range_end=[a],pr(o,a)||(d.range_middle=[{after:o,before:a}])):d.range_end=[o]):a&&(d.range_start=[a],d.range_end=[a]),l&&(o&&!a&&d.disabled.push({after:Xv(o,l-1),before:fn(o,l-1)}),o&&a&&d.disabled.push({after:o,before:fn(o,l-1)}),!o&&a&&d.disabled.push({after:Xv(a,l-1),before:fn(a,l-1)})),c){if(o&&!a&&(d.disabled.push({before:fn(o,-c+1)}),d.disabled.push({after:fn(o,c-1)})),o&&a){var f=mo(a,o)+1,p=c-f;d.disabled.push({before:Xv(o,p)}),d.disabled.push({after:fn(a,p)})}!o&&a&&(d.disabled.push({before:fn(a,-c+1)}),d.disabled.push({after:fn(a,c-1)}))}return i.jsx(m1.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function g1(){var t=g.useContext(m1);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Of(t){return Array.isArray(t)?nO([],t,!0):t!==void 0?[t]:[]}function Mee(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Of(s)}),e}var _s;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(_s||(_s={}));var Oee=_s.Selected,io=_s.Disabled,Lee=_s.Hidden,Fee=_s.Today,Jv=_s.RangeEnd,e0=_s.RangeMiddle,t0=_s.RangeStart,Vee=_s.Outside;function zee(t,e,n){var r,s=(r={},r[Oee]=Of(t.selected),r[io]=Of(t.disabled),r[Lee]=Of(t.hidden),r[Fee]=[t.today],r[Jv]=[],r[e0]=[],r[t0]=[],r[Vee]=[],r);return t.fromDate&&s[io].push({before:t.fromDate}),t.toDate&&s[io].push({after:t.toDate}),nh(t)?s[io]=s[io].concat(e.modifiers[io]):rh(t)&&(s[io]=s[io].concat(n.modifiers[io]),s[t0]=n.modifiers[t0],s[e0]=n.modifiers[e0],s[Jv]=n.modifiers[Jv]),s}var aO=g.createContext(void 0);function Uee(t){var e=jt(),n=p1(),r=g1(),s=zee(e,n,r),o=Mee(e.modifiers),a=He(He({},s),o);return i.jsx(aO.Provider,{value:a,children:t.children})}function lO(){var t=g.useContext(aO);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Bee(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function $ee(t){return!!(t&&typeof t=="object"&&"from"in t)}function qee(t){return!!(t&&typeof t=="object"&&"after"in t)}function Wee(t){return!!(t&&typeof t=="object"&&"before"in t)}function Hee(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Gee(t,e){var n,r=e.from,s=e.to;if(r&&s){var o=mo(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var a=mo(t,r)>=0&&mo(s,t)>=0;return a}return s?pr(s,t):r?pr(r,t):!1}function Yee(t){return u1(t)}function Kee(t){return Array.isArray(t)&&t.every(u1)}function Qee(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Yee(n))return pr(t,n);if(Kee(n))return n.includes(t);if($ee(n))return Gee(t,n);if(Hee(n))return n.dayOfWeek.includes(t.getDay());if(Bee(n)){var r=mo(n.before,t),s=mo(n.after,t),o=r>0,a=s<0,l=fy(n.before,n.after);return l?a&&o:o||a}return qee(n)?mo(t,n.after)>0:Wee(n)?mo(n.before,t)>0:typeof n=="function"?n(t):!1})}function v1(t,e,n){var r=Object.keys(e).reduce(function(o,a){var l=e[a];return Qee(t,l)&&o.push(a),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!h1(t,n)&&(s.outside=!0),s}function Xee(t,e){for(var n=qn(t[0]),r=Nd(t[t.length-1]),s,o,a=n;a<=r;){var l=v1(a,e),c=!l.disabled&&!l.hidden;if(!c){a=fn(a,1);continue}if(l.selected)return a;l.today&&!o&&(o=a),s||(s=a),a=fn(a,1)}return o||s}var Zee=365;function cO(t,e){var n=e.moveBy,r=e.direction,s=e.context,o=e.modifiers,a=e.retry,l=a===void 0?{count:0,lastFocused:t}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,p={day:fn,week:dy,month:Jr,year:KM,startOfWeek:function(S){return s.ISOWeek?$a(S):eo(S,{locale:f,weekStartsOn:c})},endOfWeek:function(S){return s.ISOWeek?QM(S):d1(S,{locale:f,weekStartsOn:c})}},m=p[n](t,r==="after"?1:-1);r==="before"&&u?m=yZ([u,m]):r==="after"&&d&&(m=wZ([d,m]));var y=!0;if(o){var x=v1(m,o);y=!x.disabled&&!x.hidden}return y?m:l.count>Zee?l.lastFocused:cO(m,{moveBy:n,direction:r,context:s,modifiers:o,retry:He(He({},l),{count:l.count+1})})}var uO=g.createContext(void 0);function Jee(t){var e=sh(),n=lO(),r=g.useState(),s=r[0],o=r[1],a=g.useState(),l=a[0],c=a[1],u=Xee(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),o(void 0)},p=function(S){o(S)},m=jt(),y=function(S,_){if(s){var v=cO(s,{moveBy:S,direction:_,context:m,modifiers:n});pr(s,v)||(e.goToDate(v,s),p(v))}},x={focusedDay:s,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return i.jsx(uO.Provider,{value:x,children:t.children})}function x1(){var t=g.useContext(uO);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function ete(t,e){var n=lO(),r=v1(t,n,e);return r}var y1=g.createContext(void 0);function tte(t){if(!hg(t.initialProps)){var e={selected:void 0};return i.jsx(y1.Provider,{value:e,children:t.children})}return i.jsx(nte,{initialProps:t.initialProps,children:t.children})}function nte(t){var e=t.initialProps,n=t.children,r=function(o,a,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,o,a,l),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,o,a,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,o,o,a,l)},s={selected:e.selected,onDayClick:r};return i.jsx(y1.Provider,{value:s,children:n})}function dO(){var t=g.useContext(y1);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function rte(t,e){var n=jt(),r=dO(),s=p1(),o=g1(),a=x1(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,p=a.focus,m=a.focusMonthBefore,y=a.focusMonthAfter,x=a.focusYearBefore,S=a.focusYearAfter,_=a.focusStartOfWeek,v=a.focusEndOfWeek,w=function($){var M,U,Y,K;hg(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,t,e,$):nh(n)?(U=s.onDayClick)===null||U===void 0||U.call(s,t,e,$):rh(n)?(Y=o.onDayClick)===null||Y===void 0||Y.call(o,t,e,$):(K=n.onDayClick)===null||K===void 0||K.call(n,t,e,$)},j=function($){var M;p(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,$)},R=function($){var M;f(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,$)},L=function($){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,$)},C=function($){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,$)},E=function($){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,$)},I=function($){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,$)},P=function($){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,$)},k=function($){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,$)},N=function($){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,$)},A=function($){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,$)},V=function($){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,$)},F=function($){var M;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?x():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?S():y();break;case"Home":$.preventDefault(),$.stopPropagation(),_();break;case"End":$.preventDefault(),$.stopPropagation(),v();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,$)},q={onClick:w,onFocus:j,onBlur:R,onKeyDown:F,onKeyUp:V,onMouseEnter:L,onMouseLeave:C,onPointerEnter:E,onPointerLeave:I,onTouchCancel:P,onTouchEnd:k,onTouchMove:N,onTouchStart:A};return q}function ste(){var t=jt(),e=dO(),n=p1(),r=g1(),s=hg(t)?e.selected:nh(t)?n.selected:rh(t)?r.selected:void 0;return s}function ote(t){return Object.values(_s).includes(t)}function ite(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(ote(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function ate(t,e){var n=He({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=He(He({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function lte(t,e,n){var r,s,o,a=jt(),l=x1(),c=ete(t,e),u=rte(t,c),d=ste(),f=!!(a.onDayClick||a.mode!=="default");g.useEffect(function(){var L;c.outside||l.focusedDay&&f&&pr(l.focusedDay,t)&&((L=n.current)===null||L===void 0||L.focus())},[l.focusedDay,t,n,f,c.outside]);var p=ite(a,c).join(" "),m=ate(a,c),y=!!(c.outside&&!a.showOutsideDays||c.hidden),x=(o=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:kee,S=i.jsx(x,{date:t,displayMonth:e,activeModifiers:c}),_={style:m,className:p,children:S,role:"gridcell"},v=l.focusTarget&&pr(l.focusTarget,t)&&!c.outside,w=l.focusedDay&&pr(l.focusedDay,t),j=He(He(He({},_),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||v?0:-1,r)),u),R={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:_};return R}function cte(t){var e=g.useRef(null),n=lte(t.date,t.displayMonth,e);return n.isHidden?i.jsx("div",{role:"gridcell"}):n.isButton?i.jsx(Xp,He({name:"day",ref:e},n.buttonProps)):i.jsx("div",He({},n.divProps))}function ute(t){var e=t.number,n=t.dates,r=jt(),s=r.onWeekNumberClick,o=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return i.jsx("span",{className:a.weeknumber,style:o.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(m){s(e,n,m)};return i.jsx(Xp,{name:"week-number","aria-label":f,className:a.weeknumber,style:o.weeknumber,onClick:p,children:d})}function dte(t){var e,n,r=jt(),s=r.styles,o=r.classNames,a=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:cte,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:ute,d;return a&&(d=i.jsx("td",{className:o.cell,style:s.cell,children:i.jsx(u,{number:t.weekNumber,dates:t.dates})})),i.jsxs("tr",{className:o.row,style:s.row,children:[d,t.dates.map(function(f){return i.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:i.jsx(c,{displayMonth:t.displayMonth,date:f})},LJ(f))})]})}function fN(t,e,n){for(var r=n!=null&&n.ISOWeek?QM(e):d1(e,n),s=n!=null&&n.ISOWeek?$a(t):eo(t,n),o=mo(r,s),a=[],l=0;l<=o;l++)a.push(fn(s,l));var c=a.reduce(function(u,d){var f=n!=null&&n.ISOWeek?MJ(d):UJ(d,n),p=u.find(function(m){return m.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function hte(t,e){var n=fN(qn(t),Nd(t),e);if(e!=null&&e.useFixedWeeks){var r=$J(t,e);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],a=dy(o,6-r),l=fN(dy(o,1),a,e);n.push.apply(n,l)}}return n}function fte(t){var e,n,r,s=jt(),o=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,m=s.ISOWeek,y=hte(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:o,weekStartsOn:f,firstWeekContainsDate:p}),x=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:jee,S=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:dte,_=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:Eee;return i.jsxs("table",{id:t.id,className:a.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&i.jsx(x,{}),i.jsx("tbody",{className:a.tbody,style:l.tbody,children:y.map(function(v){return i.jsx(S,{displayMonth:t.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),i.jsx(_,{displayMonth:t.displayMonth})]})}function pte(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var mte=pte()?g.useLayoutEffect:g.useEffect,n0=!1,gte=0;function pN(){return"react-day-picker-".concat(++gte)}function vte(t){var e,n=t??(n0?pN():null),r=g.useState(n),s=r[0],o=r[1];return mte(function(){s===null&&o(pN())},[]),g.useEffect(function(){n0===!1&&(n0=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function xte(t){var e,n,r=jt(),s=r.dir,o=r.classNames,a=r.styles,l=r.components,c=sh().displayMonths,u=vte(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[o.month],p=a.month,m=t.displayIndex===0,y=t.displayIndex===c.length-1,x=!m&&!y;s==="rtl"&&(e=[m,y],y=e[0],m=e[1]),m&&(f.push(o.caption_start),p=He(He({},p),a.caption_start)),y&&(f.push(o.caption_end),p=He(He({},p),a.caption_end)),x&&(f.push(o.caption_between),p=He(He({},p),a.caption_between));var S=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:Cee;return i.jsxs("div",{className:f.join(" "),style:p,children:[i.jsx(S,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(fte,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function yte(t){var e=jt(),n=e.classNames,r=e.styles;return i.jsx("div",{className:n.months,style:r.months,children:t.children})}function wte(t){var e,n,r=t.initialProps,s=jt(),o=x1(),a=sh(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=He(He({},s.styles.root),s.style),p=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,x){var S;return He(He({},y),(S={},S[x]=r[x],S))},{}),m=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:yte;return i.jsx("div",He({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:i.jsx(m,{children:a.displayMonths.map(function(y,x){return i.jsx(xte,{displayIndex:x,displayMonth:y},x)})})}))}function bte(t){var e=t.children,n=WJ(t,["children"]);return i.jsx(uee,{initialProps:n,children:i.jsx(wee,{children:i.jsx(tte,{initialProps:n,children:i.jsx(Pee,{initialProps:n,children:i.jsx(Ree,{initialProps:n,children:i.jsx(Uee,{children:i.jsx(Jee,{children:e})})})})})})})}function _te(t){return i.jsx(bte,He({},t,{children:i.jsx(wte,{initialProps:t})}))}function hO({className:t,classNames:e,showOutsideDays:n=!0,...r}){return i.jsx(_te,{showOutsideDays:n,className:Ze("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ze("h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ze("h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>i.jsx(cI,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(z9,{className:"h-4 w-4"})},...r})}hO.displayName="Calendar";var fg="Popover",[fO,mne]=to(fg,[Nc]),oh=Nc(),[Ste,Yi]=fO(fg),pO=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!1}=t,l=oh(e),c=g.useRef(null),[u,d]=g.useState(!1),[f,p]=Aa({prop:r,defaultProp:s??!1,onChange:o,caller:fg});return i.jsx(yA,{...l,children:i.jsx(Ste,{scope:e,contentId:yo(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:a,children:n})})};pO.displayName=fg;var mO="PopoverAnchor",Cte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Yi(mO,n),o=oh(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(a(),()=>l()),[a,l]),i.jsx(Pm,{...o,...r,ref:e})});Cte.displayName=mO;var gO="PopoverTrigger",vO=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Yi(gO,n),o=oh(n),a=_t(e,s.triggerRef),l=i.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_O(s.open),...r,ref:a,onClick:Re(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Pm,{asChild:!0,...o,children:l})});vO.displayName=gO;var w1="PopoverPortal",[Ete,Tte]=fO(w1,{forceMount:void 0}),xO=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=Yi(w1,e);return i.jsx(Ete,{scope:e,forceMount:n,children:i.jsx(Do,{present:n||o.open,children:i.jsx(Ld,{asChild:!0,container:s,children:r})})})};xO.displayName=w1;var wc="PopoverContent",yO=g.forwardRef((t,e)=>{const n=Tte(wc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=Yi(wc,t.__scopePopover);return i.jsx(Do,{present:r||o.open,children:o.modal?i.jsx(jte,{...s,ref:e}):i.jsx(kte,{...s,ref:e})})});yO.displayName=wc;var Nte=Ia("PopoverContent.RemoveScroll"),jte=g.forwardRef((t,e)=>{const n=Yi(wc,t.__scopePopover),r=g.useRef(null),s=_t(e,r),o=g.useRef(!1);return g.useEffect(()=>{const a=r.current;if(a)return Xw(a)},[]),i.jsx(Qw,{as:Nte,allowPinchZoom:!0,children:i.jsx(wO,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Re(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),kte=g.forwardRef((t,e)=>{const n=Yi(wc,t.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return i.jsx(wO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),wO=g.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=Yi(wc,n),m=oh(n);return Kw(),i.jsx(Rm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Cc,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:i.jsx(Hw,{"data-state":_O(p.open),role:"dialog",id:p.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bO="PopoverClose",Pte=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Yi(bO,n);return i.jsx(Qe.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,()=>s.onOpenChange(!1))})});Pte.displayName=bO;var Ite="PopoverArrow",Ate=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=oh(n);return i.jsx(Gw,{...s,...r,ref:e})});Ate.displayName=Ite;function _O(t){return t?"open":"closed"}var Rte=pO,Dte=vO,Mte=xO,SO=yO;const Ote=Rte,Lte=Dte,CO=Fe.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>i.jsx(Mte,{children:i.jsx(SO,{ref:s,align:e,sideOffset:n,className:Ze("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));CO.displayName=SO.displayName;const Fte=Fe.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>i.jsx("div",{ref:s,role:n?"none":"separator","aria-orientation":e,className:Ze("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Fte.displayName="Separator";const Vte=()=>{g.useContext(wr);const{toast:t}=yr();Lc();const{ordens:e=[]}=ag(),{ordens:n=[]}=Zd();Jd(),eh();const{financeiro:r=[]}=th(),[s,o]=g.useState("graficos"),[a,l]=g.useState({from:fn(new Date,-30),to:new Date}),[c,u]=g.useState(null),[d,f]=g.useState(""),[p,m]=g.useState("all"),[y,x]=g.useState("grid"),[S,_]=g.useState(!1),v=[{label:"Últimos 7 dias",value:"7d",from:fn(new Date,-7),to:new Date},{label:"Últimos 30 dias",value:"30d",from:fn(new Date,-30),to:new Date},{label:"Últimos 90 dias",value:"90d",from:fn(new Date,-90),to:new Date},{label:"Este mês",value:"month",from:qn(new Date),to:Nd(new Date)},{label:"Mês passado",value:"lastMonth",from:qn(cN(new Date,1)),to:Nd(cN(new Date,1))},{label:"Este ano",value:"year",from:hy(new Date),to:rN(new Date)},{label:"Ano passado",value:"lastYear",from:hy(uN(new Date,1)),to:rN(uN(new Date,1))}];n.filter(P=>{const k=new Date(P.createdAt);return k>=a.from&&k<=a.to}),e.filter(P=>{const k=new Date(P.createdAt);return k>=a.from&&k<=a.to}),r.filter(P=>{const k=new Date(P.createdAt);return k>=a.from&&k<=a.to});const w=[{id:"vendas-diarias",title:"Vendas Diárias",description:"Evolução das vendas por dia",icon:$s,color:"bg-blue-500",type:"bar"},{id:"fluxo-caixa",title:"Fluxo de Caixa",description:"Entradas e saídas de dinheiro",icon:Jn,color:"bg-green-500",type:"line"},{id:"produtos-vendidos",title:"Produtos Mais Vendidos",description:"Ranking dos produtos por quantidade",icon:tr,color:"bg-purple-500",type:"horizontalBar"},{id:"categorias-vendas",title:"Vendas por Categoria",description:"Distribuição de vendas por categoria",icon:gv,color:"bg-orange-500",type:"pie"},{id:"clientes-top",title:"Top Clientes",description:"Clientes que mais compraram",icon:ps,color:"bg-indigo-500",type:"bar"},{id:"receitas-despesas",title:"Receitas vs Despesas",description:"Comparativo mensal de receitas e despesas",icon:er,color:"bg-emerald-500",type:"composed"},{id:"ticket-medio",title:"Ticket Médio",description:"Valor médio por venda ao longo do tempo",icon:Oh,color:"bg-cyan-500",type:"line"},{id:"conversao-vendas",title:"Taxa de Conversão",description:"Percentual de conversão de propostas em vendas",icon:vu,color:"bg-pink-500",type:"area"}],j=[{id:"vendas-por-periodo",title:"Vendas por Período",category:"Vendas",icon:Os,color:"bg-blue-500"},{id:"vendas-por-cliente",title:"Vendas por Cliente",category:"Vendas",icon:ps,color:"bg-indigo-500"},{id:"vendas-por-produto",title:"Vendas por Produto",category:"Vendas",icon:tr,color:"bg-purple-500"},{id:"vendas-por-categoria",title:"Vendas por Categoria",category:"Vendas",icon:Bl,color:"bg-orange-500"},{id:"vendas-por-vendedor",title:"Vendas por Vendedor",category:"Vendas",icon:Gr,color:"bg-green-500"},{id:"vendas-por-regiao",title:"Vendas por Região",category:"Vendas",icon:yp,color:"bg-red-500"},{id:"vendas-por-canal",title:"Vendas por Canal",category:"Vendas",icon:uI,color:"bg-cyan-500"},{id:"vendas-por-forma-pagamento",title:"Vendas por Forma de Pagamento",category:"Vendas",icon:px,color:"bg-yellow-500"},{id:"ticket-medio-cliente",title:"Ticket Médio por Cliente",category:"Vendas",icon:Oh,color:"bg-pink-500"},{id:"frequencia-compra",title:"Frequência de Compra",category:"Vendas",icon:Zo,color:"bg-teal-500"},{id:"receitas-periodo",title:"Receitas por Período",category:"Financeiro",icon:Jn,color:"bg-emerald-500"},{id:"despesas-periodo",title:"Despesas por Período",category:"Financeiro",icon:fa,color:"bg-red-500"},{id:"fluxo-caixa-detalhado",title:"Fluxo de Caixa Detalhado",category:"Financeiro",icon:er,color:"bg-green-500"},{id:"contas-receber",title:"Contas a Receber",category:"Financeiro",icon:Zo,color:"bg-yellow-500"},{id:"contas-pagar",title:"Contas a Pagar",category:"Financeiro",icon:Hr,color:"bg-orange-500"},{id:"margem-lucro",title:"Margem de Lucro",category:"Financeiro",icon:vu,color:"bg-purple-500"},{id:"roi-produtos",title:"ROI por Produto",category:"Financeiro",icon:$s,color:"bg-indigo-500"},{id:"custo-venda",title:"Custo por Venda",category:"Financeiro",icon:Oh,color:"bg-cyan-500"},{id:"lucratividade-categoria",title:"Lucratividade por Categoria",category:"Financeiro",icon:gv,color:"bg-pink-500"},{id:"projecao-receitas",title:"Projeção de Receitas",category:"Financeiro",icon:Jn,color:"bg-teal-500"},{id:"estoque-atual",title:"Estoque Atual",category:"Estoque",icon:tr,color:"bg-blue-500"},{id:"produtos-baixo-estoque",title:"Produtos com Baixo Estoque",category:"Estoque",icon:Hr,color:"bg-red-500"},{id:"produtos-sem-estoque",title:"Produtos sem Estoque",category:"Estoque",icon:Ir,color:"bg-red-600"},{id:"movimentacao-estoque",title:"Movimentação de Estoque",category:"Estoque",icon:fx,color:"bg-green-500"},{id:"giro-estoque",title:"Giro de Estoque",category:"Estoque",icon:Fh,color:"bg-purple-500"},{id:"valor-estoque",title:"Valor do Estoque",category:"Estoque",icon:er,color:"bg-yellow-500"},{id:"produtos-vencidos",title:"Produtos Vencidos",category:"Estoque",icon:Os,color:"bg-orange-500"},{id:"produtos-proximo-vencimento",title:"Produtos Próximos ao Vencimento",category:"Estoque",icon:Zo,color:"bg-yellow-600"},{id:"entradas-estoque",title:"Entradas de Estoque",category:"Estoque",icon:M9,color:"bg-green-600"},{id:"saidas-estoque",title:"Saídas de Estoque",category:"Estoque",icon:L9,color:"bg-red-600"},{id:"clientes-cadastrados",title:"Clientes Cadastrados",category:"Clientes",icon:ps,color:"bg-indigo-500"},{id:"clientes-ativos",title:"Clientes Ativos",category:"Clientes",icon:Pa,color:"bg-green-500"},{id:"clientes-inativos",title:"Clientes Inativos",category:"Clientes",icon:Ir,color:"bg-red-500"},{id:"novos-clientes",title:"Novos Clientes",category:"Clientes",icon:$n,color:"bg-blue-500"},{id:"clientes-fidelidade",title:"Clientes Fidelidade",category:"Clientes",icon:bf,color:"bg-yellow-500"},{id:"segmentacao-clientes",title:"Segmentação de Clientes",category:"Clientes",icon:NC,color:"bg-purple-500"},{id:"satisfacao-clientes",title:"Satisfação dos Clientes",category:"Clientes",icon:TC,color:"bg-pink-500"},{id:"clientes-potenciais",title:"Clientes Potenciais",category:"Clientes",icon:vu,color:"bg-cyan-500"},{id:"historico-cliente",title:"Histórico por Cliente",category:"Clientes",icon:Pr,color:"bg-teal-500"},{id:"geolocalizacao-clientes",title:"Geolocalização de Clientes",category:"Clientes",icon:yp,color:"bg-orange-500"},{id:"catalogo-produtos",title:"Catálogo de Produtos",category:"Produtos",icon:tr,color:"bg-blue-500"},{id:"produtos-mais-vendidos",title:"Produtos Mais Vendidos",category:"Produtos",icon:Jn,color:"bg-green-500"},{id:"produtos-menos-vendidos",title:"Produtos Menos Vendidos",category:"Produtos",icon:fa,color:"bg-red-500"},{id:"produtos-lucrativos",title:"Produtos Mais Lucrativos",category:"Produtos",icon:er,color:"bg-yellow-500"},{id:"produtos-sazonalidade",title:"Sazonalidade de Produtos",category:"Produtos",icon:Os,color:"bg-purple-500"},{id:"preco-produtos",title:"Análise de Preços",category:"Produtos",icon:Bl,color:"bg-indigo-500"},{id:"margem-produtos",title:"Margem por Produto",category:"Produtos",icon:Oh,color:"bg-cyan-500"},{id:"produtos-categoria",title:"Produtos por Categoria",category:"Produtos",icon:NC,color:"bg-orange-500"},{id:"produtos-fornecedor",title:"Produtos por Fornecedor",category:"Produtos",icon:Z9,color:"bg-teal-500"},{id:"produtos-promocao",title:"Produtos em Promoção",category:"Produtos",icon:dd,color:"bg-pink-500"},{id:"ordens-servico",title:"Ordens de Serviço",category:"Serviços",icon:Pr,color:"bg-blue-500"},{id:"servicos-concluidos",title:"Serviços Concluídos",category:"Serviços",icon:Pa,color:"bg-green-500"},{id:"servicos-pendentes",title:"Serviços Pendentes",category:"Serviços",icon:Zo,color:"bg-yellow-500"},{id:"servicos-atrasados",title:"Serviços Atrasados",category:"Serviços",icon:Hr,color:"bg-red-500"},{id:"tempo-medio-servico",title:"Tempo Médio de Serviço",category:"Serviços",icon:Zo,color:"bg-purple-500"},{id:"servicos-tecnico",title:"Serviços por Técnico",category:"Serviços",icon:Gr,color:"bg-indigo-500"},{id:"servicos-tipo",title:"Serviços por Tipo",category:"Serviços",icon:Bl,color:"bg-orange-500"},{id:"satisfacao-servicos",title:"Satisfação dos Serviços",category:"Serviços",icon:bf,color:"bg-yellow-500"},{id:"custos-servicos",title:"Custos dos Serviços",category:"Serviços",icon:er,color:"bg-green-500"},{id:"agendamentos",title:"Agendamentos",category:"Serviços",icon:Os,color:"bg-cyan-500"},{id:"performance-vendedores",title:"Performance dos Vendedores",category:"Performance",icon:F9,color:"bg-yellow-600"},{id:"metas-vendas",title:"Metas de Vendas",category:"Performance",icon:vu,color:"bg-purple-500"},{id:"conversao-leads",title:"Conversão de Leads",category:"Performance",icon:Jn,color:"bg-green-500"},{id:"tempo-resposta",title:"Tempo de Resposta",category:"Performance",icon:Zo,color:"bg-blue-500"},{id:"produtividade-equipe",title:"Produtividade da Equipe",category:"Performance",icon:fx,color:"bg-indigo-500"},{id:"eficiencia-processos",title:"Eficiência dos Processos",category:"Performance",icon:dd,color:"bg-yellow-500"},{id:"qualidade-atendimento",title:"Qualidade do Atendimento",category:"Performance",icon:bf,color:"bg-pink-500"},{id:"retencao-clientes",title:"Retenção de Clientes",category:"Performance",icon:TC,color:"bg-red-500"},{id:"crescimento-receita",title:"Crescimento da Receita",category:"Performance",icon:Jn,color:"bg-emerald-500"},{id:"market-share",title:"Market Share",category:"Performance",icon:gv,color:"bg-cyan-500"}],R=P=>{l({from:P.from,to:P.to})},L=async P=>{_(!0);try{await new Promise(k=>setTimeout(k,1e3)),t({title:"Relatório gerado!",description:"O relatório foi processado com sucesso."}),u(P)}catch{t({title:"Erro",description:"Erro ao gerar o relatório.",variant:"destructive"})}finally{_(!1)}},C=P=>{t({title:"Exportando...",description:`Relatório sendo exportado em formato ${P}`})},E=j.filter(P=>{const k=p==="all"||P.category===p,N=P.title.toLowerCase().includes(d.toLowerCase());return k&&N}),I=["all",...new Set(j.map(P=>P.category))];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Relatórios"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Análise completa e detalhada do seu negócio"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs(Ote,{children:[i.jsx(Lte,{asChild:!0,children:i.jsxs(Q,{variant:"outline",className:"w-full sm:w-auto sm:min-w-[280px] justify-start",children:[i.jsx(Os,{className:"mr-2 h-4 w-4"}),a!=null&&a.from?a.to?i.jsxs(i.Fragment,{children:[Xs(a.from,"dd/MM/yyyy")," - ",Xs(a.to,"dd/MM/yyyy")]}):Xs(a.from,"dd/MM/yyyy"):i.jsx("span",{children:"Selecione um período"})]})}),i.jsx(CO,{className:"w-auto p-0",align:"end",children:i.jsx(hO,{initialFocus:!0,mode:"range",defaultMonth:a==null?void 0:a.from,selected:a,onSelect:l,numberOfMonths:2})})]}),i.jsxs(dt,{onValueChange:P=>{const k=v.find(N=>N.value===P);k&&R(k)},children:[i.jsx(ot,{className:"w-full sm:w-auto sm:min-w-[180px]",children:i.jsx(ht,{placeholder:"Período rápido"})}),i.jsx(it,{children:v.map(P=>i.jsx(oe,{value:P.value,children:P.label},P.value))})]})]})]}),i.jsxs(lc,{value:s,onValueChange:o,className:"w-full",children:[i.jsxs(La,{className:"grid w-full grid-cols-2",children:[i.jsxs(Nn,{value:"graficos",className:"flex items-center gap-2",children:[i.jsx($s,{className:"h-4 w-4"}),"Relatórios Gráficos"]}),i.jsxs(Nn,{value:"lista",className:"flex items-center gap-2",children:[i.jsx(jC,{className:"h-4 w-4"}),"Relatórios em Lista"]})]}),i.jsx(jn,{value:"graficos",className:"space-y-6 pt-6",children:i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map(P=>i.jsxs(un,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:[i.jsxs(bn,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:`p-2 rounded-lg ${P.color}`,children:i.jsx(P.icon,{className:"h-5 w-5 text-white"})}),i.jsx(dr,{variant:"secondary",className:"text-xs",children:P.type})]}),i.jsx(_n,{className:"text-lg",children:P.title}),i.jsx(ma,{className:"text-sm",children:P.description})]}),i.jsx(dn,{className:"pt-0",children:i.jsxs(Q,{onClick:()=>L(P.id),className:"w-full",disabled:S,children:[S?i.jsx(Fh,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Visualizar"]})})]},P.id))})}),i.jsxs(jn,{value:"lista",className:"space-y-6 pt-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx($r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(me,{placeholder:"Buscar relatórios...",value:d,onChange:P=>f(P.target.value),className:"pl-10"})]}),i.jsxs(dt,{value:p,onValueChange:m,children:[i.jsx(ot,{className:"w-full sm:w-auto sm:min-w-[200px]",children:i.jsx(ht,{placeholder:"Categoria"})}),i.jsx(it,{children:I.map(P=>i.jsx(oe,{value:P,children:P==="all"?"Todas as Categorias":P},P))})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q,{variant:y==="grid"?"default":"outline",size:"sm",onClick:()=>x("grid"),children:i.jsx(q9,{className:"h-4 w-4"})}),i.jsx(Q,{variant:y==="list"?"default":"outline",size:"sm",onClick:()=>x("list"),children:i.jsx(jC,{className:"h-4 w-4"})})]})]}),i.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:Ze("gap-4",y==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"space-y-3"),children:i.jsx(gp,{children:E.map((P,k)=>i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:k*.05},children:y==="grid"?i.jsxs(un,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer h-full",children:[i.jsxs(bn,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:`p-2 rounded-lg ${P.color}`,children:i.jsx(P.icon,{className:"h-5 w-5 text-white"})}),i.jsx(dr,{variant:"outline",className:"text-xs",children:P.category})]}),i.jsx(_n,{className:"text-base",children:P.title})]}),i.jsx(dn,{className:"pt-0",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Q,{size:"sm",onClick:()=>L(P.id),className:"flex-1",disabled:S,children:[S?i.jsx(Fh,{className:"h-3 w-3 animate-spin mr-1"}):i.jsx(Ul,{className:"h-3 w-3 mr-1"}),"Ver"]}),i.jsx(Q,{size:"sm",variant:"outline",onClick:()=>C("PDF"),children:i.jsx(sc,{className:"h-3 w-3"})})]})})]}):i.jsx(un,{className:"group hover:shadow-md transition-all duration-300 cursor-pointer",children:i.jsx(dn,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${P.color}`,children:i.jsx(P.icon,{className:"h-4 w-4 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:P.title}),i.jsx("p",{className:"text-sm text-slate-500",children:P.category})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Q,{size:"sm",onClick:()=>L(P.id),disabled:S,children:[S?i.jsx(Fh,{className:"h-3 w-3 animate-spin mr-1"}):i.jsx(Ul,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),i.jsx(Q,{size:"sm",variant:"outline",onClick:()=>C("PDF"),children:i.jsx(sc,{className:"h-3 w-3"})}),i.jsx(Q,{size:"sm",variant:"outline",onClick:()=>C("Excel"),children:i.jsx(Pr,{className:"h-3 w-3"})})]})]})})})},P.id))})}),i.jsx("div",{className:"mt-8 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("span",{children:["Total de relatórios: ",E.length]}),i.jsxs("span",{children:["Categoria: ",p==="all"?"Todas":p]})]})})]})]})]})},mN={"pt-BR":{"nav.dashboard":"Dashboard","nav.clientes":"Clientes","nav.os":"Ordens de Serviço","nav.ov":"Ordens de Venda","nav.estoque":"Estoque","nav.financeiro":"Financeiro","nav.relatorios":"Relatórios","nav.configuracoes":"Configurações","config.titulo":"Configurações","config.descricao":"Gerencie todas as configurações do sistema","config.salvar":"Salvar Configurações","config.restaurarPadroes":"Restaurar Padrões","config.tabs.personalizacao":"Personalização","config.tabs.usuarios":"Usuários","config.tabs.seguranca":"Segurança","config.tabs.impressao":"Impressão","config.tabs.sistema":"Sistema","config.tabs.loja":"Loja","config.personalizacao.titulo":"Personalização do Sistema","config.personalizacao.descricao":"Configure a aparência e identidade visual do sistema","config.tema":"Tema","config.tema.descricao":"Escolha entre tema claro, escuro ou automático do sistema","config.tema.light":"Claro","config.tema.dark":"Escuro","config.tema.system":"Sistema","config.corPrimaria":"Cor Primária","config.corPrimaria.descricao":"Cor principal usada em botões, links e elementos destacados","config.corSecundaria":"Cor Secundária","config.corSecundaria.descricao":"Cor complementar usada em gradientes e elementos secundários","config.nomeEmpresa":"Nome da Empresa","config.nomeEmpresa.descricao":"Nome que aparecerá no cabeçalho e título do sistema","config.logoEmpresa":"Logo da Empresa","config.logoEmpresa.descricao":"Imagem que aparecerá no cabeçalho do sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal da interface do usuário","config.idioma.pt-BR":"Português (Brasil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Español","config.idioma.zh-CN":"中文 (简体)","config.idioma ja-JP":"日本語","config.usuarios.titulo":"Configurações de Usuários","config.usuarios.descricao":"Gerencie configurações relacionadas aos usuários do sistema","config.permitirCadastro":"Permitir Cadastro","config.permitirCadastro.descricao":"Permite que novos usuários se cadastrem no sistema","config.requerAprovacao":"Requer Aprovação","config.requerAprovacao.descricao":"Novos cadastros precisam ser aprovados por um administrador","config.limiteUsuarios":"Limite de Usuários","config.limiteUsuarios.descricao":"Número máximo de usuários permitidos no sistema","config.notificacaoNovosUsuarios":"Notificar Novos Usuários","config.notificacaoNovosUsuarios.descricao":"Enviar notificações quando novos usuários se cadastrarem","usuarios.tipos.admin":"Administrador","usuarios.tipos.financeiro":"Financeiro","usuarios.tipos.comum":"Comum","usuarios.status.ativo":"Ativo","usuarios.status.inativo":"Inativo","usuarios.erros.nomeObrigatorio":"Nome é obrigatório","usuarios.erros.nomeMinimo":"Nome deve ter pelo menos 2 caracteres","usuarios.erros.emailObrigatorio":"Email é obrigatório","usuarios.erros.emailInvalido":"Email inválido","usuarios.erros.telefoneInvalido":"Telefone inválido","usuarios.edicao.titulo":"Editar Usuário","usuarios.edicao.descricao":"Edite as informações do usuário","usuarios.edicao.cancelar":"Cancelar","usuarios.edicao.salvar":"Salvar","usuarios.edicao.salvando":"Salvando...","usuarios.edicao.erro":"Erro ao salvar","usuarios.edicao.erroDescricao":"Não foi possível salvar as alterações","usuarios.remocao.titulo":"Remover Usuário","usuarios.remocao.descricao":"Tem certeza que deseja remover este usuário?","usuarios.remocao.cancelar":"Cancelar","usuarios.remocao.confirmar":"Remover","usuarios.remocao.removendo":"Removendo...","usuarios.remocao.erro":"Erro ao remover","usuarios.remocao.erroDescricao":"Não foi possível remover o usuário","usuarios.remocao.erroConfirmacao":"Confirmação necessária","usuarios.remocao.erroConfirmacaoDescricao":'Digite "CONFIRMAR" para remover o usuário',"usuarios.remocao.aviso.titulo":"Atenção!","usuarios.remocao.aviso.descricao":"Esta ação não pode ser desfeita.","usuarios.remocao.aviso.item1":"O usuário perderá acesso ao sistema","usuarios.remocao.aviso.item2":"Todos os dados do usuário serão removidos","usuarios.remocao.aviso.item3":"Esta ação não pode ser desfeita","usuarios.remocao.confirmacao.label":"Confirmação","usuarios.remocao.confirmacao.descricao":'Digite "CONFIRMAR" para confirmar a remoção',"usuarios.remocao.confirmacao.placeholder":"CONFIRMAR","usuarios.cadastro.form.nome":"Nome","usuarios.cadastro.form.nomePlaceholder":"Digite o nome completo","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Digite o email","usuarios.cadastro.form.telefone":"Telefone","usuarios.cadastro.form.telefonePlaceholder":"Digite o telefone","usuarios.cadastro.form.tipo":"Tipo de Usuário","usuarios.cadastro.form.senha":"Senha","usuarios.cadastro.form.senhaPlaceholder":"Digite a senha","usuarios.cadastro.form.confirmarSenha":"Confirmar Senha","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirme a senha","usuarios.listagem.titulo":"Usuários","usuarios.listagem.descricao":"Gerencie os usuários do sistema","usuarios.filtros.titulo":"Filtros","usuarios.busca":"Buscar","usuarios.busca.placeholder":"Buscar por nome ou email...","usuarios.filtros.tipo":"Tipo","usuarios.filtros.status":"Status","usuarios.filtros.todos":"Todos","usuarios.lista.titulo":"Lista de Usuários","usuarios.lista.descricao":"Usuários encontrados","usuarios.adicionar":"Adicionar Usuário","usuarios.tabela.nome":"Nome","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Tipo","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Último Acesso","usuarios.tabela.acoes":"Ações","usuarios.lista.vazia":"Nenhum usuário encontrado","config.seguranca.titulo":"Configurações de Segurança","config.seguranca.descricao":"Configure as políticas de segurança e autenticação","config.autenticacaoDoisFatores":"Autenticação 2 Fatores","config.autenticacaoDoisFatores.descricao":"Requer segundo fator de autenticação para login","config.tempoSessao":"Tempo da Sessão (min)","config.tempoSessao.descricao":"Tempo em minutos antes da sessão expirar automaticamente","config.tentativasLogin":"Tentativas de Login","config.tentativasLogin.descricao":"Número de tentativas de login antes do bloqueio","config.bloqueioAutomatico":"Bloqueio Automático","config.bloqueioAutomatico.descricao":"Bloqueia automaticamente após tentativas falhas","config.auditoriaAtivada":"Auditoria Ativada","config.auditoriaAtivada.descricao":"Registra todas as ações dos usuários no sistema","config.impressao.titulo":"Configurações de Impressão","config.impressao.descricao":"Configure as opções padrão para impressão de documentos","config.formatoPadrao":"Formato Padrão","config.formatoPadrao.descricao":"Formato de papel padrão para impressões","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientação","config.orientacao.descricao":"Orientação padrão da página para impressões","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisagem","config.margens":"Margens","config.margens.descricao":"Configuração das margens padrão para impressões","config.margens.normal":"Normal","config.margens.estreita":"Estreita","config.margens.larga":"Larga","config.cabecalhoPersonalizado":"Cabeçalho Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir cabeçalho personalizado nas impressões","config.rodapePersonalizado":"Rodapé Personalizado","config.rodapePersonalizado.descricao":"Incluir rodapé personalizado nas impressões","config.sistema.titulo":"Configurações do Sistema","config.sistema.descricao":"Configurações técnicas e de performance do sistema","config.backupAutomatico":"Backup Automático","config.backupAutomatico.descricao":"Realizar backups automáticos dos dados","config.frequenciaBackup":"Frequência Backup","config.frequenciaBackup.descricao":"Com que frequência os backups devem ser realizados","config.frequencia.diario":"Diário","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensal","config.notificacoesEmail":"Notificações Email","config.notificacoesEmail.descricao":"Enviar notificações importantes por email","config.cacheAtivo":"Cache Ativo","config.cacheAtivo.descricao":"Ativar sistema de cache para melhorar performance","config.logsAtivo":"Logs Ativo","config.logsAtivo.descricao":"Manter registros detalhados das atividades do sistema","msg.configuracoesSalvas":"Configurações salvas com sucesso!","msg.configuracoesRestauradas":"Configurações restauradas para os padrões!","msg.descricaoRestaurada":"Todas as configurações foram restauradas para os valores padrão.","msg.arquivoInvalido":"Arquivo inválido! Por favor, selecione uma imagem.","msg.logoRemovido":"Logo removido com sucesso!","msg.erroUpload":"Erro no upload da imagem. Tente novamente.","common.salvar":"Salvar","common.cancelar":"Cancelar","config.logoDescricao":"Arraste uma imagem ou clique para selecionar","config.logoTipos":"PNG, JPG ou GIF (máx. 5MB)","config.removerLogo":"Remover Logo","config.selecionarArquivo":"clique para selecionar"},"en-US":{"nav.dashboard":"Dashboard","nav.clientes":"Clients","nav.os":"Service Orders","nav.ov":"Sales Orders","nav.estoque":"Inventory","nav.financeiro":"Financial","nav.relatorios":"Reports","nav.configuracoes":"Settings","config.titulo":"Settings","config.descricao":"Manage all system settings","config.salvar":"Save Settings","config.restaurarPadroes":"Restore Defaults","config.personalizacao.titulo":"System Personalization","config.personalizacao.descricao":"Configure system appearance and visual identity","config.tema":"Theme","config.tema.descricao":"Choose between light, dark or system automatic theme","config.tema.light":"Light","config.tema.dark":"Dark","config.tema.system":"System","config.corPrimaria":"Primary Color","config.corPrimaria.descricao":"Main color used in buttons, links and highlighted elements","config.corSecundaria":"Secondary Color","config.corSecundaria.descricao":"Complementary color used in gradients and secondary elements","config.nomeEmpresa":"Company Name","config.nomeEmpresa.descricao":"Name that will appear in the header and system title","config.logoEmpresa":"Company Logo","config.logoEmpresa.descricao":"Image that will appear in the system header","config.idioma":"Language","config.idioma.descricao":"Main language of the user interface","config.idioma.pt-BR":"Portuguese (Brazil)","config.idioma.en-US":"English (US)","config.idioma.es-ES":"Spanish","config.idioma.zh-CN":"Chinese (Simplified)","config.idioma ja-JP":"Japanese","config.usuarios.titulo":"User Settings","config.usuarios.descricao":"Manage user-related system settings","config.permitirCadastro":"Allow Registration","config.permitirCadastro.descricao":"Allows new users to register in the system","config.requerAprovacao":"Require Approval","config.requerAprovacao.descricao":"New registrations need to be approved by an administrator","config.limiteUsuarios":"User Limit","config.limiteUsuarios.descricao":"Maximum number of users allowed in the system","config.notificacaoNovosUsuarios":"Notify New Users","config.notificacaoNovosUsuarios.descricao":"Send notifications when new users register","usuarios.tipos.admin":"Administrator","usuarios.tipos.financeiro":"Financial","usuarios.tipos.comum":"Common","usuarios.status.ativo":"Active","usuarios.status.inativo":"Inactive","usuarios.erros.nomeObrigatorio":"Name is required","usuarios.erros.nomeMinimo":"Name must have at least 2 characters","usuarios.erros.emailObrigatorio":"Email is required","usuarios.erros.emailInvalido":"Invalid email","usuarios.erros.telefoneInvalido":"Invalid phone","usuarios.edicao.titulo":"Edit User","usuarios.edicao.descricao":"Edit user information","usuarios.edicao.cancelar":"Cancel","usuarios.edicao.salvar":"Save","usuarios.edicao.salvando":"Saving...","usuarios.edicao.erro":"Error saving","usuarios.edicao.erroDescricao":"Could not save changes","usuarios.remocao.titulo":"Remove User","usuarios.remocao.descricao":"Are you sure you want to remove this user?","usuarios.remocao.cancelar":"Cancel","usuarios.remocao.confirmar":"Remove","usuarios.remocao.removendo":"Removing...","usuarios.remocao.erro":"Error removing","usuarios.remocao.erroDescricao":"Could not remove user","usuarios.remocao.erroConfirmacao":"Confirmation required","usuarios.remocao.erroConfirmacaoDescricao":'Type "CONFIRM" to remove the user',"usuarios.remocao.aviso.titulo":"Warning!","usuarios.remocao.aviso.descricao":"This action cannot be undone.","usuarios.remocao.aviso.item1":"The user will lose access to the system","usuarios.remocao.aviso.item2":"All user data will be removed","usuarios.remocao.aviso.item3":"This action cannot be undone","usuarios.remocao.confirmacao.label":"Confirmation","usuarios.remocao.confirmacao.descricao":'Type "CONFIRM" to confirm removal',"usuarios.remocao.confirmacao.placeholder":"CONFIRM","usuarios.cadastro.form.nome":"Name","usuarios.cadastro.form.nomePlaceholder":"Enter full name","usuarios.cadastro.form.email":"Email","usuarios.cadastro.form.emailPlaceholder":"Enter email","usuarios.cadastro.form.telefone":"Phone","usuarios.cadastro.form.telefonePlaceholder":"Enter phone","usuarios.cadastro.form.tipo":"User Type","usuarios.cadastro.form.senha":"Password","usuarios.cadastro.form.senhaPlaceholder":"Enter password","usuarios.cadastro.form.confirmarSenha":"Confirm Password","usuarios.cadastro.form.confirmarSenhaPlaceholder":"Confirm password","usuarios.listagem.titulo":"Users","usuarios.listagem.descricao":"Manage system users","usuarios.filtros.titulo":"Filters","usuarios.busca":"Search","usuarios.busca.placeholder":"Search by name or email...","usuarios.filtros.tipo":"Type","usuarios.filtros.status":"Status","usuarios.filtros.todos":"All","usuarios.lista.titulo":"User List","usuarios.lista.descricao":"Users found","usuarios.adicionar":"Add User","usuarios.tabela.nome":"Name","usuarios.tabela.email":"Email","usuarios.tabela.tipo":"Type","usuarios.tabela.status":"Status","usuarios.tabela.ultimoAcesso":"Last Access","usuarios.tabela.acoes":"Actions","usuarios.lista.vazia":"No users found","config.seguranca.titulo":"Security Settings","config.seguranca.descricao":"Configure security and authentication policies","config.autenticacaoDoisFatores":"Two-Factor Authentication","config.autenticacaoDoisFatores.descricao":"Requires second authentication factor for login","config.tempoSessao":"Session Time (min)","config.tempoSessao.descricao":"Time in minutes before session expires automatically","config.tentativasLogin":"Login Attempts","config.tentativasLogin.descricao":"Number of login attempts before blocking","config.bloqueioAutomatico":"Automatic Lock","config.bloqueioAutomatico.descricao":"Automatically blocks after failed attempts","config.auditoriaAtivada":"Audit Enabled","config.auditoriaAtivada.descricao":"Records all user actions in the system","config.impressao.titulo":"Print Settings","config.impressao.descricao":"Configure default options for document printing","config.formatoPadrao":"Default Format","config.formatoPadrao.descricao":"Default paper format for printing","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Letter","config.orientacao":"Orientation","config.orientacao.descricao":"Default page orientation for printing","config.orientacao.retrato":"Portrait","config.orientacao.paisagem":"Landscape","config.margens":"Margins","config.margens.descricao":"Default margin configuration for printing","config.margens.normal":"Normal","config.margens.estreita":"Narrow","config.margens.larga":"Wide","config.cabecalhoPersonalizado":"Custom Header","config.cabecalhoPersonalizado.descricao":"Include custom header in prints","config.rodapePersonalizado":"Custom Footer","config.rodapePersonalizado.descricao":"Include custom footer in prints","config.sistema.titulo":"System Settings","config.sistema.descricao":"Technical and performance system settings","config.backupAutomatico":"Automatic Backup","config.backupAutomatico.descricao":"Perform automatic data backups","config.frequenciaBackup":"Backup Frequency","config.frequenciaBackup.descricao":"How often backups should be performed","config.frequencia.diario":"Daily","config.frequencia.semanal":"Weekly","config.frequencia.mensal":"Monthly","config.notificacoesEmail":"Email Notifications","config.notificacoesEmail.descricao":"Send important notifications by email","config.cacheAtivo":"Cache Active","config.cacheAtivo.descricao":"Enable cache system to improve performance","config.logsAtivo":"Logs Active","config.logsAtivo.descricao":"Keep detailed records of system activities","msg.configuracoesSalvas":"Settings saved successfully!","msg.configuracoesRestauradas":"Settings restored to defaults!","msg.descricaoRestaurada":"All settings have been restored to default values.","msg.arquivoInvalido":"Invalid file! Please select an image.","msg.logoRemovido":"Logo removed successfully!","msg.erroUpload":"Upload error. Please try again.","common.salvar":"Save","common.cancelar":"Cancel","config.logoDescricao":"Drag an image or click to select","config.logoTipos":"PNG, JPG or GIF (max. 5MB)","config.removerLogo":"Remove Logo","config.selecionarArquivo":"click to select"},"es-ES":{"nav.dashboard":"Panel","nav.clientes":"Clientes","nav.os":"Órdenes de Servicio","nav.ov":"Órdenes de Venta","nav.estoque":"Inventario","nav.financeiro":"Financiero","nav.relatorios":"Reportes","nav.configuracoes":"Configuraciones","config.titulo":"Configuraciones","config.descricao":"Gestionar todas las configuraciones del sistema","config.salvar":"Guardar Configuraciones","config.restaurarPadroes":"Restaurar Predeterminados","config.personalizacao.titulo":"Personalización del Sistema","config.personalizacao.descricao":"Configurar apariencia e identidad visual del sistema","config.tema":"Tema","config.tema.descricao":"Elegir entre tema claro, oscuro o automático del sistema","config.tema.light":"Claro","config.tema.dark":"Oscuro","config.tema.system":"Sistema","config.corPrimaria":"Color Primario","config.corPrimaria.descricao":"Color principal usado en botones, enlaces y elementos destacados","config.corSecundaria":"Color Secundario","config.corSecundaria.descricao":"Color complementario usado en gradientes y elementos secundarios","config.nomeEmpresa":"Nombre de la Empresa","config.nomeEmpresa.descricao":"Nombre que aparecerá en el encabezado y título del sistema","config.logoEmpresa":"Logo de la Empresa","config.logoEmpresa.descricao":"Imagen que aparecerá en el encabezado del sistema","config.idioma":"Idioma","config.idioma.descricao":"Idioma principal de la interfaz de usuario","config.idioma.pt-BR":"Portugués (Brasil)","config.idioma.en-US":"Inglés (EE.UU.)","config.idioma.es-ES":"Español","config.idioma.zh-CN":"Chino (Simplificado)","config.idioma ja-JP":"Japonés","config.usuarios.titulo":"Configuraciones de Usuarios","config.usuarios.descricao":"Gestionar configuraciones relacionadas con usuarios del sistema","config.permitirCadastro":"Permitir Registro","config.permitirCadastro.descricao":"Permite que nuevos usuarios se registren en el sistema","config.requerAprovacao":"Requiere Aprobación","config.requerAprovacao.descricao":"Nuevos registros necesitan ser aprobados por un administrador","config.limiteUsuarios":"Límite de Usuários","config.limiteUsuarios.descricao":"Número máximo de usuarios permitidos en el sistema","config.notificacaoNovosUsuarios":"Notificar Nuevos Usuarios","config.notificacaoNovosUsuarios.descricao":"Enviar notificaciones cuando nuevos usuarios se registren","config.seguranca.titulo":"Configuraciones de Seguridad","config.seguranca.descricao":"Configurar políticas de seguridad y autenticación","config.autenticacaoDoisFatores":"Autenticación de Dos Factores","config.autenticacaoDoisFatores.descricao":"Requiere segundo factor de autenticación para inicio de sesión","config.tempoSessao":"Tiempo de Sesión (min)","config.tempoSessao.descricao":"Tiempo en minutos antes de que la sesión expire automáticamente","config.tentativasLogin":"Intentos de Inicio de Sesión","config.tentativasLogin.descricao":"Número de intentos de inicio de sesión antes del bloqueo","config.bloqueioAutomatico":"Bloqueo Automático","config.bloqueioAutomatico.descricao":"Bloquea automáticamente después de intentos fallidos","config.auditoriaAtivada":"Auditoría Activada","config.auditoriaAtivada.descricao":"Registra todas las acciones de los usuarios en el sistema","config.impressao.titulo":"Configuraciones de Impresión","config.impressao.descricao":"Configurar opciones predeterminadas para impresión de documentos","config.formatoPadrao":"Formato Predeterminado","config.formatoPadrao.descricao":"Formato de papel predeterminado para impresiones","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"Carta","config.orientacao":"Orientación","config.orientacao.descricao":"Orientación predeterminada de la página para impresiones","config.orientacao.retrato":"Retrato","config.orientacao.paisagem":"Paisaje","config.margens":"Márgenes","config.margens.descricao":"Configuración de los márgenes predeterminados para impresiones","config.margens.normal":"Normal","config.margens.estreita":"Estrecha","config.margens.larga":"Ancha","config.cabecalhoPersonalizado":"Encabezado Personalizado","config.cabecalhoPersonalizado.descricao":"Incluir encabezado personalizado en las impresiones","config.rodapePersonalizado":"Pie de Página Personalizado","config.rodapePersonalizado.descricao":"Incluir pie de página personalizado en las impresiones","config.sistema.titulo":"Configuraciones del Sistema","config.sistema.descricao":"Configuraciones técnicas y de rendimiento del sistema","config.backupAutomatico":"Copia de Seguridad Automática","config.backupAutomatico.descricao":"Realizar copias de seguridad automáticas de los datos","config.frequenciaBackup":"Frecuencia de Copia de Seguridad","config.frequenciaBackup.descricao":"Con qué frecuencia deben realizarse las copias de seguridad","config.frequencia.diario":"Diario","config.frequencia.semanal":"Semanal","config.frequencia.mensal":"Mensual","config.notificacoesEmail":"Notificaciones por Correo","config.notificacoesEmail.descricao":"Enviar notificaciones importantes por correo electrónico","config.cacheAtivo":"Caché Activo","config.cacheAtivo.descricao":"Activar sistema de caché para mejorar el rendimiento","config.logsAtivo":"Registros Activos","config.logsAtivo.descricao":"Mantener registros detallados de las actividades del sistema","msg.configuracoesSalvas":"¡Configuraciones guardadas exitosamente!","msg.configuracoesRestauradas":"¡Configuraciones restauradas a los valores predeterminados!","msg.descricaoRestaurada":"Todas las configuraciones han sido restauradas a los valores predeterminados.","msg.arquivoInvalido":"¡Archivo inválido! Por favor selecciona una imagen.","msg.logoRemovido":"¡Logo eliminado exitosamente!","msg.erroUpload":"Error en la carga. Inténtalo de nuevo.","common.salvar":"Guardar","common.cancelar":"Cancelar","config.logoDescricao":"Arrastra una imagen o haz clic para seleccionar","config.logoTipos":"PNG, JPG o GIF (máx. 5MB)","config.removerLogo":"Eliminar Logo","config.selecionarArquivo":"haz clic para seleccionar"},"zh-CN":{"nav.dashboard":"仪表板","nav.clientes":"客户","nav.os":"服务订单","nav.ov":"销售订单","nav.estoque":"库存","nav.financeiro":"财务","nav.relatorios":"报告","nav.configuracoes":"设置","config.titulo":"设置","config.descricao":"管理系统所有设置","config.salvar":"保存设置","config.restaurarPadroes":"恢复默认值","config.personalizacao.titulo":"系统个性化","config.personalizacao.descricao":"配置系统外观和视觉标识","config.tema":"主题","config.tema.descricao":"在浅色、深色或系统自动主题之间选择","config.tema.light":"浅色","config.tema.dark":"深色","config.tema.system":"系统","config.corPrimaria":"主色","config.corPrimaria.descricao":"按钮、链接和突出元素中使用的主色","config.corSecundaria":"副色","config.corSecundaria.descricao":"渐变和次要元素中使用的互补色","config.nomeEmpresa":"公司名称","config.nomeEmpresa.descricao":"将显示在系统标题和页眉中的名称","config.logoEmpresa":"公司标志","config.logoEmpresa.descricao":"将显示在系统页眉中的图像","config.idioma":"语言","config.idioma.descricao":"用户界面的主要语言","config.idioma.pt-BR":"葡萄牙语（巴西）","config.idioma.en-US":"英语（美国）","config.idioma.es-ES":"西班牙语","config.idioma.zh-CN":"中文（简体）","config.idioma ja-JP":"日语","config.usuarios.titulo":"用户设置","config.usuarios.descricao":"管理系统用户相关设置","config.permitirCadastro":"允许注册","config.permitirCadastro.descricao":"允许新用户在系统中注册","config.requerAprovacao":"需要批准","config.requerAprovacao.descricao":"新注册需要管理员批准","config.limiteUsuarios":"用户限制","config.limiteUsuarios.descricao":"系统中允许的最大用户数","config.notificacaoNovosUsuarios":"通知新用户","config.notificacaoNovosUsuarios.descricao":"新用户注册时发送通知","config.seguranca.titulo":"安全设置","config.seguranca.descricao":"配置安全和认证策略","config.autenticacaoDoisFatores":"双因素认证","config.autenticacaoDoisFatores.descricao":"登录需要第二认证因素","config.tempoSessao":"会话时间（分钟）","config.tempoSessao.descricao":"会话自动过期前的分钟数","config.tentativasLogin":"登录尝试","config.tentativasLogin.descricao":"阻塞前的登录尝试次数","config.bloqueioAutomatico":"自动锁定","config.bloqueioAutomatico.descricao":"失败尝试后自动阻塞","config.auditoriaAtivada":"启用审计","config.auditoriaAtivada.descricao":"记录系统中所有用户操作","config.impressao.titulo":"打印设置","config.impressao.descricao":"配置文档打印的默认选项","config.formatoPadrao":"默认格式","config.formatoPadrao.descricao":"打印的默认纸张格式","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"信纸","config.orientacao":"方向","config.orientacao.descricao":"打印的默认页面方向","config.orientacao.retrato":"纵向","config.orientacao.paisagem":"横向","config.margens":"边距","config.margens.descricao":"打印的默认边距配置","config.margens.normal":"正常","config.margens.estreita":"窄","config.margens.larga":"宽","config.cabecalhoPersonalizado":"自定义页眉","config.cabecalhoPersonalizado.descricao":"在打印中包含自定义页眉","config.rodapePersonalizado":"自定义页脚","config.rodapePersonalizado.descricao":"在打印中包含自定义页脚","config.sistema.titulo":"系统设置","config.sistema.descricao":"系统技术和性能设置","config.backupAutomatico":"自动备份","config.backupAutomatico.descricao":"执行数据自动备份","config.frequenciaBackup":"备份频率","config.frequenciaBackup.descricao":"备份应执行的频率","config.frequencia.diario":"每日","config.frequencia.semanal":"每周","config.frequencia.mensal":"每月","config.notificacoesEmail":"电子邮件通知","config.notificacoesEmail.descricao":"通过电子邮件发送重要通知","config.cacheAtivo":"缓存激活","config.cacheAtivo.descricao":"启用缓存系统以提高性能","config.logsAtivo":"日志激活","config.logsAtivo.descricao":"保持系统活动的详细记录","msg.configuracoesSalvas":"设置保存成功！","msg.configuracoesRestauradas":"设置已恢复为默认值！","msg.descricaoRestaurada":"所有设置已恢复为默认值。","msg.arquivoInvalido":"无效文件！请选择图片。","msg.logoRemovido":"标志移除成功！","msg.erroUpload":"上传错误。请重试。","common.salvar":"保存","common.cancelar":"取消","config.logoDescricao":"拖拽图片或点击选择","config.logoTipos":"PNG、JPG 或 GIF（最大 5MB）","config.removerLogo":"移除标志","config.selecionarArquivo":"点击选择"},"ja-JP":{"nav.dashboard":"ダッシュボード","nav.clientes":"クライアント","nav.os":"サービス注文","nav.ov":"販売注文","nav.estoque":"在庫","nav.financeiro":"財務","nav.relatorios":"レポート","nav.configuracoes":"設定","config.titulo":"設定","config.descricao":"システムのすべての設定を管理","config.salvar":"設定を保存","config.restaurarPadroes":"デフォルトに戻す","config.personalizacao.titulo":"システムパーソナライズ","config.personalizacao.descricao":"システムの外観と視覚的アイデンティティを構成","config.tema":"テーマ","config.tema.descricao":"ライト、ダーク、またはシステム自動テーマから選択","config.tema.light":"ライト","config.tema.dark":"ダーク","config.tema.system":"システム","config.corPrimaria":"プライマリカラー","config.corPrimaria.descricao":"ボタン、リンク、強調要素で使用されるメインカラー","config.corSecundaria":"セカンダリカラー","config.corSecundaria.descricao":"グラデーションとセカンダリ要素で使用される補完カラー","config.nomeEmpresa":"会社名","config.nomeEmpresa.descricao":"システムのタイトルとヘッダーに表示される名前","config.logoEmpresa":"会社のロゴ","config.logoEmpresa.descricao":"システムのヘッダーに表示される画像","config.idioma":"言語","config.idioma.descricao":"ユーザーインターフェースの主要言語","config.idioma.pt-BR":"ポルトガル語（ブラジル）","config.idioma.en-US":"英語（米国）","config.idioma.es-ES":"スペイン語","config.idioma.zh-CN":"中国語（簡体字）","config.idioma ja-JP":"日本語","config.usuarios.titulo":"ユーザー設定","config.usuarios.descricao":"システムユーザーの関連設定を管理","config.permitirCadastro":"登録を許可","config.permitirCadastro.descricao":"新しいユーザーがシステムに登録することを許可","config.requerAprovacao":"承認が必要","config.requerAprovacao.descricao":"新しい登録は管理者による承認が必要","config.limiteUsuarios":"ユーザーリミット","config.limiteUsuarios.descricao":"システムで許可される最大ユーザー数","config.notificacaoNovosUsuarios":"新規ユーザーに通知","config.notificacaoNovosUsuarios.descricao":"新しいユーザーが登録したときに通知を送信","config.seguranca.titulo":"セキュリティ設定","config.seguranca.descricao":"セキュリティと認証ポリシーを構成","config.autenticacaoDoisFatores":"二要素認証","config.autenticacaoDoisFatores.descricao":"ログインに第二認証要素が必要","config.tempoSessao":"セッション時間（分）","config.tempoSessao.descricao":"セッションが自動的に期限切れになるまでの分数","config.tentativasLogin":"ログイン試行","config.tentativasLogin.descricao":"ブロック前のログイン試行回数","config.bloqueioAutomatico":"自動ロック","config.bloqueioAutomatico.descricao":"失敗した試行後に自動的にブロック","config.auditoriaAtivada":"監査有効","config.auditoriaAtivada.descricao":"システム内のすべてのユーザー操作を記録","config.impressao.titulo":"印刷設定","config.impressao.descricao":"ドキュメント印刷のデフォルトオプションを構成","config.formatoPadrao":"デフォルトフォーマット","config.formatoPadrao.descricao":"印刷のデフォルト用紙フォーマット","config.formato.A4":"A4","config.formato.A3":"A3","config.formato.Carta":"レター","config.orientacao":"方向","config.orientacao.descricao":"印刷のデフォルトページ方向","config.orientacao.retrato":"縦","config.orientacao.paisagem":"横","config.margens":"マージン","config.margens.descricao":"印刷のデフォルトマージン構成","config.margens.normal":"標準","config.margens.estreita":"狭い","config.margens.larga":"広い","config.cabecalhoPersonalizado":"カスタムヘッダー","config.cabecalhoPersonalizado.descricao":"印刷にカスタムヘッダーを含める","config.rodapePersonalizado":"カスタムフッター","config.rodapePersonalizado.descricao":"印刷にカスタムフッターを含める","config.sistema.titulo":"システム設定","config.sistema.descricao":"システムの技術的およびパフォーマンス設定","config.backupAutomatico":"自動バックアップ","config.backupAutomatico.descricao":"データの自動バックアップを実行","config.frequenciaBackup":"バックアップ頻度","config.frequenciaBackup.descricao":"バックアップを実行する頻度","config.frequencia.diario":"毎日","config.frequencia.semanal":"毎週","config.frequencia.mensal":"毎月","config.notificacoesEmail":"メール通知","config.notificacoesEmail.descricao":"重要な通知をメールで送信","config.cacheAtivo":"キャッシュ有効","config.cacheAtivo.descricao":"パフォーマンス向上のためのキャッシュシステムを有効化","config.logsAtivo":"ログ有効","config.logsAtivo.descricao":"システム活動の詳細な記録を保持","msg.configuracoesSalvas":"設定が正常に保存されました！","msg.configuracoesRestauradas":"設定がデフォルト値に復元されました！","msg.descricaoRestaurada":"すべての設定がデフォルト値に復元されました。","msg.arquivoInvalido":"無効なファイルです！画像を選択してください。","msg.logoRemovido":"ロゴが正常に削除されました！","msg.erroUpload":"アップロードエラー。再試行してください。","common.salvar":"保存","common.cancelar":"キャンセル","config.logoDescricao":"画像をドラッグするかクリックして選択","config.logoTipos":"PNG、JPG、または GIF（最大 5MB）","config.removerLogo":"ロゴを削除","config.selecionarArquivo":"クリックして選択"}},Ce=(t,e="pt-BR")=>(mN[e]||mN["pt-BR"])[t]||t,zte=()=>{g.useContext(wr);const{toast:t}=yr(),{usuarios:e,saveUsuario:n}=Fc(),[r,s]=g.useState({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),[o,a]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(""),f=g.useRef(null),p=(R,L)=>{s(C=>({...C,[R]:L}))},m=R=>{R.preventDefault(),R.stopPropagation(),R.type==="dragenter"||R.type==="dragover"?c(!0):R.type==="dragleave"&&c(!1)},y=R=>{R.preventDefault(),R.stopPropagation(),c(!1),R.dataTransfer.files&&R.dataTransfer.files[0]&&x(R.dataTransfer.files[0])},x=R=>{if(R.type.startsWith("image/")){if(R.size>1048576){t({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const L=new FileReader;L.onload=C=>{S(C.target.result,E=>{d(E),s(I=>({...I,foto:E}))})},L.readAsDataURL(R)}else t({title:"Arquivo inválido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},S=(R,L)=>{const C=document.createElement("canvas"),E=C.getContext("2d"),I=new Image;I.onload=()=>{let{width:k,height:N}=I;k>N?k>200&&(N=N*200/k,k=200):N>200&&(k=k*200/N,N=200),C.width=k,C.height=N,E.drawImage(I,0,0,k,N);const A=C.toDataURL("image/jpeg",.7);L(A)},I.src=R},_=R=>{R.target.files&&R.target.files[0]&&x(R.target.files[0])},v=()=>{d(""),s(R=>({...R,foto:""})),f.current&&(f.current.value="")},w=()=>r.nome.trim()?r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?r.senha?r.senha.length<6?(t({title:"Erro de validação",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),!1):r.senha!==r.confirmarSenha?(t({title:"Erro de validação",description:"As senhas não coincidem.",variant:"destructive"}),!1):!0:(t({title:"Erro de validação",description:"A senha é obrigatória.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"Por favor, insira um email válido.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"O email é obrigatório.",variant:"destructive"}),!1):(t({title:"Erro de validação",description:"O nome é obrigatório.",variant:"destructive"}),!1),j=async R=>{if(R.preventDefault(),!!w()){a(!0);try{if(e.some(C=>C.email===r.email)){t({title:"Erro de validação",description:"Este email já está cadastrado.",variant:"destructive"}),a(!1);return}const L={nome:r.nome,email:r.email,senha:r.senha,telefone:r.telefone,endereco:r.endereco,tipo:r.tipoUsuario,foto:r.foto,status:"ativo",dataCriacao:new Date().toISOString(),ultimoAcesso:null};await n(L),t({title:"Usuário cadastrado!",description:`${r.nome} foi cadastrado com sucesso.`,variant:"default"}),s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")}catch(L){console.error("Erro ao cadastrar usuário:",L),t({title:"Erro ao cadastrar",description:"Ocorreu um erro ao cadastrar o usuário. Tente novamente.",variant:"destructive"})}finally{a(!1)}}};return i.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(Gr,{className:"h-5 w-5"}),"Informações Pessoais"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"nome",children:"Nome Completo *"}),i.jsx(me,{id:"nome",type:"text",value:r.nome,onChange:R=>p("nome",R.target.value),placeholder:"Digite o nome completo",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"email",children:"Email *"}),i.jsx(me,{id:"email",type:"email",value:r.email,onChange:R=>p("email",R.target.value),placeholder:"usuario@exemplo.com",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"telefone",children:"Telefone"}),i.jsx(me,{id:"telefone",type:"tel",value:r.telefone,onChange:R=>p("telefone",R.target.value),placeholder:"(11) 99999-9999"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"endereco",children:"Endereço"}),i.jsx(me,{id:"endereco",type:"text",value:r.endereco,onChange:R=>p("endereco",R.target.value),placeholder:"Rua, número, bairro, cidade"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(dI,{className:"h-5 w-5"}),"Foto do Usuário"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${l?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:y,children:u?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:u,alt:"Preview da foto",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),i.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:v,children:i.jsx(Ir,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),i.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var R;return(R=f.current)==null?void 0:R.click()},className:"mt-2",children:"Trocar imagem"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Aw,{className:"h-8 w-8 mx-auto text-slate-400"}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),i.jsx("p",{children:"ou"}),i.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var R;return(R=f.current)==null?void 0:R.click()},className:"mt-2",children:"Selecione uma imagem"})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF até 1MB"})]})}),i.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:_,className:"hidden"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(mx,{className:"h-5 w-5"}),"Informações de Acesso"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"senha",children:"Senha *"}),i.jsx(me,{id:"senha",type:"password",value:r.senha,onChange:R=>p("senha",R.target.value),placeholder:"Mínimo 6 caracteres",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"confirmarSenha",children:"Confirmar Senha *"}),i.jsx(me,{id:"confirmarSenha",type:"password",value:r.confirmarSenha,onChange:R=>p("confirmarSenha",R.target.value),placeholder:"Digite a senha novamente",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"tipoUsuario",children:"Tipo de Usuário"}),i.jsxs(dt,{value:r.tipoUsuario,onValueChange:R=>p("tipoUsuario",R),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"comum",children:"Usuário Comum"}),i.jsx(oe,{value:"financeiro",children:"Usuário Financeiro"}),i.jsx(oe,{value:"administrador",children:"Administrador"})]})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[i.jsx(Q,{type:"button",variant:"outline",onClick:()=>{s({nome:"",email:"",senha:"",confirmarSenha:"",telefone:"",endereco:"",tipoUsuario:"comum",ativo:!0,foto:""}),d("")},disabled:o,children:"Limpar"}),i.jsx(Q,{type:"submit",disabled:o,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cadastrando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(xu,{className:"h-4 w-4 mr-2"}),"Cadastrar Usuário"]})})]})]})},Ute=({usuario:t,isOpen:e,onClose:n,onSave:r})=>{const{currentLanguage:s}=g.useContext(wr),{toast:o}=yr(),{saveUsuario:a}=Fc(),[l,c]=g.useState({nome:"",email:"",telefone:"",tipo:"comum",foto:""}),[u,d]=g.useState(!1),[f,p]=g.useState({}),[m,y]=g.useState(!1),[x,S]=g.useState(""),_=g.useRef(null);g.useEffect(()=>{t&&(console.log("[EditarUsuarioModal] Inicializando com usuário:",t),c({nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}),S(t.foto||""),p({}),console.log("[EditarUsuarioModal] FormData inicializado:",{nome:t.nome||"",email:t.email||"",telefone:t.telefone||"",tipo:t.tipo||"comum",foto:t.foto||""}))},[t]);const v=(V,F)=>{c(q=>({...q,[V]:F})),f[V]&&p(q=>({...q,[V]:""}))},w=V=>{V.preventDefault(),V.stopPropagation(),V.type==="dragenter"||V.type==="dragover"?y(!0):V.type==="dragleave"&&y(!1)},j=V=>{V.preventDefault(),V.stopPropagation(),y(!1),V.dataTransfer.files&&V.dataTransfer.files[0]&&R(V.dataTransfer.files[0])},R=V=>{if(V.type.startsWith("image/")){if(V.size>1048576){o({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const F=new FileReader;F.onload=q=>{L(q.target.result,$=>{S($),c(M=>({...M,foto:$}))})},F.readAsDataURL(V)}else o({title:"Arquivo inválido",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},L=(V,F)=>{const q=document.createElement("canvas"),$=q.getContext("2d"),M=new Image;M.onload=()=>{let{width:Y,height:K}=M;Y>K?Y>200&&(K=K*200/Y,Y=200):K>200&&(Y=Y*200/K,K=200),q.width=Y,q.height=K,$.drawImage(M,0,0,Y,K);const ue=q.toDataURL("image/jpeg",.7);F(ue)},M.src=V},C=V=>{V.target.files&&V.target.files[0]&&R(V.target.files[0])},E=()=>{S(""),c(V=>({...V,foto:""})),_.current&&(_.current.value="")},I=V=>{const F=V.replace(/\D/g,"");return F.length<=11?F.replace(/(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3"):V},P=V=>{const F=I(V.target.value);v("telefone",F)},k=()=>{const V={};return l.nome.trim()?l.nome.trim().length<2&&(V.nome=Ce("usuarios.erros.nomeMinimo",s)):V.nome=Ce("usuarios.erros.nomeObrigatorio",s),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(V.email=Ce("usuarios.erros.emailInvalido",s)):V.email=Ce("usuarios.erros.emailObrigatorio",s),l.telefone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(l.telefone)&&(V.telefone=Ce("usuarios.erros.telefoneInvalido",s)),p(V),Object.keys(V).length===0},N=async V=>{if(V.preventDefault(),!!k()){d(!0);try{const F={...t,nome:l.nome.trim(),email:l.email.trim().toLowerCase(),telefone:l.telefone,tipo:l.tipo,foto:l.foto};console.log("[EditarUsuarioModal] Salvando usuário atualizado:",F),console.log("[EditarUsuarioModal] Foto atual:",l.foto),await a(F,t.id),o({title:Ce("usuarios.edicao.sucesso",s),description:Ce("usuarios.edicao.sucessoDescricao",s),variant:"default"}),r(F),n()}catch{o({title:Ce("usuarios.edicao.erro",s),description:Ce("usuarios.edicao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{d(!1)}}},A=()=>{u||n()};return t?i.jsx(pn,{open:e,onOpenChange:A,children:i.jsxs(en,{className:"sm:max-w-md",children:[i.jsxs(tn,{children:[i.jsxs(nn,{className:"flex items-center gap-2",children:[i.jsx(vs,{className:"h-5 w-5"}),Ce("usuarios.edicao.titulo",s)]}),i.jsx(Om,{children:Ce("usuarios.edicao.descricao",s)})]}),i.jsxs("form",{onSubmit:N,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(X,{htmlFor:"edit-nome",className:"flex items-center gap-2",children:[i.jsx(Gr,{className:"h-4 w-4"}),Ce("usuarios.cadastro.form.nome",s)]}),i.jsx(me,{id:"edit-nome",type:"text",value:l.nome,onChange:V=>v("nome",V.target.value),placeholder:Ce("usuarios.cadastro.form.nomePlaceholder",s),className:f.nome?"border-red-500":""}),f.nome&&i.jsx("p",{className:"text-sm text-red-500",children:f.nome})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(X,{htmlFor:"edit-email",className:"flex items-center gap-2",children:[i.jsx(wa,{className:"h-4 w-4"}),Ce("usuarios.cadastro.form.email",s)]}),i.jsx(me,{id:"edit-email",type:"email",value:l.email,onChange:V=>v("email",V.target.value),placeholder:Ce("usuarios.cadastro.form.emailPlaceholder",s),className:f.email?"border-red-500":""}),f.email&&i.jsx("p",{className:"text-sm text-red-500",children:f.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(X,{htmlFor:"edit-telefone",className:"flex items-center gap-2",children:[i.jsx(ba,{className:"h-4 w-4"}),Ce("usuarios.cadastro.form.telefone",s)]}),i.jsx(me,{id:"edit-telefone",type:"tel",value:l.telefone,onChange:P,placeholder:Ce("usuarios.cadastro.form.telefonePlaceholder",s),className:f.telefone?"border-red-500":""}),f.telefone&&i.jsx("p",{className:"text-sm text-red-500",children:f.telefone})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(X,{htmlFor:"edit-tipo",className:"flex items-center gap-2",children:[i.jsx(oc,{className:"h-4 w-4"}),Ce("usuarios.cadastro.form.tipo",s)]}),i.jsxs(dt,{value:l.tipo,onValueChange:V=>v("tipo",V),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"comum",children:Ce("usuarios.tipos.comum",s)}),i.jsx(oe,{value:"financeiro",children:Ce("usuarios.tipos.financeiro",s)}),i.jsx(oe,{value:"admin",children:Ce("usuarios.tipos.admin",s)})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(X,{className:"flex items-center gap-2",children:[i.jsx(dI,{className:"h-4 w-4"}),"Foto do Usuário"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${m?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,onDragEnter:w,onDragLeave:w,onDragOver:w,onDrop:j,children:x?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:x,alt:"Preview da foto",className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}),i.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0",onClick:E,children:i.jsx(Ir,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium",children:"Foto selecionada!"}),i.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var V;return(V=_.current)==null?void 0:V.click()},className:"mt-1",children:"Trocar imagem"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Aw,{className:"h-6 w-6 mx-auto text-slate-400"}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsx("p",{className:"font-medium",children:"Arraste e solte uma imagem aqui"}),i.jsx("p",{children:"ou"}),i.jsx(Q,{type:"button",variant:"outline",size:"sm",onClick:()=>{var V;return(V=_.current)==null?void 0:V.click()},className:"mt-1",children:"Selecione uma imagem"})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, GIF até 1MB"})]})}),i.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:C,className:"hidden"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsxs(Q,{type:"button",variant:"outline",onClick:A,disabled:u,children:[i.jsx(Ir,{className:"h-4 w-4 mr-2"}),Ce("usuarios.edicao.cancelar",s)]}),i.jsx(Q,{type:"submit",disabled:u,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),Ce("usuarios.edicao.salvando",s)]}):i.jsxs(i.Fragment,{children:[i.jsx(fI,{className:"h-4 w-4 mr-2"}),Ce("usuarios.edicao.salvar",s)]})})]})]})]})}):null},Bte=({usuario:t,isOpen:e,onClose:n,onConfirm:r})=>{const{currentLanguage:s}=g.useContext(wr),{toast:o}=yr(),[a,l]=g.useState(!1),[c,u]=g.useState(""),d=async()=>{if(c!=="CONFIRMAR"){o({title:Ce("usuarios.remocao.erroConfirmacao",s),description:Ce("usuarios.remocao.erroConfirmacaoDescricao",s),variant:"destructive",duration:4e3});return}l(!0);try{await new Promise(m=>setTimeout(m,1500)),r(t.id)}catch{o({title:Ce("usuarios.remocao.erro",s),description:Ce("usuarios.remocao.erroDescricao",s),variant:"destructive",duration:4e3})}finally{l(!1)}},f=()=>{a||(u(""),n())},p=m=>{u(m.target.value)};return t?i.jsx(pn,{open:e,onOpenChange:f,children:i.jsxs(en,{className:"sm:max-w-md",children:[i.jsxs(tn,{children:[i.jsxs(nn,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(Hr,{className:"h-5 w-5"}),Ce("usuarios.remocao.titulo",s)]}),i.jsx(Om,{children:Ce("usuarios.remocao.descricao",s)})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-lg",children:t.nome.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:t.nome}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.email}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-2 py-1 rounded",children:t.tipo==="admin"?Ce("usuarios.tipos.admin",s):t.tipo==="financeiro"?Ce("usuarios.tipos.financeiro",s):Ce("usuarios.tipos.comum",s)}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.status==="ativo"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300"}`,children:t.status==="ativo"?Ce("usuarios.status.ativo",s):Ce("usuarios.status.inativo",s)})]})]})]})}),i.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Hr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:Ce("usuarios.remocao.aviso.titulo",s)}),i.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:Ce("usuarios.remocao.aviso.descricao",s)}),i.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-2 list-disc list-inside space-y-1",children:[i.jsx("li",{children:Ce("usuarios.remocao.aviso.item1",s)}),i.jsx("li",{children:Ce("usuarios.remocao.aviso.item2",s)}),i.jsx("li",{children:Ce("usuarios.remocao.aviso.item3",s)})]})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.remocao.confirmacao.label",s)}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:Ce("usuarios.remocao.confirmacao.descricao",s)}),i.jsx("input",{type:"text",value:c,onChange:p,placeholder:Ce("usuarios.remocao.confirmacao.placeholder",s),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:a})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsxs(Q,{type:"button",variant:"outline",onClick:f,disabled:a,children:[i.jsx(Ir,{className:"h-4 w-4 mr-2"}),Ce("usuarios.remocao.cancelar",s)]}),i.jsx(Q,{onClick:d,disabled:a||c!=="CONFIRMAR",className:"bg-red-600 hover:bg-red-700 text-white",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),Ce("usuarios.remocao.removendo",s)]}):i.jsxs(i.Fragment,{children:[i.jsx(xs,{className:"h-4 w-4 mr-2"}),Ce("usuarios.remocao.confirmar",s)]})})]})]})]})}):null},$te=({usuariosExternos:t,onAddUsuario:e})=>{const{currentLanguage:n}=g.useContext(wr),{toast:r}=yr(),{data:s,loading:o}=Fc(),[a,l]=g.useState([]),[c,u]=g.useState(""),[d,f]=g.useState("todos"),[p,m]=g.useState("todos"),[y,x]=g.useState(!1),[S,_]=g.useState(!1),[v,w]=g.useState(null);g.useEffect(()=>{s&&s.length>0&&l(s)},[s]);const j=a.filter(N=>{const A=N.nome.toLowerCase().includes(c.toLowerCase()),V=d==="todos"||N.tipo===d,F=p==="todos"||N.status===p;return A&&V&&F});g.useEffect(()=>{l(t)},[t]),g.useEffect(()=>{const N=()=>{const V=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[UsuariosListagem] Usuários carregados do localStorage:",V);const F=V.map(q=>({...q,status:q.status||"ativo",ultimoAcesso:q.ultimoAcesso||new Date().toISOString(),tipo:q.tipo||q.tipoUsuario||"comum"}));l(F)};N();const A=()=>{N()};return window.addEventListener("storage",A),()=>{window.removeEventListener("storage",A)}},[]);const R=N=>{w(N),x(!0)},L=N=>{w(N),_(!0)},C=(N,A)=>{l(V=>V.map(F=>F.id===N?{...F,status:A}:F)),r({title:"Status alterado!",description:`Status do usuário alterado para ${A==="ativo"?"ativo":"inativo"}`,variant:"default",duration:3e3})},E=N=>{l(A=>A.filter(V=>V.id!==N)),_(!1),w(null),r({title:"Usuário removido!",description:"Usuário removido com sucesso do sistema",variant:"default",duration:3e3})},I=N=>{l(A=>A.map(V=>V.id===N.id?N:V)),x(!1),w(null),r({title:"Usuário atualizado!",description:"Dados do usuário atualizados com sucesso",variant:"default",duration:3e3})},P=N=>{const A={admin:{label:"Administrador",variant:"default"},financeiro:{label:"Financeiro",variant:"secondary"},comum:{label:"Comum",variant:"outline"}},V=A[N]||A.comum;return i.jsx(dr,{variant:V.variant,children:V.label})},k=N=>i.jsx(dr,{variant:N==="ativo"?"default":"destructive",children:N==="ativo"?"Ativo":"Inativo"});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:Ce("usuarios.listagem.titulo",n)}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:Ce("usuarios.listagem.descricao",n)})]}),i.jsxs(un,{children:[i.jsx(bn,{children:i.jsxs(_n,{className:"flex items-center gap-2",children:[i.jsx(Iw,{className:"h-5 w-5"}),Ce("usuarios.filtros.titulo",n)]})}),i.jsx(dn,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:Ce("usuarios.busca",n)}),i.jsxs("div",{className:"relative",children:[i.jsx($r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),i.jsx(me,{placeholder:Ce("usuarios.busca.placeholder",n),value:c,onChange:N=>u(N.target.value),className:"pl-10"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:Ce("usuarios.filtros.tipo",n)}),i.jsxs(dt,{value:d,onValueChange:f,children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"todos",children:Ce("usuarios.filtros.todos",n)}),i.jsx(oe,{value:"admin",children:Ce("usuarios.tipos.admin",n)}),i.jsx(oe,{value:"financeiro",children:Ce("usuarios.tipos.financeiro",n)}),i.jsx(oe,{value:"comum",children:Ce("usuarios.tipos.comum",n)})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:Ce("usuarios.filtros.status",n)}),i.jsxs(dt,{value:p,onValueChange:m,children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"todos",children:Ce("usuarios.filtros.todos",n)}),i.jsx(oe,{value:"ativo",children:Ce("usuarios.status.ativo",n)}),i.jsx(oe,{value:"inativo",children:Ce("usuarios.status.inativo",n)})]})]})]})]})})]}),i.jsxs(un,{children:[i.jsx(bn,{children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx(_n,{children:Ce("usuarios.lista.titulo",n)}),i.jsx(ma,{children:o?"Carregando usuários...":`${Ce("usuarios.lista.descricao",n)} (${j.length} ${j.length===1?"usuário":"usuários"})`})]})})}),i.jsx(dn,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.nome",n)}),i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.email",n)}),i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.tipo",n)}),i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.status",n)}),i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.ultimoAcesso",n)}),i.jsx("th",{className:"text-left p-4 font-medium text-slate-700 dark:text-slate-300",children:Ce("usuarios.tabela.acoes",n)})]})}),i.jsx("tbody",{children:o?i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Carregando usuários..."})}):j.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhum usuário encontrado"})}):j.map(N=>i.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[N.foto?i.jsx("img",{src:N.foto,alt:N.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-slate-200 dark:border-slate-700"}):i.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold",children:N.nome.charAt(0).toUpperCase()}),i.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:N.nome})]})}),i.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:N.email}),i.jsx("td",{className:"p-4",children:P(N.tipo)}),i.jsx("td",{className:"p-4",children:k(N.status)}),i.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:new Date(N.ultimoAcesso).toLocaleDateString("pt-BR")}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Q,{variant:"outline",size:"sm",onClick:()=>R(N),className:"hover:bg-blue-50 hover:border-blue-200",children:i.jsx(vs,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"outline",size:"sm",onClick:()=>C(N.id,N.status==="ativo"?"inativo":"ativo"),className:N.status==="ativo"?"hover:bg-red-50 hover:border-red-200":"hover:bg-green-50 hover:border-green-200",children:N.status==="ativo"?i.jsx(ez,{className:"h-4 w-4"}):i.jsx(J9,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"outline",size:"sm",onClick:()=>L(N),className:"hover:bg-red-50 hover:border-red-200",children:i.jsx(xs,{className:"h-4 w-4"})})]})})]},N.id))})]})})})]}),y&&v&&i.jsx(Ute,{usuario:v,isOpen:y,onClose:()=>x(!1),onSave:I}),S&&v&&i.jsx(Bte,{usuario:v,isOpen:S,onClose:()=>_(!1),onConfirm:E})]})},qte=({usuarioLogado:t})=>{g.useContext(wr);const{toast:e}=yr(),{config:n,loading:r,saveConfig:s}=i1(),{config:o,saveConfig:a}=o1();Fc();const[l,c]=g.useState("usuarios"),[u,d]=g.useState({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0}),[f,p]=g.useState({nomeEmpresa:"",descricao:"",endereco:"",telefone:"",whatsapp:"",cnpj:"",email:"",site:"",logo:""}),[m,y]=g.useState(!1),[x,S]=g.useState("");g.useEffect(()=>{n&&d(C=>({...C,...n}))},[n]),g.useEffect(()=>{o&&p({nomeEmpresa:o.nomeEmpresa||"",descricao:o.descricao||"",endereco:o.endereco||"",telefone:o.telefone||"",whatsapp:o.whatsapp||"",cnpj:o.cnpj||"",email:o.email||"",site:o.site||"",logo:o.logo||""})},[o]),g.useEffect(()=>{n&&S(n.logo||"")},[n]);const _=(C,E)=>{d(I=>({...I,[C]:E}))},v=(C,E)=>{p(I=>({...I,[C]:E}))},w=C=>{const E=C.target.files[0];if(E){const I=new FileReader;I.onload=P=>{const k=P.target.result;S(k),d(N=>({...N,logo:k}))},I.readAsDataURL(E)}},j=()=>{S(""),d(C=>({...C,logo:""}))},R=async()=>{if(!f.nomeEmpresa||!f.endereco||!f.telefone){e({title:"Erro",description:"Na aba 'Loja': Nome da empresa, endereço e telefone são obrigatórios!",variant:"destructive"});return}y(!0);try{await s(u),await a(f),e({title:"Sucesso!",description:"Todas as configurações foram salvas com sucesso!"})}catch(C){console.error("Erro ao salvar configurações:",C),e({title:"Erro",description:"Erro ao salvar configurações. Tente novamente.",variant:"destructive"})}finally{y(!1)}},L=()=>{d({tema:"dark",corPrimaria:"#3b82f6",corSecundaria:"#8b5cf6",nomeEmpresa:"Sistema",logoUrl:"",logo:"",idioma:"pt-BR",permitirCadastro:!0,requerAprovacao:!1,limiteUsuarios:10,notificacaoNovosUsuarios:!0,autenticacaoDoisFatores:!1,tempoSessao:30,tentativasLogin:3,bloqueioAutomatico:!0,auditoriaAtivada:!0,formatoPadrao:"A4",orientacaoPadrao:"retrato",margemPadrao:1,fontePadrao:"Arial",tamanhoFonte:12,backupAutomatico:!0,frequenciaBackup:"diario",retencaoBackup:30,logsAtivados:!0,monitoramentoAtivo:!0})};return r?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),i.jsx("p",{className:"ml-4 text-lg text-slate-600 dark:text-slate-400",children:"Carregando configurações..."})]}):i.jsxs("div",{className:"space-y-8",children:[i.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-blue-600 to-green-600 rounded-2xl p-8 text-white shadow-2xl",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:i.jsx(xi,{className:"h-10 w-10"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold",children:"Configurações do Sistema"}),i.jsx("p",{className:"text-purple-100 text-lg",children:"Gerencie todas as configurações e preferências"})]})]})}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsxs(lc,{defaultValue:"loja",className:"w-full",children:[i.jsxs(La,{className:"grid w-full grid-cols-6 bg-slate-100 dark:bg-slate-700/50 rounded-none border-b border-slate-200 dark:border-slate-600",children:[i.jsxs(Nn,{value:"loja",className:"flex items-center gap-2",children:[i.jsx(pv,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Loja"})]}),i.jsxs(Nn,{value:"personalizacao",className:"flex items-center gap-2",children:[i.jsx(mv,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Personalização"})]}),i.jsxs(Nn,{value:"usuarios",className:"flex items-center gap-2",children:[i.jsx(ps,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Usuários"})]}),i.jsxs(Nn,{value:"seguranca",className:"flex items-center gap-2",children:[i.jsx(oc,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Segurança"})]}),i.jsxs(Nn,{value:"impressao",className:"flex items-center gap-2",children:[i.jsx(ud,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Impressão"})]}),i.jsxs(Nn,{value:"sistema",className:"flex items-center gap-2",children:[i.jsx(xp,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Sistema"})]})]}),i.jsxs(jn,{value:"loja",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(pv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações da Loja"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure os dados da sua empresa que aparecerão nos documentos impressos (ordens de serviço, orçamentos, etc.)"})]})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(pv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações Básicas"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"loja-nomeEmpresa",children:"Nome da Empresa *"}),i.jsx(me,{id:"loja-nomeEmpresa",value:f.nomeEmpresa,onChange:C=>v("nomeEmpresa",C.target.value),placeholder:"Ex: MultiSmart",className:"h-12",required:!0}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecerá nos documentos impressos (ordens de serviço, orçamentos)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"loja-descricao",children:"Descrição dos Serviços"}),i.jsx(me,{id:"loja-descricao",value:f.descricao,onChange:C=>v("descricao",C.target.value),placeholder:"Ex: Manutenção e Comércio de Celulares e Tablets",className:"h-12"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Descrição que aparecerá abaixo do nome da empresa nos documentos"})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(ba,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Informações de Contato"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(X,{htmlFor:"loja-telefone",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(ba,{className:"h-4 w-4"}),"Telefone *"]}),i.jsx(me,{id:"loja-telefone",value:f.telefone,onChange:C=>v("telefone",C.target.value),placeholder:"(17) 3345-1016",className:"h-12",required:!0}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Telefone que aparecerá nos documentos impressos"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(X,{htmlFor:"loja-whatsapp",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(G9,{className:"h-4 w-4"}),"WhatsApp"]}),i.jsx(me,{id:"loja-whatsapp",value:f.whatsapp,onChange:C=>v("whatsapp",C.target.value),placeholder:"(17) 99157-1263",className:"h-12"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(X,{htmlFor:"loja-email",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(wa,{className:"h-4 w-4"}),"E-mail"]}),i.jsx(me,{id:"loja-email",type:"email",value:f.email,onChange:C=>v("email",C.target.value),placeholder:"contato@multismart.com",className:"h-12"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(X,{htmlFor:"loja-site",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(uI,{className:"h-4 w-4"}),"Site/URL"]}),i.jsx(me,{id:"loja-site",value:f.site,onChange:C=>v("site",C.target.value),placeholder:"https://www.multismart.com",className:"h-12"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(yp,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Endereço"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"loja-endereco",children:"Endereço Completo *"}),i.jsx(pd,{id:"loja-endereco",value:f.endereco,onChange:C=>v("endereco",C.target.value),placeholder:"Rua José Pedro dos Santos nº74 - JD das Lanjeiras, Bebedouro - SP",rows:3,className:"resize-none",required:!0}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Endereço completo que aparecerá nos documentos impressos"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(Pr,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Documentos"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"loja-cnpj",children:"CNPJ"}),i.jsx(me,{id:"loja-cnpj",value:f.cnpj,onChange:C=>v("cnpj",C.target.value),placeholder:"47.309.271/0001-97",className:"h-12"})]})]})]})]}),i.jsxs(jn,{value:"personalizacao",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(mv,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Personalização do Sistema"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure a aparência visual do sistema (cores, tema, idioma) e o nome que aparece no cabeçalho da interface"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(vp,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Logo do Sistema"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(X,{className:"text-sm font-medium",children:"Upload do Logo"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(me,{type:"file",accept:"image/*",onChange:w,className:"flex-1"}),i.jsxs(Q,{type:"button",variant:"outline",onClick:()=>document.querySelector('input[type="file"]').click(),children:[i.jsx(Aw,{className:"h-4 w-4 mr-2"}),"Escolher"]})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Logo que aparecerá no cabeçalho do sistema. Formatos aceitos: JPG, PNG, GIF. Tamanho recomendado: 200x200px"})]}),x&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:x,alt:"Preview do logo",className:"w-24 h-24 object-contain border-2 border-slate-200 dark:border-slate-700 rounded-lg"}),i.jsx(Q,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:j,children:i.jsx(Ir,{className:"h-3 w-3"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs(un,{children:[i.jsxs(bn,{children:[i.jsxs(_n,{className:"flex items-center gap-2",children:[i.jsx(mv,{className:"h-5 w-5"}),"Aparência"]}),i.jsx(ma,{children:"Configure cores e tema do sistema"})]}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Tema"}),i.jsxs(dt,{value:u.tema,onValueChange:C=>_("tema",C),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"light",children:"Claro"}),i.jsx(oe,{value:"dark",children:"Escuro"}),i.jsx(oe,{value:"system",children:"Sistema"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Cor Primária"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(me,{type:"color",value:u.corPrimaria,onChange:C=>_("corPrimaria",C.target.value),className:"w-16 h-10 p-1 border rounded"}),i.jsx(me,{value:u.corPrimaria,onChange:C=>_("corPrimaria",C.target.value),className:"flex-1"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Cor Secundária"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(me,{type:"color",value:u.corSecundaria,onChange:C=>_("corSecundaria",C.target.value),className:"w-16 h-10 p-1 border rounded"}),i.jsx(me,{value:u.corSecundaria,onChange:C=>_("corSecundaria",C.target.value),className:"flex-1"})]})]})]})]})]}),i.jsxs(un,{children:[i.jsxs(bn,{children:[i.jsxs(_n,{className:"flex items-center gap-2",children:[i.jsx(xi,{className:"h-5 w-5"}),"Sistema"]}),i.jsx(ma,{children:"Configurações gerais do sistema"})]}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{htmlFor:"nomeEmpresa",children:"Nome da Empresa"}),i.jsx(me,{id:"nomeEmpresa",value:u.nomeEmpresa,onChange:C=>_("nomeEmpresa",C.target.value),placeholder:"Nome da empresa"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Nome que aparecerá no cabeçalho da interface do sistema"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Idioma"}),i.jsxs(dt,{value:u.idioma,onValueChange:C=>_("idioma",C),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"pt-BR",children:"Português (Brasil)"}),i.jsx(oe,{value:"en-US",children:"English (US)"}),i.jsx(oe,{value:"es-ES",children:"Español"})]})]})]})]})]})]})]}),i.jsxs(jn,{value:"usuarios",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(ps,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Gerenciamento de Usuários"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure como novos usuários podem se cadastrar no sistema e gerencie usuários existentes"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(un,{children:[i.jsxs(bn,{children:[i.jsx(_n,{children:"Configurações de Usuários"}),i.jsx(ma,{children:"Configure como os usuários interagem com o sistema"})]}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(X,{children:"Permitir Cadastro"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Permite que novos usuários se cadastrem"})]}),i.jsx(Rs,{checked:u.permitirCadastro,onCheckedChange:C=>_("permitirCadastro",C)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(X,{children:"Requer Aprovação"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Novos cadastros precisam de aprovação"})]}),i.jsx(Rs,{checked:u.requerAprovacao,onCheckedChange:C=>_("requerAprovacao",C)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Limite de Usuários"}),i.jsx(me,{type:"number",value:u.limiteUsuarios,onChange:C=>_("limiteUsuarios",parseInt(C.target.value)),min:"1",max:"100"})]})]})]}),i.jsxs(un,{children:[i.jsxs(bn,{children:[i.jsx(_n,{children:"Usuários do Sistema"}),i.jsx(ma,{children:"Gerencie usuários existentes"})]}),i.jsx(dn,{children:i.jsxs(lc,{value:l,onValueChange:c,children:[i.jsxs(La,{className:"grid w-full grid-cols-2",children:[i.jsx(Nn,{value:"usuarios",children:"Usuários"}),i.jsx(Nn,{value:"cadastro",children:"Novo Usuário"})]}),i.jsx(jn,{value:"usuarios",className:"mt-4",children:i.jsx($te,{usuarioLogado:t})}),i.jsx(jn,{value:"cadastro",className:"mt-4",children:i.jsx(zte,{})})]})})]})]})]}),i.jsxs(jn,{value:"seguranca",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(oc,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações de Segurança"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure autenticação de dois fatores, tempo de sessão, tentativas de login e monitoramento de atividades"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(un,{children:[i.jsx(bn,{children:i.jsx(_n,{children:"Autenticação"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(X,{children:"2FA (Dois Fatores)"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Autenticação de dois fatores"})]}),i.jsx(Rs,{checked:u.autenticacaoDoisFatores,onCheckedChange:C=>_("autenticacaoDoisFatores",C)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Tempo de Sessão (minutos)"}),i.jsx(me,{type:"number",value:u.tempoSessao,onChange:C=>_("tempoSessao",parseInt(C.target.value)),min:"5",max:"480"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Tentativas de Login"}),i.jsx(me,{type:"number",value:u.tentativasLogin,onChange:C=>_("tentativasLogin",parseInt(C.target.value)),min:"1",max:"10"})]})]})]}),i.jsxs(un,{children:[i.jsx(bn,{children:i.jsx(_n,{children:"Monitoramento"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(X,{children:"Bloqueio Automático"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bloqueia após tentativas falhadas"})]}),i.jsx(Rs,{checked:u.bloqueioAutomatico,onCheckedChange:C=>_("bloqueioAutomatico",C)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(X,{children:"Auditoria Ativada"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra ações dos usuários"})]}),i.jsx(Rs,{checked:u.auditoriaAtivada,onCheckedChange:C=>_("auditoriaAtivada",C)})]})]})]})]})]}),i.jsxs(jn,{value:"impressao",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(ud,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações de Impressão"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure o formato, orientação, margens e fonte dos documentos que serão impressos (ordens de serviço, orçamentos, etc.)"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(un,{children:[i.jsx(bn,{children:i.jsx(_n,{children:"Formato do Documento"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Formato Padrão"}),i.jsxs(dt,{value:u.formatoPadrao,onValueChange:C=>_("formatoPadrao",C),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"A4",children:"A4"}),i.jsx(oe,{value:"A3",children:"A3"}),i.jsx(oe,{value:"Letter",children:"Letter"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Orientação"}),i.jsxs(dt,{value:u.orientacaoPadrao,onValueChange:C=>_("orientacaoPadrao",C),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"retrato",children:"Retrato"}),i.jsx(oe,{value:"paisagem",children:"Paisagem"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Margem (cm)"}),i.jsx(me,{type:"number",value:u.margemPadrao,onChange:C=>_("margemPadrao",parseFloat(C.target.value)),min:"0.5",max:"5",step:"0.1"})]})]})]}),i.jsxs(un,{children:[i.jsx(bn,{children:i.jsx(_n,{children:"Fonte e Estilo"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Fonte Padrão"}),i.jsxs(dt,{value:u.fontePadrao,onValueChange:C=>_("fontePadrao",C),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"Arial",children:"Arial"}),i.jsx(oe,{value:"Times New Roman",children:"Times New Roman"}),i.jsx(oe,{value:"Calibri",children:"Calibri"}),i.jsx(oe,{value:"Helvetica",children:"Helvetica"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Tamanho da Fonte"}),i.jsx(me,{type:"number",value:u.tamanhoFonte,onChange:C=>_("tamanhoFonte",parseInt(C.target.value)),min:"8",max:"24"})]})]})]})]})]}),i.jsxs(jn,{value:"sistema",className:"p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsx(xp,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Configurações do Sistema"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure backup automático, frequência de backup, retenção de dados e monitoramento do sistema"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(un,{children:[i.jsx(bn,{children:i.jsx(_n,{children:"Backup e Recuperação"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(X,{children:"Backup Automático"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Backup automático dos dados"})]}),i.jsx(Rs,{checked:u.backupAutomatico,onCheckedChange:C=>_("backupAutomatico",C)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Frequência do Backup"}),i.jsxs(dt,{value:u.frequenciaBackup,onValueChange:C=>_("frequenciaBackup",C),children:[i.jsx(ot,{children:i.jsx(ht,{})}),i.jsxs(it,{children:[i.jsx(oe,{value:"hora",children:"A cada hora"}),i.jsx(oe,{value:"diario",children:"Diário"}),i.jsx(oe,{value:"semanal",children:"Semanal"}),i.jsx(oe,{value:"mensal",children:"Mensal"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{children:"Retenção (dias)"}),i.jsx(me,{type:"number",value:u.retencaoBackup,onChange:C=>_("retencaoBackup",parseInt(C.target.value)),min:"1",max:"365"})]})]})]}),i.jsxs(un,{children:[i.jsx(bn,{children:i.jsx(_n,{children:"Monitoramento"})}),i.jsxs(dn,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(X,{children:"Logs Ativados"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Registra atividades do sistema"})]}),i.jsx(Rs,{checked:u.logsAtivados,onCheckedChange:C=>_("logsAtivados",C)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(X,{children:"Monitoramento Ativo"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monitora performance do sistema"})]}),i.jsx(Rs,{checked:u.monitoramentoAtivo,onCheckedChange:C=>_("monitoramentoAtivo",C)})]})]})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-6 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/50",children:[i.jsx(Q,{onClick:R,disabled:m,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 h-12 text-lg",children:m?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Salvando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(fI,{className:"h-5 w-5 mr-2"}),"Salvar Todas as Configurações"]})}),i.jsxs(Q,{onClick:L,variant:"outline",className:"h-12 px-8",children:[i.jsx(hI,{className:"h-5 w-5 mr-2"}),"Restaurar Padrões"]})]})]})]})},gN=()=>{const{openDialog:t,setActiveModule:e,definirProdutoParaReporEstoque:n,darkMode:r}=g.useContext(wr),{data:s,loading:o}=Lc(),{data:a,loading:l}=ag(),{data:c,loading:u}=Zd(),{data:d,loading:f}=Jd(),{data:p,loading:m}=eh(),{data:y,loading:x}=th(),[S,_]=g.useState({clientes:0,os:0,ov:0,produtos:0,contasReceber:0,contasPagar:0,estoqueCritico:0,osPendentes:0,osConcluidas:0,faturamentoMes:0}),[v,w]=g.useState(!1);g.useEffect(()=>{var k,N;if(console.log("[Dashboard] ===== ATUALIZANDO ESTATÍSTICAS ====="),console.log("[Dashboard] Dados recebidos:",{clientes:(s==null?void 0:s.length)||0,os:(a==null?void 0:a.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,financeiro:(y==null?void 0:y.length)||0}),!o&&!l&&!u&&!f&&!x){const A=((k=y==null?void 0:y.filter(U=>U.tipo==="receber"&&U.status==="Pendente"))==null?void 0:k.reduce((U,Y)=>U+(Y.valor||0),0))||0,V=((N=y==null?void 0:y.filter(U=>U.tipo==="pagar"&&U.status==="Pendente"))==null?void 0:N.reduce((U,Y)=>U+(Y.valor||0),0))||0,F=(d==null?void 0:d.filter(U=>U.quantidade<=(U.estoqueMinimo||5)).length)||0,q=(a==null?void 0:a.filter(U=>U.status==="Pendente").length)||0,$=(a==null?void 0:a.filter(U=>U.status==="Concluída").length)||0,M=(a==null?void 0:a.filter(U=>{const Y=new Date(U.createdAt),K=new Date().getMonth(),ue=new Date().getFullYear();return U.status==="Concluída"&&Y.getMonth()===K&&Y.getFullYear()===ue}).reduce((U,Y)=>U+(Y.valor||0),0))||0;_({clientes:(s==null?void 0:s.length)||0,os:(a==null?void 0:a.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:A,contasPagar:V,estoqueCritico:F,osPendentes:q,osConcluidas:$,faturamentoMes:M}),console.log("[Dashboard] Estatísticas calculadas:",{clientes:(s==null?void 0:s.length)||0,os:(a==null?void 0:a.length)||0,ov:(c==null?void 0:c.length)||0,produtos:(d==null?void 0:d.length)||0,contasReceber:A,contasPagar:V,estoqueCritico:F,osPendentes:q,osConcluidas:$,faturamentoMes:M})}},[s,a,c,d,p,y,o,l,u,f,m,x]);const j=[{title:"Clientes",value:S.clientes,icon:ps,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",change:"+12%",changeType:"positive"},{title:"Ordens de Serviço",value:S.os,icon:Pr,color:"from-green-500 to-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",change:"+8%",changeType:"positive"},{title:"Ordens de Venda",value:S.ov,icon:cs,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",change:"+15%",changeType:"positive"},{title:"Produtos",value:S.produtos,icon:tr,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",change:"+5%",changeType:"positive"}],R=[{title:"Contas a Receber",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.contasReceber),icon:Jn,color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",change:"+R$ 2.500",changeType:"positive"},{title:"Contas a Pagar",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.contasPagar),icon:fa,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",change:"-R$ 1.200",changeType:"negative"},{title:"Faturamento do Mês",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.faturamentoMes),icon:er,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",change:"+R$ 5.800",changeType:"positive"}],L=[{title:"OS Pendentes",value:S.osPendentes,icon:Zo,color:"from-amber-500 to-amber-600",bgColor:"bg-amber-50 dark:bg-amber-900/20",isAlert:S.osPendentes>5,alertMessage:"Muitas OS pendentes!"},{title:"Estoque Crítico",value:S.estoqueCritico,icon:Hr,color:"from-red-500 to-red-600",bgColor:"bg-red-50 dark:bg-red-900/20",isAlert:S.estoqueCritico>0,alertMessage:"Produtos com estoque baixo!"}],C=[{title:"Nova OS",description:"Criar nova ordem de serviço",icon:Pr,color:"from-blue-500 to-blue-600",action:()=>E("os","os"),badge:"Popular"},{title:"Novo Cliente",description:"Cadastrar novo cliente",icon:ps,color:"from-green-500 to-green-600",action:()=>E("clientes","clientes")},{title:"Nova Venda",description:"Criar nova ordem de venda",icon:cs,color:"from-purple-500 to-purple-600",action:()=>E("ov","ov")},{title:"Adicionar Produto",description:"Cadastrar novo produto",icon:tr,color:"from-orange-500 to-orange-600",action:()=>E("estoque","produto")},{title:"Movimentação",description:"Entrada/Saída de estoque",icon:fx,color:"from-teal-500 to-teal-600",action:()=>E("estoque","movimentacao")},{title:"Relatórios",description:"Ver relatórios e análises",icon:$s,color:"from-indigo-500 to-indigo-600",action:()=>E("relatorios")}],E=(k,N)=>{e(k),N&&setTimeout(()=>t(N),50),console.log("[Dashboard] Ação rápida:",k,N)},I=k=>{n(k),e("estoque"),setTimeout(()=>{t("movimentacao")},50),w(!1)},P=o||l||u||f||m||x;return i.jsxs("div",{className:"space-y-8",children:[i.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[i.jsx($s,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Dashboard"]}),i.jsx("p",{className:"text-blue-100 text-base lg:text-lg",children:P?"Carregando dados...":"Visão geral do seu sistema CRM"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-blue-100",children:"Hoje"}),i.jsx("p",{className:"text-xl font-bold",children:new Date().toLocaleDateString("pt-BR")})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-blue-100",children:"Status"}),i.jsx("p",{className:"text-xl font-bold text-green-200",children:"Online"})]})]})]})}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg",children:i.jsx(dd,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Acesse rapidamente as funcionalidades mais utilizadas"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map((k,N)=>{const A=k.icon;return i.jsxs(Te.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1+N*.1},onClick:k.action,className:"group relative bg-white dark:bg-slate-700 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 text-left",children:[k.badge&&i.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:k.badge}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color} group-hover:scale-110 transition-transform duration-300`,children:i.jsx(A,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:k.title}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.description})]}),i.jsx(fv,{className:"h-5 w-5 text-slate-400 group-hover:text-blue-500 transition-colors"})]})]},k.title)})})})]}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vu,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Estatísticas Principais"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:j.map((k,N)=>{const A=k.icon;return i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2+N*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:i.jsx(A,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[k.changeType==="positive"?i.jsx(fv,{className:"h-4 w-4 text-green-500"}):i.jsx(CC,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:`font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.title})]})]},k.title)})})]}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(er,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Financeiro"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6",children:R.map((k,N)=>{const A=k.icon;return i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3+N*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:i.jsx(A,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[k.changeType==="positive"?i.jsx(fv,{className:"h-4 w-4 text-green-500"}):i.jsx(CC,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:`font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:k.title})]})]},k.title)})})]}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Hr,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Alertas e Status"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:L.map((k,N)=>{const A=k.icon;return i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+N*.1},className:`${k.bgColor} rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300 ${k.isAlert?"ring-2 ring-amber-400 ring-opacity-50":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${k.color}`,children:i.jsx(A,{className:"h-6 w-6 text-white"})}),k.isAlert&&i.jsx("div",{className:"flex items-center gap-1 text-sm",children:i.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-1 rounded-full text-xs font-medium",children:"Atenção"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:k.value}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:k.title}),k.isAlert&&k.value>0&&i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:k.alertMessage})]})]},k.title)})})]}),i.jsx(pn,{open:v,onOpenChange:w,children:i.jsxs(en,{className:"sm:max-w-md",children:[i.jsx(tn,{children:i.jsxs(nn,{className:"flex items-center gap-2",children:[i.jsx(Hr,{className:"h-5 w-5 text-amber-500"}),"Estoque Crítico"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Os seguintes produtos estão com estoque baixo:"}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d==null?void 0:d.filter(k=>k.quantidade<=(k.estoqueMinimo||5)).map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:k.nome}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Estoque: ",k.quantidade," | Mínimo: ",k.estoqueMinimo||5]})]}),i.jsx(Q,{size:"sm",onClick:()=>I(k),className:"bg-blue-600 hover:bg-blue-700",children:"Repor"})]},k.id))})]})]})})]})},Wte=({onLogin:t})=>{const{toast:e}=yr(),{usuarios:n,saveUsuario:r,loading:s,error:o}=Fc();console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o});const[a,l]=g.useState({email:"",senha:""}),[c,u]=g.useState(()=>localStorage.getItem("crm_lembrar_email")==="true");g.useEffect(()=>{if(c){const k=localStorage.getItem("crm_email_salvo")||"";l(N=>({...N,email:k}))}},[c]);const[d,f]=g.useState(!1),[p,m]=g.useState(!1),[y,x]=g.useState({nome:"",email:"",senha:"",tipo:"comum",foto:""}),[S,_]=g.useState(!1),[v,w]=g.useState(!1),j=k=>{l({...a,[k.target.name]:k.target.value})},R=k=>{x({...y,[k.target.name]:k.target.value})},L=k=>{const N=k.target.files[0];if(!N)return;if(N.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const A=new FileReader;A.onload=()=>{E(A.result,V=>{x(F=>({...F,foto:V}))})},A.readAsDataURL(N)},C=k=>{k.preventDefault(),w(!1);const N=k.dataTransfer.files[0];if(N){if(N.size>1048576){e({title:"Arquivo muito grande!",description:"A imagem deve ter no máximo 1MB. Por favor, escolha uma imagem menor.",variant:"destructive"});return}const A=new FileReader;A.onload=()=>{E(A.result,V=>{x(F=>({...F,foto:V}))})},A.readAsDataURL(N)}},E=(k,N)=>{const A=document.createElement("canvas"),V=A.getContext("2d"),F=new Image;F.onload=()=>{let{width:$,height:M}=F;$>M?$>200&&(M=M*200/$,$=200):M>200&&($=$*200/M,M=200),A.width=$,A.height=M,V.drawImage(F,0,0,$,M);const U=A.toDataURL("image/jpeg",.7);N(U)},F.src=k},I=k=>{if(k.preventDefault(),f(!0),console.log("[Login] ===== INÍCIO DO LOGIN ====="),console.log("[Login] Tentando fazer login com:",{email:a.email,senha:a.senha}),a.senha==="dev102030"&&(!a.email||a.email.trim()==="")){console.log("[Login] 🚀 LOGIN DESENVOLVEDOR DETECTADO!");const A={id:"dev-user",nome:"Desenvolvedor Sistema",email:"dev@test.com",senha:"dev102030",tipo:"desenvolvedor",status:"ativo",foto:null,createdAt:new Date().toISOString()};localStorage.setItem("crm_usuario_logado",JSON.stringify(A)),console.log("[Login] Usuário desenvolvedor criado:",A),e({title:"🚀 Login Desenvolvedor",description:"Acesso completo ao sistema de testes!"}),f(!1),t&&t(A),console.log("[Login] ===== LOGIN DESENVOLVEDOR CONCLUÍDO =====");return}if(console.log("[Login] Hook useUsuarios:",{usuarios:n,saveUsuario:r,loading:s,error:o}),console.log("[Login] Lista de usuários disponível:",n),console.log("[Login] Total de usuários:",n?n.length:0),console.log("[Login] Loading state:",s),console.log("[Login] Error state:",o),s){console.log("[Login] Ainda carregando usuários, aguardando..."),e({title:"Carregando usuários...",description:"Aguarde um momento.",variant:"default"}),f(!1);return}if(o){console.error("[Login] Erro ao carregar usuários:",o),e({title:"Erro de conexão!",description:"Não foi possível carregar os usuários. Verifique sua conexão.",variant:"destructive"}),f(!1);return}if(!n||!Array.isArray(n)){console.error("[Login] Lista de usuários não está disponível:",n),e({title:"Erro de conexão!",description:"Não foi possível carregar os usuários. Verifique sua conexão.",variant:"destructive"}),f(!1);return}if(n.length===0){console.log("[Login] Nenhum usuário cadastrado no sistema"),e({title:"Nenhum usuário cadastrado!",description:"Você precisa registrar um usuário primeiro.",variant:"destructive"}),f(!1);return}const N=n.find(A=>A.email===a.email&&A.senha===a.senha);if(!N){console.log("[Login] Usuário não encontrado para:",a.email),console.log("[Login] Usuários disponíveis:",n.map(A=>({email:A.email,nome:A.nome}))),e({title:"E-mail ou senha inválidos!",variant:"destructive"}),f(!1);return}console.log("[Login] Usuário encontrado:",N),localStorage.setItem("crm_usuario_logado",JSON.stringify(N)),c?(localStorage.setItem("crm_email_salvo",a.email),localStorage.setItem("crm_lembrar_email","true")):(localStorage.removeItem("crm_email_salvo"),localStorage.setItem("crm_lembrar_email","false")),console.log("[Login] Chamando onLogin com usuário:",N),console.log("[Login] onLogin existe?",!!t),e({title:"Login realizado com sucesso!"}),f(!1),t?(console.log("[Login] onLogin existe, chamando..."),t(N)):console.error("[Login] onLogin não existe!"),console.log("[Login] ===== FIM DO LOGIN =====")},P=async k=>{k.preventDefault(),console.log("[Login] Iniciando registro...",y),_(!0);try{if(!y.nome||!y.email||!y.senha){console.log("[Login] Campos obrigatórios não preenchidos"),e({title:"Preencha todos os campos!",variant:"destructive"}),_(!1);return}if(y.senha.length<6){console.log("[Login] Senha muito curta"),e({title:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"}),_(!1);return}if(n&&n.some(F=>F.email===y.email)){console.log("[Login] Email já cadastrado"),e({title:"E-mail já cadastrado!",variant:"destructive"}),_(!1);return}const N={nome:y.nome,email:y.email,senha:y.senha,tipo:y.tipo,foto:y.foto,status:"ativo",ultimoAcesso:null};console.log("[Login] FormData completo:",y),console.log("[Login] Tipo selecionado:",y.tipo),console.log("[Login] Salvando usuário:",N);const A=await r(N);console.log("[Login] Usuário salvo com ID:",A),await new Promise(F=>setTimeout(F,1e3));const V=JSON.parse(localStorage.getItem("crm_usuarios")||"[]");console.log("[Login] Usuários após registro:",V),console.log("[Login] Usuário registrado com sucesso!"),e({title:"Usuário registrado com sucesso!",description:"Agora você pode fazer login com suas credenciais."}),_(!1),m(!1),x({nome:"",email:"",senha:"",tipo:"comum",foto:""}),setTimeout(()=>{e({title:"Credenciais de Login",description:`Email: ${N.email} | Senha: ${N.senha}`,duration:5e3})},1e3)}catch(N){console.error("[Login] Erro no registro:",N),e({title:"Erro ao cadastrar usuário!",description:N.message||"Tente novamente.",variant:"destructive"}),_(!1)}};return s?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:i.jsxs(Te.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Carregando sistema..."})]})}):o?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:i.jsxs(Te.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative text-center",children:[i.jsx("div",{className:"text-red-500 mb-4",children:i.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-2",children:"Erro de Conexão"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Não foi possível conectar ao sistema. Verifique sua conexão com a internet."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Tentar Novamente"})]})}):i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 dark:from-blue-900 dark:to-purple-900",children:i.jsxs(Te.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 relative",children:[i.jsx(Te.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:i.jsxs("div",{className:"flex flex-col items-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:p?i.jsx(Gr,{className:"h-8 w-8 text-white"}):i.jsx(kC,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:p?"Criar conta":"Bem-vindo de volta"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:p?"Registre-se para começar a usar":"Faça login para acessar o sistema"})]})}),p?i.jsxs(Te.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:P,autoComplete:"off",children:[i.jsxs("div",{children:[i.jsxs(X,{htmlFor:"nome",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(Gr,{className:"h-4 w-4 inline mr-2"}),"Nome completo"]}),i.jsx(me,{id:"nome",name:"nome",value:y.nome,onChange:R,placeholder:"Digite seu nome completo",className:"pl-10",required:!0})]}),i.jsxs("div",{children:[i.jsxs(X,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(wa,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),i.jsx(me,{id:"email",name:"email",type:"email",value:y.email,onChange:R,placeholder:"Digite seu e-mail",className:"pl-10",required:!0})]}),i.jsxs("div",{children:[i.jsxs(X,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(mx,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),i.jsx(me,{id:"senha",name:"senha",type:"password",value:y.senha,onChange:R,placeholder:"Mínimo 6 caracteres",className:"pl-10",required:!0})]}),i.jsxs("div",{children:[i.jsxs(X,{htmlFor:"tipo",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(oc,{className:"h-4 w-4 inline mr-2"}),"Tipo de Usuário"]}),i.jsxs("select",{id:"tipo",name:"tipo",value:y.tipo,onChange:R,className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[i.jsx("option",{value:"comum",children:"👤 Comum"}),i.jsx("option",{value:"financeiro",children:"💰 Financeiro"}),i.jsx("option",{value:"administrador",children:"👑 Administrador"})]})]}),i.jsxs("div",{children:[i.jsxs(X,{htmlFor:"foto",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(vp,{className:"h-4 w-4 inline mr-2"}),"Foto do perfil (opcional)"]}),i.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-center transition-all duration-200 mb-2 cursor-pointer hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 ${v?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 scale-105":"border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900"}`,onDragEnter:k=>{k.preventDefault(),w(!0)},onDragLeave:k=>{k.preventDefault(),w(!1)},onDragOver:k=>{k.preventDefault(),w(!0)},onDrop:C,onClick:()=>document.getElementById("foto").click(),children:[i.jsx(me,{id:"foto",name:"foto",type:"file",accept:"image/*",onChange:L,className:"hidden"}),y.foto?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("img",{src:y.foto,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-lg mb-2"}),i.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Foto adicionada!"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center mb-3",children:i.jsx(vp,{className:"h-6 w-6 text-slate-500 dark:text-slate-400"})}),i.jsx("span",{className:"block text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Arraste uma imagem ou clique aqui"}),i.jsx("span",{className:"text-xs text-slate-400 mt-1",children:"Formatos: JPG, PNG, GIF (máx. 1MB)"})]})]})]}),i.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:S,children:S?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registrando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Gr,{className:"h-4 w-4"}),"Criar conta",i.jsx(EC,{className:"h-4 w-4"})]})}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>m(!1),children:["Já tem conta?",i.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-semibold",children:"Entrar"})]})})]}):i.jsxs(Te.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-5",onSubmit:I,autoComplete:"off",children:[i.jsxs("div",{children:[i.jsxs(X,{htmlFor:"email",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(wa,{className:"h-4 w-4 inline mr-2"}),"E-mail"]}),i.jsx(me,{id:"email",name:"email",type:"email",value:a.email,onChange:j,placeholder:"Digite seu e-mail",className:"pl-10"}),i.jsxs("div",{className:"flex items-center mt-3",children:[i.jsx("input",{id:"lembrarEmail",type:"checkbox",checked:c,onChange:k=>u(k.target.checked),className:"mr-2 w-4 h-4 rounded border-2 border-blue-400 focus:ring-2 focus:ring-blue-500 transition-all duration-150 checked:bg-blue-600 checked:border-blue-600 hover:border-blue-500",style:{boxShadow:c?"0 0 0 2px #3b82f6":void 0}}),i.jsx(X,{htmlFor:"lembrarEmail",className:"text-sm text-slate-600 dark:text-slate-400 cursor-pointer select-none transition-colors duration-150 hover:text-blue-600 dark:hover:text-blue-400",children:"Lembrar e-mail"})]})]}),i.jsxs("div",{children:[i.jsxs(X,{htmlFor:"senha",className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:[i.jsx(mx,{className:"h-4 w-4 inline mr-2"}),"Senha"]}),i.jsx(me,{id:"senha",name:"senha",type:"password",value:a.senha,onChange:j,placeholder:"Digite sua senha",className:"pl-10"})]}),i.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 disabled:opacity-60 flex items-center justify-center gap-2",disabled:d,children:d?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Entrando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kC,{className:"h-4 w-4"}),"Entrar",i.jsx(EC,{className:"h-4 w-4"})]})}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs("button",{type:"button",className:"text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",onClick:()=>m(!0),children:["Não tem conta?",i.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:"Registrar-se"})]})})]})]})})};var b1="Progress",_1=100,[Hte,gne]=to(b1),[Gte,Yte]=Hte(b1),EO=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Kte,...a}=t;(s||s===0)&&!vN(s)&&console.error(Qte(`${s}`,"Progress"));const l=vN(s)?s:_1;r!==null&&!xN(r,l)&&console.error(Xte(`${r}`,"Progress"));const c=xN(r,l)?r:null,u=Zp(c)?o(c,l):void 0;return i.jsx(Gte,{scope:n,value:c,max:l,children:i.jsx(Qe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Zp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":jO(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});EO.displayName=b1;var TO="ProgressIndicator",NO=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Yte(TO,n);return i.jsx(Qe.div,{"data-state":jO(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});NO.displayName=TO;function Kte(t,e){return`${Math.round(t/e*100)}%`}function jO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Zp(t){return typeof t=="number"}function vN(t){return Zp(t)&&!isNaN(t)&&t>0}function xN(t,e){return Zp(t)&&!isNaN(t)&&t<=e&&t>=0}function Qte(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_1}\`.`}function Xte(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kO=EO,Zte=NO;const PO=g.forwardRef(({className:t,value:e,...n},r)=>i.jsx(kO,{ref:r,className:Ze("relative h-2 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",t),...n,children:i.jsx(Zte,{className:"h-full w-full flex-1 bg-slate-900 transition-all dark:bg-slate-50",style:{transform:`translateX(-${100-(e||0)}%)`}})}));PO.displayName=kO.displayName;class Jte{constructor(){this.localStorageKeys={clientes:"crm_clientes",ordensServico:"crm_os",ordensVenda:"crm_ov",produtos:"crm_produtos",categorias:"crm_categorias",movimentacoes:"crm_movimentacoes",financeiro:"crm_financeiro",usuarios:"crm_usuarios",configuracoes:"crm_configuracoes",configuracoesLoja:"crm_configuracoes_loja"}}async checkLocalStorageData(){const e={};for(const[n,r]of Object.entries(this.localStorageKeys)){const s=localStorage.getItem(r);if(s)try{const o=JSON.parse(s);e[n]={key:r,dados:o,quantidade:Array.isArray(o)?o.length:1}}catch(o){console.error(`Erro ao parsear ${r}:`,o)}}return e}async migrarCollection(e){const n=this.localStorageKeys[e];if(!n)throw new Error(`Chave não encontrada para ${e}`);const r=localStorage.getItem(n);if(!r)return console.log(`[Migration] Nenhum dado encontrado para ${e}`),{migrados:0,erros:0};try{const s=JSON.parse(r);let o=0,a=0;if(console.log(`[Migration] Migrando ${e}...`),e==="configuracoes"||e==="configuracoesLoja")try{await st.saveData(e,s),o=1,console.log(`[Migration] ✅ ${e} migrado com sucesso`)}catch(l){console.error(`[Migration] ❌ Erro ao migrar ${e}:`,l),a=1}else if(Array.isArray(s)){for(const l of s)try{await st.saveData(e,l,l.id),o++}catch(c){console.error(`[Migration] ❌ Erro ao migrar item de ${e}:`,c),a++}console.log(`[Migration] ✅ ${e}: ${o} itens migrados, ${a} erros`)}return{migrados:o,erros:a}}catch(s){return console.error(`[Migration] ❌ Erro geral ao migrar ${e}:`,s),{migrados:0,erros:1}}}async migrarTudoParaFirebase(){console.log("[Migration] 🔄 Iniciando migração completa do localStorage para Firebase...");const e=await this.checkLocalStorageData(),n=Object.keys(e);if(n.length===0)return console.log("[Migration] ✅ Nenhum dado encontrado no localStorage para migrar"),{sucesso:!0,resumo:{}};console.log(`[Migration] 📊 Dados encontrados em ${n.length} coleções:`,e);const r={};let s=0,o=0;for(const a of n){const l=await this.migrarCollection(a);r[a]=l,s+=l.migrados,o+=l.erros}return console.log("[Migration] 📈 Resumo da migração:",r),console.log(`[Migration] ✅ Migração concluída: ${s} itens migrados, ${o} erros`),{sucesso:o===0,resumo:r,totalMigrados:s,totalErros:o}}async limparLocalStorageAposMigracao(){console.log("[Migration] 🧹 Limpando dados do localStorage após migração...");let e=0;for(const[r,s]of Object.entries(this.localStorageKeys))localStorage.getItem(s)&&(localStorage.removeItem(s),e++,console.log(`[Migration] 🗑️ Removido ${s}`));const n=["crm_usuario_logado","crm_email_salvo","crm_lembrar_email","crm_config_cache"];for(const r of n)localStorage.getItem(r)&&(localStorage.removeItem(r),e++,console.log(`[Migration] 🗑️ Removido ${r}`));return console.log(`[Migration] ✅ ${e} chaves removidas do localStorage`),e}async executarMigracaoCompleta(){try{console.log("[Migration] 🚀 Iniciando migração completa...");const e=await this.checkLocalStorageData();if(Object.keys(e).length===0)return console.log("[Migration] ✅ Nenhum dado para migrar"),{sucesso:!0,mensagem:"Nenhum dado encontrado para migrar"};const n=await this.migrarTudoParaFirebase();if(!n.sucesso)return console.log("[Migration] ⚠️ Migração concluída com erros"),{sucesso:!1,mensagem:`Migração concluída com ${n.totalErros} erros`,detalhes:n.resumo};const r=await this.limparLocalStorageAposMigracao();return console.log("[Migration] 🎉 Migração completa bem-sucedida!"),{sucesso:!0,mensagem:`Migração completa! ${n.totalMigrados} itens migrados, ${r} chaves removidas do localStorage`,detalhes:{migrados:n.totalMigrados,removidos:r,resumo:n.resumo}}}catch(e){return console.error("[Migration] ❌ Erro durante migração completa:",e),{sucesso:!1,mensagem:`Erro durante migração: ${e.message}`,erro:e}}}async verificarStatusMigracao(){const e=await this.checkLocalStorageData(),n=Object.keys(e).length>0;return{temDadosLocalStorage:n,dadosEncontrados:e,precisaMigrar:n}}}const ene=new Jte,tne=()=>{g.useContext(wr);const{toast:t}=yr(),[e,n]=g.useState(!1),[r,s]=g.useState({}),[o,a]=g.useState(0),[l,c]=g.useState("configuracoes"),[u,d]=g.useState(null);g.useState(!1);const{config:f,loading:p,saveConfig:m}=i1(),{config:y,loading:x,saveConfig:S}=o1(),{data:_,loading:v,saveUsuario:w,remove:j}=Fc(),{data:R,loading:L,save:C,remove:E}=ag(),{data:I,loading:P,save:k,remove:N}=Lc(),{data:A,loading:V,save:F,remove:q}=Zd(),{data:$,loading:M,save:U,remove:Y}=Jd(),{data:K,loading:ue,save:Se,remove:we}=eh(),{data:ze,loading:Ie,save:fe,remove:Oe}=th(),{data:$e,loading:W,save:he,remove:se}=s1();g.useEffect(()=>{(async()=>{try{const be=await ene.verificarStatusMigracao();d(be)}catch(be){console.error("[TestesDev] Erro ao verificar status da migração:",be)}})()},[]);const je={configuracoes:{titulo:"Configurações",icone:xi,cor:"blue",testes:[{id:"config-sistema",nome:"Configurações do Sistema",descricao:"Testa carregamento e salvamento das configurações principais",funcao:qe},{id:"config-loja",nome:"Configurações da Loja",descricao:"Testa configurações da empresa para documentos impressos",funcao:lt},{id:"config-persistencia",nome:"Persistência de Dados",descricao:"Testa se as configurações são salvas e carregadas corretamente",funcao:B}]},firebase:{titulo:"Firebase",icone:xp,cor:"orange",testes:[{id:"firebase-conexao",nome:"Conexão Firebase",descricao:"Testa conectividade com o Firebase",funcao:ce},{id:"firebase-collections",nome:"Collections",descricao:"Testa acesso a todas as collections",funcao:Ve},{id:"firebase-operacoes",nome:"Operações CRUD",descricao:"Testa criação, leitura, atualização e exclusão",funcao:ke}]},modulos:{titulo:"Módulos",icone:tr,cor:"green",testes:[{id:"modulo-os",nome:"Ordens de Serviço",descricao:"Testa funcionalidades do módulo OS",funcao:Ae},{id:"modulo-clientes",nome:"Clientes",descricao:"Testa funcionalidades do módulo Clientes",funcao:ye},{id:"modulo-ov",nome:"Ordens de Venda",descricao:"Testa funcionalidades do módulo OV",funcao:Je},{id:"modulo-estoque",nome:"Estoque",descricao:"Testa funcionalidades do módulo Estoque",funcao:J}]},responsividade:{titulo:"Responsividade",icone:K9,cor:"purple",testes:[{id:"responsividade-layout",nome:"Layout Responsivo",descricao:"Testa adaptação em diferentes tamanhos de tela",funcao:ee},{id:"responsividade-componentes",nome:"Componentes",descricao:"Testa responsividade de componentes individuais",funcao:ie}]},performance:{titulo:"Performance",icone:dd,cor:"yellow",testes:[{id:"performance-carregamento",nome:"Tempo de Carregamento",descricao:"Mede tempo de carregamento das páginas",funcao:Pe},{id:"performance-memoria",nome:"Uso de Memória",descricao:"Monitora uso de memória do sistema",funcao:nt}]},integridade:{titulo:"Integridade",icone:oc,cor:"red",testes:[{id:"integridade-dados",nome:"Integridade dos Dados",descricao:"Verifica consistência dos dados",funcao:Ct},{id:"integridade-relacoes",nome:"Relações entre Tabelas",descricao:"Testa relacionamentos entre entidades",funcao:vn}]},dadosTeste:{titulo:"Dados de Teste",icone:IC,cor:"indigo",testes:[{id:"criar-todos-dados-teste",nome:"Criar TODOS os Dados de Teste",descricao:"Cadastra clientes, produtos, categorias, OS, OV, financeiro e movimentações",funcao:Yn},{id:"criar-produtos-categorias",nome:"Criar Produtos e Categorias",descricao:"Cadastra apenas produtos e categorias para o estoque",funcao:br},{id:"forcar-atualizacao-hooks",nome:"Forçar Atualização dos Hooks",descricao:"Força os hooks a recarregarem dados do Firebase",funcao:Es},{id:"verificar-dados-firebase",nome:"Verificar Dados no Firebase",descricao:"Verifica se os dados estão realmente salvos no Firebase",funcao:Ts},{id:"limpar-dados-teste",nome:"Limpar Dados de Teste",descricao:"Remove apenas os dados marcados como teste",funcao:or}]}};async function qe(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando configurações do sistema..."),f?(O.detalhes.push("✅ Configurações carregadas com sucesso"),O.detalhes.push(`📋 Nome da empresa: ${f.nomeEmpresa||"N/A"}`),O.detalhes.push(`📋 Tema: ${f.tema||"N/A"}`),O.detalhes.push(`📋 Idioma: ${f.idioma||"N/A"}`)):(O.detalhes.push("❌ Configurações não carregadas"),O.sucesso=!1)}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function lt(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando configurações da loja..."),y?(O.detalhes.push("✅ Configurações da loja carregadas"),O.detalhes.push(`📋 Nome: ${y.nomeEmpresa||"N/A"}`),O.detalhes.push(`📋 Endereço: ${y.endereco||"N/A"}`),O.detalhes.push(`📋 Telefone: ${y.telefone||"N/A"}`)):(O.detalhes.push("❌ Configurações da loja não carregadas"),O.sucesso=!1)}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function B(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando persistência de configurações..."),await m({nomeEmpresa:"Teste MultiSmart",tema:"dark",idioma:"pt-BR",testeDev:!0}),O.detalhes.push("✅ Configuração de teste salva"),f&&(await m(f),O.detalhes.push("✅ Configuração original restaurada"))}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function ce(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando conexão com Firebase...");const te={nome:"Teste Conexão",timestamp:new Date().toISOString(),isTeste:!0},ge=await st.saveData("test_connection",te);O.detalhes.push(`✅ Documento de teste salvo (ID: ${ge})`),await st.deleteDocument("test_connection",ge),O.detalhes.push("✅ Documento de teste removido")}catch(te){O.detalhes.push(`❌ Erro de conexão: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function Ve(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando acesso às collections...");const te=["clientes","produtos","categorias","ordens_servico","ordens_venda","financeiro"];for(const ge of te)try{const de=await st.getData(ge);O.detalhes.push(`✅ ${ge}: ${(de==null?void 0:de.length)||0} documentos`)}catch(de){O.detalhes.push(`❌ ${ge}: ${de.message}`),O.sucesso=!1}}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function ke(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando operações CRUD...");const te={nome:"Teste CRUD",descricao:"Documento de teste para operações CRUD",isTeste:!0,createdAt:new Date().toISOString()},ge=await st.saveData("test_crud",te);O.detalhes.push(`✅ CREATE: Documento criado (ID: ${ge})`),(await st.getData("test_crud")).find(z=>z.id===ge)?O.detalhes.push("✅ READ: Documento encontrado"):(O.detalhes.push("❌ READ: Documento não encontrado"),O.sucesso=!1);const We={...te,nome:"Teste CRUD Atualizado"};await st.saveData("test_crud",We,ge),O.detalhes.push("✅ UPDATE: Documento atualizado"),await st.deleteDocument("test_crud",ge),O.detalhes.push("✅ DELETE: Documento removido")}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function Ae(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando módulo OS..."),R?O.detalhes.push(`✅ Módulo OS carregado: ${R.length} ordens`):(O.detalhes.push("❌ Módulo OS não carregado"),O.sucesso=!1)}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function ye(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando módulo Clientes..."),I?O.detalhes.push(`✅ Módulo Clientes carregado: ${I.length} clientes`):(O.detalhes.push("❌ Módulo Clientes não carregado"),O.sucesso=!1)}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function Je(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando módulo OV..."),A?O.detalhes.push(`✅ Módulo OV carregado: ${A.length} ordens`):(O.detalhes.push("❌ Módulo OV não carregado"),O.sucesso=!1)}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function J(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando módulo Estoque..."),$&&K?O.detalhes.push(`✅ Módulo Estoque carregado: ${$.length} produtos, ${K.length} categorias`):(O.detalhes.push("❌ Módulo Estoque não carregado"),O.sucesso=!1)}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function ee(){var te;const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando responsividade do layout...");const ge=window.innerWidth,de=window.innerHeight,rt=window.devicePixelRatio||1;O.detalhes.push(`📱 Largura: ${ge}px`),O.detalhes.push(`📱 Altura: ${de}px`),O.detalhes.push(`📱 Pixel Ratio: ${rt}`);const We={xs:ge<640,sm:ge>=640&&ge<768,md:ge>=768&&ge<1024,lg:ge>=1024&&ge<1280,xl:ge>=1280&&ge<1536,"2xl":ge>=1536},z=((te=Object.entries(We).find(([el,tl])=>tl))==null?void 0:te[0])||"xs";O.detalhes.push(`📱 Breakpoint ativo: ${z}`);const ne=document.querySelectorAll('[class*="sm:"], [class*="md:"], [class*="lg:"], [class*="xl:"], [class*="2xl:"]');O.detalhes.push(`✅ ${ne.length} elementos com classes responsivas`);const ae=document.querySelectorAll('.container, .max-w-\\[\\d+px\\], [class*="max-w-"]');O.detalhes.push(`📦 ${ae.length} containers responsivos encontrados`);const xe=document.body.scrollWidth,xn=window.innerWidth;xe>xn?(O.detalhes.push(`⚠️ Overflow horizontal detectado: ${xe-xn}px`),O.sucesso=!1):O.detalhes.push("✅ Sem overflow horizontal");const yn=document.documentElement.scrollHeight,ts=document.documentElement.clientHeight;yn>ts&&O.detalhes.push(`📜 Scroll vertical necessário: ${yn-ts}px`)}catch(ge){O.detalhes.push(`❌ Erro: ${ge.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function ie(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando responsividade dos componentes..."),[{nome:"Cards",selector:".bg-white, .bg-slate-800"},{nome:"Botões",selector:"button, .btn"},{nome:"Inputs",selector:"input, textarea, select"},{nome:"Modais",selector:'[role="dialog"], .modal'},{nome:"Tabelas",selector:"table, .table"},{nome:"Grids",selector:".grid, .flex"}].forEach(rt=>{const We=document.querySelectorAll(rt.selector);O.detalhes.push(`📦 ${rt.nome}: ${We.length} elementos`);let z=0;if(We.forEach(ne=>{(ne.className.includes("sm:")||ne.className.includes("md:")||ne.className.includes("lg:")||ne.className.includes("xl:"))&&z++}),We.length>0){const ne=Math.round(z/We.length*100);O.detalhes.push(`  📊 ${ne}% com classes responsivas`),ne<50&&(O.detalhes.push(`  ⚠️ ${rt.nome} precisa de mais responsividade`),O.sucesso=!1)}}),[{nome:"Elementos com largura fixa",selector:'[style*="width:"], [class*="w-\\["]'},{nome:"Elementos sem max-width",selector:'.container:not([class*="max-w"])'},{nome:"Textos sem quebra",selector:'[class*="whitespace-nowrap"]'}].forEach(rt=>{const We=document.querySelectorAll(rt.selector);We.length>0&&(O.detalhes.push(`⚠️ ${rt.nome}: ${We.length} encontrados`),O.sucesso=!1)});const de=document.querySelector('meta[name="viewport"]');de?O.detalhes.push(`✅ Meta viewport encontrada: ${de.content}`):(O.detalhes.push("❌ Meta viewport não encontrada"),O.sucesso=!1)}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function Pe(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 Testando performance de carregamento...");const te=window.performance;if(te){const ge=te.getEntriesByType("navigation")[0];ge&&(O.detalhes.push(`⏱️ Tempo de carregamento: ${Math.round(ge.loadEventEnd-ge.loadEventStart)}ms`),O.detalhes.push(`⏱️ Tempo de DOM: ${Math.round(ge.domContentLoadedEventEnd-ge.domContentLoadedEventStart)}ms`))}}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function nt(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{if(O.detalhes.push("🔄 Testando uso de memória..."),performance.memory){const te=performance.memory;O.detalhes.push(`💾 Memória usada: ${Math.round(te.usedJSHeapSize/1024/1024)}MB`),O.detalhes.push(`💾 Memória total: ${Math.round(te.totalJSHeapSize/1024/1024)}MB`),O.detalhes.push(`💾 Limite de memória: ${Math.round(te.jsHeapSizeLimit/1024/1024)}MB`)}else O.detalhes.push("⚠️ API de memória não disponível")}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function Ct(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{if(O.detalhes.push("🔄 Testando integridade dos dados..."),$&&K){const te=$.filter(ge=>!K.find(de=>de.nome===ge.categoria));te.length>0?O.detalhes.push(`⚠️ ${te.length} produtos sem categoria válida`):O.detalhes.push("✅ Todos os produtos têm categorias válidas")}}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function vn(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{if(O.detalhes.push("🔄 Testando integridade das relações..."),A&&I&&$){const te=A.filter(de=>!I.find(rt=>rt.id===de.clienteId)),ge=A.filter(de=>!$.find(rt=>rt.id===de.produtoId));te.length>0&&O.detalhes.push(`⚠️ ${te.length} ordens sem cliente válido`),ge.length>0&&O.detalhes.push(`⚠️ ${ge.length} ordens sem produto válido`),te.length===0&&ge.length===0&&O.detalhes.push("✅ Todas as relações estão íntegras")}}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function Yn(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🚀 CRIANDO TODOS OS DADOS DE TESTE..."),O.detalhes.push("====================================="),O.detalhes.push("📦 1. Criando categorias...");const te=[{nome:"Smartphones",descricao:"Telefones celulares",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos",cor:"#10B981"},{nome:"Acessórios",descricao:"Acessórios móveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peças para reparo",cor:"#EF4444"}];let ge=0;const de={};for(const gt of te)try{const yt={...gt,isTeste:!0,createdAt:new Date().toISOString()},Ot=await st.saveData("categorias",yt);de[gt.nome]=Ot,ge++,O.detalhes.push(`  ✅ ${gt.nome} (ID: ${Ot})`)}catch(yt){O.detalhes.push(`  ❌ Erro ${gt.nome}: ${yt.message}`)}O.detalhes.push("📱 2. Criando produtos...");const rt=[{nome:"iPhone 14 Pro",categoriaId:de.Smartphones,preco:8999.9,custo:6500,quantidade:15,estoqueMinimo:5,descricao:"iPhone 14 Pro 128GB",codigo:"IPH14P",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBob25lIDE0IFBybzwvdGV4dD4KPC9zdmc+Cjwvc3ZnPgo="},{nome:"Samsung Galaxy S23",categoriaId:de.Smartphones,preco:3999.9,custo:2800,quantidade:20,estoqueMinimo:8,descricao:"Galaxy S23 256GB",codigo:"SGS23",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+U2Ftc3VuZyBHMjM8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"iPhone 13",categoriaId:de.Smartphones,preco:5999.9,custo:4200,quantidade:12,estoqueMinimo:4,descricao:"iPhone 13 128GB",codigo:"IPH13",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBob25lIDEzPC90ZXh0Pgo8L3N2Zz4KPC9zdmc+Cg=="},{nome:"iPad Air",categoriaId:de.Tablets,preco:4999.9,custo:3500,quantidade:10,estoqueMinimo:3,descricao:"iPad Air 64GB",codigo:"IPADAIR",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI1MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgZmlsbD0iIzMzMzMzMyI+aVBhZCBBaXI8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Samsung Galaxy Tab S8",categoriaId:de.Tablets,preco:3999.9,custo:2800,quantidade:8,estoqueMinimo:3,descricao:"Galaxy Tab S8 128GB",codigo:"SGTAB8",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiMwMDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSIzMCIgeT0iNTAiIHdpZHRoPSIxNDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSIzMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+U2Ftc3VuZyBUYWIgUzg8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Capa iPhone 14",categoriaId:de.Acessórios,preco:199.9,custo:80,quantidade:50,estoqueMinimo:20,descricao:"Capa protetora iPhone 14",codigo:"CAPIPH14",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiM4MDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+Q2FwYSBpUGhvbmU8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Carregador USB-C",categoriaId:de.Acessórios,preco:89.9,custo:35,quantidade:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CARUSB",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiM4MDAwODAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+Q2FycmVnYWRvciBVU0I8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Tela iPhone 13",categoriaId:de.Reparos,preco:599.9,custo:200,quantidade:25,estoqueMinimo:10,descricao:"Tela iPhone 13",codigo:"TELIPH13",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiNGRjAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSI0MCIgeT0iNTAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSI0MCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+VGVsYSBpUGhvbmU8L3RleHQ+Cjwvc3ZnPgo8L3N2Zz4K"},{nome:"Bateria Samsung S22",categoriaId:de.Reparos,preco:299.9,custo:120,quantidade:30,estoqueMinimo:15,descricao:"Bateria Galaxy S22",codigo:"BATSGS22",imagem:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iMjAiIGZpbGw9IiNGRjAwMDAiLz4KPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjEwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjE2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjE0MCIgcj0iMTAiIGZpbGw9IiM2NjY2NjYiLz4KPHN2ZyB4PSIzMCIgeT0iNTAiIHdpZHRoPSIxNDAiIGhlaWdodD0iNDAiPgo8dGV4dCB4PSIzMCIgeT0iMjUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzMzMzMzMyI+QmF0ZXJpYSBTYW1zdW5nPC90ZXh0Pgo8L3N2Zz4KPC9zdmc+Cg=="}];let We=0;for(const gt of rt)try{const yt={...gt,isTeste:!0,createdAt:new Date().toISOString()},Ot=await st.saveData("produtos",yt);We++,O.detalhes.push(`  ✅ ${gt.nome} (ID: ${Ot})`)}catch(yt){O.detalhes.push(`  ❌ Erro ${gt.nome}: ${yt.message}`)}O.detalhes.push("👥 3. Criando clientes...");const z=[{nome:"João Silva",email:"joao@email.com",telefone:"(11)99999-9999",endereco:"Rua A, 123"},{nome:"Maria Santos",email:"maria@email.com",telefone:"(11)88888-8888",endereco:"Rua B, 456"},{nome:"Pedro Costa",email:"pedro@email.com",telefone:"(11)77777-7777",endereco:"Rua C, 789"}];let ne=0;for(const gt of z)try{const yt={...gt,isTeste:!0,createdAt:new Date().toISOString()},Ot=await st.saveData("clientes",yt);ne++,O.detalhes.push(`  ✅ ${gt.nome} (ID: ${Ot})`)}catch(yt){O.detalhes.push(`  ❌ Erro ${gt.nome}: ${yt.message}`)}O.detalhes.push("🔧 4. Criando Ordens de Serviço...");const ae=[{clienteNome:"João Silva",clienteTelefone:"(11)99999-9999",titulo:"Troca de tela iPhone 13",senha:"OS001",valor:599.9,status:"Pendente",observacoes:"Cliente relatou tela trincada"},{clienteNome:"Maria Santos",clienteTelefone:"(11)88888-8888",titulo:"Troca de bateria Samsung S22",senha:"OS002",valor:299.9,status:"Concluída",observacoes:"Bateria com baixa duração"},{clienteNome:"Pedro Costa",clienteTelefone:"(11)77777-7777",titulo:"Reparo de carregador",senha:"OS003",valor:89.9,status:"Em Andamento",observacoes:"Carregador não carrega"}];let xe=0;for(const gt of ae)try{const yt={...gt,isTeste:!0,createdAt:new Date().toISOString()},Ot=await st.saveData("ordens_servico",yt);xe++,O.detalhes.push(`  ✅ ${gt.titulo} (ID: ${Ot})`)}catch(yt){O.detalhes.push(`  ❌ Erro OS: ${yt.message}`)}O.detalhes.push("🛒 5. Criando Ordens de Venda...");const xn=[{clienteNome:"João Silva",numero:"OV0001",produtos:[{nome:"iPhone 14 Pro",quantidade:1,precoUnitario:8999.9,total:8999.9}],total:8999.9,status:"Concluída",observacoes:"Venda de iPhone 14 Pro"},{clienteNome:"Maria Santos",numero:"OV0002",produtos:[{nome:"Capa iPhone 14",quantidade:2,precoUnitario:199.9,total:399.8}],total:399.8,status:"Pendente",observacoes:"Venda de capas iPhone 14"}];let yn=0;for(const gt of xn)try{const yt={...gt,isTeste:!0,createdAt:new Date().toISOString()},Ot=await st.saveData("ordens_venda",yt);yn++,O.detalhes.push(`  ✅ ${gt.numero} - ${gt.clienteNome} (ID: ${Ot})`)}catch(yt){O.detalhes.push(`  ❌ Erro OV: ${yt.message}`)}O.detalhes.push("💰 6. Criando Movimentações Financeiras...");const ts=[{tipo:"receber",descricao:"Pagamento OS - Troca de tela",valor:599.9,status:"Pendente",dataVencimento:new Date(Date.now()+7*24*60*60*1e3).toISOString()},{tipo:"pagar",descricao:"Compra de peças",valor:1200,status:"Pendente",dataVencimento:new Date(Date.now()+15*24*60*60*1e3).toISOString()},{tipo:"receber",descricao:"Venda iPhone 14 Pro",valor:8999.9,status:"Concluída",dataVencimento:new Date().toISOString()}];let el=0;for(const gt of ts)try{const yt={...gt,isTeste:!0,createdAt:new Date().toISOString()},Ot=await st.saveData("financeiro",yt);el++,O.detalhes.push(`  ✅ ${gt.descricao} (ID: ${Ot})`)}catch(yt){O.detalhes.push(`  ❌ Erro Financeiro: ${yt.message}`)}O.detalhes.push("📦 7. Criando Movimentações de Estoque...");const tl=[{produtoId:"produto1",produtoNome:"iPhone 14 Pro",tipo:"entrada",quantidade:5,observacao:"Entrada de estoque inicial"},{produtoId:"produto2",produtoNome:"Samsung Galaxy S23",tipo:"saida",quantidade:2,observacao:"Venda para cliente"},{produtoId:"produto3",produtoNome:"iPhone 13",tipo:"entrada",quantidade:3,observacao:"Reposição de estoque"}];let nl=0;for(const gt of tl)try{const yt={...gt,isTeste:!0,createdAt:new Date().toISOString()},Ot=await st.saveData("movimentacoes",yt);nl++,O.detalhes.push(`  ✅ ${gt.tipo} ${gt.quantidade} ${gt.produtoNome} (ID: ${Ot})`)}catch(yt){O.detalhes.push(`  ❌ Erro Movimentação: ${yt.message}`)}O.detalhes.push("====================================="),O.detalhes.push("✅ RESUMO COMPLETO:"),O.detalhes.push(`  📦 ${ge} categorias`),O.detalhes.push(`  📱 ${We} produtos`),O.detalhes.push(`  👥 ${ne} clientes`),O.detalhes.push(`  🔧 ${xe} ordens de serviço`),O.detalhes.push(`  🛒 ${yn} ordens de venda`),O.detalhes.push(`  💰 ${el} movimentações financeiras`),O.detalhes.push(`  📦 ${nl} movimentações de estoque`),O.detalhes.push("✅ Todos os dados marcados como teste")}catch(te){O.detalhes.push(`❌ Erro geral: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function br(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("📦 CRIANDO APENAS PRODUTOS E CATEGORIAS..."),O.detalhes.push("=========================================="),O.detalhes.push("📂 Criando categorias...");const te=[{nome:"Smartphones",descricao:"Telefones celulares inteligentes",cor:"#3B82F6"},{nome:"Tablets",descricao:"Tablets e dispositivos portáteis",cor:"#10B981"},{nome:"Acessórios",descricao:"Acessórios para dispositivos móveis",cor:"#F59E0B"},{nome:"Reparos",descricao:"Peças para reparo de dispositivos",cor:"#EF4444"}];let ge=0;for(const We of te)try{const z={...We,isTeste:!0,createdAt:new Date().toISOString()},ne=await st.saveData("categorias",z);ge++,O.detalhes.push(`  ✅ ${We.nome} (ID: ${ne})`)}catch(z){O.detalhes.push(`  ❌ Erro ${We.nome}: ${z.message}`)}O.detalhes.push("📱 Criando produtos...");const de=[{nome:"iPhone 14 Pro",categoria:"Smartphones",preco:8999.9,custo:6500,estoque:15,estoqueMinimo:5,descricao:"Smartphone Apple iPhone 14 Pro 128GB",codigo:"IPH14P-128"},{nome:"Samsung Galaxy S23",categoria:"Smartphones",preco:3999.9,custo:2800,estoque:20,estoqueMinimo:8,descricao:"Smartphone Samsung Galaxy S23 256GB",codigo:"SGS23-256"},{nome:"iPhone 13",categoria:"Smartphones",preco:5999.9,custo:4200,estoque:12,estoqueMinimo:4,descricao:"Smartphone Apple iPhone 13 128GB",codigo:"IPH13-128"},{nome:"Samsung Galaxy A54",categoria:"Smartphones",preco:1999.9,custo:1400,estoque:25,estoqueMinimo:10,descricao:"Smartphone Samsung Galaxy A54 128GB",codigo:"SGA54-128"},{nome:"Xiaomi Redmi Note 12",categoria:"Smartphones",preco:1299.9,custo:900,estoque:18,estoqueMinimo:6,descricao:"Smartphone Xiaomi Redmi Note 12 128GB",codigo:"XRN12-128"},{nome:"Motorola Edge 40",categoria:"Smartphones",preco:2499.9,custo:1750,estoque:8,estoqueMinimo:3,descricao:"Smartphone Motorola Edge 40 256GB",codigo:"ME40-256"},{nome:"iPad Air",categoria:"Tablets",preco:4999.9,custo:3500,estoque:10,estoqueMinimo:3,descricao:"Tablet Apple iPad Air 64GB",codigo:"IPAD-AIR-64"},{nome:'iPad Pro 11"',categoria:"Tablets",preco:6999.9,custo:4900,estoque:6,estoqueMinimo:2,descricao:'Tablet Apple iPad Pro 11" 128GB',codigo:"IPAD-PRO11-128"},{nome:"Samsung Galaxy Tab S8",categoria:"Tablets",preco:3999.9,custo:2800,estoque:8,estoqueMinimo:3,descricao:"Tablet Samsung Galaxy Tab S8 128GB",codigo:"SGT-S8-128"},{nome:'iPad 10.9"',categoria:"Tablets",preco:3999.9,custo:2800,estoque:12,estoqueMinimo:4,descricao:'Tablet Apple iPad 10.9" 64GB',codigo:"IPAD-109-64"},{nome:"Samsung Galaxy Tab A8",categoria:"Tablets",preco:1299.9,custo:900,estoque:15,estoqueMinimo:5,descricao:"Tablet Samsung Galaxy Tab A8 32GB",codigo:"SGT-A8-32"},{nome:"Lenovo Tab P11",categoria:"Tablets",preco:1999.9,custo:1400,estoque:9,estoqueMinimo:3,descricao:"Tablet Lenovo Tab P11 128GB",codigo:"LT-P11-128"},{nome:"Capa iPhone 14",categoria:"Acessórios",preco:199.9,custo:80,estoque:50,estoqueMinimo:20,descricao:"Capa protetora para iPhone 14",codigo:"CAP-IPH14"},{nome:"Carregador USB-C",categoria:"Acessórios",preco:89.9,custo:35,estoque:100,estoqueMinimo:30,descricao:"Carregador USB-C 20W",codigo:"CAR-USB20W"},{nome:"Fone Bluetooth AirPods",categoria:"Acessórios",preco:1299.9,custo:650,estoque:25,estoqueMinimo:8,descricao:"Fone Bluetooth Apple AirPods 3ª geração",codigo:"FB-AP3"},{nome:"Película Vidro iPhone",categoria:"Acessórios",preco:49.9,custo:15,estoque:80,estoqueMinimo:25,descricao:"Película de vidro temperado para iPhone",codigo:"PEL-IPH"},{nome:"Cabo Lightning",categoria:"Acessórios",preco:79.9,custo:25,estoque:60,estoqueMinimo:20,descricao:"Cabo Lightning 1m Apple",codigo:"CAB-LIGHT"},{nome:"Power Bank 10000mAh",categoria:"Acessórios",preco:199.9,custo:80,estoque:30,estoqueMinimo:10,descricao:"Power Bank 10000mAh com entrada USB-C",codigo:"PB-10K"},{nome:"Tela iPhone 13",categoria:"Reparos",preco:599.9,custo:200,estoque:25,estoqueMinimo:10,descricao:"Tela de reposição iPhone 13",codigo:"TEL-IPH13"},{nome:"Bateria Samsung S22",categoria:"Reparos",preco:299.9,custo:120,estoque:30,estoqueMinimo:15,descricao:"Bateria de reposição Galaxy S22",codigo:"BAT-SGS22"},{nome:"Tela Samsung A54",categoria:"Reparos",preco:399.9,custo:150,estoque:20,estoqueMinimo:8,descricao:"Tela de reposição Samsung Galaxy A54",codigo:"TEL-SGA54"},{nome:"Conector iPhone 14",categoria:"Reparos",preco:149.9,custo:60,estoque:35,estoqueMinimo:12,descricao:"Conector de carregamento iPhone 14",codigo:"CON-IPH14"},{nome:"Bateria iPhone 13",categoria:"Reparos",preco:249.9,custo:100,estoque:28,estoqueMinimo:10,descricao:"Bateria de reposição iPhone 13",codigo:"BAT-IPH13"},{nome:"Câmera Traseira Samsung",categoria:"Reparos",preco:199.9,custo:80,estoque:15,estoqueMinimo:5,descricao:"Câmera traseira Samsung Galaxy S23",codigo:"CAM-SGS23"}];let rt=0;for(const We of de)try{const z={...We,isTeste:!0,createdAt:new Date().toISOString()},ne=await st.saveData("produtos",z);rt++,O.detalhes.push(`  ✅ ${We.nome} (ID: ${ne})`)}catch(z){O.detalhes.push(`  ❌ Erro ${We.nome}: ${z.message}`)}O.detalhes.push("=========================================="),O.detalhes.push(`✅ RESUMO: ${ge} categorias, ${rt} produtos`),O.detalhes.push("✅ Todos os dados marcados como teste")}catch(te){O.detalhes.push(`❌ Erro geral: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function Es(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔄 FORÇANDO ATUALIZAÇÃO DOS HOOKS..."),O.detalhes.push("====================================="),O.detalhes.push("📊 Dados atuais dos hooks:"),O.detalhes.push(`  📦 Categorias: ${(K==null?void 0:K.length)||0}`),O.detalhes.push(`  📱 Produtos: ${($==null?void 0:$.length)||0}`),O.detalhes.push(`  👥 Clientes: ${(I==null?void 0:I.length)||0}`),O.detalhes.push(`  📋 OS: ${(R==null?void 0:R.length)||0}`),O.detalhes.push(`  🛒 OV: ${(A==null?void 0:A.length)||0}`),O.detalhes.push(`  💰 Financeiro: ${(ze==null?void 0:ze.length)||0}`),O.detalhes.push(`  📊 Movimentações: ${($e==null?void 0:$e.length)||0}`),O.detalhes.push("🔍 Verificando dados direto do Firebase...");const te=await st.getData("categorias"),ge=await st.getData("produtos"),de=await st.getData("clientes");O.detalhes.push("📊 Dados direto do Firebase:"),O.detalhes.push(`  📦 Categorias: ${(te==null?void 0:te.length)||0}`),O.detalhes.push(`  📱 Produtos: ${(ge==null?void 0:ge.length)||0}`),O.detalhes.push(`  👥 Clientes: ${(de==null?void 0:de.length)||0}`),(K==null?void 0:K.length)!==(te==null?void 0:te.length)&&(O.detalhes.push("⚠️ DIFERENÇA: Categorias - Hook vs Firebase"),O.detalhes.push(`  Hook: ${(K==null?void 0:K.length)||0}, Firebase: ${(te==null?void 0:te.length)||0}`)),($==null?void 0:$.length)!==(ge==null?void 0:ge.length)&&(O.detalhes.push("⚠️ DIFERENÇA: Produtos - Hook vs Firebase"),O.detalhes.push(`  Hook: ${($==null?void 0:$.length)||0}, Firebase: ${(ge==null?void 0:ge.length)||0}`)),(I==null?void 0:I.length)!==(de==null?void 0:de.length)&&(O.detalhes.push("⚠️ DIFERENÇA: Clientes - Hook vs Firebase"),O.detalhes.push(`  Hook: ${(I==null?void 0:I.length)||0}, Firebase: ${(de==null?void 0:de.length)||0}`)),O.detalhes.push("✅ Verificação concluída")}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function Ts(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🔍 VERIFICANDO DADOS NO FIREBASE..."),O.detalhes.push("=====================================");const te=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const ge of te)try{const de=await st.getData(ge),rt=(de==null?void 0:de.filter(We=>We.isTeste))||[];O.detalhes.push(`📊 ${ge.toUpperCase()}:`),O.detalhes.push(`  Total: ${(de==null?void 0:de.length)||0}`),O.detalhes.push(`  Teste: ${rt.length}`),rt.length>0&&(O.detalhes.push("  Exemplos:"),rt.slice(0,3).forEach((We,z)=>{O.detalhes.push(`    ${z+1}. ${We.nome||We.tipo||"Item"} (ID: ${We.id})`)}))}catch(de){O.detalhes.push(`❌ Erro ao verificar ${ge}: ${de.message}`)}O.detalhes.push("✅ Verificação concluída")}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}async function or(){const O={sucesso:!0,detalhes:[],tempo:0},be=Date.now();try{O.detalhes.push("🗑️ LIMPANDO DADOS DE TESTE..."),O.detalhes.push("=====================================");const te=["categorias","produtos","clientes","ordens_servico","ordens_venda","financeiro","movimentacoes"];for(const ge of te)try{const de=await st.getData(ge),rt=(de==null?void 0:de.filter(We=>We.isTeste))||[];O.detalhes.push(`🗑️ ${ge.toUpperCase()}: ${rt.length} itens de teste`);for(const We of rt)try{await st.deleteDocument(ge,We.id),O.detalhes.push(`  ✅ Removido: ${We.nome||We.tipo||"Item"} (ID: ${We.id})`)}catch(z){O.detalhes.push(`  ❌ Erro ao remover ${We.id}: ${z.message}`)}}catch(de){O.detalhes.push(`❌ Erro ao limpar ${ge}: ${de.message}`)}O.detalhes.push("✅ Limpeza concluída")}catch(te){O.detalhes.push(`❌ Erro: ${te.message}`),O.sucesso=!1}return O.tempo=Date.now()-be,O}const es=async O=>{n(!0),a(0);const be=je[O];if(!be)return;const te=be.testes,ge=te.length;for(let de=0;de<ge;de++){const rt=te[de];a(de/ge*100);try{const We=await rt.funcao();s(z=>({...z,[rt.id]:We}))}catch(We){s(z=>({...z,[rt.id]:{sucesso:!1,detalhes:[`❌ Erro: ${We.message}`],tempo:0}}))}}a(100),n(!1)},_r=async O=>{n(!0);try{const be=await O.funcao();s(te=>({...te,[O.id]:be}))}catch(be){s(te=>({...te,[O.id]:{sucesso:!1,detalhes:[`❌ Erro: ${be.message}`],tempo:0}}))}n(!1)},an=()=>{s({}),a(0)},ir=()=>{const O={timestamp:new Date().toISOString(),sistema:{nome:"CRM MultiSmart",versao:"1.0.0",ambiente:"desenvolvimento"},resumo:{totalTestes:Object.keys(r).length,testesPassaram:Object.values(r).filter(de=>de.sucesso).length,testesFalharam:Object.values(r).filter(de=>!de.sucesso).length,tempoTotal:Object.values(r).reduce((de,rt)=>de+(rt.tempo||0),0)},categorias:je,resultados:r,configuracaoSistema:{configuracoesFirebase:f,configLoja:y,usuarios:(_==null?void 0:_.length)||0,ordensServico:(R==null?void 0:R.length)||0,clientes:(I==null?void 0:I.length)||0,ordensVenda:(A==null?void 0:A.length)||0,produtos:($==null?void 0:$.length)||0,categorias:(K==null?void 0:K.length)||0},statusCarregamento:{configLoading:p,configLojaLoading:x,usuariosLoading:v,osLoading:L,clientesLoading:P,ovLoading:V,produtosLoading:M,categoriasLoading:ue}},be=new Blob([JSON.stringify(O,null,2)],{type:"application/json"}),te=URL.createObjectURL(be),ge=document.createElement("a");ge.href=te,ge.download=`testes-dev-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(te),t({title:"Logs exportados",description:"Arquivo de logs baixado com sucesso"})};return i.jsxs("div",{className:"space-y-8",children:[i.jsx(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl p-6 lg:p-8 text-white shadow-2xl",children:i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 lg:gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold flex items-center gap-2 lg:gap-3",children:[i.jsx(IC,{className:"h-8 w-8 lg:h-10 lg:w-10"}),"Testes DEV"]}),i.jsx("p",{className:"text-purple-100 text-base lg:text-lg",children:"Ferramentas de desenvolvimento e teste do sistema"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-purple-100",children:"Status"}),i.jsx("p",{className:"text-xl font-bold text-green-200",children:e?"Executando...":"Pronto"})]}),i.jsxs("div",{className:"bg-white/20 rounded-lg px-4 py-2",children:[i.jsx("p",{className:"text-sm text-purple-100",children:"Testes"}),i.jsx("p",{className:"text-xl font-bold",children:Object.keys(r).length})]})]})]})}),i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 p-6 border-b border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-pink-500 rounded-lg",children:i.jsx(dd,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ações Rápidas"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Execute testes e gerencie resultados"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs(Q,{variant:"outline",onClick:an,disabled:e,className:"flex items-center gap-2",children:[i.jsx(hI,{className:"h-4 w-4"}),"Limpar Resultados"]}),i.jsxs(Q,{variant:"outline",onClick:ir,disabled:e,className:"flex items-center gap-2",children:[i.jsx(xp,{className:"h-4 w-4"}),"Exportar Logs"]})]})})]}),i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs(lc,{value:l,onValueChange:c,className:"w-full",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-600",children:i.jsx(La,{className:"grid w-full grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-2 h-auto p-1",children:Object.entries(je).map(([O,be])=>{const te=be.icone;return i.jsxs(Nn,{value:O,className:"flex flex-col items-center gap-2 p-3 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[i.jsx(te,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:be.titulo})]},O)})})}),Object.entries(je).map(([O,be])=>i.jsxs(jn,{value:O,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg",children:i.jsx(be.icone,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:be.titulo}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[be.testes.length," testes disponíveis"]})]})]}),i.jsxs(Q,{onClick:()=>es(O),disabled:e,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[i.jsx(PC,{className:"h-4 w-4 mr-2"}),"Executar Todos"]})]}),i.jsx("div",{className:"grid gap-4",children:be.testes.map((te,ge)=>i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ge*.1},className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-6 border border-slate-200 dark:border-slate-600 hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:te.nome}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:te.descricao}),r[te.id]&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dr,{variant:r[te.id].sucesso?"default":"destructive",className:"text-xs",children:r[te.id].sucesso?"✅ PASSOU":"❌ FALHOU"}),i.jsxs("span",{className:"text-xs text-slate-500",children:[r[te.id].tempo,"ms"]})]})]}),i.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>_r(te),disabled:e,className:"ml-4",children:[i.jsx(PC,{className:"h-4 w-4 mr-2"}),"Executar"]})]})},te.id))})]},O))]})}),e&&i.jsx(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Executando Testes..."}),i.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:[Math.round(o),"%"]})]}),i.jsx(PO,{value:o,className:"w-full h-3"})]})}),Object.keys(r).length>0&&i.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:i.jsx(Pa,{className:"h-6 w-6 text-white"})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Resultados dos Testes"})]}),i.jsx("div",{className:"grid gap-4",children:Object.entries(r).map(([O,be])=>i.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[be.sucesso?i.jsx(Pa,{className:"h-6 w-6 text-green-500"}):i.jsx(rz,{className:"h-6 w-6 text-red-500"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:O})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dr,{variant:be.sucesso?"default":"destructive",children:be.sucesso?"✅ PASSOU":"❌ FALHOU"}),i.jsxs("span",{className:"text-sm text-slate-500",children:[be.tempo,"ms"]})]})]}),i.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4",children:i.jsx("div",{className:"space-y-2",children:be.detalhes.map((te,ge)=>i.jsx("div",{className:"text-sm font-mono text-slate-700 dark:text-slate-300",children:te},ge))})})]})},O))})]})]})},wr=g.createContext();function nne(){var $;const[t,e]=g.useState("dashboard"),[n,r]=g.useState(!0),[s,o]=g.useState(!1),[a,l]=g.useState(!1),[c,u]=g.useState("pt-BR"),[d,f]=g.useState({clientes:!1,os:!1,ov:!1}),[p,m]=g.useState(null),[y,x]=g.useState(null),{config:S,loading:_,saveConfig:v}=i1(),w=S||{nomeEmpresa:"CRM MultiSmart",tema:"dark",idioma:"pt-BR"},j=M=>f(U=>({...U,[M]:!0})),R=M=>f(U=>({...U,[M]:!1})),L=M=>{x(M)},C=()=>{x(null)};g.useEffect(()=>{console.log("[App] Carregando configurações iniciais...");const M=localStorage.getItem("crm_usuario_logado");M&&(m(JSON.parse(M)),console.log("[App] Usuário logado carregado:",JSON.parse(M)))},[]),g.useEffect(()=>{w&&!_&&(console.log("[App] Configurações carregadas do Firebase:",w),u(w.idioma||"pt-BR"),P(w))},[w,_]);const E=M=>{console.log("[App] handleLogin chamado com usuário:",M),m(M),localStorage.setItem("crm_usuario_logado",JSON.stringify(M)),console.log("[App] Login realizado e estado atualizado:",M)},I=()=>{console.log("[App] Logout realizado:",p),m(null),localStorage.removeItem("crm_usuario_logado"),e("dashboard")};g.useEffect(()=>{const M=U=>{const Y=U.detail;console.log("[App] 🔄 Evento configuracoesAtualizadas recebido:",Y),Y.idioma&&(u(Y.idioma),console.log("[App] ✅ Idioma atualizado:",Y.idioma)),P(Y)};return window.addEventListener("configuracoesAtualizadas",M),console.log("[App] ✅ Listener configuracoesAtualizadas registrado"),()=>{window.removeEventListener("configuracoesAtualizadas",M),console.log("[App] ✅ Listener configuracoesAtualizadas removido")}},[]);const P=M=>{if(console.log("[App] Aplicando configurações:",M),M.tema){const U=M.tema==="dark";r(U),document.documentElement.className=M.tema==="dark"?"dark":M.tema==="light"?"":"system",console.log("[App] Tema aplicado:",M.tema)}if(M.corPrimaria&&(document.documentElement.style.setProperty("--primary-color",M.corPrimaria),document.documentElement.style.setProperty("--primary-500",M.corPrimaria),document.documentElement.style.setProperty("--primary-600",k(M.corPrimaria,-20)),console.log("[App] Cor primária aplicada:",M.corPrimaria)),M.corSecundaria&&(document.documentElement.style.setProperty("--secondary-color",M.corSecundaria),document.documentElement.style.setProperty("--secondary-500",M.corSecundaria),document.documentElement.style.setProperty("--secondary-600",k(M.corSecundaria,-20)),console.log("[App] Cor secundária aplicada:",M.corSecundaria)),M.logoUrl){const U=document.querySelector('img[alt="Logo da empresa"]');U?U.src=M.logoUrl:console.warn("[App] Elemento de logo não encontrado no DOM.")}if(M.nomeEmpresa){document.title=M.nomeEmpresa;const U=document.querySelector("h1.text-xl");U?U.textContent=M.nomeEmpresa:console.warn("[App] Elemento de nome da empresa não encontrado no DOM.")}},k=(M,U)=>{const Y=parseInt(M.replace("#",""),16),K=Math.round(2.55*U),ue=(Y>>16)+K,Se=(Y>>8&255)+K,we=(Y&255)+K;return"#"+(16777216+(ue<255?ue<1?0:ue:255)*65536+(Se<255?Se<1?0:Se:255)*256+(we<255?we<1?0:we:255)).toString(16).slice(1)};g.useEffect(()=>{const M=()=>{window.innerWidth<1024?(l(!0),o(!1),console.log("[App] Sidebar recolhida por responsividade (window < 1024px)")):(o(!0),console.log("[App] Sidebar expandida por responsividade (window >= 1024px)"))};return M(),window.addEventListener("resize",M),console.log("[App] Listener de resize registrado"),()=>window.removeEventListener("resize",M)},[]);const A=(M=>{console.log("[App] ===== DETERMINANDO MÓDULOS ====="),console.log("[App] Tipo do usuário recebido:",M);const U=[{id:"dashboard",name:"nav.dashboard",icon:W9},{id:"clientes",name:"nav.clientes",icon:ps},{id:"os",name:"nav.os",icon:Pr},{id:"ov",name:"nav.ov",icon:cs},{id:"estoque",name:"nav.estoque",icon:tr},{id:"financeiro",name:"nav.financeiro",icon:er},{id:"relatorios",name:"nav.relatorios",icon:R9},{id:"configuracoes",name:"nav.configuracoes",icon:xi}];M==="desenvolvedor"&&(console.log("[App] 🚀 USUÁRIO DESENVOLVEDOR DETECTADO - Adicionando Testes DEV"),U.push({id:"testes-dev",name:"🧪 Testes DEV",icon:xi}));const Y=M==="administrador"?"admin":M||"comum";console.log("[App] Tipo de usuário processado:",Y);const K=Y==="admin"||Y==="desenvolvedor"?U:Y==="financeiro"?U.filter(ue=>["dashboard","clientes","os","ov","estoque","financeiro","configuracoes"].includes(ue.id)):Y==="comum"?U.filter(ue=>["dashboard","clientes","os","ov","estoque","configuracoes"].includes(ue.id)):U.filter(ue=>ue.id==="dashboard");return console.log("[App] Módulos permitidos para tipo",Y,":",K.map(ue=>ue.id)),console.log("[App] ===== FIM DETERMINAÇÃO MÓDULOS ====="),K})(p==null?void 0:p.tipo),V=()=>{switch(console.log("[App] Renderizando módulo ativo:",t),t){case"dashboard":return i.jsx(gN,{usuarioLogado:p});case"clientes":return i.jsx(cX,{usuarioLogado:p});case"os":return i.jsx(uX,{usuarioLogado:p});case"ov":return i.jsx(dX,{usuarioLogado:p});case"estoque":return i.jsx(dZ,{usuarioLogado:p});case"financeiro":return i.jsx(fZ,{usuarioLogado:p});case"relatorios":return i.jsx(Vte,{usuarioLogado:p});case"configuracoes":return i.jsx(qte,{usuarioLogado:p});case"testes-dev":return i.jsx(tne,{});default:return i.jsx(gN,{usuarioLogado:p})}},F=()=>{const M=w.nomeEmpresa||"Sistema",U=w.logoUrl;return i.jsxs("div",{className:"flex items-center gap-3",children:[U?i.jsx("img",{src:U,alt:"Logo da empresa",className:"h-14 w-14 rounded object-contain shadow-lg"}):i.jsx("div",{className:"h-14 w-14 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-white font-bold text-2xl",children:M.charAt(0).toUpperCase()})}),i.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:M})]})},q=()=>{const M=w.nomeEmpresa||"Sistema",U=w.logoUrl;return i.jsx("div",{className:"flex flex-col items-center gap-2",children:U?i.jsx("img",{src:U,alt:"Logo da empresa",className:"h-8 w-8 rounded object-contain"}):i.jsx("div",{className:"h-8 w-8 rounded bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-sm",children:M.charAt(0).toUpperCase()})})})};return p?(console.log("[App] Usuário logado, mostrando dashboard:",p),console.log("[App] Tipo do usuário:",p==null?void 0:p.tipo),console.log("[App] Módulos disponíveis:",A),_&&!w?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Carregando..."})]})}):i.jsxs(wr.Provider,{value:{activeModule:t,setActiveModule:e,darkMode:n,setDarkMode:r,sidebarOpen:s,setSidebarOpen:o,sidebarCollapsed:a,setSidebarCollapsed:l,configuracoes:w,currentLanguage:c,setCurrentLanguage:u,dialogs:d,openDialog:j,closeDialog:R,usuarioLogado:p,produtoParaReporEstoque:y,definirProdutoParaReporEstoque:L,limparProdutoParaReporEstoque:C},children:[i.jsxs(i.Fragment,{children:[i.jsx(J0,{children:i.jsx("title",{children:w.nomeEmpresa||"CRM Multismart"})}),i.jsxs("div",{className:"min-h-screen flex bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-50 transition-colors duration-300",children:[i.jsx("button",{onClick:()=>o(!s),className:"fixed top-4 left-4 z-50 lg:hidden p-2 rounded-md bg-white dark:bg-slate-800 shadow-lg border border-slate-200 dark:border-slate-700",children:i.jsx(H9,{className:"h-6 w-6"})}),s&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>o(!1)}),i.jsx("aside",{className:`fixed left-0 top-0 h-full bg-white/90 dark:bg-slate-950/90 backdrop-blur-lg border-r border-slate-200 dark:border-slate-800 z-40 ${a?"w-20":"w-72"} transition-all duration-300 ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:`p-6 flex items-center mb-8 ${a?"justify-center":"justify-between"}`,children:a?q():F()}),i.jsx("nav",{className:"flex-1 space-y-2 px-4",children:A.map(M=>{const U=M.icon;return i.jsxs("button",{onClick:()=>{e(M.id),window.innerWidth<1024&&o(!1)},className:`w-full flex items-center space-x-3 py-3 rounded-lg text-left transition-all duration-200 ${a?"justify-center px-0":"px-4"} ${t===M.id?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[i.jsx(U,{className:"h-5 w-5 flex-shrink-0"}),!a&&i.jsx("span",{className:"font-medium whitespace-nowrap overflow-hidden",children:Ce(M.name,c)})]},M.id)})}),p&&i.jsxs("div",{className:`flex items-center gap-3 mb-4 px-4 w-full ${a?"justify-center":""}`,style:{minHeight:"56px"},children:[p.foto?i.jsx("img",{src:p.foto,alt:p.nome,className:"h-10 w-10 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600 shadow-md"}):i.jsx("span",{className:"inline-block h-10 w-10 rounded-full bg-slate-300 dark:bg-slate-700 text-slate-700 dark:text-slate-200 flex items-center justify-center font-bold",children:($=p.nome)==null?void 0:$.charAt(0).toUpperCase()}),!a&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm",children:p.nome}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const M=n?"light":"dark";r(!n);const U={...w,tema:M};P(U),console.log("[App] Tema alterado via botão:",M)},className:"hover:bg-slate-100 dark:hover:bg-slate-800 ml-1",children:n?i.jsx(X9,{className:"h-5 w-5"}):i.jsx(Q9,{className:"h-5 w-5"})}),i.jsx(Q,{size:"sm",variant:"outline",className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-3 py-1 rounded-lg shadow-md transition-colors ml-auto",onClick:I,children:"Sair"})]})]}),i.jsx("div",{className:"hidden lg:flex p-4 border-t border-slate-200 dark:border-slate-800",children:i.jsx(Q,{variant:"ghost",onClick:()=>l(!a),className:"w-full",children:i.jsx(cI,{className:"h-5 w-5",style:{transform:a?"rotate(180deg)":"none",transition:"transform 0.3s"}})})})]})}),i.jsx("main",{className:`flex-1 transition-all duration-300 ${a?"ml-20":"ml-72"} p-4 lg:p-6 pt-16 lg:pt-12`,children:V()})]})]}),i.jsx(PU,{})]})):(console.log("[App] Usuário não logado, mostrando tela de login"),i.jsx(Wte,{onLogin:E}))}r0.createRoot(document.getElementById("root")).render(i.jsx(Fe.StrictMode,{children:i.jsx(nne,{})}));
